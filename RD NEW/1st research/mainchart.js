(window.webpackJsonp = window.webpackJsonp || []).push([
  ["main_chart", 2, 3, 4, 5, 13, 28, 29, 36, 37, 40, 41, 42, 43, 50, 52, 54, 55, 64, 68, 69, 70, 73, 75, 77, 78, 79, 83, 89, 90, 100, 103, 104, 106, 112, 116, 120, 126, 132, 137, 141, 148, 154, 167, 171, 184, 188, "global-notification-tools", "idc-agreement", "load-chart-service", "price-alerts-dispatcher", "screener-alerts", "tvscript_chunk", 202, 208, 210, 219, 230, 231, 242, 251, 252, 273, 279], {
    "+6ja": function (e, t, i) {
      "use strict";

      function n(e) {
        for (var t = 0; t < h.length; t++)
          if (e === h[t].id) return !0;
        return !1
      }
      var o, r, s, a, l, c, u, h;
      for (i.r(t), i.d(t, "availableTimezones", function () {
          return h
        }), i.d(t, "timezoneIsAvailable", function () {
          return n
        }), i("YFKU"), o = i("U/gD"), r = [{
          id: "Etc/UTC",
          title: window.t("UTC")
        }, {
          id: "exchange",
          title: window.t("Exchange")
        }], a = 0, l = s = [{
          id: "Africa/Cairo",
          title: window.t("Cairo"),
          offset: 0
        }, {
          id: "Africa/Johannesburg",
          title: window.t("Johannesburg"),
          offset: 0
        }, {
          id: "Africa/Lagos",
          title: window.t("Lagos"),
          offset: 0
        }, {
          id: "America/Argentina/Buenos_Aires",
          title: window.t("Buenos Aires"),
          offset: 0
        }, {
          id: "America/Bogota",
          title: window.t("Bogota"),
          offset: 0
        }, {
          id: "America/Caracas",
          title: window.t("Caracas"),
          offset: 0
        }, {
          id: "America/Chicago",
          title: window.t("Chicago"),
          offset: 0
        }, {
          id: "America/El_Salvador",
          title: window.t("San Salvador"),
          offset: 0
        }, {
          id: "America/Juneau",
          title: window.t("Juneau"),
          offset: 0
        }, {
          id: "America/Lima",
          title: window.t("Lima"),
          offset: 0
        }, {
          id: "America/Los_Angeles",
          title: window.t("Los Angeles"),
          offset: 0
        }, {
          id: "America/Mexico_City",
          title: window.t("Mexico City"),
          offset: 0
        }, {
          id: "America/New_York",
          title: window.t("New York"),
          offset: 0
        }, {
          id: "America/Phoenix",
          title: window.t("Phoenix"),
          offset: 0
        }, {
          id: "America/Santiago",
          title: window.t("Santiago"),
          offset: 0
        }, {
          id: "America/Sao_Paulo",
          title: window.t("Sao Paulo"),
          offset: 0
        }, {
          id: "America/Toronto",
          title: window.t("Toronto"),
          offset: 0
        }, {
          id: "America/Vancouver",
          title: window.t("Vancouver"),
          offset: 0
        }, {
          id: "Asia/Almaty",
          title: window.t("Almaty"),
          offset: 0
        }, {
          id: "Asia/Ashkhabad",
          title: window.t("Ashkhabad"),
          offset: 0
        }, {
          id: "Asia/Bahrain",
          title: window.t("Bahrain"),
          offset: 0
        }, {
          id: "Asia/Bangkok",
          title: window.t("Bangkok"),
          offset: 0
        }, {
          id: "Asia/Chongqing",
          title: window.t("Chongqing"),
          offset: 0
        }, {
          id: "Asia/Dubai",
          title: window.t("Dubai"),
          offset: 0
        }, {
          id: "Asia/Ho_Chi_Minh",
          title: window.t("Ho Chi Minh"),
          offset: 0
        }, {
          id: "Asia/Hong_Kong",
          title: window.t("Hong Kong"),
          offset: 0
        }, {
          id: "Asia/Jakarta",
          title: window.t("Jakarta"),
          offset: 0
        }, {
          id: "Asia/Jerusalem",
          title: window.t("Jerusalem"),
          offset: 0
        }, {
          id: "Asia/Kolkata",
          title: window.t("Kolkata"),
          offset: 0
        }, {
          id: "Asia/Kuwait",
          title: window.t("Kuwait"),
          offset: 0
        }, {
          id: "Asia/Muscat",
          title: window.t("Muscat"),
          offset: 0
        }, {
          id: "Asia/Qatar",
          title: window.t("Qatar"),
          offset: 0
        }, {
          id: "Asia/Riyadh",
          title: window.t("Riyadh"),
          offset: 0
        }, {
          id: "Asia/Seoul",
          title: window.t("Seoul"),
          offset: 0
        }, {
          id: "Asia/Shanghai",
          title: window.t("Shanghai"),
          offset: 0
        }, {
          id: "Asia/Singapore",
          title: window.t("Singapore"),
          offset: 0
        }, {
          id: "Asia/Taipei",
          title: window.t("Taipei"),
          offset: 0
        }, {
          id: "Asia/Tehran",
          title: window.t("Tehran"),
          offset: 0
        }, {
          id: "Asia/Tokyo",
          title: window.t("Tokyo"),
          offset: 0
        }, {
          id: "Atlantic/Reykjavik",
          title: window.t("Reykjavik"),
          offset: 0
        }, {
          id: "Australia/Adelaide",
          title: window.t("Adelaide"),
          offset: 0
        }, {
          id: "Australia/Brisbane",
          title: window.t("Brisbane"),
          offset: 0
        }, {
          id: "Australia/Perth",
          title: window.t("Perth"),
          offset: 0
        }, {
          id: "Australia/Sydney",
          title: window.t("Sydney"),
          offset: 0
        }, {
          id: "Europe/Athens",
          title: window.t("Athens"),
          offset: 0
        }, {
          id: "Europe/Belgrade",
          title: window.t("Belgrade"),
          offset: 0
        }, {
          id: "Europe/Berlin",
          title: window.t("Berlin"),
          offset: 0
        }, {
          id: "Europe/Copenhagen",
          title: window.t("Copenhagen"),
          offset: 0
        }, {
          id: "Europe/Helsinki",
          title: window.t("Helsinki"),
          offset: 0
        }, {
          id: "Europe/Istanbul",
          title: window.t("Istanbul"),
          offset: 0
        }, {
          id: "Europe/London",
          title: window.t("London"),
          offset: 0
        }, {
          id: "Europe/Luxembourg",
          title: window.t("Luxembourg"),
          offset: 0
        }, {
          id: "Europe/Madrid",
          title: window.t("Madrid"),
          offset: 0
        }, {
          id: "Europe/Moscow",
          title: window.t("Moscow"),
          offset: 0
        }, {
          id: "Europe/Oslo",
          title: window.t("Oslo"),
          offset: 0
        }, {
          id: "Europe/Paris",
          title: window.t("Paris"),
          offset: 0
        }, {
          id: "Europe/Riga",
          title: window.t("Riga"),
          offset: 0
        }, {
          id: "Europe/Rome",
          title: window.t("Rome"),
          offset: 0
        }, {
          id: "Europe/Stockholm",
          title: window.t("Stockholm"),
          offset: 0
        }, {
          id: "Europe/Tallinn",
          title: window.t("Tallinn"),
          offset: 0
        }, {
          id: "Europe/Vilnius",
          title: window.t("Vilnius"),
          offset: 0
        }, {
          id: "Europe/Warsaw",
          title: window.t("Warsaw"),
          offset: 0
        }, {
          id: "Europe/Zurich",
          title: window.t("Zurich"),
          offset: 0
        }, {
          id: "Pacific/Auckland",
          title: window.t("New Zealand"),
          offset: 0
        }, {
          id: "Pacific/Chatham",
          title: window.t("Chatham Islands"),
          offset: 0
        }, {
          id: "Pacific/Fakaofo",
          title: window.t("Tokelau"),
          offset: 0
        }, {
          id: "Pacific/Honolulu",
          title: window.t("Honolulu"),
          offset: 0
        }, {
          id: "Pacific/Norfolk",
          title: window.t("Norfolk Island"),
          offset: 0
        }]; a < l.length; a++) c = l[a], u = Object(o.a)(c.id), c.title = "(" + u.string + ") " + c.title, c.offset = u.offset;
      s.sort(function (e, t) {
        var i = e.offset - t.offset;
        return 0 !== i ? i : e.title.localeCompare(t.title)
      }), h = r.concat(s)
    },
    "+9ng": function (e, t, i) {
      "use strict";

      function n(e) {
        s.call(this, e), this.width = this._calculateWidth(e.barSpacing), this._isUp = !1
      }

      function o(e) {
        n.call(this, e), this._isUp = !0
      }

      function r(e) {
        n.call(this, e), this._isUp = !1
      }
      var s = i("c0/O").PaneRendererAbstractShape;
      inherit(n, s), n.prototype._calculateWidth = function (e) {
          return e = e || this.barSpacing, Math.round(e / 4)
        }, n.prototype.drawShape = function (e) {
          var t, i, n, o, r, s, a, l, c = !1,
            u = this.width,
            h = Math.abs(this.height),
            d = u < 4,
            p = Math.max(parseInt(u / 2), 1),
            f = Math.round(this.width / 2),
            _ = Math.round(this.width),
            m = this._isUp ? -1 : 1;
          for (i = 0, n = this.items.length; i < n; i++) r = (o = this.items[i]).x, s = o.y + this._vertOffset + m * Math.round(h / 2), o.style && null != o.style.color ? (a = o.style.color, l = o.style.borderColor) : (a = this._color, l = this._borderColor), a !== t && (t = a, c && (e.fill(), e.stroke()), e.beginPath(), e.fillStyle = a, e.strokeStyle = l), e.translate(r, s), d ? (e.moveTo(0, 0), e.lineTo(-f, -f * m), e.moveTo(0, 0), e.lineTo(f, -f * m), e.moveTo(0, 0), e.lineTo(0, -h * m), e.moveTo(-f, -h * m), e.lineTo(f, -h * m), e.lineWidth = p) : (e.moveTo(0, 0), h < _ ? (e.lineTo(u, -h * m), e.lineTo(-u, -h * m)) : (e.lineTo(u, -_ * m), e.lineTo(f, -_ * m), e.lineTo(f, -h * m), e.lineTo(-f, -h * m), e.lineTo(-f, -_ * m), e.lineTo(-u, -_ * m)), e.lineTo(0, 0)), e.translate(-r, -s), c = !0;
          c && (e.fill(), e.stroke())
        }, inherit(o, n),
        inherit(r, n), t.PaneRendererArrowBase = TradingView.PaneRendererArrowBase = n, t.PaneRendererArrowUp = TradingView.PaneRendererArrowUp = o, t.PaneRendererArrowDown = TradingView.PaneRendererArrowDown = r
    },
    "+GxX": function (e, t, i) {
      "use strict";
      var n = i("VVxS").TVLocalStorage;
      i("qFKp"), TradingView.FeatureToggle = {
        force_prefix: "forcefeaturetoggle.",
        enableFeature: function (e) {
          n.setItem(this.force_prefix + e, "true")
        },
        disableFeature: function (e) {
          n.setItem(this.force_prefix + e, "false")
        },
        resetFeature: function (e) {
          n.removeItem(this.force_prefix + e)
        }
      }, TradingView.isFeatureEnabled = function (e) {
        function t(t) {
          var i = Math.random() <= e[t];
          return n.setItem(o + t, i), i
        }
        var o = "featuretoggle.";
        return TradingView.onWidget() || Promise.all([i.e(104), i.e(210)]).then(function (n) {
            i("TxTq").on("featuretoggle", function (i) {
              e[i.name] = i.state, t(i.name)
            })
          }.bind(null, i)).catch(i.oe),
          function (i) {
            var r;
            return !("local" !== window.environment || ! function (e) {
              return -1 === ["alert_email_to_sms", "black_friday_mainpage", "black_friday_popup", "black_friday", "broker_ALOR_dev", "datawindow", "hide-copy-readonly", "chart_sharing", "pwa", "hide-alert-controls-on-property-page", "order_countries_zip"].indexOf(e) && -1 === e.indexOf("-maintenance")
            }(i)) || (!e[i] || -1 !== e[i]) && (!!("true" === n.getItem(TradingView.FeatureToggle.force_prefix + i) || window.is_authenticated && "undefined" != typeof user && user.settings && "true" === user.settings[TradingView.FeatureToggle.force_prefix + i]) || !("false" === n.getItem(TradingView.FeatureToggle.force_prefix + i) || window.is_authenticated && "undefined" != typeof user && user.settings && "false" === user.settings[TradingView.FeatureToggle.force_prefix + i]) && (!!e[i] && (1 === e[i] || (void 0 === (r = n.getItem(o + i)) || null === r ? t(i) : "true" === r))))
          }
      }(window.featureToggleState || {}), t.FeatureToggle = TradingView.FeatureToggle, t.isFeatureEnabled = TradingView.isFeatureEnabled
    },
    "+NSa": function (e, t, i) {
      "use strict";

      function n(e) {
        s.call(this, e)
      }

      function o(e) {
        s.call(this, e)
      }

      function r(e) {
        s.call(this, e)
      }
      var s = i("c0/O").PaneRendererAbstractShape;
      inherit(n, s), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c = this.width,
          u = this.height,
          h = Math.round(u / 3),
          d = this._vertOffset - 2 * h,
          p = !1;
        for (i = 0, n = this.items.length; i < n; i++)(o = this.items[i]).style && null != o.style.color ? (r = o.style.color, s = o.style.borderColor) : (r = this._color, s = this._borderColor), r !== t && (t = r, p && (e.fill(), e.stroke()), e.beginPath(), e.fillStyle = r, e.strokeStyle = s), a = o.x, l = o.y + d, e.moveTo(a, l), e.lineTo(a + c / 2, l + u), e.lineTo(a - c / 2, l + u), e.lineTo(a, l), p = !0;
        p && (e.fill(), e.stroke())
      }, inherit(o, s), o.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c = this.width,
          u = this.height,
          h = Math.round(u / 3),
          d = this._vertOffset - h,
          p = !1;
        for (i = 0, n = this.items.length; i < n; i++)(o = this.items[i]).style && null != o.style.color ? (r = o.style.color, s = o.style.borderColor) : (r = this._color, s = this._borderColor), r !== t && (t = r, p && (e.fill(), e.stroke()), e.beginPath(), e.fillStyle = r, e.strokeStyle = s), a = o.x - c / 2, l = o.y + d, e.moveTo(a, l), e.lineTo(a + c, l), e.lineTo(a + c / 2, l + u), e.lineTo(a, l), p = !0;
        p && (e.fill(), e.stroke())
      }, inherit(r, s), r.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l = this.width,
          c = this.height,
          u = this._vertOffset,
          h = !1;
        for (i = 0,
          n = this.items.length; i < n; i++)(r = (o = this.items[i]).style && null != o.style.color ? o.style.color : this._color) !== t && (t = r, h && e.fill(), e.beginPath(), e.fillStyle = r), s = o.x + l / 2, a = o.y - c / 2 + u, e.moveTo(s, a), e.lineTo(s, a + c), e.lineTo(s - l, a + c / 2), e.lineTo(s, a), h = !0;
        h && e.fill()
      }, t.PaneRendererTriangleApexUp = TradingView.PaneRendererTriangleApexUp = n, t.PaneRendererTriangleApexDown = TradingView.PaneRendererTriangleApexDown = o, t.PaneRendererTriangleApexLeft = TradingView.PaneRendererTriangleApexLeft = r
    },
    "+QnZ": function (e, t, i) {
      "use strict";

      function n(e, t, i, n, o) {
        this._wptStudyId = n, this._pointsCount = o, g.call(this, e, t, i)
      }

      function o(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_down1ora", 2)
      }

      function r(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_down2orb", 2)
      }

      function s(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_down3", 3)
      }

      function a(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_down4", 2)
      }

      function l(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_down5", 5)
      }

      function c(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_downc", 3)
      }

      function u(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_up1ora", 2)
      }

      function h(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_up2orb", 2)
      }

      function d(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_up3", 3)
      }

      function p(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_up4", 2)
      }

      function f(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_up5", 5)
      }

      function _(e, t, i) {
        n.call(this, e, t, i, "mtp_wpt_upc", 3)
      }
      var m = i("Eyy1").assert,
        g = i("Txy0").LineStudyMtp;
      inherit(n, g), n.prototype._studyInputs = function (e) {
          var t, i, n, o;
          for (m(e.length === this.pointsCount(), "all the line tool points should be defined"), t = {
              displayZoneLabels: this.properties().inputs.displayZoneLabels.value()
            }, i = 0; i < this.pointsCount(); ++i) {
            if (n = e[i].index, null === (o = this._model.mainSeries().bars().valueAt(n))) return null;
            t["bar" + i] = 1e3 * o[TradingView.TIME_PLOT]
          }
          return t
        }, n.prototype._mtpStudyId = function () {
          return this._wptStudyId
        }, n.prototype.pointsCount = function () {
          return this._pointsCount
        }, inherit(o, n), o.getTooltipText = function (e) {
          return "Down Wave 1 or A: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(r, n), r.getTooltipText = function (e) {
          return "Down Wave 2 or B: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(s, n), s.getTooltipText = function (e) {
          return "Down Wave 3: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(a, n), a.getTooltipText = function (e) {
          return "Down Wave 4: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(l, n), l.getTooltipText = function (e) {
          return "Down Wave 5: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(c, n), c.getTooltipText = function (e) {
          return "Down Wave C: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(u, n), u.getTooltipText = function (e) {
          return "Up Wave 1 or A: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(h, n), h.getTooltipText = function (e) {
          return "Up Wave 2 or B: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(d, n), d.getTooltipText = function (e) {
          return "Up Wave 3: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(p, n), p.getTooltipText = function (e) {
          return "Up Wave 4: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(f, n), f.getTooltipText = function (e) {
          return "Up Wave 5: Select Point " + ((e ? e._points.length : 0) + 1)
        }, inherit(_, n), _.getTooltipText = function (e) {
          return "Up Wave C: Select Point " + ((e ? e._points.length : 0) + 1)
        },
        t.LineStudyMtpDownWave1OrA = o, t.LineStudyMtpDownWave2OrB = r, t.LineStudyMtpDownWave3 = s, t.LineStudyMtpDownWave4 = a, t.LineStudyMtpDownWave5 = l, t.LineStudyMtpDownWaveC = c, t.LineStudyMtpUpWave1OrA = u, t.LineStudyMtpUpWave2OrB = h, t.LineStudyMtpUpWave3 = d, t.LineStudyMtpUpWave4 = p, t.LineStudyMtpUpWave5 = f, t.LineStudyMtpUpWaveC = _
    },
    "+h+m": function (e, t, i) {
      "use strict";

      function n(e, t) {
        return Object(l.fetch)(e, {
          method: "POST",
          credentials: "same-origin",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(t)
        })
      }

      function o(e, t, o) {
        return r.__awaiter(this, void 0, void 0, function () {
          var l, d, p, f, _, m, g;
          return r.__generator(this, function (y) {
            switch (y.label) {
              case 0:
                return [4, function (e) {
                  return r.__awaiter(this, void 0, void 0, function () {
                    return r.__generator(this, function (t) {
                      switch (t.label) {
                        case 0:
                          return a.CheckMobile.iOS() ? [2, ""] : [4, h];
                        case 1:
                          return t.sent(), [2, window.grecaptcha.execute(window.RECAPTCHA_SITE_KEY_V3, {
                            action: e
                          })]
                      }
                    })
                  })
                }(o)];
              case 1:
                return p = y.sent(), f = r.__assign(((l = {})[c] = p, l), t), [4, n(e, f)];
              case 2:
                return [4, y.sent().json()];
              case 3:
                return (_ = y.sent()).rc_v2_required || _.rc_fail ? [4, Promise.all([i.e("vendors"), i.e(6), i.e(8), i.e(9), i.e(10), i.e(25), i.e(306), i.e(7), i.e("recaptcha-popup")]).then(i.bind(null, "6jL0")).then(function (e) {
                  return e.createRecaptchaPopup()
                })] : [2, _];
              case 4:
                return m = y.sent(), g = r.__assign(((d = {})[u] = m, d), t), [4, n(e, g)];
              case 5:
                return [4, y.sent().json()];
              case 6:
                if ((_ = y.sent()).rc_fail) throw new Error(s.t("reCAPTCHA check failed. Please, try again."));
                return [2, _]
            }
          })
        })
      }
      var r, s, a, l, c, u, h;
      i.r(t), r = i("mrSG"), i("bSeV"), i("d1kB"), s = i("YFKU"), a = i("qFKp"), l = i("BHQF"), i.d(t, "RC_RESPONSE_PARAM", function () {
        return c
      }), i.d(t, "RC_RESPONSE_PARAM_V2", function () {
        return u
      }), i.d(t, "recaptchaLoaded", function () {
        return h
      }), i.d(t, "protectedFetch", function () {
        return o
      }), c = "g-recaptcha-response", u = "g-recaptcha-response-v2", h = new Promise(function (e, t) {
        var i, n;
        if (Object(a.isOnMobileAppPage)("any")) return e();
        (i = document.createElement("script")).src = "https://www.recaptcha.net/recaptcha/api.js?render=" + window.RECAPTCHA_SITE_KEY_V3 + "&hl=" + window.language, i.onload = function () {
          window.grecaptcha.ready(e)
        }, i.onerror = t, (n = document.querySelector("head")) && n.appendChild(i)
      })
    },
    "+hLl": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolBrush";
        var r = t || n.createProperties();
        o.call(this, e, r), this._finished = !1, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("00XE").BrushPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return -1
      }, n.prototype.finished = function () {
        return this._finished
      }, n.prototype.finish = function () {
        this._finished = !0, this._lastPoint = null, this.normalizePoints(), this.createServerPoints()
      }, n.prototype.title = function () {
        return "Brush"
      }, n.prototype.name = function () {
        return "Brush"
      }, n.prototype.percentDistance = function (e, t) {
        return Math.abs((t - e) / e)
      }, n.prototype.addPoint = function (e) {
        var t, i;
        return !!this._finished || (this._lastPoint = null,
          this._points.length > 0 && (t = this._points[this._points.length - 1], i = this.pointToScreenPoint(t)[1], this.pointToScreenPoint(e)[1].subtract(i).length() < 2) ? this._finished : (o.prototype.addPoint.call(this, e), this._finished))
      }, n.prototype.restorePoints = function (e, t, i) {
        o.prototype.restorePoints.call(this, e, t, i), this._finished = !0
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolBrushStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolbrush", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolBrush = n
    },
    "+lbv": function (e) {
      e.exports = {
        free: {
          CHART_STORAGE: {
            limit: 1
          },
          MULTIPLE_CHARTS: {
            limit: 1
          },
          INDICATORS_ON_CHART: {
            limit: 3
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 1
          },
          SERVER_SIDE_ALERTS: {
            limit: 1
          },
          SCREENER_ALERTS: {
            limit: 1
          },
          SCREENER_INTERVALS: {
            interval: ["1D", "1W", "1M"]
          },
          STUDY_TEMPLATES: {
            limit: 1
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          }
        },
        __legacy_pro: {
          CHART_STORAGE: {
            limit: 99999
          },
          MULTIPLE_CHARTS: {
            limit: 8
          },
          CUSTOM_INTERVALS: {},
          MULTIPLE_WATCHLISTS: {},
          IMPORT_WATCHLISTS: {},
          EXPORT_WATCHLISTS: {},
          INDICATORS_ON_CHART: {
            limit: 99999
          },
          EXTENDED_SESSION: {},
          TV_VOLUMEBYPRICE: {
            study_packages: ["tv-volumebyprice"]
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 99999
          },
          TICK_BY_TICK_PUSH_DATA: {},
          SERVER_SIDE_ALERTS: {
            limit: 10
          },
          SCREENER_ALERTS: {
            limit: 10
          },
          SCREENER_AUTO_REFRESH: {},
          SCREENER_EXPORT_DATA: {},
          SCREENER_INTERVALS: {
            interval: ["1m", "5m", "15m", "1h", "4h", "1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          NO_SPONSORED_ADS: {},
          STUDY_TEMPLATES: {
            limit: 99999
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          },
          IDC_AVAILABLE_DELAY: {},
          STATUS: {
            disable_on_trial: !0
          },
          ADDONS: {},
          MULTIFLAGGED_SYMBOLS_LISTS: {},
          BAR_REPLAY_INTRADAY: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        __legacy_pro_realtime: {
          CHART_STORAGE: {
            limit: 99999
          },
          MULTIPLE_CHARTS: {
            limit: 8
          },
          CUSTOM_INTERVALS: {},
          MULTIPLE_WATCHLISTS: {},
          IMPORT_WATCHLISTS: {},
          EXPORT_WATCHLISTS: {},
          INDICATORS_ON_CHART: {
            limit: 99999
          },
          EXTENDED_SESSION: {},
          TV_PROSTUDIES: {
            study_packages: ["tv-prostudies"]
          },
          TV_VOLUMEBYPRICE: {
            study_packages: ["tv-volumebyprice"]
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 99999
          },
          TICK_BY_TICK_PUSH_DATA: {},
          SERVER_SIDE_ALERTS: {
            limit: 1e3
          },
          SCREENER_ALERTS: {
            limit: 30
          },
          SCREENER_AUTO_REFRESH: {},
          SCREENER_EXPORT_DATA: {},
          SCREENER_INTERVALS: {
            interval: ["1m", "5m", "15m", "1h", "4h", "1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          NO_SPONSORED_ADS: {},
          CAN_EDIT_PUBLIC_CHATS: {
            disable_on_trial: !0
          },
          STUDY_TEMPLATES: {
            limit: 99999
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          },
          IDC_AVAILABLE_DELAY: {},
          STATUS: {
            disable_on_trial: !0
          },
          ADDONS: {},
          BAR_REPLAY_INTRADAY: {},
          MULTIFLAGGED_SYMBOLS_LISTS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        __legacy_pro_premium: {
          CHART_STORAGE: {
            limit: 99999
          },
          MULTIPLE_CHARTS: {
            limit: 8
          },
          CUSTOM_INTERVALS: {},
          MULTIPLE_WATCHLISTS: {},
          IMPORT_WATCHLISTS: {},
          EXPORT_WATCHLISTS: {},
          INDICATORS_ON_CHART: {
            limit: 99999
          },
          EXTENDED_SESSION: {},
          TV_PROSTUDIES: {
            study_packages: ["tv-prostudies"]
          },
          TV_VOLUMEBYPRICE: {
            study_packages: ["tv-volumebyprice"]
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 99999
          },
          TICK_BY_TICK_PUSH_DATA: {},
          SERVER_SIDE_ALERTS: {
            limit: 1e3
          },
          SCREENER_ALERTS: {
            limit: 100
          },
          SCREENER_AUTO_REFRESH: {},
          SCREENER_EXPORT_DATA: {},
          SCREENER_INTERVALS: {
            interval: ["1m", "5m", "15m", "1h", "4h", "1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          ALERTS_TRUE_SMS: {
            disable_on_trial: !0
          },
          NO_SPONSORED_ADS: {},
          CAN_EDIT_PUBLIC_CHATS: {
            disable_on_trial: !0
          },
          STUDY_TEMPLATES: {
            limit: 99999
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          },
          IDEA_SIGNATURE: {
            disable_on_trial: !0
          },
          PROFILE_WEBSITE_FIELD: {
            disable_on_trial: !0
          },
          IDC_AVAILABLE_DELAY: {},
          STATUS: {
            disable_on_trial: !0
          },
          ALERTS_NO_EXPIRATION: {},
          ADDONS: {},
          BAR_REPLAY_INTRADAY: {},
          MULTIFLAGGED_SYMBOLS_LISTS: {},
          PUBLISH_INVITE_ONLY_SCRIPTS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        pro: {
          CHART_STORAGE: {
            limit: 5
          },
          MULTIPLE_CHARTS: {
            limit: 2
          },
          CUSTOM_INTERVALS: {},
          MULTIPLE_WATCHLISTS: {},
          IMPORT_WATCHLISTS: {},
          EXPORT_WATCHLISTS: {},
          INDICATORS_ON_CHART: {
            limit: 5
          },
          EXTENDED_SESSION: {},
          TV_VOLUMEBYPRICE: {
            study_packages: ["tv-volumebyprice"]
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 1
          },
          TICK_BY_TICK_PUSH_DATA: {},
          SERVER_SIDE_ALERTS: {
            limit: 10
          },
          SCREENER_ALERTS: {
            limit: 10
          },
          SCREENER_AUTO_REFRESH: {},
          SCREENER_EXPORT_DATA: {},
          SCREENER_INTERVALS: {
            interval: ["1m", "5m", "15m", "1h", "4h", "1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          NO_SPONSORED_ADS: {},
          STUDY_TEMPLATES: {
            limit: 99999
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          },
          IDC_AVAILABLE_DELAY: {},
          STATUS: {
            disable_on_trial: !0
          },
          ADDONS: {},
          BAR_REPLAY_INTRADAY: {},
          MULTIFLAGGED_SYMBOLS_LISTS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        pro_realtime: {
          CHART_STORAGE: {
            limit: 10
          },
          MULTIPLE_CHARTS: {
            limit: 4
          },
          CUSTOM_INTERVALS: {},
          MULTIPLE_WATCHLISTS: {},
          IMPORT_WATCHLISTS: {},
          EXPORT_WATCHLISTS: {},
          INDICATORS_ON_CHART: {
            limit: 10
          },
          EXTENDED_SESSION: {},
          TV_PROSTUDIES: {
            study_packages: ["tv-prostudies"]
          },
          TV_VOLUMEBYPRICE: {
            study_packages: ["tv-volumebyprice"]
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 99999
          },
          TICK_BY_TICK_PUSH_DATA: {},
          SERVER_SIDE_ALERTS: {
            limit: 30
          },
          SCREENER_ALERTS: {
            limit: 30
          },
          SCREENER_AUTO_REFRESH: {},
          SCREENER_EXPORT_DATA: {},
          SCREENER_INTERVALS: {
            interval: ["1m", "5m", "15m", "1h", "4h", "1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          NO_SPONSORED_ADS: {},
          CAN_EDIT_PUBLIC_CHATS: {
            disable_on_trial: !0
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 2
          },
          STUDY_TEMPLATES: {
            limit: 99999
          },
          IDC_AVAILABLE_DELAY: {},
          STATUS: {
            disable_on_trial: !0
          },
          ADDONS: {},
          BAR_REPLAY_INTRADAY: {},
          MULTIFLAGGED_SYMBOLS_LISTS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        pro_premium: {
          CHART_STORAGE: {
            limit: 99999
          },
          MULTIPLE_CHARTS: {
            limit: 8
          },
          CUSTOM_INTERVALS: {},
          MULTIPLE_WATCHLISTS: {},
          IMPORT_WATCHLISTS: {},
          EXPORT_WATCHLISTS: {},
          INDICATORS_ON_CHART: {
            limit: 25
          },
          EXTENDED_SESSION: {},
          TV_PROSTUDIES: {
            study_packages: ["tv-prostudies"]
          },
          TV_VOLUMEBYPRICE: {
            study_packages: ["tv-volumebyprice"]
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 99999
          },
          TICK_BY_TICK_PUSH_DATA: {},
          SERVER_SIDE_ALERTS: {
            limit: 200
          },
          SCREENER_ALERTS: {
            limit: 100
          },
          SCREENER_AUTO_REFRESH: {},
          SCREENER_EXPORT_DATA: {},
          SCREENER_INTERVALS: {
            interval: ["1m", "5m", "15m", "1h", "4h", "1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          NO_SPONSORED_ADS: {},
          CAN_EDIT_PUBLIC_CHATS: {
            disable_on_trial: !0
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 5
          },
          STUDY_TEMPLATES: {
            limit: 99999
          },
          ALERTS_TRUE_SMS: {
            disable_on_trial: !0
          },
          IDEA_SIGNATURE: {
            disable_on_trial: !0
          },
          PROFILE_WEBSITE_FIELD: {
            disable_on_trial: !0
          },
          IDC_AVAILABLE_DELAY: {},
          STATUS: {
            disable_on_trial: !0
          },
          ALERTS_NO_EXPIRATION: {},
          ADDONS: {},
          BAR_REPLAY_INTRADAY: {},
          MULTIFLAGGED_SYMBOLS_LISTS: {},
          PUBLISH_INVITE_ONLY_SCRIPTS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        limitless: {
          CHART_STORAGE: {
            limit: 99999
          },
          MULTIPLE_CHARTS: {
            limit: 8
          },
          CUSTOM_INTERVALS: {},
          MULTIPLE_WATCHLISTS: {},
          IMPORT_WATCHLISTS: {},
          EXPORT_WATCHLISTS: {},
          INDICATORS_ON_CHART: {
            limit: 99999
          },
          EXTENDED_SESSION: {},
          TV_PROSTUDIES: {
            study_packages: ["tv-prostudies"]
          },
          TV_VOLUMEBYPRICE: {
            study_packages: ["tv-volumebyprice"]
          },
          STUDY_ON_STUDY: {
            limit: 99999,
            child_limit: 99999
          },
          TICK_BY_TICK_PUSH_DATA: {},
          SERVER_SIDE_ALERTS: {
            limit: 99999
          },
          SCREENER_ALERTS: {
            limit: 1e3
          },
          SCREENER_AUTO_REFRESH: {},
          SCREENER_EXPORT_DATA: {},
          SCREENER_INTERVALS: {
            interval: ["1m", "5m", "15m", "1h", "4h", "1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          NO_SPONSORED_ADS: {},
          CAN_EDIT_PUBLIC_CHATS: {
            disable_on_trial: !0
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 99999
          },
          STUDY_TEMPLATES: {
            limit: 99999
          },
          ALERTS_TRUE_SMS: {
            disable_on_trial: !0
          },
          IDEA_SIGNATURE: {
            disable_on_trial: !0
          },
          PROFILE_WEBSITE_FIELD: {
            disable_on_trial: !0
          },
          IDC_AVAILABLE_DELAY: {},
          IDC_NO_NEED_AGREEMENT: {},
          STATUS: {
            disable_on_trial: !0
          },
          ALERTS_NO_EXPIRATION: {},
          ADDONS: {},
          BAR_REPLAY_INTRADAY: {},
          MULTIFLAGGED_SYMBOLS_LISTS: {},
          PUBLISH_INVITE_ONLY_SCRIPTS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        pro_mini_alerts: {
          CHART_STORAGE: {
            limit: 1
          },
          MULTIPLE_CHARTS: {
            limit: 1
          },
          INDICATORS_ON_CHART: {
            limit: 3
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 1
          },
          SERVER_SIDE_ALERTS: {
            limit: 30
          },
          SCREENER_ALERTS: {
            limit: 30
          },
          SCREENER_INTERVALS: {
            interval: ["1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          STUDY_TEMPLATES: {
            limit: 1
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          },
          ADDONS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        pro_mini_ads: {
          CHART_STORAGE: {
            limit: 1
          },
          MULTIPLE_CHARTS: {
            limit: 1
          },
          INDICATORS_ON_CHART: {
            limit: 3
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 1
          },
          SERVER_SIDE_ALERTS: {
            limit: 1
          },
          SCREENER_ALERTS: {
            limit: 1
          },
          SCREENER_INTERVALS: {
            interval: ["1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          STUDY_TEMPLATES: {
            limit: 1
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          },
          NO_SPONSORED_ADS: {},
          ADDONS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        pro_mini_layouts: {
          CHART_STORAGE: {
            limit: 1
          },
          MULTIPLE_CHARTS: {
            limit: 8
          },
          INDICATORS_ON_CHART: {
            limit: 3
          },
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 1
          },
          SERVER_SIDE_ALERTS: {
            limit: 1
          },
          SCREENER_ALERTS: {
            limit: 1
          },
          SCREENER_INTERVALS: {
            interval: ["1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          STUDY_TEMPLATES: {
            limit: 1
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          },
          ADDONS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        },
        pro_edu: {
          CHART_STORAGE: {
            limit: 3
          },
          MULTIPLE_CHARTS: {
            limit: 2
          },
          MULTIPLE_WATCHLISTS: {},
          IMPORT_WATCHLISTS: {},
          EXPORT_WATCHLISTS: {},
          INDICATORS_ON_CHART: {
            limit: 3
          },
          EXTENDED_SESSION: {},
          STUDY_ON_STUDY: {
            limit: 270,
            child_limit: 1
          },
          TICK_BY_TICK_PUSH_DATA: {},
          SERVER_SIDE_ALERTS: {
            limit: 5
          },
          SCREENER_ALERTS: {
            limit: 5
          },
          SCREENER_INTERVALS: {
            interval: ["1D", "1W", "1M"]
          },
          SCREENER_REALTIME_IDC: {},
          STUDY_TEMPLATES: {
            limit: 1
          },
          SIMULTANEOUS_CONNECTIONS: {
            limit: 1
          },
          ADDONS: {},
          SHOWS: {
            disable_on_trial: !0
          }
        }
      }
    },
    "//lt": function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "PaneCursorType", function () {
          return n
        }),
        function (e) {
          e[e.Default = 0] = "Default", e[e.Pointer = 1] = "Pointer", e[e.Eraser = 2] = "Eraser", e[e.Dot = 3] = "Dot", e[e.Grabbing = 4] = "Grabbing", e[e.ZoomIn = 5] = "ZoomIn",
            e[e.VerticalResize = 6] = "VerticalResize"
        }(n || (n = {}))
    },
    "/3z9": function (e, t, i) {
      "use strict";

      function n(e) {
        var t = 0;
        return e.shiftKey && (t += 1024), e.altKey && (t += 512), e.ctrlKey && (t += 256), e.metaKey && (t += 2048), t
      }

      function o(e) {
        return n(e) | e.keyCode
      }

      function r(e) {
        var t = "";
        return 256 & e && (t += l ? "^" : "Ctrl + "), 512 & e && (t += l ? "âŒ¥" : "Alt + "), 1024 & e && (t += l ? "â‡§" : "Shift + "), 2048 & e && (t += l ? "âŒ˜" : "Win + "), t
      }

      function s(e) {
        var t = r(e),
          i = 255 & e;
        return t += i in u ? u[i] : i >>> 4 == 7 ? "F" + (i % 16 + 1) : String.fromCharCode(i)
      }
      var a, l, c, u;
      i.r(t), i.d(t, "isMacKeyboard", function () {
          return l
        }), i.d(t, "Modifiers", function () {
          return c
        }), i.d(t, "modifiersFromEvent", function () {
          return n
        }), i.d(t, "hashFromEvent", function () {
          return o
        }), i.d(t, "humanReadableModifiers", function () {
          return r
        }), i.d(t, "humanReadableHash", function () {
          return s
        }), a = i("qFKp"), l = Object(a.isMac)() || a.CheckMobile.iOS(),
        function (e) {
          e[e.Alt = 512] = "Alt", e[e.Shift = 1024] = "Shift", e[e.Mod = l ? 2048 : 256] = "Mod", e[e.Control = 256] = "Control", e[e.Meta = 2048] = "Meta"
        }(c || (c = {})), u = {
          9: "â‡¥",
          27: "Esc"
        }
    },
    "/5ju": function (e, t, i) {
      "use strict";

      function n(e, t, i, n) {
        return r.__awaiter(this, void 0, void 0, function () {
          var o;
          return r.__generator(this, function (r) {
            return o = new s.SaveRenameDialog({
              fields: [new a.InputField({
                name: C,
                label: e + ":",
                error: t,
                maxLength: 64
              })],
              title: i
            }), void 0 !== n && o.setField(C, n), [2, o.show().then(function (e) {
              return e[C]
            })]
          })
        })
      }

      function o() {
        return r.__awaiter(this, void 0, void 0, function () {
          return r.__generator(this, function (e) {
            return [2, new Promise(function (e) {
              c.enabled("saved_charts_count_restriction") && window.is_authenticated && !window.user.is_pro ? Object(l.getChartsCount)(function (t) {
                e(t < 5)
              }) : e(!0)
            })]
          })
        })
      }
      var r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E;
      i.r(t), r = i("mrSG"), s = i("UJLt"), a = i("hkLy"), l = i("lhgw"), c = i("Kxc7"), u = i("PC8g"), h = i("hY0g"), d = i.n(h), p = i("qGsh"), f = i.n(p), _ = i("s4+V"), m = i("ulZB"), g = function (e) {
        function t(t, i) {
          return e.call(this, t, i, "AUTO_SAVE_ENABLED_CHANGED", "Chart.autoSaveEnabled", !0) || this
        }
        return r.__extends(t, e), t
      }(m.b), y = i("FBuY"), v = i("Vdly"), S = i("FQhm"), b = i("htUT"), w = i("/z0S"), P = i("BxxN"), i.d(t, "SaveChartService", function () {
        return E
      }), T = {
        labelName: window.t("Chart layout name"),
        labelRename: window.t("Enter a new chart layout name"),
        error: window.t("Please enter chart layout name"),
        titleNew: window.t("Save New Chart Layout"),
        titleRename: window.t("Rename Chart Layout"),
        titleCopy: window.t("Copy Chart Layout"),
        valueCopy: window.t("{0} copy", {
          context: "ex: AAPL chart copy"
        })
      }, C = "chart-title", x = 6e4, E = function () {
        function e(e, t) {
          var n, o = this;
          this._autosaveTimer = null, this._watchedAutoSaveEnabled = new d.a, this._toggleAutoSaveEnabledHandler = this._toggleAutoSaveEnabled.bind(this), this._chartWidgetCollection = e, this._chartSaver = t, this._autoSaveEnabledSetting = new g(y.TVXWindowEvents, v), this._chartSaver.chartSizeLimitExceeded().subscribe(null, function () {
              var e = o._chartWidgetCollection.activeChartWidget.value();
              Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(3), i.e("chart-size-limit-exceeded-dialog")]).then(function (t) {
                (0, i("HV9R").showSizeLimitExceededDialog)(e)
              }.bind(null, i)).catch(void 0)
            }),
            this._chartSaver.chartHasBeenModified().subscribe(null, function () {
              Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(3), i.e("chart-has-been-modified-dialog")]).then(function (e) {
                (0, i("Oc7A").showChartHasBeenModifiedDialog)(o._stopAutosave.bind(o), o._startAutosave.bind(o))
              }.bind(null, i)).catch(void 0)
            }), this._chartChangesWatcher = new b.ChartChangesWatcher(e.undoHistory, t, S), e.saveKeysPressed().subscribe(this, this.saveChartOrShowTitleDialog), (n = this._autoSaveEnabledSetting.get()) && this._enableAutoSave(), this._watchedAutoSaveEnabled.setValue(n), this._watchedAutoSaveEnabled.subscribe(this._toggleAutoSaveEnabledHandler), this._autoSaveEnabledSetting.getOnChange().subscribe(this, this._autoSaveEnabledSettingHandler)
        }
        return e.prototype.autoSaveEnabled = function () {
          return this._watchedAutoSaveEnabled
        }, e.prototype.destroy = function () {
          this._watchedAutoSaveEnabled.unsubscribe(), delete this._watchedAutoSaveEnabled, this._autoSaveEnabledSetting.destroy(), delete this._autoSaveEnabledSetting
        }, e.prototype.cloneChart = function () {
          return r.__awaiter(this, void 0, void 0, function () {
            var e, t;
            return r.__generator(this, function (i) {
              switch (i.label) {
                case 0:
                  return e = this._chartWidgetCollection, [4, o()];
                case 1:
                  return i.sent() ? [4, function (e) {
                    return r.__awaiter(this, void 0, void 0, function () {
                      return r.__generator(this, function (t) {
                        return [2, n(T.labelRename, T.error, T.titleCopy, T.valueCopy.format(e))]
                      })
                    })
                  }(e.metaInfo.name.value())] : [3, 3];
                case 2:
                  return t = i.sent(), this._saveCurrentChartAsNewWithTitle(t), [3, 5];
                case 3:
                  return [4, Object(_.createGoProDialog)({
                    feature: "savedChartsLimit"
                  })];
                case 4:
                  i.sent().open(), i.label = 5;
                case 5:
                  return [2]
              }
            })
          })
        }, e.prototype.saveChartAs = function () {
          Object(w.a)(this.cloneChart.bind(this), {
            source: "Clone chart"
          })
        }, e.prototype.renameChart = function () {
          var e = this;
          Object(w.a)(function () {
            return r.__awaiter(e, void 0, void 0, function () {
              var e, t;
              return r.__generator(this, function (i) {
                switch (i.label) {
                  case 0:
                    return e = this._chartWidgetCollection, [4, function (e) {
                      return r.__awaiter(this, void 0, void 0, function () {
                        return r.__generator(this, function (t) {
                          return [2, n(T.labelRename, T.error, T.titleRename, e)]
                        })
                      })
                    }(e.metaInfo.name.value())];
                  case 1:
                    return t = i.sent(), e.metaInfo.name.setValue(t), this._doSave(), [2]
                }
              })
            })
          }, {
            source: "Rename chart"
          })
        }, e.prototype.saveNewChart = function (e, t, i) {
          return r.__awaiter(this, void 0, void 0, function () {
            var s, a, l;
            return r.__generator(this, function (c) {
              switch (c.label) {
                case 0:
                  return s = this._chartWidgetCollection, a = s.metaInfo.name.value(), [4, o()];
                case 1:
                  return c.sent() ? [4, function (e) {
                    return r.__awaiter(this, void 0, void 0, function () {
                      return r.__generator(this, function (t) {
                        return [2, n(T.labelRename, T.error, T.titleNew, e)]
                      })
                    })
                  }(a)] : [3, 3];
                case 2:
                  return l = c.sent(), s.metaInfo.name.setValue(l), this._doSave(e, t, i), [3, 5];
                case 3:
                  return [4, Object(_.createGoProDialog)({
                    feature: "savedChartsLimit"
                  })];
                case 4:
                  c.sent().open(), c.label = 5;
                case 5:
                  return [2]
              }
            })
          })
        }, e.prototype.saveExistentChart = function (e, t, i) {
          this._doSave(e, t, i)
        }, e.prototype.saveChartOrShowTitleDialog = function (e, t, i) {
          var n = this,
            o = window.saver.isSaveInProcess(),
            r = this._chartChangesWatcher.hasChanges(),
            s = !!this._chartWidgetCollection.metaInfo.id.value();
          window.is_authenticated && (o || !r && s) || Object(w.a)(function () {
            null !== n._chartWidgetCollection.metaInfo.id.value() ? n.saveExistentChart(e, t, i) : n.saveNewChart(e, t, i)
          }, {
            source: "Save chart",
            sourceMeta: "Chart"
          })
        }, e.prototype.whenReadyToSave = function (e) {
          this._chartSaver.whenReadyToSave(e)
        }, e.prototype.saveToJSON = function () {
          return this._chartSaver.saveToJSON()
        }, e.prototype.saveChartSilently = function (e, t, i) {
          this._chartSaver.saveChartSilently(e, t, i)
        }, e.prototype.setAutoSaveEnabled = function (e) {
          var t = this;
          window.is_authenticated && window.saver.isSaveInProcess() || Object(w.a)(function () {
            e ? Object(u.trackEvent)("Autosave", "On") : Object(u.trackEvent)("Autosave", "Off"), t._watchedAutoSaveEnabled.setValue(e)
          }, {
            source: "AutoSave chart"
          })
        }, e.prototype._autoSaveEnabledSettingHandler = function (e) {
          this._watchedAutoSaveEnabled.setValue(e)
        }, e.prototype._toggleAutoSaveEnabled = function (e) {
          e ? this._enableAutoSave() : this._disableAutoSave(), this._autoSaveEnabledSetting.set(e, {
            forceFlush: !0
          })
        }, e.prototype._enableAutoSave = function () {
          this._chartChangesWatcher.getOnChange().subscribe(this, this._onStateChanged), this._chartChangesWatcher.hasChanges() && this._doSave()
        }, e.prototype._disableAutoSave = function () {
          this._stopAutosave(), this._chartChangesWatcher.getOnChange().unsubscribeAll(this)
        }, e.prototype._onStateChanged = function (e) {
          e ? this._startAutosave() : this._stopAutosave()
        }, e.prototype._saveCurrentChartAsNewWithTitle = function (e) {
          var t = this._chartWidgetCollection;
          c.enabled("saveload_storage_customization") ? (t.metaInfo.uid.deleteValue(), t.metaInfo.id.deleteValue(), t.metaInfo.name.setValue(e), this._doSave()) : window.open(Object(P.generateChartUrl)({
            clone: t.metaInfo.uid.value(),
            name: e
          }), "_blank")
        }, e.prototype._doSave = function (e, t, i) {
          var n = this._chartWidgetCollection;
          void 0 !== e && e(), this._chartSaver.saveChartSilently(function (e) {
            var i;
            i = n.metaInfo.uid.value(), "/chart/" === location.pathname && (location.href = "/chart/" + i), f.a.instance && f.a.instance.updateView(), void 0 !== t && t(e)
          }, function () {
            void 0 !== i && i()
          })
        }, e.prototype._startAutosave = function () {
          var e = this;
          c.enabled("charts_auto_save") && null === this._autosaveTimer && (this._autosaveTimer = setTimeout(function () {
            e._autosaveTimer = null, e._chartWidgetCollection.metaInfo.id.value() && e._doSave()
          }, x))
        }, e.prototype._stopAutosave = function () {
          null !== this._autosaveTimer && (clearInterval(this._autosaveTimer), this._autosaveTimer = null)
        }, e
      }()
    },
    "/BH3": function (e, t, i) {
      "use strict";

      function n() {
        return {
          version: 2,
          width: 267,
          pages: []
        }
      }
      var o, r, s, a;
      i.r(t), i.d(t, "layoutKeyName", function () {
        return o
      }), i.d(t, "getDefaultState", function () {
        return n
      }), i.d(t, "tabsWidth", function () {
        return r
      }), i.d(t, "hiderGapWidth", function () {
        return s
      }), i.d(t, "borderWidth", function () {
        return a
      }), o = "layout-settings", r = 46, s = 5, a = 1
    },
    "/DxK": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolHorzLine";
        var s = t || n.createProperties();
        this._priceAxisView = new r(this), o.call(this, e, s),
          Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("ckl+").HorzLinePaneView;
            this._setPaneViews([new t(this, this._model)])
          }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("p1SQ").LineToolHorzLinePriceAxisView,
        s = i("tc+8"),
        a = i("Ocx9").DefaultProperty,
        l = i("hayr").propertyPages;
      inherit(n, o), n.prototype.state = function (e) {
        var t = o.prototype.state.call(this, e);
        return t.points && 0 !== t.points.length && (t.points[0].offset = 0), t
      }, n.prototype.pointsCount = function () {
        return 1
      }, n.prototype.title = function () {
        return "Horizontal Line"
      }, n.prototype.name = function () {
        return "Horizontal Line"
      }, n.prototype.priceAxisViews = function (e, t) {
        return this.isSourceHidden() ? null : t === this.priceScale() && this.properties().showPrice.value() && this._model.paneForSource(this) === e ? [this._priceAxisView] : null
      }, n.prototype.updateAllViews = function () {
        o.prototype.updateAllViews.call(this), this._priceAxisView.update()
      }, n.prototype.canHasAlert = function () {
        return !0
      }, n.prototype._getAlertPlots = function () {
        return [this.points()[0].price]
      }, n.prototype.getInputsPropertyPage = function () {
        return l.LineToolHorzLineInputsPropertyPage
      }, n.prototype.getStylesPropertyPage = function () {
        return l.LineToolHorzLineStylesPropertyPage
      }, n.prototype.template = function () {
        var e = o.prototype.template.call(this);
        return e.text = this.properties().childs().text.value(), e
      }, n.prototype._applyTemplateImpl = function (e) {
        o.prototype._applyTemplateImpl.call(this, e), this.properties().childs().text.setValue(e.text)
      }, n.createProperties = function (e) {
        var t = new a("linetoolhorzline", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e), e.hasChild("text") || e.addChild("text", new s("")), e.addExclusion("text")
      }, t.LineToolHorzLine = n
    },
    "/ELx": function (e, t, i) {
      "use strict";
      (function (t, n) {
        var o = i("uOxu").getLogger("Alerts.Price.Abstract"),
          r = i("pPtI").getTranslatedResolution,
          s = i("8woN"),
          a = i("Ialn"),
          l = t.Model.extend({
            constructor: function (e, i) {
              e = this._prepareToSet(e, !0), t.Model.call(this, e, i)
            },
            _prepareToSet: function (e, t) {
              var i, n, o;
              if (e)
                for (i in e) e.hasOwnProperty(i) && (n = e[i], "function" == typeof this[o = "_prepareToSet_" + i] && (e[i] = this[o](n, e, t)));
              return e
            },
            destroy: function () {
              this.stopListening(), this.trigger("destroy", this)
            },
            save: function () {
              o.logError("[Alerts] Use disaptcher to save")
            },
            shortSymbol: function (e) {
              return s ? s.shortName(e || this.get("symbol") || "") : (o.logWarn("[Alerts] can't get short symbol"), e)
            },
            resolutionReadable: function (e) {
              return (e = e || this.get("resolution")) ? r(e) : ""
            },
            title: function (e) {
              var t;
              return t = e ? this.get("symbol") : this.shortSymbol(), this.get("crossInterval") || (t = a.IS_RTL ? t + " " + a.forceRTLStr(" ," + this.resolutionReadable()) : t + ", " + this.resolutionReadable()), t
            },
            _formatDate: function (e) {
              return n(e || new Date).format("ll")
            }
          });
        e.exports = l
      }).call(this, i("q1z7"), i("ldgD"))
    },
    "/Kki": function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "SeriesPrevClosePriceLinePaneView", function () {
        return a
      }), n = i("mrSG"), o = i("aO4+"), r = i("k4w6"), s = i("8Uy/"), a = function (e) {
        function t(t) {
          var i = e.call(this, t) || this;
          return i._lineRendererData.linestyle = s.LINESTYLE_DOTTED, i
        }
        return n.__extends(t, e), t.prototype._updateImpl = function () {
          if (this._lineRendererData.visible = !1, this._series.properties().showPrevClosePriceLine.value() && !this._series.isDWM()) {
            var e = this._series.prevClose();
            null !== e && (this._lineRendererData.visible = !0, this._lineRendererData.points = [new o.Point(0, e.coordinate)], this._lineRendererData.color = this._series.properties().prevClosePriceLineColor.value(), this._lineRendererData.width = this._model.timeScale().width(), this._lineRendererData.height = this._series.priceScale().height(), this._lineRendererData.linewidth = this._series.properties().prevClosePriceLineWidth.value())
          }
        }, t
      }(r.a)
    },
    "/McG": function (e) {
      e.exports = {
        content: {
          chartProperties: {
            scalesProperties: {
              textColor: "#50535E",
              lineColor: "#50535E",
              backgroundColor: "#ffffff"
            },
            paneProperties: {
              gridProperties: {
                color: "#e1ecf2"
              },
              background: "#ffffff"
            }
          },
          mainSourceProperties: {
            baseLineColor: "#B2B5BE",
            candleStyle: {
              borderColor: "#378658",
              upColor: "#26a69a",
              wickColor: "#737375",
              wickUpColor: "#26a69a",
              wickDownColor: "#ef5350",
              downColor: "#ef5350",
              borderUpColor: "#26a69a",
              borderDownColor: "#ef5350"
            },
            haStyle: {
              borderColor: "#378658",
              upColor: "#26a69a",
              wickColor: "#737375",
              wickUpColor: "#26a69a",
              wickDownColor: "#ef5350",
              downColor: "#ef5350",
              borderUpColor: "#26a69a",
              borderDownColor: "#ef5350"
            },
            barStyle: {
              downColor: "#ef5350",
              upColor: "#26a69a"
            },
            pnfStyle: {
              downColor: "#ef5350",
              upColor: "#26a69a",
              upColorProjection: "#a9dcc3",
              downColorProjection: "#f5a6ae"
            },
            baselineStyle: {
              baselineColor: "rgba( 117, 134, 150, 1)",
              topFillColor1: "rgba( 38, 166, 154, 0.05)",
              topFillColor2: "rgba( 38, 166, 154, 0.05)",
              bottomFillColor1: "rgba( 239, 83, 80, 0.05)",
              bottomFillColor2: "rgba( 239, 83, 80, 0.05)",
              topLineColor: "rgba( 38, 166, 154, 1)",
              bottomLineColor: "rgba( 239, 83, 80, 1)"
            },
            areaStyle: {
              transparency: 95,
              color1: "#2196f3",
              color2: "#2196f3",
              linecolor: "#2196f3",
              linewidth: 3,
              linestyle: 0
            },
            renkoStyle: {
              upColor: "#26a69a",
              downColor: "#ef5350",
              borderUpColor: "#26a69a",
              borderDownColor: "#ef5350",
              upColorProjection: "#a9dcc3",
              downColorProjection: "#f5a6ae",
              borderUpColorProjection: "#a9dcc3",
              borderDownColorProjection: "#f5a6ae",
              wickUpColor: "#26a69a",
              wickDownColor: "#ef5350"
            },
            lineStyle: {
              color: "#2196f3",
              linewidth: 3,
              linestyle: 0
            },
            kagiStyle: {
              downColor: "#ef5350",
              upColor: "#26a69a",
              upColorProjection: "#a9dcc3",
              downColorProjection: "#f5a6ae"
            },
            pbStyle: {
              upColor: "#26a69a",
              downColor: "#ef5350",
              borderUpColor: "#26a69a",
              borderDownColor: "#ef5350",
              upColorProjection: "#a9dcc3",
              downColorProjection: "#f5a6ae",
              borderUpColorProjection: "#a9dcc3",
              borderDownColorProjection: "#f5a6ae"
            },
            rangeStyle: {
              upColor: "#26a69a",
              downColor: "#ef5350",
              upColorProjection: "#a9dcc3",
              downColorProjection: "#f5a6ae"
            }
          }
        }
      }
    },
    "/Qlx": function (e, t, i) {
      "use strict";

      function n(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
          i = window._kmq;
        i && (window.is_authenticated && (t["User ID"] = window.user.id, t["User Name"] = window.user.username), i.push(["record", e, t]))
      }
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      var o = Object.assign || function (e) {
        var t, i, n;
        for (t = 1; t < arguments.length; t++)
          for (n in i = arguments[t]) Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n]);
        return e
      };
      t.recordEvent = n, t.record = function (e, t) {
        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        return n("Button {0}".format(t), o({
          Location: e,
          Page: window.location.pathname
        }, i))
      }
    },
    "/RHq": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16"><g fill="none" stroke="currentcolor"><path d="M9.52 10.226a5.5 5.5 0 1 0-6.983.048"/><path stroke-linecap="square" d="M4.5 14.4v.601c0 .276.216.499.495.499h2.01a.504.504 0 0 0 .495-.499V14.4m-5-4.9v3.51c0 .27.233.49.503.49h5.994a.494.494 0 0 0 .503-.49V9.5h-7z"/><path d="M3 11.5h6"/></g></svg>'
    },
    "/ToI": function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "MoveToNewPriceScaleUndoCommand", function () {
        return s
      }), i.d(t, "MoveToExistingPriceScaleUndoCommand", function () {
        return a
      }), n = i("mrSG"), o = i("Eyy1"), r = function (e) {
        function t(t, i, n, o) {
          var r = e.call(this, t, i, o) || this;
          return r._targetPaneIndex = t.panes().indexOf(n), r
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          var e, t, i, n, r = this._chartModel.panes()[this._targetPaneIndex],
            s = this._targetPriceScale(r),
            a = Object(o.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),
            l = this._chartModel.children(a, !0);
          for (e = 0, t = l; e < t.length; e++) i = t[e], r.move(i, s);
          r.move(a, s), n = r.priceScalePosition(s), r.movePriceScale(s, n, this._targetPriceScaleIndex(a)), this._chartModel.fullUpdate()
        }, t.prototype.undo = function () {
          var e, t, i, n = this._chartModel.panes()[this._initialPaneIndex],
            r = Object(o.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),
            s = n.getPriceScaleById(this._initialPriceScaleId);
          for (null === s && (s = n.createPriceScaleAtPosition(this._initialPriceScalePosition, this._initialPriceScaleIndex)), e = 0, t = this._chartModel.children(r, !0); e < t.length; e++) i = t[e], n.move(i, s);
          n.move(r, s), this._chartModel.fullUpdate()
        }, t
      }(i("3u3j").a), s = function (e) {
        function t(t, i, n, r, s) {
          var a = e.call(this, t, i, n, s) || this;
          return a._targetPriceScalePosition = r, a._sourceScaleState = Object(o.ensureNotNull)(i.priceScale()).state(), delete a._sourceScaleState.m_isLockScale, delete a._sourceScaleState.id, a
        }
        return n.__extends(t, e), t.prototype._targetPriceScale = function (e) {
          var t = e.createPriceScaleAtPosition(this._targetPriceScalePosition);
          return t.restoreState(this._sourceScaleState), t
        }, t.prototype._targetPriceScaleIndex = function (e) {
          return e === this._chartModel.mainSeries() ? 0 : void 0
        }, t
      }(r), a = function (e) {
        function t(t, i, n, o, r) {
          var s = e.call(this, t, i, n, r) || this;
          return s._targetPriceScaleId = o.id(), s
        }
        return n.__extends(t, e), t.prototype._targetPriceScale = function (e) {
          return Object(o.ensureNotNull)(e.getPriceScaleById(this._targetPriceScaleId))
        }, t.prototype._targetPriceScaleIndex = function (e) {}, t
      }(r)
    },
    "/Y2c": function (e, t, i) {
      "use strict";
      (function (t) {
        var n = i("Eyy1").assert,
          o = i("VNzU").layouts,
          r = i("Zo2/"),
          s = i("qFKp").supportTouch,
          a = i("x8jL").createUndoHistory,
          l = i("mMWL"),
          c = i("J+KI"),
          u = i("FQhm"),
          h = i("l7mP"),
          d = i("Kxc7"),
          p = i("ijBy").SetChartLayoutCommand,
          f = i("hY0g"),
          _ = i("HySD").ResizerDetacherState,
          m = i("HV/F").delegateToPromise,
          g = i("Bruo"),
          y = i("1hzI").KeyboardListener,
          v = i("wmOI").ESC,
          S = i("sEk5"),
          b = i("lJvs"),
          w = i("uOxu").getLogger("Chart.ChartWidgetCollection"),
          P = i("PC8g").trackEvent,
          T = i("wamh").ChangeToolBarsThemeUndoCommand,
          C = i("EsvI").getCurrentTheme,
          x = i("/3z9"),
          E = i("vPbs").CollectionViewMode,
          I = i("ZbcA").tvToasts,
          A = i("33OQ"),
          L = i("2jAL").SwapChartsUndoCommand,
          D = i("Qf4T"),
          k = i("NP3r").enabled,
          O = i("NP3r").getConfig,
          M = i("bKsZ").ProductFeatures,
          R = i("s4+V"),
          V = i("dBCn").TimingsMeter,
          B = i("LBej"),
          N = i("xtHi").detachToPopup,
          F = i("xtHi").screenBox,
          W = i("poeh").pushChartPage,
          U = i("0UyP").getTracker,
          H = {
            saveChartEnabled: !0,
            takeScreenshotEnabled: !0
          };
        e.exports = function (e) {
          function j(e) {
            var t;
            e.defaultPrevented || x.hashFromEvent(e) === (13 | x.Modifiers.Alt) && (t = dt[pt].rdState.owner.value().body.value()[0].ownerDocument).activeElement === t.body && (e.preventDefault(), ut.value().toggleFullscreen())
          }

          function z() {
            var e = lt + ct,
              t = Fe ? Fe.offsetHeight : 0;
            return {
              width: Ie.value() - 2 * e,
              height: Ae.value() - st - e - t,
              top: st,
              left: e
            }
          }

          function Y() {
            var e, t;
            for (e = Le ? [Le] : dt.slice(0, mt.count).filter(function (e) {
                return !e.hiddenInLayout.value()
              }), t = 0; t < e.length; t++) q(e[t], t, e.length)
          }

          function q(e, t, i) {
            var n = mt.sizer(z(), t, i, at + ct);
            n.width = Math.max(Math.round(n.width), 0), n.height = Math.max(Math.round(n.height), 0), n.top = Math.round(n.top), n.left = Math.round(n.left), e.metrics = n, e.body.value().css(n), e.width.setValue(n.width), e.height.setValue(n.height)
          }

          function G(e, t) {
            rt.mobileForceChartMaximizeEnabled && (!ze.includes(A.device) || t && ze.includes(t) ? ze.includes(A.device) || t && !ze.includes(t) || (He = !1, !je && window.is_authenticated && Z(null)) : (He = !0, window.is_authenticated && yt.value() === E.ForceFullscreen && (je = Le, ut.value().requestFullscreen())))
          }

          function X(e) {
            return e.rdState.owner.value() !== e
          }

          function K(e) {
            function t() {
              s.visible.setValue(!s.hiddenInLayout.value() && rt.resizerBridge.visible.value())
            }
            var n, o, s;
            return e = Object.assign({
                chartWidgetCollection: ot,
                isActive: 0 === dt.length,
                barsMarksContainersFactory: J,
                undoHistory: Me,
                readOnly: ht
              }, e || {}), o = $(document.createElement("div")).addClass("chart-container").appendTo(Ve).css({
                position: "absolute",
                overflow: "hidden"
              }), rt.className && o.addClass(rt.className), (s = {
                alive: new f(!0),
                body: new f(o),
                width: new f,
                height: new f,
                hiddenInLayout: new f(!1),
                visible: new f,
                rdState: new _,
                detach: function () {
                  N(s.rdState, Object.assign({
                    title: window.t("Detached chart")
                  }, F(s.rdState.bridge().body.value())))
                },
                requestFullscreen: function () {
                  ft.value() && (Z(s), ut.setValue(s.chartWidget))
                },
                exitFullscreen: function () {
                  ut.value() === s.chartWidget && Z(null)
                },
                detachable: ft,
                fullscreenable: ft,
                fullscreen: new f
              }).rdState.pushOwner(s), s.rdState.owner.subscribe(function (e) {
                e !== s && (Promise.all([i.e(278), i.e("detached-chart-message")]).then(function (e) {
                    i("9g5h").show(s.rdState.bridge().body.value()[0])
                  }.bind(null, i)).catch(i.oe),
                  P("GUI", "Chart detached")), Le === s && Z(null), ee(gt)
              }), dt.push(s), s.hiddenInLayout.subscribe(t), rt.resizerBridge.visible.subscribe(t), t(),
              function (e) {
                var t, i = 0,
                  n = 0;
                for (t = 0; t < mt.count; t++) dt[t] && X(dt[t]) || (dt[t] === e && (n = i), i++);
                q(e, n, i)
              }(s), Object.assign(e, s.rdState.bridge()), s.chartWidget = n = new r.ChartWidget(e), ht || (s.timingsMeter = new V(String(dt.length - 1)), s.chartWidget.setTimingsMeter(s.timingsMeter)), e.containsData ? n.finishInitWithoutConnect() : n.connect(), n.withModel(null, function () {
                var e = n.model().model();
                Ze.forEach(function (t, i) {
                  e.addCustomSource(i, t)
                })
              }), te(), ie(), Ne.fire(n), n
          }

          function J(e) {
            var t, i, n, o = [];
            return d.enabled("charting_library_base") ? (i = new S(e), o.push(i), n = new b(e), o.push(n)) : d.enabled("widget") || (t = new B(e, Q), o.push(t)), o
          }

          function Q(e) {
            e = Object.assign({}, e, {
              chartWidgetCollection: ot
            }), W(e)
          }

          function Z(e) {
            Le !== e && (Le = e, ee(gt))
          }

          function ee(e) {
            function t() {
              dt.every(function (e) {
                return null !== e.chartWidget.model()
              }) && (te(), u.emit("layout_changed"))
            }

            function i() {
              t()
            }

            function n(e) {
              K(Object.assign({}, De, Se.shift() || (ut.value() ? {
                content: ut.value().state()
              } : null) || {}, 0 === e || we.value() ? {} : {
                defSymbol: null
              })).modelCreated().subscribe(null, i, !0)
            }

            function r(e) {
              e.hiddenInLayout.setValue(!0), e.body.value().detach(), e.fullscreen.setValue(!1)
            }
            var s, a, l, c;
            e in o || (e = "s"), s = o[e].count, u.emit("layout_about_to_be_changed", e), gt = e, mt = o[e];
            for (a = s; a < dt.length; a++) X(l = dt[a]) && l.rdState.bridge().attach();
            for (He && yt.value() === E.ForceFullscreen && !Le && (Le = dt[0]), a = 0; a < s || a < dt.length; a++) l = dt[a], (Le ? Le !== l : !(a < s) || l && X(l)) ? l ? r(l) : He && yt.value() === E.ForceFullscreen && (n(a), r(dt[a])) : (l ? (Ve.append(l.body.value()), l.hiddenInLayout.setValue(!1), (c = Se.shift()) && (be = !0, l.chartWidget.loadContent(c.content), be = !1)) : (n(a), l = dt[a]), l.body.value().toggleClass("multiple", s > 1), l.fullscreen.setValue(Le === l));
            return Y(), te(),
              function () {
                for (var e = mt.count, t = e, i = 0; i < e; i++) dt[i] && X(dt[i]) && t--;
                _t.setValue(t), ft.setValue(t > 1)
              }(), t(), _t.value() < 1 && s > 0 && dt[s - 1].rdState.bridge().attach(), !0
          }

          function te() {
            var e, t = Math.min(mt.count, dt.length) - 1;
            t < 0 ? ut.deleteValue() : ((e = pt) < 0 && (e = 0), e > t && (e = t), ut.setValue(dt[e].chartWidget))
          }

          function ie() {
            var e, t;
            for (e = dt.length; e--;) t = e === pt, dt[e].body.value().toggleClass("active", t).toggleClass("inactive", !t)
          }

          function ne(e, t) {
            var i, n = dt.slice(0, mt.count).filter(function (e) {
              return !X(e)
            }).map(function (e, t, i) {
              return {
                def: e,
                metrics: mt.sizer({
                  top: 0,
                  left: 0,
                  width: 256,
                  height: 256
                }, t, i.length, 0)
              }
            }).sort(function (e, t) {
              return e.metrics.top - t.metrics.top || e.metrics.left - t.metrics.left
            }).map(function (e) {
              return e.def
            });
            return n.length < 2 ? null : -1 === (i = n.indexOf(e)) ? null : n[i = (i + (t ? n.length - 1 : 1)) % n.length]
          }

          function oe() {
            var e = ne(dt[pt], !1);
            e && (ut.setValue(e.chartWidget), Le && ee(gt))
          }

          function re(e, t) {
            var i, n, o, r;
            if (i = dt.findIndex(function (t) {
                return t.chartWidget === e
              }), n = dt.findIndex(function (e) {
                return e.chartWidget === t
              }), -1 === i || -1 === n) throw new Error("chart is not in the layout");
            o = dt[i], r = dt[n], dt[i] = r, dt[n] = o, pt === i ? pt = n : pt === n && (pt = i), Y()
          }

          function se(e) {
            var t = e.mainSeries().properties();
            t.style.subscribe(null, ae), ae(t.style),
              e.model().onSelectedSourceChanged().subscribe(null, le), le(e.selection().sources())
          }

          function ae(e) {
            qe.setValue(e.value())
          }

          function le() {
            var e = Xe.model();
            Ge.setValue(e.selection().sources())
          }

          function ce(e) {
            var t, i, n, o = !1;
            for (t = 0; t < dt.length; t++)(n = (i = dt[t].chartWidget).model()) && (n.mainSeries().properties().symbol.value() !== e || d.enabled("same_data_requery")) && (o || (Me.beginUndoMacro("Change Symbol"), o = !0), i.setSymbol(e));
            o && Me.endUndoMacro()
          }

          function ue() {
            var e = {
                snapshotUrl: rt.snapshotUrl
              },
              t = d.enabled("show_dialog_on_snapshot_ready") ? h.getImageOfChart : h.getImageOfChartSilently;
            t(ot, e, function (e) {
              u.emit("onScreenshotReady", e)
            })
          }

          function he(e, t) {
            g.bind(e, function (e) {
              e.preventDefault(), t()
            })
          }

          function de(e) {
            De.onWidget || Ke === e || (Ke = e, e ? function () {
              for (var e in $e) he(e, $e[e]);
              Qe.watchOn(window)
            }() : function () {
              for (var e in $e) g.unbind(e);
              Qe.stopWatching(window)
            }())
          }

          function pe(e) {
            if (de(e), 0 !== dt.length) {
              for (var t = dt.length; t--;) dt[t].chartWidget.setActive(!1);
              dt[pt].chartWidget.setActive(e)
            }
          }

          function fe(e) {
            var t, i, n, r, s;
            if (d.enabled("charting_library_base")) return e;
            if ("s" === e || De.containsData || ht || k(M.MULTIPLE_CHARTS) && O(M.MULTIPLE_CHARTS).limit >= o[e].count) return e;
            for (r in t = "s", i = 1, n = O(M.MULTIPLE_CHARTS).limit, o) o.hasOwnProperty(r) && (s = o[r].count) <= n && s > i && (t = r, i = s);
            return D("multipleCharts"), R.createGoProDialog({
              feature: "multipleCharts"
            }).then(function (e) {
              e.open()
            }), t
          }

          function _e(e) {
            if (Se = [], e) {
              e.charts || (e = {
                layout: "s",
                charts: [e]
              }), gt = fe(e.layout || "s");
              for (var t = 0; t < e.charts.length; t++) Se.push({
                content: e.charts[t]
              });
              e.symbolLock && we.setValue(!0), e.intervalLock && Pe.setValue(!0), e.trackTimeLock && Te.setValue(!0)
            }
            Ee.setValue(gt), ee(gt) && (l.init(), l.properties().magnet.subscribe(null, me), l.tool.subscribe(ye), l.tool.subscribe(ge), Se.splice(0, Se.length))
          }

          function me(e) {
            var t, i, n, o;
            e.value() && null === et && (t = window.t("Magnet Mode is On"), i = window.t("Drawing anchors will be snapped to the closest OHLC values of nearby bars"), n = "success", (et = I.toast({
              title: t,
              text: i,
              type: n,
              time: o
            })).dfd.always(function () {
              et = null
            }))
          }

          function ge() {
            var e = ut.value();
            dt.forEach(function (t) {
              t.chartWidget !== e && t.chartWidget.updateCrossHairPositionIfNeeded()
            }), e && e.updateCrossHairPositionIfNeeded()
          }

          function ye() {
            dt.forEach(function (e) {
              e.chartWidget.onToolChanged()
            })
          }

          function ve() {
            0 == --tt && u.emitOnce("onChartReady")
          }
          var Se, be, we, Pe, Te, Ce, xe, Ee, Ie, Ae, Le, De, ke, Oe, Me, Re, Ve, Be, Ne, Fe, We, Ue, He, je, ze, Ye, qe, Ge, Xe, Ke, $e, Je, Qe, Ze, et, tt, it, nt, ot = this,
            rt = Object.assign({}, H, e),
            st = 1,
            at = 2,
            lt = 0,
            ct = 0,
            ut = new f,
            ht = rt.readOnly || !1,
            dt = [],
            pt = 0,
            ft = new f,
            _t = new f,
            mt = null,
            gt = "s",
            yt = new f;
          yt.setValue(E.ForceFullscreen), Se = [], be = !1, we = new f(!1), Pe = new f(!1), Te = new f(!1), Ce = new f(TVSettings.getBool("chart.syncCrosshair", !0)), xe = Ce.value(), Ce.subscribe(function (e) {
              var t, i;
              for (xe = e = !!e, TVSettings.setValue("chart.syncCrosshair", e), t = 0; t < dt.length; ++t)(i = dt[t].chartWidget.model()) && i.model().lightUpdate()
            }), Ee = new f(gt), Ie = rt.resizerBridge.width, Ae = rt.resizerBridge.height, Le = null, "padding" in rt && (at = rt.padding), "topOffset" in rt && (st = rt.topOffset), "edge" in rt && (lt = rt.edge),
            "border" in rt && (ct = rt.border), De = rt.widgetOptions || {}, ke = rt.metaInfo || {}, Oe = {
              id: new f(ke.id || null),
              name: new f(ke.name),
              description: new f(ke.description),
              username: new f(ke.username),
              uid: new f(ke.uid),
              lastModified: new f(ke.lastModified)
            }, Re = function (e) {
              u.emit("undo_redo_state_changed", e)
            }, (Me = a()).onChange().subscribe(null, Re), Ve = $(rt.resizerBridge.body.value()).eq(0), Be = $.Deferred(), Ne = new t, Fe = null, We = null, Ue = null, rt.seriesControlBarEnabled && (nt = lt + ct + "px", (Fe = document.createElement("div")).style.left = nt, Fe.style.right = nt, Fe.style.bottom = nt, Fe.classList.add("chart-toolbar", "chart-controls-bar"), Ve[0].appendChild(Fe), Promise.all([i.e("vendors"), i.e(14), i.e(26), i.e(47), i.e(65), i.e(82), i.e(124), i.e(206), i.e(12), i.e(71), i.e("chart-bottom-toolbar")]).then(function (e) {
              var n, o = i("MfqI").BottomToolbarRenderer,
                r = rt.resizerBridge,
                s = [r.body.spawn(), r.width.spawn(), r.height.spawn()],
                a = r.body.value()[0],
                l = function () {
                  var e = a.getBoundingClientRect(),
                    t = z();
                  return t.top = e.top + t.top, t.left = e.left + t.left, t
                },
                c = new t,
                u = function () {
                  c.fire()
                };
              s.forEach(function (e) {
                e.subscribe(u)
              }), n = function () {
                s.forEach(function (e) {
                  e.destroy()
                }), c.destroy()
              }, We = new o(Fe, c, l, ot, ChartApiInstance, De, rt.seriesControlBar), Ue = function () {
                null !== We && (We.destroy(), We = null, Fe.remove(), Fe = null), n()
              }
            }.bind(null, i)).catch(i.oe)), document.addEventListener("keydown", j), I.setToastContainerPosition(Ve), Ie.subscribe(Y), Ae.subscribe(Y), this.updateLayout = Y, He = !1, ze = ["phone", "phone-vertical"], Ye = new t, qe = new f, Ge = new f, Xe = null, ut.subscribe(function (e) {
              var t, i;
              if (e) {
                for (i = dt.length; i--;)
                  if (dt[i].chartWidget === e) {
                    t = i;
                    break
                  } if (!isFinite(t)) throw new Error("Cannot make detached ChartWidget active");
                if (pt !== t) {
                  for (Le && (X(dt[t]) || (Le = dt[t])), pt = t, ie(), i = dt.length; i--;) dt[i].chartWidget.setActive(!1);
                  ge(), e.setActive(!0)
                }! function (e) {
                  var t, i;
                  Xe !== e && (Xe && (Xe.modelCreated().unsubscribe(null, se), (t = Xe.model()) && (t.mainSeries().properties().style.unsubscribe(null, ae), t.model().onSelectedSourceChanged().unsubscribe(null, le), Xe = null)), e && (Xe = e, (i = e.model()) ? se(i) : e.modelCreated().subscribe(null, se)))
                }(e)
              }
            }, {
              callWithLast: !0
            }), Ke = !1, $e = {
              Tab: oe
            }, rt.takeScreenshotEnabled && ($e["Alt+s"] = ue), rt.saveChartEnabled && ($e["Ctrl+s"] = function () {
              Ye.fire()
            }), (Je = {})[v] = function () {
              var e, t = ut.value();
              t && (e = t.model()) && e.model().selectionMacro(function (e) {
                e.clearSelection()
              })
            }, (Qe = new y("keydown", !1)).regHandlers(Je), de(!0), Ze = new Map, Object.assign(this, {
              createChartWidget: K,
              getAll: function () {
                return dt.map(function (e) {
                  return e.chartWidget
                })
              },
              destroy: function () {
                pe(!1), null !== Ue && (Ue(), Ue = null), document.removeEventListener("keydown", j), dt.forEach(function (e) {
                  void 0 !== e.timingsMeter && e.timingsMeter.destroy(), e.chartWidget.destroy()
                }), rt.resizerBridge.remove(), $(window).off("resize", Y), $(document).off("onUpdate", Y), rt.mobileForceChartMaximizeEnabled && A.off("changeDevice", G), I.destroy(), l.properties().magnet.unsubscribe(null, me), l.tool.unsubscribe(ge), l.tool.unsubscribe(ye), Be.resolve(), Ve.remove(), Qe = null, Ze.clear()
              },
              layout: Ee,
              activeChartWidget: ut,
              viewMode: yt,
              activeChartStyle: qe.readonly(),
              trySetChartStyleToActiveWidget: function (e) {
                var t = ut.value();
                return !!t && t.trySetChartStyle(e)
              },
              selectedSources: Ge.readonly(),
              metaInfo: Oe,
              state: function (e, t) {
                var i, n, r = [],
                  s = o[gt].count;
                for (i = 0; i < s; i++) r.push(dt[i].chartWidget.state(e, t));
                return n = {
                  layout: gt,
                  charts: r
                }, we.value() && (n.symbolLock = 1), Pe.value() && (n.intervalLock = 1), Te.value() && (n.trackTimeLock = 1), n
              },
              asyncState: function (e) {
                var t, i = [],
                  n = o[gt].count;
                for (t = 0; t < n; t++) i.push(dt[t].chartWidget.asyncState(e));
                return Promise.all(i).then(function (e) {
                  var t, i = {
                    charts: []
                  };
                  for (t = 0; t < e.length; t++) i.charts.push(e[t]);
                  return i
                })
              },
              readOnly: function () {
                return ht
              },
              lock: {
                symbol: we,
                setSymbolLockWithUndo: function (e) {
                  var t, i, n, o;
                  if (e !== we.value()) {
                    if (Me.beginUndoMacro("Symbol Lock"), e)
                      for (i = (t = ut.value()).getSymbol(), n = 0; n < dt.length; n++)(o = dt[n].chartWidget) !== t && o.getSymbol() !== i && o.setSymbol(i);
                    Me.setWatchedValue(we, e, "Symbol Lock"), Me.endUndoMacro()
                  }
                },
                interval: Pe,
                setIntervalLockWithUndo: function (e) {
                  var t, i, n, o;
                  if (e !== Pe.value()) {
                    if (Me.beginUndoMacro("Interval Lock"), e)
                      for (i = (t = ut.value()).getResolution(), n = 0; n < dt.length; n++)(o = dt[n].chartWidget) !== t && o.getResolution() !== i && o.setResolution(i);
                    Me.setWatchedValue(Pe, e, "Resolution Lock"), Me.endUndoMacro()
                  }
                },
                crosshair: Ce,
                trackTime: Te,
                setTrackTimeWithUndo: function (e) {
                  Te.value() !== e && Me.setWatchedValue(Te, e, "Track Time")
                }
              },
              setSymbol: function (e) {
                we.value() ? ce(e) : ut.value().setSymbol(e)
              },
              setResolution: function (e) {
                var t, i, n;
                if (!be)
                  if (Pe.value()) {
                    for (t = !1, i = 0; i < dt.length; i++)(n = dt[i].chartWidget).model().mainSeries().properties().interval.value() !== e && (t || (Me.beginUndoMacro("Change Resolution"), t = !0), n.setResolution(e));
                    t && Me.endUndoMacro()
                  } else ut.value().setResolution(e)
              },
              updateLayout: Y,
              setChartLayoutWithUndo: function (e) {
                return e = fe(e), Ee.value() !== e && (Me.pushUndoCommand(new p(ot, e)), U().then(function (t) {
                  t && t.trackMultichartsEvent(e, this.metaInfo.uid.value())
                }.bind(this)), !0)
              },
              images: function (e) {
                var t, i, n;
                if (e && e.onlyActiveChart || Le) return {
                  layout: "s",
                  hidpiRatio: window.hidpiCanvasRatio || 1,
                  charts: [ut.value().images()]
                };
                for (t = [], i = mt.count, n = 0; n < dt.length && n < i; n++) t.push(dt[n].chartWidget.images());
                return {
                  layout: gt,
                  hidpiRatio: window.hidpiCanvasRatio || 1,
                  charts: t
                }
              },
              tags: function () {
                var e, t = [];
                for (e = 0; e < dt.length && e < mt.count; e++) t = t.concat(dt[e].chartWidget.tags());
                return t = $.unique(t), t = $.map(t, function (e) {
                  return e.toLowerCase().replace(/\W+/g, "-").replace(/-+/g, "-").replace(/^-|-$/g, "")
                })
              },
              syncCrosshair: function (e, t, i, n) {
                var o, r, s, a;
                if (i || xe)
                  for (o = mt.count, r = 0; r < dt.length && r < o; r++)(s = dt[r].chartWidget) !== t && dt[r].rdState.bridge().visible.value() && (a = s.model()) && a.model().setExternalPosition(e, n)
              },
              syncScroll: function (e, t) {
                var i, n, o;
                if (Te.value()) {
                  for (i = mt.count, Me.beginUndoMacro("Sync Time"), n = 0; n < dt.length && n < i; n++)
                    if (o = dt[n].chartWidget.model()) {
                      if (o.model() === t) continue;
                      o.gotoTime(e, {
                        centerIfVisible: !1,
                        model: t
                      })
                    } Me.endUndoMacro()
                }
              },
              setSymbolAll: ce,
              clearChartMetaInfo: function () {
                Oe.id.setValue(void 0), Oe.uid.setValue(void 0), Oe.name.setValue(void 0)
              },
              onfeatures: rt.onfeatures,
              takeScreenshot: ue,
              loadContent: _e,
              purgeUnusedWidgets: function () {
                for (var e = o[gt].count; e < dt.length; e++) dt[e].chartWidget.destroy();
                dt.splice(o[gt].count)
              },
              applyOverrides: function (e) {
                for (var t = 0; t < dt.length; t++) dt[t].chartWidget.applyOverrides(e)
              },
              applyStudiesOverrides: function (e) {
                for (var t = 0; t < dt.length; t++) dt[t].chartWidget.applyStudiesOverrides(e)
              },
              switchChart: oe,
              startFullscreen: function () {
                rt.resizerBridge.requestFullscreen()
              },
              exitFullscreen: function () {
                rt.resizerBridge.exitFullscreen()
              },
              destroyPromise: function () {
                return Be.promise()
              },
              chartWidgetCreated: function () {
                return Ne
              },
              saveKeysPressed: function () {
                return Ye
              },
              getContainer: function () {
                return Ve
              },
              onWidget: De.onWidget,
              applyTheme: function (e, t, i, n, o, r) {
                var s, a;
                void 0 === r && (r = !0), s = C().name, a = t ? [{
                  chartWidget: ut.value()
                }] : dt, Me.beginUndoMacro("Apply Chart Theme"), a.forEach(function (t) {
                  t.chartWidget._model.model().restoreTheme(e, i)
                }), o && Me.pushUndoCommand(new T(s, n, r)), Me.endUndoMacro()
              },
              setActive: pe,
              inlineChartsCount: _t.readonly(),
              revertToInline: function () {
                if (!He || yt.value() !== E.ForceFullscreen) {
                  Z(null);
                  for (var e = 0; e < dt.length; e++) dt[e].rdState.bridge().attach()
                }
              },
              chartMarketStatuses: function () {
                return dt.map(function (e) {
                  return e.chartWidget.getMarketStatusTooltip()
                })
              },
              chartSeriesStatuses: function () {
                return dt.map(function (e) {
                  var t = e.chartWidget.model(),
                    i = t ? t.mainSeries().status() : null,
                    n = null === i ? "" : e.chartWidget.getDataTextStatus(i);
                  return n + " (" + i + ")"
                })
              },
              undoHistory: Me,
              showAddCompareDialog: function () {
                var e = this;
                return new Promise(function (t) {
                  Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(60), i.e(61), i.e(244), i.e(3), i.e(30), i.e("add-compare-dialog")]).then(function () {
                    var n = i("tkV1").AddCompareDialog,
                      o = new n(e);
                    t(o.show())
                  }.bind(null, i)).catch(i.oe)
                })
              },
              applyPreferencesToAllCharts: function (e) {
                var t = e.model().preferences();
                dt.forEach(function (i) {
                  i.chartWidget._model !== e && i.chartWidget._model.applyPreferences(t)
                })
              },
              addCustomSource: function (e, t) {
                var i, o;
                for (n(!Ze.has(e), "Cannot create the same custom source multiple times"), Ze.set(e, t), i = 0; i < dt.length; ++i)(o = dt[i].chartWidget.model()) && o.model().addCustomSource(e, t)
              },
              removeCustomSource: function (e) {
                var t, i;
                for (n(Ze.has(e), "Cannot remove not created custom source"), Ze.remove(e), t = 0; t < dt.length; ++t)(i = dt[t].chartWidget.model()) && i.model().removeCustomSource(e)
              },
              setViewMode: function (e) {
                yt.setValue(e)
              },
              moveActiveChartWithUndo: function (e) {
                var t, i;
                (i = ne(t = dt[pt], e)) && Me.pushUndoCommand(new L(re, t.chartWidget, i.chartWidget))
              },
              activeChartCanBeMoved: function () {
                return !(ht || _t.value() < 2 || X(dt[pt]))
              },
              generalPropertiesDefinitions: function () {
                return ut.value().generalPropertiesDefinitions()
              }
            }), et = null, _e(rt.onfeatures ? void 0 : rt.content), Ee.subscribe(function (e) {
              ie(), ee(e)
            }), Ee.hook = function (e) {
              return e === this.value() ? e : fe(e)
            }, ht && (Ee.writeLock = !0), $(window).on("resize", Y), $(document).on("onUpdate", Y), rt.mobileForceChartMaximizeEnabled && (A.on("changeDevice", G), G()), d.enabled("datasource_copypaste") && (c.init(), rt.globalEvents && ($(window).on("appclip:paste", function (e) {
              ut.value().onAppClipboardPaste(), e.preventDefault()
            }), $(window).on("appclip:copy", function (e) {
              ut.value().onAppClipboardCopy(), e.preventDefault()
            }), $(window).on("appclip:cut", function (e) {
              ut.value().onAppClipboardCut(), e.preventDefault()
            }))), tt = 0, dt.forEach(function (e) {
              if (e) {
                tt++;
                var t = e.chartWidget;
                t.withModel(null, function () {
                  if (t.model().mainSeries().bars().size() > 0) ve();
                  else {
                    var e = function () {
                      ve(), t.model().mainSeries().dataEvents().barReceived().unsubscribe(null, e), t.model().mainSeries().dataEvents().completed().unsubscribe(null, e)
                    };
                    t.model().mainSeries().dataEvents().barReceived().subscribe(null, e), t.model().mainSeries().dataEvents().completed().subscribe(null, e)
                  }
                })
              }
            }), s() && (it = l.tool.setValue, l.tool.setValue = function () {
              ot.selectedSources.value() && ot.activeChartWidget.value().model().lineBeingCreated() && ot.activeChartWidget.value().model().cancelCreatingLine(), it.apply(l.tool, arguments)
            }), Promise.all(dt.map(function (e) {
              return m(e.chartWidget.modelCreated())
            })).then(function () {
              return Promise.all(dt.map(function (e) {
                return m(e.chartWidget.model().mainSeries().dataEvents().symbolResolved())
              }))
            }).then(function () {
              window.saver && window.is_authenticated && rt.widgetOptions.justCloned && window.saver.saveChartSilently()
            }).catch(w.logError.bind(w))
        }
      }).call(this, i("aIyQ"))
    },
    "/YGI": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "StudyInserter", function () {
        return l
      }), n = i("mrSG"), o = i("KEfV"), r = i("0YCj"), s = i.n(r), a = i("XuOW"), l = function () {
        function e(e, t, i) {
          this._parentSource = void 0, this._propsState = void 0, this._preferredPriceScale = void 0, this._paneSize = void 0, this._forceOverlay = !1, this._studyMetaInfoRepository = t, this._inserterImpl = i, this._studyIdOrMetainfoStub = e
        }
        return e.prototype.setParentSource = function (e) {
          this._parentSource = e || void 0
        }, e.prototype.setPaneSize = function (e) {
          this._paneSize = e
        }, e.prototype.setPreferredPriceScale = function (e) {
          this._preferredPriceScale = e
        }, e.prototype.setForceOverlay = function (e) {
          this._forceOverlay = e
        }, e.prototype.setPropertiesState = function (e) {
          this._propsState = e
        }, e.prototype.insert = function (e) {
          return n.__awaiter(this, void 0, void 0, function () {
            var t, i, r, s, l;
            return n.__generator(this, function (c) {
              switch (c.label) {
                case 0:
                  return h = this._inserterImpl, t = void 0 !== h.createStub && void 0 !== h.removeStub ? this._inserterImpl.createStub() : null, u = this._studyIdOrMetainfoStub, [4, "string" != typeof u && Object(o.isStudyMetaInfoStub)(u) ? this._studyMetaInfoRepository.compileStub(this._studyIdOrMetainfoStub) : this._studyMetaInfoRepository.findById(this._studyIdOrMetainfoStub)];
                case 1:
                  return i = c.sent(), null === t || this._inserterImpl.removeStub(t) ? this._canApplyStudyToParent(i) ? (r = n.__assign({}, i.defaults.inputs), void 0 === e ? [3, 3] : [4, e(r, i.inputs, i)]) : [2, Promise.reject(a.InsertionErrorCode.StudyCannotBeChild)] : [2, Promise.reject(a.InsertionErrorCode.StubWasRemoved)];
                case 2:
                  return l = c.sent(), [3, 4];
                case 3:
                  l = {}, c.label = 4;
                case 4:
                  return s = l, [2, this._insertStudy(i, s)]
              }
              var u, h
            })
          })
        }, e.prototype._insertStudy = function (e, t) {
          return this._inserterImpl.createStudy(e, t, this._propsState, this._forceOverlay, this._parentSource, this._preferredPriceScale, this._paneSize)
        }, e.prototype._canApplyStudyToParent = function (e) {
          return void 0 === this._parentSource || s.a.canBeChild(e)
        }, e
      }()
    },
    "/jjs": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "Magnet", function () {
        return r
      }), n = i("Eyy1"), o = i("4o++"), r = function () {
        function e(e, t) {
          this._magnetProperty = e, this._magnetModeProperty = t
        }
        return e.prototype.align = function (e, t, i) {
          var r, s, a, l, c, u, h, d, p, f, _ = e;
          return this._magnetProperty.value() ? null === (r = i.mainDataSource()) ? _ : r !== (s = r.model().mainSeries()) ? _ : (a = s.priceScale(), l = s.bars(), a.isEmpty() || !l.contains(t) ? _ : null === (c = l.valueAt(t)) ? _ : (u = [c[1], c[2], c[3], c[4]], h = Object(n.ensure)(s.firstValue()), d = u.map(function (e) {
            return {
              y: a.priceToCoordinate(e, h),
              price: e
            }
          }), p = a.priceToCoordinate(e, h), d.sort(function (e, t) {
            var i = Math.abs(e.y - p),
              n = Math.abs(t.y - p);
            return i - n
          }), f = d[0], (this._magnetModeProperty.value() === o.MagnetMode.StrongMagnet || Math.abs(f.y - p) < 50) && (_ = f.price), _)) : _
        }, e
      }()
    },
    "/kal": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" transform="translate(4 5)"><path fill="currentColor" d="M3 1h1v13.5H3z"/><circle stroke="currentColor" cx="3.5" cy="16.5" r="2"/><path fill="currentColor" d="M5.5 16H18v1H5.5z"/><path stroke="currentColor" d="M0 4L3.5.5 7 4m8 9l3.5 3.5L15 20"/></g></svg>'
    },
    "/mDy": function (e, t, i) {},
    "/pi9": function (e) {
      e.exports = {
        "color-aqua-spring": "#ebf9f5",
        "color-army-green": "#3d2c12",
        "color-army-green-2": "#31230d",
        "color-athens-gray-1": "#f2f3f5",
        "color-athens-gray-2": "#f7f8fa",
        "color-athens-gray-3": "#eceff2",
        "color-black": "#000000",
        "color-blue-dianne": "#21384d",
        "color-bluish": "#2185cc",
        "color-bright-gray": "#363c4e",
        "color-brownish-grey": "#8d6e63",
        "color-carnation": "#f04561",
        "color-catskill-white": "#e1ecf2",
        "color-charade": "#2f3241",
        "color-charcoal-grey": "#323337",
        "color-curious-blue": "#299dcd",
        "color-dark-blue-grey": "#123440",
        "color-dark-grey": "#292a2d",
        "color-dark-grey-blue": "#28415a",
        "color-dark-sky-blue": "#37a6ef",
        "color-dark-slate-blue": "#194453",
        "color-deep-sea-blue": "#016087",
        "color-duck-egg-blue": "#e1eff9",
        "color-ebony-clay": "#262b3e",
        "color-foam": "#d7f0fb",
        "color-gull-gray": "#9db2bd",
        "color-humming-bird": "#d3eef9",
        "color-keppel-1": "#37bc9b",
        "color-keppel-2": "#34b293",
        "color-lavender-blush": "#ffedf0",
        "color-light-pink": "#ffecef",
        "color-lightish-purple": "#a75ee8",
        "color-loblolly": "#c5cbce",
        "color-manatee": "#878ca8",
        "color-mandy": "#eb4d5c",
        "color-medium-blue": "#2e7bb2",
        "color-milk-chocolate": "#6f2626",
        "color-mirage-1": "#131722",
        "color-mirage-2": "#171b29",
        "color-mirage-3": "#1c2030",
        "color-mischka": "#d6d8e0",
        "color-morning-glory": "#9addcc",
        "color-oslo-gray": "#8b8e95",
        "color-pale": "#fff2cf",
        "color-pale-grey-1": "#f9fafb",
        "color-pale-grey-2": "#e7ebee",
        "color-pale-sky": "#6b7988",
        "color-picton-blue-1": "#3bb3e4",
        "color-picton-blue-2": "#41bef1",
        "color-puerto-rico": "#3bc2a1",
        "color-purple-brown": "#4e2934",
        "color-purple-brown-2": "#3d2028",
        "color-radical-red": "#ff4a68",
        "color-regent-gray": "#8797a5",
        "color-scooter": "#38acdb",
        "color-silver-tree": "#53b987",
        "color-slate-gray": "#758696",
        "color-sundown": "#ffa4b3",
        "color-sunglow": "#ffca3b",
        "color-tan-hide": "#ff9850",
        "color-trout-1": "#4c525e",
        "color-trout-2": "#4f5966",
        "color-violet-1": "#332738",
        "color-violet-2": "#271d2b",
        "color-water-blue": "#1592e6",
        "color-white": "#ffffff",
        "color-white-ice": "#ebf7fc",
        "color-wild-watermelon": "#ff5773",
        "color-active-hover-text": "color-black",
        "color-alert-bg": "color-white",
        "color-alert-text": "color-black",
        "color-border-table": "color-athens-gray-3",
        "color-brand": "color-tv-blue-500",
        "color-brand-active": "color-tv-blue-600",
        "color-brand-hover": "color-tv-blue-600",
        "color-brand-light": "color-picton-blue-2",
        "color-chart-page-bg": "color-cold-gray-150",
        "color-common-tooltip-bg": "color-ebony-clay",
        "color-common-tooltip-text": "color-athens-gray-1",
        "color-danger": "color-radical-red",
        "color-depthrenderer-stroke-style": "color-athens-gray-1",
        "color-highlight-new": "color-pale",
        "color-input-bg": "color-white",
        "color-input-publish-bg": "color-white",
        "color-link": "color-tv-blue-500",
        "color-link-hover": "color-tv-blue-600",
        "color-link-active": "color-tv-blue-600",
        "color-list-nth-child-bg": "color-athens-gray-2",
        "color-pane-bg": "color-white",
        "color-popup-bg": "color-white",
        "color-popup-head-text": "color-cold-gray-900",
        "color-popup-text": "color-cold-gray-900",
        "color-popup-text-subline": "color-cold-gray-500",
        "color-popup-menu-item-hover-bg": "color-cold-gray-100",
        "color-popup-menu-separator": "color-catskill-white",
        "color-replay-data-mode": "color-radical-red",
        "color-screener-header-bg": "color-athens-gray-2",
        "color-screener-description": "color-trout-2",
        "color-success": "color-keppel-1",
        "color-toolbar-button-text": "color-cold-gray-900",
        "color-toolbar-button-text-hover": "color-black",
        "color-toolbar-button-text-active": "color-tv-blue-500",
        "color-toolbar-button-text-active-hover": "color-tv-blue-600",
        "color-toolbar-interactive-element-text-normal": "color-cold-gray-900",
        "color-toolbar-interactive-element-text-hover": "color-black",
        "color-toolbar-opened-element-bg": "color-cold-gray-100",
        "color-right-toolbar-opened-element-bg": "color-cold-gray-100",
        "color-tooltip-bg": "color-ebony-clay",
        "color-tv-dialog-caption": "color-trout-2",
        "color-tv-dropdown-item-hover-bg": "color-athens-gray-1",
        "color-underlined-text": "color-slate-gray",
        "color-widget-pages-bg": "color-white",
        "color-growing": "color-minty-green-400",
        "color-falling": "color-ripe-red-400",
        "color-label-long": "color-success",
        "color-label-short": "color-danger",
        "color-label-education": "color-sunglow",
        "color-label-neutral": "color-gull-gray",
        "color-collapse-tabs-border": "color-athens-gray-3",
        "color-forex-icon": "color-bright-gray",
        "color-list-item-active-bg": "color-dark-sky-blue",
        "color-list-item-hover-bg": "color-white-ice",
        "color-list-item-text": "color-ebony-clay",
        "color-site-widget-hover": "color-athens-gray-1",
        "color-attention": "color-sunglow",
        "color-price-axis-label-back": "color-cold-gray-150",
        "color-price-axis-label-text": "color-cold-gray-650",
        "color-price-axis-gear": "color-cold-gray-900",
        "color-price-axis-gear-hover": "#000000",
        "color-price-axis-highlight": "color-cold-gray-150",
        "color-marker-flagged": "color-ripe-red-400",
        "color-marker-flagged-hovered": "color-ripe-red-600",
        "color-bid": "color-tv-blue-500",
        "color-ask": "color-ripe-red-400",
        "color-index-page-bg": "#f9fafb",
        "color-border": "#dadde0",
        "color-border-chat-fields": "#c9cbcd",
        "color-border-hover": "#c8c8c8",
        "color-button-hover-bg": "#f2f2f2",
        "color-depthrenderer-fill-style": "#555555",
        "color-disabled-border-and-color": "#ececec",
        "color-disabled-input": "#ececec",
        "color-readonly-input": "#b4b4b4",
        "color-empty-container-message": "#8a8a8a",
        "color-footer-chart-panel-bg": "#f1f3f6",
        "color-icons": "#7d7d7d",
        "color-input-textarea-readonly": "#555555",
        "color-item-active-blue": "#eff9ff",
        "color-item-hover-active-bg": "#f1f3f6",
        "color-item-hover-bg": "#edf1f2",
        "color-item-hover-blue": "#c6e9f8",
        "color-item-selected-blue": "#eafafe",
        "color-list-item": "#888989",
        "color-news-highlight": "#f2f5f8",
        "color-placeholder": "#adaeb0",
        "color-row-hover-active-bg": "#f1f3f6",
        "color-sb-scrollbar-body-bg": "#d8d8d8",
        "color-screener-header-bg-hover": "#f1f3f6",
        "color-section-separator-border": "#b5b7b9",
        "color-separator-table-chat": "#eaecef",
        "color-separator-widget": "#e9eff2",
        "color-tag-active-bg": "#cfdce3",
        "color-tag-hover-bg": "#dce6ea",
        "color-text-regular": "#4a4a4a",
        "color-text-secondary": "#b4b4b4",
        "color-tv-button-checked": "#757575",
        "color-white-theme-tooltip-text": "#333333",
        "color-white-theme-tooltip-border": "#d6d6d6",
        "color-brand-dark": "#2a2c39",
        "color-scroll-bg": "color-cold-gray-400",
        "color-scroll-border": "color-item-hover-active-bg",
        "color-embed-widget-background": "color-white",
        "color-header-title": "color-cold-gray-900",
        "color-scroll-buttons-bg": "color-cold-gray-850",
        "color-scroll-buttons-arrow": "color-white",
        "color-seeking-alpha-brand": "#ff7200",
        "color-blue-gray-950": "#0C0E15",
        "color-cold-gray-50": "#F8F9FD",
        "color-cold-gray-100": "#F0F3FA",
        "color-cold-gray-150": "#E0E3EB",
        "color-cold-gray-200": "#D1D4DC",
        "color-cold-gray-250": "#C1C4CD",
        "color-cold-gray-300": "#B2B5BE",
        "color-cold-gray-350": "#A3A6AF",
        "color-cold-gray-400": "#9598A1",
        "color-cold-gray-450": "#868993",
        "color-cold-gray-500": "#787B86",
        "color-cold-gray-550": "#6A6D78",
        "color-cold-gray-600": "#5D606B",
        "color-cold-gray-650": "#50535E",
        "color-cold-gray-700": "#434651",
        "color-cold-gray-750": "#363A45",
        "color-cold-gray-800": "#2A2E39",
        "color-cold-gray-850": "#1E222D",
        "color-cold-gray-900": "#131722",
        "color-cold-gray-950": "#0C0E15",
        "color-ripe-red-100": "#FFCDD2",
        "color-ripe-red-200": "#ef9a9a",
        "color-ripe-red-300": "#E57373",
        "color-ripe-red-400": "#EF5350",
        "color-ripe-red-500": "#F44336",
        "color-ripe-red-600": "#E53935",
        "color-ripe-red-700": "#D32F2F",
        "color-ripe-red-900": "#B71C1C",
        "color-ripe-red-a200": "#FF5252",
        "color-tan-orange-100": "#FFE0B2",
        "color-tan-orange-200": "#FFCC80",
        "color-tan-orange-300": "#ffb74d",
        "color-tan-orange-400": "#FFA726",
        "color-tan-orange-500": "#FF9800",
        "color-tan-orange-600": "#FB8C00",
        "color-tan-orange-700": "#F57C00",
        "color-tan-orange-800": "#EF6C00",
        "color-tan-orange-900": "#e65100",
        "color-tan-orange-a200": "#ffab40",
        "color-tan-orange-a400": "#ff9100",
        "color-tan-orange-a700": "#FF6D00",
        "color-iguana-green-100": "#C8E6C9",
        "color-iguana-green-200": "#A5D6A7",
        "color-iguana-green-300": "#81c784",
        "color-iguana-green-400": "#66BB6A",
        "color-iguana-green-500": "#4caf50",
        "color-iguana-green-600": "#43a047",
        "color-iguana-green-700": "#388e3c",
        "color-iguana-green-900": "#1B5E20",
        "color-iguana-green-a700": "#00c853",
        "color-banana-yellow-100": "#FFF9C4",
        "color-banana-yellow-200": "#FFF59D",
        "color-banana-yellow-300": "#FFF176",
        "color-banana-yellow-400": "#ffee58",
        "color-banana-yellow-500": "#ffeb3b",
        "color-banana-yellow-600": "#fdd835",
        "color-banana-yellow-700": "#fbc02d",
        "color-banana-yellow-800": "#f9a825",
        "color-banana-yellow-900": "#F57F17",
        "color-banana-yellow-a400": "#ffea00",
        "color-banana-yellow-a700": "#ffd600",
        "color-tv-blue-50": "#E3F2FD",
        "color-tv-blue-100": "#BBDEFB",
        "color-tv-blue-200": "#90CAF9",
        "color-tv-blue-300": "#64B5F6",
        "color-tv-blue-400": "#42A5F5",
        "color-tv-blue-500": "#2196F3",
        "color-tv-blue-600": "#1E88E5",
        "color-tv-blue-700": "#1976D2",
        "color-tv-blue-800": "#1565C0",
        "color-tv-blue-900": "#0d47a1",
        "color-tv-blue-a100": "#82b1ff",
        "color-tv-blue-a200": "#448aff",
        "color-tv-blue-a400": "#2979ff",
        "color-deep-blue-100": "#D1C4E9",
        "color-deep-blue-200": "#B39DDB",
        "color-deep-blue-300": "#9575cd",
        "color-deep-blue-400": "#7e57c2",
        "color-deep-blue-500": "#673ab7",
        "color-deep-blue-700": "#512da8",
        "color-deep-blue-900": "#311B92",
        "color-deep-blue-a100": "#b388ff",
        "color-minty-green-100": "#B2DFDB",
        "color-minty-green-200": "#80cbc4",
        "color-minty-green-300": "#4db6ac",
        "color-minty-green-400": "#26a69a",
        "color-minty-green-500": "#009688",
        "color-minty-green-600": "#00897b",
        "color-minty-green-700": "#00796b",
        "color-minty-green-900": "#004D40",
        "color-minty-green-a400": "#1de9b6",
        "color-minty-green-a700": "#00BFA5",
        "color-grapes-purple-100": "#E1BEE7",
        "color-grapes-purple-200": "#CE93D8",
        "color-grapes-purple-300": "#ba68c8",
        "color-grapes-purple-400": "#ab47bc",
        "color-grapes-purple-500": "#9c27b0",
        "color-grapes-purple-600": "#8e24aa",
        "color-grapes-purple-700": "#7b1fa2",
        "color-grapes-purple-900": "#4A148C",
        "color-grapes-purple-a700": "#aa00ff",
        "color-berry-pink-100": "#F8BBD0",
        "color-berry-pink-200": "#f48fb1",
        "color-berry-pink-300": "#f06292",
        "color-berry-pink-400": "#ec407a",
        "color-berry-pink-500": "#e91e63",
        "color-berry-pink-700": "#C2185B",
        "color-berry-pink-900": "#880E4F",
        "color-berry-pink-a200": "#ff4081",
        "color-sky-blue-100": "#B2EBF2",
        "color-sky-blue-200": "#80DEEA",
        "color-sky-blue-300": "#4dd0e1",
        "color-sky-blue-400": "#26c6da",
        "color-sky-blue-500": "#00bcd4",
        "color-sky-blue-600": "#00acc1",
        "color-sky-blue-700": "#0097A7",
        "color-sky-blue-900": "#006064",
        "color-sky-blue-a400": "#00e5ff"
      }
    },
    "/toF": function (e, t, i) {},
    "/z0S": function (e, t, i) {
      "use strict";

      function n(e, t) {
        o.enabled("saveload_requires_authentication") ? window.runOrSignIn(e, t) : e()
      }
      var o;
      i.d(t, "a", function () {
        return n
      }), o = i("Kxc7")
    },
    "00jD": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 12" width="27" height="12"><rect width="100%" height="100%" fill="currentColor" rx="6"/><path xmlns="http://www.w3.org/2000/svg" fill="#FFF" d="M11.422 9.004h-.985l-.593-3.086-1.153 3.16h-.363l-1.152-3.16-.617 3.086h-.98L6.73 3.277h.54l1.238 3.856 1.21-3.856h.536l1.168 5.727zm.351-2.914c0-.815.224-1.505.67-2.069.447-.563 1.044-.845 1.791-.845.823 0 1.452.255 1.887.765.435.51.652 1.227.652 2.149 0 .922-.227 1.653-.681 2.195-.455.542-1.1.813-1.936.813-.768 0-1.357-.269-1.767-.805-.41-.536-.616-1.27-.616-2.203zm1.055 0c0 .67.113 1.187.34 1.555.227.367.556.55.988.55.508 0 .895-.18 1.162-.539.267-.36.4-.881.4-1.566 0-1.341-.494-2.012-1.484-2.012-.453 0-.8.182-1.043.545-.242.363-.363.852-.363 1.467zM18.941 9h-1.27V3.281c.81-.028 1.32-.043 1.528-.043.834 0 1.494.244 1.983.733.488.488.732 1.136.732 1.943 0 2.057-.99 3.086-2.973 3.086zm-.253-4.832v3.906c.164.016.34.024.53.024.514 0 .915-.187 1.206-.559.29-.372.435-.893.435-1.562 0-1.224-.569-1.836-1.707-1.836-.109 0-.264.009-.465.027z"/></svg>'
    },
    "08i5": function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "AlertStatus", function () {
          return n
        }), i.d(t, "Direction", function () {
          return o
        }),
        function (e) {
          e[e.Waiting = 0] = "Waiting", e[e.Success = 1] = "Success", e[e.Failure = 2] = "Failure"
        }(n || (n = {})),
        function (e) {
          e[e.Up = 1] = "Up", e[e.Down = 2] = "Down"
        }(o || (o = {}))
    },
    "0Ba2": function (e, t, i) {},
    "0F0w": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "ChartSession", function () {
        return c
      }), n = i("mrSG"), o = i("aIyQ"), r = i.n(o), s = i("yzIY"), a = i("uOxu"), l = Object(a.getLogger)("ChartSession"), c = function (e) {
        function t(t, i) {
          void 0 === i && (i = !1);
          var n = e.call(this, t, "cs", !1) || this;
          return n._sessionDisabled = !1, n._handler = null, n._criticalError = new r.a, n._disableStatistics = i, n
        }
        return n.__extends(t, e), t.prototype.destroy = function () {
          this._criticalError.destroy(), this._handler = null, e.prototype.destroy.call(this)
        }, t.prototype.serverTimeOffset = function () {
          return this._getChartApi().serverTimeOffset()
        }, t.prototype.switchTimezone = function (e) {
          return this._getChartApi().switchTimezone(this.sessionId(), e)
        }, t.prototype.resolveSymbol = function (e, t, i) {
          return this._getChartApi().resolveSymbol(this.sessionId(), e, t, i)
        }, t.prototype.requestFirstBarTime = function (e, t, i) {
          return this._getChartApi().requestFirstBarTime(this.sessionId(), e, t, i)
        }, t.prototype.createSeries = function (e, t, i, n, o, r) {
          return this._getChartApi().createSeries(this.sessionId(), e, t, i, n, o, r)
        }, t.prototype.modifySeries = function (e, t, i, n, o) {
          return this._getChartApi().modifySeries(this.sessionId(), e, t, i, n, o)
        }, t.prototype.removeSeries = function (e, t) {
          return !!this.isConnected().value() && this._getChartApi().removeSeries(this.sessionId(), e, t)
        }, t.prototype.requestMoreData = function (e, t, i) {
          return this._getChartApi().requestMoreData(this.sessionId(), e, t, i)
        }, t.prototype.requestMoreTickmarks = function (e, t, i) {
          return this._getChartApi().requestMoreTickmarks(this.sessionId(), e, t, i)
        }, t.prototype.requestMetadata = function (e, t) {
          var i = this,
            n = function () {
              return i._getChartApi().requestMetadata(i.sessionId(), e, t)
            };
          window.localForageReady.done(n).fail(function (e) {
            l.logError("localForage is not initialized, cannot proceed. " + e)
          })
        }, t.prototype.isCanCreateStudy = function (e) {
          return this._getChartApi().isCanCreateStudy(e)
        }, t.prototype.createStudy = function (e, t, i, n, o, r, s) {
          return this._getChartApi().createStudy(this.sessionId(), e, t, i, n, o, r, s)
        }, t.prototype.rebindStudy = function (e, t, i, n, o, r, s) {
          return this._getChartApi().rebindStudy(this.sessionId(), e, t, i, n, o, r, s)
        }, t.prototype.modifyStudy = function (e, t, i, n) {
          return this._getChartApi().modifyStudy(this.sessionId(), e, t, i, n)
        }, t.prototype.removeStudy = function (e, t, i) {
          return this._getChartApi().removeStudy(this.sessionId(), e, t, i)
        }, t.prototype.createPointset = function (e, t, i, n, o, r) {
          return this._getChartApi().createPointset(this.sessionId(), e, t, i, n, o, r)
        }, t.prototype.modifyPointset = function (e, t, i, n) {
          return this._getChartApi().modifyPointset(this.sessionId(), e, t, i, n)
        }, t.prototype.removePointset = function (e) {
          return this._getChartApi().removePointset(this.sessionId(), e)
        }, t.prototype.setVisibleTimeRange = function (e, t, i, n) {
          0
        }, t.prototype.criticalError = function () {
          return this._criticalError
        }, t.prototype.connect = function (t) {
          void 0 === t && (t = null), null !== t && (this._handler = t), e.prototype.connect.call(this)
        }, t.prototype.setHandler = function (e) {
          this._handler = e
        }, t.prototype.connected = function () {
          return this.isConnected().value() && !this._sessionDisabled
        }, t.prototype.disable = function () {
          this._sessionDisabled = !0
        }, t.prototype.chartApi = function () {
          return this._getChartApi()
        }, t.prototype._sendCreateSession = function () {
          var e = this;
          Object.keys(this).forEach(function (t) {
            /^(s|st|symbol_)\d+$/.test(t) && delete e[t]
          }), this._getChartApi().chartCreateSession(this.sessionId(), this._disableStatistics)
        }, t.prototype._sendRemoveSession = function () {
          this._getChartApi().chartDeleteSession(this.sessionId())
        }, t.prototype._onMessage = function (e) {
          this._handler && this._handler(e)
        }, t.prototype._onCriticalError = function (t, i) {
          this._criticalError.fire(t, i), e.prototype._onCriticalError.call(this, t, i)
        }, t
      }(s.a)
    },
    "0N6F": function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "DataSourceDangerReason", function () {
          return n
        }),
        function (e) {
          e.Spread = "spread", e.PineRepainting = "pine-repainting", e.CryptoCap = "cryptocap"
        }(n || (n = {}))
    },
    "0Pxc": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolArc";
        var o = t || n.createProperties();
        h.call(this, e, o), this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("dKqZ").ArcPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("aO4+").Point,
        r = i("GEp6").distanceToLine,
        s = i("hfHJ"),
        a = s.rotationMatrix,
        l = s.scalingMatrix,
        c = s.translationMatrix,
        u = s.transformPoint,
        h = i("Ss5c").LineDataSource,
        d = i("Ocx9").DefaultProperty,
        p = i("hayr").propertyPages;
      inherit(n, h), n.prototype.startChanging = function (e, t) {
        var i, n, s, a, l, c;
        h.prototype.startChanging.call(this, e, t), 0 !== e && 1 !== e || (i = this.pointToScreenPoint(this._points[0])[0], n = this.pointToScreenPoint(this._points[1])[0], s = this.pointToScreenPoint(this._points[2])[0], this._dist = r(i, n, s).distance, a = n.subtract(i),
          l = new o(-a.y, a.x), c = i.add(n).scaled(.5), s.subtract(c).dotProduct(l) < 0 && (this._dist = -this._dist))
      }, n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Arc"
      }, n.prototype.name = function () {
        return "Arc"
      }, n.prototype.setPoint = function (e, t) {
        var i, n, s, h, d, p, f, _, m, g, y, v, S = Object.assign({}, t),
          b = this.pointToScreenPoint(this._points[0])[0],
          w = this.pointToScreenPoint(this._points[1])[0],
          P = this.pointToScreenPoint(this._points[2])[0];
        switch (e) {
          case 0:
            b = this.pointToScreenPoint(S)[0], i = w.subtract(b), n = b.add(w).scaled(.5), s = (s = new o(-i.y, i.x)).normalized(), P = n.add(s.scaled(this._dist)), P = this.screenPointToPoint(P), this._points[0] = S, this._points[2] = P;
            break;
          case 1:
            h = r(b, w, P).distance, i = (w = this.pointToScreenPoint(S)[0]).subtract(b), n = b.add(w).scaled(.5), s = (s = new o(-i.y, i.x)).normalized(), P = n.add(s.scaled(this._dist)), P = this.screenPointToPoint(P), this._points[1] = S, this._points[2] = P;
            break;
          case 2:
            S = this.pointToScreenPoint(S)[0], h = r(b, w, S).distance, i = w.subtract(b), n = b.add(w).scaled(.5), s = (s = new o(-i.y, i.x)).normalized(), P = n.add(s.scaled(h)), d = n.add(s.scaled(-h)), p = i.length(), f = i.x / p, _ = i.y / p, m = Math.acos(f), _ < 0 && (m = -m), g = c(-n.x, -n.y), S = u(g, S), y = u(g, P), g = a(-m), S = u(g, S), y = u(g, y), g = l(1, p / (2 * h)), S = u(g, S), y = u(g, y), v = S.y * y.y >= 0 ? new o(P.x, P.y) : new o(d.x, d.y), v = this.screenPointToPoint(v), this._points[2] = v
        }
        this.normalizePoints()
      }, n.version = 2, n.prototype.migrateVersion = function (e, t, i) {
        var n, o;
        1 === e && 2 === this._points.length && (n = (2 * this._points[0].price + 3 * this._points[1].price) / 5, this._points.append({
          price: n,
          index: this._points[1].index
        })), 1 === e && 2 === this._timePoint.length && (o = {
          price: n = (2 * this._timePoint[0].price + 3 * this._timePoint[1].price) / 5,
          offset: this._timePoint[1].offset,
          time_t: this._timePoint[1].time_t
        }, this._timePoint.append(o))
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return p.LineToolArcStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new d("linetoolarc", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        h._configureProperties(e)
      }, t.LineToolArc = n
    },
    "0UyP": function (e, t, i) {
      "use strict";

      function n() {
        return o.__awaiter(this, void 0, void 0, function () {
          var e, t;
          return o.__generator(this, function (n) {
            switch (n.label) {
              case 0:
                return window.user.do_not_track ? [2, null] : [3, 1];
              case 1:
                return [4, i.e("snowplow-tracker").then(i.bind(null, "fZ4Q"))];
              case 2:
                return e = n.sent(), (t = e.getTrackerInstance()) ? [2, t] : [2, null]
            }
          })
        })
      }
      i.r(t), i.d(t, "getTracker", function () {
        return n
      });
      var o = i("mrSG")
    },
    "0Vlt": function (e, t, i) {
      "use strict";

      function n(e) {
        var t = e.target,
          i = t.closest && t.closest(":link");
        i && i.target && i.relList && i.relList.add("noopener")
      }

      function o(e) {
        e.addEventListener("click", n, !0)
      }
      i.r(t), i.d(t, "addAutoNoopenerHandler", function () {
        return o
      })
    },
    "0YCj": function (e, t, i) {
      "use strict";
      (function (e, t) {
        function n(e) {
          TradingView.merge(this, {
            palettes: {},
            inputs: [],
            plots: [],
            graphics: {},
            defaults: {}
          }), TradingView.merge(this, e);
          var t = e.fullId || e.id;
          TradingView.merge(this, n.parseIdString(t)), this.name = this.id
        }
        i("Eyy1").assert;
        var o = i("uOxu").getLogger("Chart.Study.MetaInfo"),
          r = i("9iCb").applyOverridesToStudyDefaults,
          s = i("lCO3").Version,
          a = null;
        n.VERSION_STUDY_ARG_SOURCE = 41, n.METAINFO_FORMAT_VERSION_SOS_V2 = 42, n.VERSION_PINE_PROTECT_TV_4164 = 43, n.CURRENT_METAINFO_FORMAT_VERSION = 47, n.VERSION_NEW_STUDY_PRECISION_FORMAT = 46, n.CHILD_STUDY_ALLOWED_PLOT_TYPES = ["line"], n.canPlotBeSourceOfChildStudy = function (e) {
          return n.CHILD_STUDY_ALLOWED_PLOT_TYPES.includes(e)
        }, n.CHILD_STUDY_EXCLUDE_IDS = ["CorrelationCoefficient@tv-basicstudies"], n.CHILD_STUDY_PARENT_EXCLUDE_IDS = [], n.FilledArea = {}, n.FilledArea.TYPE_PLOTS = "plot_plot", n.FilledArea.TYPE_HLINES = "hline_hline", n.versionOf = function (e) {
          var t = "_metainfoVersion" in e && isNumber(e._metainfoVersion) ? e._metainfoVersion : 0;
          return t < 0 && o.logError("Metainfo format version cannot be negative: " + t), t
        }, n.parseIdString = function (e) {
          var t, i, n, o, r = {};
          if (-1 === e.indexOf("@")) r.shortId = e, r.packageId = "tv-basicstudies", r.id = e + "@" + r.packageId, r.version = 1;
          else if (t = e.split("@"), r.shortId = t[0], 3 === (i = t[1].split("-")).length) r.packageId = i.slice(0, 2).join("-"), r.id = r.shortId + "@" + r.packageId, r.version = i[2];
          else if (1 === i.length && "decisionbar" === i[0]) r.packageId = "les-" + i[0], r.id = r.shortId + "@" + r.packageId, r.version = 1;
          else {
            if (1 !== i.length) throw new Error("unexpected study id:" + e);
            r.packageId = "tv-" + i[0], r.id = r.shortId + "@" + r.packageId, r.version = 1
          }
          return r.fullId = r.id + "-" + r.version, "tv-scripting" === r.packageId && (0 === (n = r.shortId).indexOf("Script$") || 0 === n.indexOf("StrategyScript$")) ? (o = n.indexOf("_"), r.productId = o >= 0 ? n.substring(0, o) : r.packageId) : r.productId = r.packageId, r
        }, n.getPackageName = function (e) {
          return (/^[^@]+@([^-]+-[^-]+)/.exec(e || "") || [0, "tv-basicstudies"])[1]
        }, n.cutDollarHash = function (e) {
          var t = e.indexOf("$"),
            i = e.indexOf("@");
          return -1 === t ? e : e.substr(0, t) + (i >= 0 ? e.substr(i) : "")
        }, n.hasUserIdSuffix = function (e) {
          return /^USER;[\d\w]+;\d+$/.test(e)
        }, n.isStandardPine = function (e) {
          return /^(Strategy)?Script\$STD;.*@tv-scripting$/.test(e)
        }, n.getSourceIdByInputs = function (e, t) {
          var i, o, r;
          if (!Array.isArray(e) || !t) return null;
          for (i = 0; i < e.length; ++i)
            if (o = e[i], n.isSourceInput(o) && "string" == typeof t[o.id]) return ~(r = t[o.id]).indexOf("$") && (r = r.split("$")[0]), r;
          return null
        }, n.getSourceInputIds = function (e) {
          var t, i, o = [],
            r = e.inputs;
          for (t = 0; t < r.length; ++t) i = r[t], n.isSourceInput(i) && o.push(i.id);
          return o
        }, n.setChildStudyMetaInfoPropertiesSourceId = function (t, i, o) {
          var r, s, a, l;
          for (r = 0; r < t.inputs.length; ++r) s = t.inputs[r], n.isSourceInput(s) && o instanceof e && o.inputs && o.inputs[s.id] && (a = o.inputs[s.id].value()).indexOf("$") > 0 && (l = a.replace(/^[^\$]+/, i), o.inputs[s.id].setValue(l))
        }, n.patchChildStudyMetaInfoState = function (e) {
          e.state && function e(t) {
            if ("object" == typeof t)
              for (var i in t) "string" == typeof t[i] && /^[^\$]+\$\d+$/.test(t[i]) ? t[i] = t[i].replace(/^[^\$]+/, "{pid}") : e(t[i])
          }(e.state.inputs), e.state.isChildStudy = !0
        }, n.prototype.parseValue = function (e, t) {
          return "bool" === e ? TradingView.parseBool(t) : t
        }, n.prototype.defaultInputs = function () {
          var e, t = [];
          for (e = 0; e < this.inputs.length; e++) t.push(this.inputs[e].defval);
          return t
        }, n.prototype.state = function (e) {
          var t, i = {};
          for (t in this) this.hasOwnProperty(t) && (i[t] = this[t], !0 !== e && "id" === t && (i[t] += "-" + this.version));
          return i
        }, n.prototype.symbolInputId = function () {
          var e = this.inputs.filter(function (e) {
            return "symbol" === e.type
          });
          return e.length > 0 ? e[0].id : null
        }, n.findStudyMetaInfoByDescription = function (e, t) {
          if (e) {
            for (var i = 0; i < e.length; ++i)
              if (e[i].description.toLowerCase() === t.toLowerCase()) return e[i];
            throw new Error("unexpected study id:" + t)
          }
          throw new Error("There is no studies metainfo")
        }, n._findStudyMetaInfo = function (e, t) {
          for (var i = 0; i < e.length; i += 1)
            if (e[i].id === t) return [i, e[i]];
          return []
        }, n.findStudyMetaInfo = function (e, t) {
          if (!e) throw new ReferenceError("There is no studies metainfo");
          var i = n._findStudyMetaInfo(e, t)[1];
          if (!i) throw new ReferenceError("unexpected study id:" + t);
          return i
        }, n.isParentSourceId = function (e) {
          return "string" == typeof e && /^[^\$]+\$\d+$/.test(e)
        }, n.isSourceInput = function (e) {
          return e.id && (("source" === e.id || "src" === e.id) && ("text" === e.type || "source" === e.type) || "source" === e.type)
        }, n.getChildSourceInputTitles = function (e, t, i) {
          var o, r, s, a, l = {};
          if (t.plots && t.plots.length && e.options && e.options.length)
            for (o = 0; o < e.options.length; ++o) s = (r = e.options[o]) && +r.split("$")[1], (a = isFinite(s) && t.plots[s]) && ~n.CHILD_STUDY_ALLOWED_PLOT_TYPES.indexOf(a.type) && (l[r] = t.styles && t.styles[a.id] && t.styles[a.id].title || a.id, i && (l[r] = i + ":â€‰" + l[r]));
          return l
        }, n.removeStudyMetaInfo = function (e, t, i) {
          if (e) return function (i) {
            return void 0 !== (i = void 0 !== i ? i : n._findStudyMetaInfo(e, t.id)[0]) && (e.splice(i, 1), defaults.remove(n.getStudyPropertyRootName(t)), !0)
          }(i);
          throw new Error("There are no studies metainfo")
        }, n.getStudyPropertyRootName = function (e) {
          var t = "study_" + e.id;
          return e.pine && e.pine.version && (t += "_" + e.pine.version.replace(".", "_")), t
        }, n.addOrReplaceStudyMetaInfo = function (e, t) {
          var r, a, l, c, u = new n(t),
            h = n._findStudyMetaInfo(e, u.id),
            d = h[0],
            p = h[1],
            f = i("Si3H").migrateMetaInfoAndPropState;
          if (p) {
            if (r = p.pine && p.pine.version && s.parse(p.pine.version), null != (a = u.pine && u.pine.version && s.parse(u.pine.version)) && null != r && !a.isGreaterOrEqual(r)) return f(u), u;
            n.removeStudyMetaInfo(e, u, d)
          } else n.removeStudyMetaInfo(e, u, d) && o.logDebug("Study with id=" + u.id + " already exists in the model!");
          return e.push(u), u.defaults && ((l = TradingView.clone(u.defaults)).precision = "default", c = n.getStudyPropertyRootName(u), defaults.create(c, l)), f(u), u
        }, n.overrideDefaults = function (e) {
          null !== a && 0 !== e.length && r(a, e, function (e) {
            return TradingView.defaultProperties["study_" + e] || null
          })
        }, n.setDefaultsOverrides = function (e) {
          a = e
        }, n.isScriptStrategy = function (e) {
          if (e.extra && e.extra.kind) return e.extra.kind === TVScript.Kinds.STRATEGY;
          if (!0 === e.isTVScriptStrategy) return !0;
          var t = e.TVScriptSourceCode || e.scriptSource;
          return !!t && TVScript.isStrategy(t)
        }, n.getOrderedInputIds = function (e) {
          var t, i, n = [],
            o = e.inputs;
          for (t = 0; t < o.length; ++t) i = o[t], n.push(i.id);
          return n
        }, n.canBeChild = function (e) {
          var t, i, o;
          if (e && "string" == typeof e) return !0;
          if (!e || e.extra && !n.isAllowedSourceInputsCount(e.extra.sourceInputsCount) || !0 === e.canNotBeChild || !1 === e.canBeChild || ~n.CHILD_STUDY_EXCLUDE_IDS.indexOf(e.id) || e.isTVScriptStrategy || e.TVScriptSourceCode && TVScript.isStrategy(e.TVScriptSourceCode)) return !1;
          if (e.isTVScriptStubToCompile) return !0;
          for (t = e.inputs, i = 0, o = 0; o < t.length; ++o) n.isSourceInput(t[o]) && ++i;
          return n.isAllowedSourceInputsCount(i)
        }, n.isAllowedSourceInputsCount = function (e) {
          return 1 === e
        }, n.canHaveChildren = function (e) {
          if (e) {
            if (e.isTVScriptStrategy || e.TVScriptSourceCode && TVScript.isStrategy(e.TVScriptSourceCode)) return !1;
            if (e.id && !~n.CHILD_STUDY_PARENT_EXCLUDE_IDS.indexOf(e.id) && Array.isArray(e.plots))
              for (var t = 0; t < e.plots.length; ++t)
                if (~n.CHILD_STUDY_ALLOWED_PLOT_TYPES.indexOf(e.plots[t].type)) return !0
          }
          return !1
        }, TradingView.StudyMetaInfo = n, t && t.exports && (t.exports = n)
      }).call(this, i("tc+8"), i("YuTi")(e))
    },
    "0gbU": function (e, t, i) {
      "use strict";

      function n(e, t, i, n) {
        o.call(this, e, t, i, n);
        var r = this;
        this._properties.minTick.listeners().subscribe(null, function () {
          r._recreateFormatter()
        }), this.properties().minTick.listeners().subscribe(null, function () {
          r._model.invalidate(new a(a.FULL_UPDATE))
        }), this._properties.merge({
          skipHistogramBaseOnAutoScale: !0
        })
      }
      var o = i("GVHu").Study,
        r = i("2Fqk").CompareLegendView,
        s = i("TrvT").CompareDataWindowView,
        a = i("HvwJ"),
        l = i("hayr").propertyPages,
        c = i("Kxc7"),
        u = i("8aff").CompareStudyPriceAxisView,
        h = i("8xSi").CompareStatusView,
        d = i("n5al").createSeriesFormatter,
        p = !c.enabled("hide_study_compare_legend_item"),
        f = c.enabled("study_overlay_compare_legend_option"),
        _ = c.enabled("force_exchange_as_title"),
        m = c.enabled("uppercase_instrument_names");
      inherit(n, o), n.prototype.createPriceAxisView = function (e) {
        return new u(this, {
          plotIndex: "compare"
        })
      }, n.prototype._showLastValueOnPriceScale = function () {
        return this._model.properties().scalesProperties.showSeriesLastValue.value()
      }, n.prototype.createViews = function () {
        this._legendView || (this._legendView = new r(this, this._model)), this._dataWindowView || (this._dataWindowView = new s(this, this._model)), this._statusView || (this._statusView = new h(this, this._model.properties().scalesProperties.textColor)), o.prototype.createViews.call(this)
      }, n.prototype._tryCreateFormatter = function () {
        var e = this.properties().inputs.symbol.value(),
          t = this._resolvedSymbols ? this._resolvedSymbols[e] : null;
        return d(t, this.properties().minTick.value())
      }, n.prototype.symbol = function () {
        var e, t = this.properties().inputs.symbol.value(),
          i = this._resolvedSymbols ? this._resolvedSymbols[t] : null,
          n = i && i.exchange && 0 !== i.exchange.length;
        return e = _ && n ? i.exchange : i ? i.name : t, m ? e.toUpperCase() : e
      }, n.prototype.title = function (e, t, i, n) {
        var o, r = this.properties().inputs.symbol.value(),
          s = this._resolvedSymbols ? this._resolvedSymbols[r] : null,
          a = s && s.exchange && 0 !== s.exchange.length;
        return _ && a ? o = s.exchange : s ? (o = f && "description" === this._model.mainSeries().properties().statusViewStyle.symbolTextSource.value() ? s.description : s.name, a && !n && (o += ", " + s.exchange)) : o = r, m ? o.toUpperCase() : o
      }, n.prototype.symbolInfo = function () {
        if (!this._resolvedSymbols) return null;
        var e = this._properties.inputs.symbol.value();
        return e ? this._resolvedSymbols[e] : null
      }, n.prototype.lastPriceLabelFixedCoordinate = function () {
        return this._priceAxisViews[0]._fixedCoordinate
      }, n.prototype.tags = function () {
        var e = this.symbol();
        return e ? [e] : []
      }, n.prototype.statusView = function () {
        return p ? o.prototype.statusView.call(this) : null
      }, n.prototype.getInputsPropertyPage = function () {
        return l.StudyCompareInputsPropertyPage
      }, n.prototype.guiPlotName = function (e) {
        return this.properties().inputs.symbol.value()
      }, n.prototype.canOverrideMinTick = function () {
        return !0
      }, t.study_Compare = n
    },
    "0h28": function (e, t, i) {
      "use strict";
      (function (t) {
        var n, o = function () {
            function e(e, t) {
              var i, n;
              for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
            }
            return function (t, i, n) {
              return i && e(t.prototype, i), n && e(t, n), t
            }
          }(),
          r = i("TxTq"),
          s = (n = r) && n.__esModule ? n : {
            default: n
          },
          a = i("xlbu"),
          l = i("uOxu"),
          c = (0, l.getLogger)("ReutersCalendar"),
          u = function () {
            function e(i) {
              if (function (e, t) {
                  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), !(this instanceof e)) throw new Error("ChartEvents is a constructor");
              this.changed = new t, this.reset(i), this.pendingDfd = null, this._boundPushstreamHandler = this._pushstreamHandler.bind(this), s.default.on("chartevents-reuters", this._boundPushstreamHandler)
            }
            return o(e, [{
              key: "items",
              value: function () {
                return this._items
              }
            }, {
              key: "reset",
              value: function (e) {
                this.pendingDfd && this.pendingDfd.reject(), this._items = [], this.itemsById = {}, this.minObtainedTimestamp = 1 / 0, this.noResults = !1, e && null != e.from ? this.from = Number(e.from) : this.from = Date.now() - 864e5, this._historyLimit = e && e.historyLimit, this._maxItems = 1 / 0, e && e.maxItems > 0 && (this._maxItems = +e.maxItems), e && null != e.to ? this.to = e.to : this.to = this.from + this.defaultSelectionTimeAmount, this.from = this.cacheFriendlyTimestamp(this.from), this.to = this.cacheFriendlyTimestamp(this.to), this.currencyFilter = e && e.currencyFilter ? e.currencyFilter : [], e && null != e.minImportance && isFinite(+e.minImportance) ? this.minImportance = Math.max(-1, Math.min(1, Math.floor(e.minImportance))) : this.minImportance = -1
              }
            }, {
              key: "cacheFriendlyTimestamp",
              value: function (e) {
                return e - e % 36e5
              }
            }, {
              key: "formatTimestampForRequest",
              value: function (e) {
                return new Date(e).toISOString()
              }
            }, {
              key: "requestMore",
              value: function (e) {
                var t, i, n, o, r, s, l = this;
                return this.pendingDfd ? this.pendingDfd.promise() : (isFinite(this.minObtainedTimestamp) && null != this._historyLimit && Number(new Date(this.from)) < this._historyLimit && (this.noResults = !0), this._items.length >= this._maxItems && (this.noResults = !0), this.noResults ? $.Deferred().resolve({
                  added: [],
                  changed: [],
                  noResults: !0
                }).promise() : (t = $.Deferred(), this.pendingDfd = t, t.always(function () {
                    l.pendingDfd = null
                  }), i = {}, -1 !== this.minImportance && (i.minImportance = this.minImportance), isFinite(this.minObtainedTimestamp) && (this.to = this.from, this.from = this.from - this.defaultSelectionTimeAmount), e && e.from && e.from < this.minObtainedTimestamp && (this.from = this.cacheFriendlyTimestamp(e.from)), i.from = this.formatTimestampForRequest(this.from),
                  i.to = this.formatTimestampForRequest(this.to), this.currencyFilter.length && (i.currencies = this.currencyFilter.toString()), n = Object.keys(i).map(function (e) {
                    return e + "=" + i[e]
                  }).join("&"), o = this.eventsUrl + (n ? "?" + n : ""), r = Date.now(), s = $.ajax({
                    method: "GET",
                    url: o,
                    dataType: "json"
                  }).done(function (e, i, n) {
                    var o, s, u = Date.now() - r;
                    if (a.telemetry.sendReport("calendars", "chartevents_http_status", {
                        value: n.status
                      }), a.telemetry.sendReport("calendars", "chartevents_response_time_frame", {
                        value: u
                      }), t === l.pendingDfd) {
                      if (!e || !e.status || "error" === e.status) return a.telemetry.sendReport("calendars", "chartevents_error"), o = e && e.errmsg || "invalid response", c.logError(o), void t.reject(new Error(o));
                      a.telemetry.sendReport("calendars", "chartevents_ok"), l.minObtainedTimestamp = l.from, "no_data" === e.status && (l.noResults = !0, l.minObtainedTimestamp = -1 / 0), s = l._mergeItems(e.result || []), t.resolve(s), l.changed.fire(s)
                    }
                  }).fail(function (e, i) {
                    if (t === l.pendingDfd && "abort" !== i) {
                      c.logWarn("ChartEvents error on request {0}".format(o), e);
                      var n = Date.now() - r;
                      a.telemetry.sendReport("calendars", "chartevents_error"), a.telemetry.sendReport("calendars", "chartevents_http_status", {
                        value: e.status || 400
                      }), a.telemetry.sendReport("calendars", "chartevents_response_time_frame", {
                        value: n
                      })
                    }
                    t.reject(e)
                  }), t.fail(function () {
                    s.abort()
                  }), t.promise()))
              }
            }, {
              key: "destroy",
              value: function () {
                s.default.off("chartevents-reuters", this._boundPushstreamHandler), this._items = [], this.reset()
              }
            }, {
              key: "_mergeItems",
              value: function (e) {
                var t, i, n, o, r, s, a, l = this,
                  c = {
                    added: [],
                    changed: [],
                    noResults: l.noResults
                  },
                  u = [];
                for (t = e.length; t--;) i = e[t], -1 !== this.minImportance && this.minImportance > i.importance || (i.timestamp = Date.parse(i.date), null != this._historyLimit && i.timestamp < this._historyLimit || u.push(i));
                for (n = 0; n < u.length; n++)
                  if (o = u[n], this.itemsById[o.id]) {
                    for (a in r = !1, s = this.itemsById[o.id], o) s[a] !== o[a] && (s[a] = o[a], r = !0);
                    r && c.changed.push(s)
                  } else this._items.length === this._maxItems && (delete this.itemsById[this._items[0].id], this._items.shift(), c.added.shift()), this.itemsById[o.id] = o, this._items.push(o), c.added.push(o);
                return c
              }
            }, {
              key: "_pushstreamHandler",
              value: function (e) {
                var t = this._mergeItems([].concat(e));
                (t.changed.length || t.added.length) && this.changed.fire(t)
              }
            }, {
              key: "defaultSelectionTimeAmount",
              get: function () {
                return 6048e5
              }
            }, {
              key: "eventsUrl",
              get: function () {
                return window.CHARTEVENTS_URL + "events" || !1
              }
            }]), e
          }();
        e.exports = u
      }).call(this, i("aIyQ"))
    },
    "0waE": function (e, t, i) {
      "use strict";

      function n() {
        return s.replace(/[xy]/g, function (e) {
          var t = 16 * Math.random() | 0,
            i = "x" === e ? t : 3 & t | 8;
          return i.toString(16)
        })
      }

      function o() {
        return r(12)
      }

      function r(e) {
        var t, i, n = "";
        for (t = 0; t < e; ++t) i = Math.round(Math.random() * (a.length - 1)), n += a[i];
        return n
      }
      var s, a;
      i.r(t), i.d(t, "guid", function () {
        return n
      }), i.d(t, "randomHash", function () {
        return o
      }), i.d(t, "randomHashN", function () {
        return r
      }), s = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx", a = "0123456789abcdefghijklmopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"
    },
    "0wn8": function (e, t, i) {},
    "0xda": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolDisjointAngle";
        var r = t || n.createProperties();
        o.call(this, e, r),
          this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("iTb9").DisjointAnglePaneView;
            this._setPaneViews([new t(this, this._model)])
          }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.version = 1, n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Disjoint Angle"
      }, n.prototype.name = function () {
        return "Disjoint Angle"
      }, n.prototype.addPoint = function (e, t) {
        return t && t.shift() && 2 === this.points().length && this._snapPoint45Degree(e, this.points()[this.points().length - 2]), o.prototype.addPoint.call(this, e)
      }, n.prototype.setLastPoint = function (e, t) {
        return t && t.shift() && 2 === this.points().length && this._snapPoint45Degree(e, this.points()[this.points().length - 2]), o.prototype.setLastPoint.call(this, e)
      }, n.prototype.setPoint = function (e, t, i) {
        var n, r, s = .5 * (this._points[1].price + this._points[2].price);
        i && i.shift() && 1 === e && (n = 0, this._snapPoint45Degree(t, this.points()[n])), e < 3 && o.prototype.setPoint.call(this, e, t), 0 !== e && 2 !== e && (1 === e ? (r = this._points[1].price - s, this._points[2].price = this._points[1].price - 2 * r) : 3 === e && (r = t.price - this._points[2].price, this._points[0].price = this._points[1].price - r, this._points[0].index = t.index))
      }, n.prototype.canHasAlert = function () {
        return !0
      }, n.prototype._getAlertPlots = function () {
        var e, t, i, n, o, r, s, a, l, c = this._points[0],
          u = this._points[1],
          h = [];
        return c.index <= u.index ? (h.push(c), h.push(u)) : (h.push(u), h.push(c)), (e = this._points[2]).time = u.time, e.index = u.index, t = {
          price: e.price + (u.price - c.price),
          time: c.time,
          index: c.index
        }, i = [], e.index <= t.index ? (i.push(e), i.push(t)) : (i.push(t), i.push(e)), h[0].price > i[0].price ? (n = h, o = i) : i[0].price > h[0].price ? (n = i, o = h) : i[1].price > h[1].price ? (n = i, o = h) : (n = h, o = i), a = this.properties().extendLeft.value(), l = this.properties().extendRight.value(), c.index <= u.index ? (r = a, s = l) : (r = l, s = a), [this._linePointsToAlertPlot(n, "Upper", r, s), this._linePointsToAlertPlot(o, "Lower", r, s)]
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolDisjointAngleStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetooldisjointangle", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolDisjointAngle = n
    },
    "15Qe": function (e, t, i) {
      "use strict";

      function n(e) {
        var t = e.shortSymbol(),
          i = "fired:price:" + e.id;
        return {
          id: i,
          fired: new Date(e.get("fireTime")),
          type: r.AlertNotificationType.Fired,
          desktopNotificationTitle: window.t("Alert on __title__", {
            title: t
          }),
          description: e.get("description"),
          title: t,
          alertId: Number(e.get("alertId")),
          alertType: s.AlertType.Price,
          eventId: e.get("id"),
          notifyWith: {
            email: !!e.get("sendEmail"),
            popup: !!e.get("showPopup"),
            sms: !!e.get("sendSms"),
            sound: !!e.get("playSound")
          },
          soundParams: {
            duration: e.get("soundDuration") || 0,
            name: e.get("soundFile") || a.DEFAULT_SOUNDS.alert
          }
        }
      }

      function o(e) {
        var t, i;
        return "fire_control" === e.reason ? (t = 6e4, i = new Date(Math.round(Date.now() / t) * t), {
          id: "fire_control:price:" + e.alertId + ":" + i.getTime() / 1e3,
          fired: i,
          type: r.AlertNotificationType.FireControl,
          desktopNotificationTitle: e.shortSymbol + window.t("The alert is triggered too often"),
          description: e.description,
          title: e.shortSymbol,
          alertId: e.alertId,
          alertType: s.AlertType.Price,
          notifyWith: {
            popup: !0
          }
        }) : null
      }
      var r, s, a;
      i.r(t), i.d(t, "getNotificationFromPriceEvent", function () {
        return n
      }), i.d(t, "getNotificationFromAlertStopped", function () {
        return o
      }), i("YFKU"), r = i("JZcM"), s = i("AxQ0"), a = i("hp/T")
    },
    "1IXQ": function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e, t, i, o, r, s, a) {
          this._options = Object.assign({}, O, r), this._pane = e, this._priceScale = null, this._isLeft = n.isLeft(o), this._properties = t, this._rendererOptionsProvider = i, this._axisInfo = s, this._backgroundBasedTheme = a, this._size = null, this._offset = 0, this._cell = document.createElement("div"), this._cell.className = "price-axis", this._cell.style.width = "25px", this._cell.style.left = "0", this.canvas = v(this._cell, new S(16, 16)), this.canvas.style.position = "absolute", this.canvas.style.zIndex = "1", this.canvas.style.left = "0", this.canvas.style.top = "0", this.ctx = this.canvas.getContext("2d"), this.top_canvas = v(this._cell, new S(16, 16)), this.top_canvas.style.position = "absolute", this.top_canvas.style.zIndex = "2", this.top_canvas.style.left = "0", this.top_canvas.style.top = "0", this.top_ctx = this.top_canvas.getContext("2d"), this.restoreDefaultCursor(), this.update(), this._updateTimeout = null, this._mouseEventHandler = new b(this.top_canvas, this, !0), this.contextMenu = null, this.actions = null, this._isVisible = !0, this._widthCache = new l(50), this._tickmarksCache = new p(12, k, "", "#000"), this._color = null, this._fontSize = null, this._prevOptimalWidth = 0, this._highlighted = !1
        }

        function o(e) {
          var t = new x(e);
          return function (e, i) {
            return isNumber(i) && !e.isLog() ? t.format(i) : ""
          }
        }
        var r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R;
        i("jJ9X"), r = i("aO4+"), s = r.Point, a = i("qFKp").CheckMobile, l = i("u+0B").TextWidthCache, c = i("7KDR"), u = c.Action, h = c.Separator, d = i("5VQP").ContextMenuManager, p = i("I5CP"), f = i("HvwJ"), _ = i("ikwP"), m = _.resizeCanvas, g = _.hardResizeCanvas, y = _.clearRect, v = _.addCanvasTo, S = _.Size, b = i("S8xo").MouseEventHandler, w = i("PC8g").trackEvent, P = i("XlJ7").makeFont, T = i("YmeR").ActionBinder, C = i("uOxu").getLogger("Chart.PriceAxisWidget"), x = i("T6Of").LimitedPrecisionNumericFormatter, E = i("CW80").isLineTool, I = 0, A = i("1gmO"), L = A.AlertLabel, I = A.ALERT_LABEL_WIDTH, D = i("EsvI").themes, k = i("zDbI").CHART_FONT_FAMILY, O = {
          contextMenuEnabled: !0
        }, M = window.t("Merge All Scales Into One"), n.LHS = "left", n.RHS = "right", n.isLeft = function (e) {
          return e === n.LHS || e !== n.RHS && (C.logDebug("PriceAxisWidget.isLeft: wrong side"), !1)
        }, n.prototype.destroy = function () {
          null !== this.actions && this.actions.reset && this.actions.reset.destroy(), this._mouseEventHandler.destroy(), null !== this._priceScale && this._priceScale.onMarksChanged.unsubscribe(this, this.onMarksChanged), this._priceScale = null, this._updateTimeout && (clearTimeout(this._updateTimeout), this._updateTimeout = null), $(this.top_canvas).remove(), this._destroyed = !0
        }, n.prototype.getElement = function () {
          return this._cell
        }, n.prototype.backgroundColor = function () {
          return this._pane.chart().properties().paneProperties.background.value()
        }, n.prototype.lineColor = function () {
          return this._properties.lineColor.value()
        }, n.prototype.textColor = function () {
          return this._properties.textColor.value()
        }, n.prototype.fontSize = function () {
          return this._properties.fontSize.value()
        }, n.prototype.baseFont = function () {
          return P(this.fontSize(), k, "")
        }, n.prototype._hasAlertLabel = function () {
          return this._priceScale.dataSources().some(function (e) {
            return e instanceof L
          })
        }, n.prototype.rendererOptions = function () {
          var e = this._rendererOptionsProvider.options();
          return this._color === e.color && this._fontSize === e.fontSize || (this._tickmarksCache.reset(e.fontSize, k, "", e.color), this._color = e.color), this._fontSize !== e.fontSize && (this._widthCache.reset(), this._fontSize = e.fontSize), this._hasAlertLabel() && (e = Object.assign({}, e, {
            paddingInner: Math.max(e.paddingInner, I)
          })), e
        }, n.prototype.dataSourceAtPoint = function (e, t) {
          function i(e, t) {
            var i = _ ? _.result() : 0;
            e.result() > i && (_ = e, f = t)
          }
          var n, o, r, a, l, c, u, h, d = this._grouppedSources(),
            p = d.sources.concat(Array.from(d.topLevelSources)).concat(this._pane.state().customSources()),
            f = null,
            _ = null;
          if (!this._priceScale) return null;
          for (n = new s(e, t), o = this._pane.state(), r = p.length - 1; r >= 0; --r)
            if ((l = (a = p[r]).priceAxisViews(o, this._priceScale)) && 0 !== l.length)
              for (c = l.length - 1; c >= 0; --c) null !== (u = l[c].renderer()) && void 0 !== u.hitTest && null !== (h = u.hitTest(n, this._size.w, this._isLeft ? "left" : "right")) && i(h, a);
          return f
        }, n.prototype._setCursorClassName = function (e) {
          var t = "";
          e && (t = "price-axis--cursor-" + e), this._currentCursorClassName !== t && (this._currentCursorClassName && this._cell.classList.remove(this._currentCursorClassName), t && this._cell.classList.add(t), this._currentCursorClassName = t)
        }, n.prototype.mouseClickEvent = function (e) {
          var t = this.dataSourceAtPoint(e.localX, e.localY);
          t && this._pane.chart().model().selectionMacro(function (e) {
            e.selection().isSelected(t) || (e.clearSelection(), e.addSourceToSelection(t))
          })
        }, n.prototype.mouseMoveEvent = function (e) {
          this._priceScale && (this.dataSourceAtPoint(e.localX, e.localY) ? this._setCursorClassName("pointer") : this._setCursorClassName(""))
        }, n.prototype.mouseDownEvent = function (e) {
          var t, i, n = this._pane.chart().model().model().zoomEnabled();
          !this.priceScale().isEmpty() && n && (t = this._pane.chart().model(), i = this._pane.state(), this._mousedown = !0, t.startScalePrice(i, this.priceScale(), e.localY))
        }, n.prototype.pressedMouseMoveEvent = function (e) {
          var t = this._pane.chart().model(),
            i = this._pane.state(),
            n = this.priceScale();
          this.setCursor("ns-resize"), t.scalePriceTo(i, n, e.localY)
        }, n.prototype.mouseDownOutsideEvent = function (e) {
          var t, i = this._pane.chart().model(),
            n = this._pane.state();
          n && (t = this.priceScale(), this._mousedown && (this._mousedown = !1, i.endScalePrice(n, t), this.restoreDefaultCursor()))
        }, n.prototype.mouseUpEvent = function (e) {
          var t = this._pane.chart().model(),
            i = this._pane.state(),
            n = this.priceScale();
          this._mousedown = !1, t.endScalePrice(i, n), this.restoreDefaultCursor()
        }, n.prototype._initActions = function (e) {
          var t, o;
          this._pane.state() && null === this.actions && (this.actions = {}, t = this, o = this._pane.chart().model(),
            this.actions.reset = new u({
              label: window.t("Reset Price Scale"),
              icon: i("LdoW"),
              shortcut: "Alt+R",
              shortcutHint: "Alt + R",
              statName: "ResetScale",
              onExecute: n.prototype.reset.bind(this)
            }), this.actions.setAutoScale = new u({
              label: window.t("Auto (Fits Data To Screen)"),
              checkable: !0,
              checked: !0,
              statName: "ToggleAutoScale",
              onExecute: function () {
                o.togglePriceScaleAutoScaleMode(t.priceScale()), t._updateScalesActions()
              }
            }), this.actions.setPercentage = new u({
              label: window.t("Percent", {
                context: "scale_menu"
              }),
              checkable: !0,
              checked: this.priceScale().isPercentage(),
              statName: "TogglePercantage",
              onExecute: function () {
                o.togglePriceScalePercentageScaleMode(t.priceScale()), t._updateScalesActions()
              }
            }), this.actions.setIndexedTo100 = new u({
              label: window.t("Indexed to 100", {
                context: "scale_menu"
              }),
              checkable: !0,
              checked: this.priceScale().isIndexedTo100(),
              statName: "ToggleIndexedTo100",
              onExecute: function () {
                o.togglePriceScaleIndexedTo100ScaleMode(t.priceScale()), t._updateScalesActions()
              }
            }), this.actions.setLog = new u({
              label: window.t("Logarithmic", {
                context: "scale_menu"
              }),
              checkable: !0,
              checked: this.priceScale().isLog(),
              statName: "ToggleLogScale",
              onExecute: function () {
                o.togglePriceScaleLogScaleMode(t.priceScale()), t._updateScalesActions()
              }
            }), this.actions.setRegular = new u({
              label: window.t("Regular", {
                context: "scale_menu"
              }),
              checkable: !0,
              checked: this.priceScale().isRegular(),
              statName: "ToggleRegularScale",
              onExecute: function () {
                o.setPriceScaleRegularScaleMode(t.priceScale()), t._updateScalesActions()
              }
            }), this.actions.alignLabels = new u({
              label: window.t("No Overlapping Labels", {
                context: "scale_menu"
              }),
              checkable: !0,
              checked: !1,
              statName: "TogglePreciseLabels"
            }), this.actions.alignLabels.binding = new T(this.actions.alignLabels, this.priceScale().properties().alignLabels, this._pane.chart().model(), "No Overlapping Labels"), this.actions.invertScale = new u({
              label: window.t("Invert Scale", {
                context: "scale_menu"
              }),
              checkable: !0,
              checked: this.priceScale().isInverted(),
              statName: "Invert Scale",
              onExecute: function () {
                o.invertPriceScale(t.priceScale()), t._updateScalesActions()
              }
            }), this._updateScalesActions())
        }, n.prototype._logAction = function () {
          return this._isMainSeriesAxis() ? this._pane.chart().actions().logSeriesScale : this.actions.setLog
        }, n.prototype._percentageAction = function () {
          return this._isMainSeriesAxis() ? this._pane.chart().actions().percentSeriesScale : this.actions.setPercentage
        }, n.prototype._indexedTo100Action = function () {
          return this._isMainSeriesAxis() ? this._pane.chart().actions().indexedTo100SeriesScale : this.actions.setIndexedTo100
        }, n.prototype._autoScaleAction = function () {
          return this._isMainSeriesAxis() ? this._pane.chart().actions().autoSeriesScale : this.actions.setAutoScale
        }, n.prototype._regularScaleAction = function () {
          return this._isMainSeriesAxis() ? this._pane.chart().actions().regularSeriesScale : this.actions.setRegular
        }, n.prototype._lockScaleAction = function () {
          var e = this._pane.chart().actions().lockSeriesScale,
            t = R(this.priceScale(), this._pane.chart().model().model().mainSeriesScaleRatio());
          return e.update({
            shortcutHint: t
          }), e
        }, n.prototype._invertAction = function () {
          return this._isMainSeriesAxis() ? this._pane.chart().actions().invertSeriesScale : this.actions.invertScale
        }, n.prototype._isMainSeriesAxis = function () {
          return this.priceScale().hasSeries()
        }, n.prototype._updateMainSeriesScalesActions = function () {
          this._isMainSeriesAxis() && null !== this.actions && this._updateScalesActions()
        }, n.prototype._updateScalesActions = function () {
          var e = this.priceScale(),
            t = this._isMainSeriesAxis(),
            i = e.mainSource().properties(),
            n = t && e.isLockScale(),
            o = t && i.style.value() === TradingView.Series.STYLE_PNF;
          this.actions.setRegular.update({
            checked: e.isRegular(),
            disabled: n || o
          }), this.actions.setPercentage.update({
            checked: e.isPercentage(),
            disabled: n || o
          }), this.actions.setIndexedTo100.update({
            checked: e.isIndexedTo100(),
            disabled: n || o
          }), this.actions.setLog.update({
            checked: e.isLog(),
            disabled: n || o
          }), this.actions.setAutoScale.update({
            checked: e.isAutoScale(),
            disabled: e.properties().autoScaleDisabled.value()
          })
        }, n.prototype.mouseDoubleClickEvent = function (e) {
          var t = this.dataSourceAtPoint(e.localX, e.localY);
          t ? this._pane.processDoubleClickOnSource(t) : (this.reset(), w("GUI", "Double click price scale"))
        }, n.prototype.contextMenuEvent = function (e) {
          var t;
          if (this._options.contextMenuEnabled) {
            if (null !== (t = this.dataSourceAtPoint(e.localX, e.localY))) return void this._pane.chart().model().selectionMacro(function (i) {
              i.selection().isSelected(t) || (i.clearSelection(), i.addSourceToSelection(t)), this._pane.showContextMenuForSelection(e)
            }.bind(this));
            this._createContextMenu().then(function (t) {
              t.show(e)
            })
          }
        }, n.prototype._createContextMenu = function () {
          return d.createMenu(this.getContextMenuActions(), {
            statName: "PriceScaleContextMenu"
          })
        }, n.prototype._createMergeScalesAction = function () {
          var e, t = this._pane.chart().actions(),
            i = this._pane.chart().model().model(),
            n = i.priceScaleSlotsCount();
          return n.left + n.right === 1 ? 0 === n.left ? t.moveScaleToLeft : t.moveScaleToRight : ((e = []).push(t.mergeLeftScalesAction), e.push(t.mergeRightScalesAction), new u({
            label: M,
            subItems: e
          }))
        }, n.prototype.getContextMenuActions = function () {
          var e, i;
          return this._initActions(), e = this._pane.chart().actions(), (i = []).push(this.actions.reset, new h, this._autoScaleAction()), this._isMainSeriesAxis() && i.push(this._lockScaleAction()), i.push(e.scaleSeriesOnly, this._invertAction(), new h, this._regularScaleAction(), this._percentageAction(), this._indexedTo100Action(), this._logAction(), new h), a.any() || (i.push(this._createMergeScalesAction()), i.push(new h)), t.enabled("fundamental_widget") || i.push(new u({
            label: window.t("Labels"),
            subItems: [e.showSymbolLabelsAction, e.showSeriesLastValue, e.showSeriesPrevCloseValue, e.showStudyPlotNamesAction, e.showStudyLastValue, this.actions.alignLabels]
          })), t.enabled("countdown") && i.push(e.showCountdown), !TradingView.onWidget() && t.enabled("show_chart_property_page") && t.enabled("chart_property_page_scales") && e.scalesProperties && i.push(new h, e.scalesProperties), i
        }, n.prototype._sameSideSources = function () {
          var e = this._isLeft ? "left" : "right";
          return this._pane.state().orderedSources(e)
        }, n.prototype._grouppedSources = function () {
          var e, t, i = this._pane,
            n = i.chart().model(),
            o = this._sameSideSources().slice(),
            r = i.state(),
            s = this.priceScale(),
            a = new Set,
            l = n.lineBeingEdited() || n.lineBeingCreated();
          if (l && a.add(l), n.sourcesBeingMoved().forEach(function (e) {
              a.add(e)
            }), n.selection().sources().forEach(function (e) {
              a.add(e)
            }), n.hoveredSource() && a.add(n.hoveredSource()), s === r.defaultPriceScale())
            for (e = this._pane.state().dataSources(), t = 0; t < e.length; t++) r.isOverlay(e[t]) && o.push(e[t]);
          return {
            sources: o,
            topLevelSources: a
          }
        }, n.prototype.backLabels = function (e) {
          var t = [],
            i = this._grouppedSources(),
            n = function (n) {
              var o, r, s, a;
              for (o = 0; o < n.length; ++o)
                if (r = n[o], (e || !i.topLevelSources.has(r)) && (s = r.priceAxisViews(this._pane.state(), this.priceScale())))
                  for (a = 0; a < s.length; a++) t.push(s[a])
            }.bind(this);
          return n(i.sources), n(this._pane.state().customSources()), t
        }, n.prototype.optimalWidth = function () {
          var e, t, i, n, o, r, s;
          if (!this.isVisible()) return 0;
          if (e = 32, t = this.rendererOptions(), this._pane.state())
            for (i = this.ctx, n = this.priceScale().marks(), i.setFont(this.baseFont()), n.length > 0 && (e = Math.max(this._widthCache.measureText(i, n[0].label), this._widthCache.measureText(i, n[n.length - 1].label))), r = (o = this.backLabels(!0)).length; r--;)(s = this._widthCache.measureText(i, o[r].text())) > e && (e = s);
          return Math.ceil(t.offsetSize + t.borderSize + t.tickLength + t.paddingInner + t.paddingOuter + e)
        }, n.prototype.setSizeAndOffset = function (e, t) {
          if (e.w < 0 || e.h < 0) throw new Error("Try to set invalid size to PriceAxisWidget " + JSON.stringify(e));
          null !== this._size && this._size.equals(e) || (this._size = e, m(this.canvas, e), m(this.top_canvas, e), this._cell.style.width = e.w + "px", this._cell.style.height = e.h + "px", this._cell.style.minWidth = e.w + "px"), this._offset !== t && (this._offset = t, this._cell.style.left = t + "px")
        }, n.prototype.getWidth = function () {
          return this._size.w
        }, n.prototype.getImage = function () {
          return this.canvas
        }, n.prototype.update = function () {}, n.prototype._hightlightBackground = function (e, t, i) {
          var n, o, r, s, a, l, c;
          if (i) {
            for (n = t[0].price, o = t[0].price, r = 1; r < t.length; r++) n = Math.min(n, t[r].price), o = Math.max(o, t[r].price);
            s = i.firstValue(), a = this.priceScale().priceToCoordinate(n, s), l = this.priceScale().priceToCoordinate(o, s), c = "rgba(109, 158, 235, 0.3)", y(e, 1, a, this._size.w - 1, l - a, c)
          }
        }, n.prototype.drawBackground = function (e) {
          var t, i, n, o, r;
          y(e, 0, 0, this._size.w, this._size.h, this.backgroundColor()), this._highlighted && (e.globalAlpha = .5, t = D[this._backgroundBasedTheme.value()].getThemedColor("color-price-axis-highlight"), this._isLeft ? y(e, 0, 0, this._size.w - 1, this._size.h, t) : y(e, 1, 0, this._size.w, this._size.h, t), e.globalAlpha = 1), i = this._pane.chart().model(), n = this.priceScale(), (o = i.model().selection().sources().filter(function (e) {
            return e.priceScale() === n
          }).filter(function (e) {
            return E(e)
          }).reduce(function (e, t) {
            var i = t.axisPoints();
            return 0 === i.length ? e : e.concat(i)
          }, [])).length > 0 && this._hightlightBackground(e, o, this.priceScale().mainSource()), (r = i.model().crossHairSource()).startMeasurePoint() && this._hightlightBackground(e, r.measurePoints())
        }, n.prototype.drawBorder = function (e) {
          var t, i;
          e.save(), e.fillStyle = this.lineColor(), t = this.rendererOptions().borderSize,
            this._isLeft ? (e.translate(-.5, -.5), i = this._size.w - t - 1) : (e.translate(.5, -.5), i = 0), e.fillRect(i, 0, t, this._size.h), e.restore()
        }, n.prototype.drawTickMarks = function (e) {
          var t, i, n, o, r, s;
          if (e.save(), e.strokeStyle = this.lineColor(), t = this.priceScale().marks(), e.fillStyle = this.textColor(), e.setFont(this.baseFont()), i = this, e.translate(-.5, -.5), n = this.rendererOptions(), i._isLeft) {
            for (e.fillStyle = i.lineColor(), e.beginPath(), o = this._size.w - n.offsetSize - n.borderSize - n.tickLength, r = t.length; r--;) e.rect(o, t[r].coord, n.tickLength, 1);
            for (e.fill(), r = t.length; r--;) this._tickmarksCache.paintTo(e, t[r].label, o - n.paddingInner, t[r].coord, "right")
          } else {
            for (e.fillStyle = i.lineColor(), e.beginPath(), s = n.borderSize + n.offsetSize, r = t.length; r--;) e.rect(s, t[r].coord, n.tickLength, 1);
            for (e.fill(), r = t.length; r--;) this._tickmarksCache.paintTo(e, t[r].label, s + n.tickLength + n.paddingInner, t[r].coord, "left")
          }
          e.restore()
        }, n.prototype._alignLabels = function () {
          function e(e) {
            var t, i, n, r, a;
            for (t = 0; t < e.length; ++t)
              if (n = (i = e[t]).priceAxisViews(w, v), s.has(i) && n && n.forEach(function (e) {
                  e.setFixedCoordinate(null)
                }), n) {
                for (r = 0; r < n.length; r++)(a = n[r]).isVisible() && y.push(a);
                o === i && n.length > 0 && (g = n[0].floatCoordinate())
              }
          }
          var t, i, n, o, r, s, a, l, c, u, h, d, p, f, _, m, g = this._size.h / 2,
            y = [],
            v = this.priceScale(),
            S = v.orderedSources().slice(),
            b = this._pane,
            w = b.state(),
            P = this.rendererOptions(),
            T = v === w.defaultPriceScale();
          if (T)
            for (t = this._pane.state().dataSources(), i = 0; i < t.length; i++) w.isOverlay(t[i]) && S.push(t[i]);
          for (n = this._pane.chart().model().model(), o = v.mainSource(), r = n.selection().sources(), s = new Set, r.forEach(function (e) {
              s.add(e)
            }), e(S), e(this._pane.state().customSources()), a = y.filter(function (e) {
              return e.floatCoordinate() <= g
            }), l = y.filter(function (e) {
              return e.floatCoordinate() > g
            }), a.sort(function (e, t) {
              return t.floatCoordinate() - e.floatCoordinate()
            }), a.length && l.length && l.push(a[0]), l.sort(function (e, t) {
              return e.floatCoordinate() - t.floatCoordinate()
            }), c = y.length, i = 0; i < c; i++)(u = y[i]).setFixedCoordinate(u.coordinate());
          if ((h = this.priceScale().properties()).alignLabels && h.alignLabels.value()) {
            for (i = 1; i < a.length; i++) u = a[i], p = (d = a[i - 1]).height(P, !1), f = u.coordinate(), _ = d.getFixedCoordinate(), (f || _) && f > _ - p && u.setFixedCoordinate(_ - p);
            for (m = 1; m < l.length; m++) u = l[m], p = (d = l[m - 1]).height(P, !0), f = u.coordinate(), _ = d.getFixedCoordinate(), (f || _) && f < _ + p && u.setFixedCoordinate(_ + p)
          }
        }, n.prototype.drawBackLabels = function (e) {
          var t, i, n = this.backLabels(),
            o = this.rendererOptions(),
            r = this._isLeft ? "right" : "left";
          for (t = 0; t < n.length; t++)(i = n[t]).isAxisLabelVisible() && (e.save(), i.renderer().draw(e, o, this._widthCache, this._size.w, r), e.restore())
        }, n.prototype._minMaxViews = function (e) {
          var t = this._pane.state(),
            i = this.priceScale(),
            n = [],
            o = {
              value: null,
              view: null
            },
            r = {
              value: null,
              view: null
            };
          return e.forEach(function (e) {
            var n, s, a, l = e.priceAxisViews(t, i);
            if (l && l.length)
              for (n = 0; n < l.length; n++) a = (s = l[n]).coordinate(), (null === o.value || o.value <= a) && (o = {
                value: a,
                view: s
              }), (null === r.value || r.value >= a) && (r = {
                value: a,
                view: s
              })
          }), o.view && n.push(o.view), r.view && n.push(r.view), n
        }, n.prototype._isFromSameSide = function (e) {
          return (this._isLeft ? this._pane.state().leftPriceScales() : this._pane.state().rightPriceScales()).includes(e)
        }, n.prototype._addViewsOrMaxMin = function (e, t) {
          var i, n = this._pane.state(),
            o = this.priceScale();
          o !== n.defaultPriceScale() && (e = e.filter(function (e) {
            return n.isOverlay(e) || this._isFromSameSide(e.priceScale())
          }.bind(this))), 0 !== e.length && (1 === e.length ? (i = e[0].priceAxisViews(n, o)) && i.length && t.push(i) : t.push(this._minMaxViews(e)))
        }, n.prototype.drawCrossHairLabel = function (e) {
          var t, i, n, o, r, s = this._pane.chart().model().model(),
            a = this._pane.state(),
            l = this.priceScale(),
            c = [],
            u = this._pane.state(),
            h = this.priceScale() === a.defaultPriceScale(),
            d = s.lineBeingEdited() || s.lineBeingCreated();
          d && (d.priceScale() === l || h && a.isOverlay(d)) && (t = d.priceAxisViews(u, l)) && t.length && c.push(t), this._addViewsOrMaxMin(s.sourcesBeingMoved(), c), this._addViewsOrMaxMin(s.selection().sources(), c), (i = s.hoveredSource()) && (n = a.customSources().includes(i) ? l : i.priceScale(), !s.selection().isSelected(i) && (this._isFromSameSide(n) || h && a.isOverlay(i)) && (t = s.hoveredSource().priceAxisViews(u, l)) && t.length && c.push(t)), (t = s.crossHairSource().priceAxisViews(u, l)) && t.length && c.push(t), o = this.rendererOptions(), r = this._isLeft ? "right" : "left", c.forEach(function (t) {
            t.forEach(function (t) {
              e.save(), t.renderer().draw(e, o, this._widthCache, this._size.w, r), e.restore()
            }, this)
          }, this)
        }, n.prototype.priceScale = function () {
          return this._priceScale
        }, n.prototype.isVisible = function () {
          return this._isVisible
        }, n.prototype.setVisible = function (e) {
          (e = !!e) !== this._isVisible && (this._cell.style.display = e ? "table-cell" : "none", this._isVisible = e)
        }, n.prototype.setAutoScale = function (e) {
          var t = this._pane.state,
            i = this.priceScale(),
            n = this._pane.chart().model();
          n.setPriceAutoScale(t, i, e)
        }, n.prototype.reset = function () {
          var e = this._pane.state(),
            t = this.priceScale(),
            i = this._pane.chart().model();
          i.resetPriceScale(e, t)
        }, n.prototype.hardResetCanvas = function () {
          null !== this._size && (g(this.canvas, this._size), g(this.top_canvas, this._size))
        }, n.prototype._isMainPane = function () {
          return this._pane.state().containsMainSeries()
        }, n.prototype.paint = function (e) {
          this._isVisible && e && (this.top_ctx.clearRect(-.5, -.5, this._size.w, this._size.h), e === f.UPDATE_CURSOR_ONLY ? this.drawCrossHairLabel(this.top_ctx) : (this._alignLabels(), this.drawBackground(this.ctx), this.drawBorder(this.ctx), this._pane.state() && (this.drawTickMarks(this.ctx), this.drawBackLabels(this.ctx), this.drawCrossHairLabel(this.top_ctx))))
        }, n.prototype.restoreDefaultCursor = function () {
          this.setCursor("")
        }, n.prototype.setCursor = function (e) {
          var t = "";
          "grabbing" !== e && "ns-resize" !== e || (t = "price-axis--cursor-" + e), this._currentCursorClassName !== t && (this._currentCursorClassName && this._cell.classList.remove(this._currentCursorClassName), t && this._cell.classList.add(t), this._currentCursorClassName = t, this._cell.style.cursor)
        }, n.prototype.onMarksChanged = function () {
          var e, t = this.optimalWidth();
          this._prevOptimalWidth < t && this._pane && (e = this._pane.chart(), this._updateTimeout || (this._updateTimeout = setTimeout(function () {
              e && e.model().model().fullUpdate(), this._updateTimeout = null
            }.bind(this), 100))),
            this._prevOptimalWidth = t
        }, n.prototype.setPriceScale = function (e) {
          this._priceScale !== e && (null !== this._priceScale && this._priceScale.onMarksChanged.unsubscribe(this, this.onMarksChanged), this._priceScale = e, null !== e && e.onMarksChanged.subscribe(this, this.onMarksChanged))
        }, n.prototype.axisInfo = function () {
          return this._axisInfo
        }, n.prototype.setHighlighted = function (e) {
          this._highlighted !== e && (this._highlighted = e)
        }, R = o(4), e.exports = {
          PriceAxisWidget: n,
          scaleRatioForContextMenuTransformer: o
        }
      }).call(this, i("Kxc7"))
    },
    "1Wlv": function (e, t, i) {
      "use strict";
      (function (e, n) {
        function o(e, t) {
          var i = 100 * (e - t) / t;
          return t < 0 ? -i : i
        }

        function r(e, t) {
          var i = o(e.minValue(), t),
            n = o(e.maxValue(), t);
          return new S(i, n)
        }

        function s(e, t) {
          var i = 100 * (e - t) / t + 100;
          return t < 0 ? -i : i
        }

        function a(e, t) {
          var i = s(e.minValue(), t),
            n = s(e.maxValue(), t);
          return new S(i, n)
        }

        function l(t, i) {
          var o;
          i = Object.assign({}, x, i), this._properties = new e(i), this._scalesProperties = t, this.m_height = 0, this._internalHeightCache = null, this._internalHeightChanged = new n, this.m_priceRange = null, this._priceRangeChanged = new n, this.m_dataSources = [], this.m_topMargin = 0, this.m_bottomMargin = 0, this._topPixelMargin = 0, this._bottomPixelMargin = 0, this.m_scrollStartPoint = null, this.m_scaleStartPoint = null, this.m_maxPriceRange = null, this.m_minPriceRange = null, this.m_priceRangeSnapshot = null, this._invalidatedForRange = {
            isValid: !0,
            visibleBars: null
          }, this.onMarksChanged = new n, o = this, this._coordinateToLogicalFunc = function (e, t) {
            return o._coordinateToLogical(e, t)
          }, this._logicalToCoordinateFunc = function (e, t, i) {
            return o._logicalToCoordinate(e, t, i)
          }, this.m_markBuilder = new P(this, 100, this._coordinateToLogicalFunc, this._logicalToCoordinateFunc), this._modeChanged = new n, this._properties.isInverted.listeners().subscribe(this, l.prototype._onIsInvertedChanged), this._sourcesForAutoscale = null, this._sourcesToUpdateViews = null, this._hasSeries = !1, o = this, this._properties.listeners().subscribe(null, function () {
            o.mainSource() && o.mainSource().model() && o.mainSource().model().fullUpdate()
          }), this._scalesProperties.listeners().subscribe(this, function () {
            this._marksCache = null
          }), this.setId(b())
        }
        var c = i("Ktlt").ChartEventsSource,
          u = i("Ai40"),
          h = u.study_ESD$TV_EARNINGS,
          d = u.study_ESD$TV_SPLITS,
          p = u.study_ESD$TV_DIVIDENDS,
          f = i("Hr11"),
          _ = i("Ss5c").LineDataSource,
          m = i("7ktv").PriceDataSource,
          g = i("qJq3").Series,
          y = i("kcTO").PriceFormatter,
          v = i("GH0z").PercentageFormatter,
          S = i("Qb4w").PriceRange,
          b = i("0waE").randomHash,
          w = i("3ClC").isStudy,
          P = i("lTLF").PriceTickMarkBuilder,
          T = new v,
          C = new y(100, 1),
          x = {
            autoScale: !0,
            autoScaleDisabled: !1,
            lockScale: !1,
            percentage: !1,
            percentageDisabled: !1,
            log: !1,
            logDisabled: !1,
            alignLabels: !0,
            isInverted: !1,
            indexedTo100: !1
          };
        l.prototype.id = function () {
            return this._id
          }, l.prototype.setId = function (e) {
            this._id = e
          }, l.prototype.initScaleProperties = function () {
            var e = this.isLockScale();
            e && (this.properties().percentage.setValue(!1), this.properties().indexedTo100.setValue(!1), this.properties().log.setValue(!1), this.properties().autoScale.setValue(!1)), this.properties().percentageDisabled.setValue(e), this.properties().logDisabled.setValue(e),
              this._updateAutoScaleDisabledProperty(!1), this.properties().percentage.value() && (this.properties().log.setValue(!1), this.properties().indexedTo100.setValue(!1)), this.properties().indexedTo100.value() && (this.properties().log.setValue(!1), this.properties().percentage.setValue(!1))
          }, l.prototype.isAutoScale = function () {
            return this._properties.autoScale.value() && !this.isLockScale()
          }, l.prototype.isLockScale = function () {
            return this._properties.lockScale.value()
          }, l.prototype.isLog = function () {
            return this._properties.log.value()
          }, l.prototype.isPercentage = function () {
            return this._properties.percentage.value()
          }, l.prototype.isIndexedTo100 = function () {
            return this._properties.indexedTo100.value()
          }, l.prototype.isRegular = function () {
            return !this.isPercentage() && !this.isLog() && !this.isIndexedTo100()
          }, l.prototype._convertPriceRangeFromLog = function (e) {
            var t, i;
            return null === e ? null : (t = this._fromLog(e.minValue()), i = this._fromLog(e.maxValue()), new S(t, i))
          }, l.prototype._convertPriceRangeToLog = function (e) {
            var t, i;
            return null === e ? null : (t = this._toLog(e.minValue()), i = this._toLog(e.maxValue()), new S(t, i))
          }, l.prototype._canConvertPriceRangeFromLog = function (e) {
            var t, i;
            return null !== e && (t = this._fromLog(e.minValue()), i = this._fromLog(e.maxValue()), isFinite(t) && isFinite(i))
          }, l.prototype._setAutoScaleValueWithDependentProperties = function (e) {
            this._properties.autoScale.setValueSilently(e), e && (this._properties.percentage.setValueSilently(!1), this._properties.indexedTo100.setValueSilently(!1), this._properties.lockScale.setValueSilently(!1), this._properties.logDisabled.setValueSilently(!1)), this._updateAutoScaleDisabledProperty(!0)
          }, l.prototype._setLockScaleValueWithDependentProperties = function (e) {
            this._properties.lockScale.setValueSilently(e), e && (this._properties.autoScale.setValueSilently(!1), this._properties.percentage.setValueSilently(!1), this._properties.indexedTo100.setValueSilently(!1), this._properties.log.setValueSilently(!1)), this._properties.percentageDisabled.setValueSilently(e), this._properties.logDisabled.setValueSilently(e), this._updateAutoScaleDisabledProperty(!0)
          }, l.prototype._setPercentageValueWithDependentProperties = function (e) {
            this._properties.percentage.setValueSilently(e), e && (this._properties.autoScale.setValueSilently(!0), this._properties.log.setValueSilently(!1), this._properties.lockScale.setValueSilently(!1), this._properties.indexedTo100.setValueSilently(!1)), this._updateAutoScaleDisabledProperty(!0)
          }, l.prototype._setIndexedTo100ValueWithDependentProperties = function (e) {
            this._properties.indexedTo100.setValueSilently(e), e && (this._properties.autoScale.setValueSilently(!0), this._properties.log.setValueSilently(!1), this._properties.lockScale.setValueSilently(!1), this._properties.percentage.setValueSilently(!1)), this._updateAutoScaleDisabledProperty(!0)
          }, l.prototype._setLogValueWithDependentProperties = function (e) {
            this._properties.log.setValueSilently(e), e && (this._properties.lockScale.setValueSilently(!1), this._properties.percentage.setValueSilently(!1), this._properties.indexedTo100.setValueSilently(!1)), this._updateAutoScaleDisabledProperty(!0)
          },
          l.prototype._updateAutoScaleDisabledProperty = function (e) {
            var t = this._properties.indexedTo100.value() || this._properties.percentage.value() || this._properties.lockScale.value();
            e ? this._properties.autoScaleDisabled.setValueSilently(t) : this._properties.autoScaleDisabled.setValue(t)
          }, l.prototype.mode = function () {
            return {
              autoScale: this._properties.autoScale.value(),
              lockScale: this._properties.lockScale.value(),
              percentage: this._properties.percentage.value(),
              indexedTo100: this._properties.indexedTo100.value(),
              log: this._properties.log.value()
            }
          }, l.prototype.setMode = function (e) {
            var t = {},
              i = this.mode(),
              n = null;
            void 0 !== e.autoScale && e.autoScale !== i.autoScale && (t.autoScale = e.autoScale, this._setAutoScaleValueWithDependentProperties(e.autoScale)), void 0 !== e.lockScale && e.lockScale !== i.lockScale && (t.lockScale = e.lockScale, this._setLockScaleValueWithDependentProperties(e.lockScale)), void 0 !== e.percentage && e.percentage !== i.percentage && (t.percentage = e.percentage, this._setPercentageValueWithDependentProperties(e.percentage), this._invalidatedForRange.isValid = !1), void 0 !== e.indexedTo100 && e.indexedTo100 !== i.indexedTo100 && (t.indexedTo100 = e.indexedTo100, this._setIndexedTo100ValueWithDependentProperties(e.indexedTo100), this._invalidatedForRange.isValid = !1), void 0 !== e.log && e.log !== i.log && (t.log = e.log, this._setLogValueWithDependentProperties(e.log)), i.log && !this._properties.log.value() && (this._canConvertPriceRangeFromLog(this.m_priceRange) ? null !== (n = this._convertPriceRangeFromLog(this.m_priceRange)) && this.setPriceRange(n) : this.properties().autoScale.setValue(!0)), !i.log && this._properties.log.value() && null !== (n = this._convertPriceRangeToLog(this.m_priceRange)) && this.setPriceRange(n), i.autoScale !== this._properties.autoScale.value() && this._properties.autoScale.listeners().fire(this._properties.autoScale), i.autoScaleDisabled !== this._properties.autoScaleDisabled.value() && this._properties.autoScaleDisabled.listeners().fire(this._properties.autoScaleDisabled), i.lockScale !== this._properties.lockScale.value() && this._properties.lockScale.listeners().fire(this._properties.lockScale), i.percentage !== this._properties.percentage.value() && (this._properties.percentage.listeners().fire(this._properties.percentage), this.updateFormatter()), i.indexedTo100 !== this._properties.indexedTo100.value() && (this._properties.indexedTo100.listeners().fire(this._properties.indexedTo100), this.updateFormatter()), i.percentageDisabled !== this._properties.percentageDisabled.value() && this._properties.percentageDisabled.listeners().fire(this._properties.percentageDisabled), i.log !== this._properties.log.value() && this._properties.log.listeners().fire(this._properties.log), i.logDisabled !== this._properties.logDisabled.value() && this._properties.logDisabled.listeners().fire(this._properties.logDisabled), void 0 === t.log && void 0 === t.percentage && void 0 === t.lockScale && void 0 === t.autoScale && void 0 === t.percentage || this._modeChanged.fire(i, this.mode())
          }, l.prototype.modeChanged = function () {
            return this._modeChanged
          }, l.prototype.properties = function () {
            return this._properties
          }, l.prototype.fontSize = function () {
            return this._scalesProperties.fontSize.value()
          }, l.prototype.height = function () {
            return this.m_height
          }, l.prototype.setHeight = function (e) {
            this.m_height !== e && (this.m_height = e, this._invalidateInternalHeightCache(), this._marksCache = null)
          }, l.prototype.topPixelMargin = function () {
            return this.isInverted() ? this.m_bottomMargin * this.height() + this._bottomPixelMargin : this.m_topMargin * this.height() + this._topPixelMargin
          }, l.prototype.topMargin = function () {
            return this.m_topMargin
          }, l.prototype.setTopMargin = function (e) {
            if (!isNumber(e)) throw new TypeError("invalid margin");
            if (e < 0 || e > 30) throw new RangeError("invalid margin");
            this.m_topMargin !== e && (this.m_topMargin = e, this._invalidateInternalHeightCache(), this._marksCache = null)
          }, l.prototype.bottomPixelMargin = function () {
            return this.isInverted() ? this.m_topMargin * this.height() + this._topPixelMargin : this.m_bottomMargin * this.height() + this._bottomPixelMargin
          }, l.prototype.bottomMargin = function () {
            return this.m_bottomMargin
          }, l.prototype.setBottomMargin = function (e) {
            if (!isNumber(e)) throw new TypeError("invalid margin");
            if (e < 0 || e > 30) throw new RangeError("invalid margin");
            this.m_bottomMargin !== e && (this.m_bottomMargin = e, this._invalidateInternalHeightCache(), this._marksCache = null)
          }, l.prototype.internalHeight = function () {
            if (this._internalHeightCache) return this._internalHeightCache;
            var e = this.height() - this.topPixelMargin() - this.bottomPixelMargin();
            return this._internalHeightCache = e, e
          }, l.prototype._invalidateInternalHeightCache = function () {
            this._internalHeightCache = null, this._internalHeightChanged.fire()
          }, l.prototype.internalHeightChanged = function () {
            return this._internalHeightChanged
          }, l.prototype.priceRange = function () {
            return this.makeSureItIsValid(), this.m_priceRange
          }, l.prototype.priceRangeChanged = function () {
            return this._priceRangeChanged
          }, l.prototype.setPriceRange = function (e, t, i) {
            var n, o, r;
            if (!(e instanceof S)) throw new TypeError("incorrect price range");
            return n = this.m_priceRange, !!(t || null === n && null !== e || null !== n && !n.equals(e)) && (o = null !== this.m_maxPriceRange && this.m_maxPriceRange.containsStrictly(e), r = null !== this.m_minPriceRange && e.containsStrictly(this.m_minPriceRange), !(this.isLockScale() && !t && (o || r)) && (this._marksCache = null, this.m_priceRange = e, void(i || this._priceRangeChanged.fire(n, e))))
          }, l.prototype.isEmpty = function () {
            return this.makeSureItIsValid(), 0 === this.m_height || !this.m_priceRange || this.m_priceRange.isEmpty()
          }, l.prototype.invertedCoordinate = function (e) {
            return this.isInverted() ? e : this.height() - 1 - e
          }, l._logicalOffset = 4, l._coordOffset = 1e-4, l.prototype._toLog = function (e) {
            var t, i = Math.abs(e);
            return i < 1e-8 ? 0 : (t = f.log10(i + l._coordOffset) + l._logicalOffset, e < 0 ? -t : t)
          }, l.prototype.priceToLogical = function (e) {
            return this.isLog() && e ? this._toLog(e) : e
          }, l.prototype._fromLog = function (e) {
            var t, i = Math.abs(e);
            return i < 1e-8 ? 0 : (t = Math.pow(10, i - l._logicalOffset) - l._coordOffset, e < 0 ? -t : t)
          }, l.prototype.logicalToPrice = function (e) {
            return this.isLog() ? this._fromLog(e) : e
          }, l.prototype._logicalToCoordinate = function (e, t, i) {
            var n, o;
            return this.makeSureItIsValid(), this.isEmpty() ? 0 : (e = this.priceToLogical(e),
              n = this.bottomPixelMargin() + (this.internalHeight() - 1) * (e - this.priceRange().minValue()) / (this.priceRange().maxValue() - this.priceRange().minValue()), o = this.invertedCoordinate(n), i ? o : Math.round(o))
          }, l.prototype.priceToCoordinate = function (e, t, i) {
            return this.isPercentage() ? e = o(e, t) : this.isIndexedTo100() && (e = s(e, t)), this._logicalToCoordinate(e, t, i)
          }, l.prototype.pointsArrayToCoordinates = function (e, t) {
            var i, n, r, a, l, c, u, h, d, p;
            if (this.makeSureItIsValid(), i = this.bottomPixelMargin(), n = this.priceRange().minValue(), r = this.priceRange().maxValue(), a = this.internalHeight() - 1, l = this.isInverted(), c = a / (r - n), this.isPercentage())
              for (u = 0; u < e.length; u++) e[u].y = o(e[u].y, t);
            if (this.isIndexedTo100())
              for (u = 0; u < e.length; u++) e[u].y = s(e[u].y, t);
            if (this.isLog())
              for (u = 0; u < e.length; u++) e[u].y = this.priceToLogical(e[u].y);
            for (u = 0; u < e.length; u++) h = e[u].y, TradingView.isNaN(h) || void 0 === h || null === h || (d = i + c * (h - n), p = l ? d : this.m_height - 1 - d, e[u].y = Math.round(p))
          }, l.prototype.pricesArrayToCoordinates = function (e, t) {
            var i, n, r, a, l, c, u, h, d, p;
            if (this.makeSureItIsValid(), i = this.bottomPixelMargin(), n = this.priceRange().minValue(), r = this.priceRange().maxValue(), a = this.internalHeight() - 1, l = this.isInverted(), c = a / (r - n), this.isPercentage())
              for (u = 0; u < e.length; u++) e[u] = o(e[u], t);
            if (this.isIndexedTo100())
              for (u = 0; u < e.length; u++) e[u] = s(e[u], t);
            if (this.isLog())
              for (u = 0; u < e.length; u++) e[u] = this.priceToLogical(e[u]);
            for (u = 0; u < e.length; u++) void 0 !== (h = e[u]) && null !== h && (d = i + c * (h - n), p = l ? d : this.m_height - 1 - d, e[u] = Math.round(p))
          }, l.prototype.barPricesToCoordinates = function (e, t) {
            var i, n, r, a, l, c, u, h, d, p, f, _;
            if (this.makeSureItIsValid(), i = e, n = this.bottomPixelMargin(), r = this.priceRange().minValue(), a = this.priceRange().maxValue(), l = this.internalHeight() - 1, c = null, this.isPercentage() ? c = o : this.isIndexedTo100() ? c = s : this.isLog() && (c = function (e) {
                return e ? this._toLog(e) : e
              }.bind(this)), null !== c)
              for (u = 0; u < i.length; u++) i[u] && (i[u].open = c(i[u].open, t), i[u].high = c(i[u].high, t), i[u].low = c(i[u].low, t), i[u].close = c(i[u].close, t), i[u].additionalPrice && (i[u].additionalPrice = c(i[u].additionalPrice, t)));
            for (h = l / (a - r), d = this.isInverted(), u = 0; u < i.length; u++)(p = i[u]) && (f = n + h * (p.open - r), _ = d ? f : this.m_height - 1 - f, p.open = Math.round(_), f = n + h * (p.high - r), _ = d ? f : this.m_height - 1 - f, p.high = Math.round(_), f = n + h * (p.low - r), _ = d ? f : this.m_height - 1 - f, p.low = Math.round(_), f = n + h * (p.close - r), _ = d ? f : this.m_height - 1 - f, p.close = Math.round(_), p.additionalPrice && (f = n + h * (p.additionalPrice - r), _ = d ? f : this.m_height - 1 - f, p.additionalPrice = Math.round(_)))
          }, l.prototype._coordinateToLogical = function (e, t) {
            var i, n;
            return this.makeSureItIsValid(), this.isEmpty() ? 0 : (i = this.invertedCoordinate(e), n = this.priceRange().minValue() + (this.priceRange().maxValue() - this.priceRange().minValue()) * ((i - this.bottomPixelMargin()) / (this.internalHeight() - 1)), this.logicalToPrice(n))
          }, l.prototype.coordinateToPrice = function (e, t) {
            var i = this._coordinateToLogical(e, t);
            return this.isPercentage() ? i = function (e, t) {
              return t < 0 && (e = -e), e / 100 * t + t
            }(i, t) : this.isIndexedTo100() && (i = function (e, t) {
              return e -= 100, t < 0 && (e = -e), e / 100 * t + t
            }(i, t)), i
          }, l.prototype.dataSources = function () {
            return this.m_dataSources
          }, l.prototype.orderedSources = function () {
            var e, t, n;
            if (this._cachedOrderedSoruces) return this._cachedOrderedSoruces;
            for (e = [], t = 0; t < this.m_dataSources.length; t++)(n = this.m_dataSources[t]) instanceof p || n instanceof d || n instanceof h || n instanceof c || (null == n.zorder() && n.setZorder(t + 1), e.push(n));
            return e = i("iDOr").Pane.sortSources(e), this._cachedOrderedSoruces = e, this._cachedOrderedSoruces
          }, l.prototype.invalidateSourcesCache = function () {
            this._cachedOrderedSoruces = null
          }, l.prototype.hasSeries = function () {
            return this._hasSeries
          }, l.prototype.addDataSource = function (e, t) {
            var i, n;
            (t || -1 === this.m_dataSources.indexOf(e)) && (TradingView.isInherited(e.constructor, g) && (i = e.properties(), !0 !== this._hasSeries && (i.lockScale && (this.setMode({
              lockScale: i.lockScale.value()
            }), i.removeProperty("lockScale")), i.pnfStyle.lockScale && i.pnfStyle.removeProperty("lockScale")), this._hasSeries = !0), n = this, e.properties().visible.listeners().subscribe(null, function () {
              n._sourcesForAutoscale = null
            }), this.m_dataSources.push(e), this._mainSource = void 0, this._sourcesForAutoscale = null, this._sourcesToUpdateViews = null, this.updateFormatter(), this.initScaleProperties(), this.invalidateSourcesCache())
          }, l.prototype.removeDataSource = function (e) {
            var t = this.m_dataSources.indexOf(e);
            if (-1 === t) throw new Error("source is not attached to scale");
            this.m_dataSources.splice(t, 1), TradingView.isInherited(e.constructor, g) && (this._hasSeries = !1), this.mainSource() || this.setMode({
              autoScale: !0
            }), this._mainSource = void 0, this._sourcesForAutoscale = null, this._sourcesToUpdateViews = null, this.updateFormatter(), this.invalidateSourcesCache()
          }, l.prototype.isInverted = function () {
            return this._properties.isInverted.value()
          }, l.prototype.isScaled = function () {
            return "number" == typeof this.m_scaleStartPoint
          }, l.prototype.startScale = function (e) {
            this.isPercentage() || this.isIndexedTo100() || null === this.m_scaleStartPoint && null === this.m_priceRangeSnapshot && (this.isEmpty() || (this.m_scaleStartPoint = this.m_height - e, this.m_priceRangeSnapshot = this.priceRange().clone()))
          }, l.prototype.marks = function () {
            return this._marksCache ? this._marksCache : (this.m_markBuilder.rebuildTickMarks(), this._marksCache = this.m_markBuilder.marks(), this.onMarksChanged.fire(), this._marksCache)
          }, l.prototype.setMaxPriceRange = function (e) {
            this.m_maxPriceRange = e
          }, l.prototype.setMinPriceRange = function (e) {
            this.m_minPriceRange = e
          }, l.prototype.scaleTo = function (e) {
            var t, i;
            this.isPercentage() || this.isIndexedTo100() || null !== this.m_scaleStartPoint && (this.setMode({
              autoScale: !1
            }), (e = this.m_height - e) < 0 && (e = 0), t = (this.m_scaleStartPoint + .2 * (this.m_height - 1)) / (e + .2 * (this.m_height - 1)), i = this.m_priceRangeSnapshot.clone(), t = Math.max(t, .1), i.scaleAroundCenter(t), this.setPriceRange(i))
          }, l.prototype.endScale = function () {
            this.isPercentage() || this.isIndexedTo100() || null !== this.m_scaleStartPoint && (this.m_scaleStartPoint = null, this.m_priceRangeSnapshot = null)
          }, l.prototype.startScroll = function (e) {
            this.isAutoScale() || null === this.m_scrollStartPoint && null === this.m_priceRangeSnapshot && (this.isEmpty() || (this.m_scrollStartPoint = e, this.m_priceRangeSnapshot = this.priceRange().clone()))
          },
          l.prototype.scrollTo = function (e) {
            var t, i, n, o;
            this.isAutoScale() || null !== this.m_scrollStartPoint && (t = this.priceRange().length() / (this.height() - 1), i = e - this.m_scrollStartPoint, this.isInverted() && (i *= -1), n = i * t, (o = this.m_priceRangeSnapshot.clone()).shift(n), this.setPriceRange(o, !0), this._marksCache = null)
          }, l.prototype.endScroll = function () {
            this.isAutoScale() || null !== this.m_scrollStartPoint && (this.m_scrollStartPoint = null, this.m_priceRangeSnapshot = null)
          }, l.prototype.state = function () {
            var e = {};
            return e.id = this._id, e.m_priceRange = !this.priceRange() || this.isPercentage() || this.isIndexedTo100() ? null : this.priceRange().serialize(), e.m_isAutoScale = this.isAutoScale(), e.m_isPercentage = this._properties.percentage.value(), e.m_isIndexedTo100 = this._properties.indexedTo100.value(), e.m_isLog = this._properties.log.value(), e.m_isLockScale = this.isLockScale(), e.m_isInverted = this.isInverted(), e.m_height = this.m_height, e.m_topMargin = this.m_topMargin, e.m_bottomMargin = this.m_bottomMargin, e.alignLabels = this._properties.alignLabels.value(), e
          }, l.prototype.restoreState = function (e) {
            var t, i = e.m_priceRange;
            if (void 0 === i) throw new TypeError("invalid state");
            if (void 0 === e.m_isAutoScale) throw new TypeError("invalid state");
            void 0 !== e.id && (this._id = e.id), t = {
              autoScale: e.m_isAutoScale
            }, void 0 !== e.m_isPercentage && (t.percentage = e.m_isPercentage), void 0 !== e.m_isIndexedTo100 && (t.indexedTo100 = e.m_isIndexedTo100), void 0 !== e.m_isLog && (t.log = e.m_isLog), void 0 !== e.m_isLockScale && (t.lockScale = e.m_isLockScale), void 0 !== e.m_isInverted && this._properties.isInverted.setValue(e.m_isInverted), void 0 !== e.m_height && this.setHeight(Math.max(0, e.m_height)), this.setMode(t), i ? (i instanceof S || (i = new S(i)), this.setPriceRange(i, !0)) : this.m_priceRange = null, void 0 !== e.m_topMargin && (this.m_topMargin = e.m_topMargin), void 0 !== e.m_bottomMargin && (this.m_bottomMargin = e.m_bottomMargin), void 0 !== e.alignLabels && this._properties.alignLabels.setValue(e.alignLabels), this._mainSource = void 0, this._scaleSeriesOnly = !1
          }, l.prototype.mainSource = function () {
            var e, t;
            if (void 0 !== this._mainSource) return this._mainSource;
            for (e = void 0, t = 0; t < this.m_dataSources.length; t++) {
              if (TradingView.isInherited(this.m_dataSources[t].constructor, g)) {
                e = this.m_dataSources[t];
                break
              }!e && this.m_dataSources[t] instanceof m && (e = this.m_dataSources[t])
            }
            return this._mainSource = e, this._mainSource || null
          }, l.prototype.formatter = function () {
            return this._formatter || this.updateFormatter(), this._formatter
          }, l.prototype.formatPrice = function (e, t) {
            return this.isPercentage() ? e = o(e, t) : this.isIndexedTo100() && (e = s(e, t)), this.formatter().format(e)
          }, l.prototype.formatPriceAbsolute = function (e) {
            return this._mainSourceFormatter().format(e)
          }, l.prototype.formatPricePercentage = function (e, t) {
            return e = o(e, t), T.format(e)
          }, l.prototype.updateFormatter = function () {
            var e, t;
            this._marksCache = null, t = 100, (e = this.mainSource()) && (t = e.base()), this._formatter = null, this.isPercentage() ? (this._formatter = T, t = 100) : this.isIndexedTo100() ? (this._formatter = new y(100, 1), t = 100) : this._formatter = e ? e.formatter() : C,
              this.m_markBuilder = new P(this, t, this._coordinateToLogicalFunc, this._logicalToCoordinateFunc), this.m_markBuilder.rebuildTickMarks()
          }, l.prototype._onIsInvertedChanged = function () {
            this._marksCache = null, this.m_markBuilder.rebuildTickMarks()
          }, l.prototype._mainSourceFormatter = function () {
            return this.mainSource().formatter() || C
          }, l.prototype._recalculateSourcesForAutoscale = function () {
            var e, t;
            this._mainSource && (this._scaleSeriesOnly = this._scalesProperties.scaleSeriesOnly.value()), e = this._scaleSeriesOnly && this._hasSeries, t = function (t) {
              return !!(t.properties().visible.value() || t instanceof g) && (!(t instanceof p || t instanceof d || t instanceof h) && (e ? TradingView.isInherited(t.constructor, g) : t instanceof m))
            }, this._sourcesForAutoscale = this.m_dataSources.filter(t)
          }, l.prototype.sourcesForAutoscale = function () {
            return this._mainSource && this._scaleSeriesOnly !== this._scalesProperties.scaleSeriesOnly.value() && (this._sourcesForAutoscale = null), this._sourcesForAutoscale || this._recalculateSourcesForAutoscale(), this._sourcesForAutoscale
          }, l.prototype.recalculatePriceRange = function (e) {
            this._invalidatedForRange = {
              visibleBars: e,
              isValid: !1
            }
          }, l.prototype.makeSureItIsValid = function () {
            this._invalidatedForRange.isValid || (this._invalidatedForRange.isValid = !0, this.recalculatePriceRangeImpl())
          }, l.prototype.recalculatePriceRangeImpl = function () {
            var e, t, i, n, o, s, l, c, u, h, d, p, f = this._invalidatedForRange.visibleBars;
            if (null !== f) {
              for (e = null, t = this.sourcesForAutoscale(), i = this.isPercentage(), n = this.isIndexedTo100(), o = 0, s = 0, l = 0; l < t.length; l++)(c = t[l]).properties().visible.value() && (u = f.firstBar(), h = f.lastBar(), (p = (d = c.autoScaleInfo(u, h)).range) && (i ? p = r(p, c.firstValue()) : n && (p = a(p, c.firstValue())), e = null === e ? p : e.merge(p)), void 0 !== d.topPixelMargin && (o = Math.max(o, d.topPixelMargin)), void 0 !== d.bottomPixelMargin && (s = Math.max(s, d.bottomPixelMargin)));
              (Math.abs(o - this._topPixelMargin) > 0 || Math.abs(s - this._bottomPixelMargin) > 0) && (this._bottomPixelMargin = s, this._topPixelMargin = o, this._marksCache = null, this._invalidateInternalHeightCache()), e ? (e.minValue() === e.maxValue() && (e = new S(e.minValue() - .5, e.maxValue() + .5)), this.setPriceRange(e)) : this.m_priceRange || this.setPriceRange(new S(-.5, .5)), this._invalidatedForRange.isValid = !0
            }
          }, l.prototype.sourcesToUpdateViews = function () {
            var e, t;
            if (!this._sourcesToUpdateViews)
              for (this._sourcesToUpdateViews = [], e = 0; e < this.m_dataSources.length; e++) t = this.m_dataSources[e], TradingView.isInherited(t.constructor, _) && !t.isActualSymbol() || this._sourcesToUpdateViews.push(t);
            return this._sourcesToUpdateViews
          }, l.prototype.updatePaneViews = function () {
            var e, t = this.sourcesToUpdateViews();
            for (e = 0; e < t.length; e++) t[e].updateAllViews()
          }, l.prototype.canDetachSource = function (e) {
            return this.m_dataSources.some(function (t) {
              return t !== e && !(t instanceof p || t instanceof d || t instanceof h) && t instanceof m && !(w(t) && t.isLinkedToSeries())
            })
          }, l.prototype.priceRangeInPrice = function () {
            var e, t, i;
            return this.isEmpty() ? null : null === (e = this.mainSource()) ? null : (t = e.firstValue(), i = this.height(), {
              from: this.coordinateToPrice(i - 1, t),
              to: this.coordinateToPrice(0, t)
            })
          }, t.PriceScale = l
      }).call(this, i("tc+8"), i("aIyQ"))
    },
    "1fnd": function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "LAST_STRATEGY_TVSETTINGS_KEY", function () {
        return n
      });
      var n = "backtesting.lastStrategySelectedScriptIdPart"
    },
    "1gmO": function (e, t, i) {
      "use strict";

      function n(e, t) {
        w.call(this), this.m_model = e, this._data = t, this._paneView = new o(this, e), this._priceAxisView = new c(this, e), this._priceLinePriceAxisView = new h(this, e), this.toolname = "AlertLabel", this._constructor = "AlertLabel", this._resetUserEditEnabled(), this.hasAlert.setValue(!0), this._resetUserEditEnabledCallback = this._resetUserEditEnabled.bind(this), this._propertyMock = new _.default({
          visible: !0
        }), t.on("change:id", this._resetUserEditEnabledCallback), t.on("change:extra", this._resetUserEditEnabledCallback), t.on("change:isBeingEdited", this._resetUserEditEnabledCallback)
      }

      function o(e, t) {
        this.m_alertLabel = e, this.m_model = t, this.m_item = null, this._invalidated = !0, this.labelWidth = 10, this._highlightCallback = this.highlight.bind(this), this._updateHoverCallback = this.updateHover.bind(this), this.m_alertLabel.alert().on("fired", this._highlightCallback), this.m_alertLabel.alert().on("change:hovered", this._updateHoverCallback)
      }

      function r(e) {
        this.points = e.item.points, this.alert = e.item.alert, this.borderColor = e.color, this.cursor = e.cursor, this.labelWidth = e.width
      }

      function s(e) {
        this.color = e.color, this.points = e.item.points, this.lineWidth = e.lineWidth, this.lineStyle = e.lineStyle
      }

      function a(e) {
        this._data = e
      }

      function l(e) {
        this.points = e.items, this.height = e.height, this.width = e.width, this.color = e.color, this.lineStyle = e.lineStyle, this.horzLineWidth = e.lineWidth, this.connectingLineWidth = e.connectingLineWidth
      }

      function c(e, t) {
        this._alertLabel = e, this._model = t, this._data = {
          visible: !1,
          items: []
        }, this._invalidated = !0, this._updateHoverCallback = this._updateHover.bind(this), this._alertLabel.alert().on("change:hovered", this._updateHoverCallback)
      }

      function u(e) {
        this._bases = e
      }

      function h(e, t) {
        c.call(this, e, t), this._renderers = [], this._compositeRenderer = new u(this._renderers)
      }
      var d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B;
      Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.ALERT_LABEL_WIDTH = void 0, d = i("LxhU"), p = i("oR7+"), f = i("tc+8"), _ = (B = f) && B.__esModule ? B : {
          default: B
        }, m = i("aO4+"), g = m.Point, y = m.point, v = m.box, S = i("f6yo").pointInBox, b = i("Hr11").max, w = i("fgLi").DataSource, P = i("VdBB").HitTestResult, T = i("1mZ4").SelectionRenderer, C = i("Zy3/").CompositeRenderer, x = i("HvwJ"), E = i("PT1i").linking, I = i("ikwP").calcTextHorizontalShift, A = i("+GxX").isFeatureEnabled, L = i("HL4j").PriceLineAxisRenderer, D = i("zDbI").CHART_FONT_FAMILY, t.ALERT_LABEL_WIDTH = 5, k = "rgba( 119, 119, 119, 1)", inherit(n, w), n.prototype.stop = function () {
          this._data.off("change:id", this._resetUserEditEnabledCallback), this._data.off("change:extra", this._resetUserEditEnabledCallback), this._data.off("change:isBeingEdited", this._resetUserEditEnabledCallback), this._paneView.stop(), this._priceAxisView.stop()
        }, n.prototype._resetUserEditEnabled = function () {
          var e = this._data;
          this._userEditEnabled = !e.get("isBeingEdited") && !e.isNew() && e.isPrice() && e.get("extra")
        }, n.prototype.data = function () {
          return this._data
        },
        n.prototype.alert = n.prototype.data, n.prototype.alertId = function () {
          return this.alert().id
        }, n.prototype.getAlert = function () {
          var e = $.Deferred();
          return e.resolve(this.alert()), e.promise()
        }, n.prototype.state = function () {
          var e = this.alert().get("extra"),
            t = [];
          return e && e.conditionData().isChannel ? (t.push({
            price: e.price().upper
          }), t.push({
            price: e.price().lower
          })) : t.push({
            price: e.price()
          }), {
            points: t
          }
        }, n.prototype.restorePoints = function (e, t) {
          var i = this.alert().get("extra");
          i.conditionData().isChannel ? i.price({
            upper: e[0].price,
            lower: e[1].price
          }) : i.price(e[0].price)
        }, n.prototype.createServerPoints = function () {}, n.prototype.properties = function () {
          return this._propertyMock
        }, n.prototype.paneViews = function () {
          return TradingView.printing ? null : this.labelVisible() ? [this._paneView] : null
        }, n.prototype.dataWindowView = function () {
          return null
        }, n.prototype.priceAxisViews = function (e, t) {
          return TradingView.printing ? [] : this.labelVisible() ? e.findTargetPriceAxisViews(this, t, [this._priceAxisView], [this._priceLinePriceAxisView]) : []
        }, n.prototype.statusView = function () {
          return null
        }, n.prototype.updateAllViews = function () {
          this._paneView.update(), this._priceAxisView.update(), this._priceLinePriceAxisView.update()
        }, n.prototype.pointsCount = function () {
          return 0
        }, n.prototype.title = function () {
          return this.alert().title()
        }, n.prototype.startMoving = function (e, t) {
          this._userEditEnabled = !1, this._startMovingPoint = e.logical, this.alert().saveState()
        }, n.prototype.move = function (e, t) {
          var i = e.logical.price,
            n = this.alert().get("extra");
          n.conditionData().isChannel && (0 === t ? i = {
            upper: i
          } : 1 === t && (i = {
            lower: i
          })), n.price(i), this._currentMovingPoint = e.logical
        }, n.prototype.endMoving = function () {
          var e = this,
            t = this._startMovingPoint,
            i = this._currentMovingPoint;
          this._userEditEnabled = !0, delete this._startMovingPoint, delete this._currentMovingPoint, t && i && t !== i && !this._undoMode && TradingView.alertsDispatcher.openEditDialog(this.alert(), {
            onEditCancel: function () {
              setTimeout(function () {
                e.alert().restoreState()
              }, 0)
            }
          })
        }, n.prototype.showInObjectTree = function () {
          return !1
        }, n.prototype.isRemovedByStudyTemplates = function () {
          return !1
        }, n.prototype.isUserDeletable = function () {
          return !1
        }, n.prototype.doesMovingAffectsUndo = function () {
          return !1
        }, n.prototype.drawHorzLine = function () {
          return this.labelLineVisible()
        }, n.prototype.canDrawLabelForAlert = function () {
          var e = this.alert(),
            t = e.get("extra"),
            i = t && t.getMainSeries(),
            n = i && i.getStyle && i.getStyle(),
            o = this.m_model.mainSeries(),
            r = o && o.properties(),
            s = r && r.style && r.style.value(),
            a = d.Interval.isEqual(e.get("resolution"), E.interval.value()) || e.get("crossInterval"),
            l = !e.isRangeBasedStyle() && !o.isRangeBasedStyle() || n === s;
          return e.isPrice() && a && l
        }, n.prototype.labelVisible = function () {
          return A("hide-alert-controls-on-property-page") ? p.defaultSettings.visible : (0, p.getSettingsProperty)().visible.value()
        }, n.prototype.labelLineVisible = function () {
          return (0, p.getSettingsProperty)().line.visible.value()
        }, n.prototype.color = function () {
          return this._highlighted ? (0, p.getSettingsProperty)().highlightColor.value() : this.alert().isNew() ? k : A("hide-alert-controls-on-property-page") ? p.defaultSettings.color : (0,
            p.getSettingsProperty)().color.value()
        }, o.prototype.stop = function () {
          this.m_alertLabel.alert().off("fired", this._highlightCallback), this.m_alertLabel.alert().off("change:hovered", this._updateHoverCallback)
        }, o.prototype.update = function () {
          this._invalidated = !0
        }, o.prototype.invalidate = function () {
          this.m_model.invalidate(new x(x.LIGHT_UPDATE))
        }, o.prototype.highlight = function () {
          var e = function () {
              this._highlighted = !0, this.update(), this.invalidate(), setTimeout(t, 500)
            }.bind(this),
            t = function () {
              this._highlighted = !1, this.update(), this.invalidate()
            }.bind(this);
          e(), setTimeout(e, 1e3)
        }, o.prototype.updateHover = function (e, t) {
          this._hovered = !!t, this.update(), this.invalidate()
        }, o.prototype._updateImpl = function () {
          var e, t, i, n, o, r = this,
            s = this.m_alertLabel.alert(),
            a = s.get("extra"),
            l = [],
            c = -1,
            u = function (e) {
              var t = r.m_model.paneForSource(r.m_alertLabel).mainDataSource().firstValue();
              return r.m_alertLabel.priceScale().priceToCoordinate(e, t)
            };
          this.m_alertLabel.canDrawLabelForAlert() ? (e = this.m_model.paneForSource(this.m_alertLabel).width() - this.labelWidth / 2 + c, t = a.price(), a.conditionData().isChannel ? (i = u(t.upper), n = u(t.lower), l.push(new g(e, i)), l.push(new g(e, n))) : (o = u(t), l.push(new g(e, o))), this.m_item = {
            alert: s,
            points: l
          }, this.m_model.selection().isSelected(this.m_alertLabel) ? this._selectionData = {
            points: l,
            hittestResult: P.MOVEPOINT
          } : this._selectionData = null) : this.m_item = null
        }, o.prototype.lineWidth = function () {
          var e;
          return e = A("hide-alert-controls-on-property-page") ? p.defaultSettings.line.width : (0, p.getSettingsProperty)().line.width.value(), this._hovered && (e += 2), e
        }, o.prototype.lineStyle = function () {
          return A("hide-alert-controls-on-property-page") ? p.defaultSettings.line.style : (0, p.getSettingsProperty)().line.style.value()
        }, o.prototype.renderer = function () {
          var e, t, i, n;
          if (this._invalidated && (this._updateImpl(), this._invalidated = !1), this.m_item) return e = this.m_alertLabel, t = this.m_model, (i = {}).item = this.m_item, i.barSpacing = t.timeScale().barSpacing(), i.height = this._hovered ? 12 : 10, i.width = this._hovered ? this.labelWidth + 2 : this.labelWidth, i.connectingLineWidth = this._hovered ? 3 : 1, i.color = e.color(), i.lineWidth = this.lineWidth(), i.lineStyle = this.lineStyle(), i.cursor = t.crossHairSource(), n = new C, e.drawHorzLine() && n.append(new s(i)), e === t.hoveredSource() && n.append(new r(i)), t.selection().isSelected(e) && n.append(new T(this._selectionData)), n
        }, r.prototype.draw = function (e) {
          var t = function (e, t, i) {
            var n, o, r, s, a, l, c, u, h, d, p, f, _ = 1,
              m = 12,
              y = 8,
              v = 20,
              S = 20,
              w = 5,
              P = [$.t("Alert: ") + this.alert.get("description")];
            for (e.font = m + "px " + D, r = 2 * v + (o = b($.map(P, function (t) {
                return e.measureText(t).width || 0
              }))), s = P.length * m + 2 * y + (P.length - 1) * y, 2 === this.points.length ? (a = this.points[0], l = this.points[1], this.cursor.x < a.x - this.labelWidth ? (c = this.cursor.x, u = Math.abs(l.y - this.cursor.y) < Math.abs(a.y - this.cursor.y) ? l.y : a.y) : (c = a.x, u = this.cursor.y, u = Math.min(l.y, u), u = Math.max(a.y, u)), n = new g(c, u)) : n = new g(this.cursor.x, this.points[0].y), h = {
                x: n.x - S - w - r,
                y: n.y - s / 2
              }, e.lineWidth = _, e.strokeStyle = this.borderColor, e.fillStyle = t, e.translate(h.x, h.y), e.beginPath(), e.moveTo(0, 0), e.lineTo(r, 0), e.lineTo(r, s / 2 - w),
              e.lineTo(r + w, s / 2), e.lineTo(r, s / 2 + w), e.lineTo(r, s), e.lineTo(0, s), e.lineTo(0, 0), e.stroke(), e.fill(), e.textBaseline = "bottom", e.fillStyle = i, e.textAlign = "start", d = v + I(e, o), p = 0, f = 0; f < P.length; f++) p += y + m, e.fillText(P[f], d, p);
            e.translate(-h.x, -h.y)
          }.bind(this);
          Promise.resolve().then(i.bind(null, "EsvI")).then(function (i) {
            var n = i.setThemedColor,
              o = n("color-alert-bg"),
              r = n("color-alert-text");
            t(e, o, r)
          })
        }, r.prototype.hitTest = function () {
          return null
        }, s.prototype.draw = function (e) {
          var t, i, n;
          for (e.lineWidth = this.lineWidth, e.strokeStyle = this.color, CanvasEx.setLineStyle(e, this.lineStyle), n = 0; n < this.points.length; n++) i = this.points[n].y, t = this.points[n].x, e.beginPath(), e.moveTo(t, i), e.lineTo(0, i), e.stroke()
        }, s.prototype.hitTest = function (e) {
          var t, i, n, o = 3;
          for (n = 0; n < this.points.length; n++)
            if (t = this.points[n].y, Math.abs(t - e.y) <= o) return i = n, new P(P.MOVEPOINT, i);
          return null
        }, O = 5, M = 5, R = 2, V = 1, a.prototype.draw = function (e, t, i, n, o) {
          e.fillStyle = this._data.color;
          var r = this._data.items[0];
          e.translate(.5, -.5), "left" === o ? (e.beginPath(), e.moveTo(V, r), e.lineTo(V + O, r - M), e.lineTo(V + O + R, r - M), e.lineTo(V + O + R, r + M), e.lineTo(V + O, r + M), e.closePath(), e.fill()) : (e.beginPath(), e.moveTo(n - V - 1, r), e.lineTo(n - V - O - 1, r - M), e.lineTo(n - V - O - R - 1, r - M), e.lineTo(n - V - O - R - 1, r + M), e.lineTo(n - V - O - 1, r + M), e.closePath(), e.fill())
        }, a.prototype.hitTest = function (e, t, i) {
          var n = this._data.items[0],
            o = null;
          return o = "right" === i ? v(y(V, n - M), y(V + O + R, n + M)) : v(y(t - V - 1, n - M), y(t - V - O - R - 1, n + M)), S(e, o) ? new P(P.REGULAR) : null
        }, l.prototype.hitTest = function (e, t, i) {
          var n = [],
            o = this.points[0],
            r = this.points[1],
            s = this._claculateTriangleHeight(o, r),
            a = this.connectingLineWidth,
            l = this.horzLineWidth / 2;
          return "right" === i ? (n.push(v(y(V, o - l), y(V + this.width, o + s))), n.push(v(y(V, r + l), y(V + this.width, r - s))), r > o && n.push(v(y(V + this.width - a, r), y(V + this.width + a, o)))) : (n.push(v(y(t - V, o - l), y(t - V - this.width, o + s))), n.push(v(y(t - V, r + l), y(t - V - this.width, r - s))), r > o && n.push(v(y(t - V - this.width - a, r), y(t - V - this.width + a, o)))), n.some(function (t) {
            return S(e, t)
          }) ? new P(P.REGULAR) : null
        }, l.prototype._claculateTriangleHeight = function (e, t) {
          var i = this.height;
          return e.y <= t.y && (i = Math.min(i, Math.abs(e.y - t.y) / 2)), i
        }, l.prototype.draw = function (e, t, i, n, o) {
          var r = this.points[0],
            s = this.points[1],
            a = this._claculateTriangleHeight(r, s),
            l = this.connectingLineWidth,
            c = this.horzLineWidth / 2;
          if (e.fillStyle = this.color, e.strokeStyle = this.color, e.lineWidth = l, CanvasEx.setLineStyle(e, this.lineStyle), "left" === o) {
            if (e.beginPath(), e.moveTo(V, r - c), e.lineTo(V + this.width, r - c), e.lineTo(V + this.width, r + a), e.closePath(), e.fill(), e.beginPath(), e.moveTo(V, s + c), e.lineTo(V + this.width, s + c), e.lineTo(V + this.width, s - a), e.closePath(), e.fill(), s < r) return;
            e.beginPath(), e.moveTo(V + this.width, s), e.lineTo(V + this.width, r), e.stroke()
          } else {
            if (e.beginPath(), e.moveTo(n - V, r - c), e.lineTo(n - V - this.width, r - c), e.lineTo(n - V - this.width, r + a), e.closePath(), e.fill(), e.beginPath(), e.moveTo(n - V, s + c), e.lineTo(n - V - this.width, s + c), e.lineTo(n - V - this.width, s - a), e.closePath(), e.fill(), s < r) return;
            e.beginPath(), e.moveTo(n - V - this.width, s), e.lineTo(n - V - this.width, r), e.stroke()
          }
        }, c.prototype.stop = function () {
          this._alertLabel.alert().off("change:hovered", this._updateHoverCallback)
        }, c.prototype.coordinate = function () {
          return this._data.length > 0 ? this._data[0] : null
        }, c.prototype.floatCoordinate = function () {
          return null
        }, c.prototype.getFixedCoordinate = function () {
          return null
        }, c.prototype.height = function () {
          return 0
        }, c.prototype.isVisible = function () {
          return this._data.visible
        }, c.prototype.isAxisLabelVisible = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !0), this._data.visible
        }, c.prototype.paneRenderer = function () {
          return null
        }, c.prototype.setFixedCoordinate = function () {}, c.prototype.text = function () {
          return ""
        }, c.prototype.update = function () {
          this._invalidated = !0
        }, c.prototype.renderer = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !0), 0 === this._data.items.length ? new C : 1 === this._data.items.length ? new a(this._data) : 2 === this._data.items.length ? new l(this._data) : new C
        }, c.prototype._updateHover = function (e, t) {
          this._hovered = !!t, this.update()
        }, c.prototype._updateImpl = function () {
          var e, t, i, n, o, r, s = this;
          this._data.visible = !1, null !== this._model.paneForSource(this._alertLabel) && (e = function (e) {
            var t = s._model.paneForSource(s._alertLabel).mainDataSource().firstValue();
            return s._alertLabel.priceScale().priceToCoordinate(e, t)
          }, t = this._alertLabel.alert().get("extra"), this._alertLabel.canDrawLabelForAlert() && (this._data.visible = !0, this._data.width = 7, this._data.height = 7, this._data.color = this._alertLabel.color(), this._data.items = [], this._data.connectingLineWidth = this._hovered ? 3 : 1, this._data.lineWidth = (0, p.getSettingsProperty)().line.width.value() + (this._hovered ? 2 : 0), this._data.lineStyle = (0, p.getSettingsProperty)().line.style.value(), i = t.price(), t.conditionData().isChannel ? (n = e(i.upper), o = e(i.lower), this._data.items.push(n), this._data.items.push(o)) : (r = e(i), this._data.items.push(r))))
        }, u.prototype.draw = function (e, t, i, n, o) {
          this._bases.forEach(function (r) {
            r.draw(e, t, i, n, o)
          })
        }, u.prototype.height = function () {
          return 0
        }, inherit(h, c), h.prototype.renderer = function () {
          var e, t, i, n = this;
          if (this._invalidated && (this._updateImpl(), this._invalidated = !1), !this._data.visible) return new u([]);
          for (e = {
              visible: this._data.visible,
              linewidth: this._data.lineWidth,
              linestyle: this._data.lineStyle
            }, t = this._renderers.length; t < this._data.items.length; t++) i = {
            color: this._data.color,
            coordinate: this._data.items[t]
          }, this._renderers.push(new L(e, i));
          return this._renderers.length > this._data.items.length && this._renderers.splice(this._data.items.length), this._data.items.forEach(function (t, i) {
            var o = {
              color: n._data.color,
              coordinate: t
            };
            n._renderers[i].setData(e, o)
          }), this._compositeRenderer
        }, h.prototype._updateImpl = function () {
          this._alertLabel.drawHorzLine() ? c.prototype._updateImpl.call(this) : this._data.visible = !1
        }, t.AlertLabel = n
    },
    "1hzI": function (e, t, i) {
      "use strict";
      var n;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), n = function () {
        function e(e, t) {
          var i, n;
          for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
        }
        return function (t, i, n) {
          return i && e(t.prototype, i), n && e(t, n), t
        }
      }(), t.KeyboardListener = function () {
        function e() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "keydown",
            i = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
          ! function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
          }(this, e), this._event = t, this._preventDefault = i
        }
        return n(e, [{
          key: "regHandlers",
          value: function (e) {
            this._handlers = e
          }
        }, {
          key: "watchOn",
          value: function (e) {
            this._listener = this._regListener(), this._watchingEl = e, e.addEventListener(this._event, this._listener)
          }
        }, {
          key: "stopWatching",
          value: function () {
            this._watchingEl.removeEventListener(this._event, this._listener)
          }
        }, {
          key: "_regListener",
          value: function () {
            var e = this;
            return function (t) {
              var i = t.which,
                n = e._getHandler(i);
              t.stopPropagation(), n(t)
            }
          }
        }, {
          key: "_getHandler",
          value: function (e) {
            var t = this,
              i = t._handlers[e],
              n = function () {},
              o = function (e) {
                t._preventDefault && e.preventDefault(), i(e)
              };
            return i ? o : n
          }
        }]), e
      }()
    },
    "1mZ4": function (e, t, i) {
      "use strict";

      function n(e) {
        this._data = e
      }

      function o(e, t) {
        this._data = e, this._model = t, this.radius = this._data.radius || o.OUTER_RADIUS
      }

      function r(e) {
        n.call(this, e)
      }
      var s = i("VdBB").HitTestResult,
        a = i("6a0U").PaneRendererArrowsUpDown,
        l = i("f6yo").pointInBox;
      i("qFKp"), n.RADIUS = 3.5, n.prototype.tolerance = 2, n.prototype.draw = function (e) {
        var t, i, n, o;
        if (this._data)
          for (e.strokeStyle = "#6B6B6B", e.fillStyle = "#D6D6D6", t = this._data.vertOffset || 0, i = 0; i < this._data.points.length; i++) n = this._data.points[i], void 0 === (o = n).x || TradingView.isNaN(o.x) || null === o.x || void 0 === o.y || TradingView.isNaN(o.y) || null === o.y || this._drawMarker(e, n, t)
      }, n.prototype._drawMarker = function (e, t, i) {
        e.beginPath(), e.arc(t.x + .5, t.y + .5 + i, n.RADIUS, 0, 2 * Math.PI, !0), e.closePath(), e.fill(), e.stroke()
      }, n.prototype.hitTest = function (e) {
        var t, i;
        if (!this._data) return null;
        for (t = 0; t < this._data.points.length; t++)
          if ((i = this._data.points[t]).subtract(e).length() <= n.RADIUS + this.tolerance) return new s(this._data.hittestResult, i.data);
        return null
      }, n.prototype.doesIntersectWithBox = function (e) {
        return this._data.points.some(function (t) {
          return l(t, e)
        })
      }, o.OUTER_RADIUS = TradingView.isMobile.any() ? 16 : 8, o.prototype.tolerance = 2, o.prototype.draw = function (e) {
        var t = this._data.currentPoint,
          i = this._data.points.filter(function (e) {
            return !!e.square
          }),
          n = this._data.points.filter(function (e) {
            return !e.square
          }),
          o = this,
          r = function (t, i, n) {
            e.fillRect(t.x - i, t.y - i, 2 * i, 2 * i);
            var o = i - n;
            e.lineWidth = n, e.strokeRect(t.x - o, t.y - o, 2 * o, 2 * o)
          },
          s = function (t, i, n) {
            e.beginPath(), e.arc(t.x, t.y, i, 0, 2 * Math.PI, !0), e.closePath(), e.fill(), e.beginPath(), e.arc(t.x, t.y, i - n / 2, 0, 2 * Math.PI, !0), e.closePath(), e.lineWidth = n, e.stroke()
          },
          a = function (e, i) {
            var n, r, s, a, l, c, u;
            for (n = 0; n < e.length; n++) s = (r = e[n]).subtract(t).length(), a = TradingView.isInteger(r.data) && o._data.linePointBeingEdited === r.data, l = o.radius, c = o._data.strokeWidth || 2, l += u = s <= l + o.tolerance ? 1 : 0, c += u, a || i(r, l, c)
          };
        i.length && (e.fillStyle = this._data.backgroundColor, e.strokeStyle = this._data.color, a(i, r)), n.length && (e.fillStyle = this._data.backgroundColor, e.strokeStyle = this._data.color, a(n, s))
      }, o.prototype.hitTest = function (e) {
        var t, i;
        for (t = 0; t < this._data.points.length; t++)
          if ((i = this._data.points[t]).subtract(e).length() <= this.radius + this.tolerance) return new s(this._data.hittestResult, i.data);
        return null
      }, o.prototype.doesIntersectWithBox = function (e) {
        return this._data.points.some(function (t) {
          return l(t, e)
        })
      }, inherit(r, n), r.prototype._drawMarker = function (e, t, i) {
        var o = t.isUp ? 1 : -1,
          r = a.prototype._calculateVerticalOffset(this._data.barSpacing),
          s = a.prototype._calculateMinHeight(this._data.barSpacing),
          l = i + o * r + o * s;
        e.beginPath(), e.arc(t.x + .5, t.y + .5 + l, n.RADIUS, 0, 2 * Math.PI, !0), e.closePath(), e.fill(), e.stroke()
      }, t.SelectionRenderer = n, t.LineAnchor = o, t.SelectionRendererArrowsUpDown = r
    },
    "1pHB": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" transform="translate(4 5)"><circle stroke="currentColor" cx="9.5" cy="9.5" r="9"/><path stroke="currentColor" d="M7 14.5h2.5v-5H7"/><path stroke="currentColor" stroke-linecap="square" d="M9.5 14.5h2"/><path fill="currentColor" d="M9.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/></g></svg>'
    },
    "2+aH": function (e, t, i) {
      "use strict";
      (function (e) {
        function n(t, i, n) {
          var r, s, a, l, c, u;
          n = n || {}, n = Object.assign({}, V, n), L && (n.menuEnabled = !1), r = this, m.call(this), this._properties = i, this._model = t, this._dataWindowView = new h(this, t), this._priceAxisViews = new Map, this._menuView = n.menuEnabled ? new A(this, t, {
              menuForMainSourceOnly: n.menuForMainSourceOnly
            }) : null, this._startMeasurePriceAxisViews = new Map, this._endMeasurePriceAxisViews = new Map, s = function (e, t) {
              return function (i) {
                var n, o = t(),
                  r = e();
                return i === this.pane.defaultPriceScale() ? {
                  price: r,
                  coordinate: o
                } : (n = i.mainSource().firstValue(), {
                  price: i.coordinateToPrice(o, n),
                  coordinate: o
                })
              }.bind(this)
            }.bind(this), a = function (e, t) {
              return function () {
                return {
                  time: this._model.timeScale().indexToUserTime(e()),
                  coordinate: t()
                }
              }.bind(this)
            }.bind(this), this._currentPosPriceProvider = s(function () {
              return this.price
            }.bind(this), function () {
              return this.y
            }.bind(this)), this._startMeasurePriceProvider = s(function () {
              return this._startMeasurePoint.price
            }.bind(this), function () {
              return this._startMeasurePoint.y
            }.bind(this)), this._endMeasurePriceProvider = s(function () {
              return this._endMeasurePoint.price
            }.bind(this), function () {
              return this._endMeasurePoint.y
            }.bind(this)), l = a(function () {
              return this.appliedIndex()
            }.bind(this), function () {
              return this.appliedX()
            }.bind(this)), c = a(function () {
              return this._startMeasurePoint.index
            }.bind(this), function () {
              return this._startMeasurePoint.x
            }.bind(this)), u = a(function () {
              return this._endMeasurePoint.index
            }.bind(this), function () {
              return this._endMeasurePoint.x
            }.bind(this)), this._timeAxisView = new d(this, t, l), this._startMeasureTimeAxisView = new d(this, t, c), this._endMeasureTimeAxisView = new d(this, t, u), this._selectionRect = null, this._selectionPane = null, this.visible = !0, t.readOnly() ? this.areLinesVisible = !0 : g.cursorTool.subscribe(function (e) {
              r.areLinesVisible = "arrow" !== e
            }, {
              callWithLast: !0
            }), this._movedDelegate = new e, this._subscribed = !1, this._linesShouldBeHidden = this._model.readOnly(), this._selectBarMode = new D(!1), this._barSelectedDelegate = new e,
            this._isOnHoveredChartWidget = !1, this._selectionView = new o(this, t)
        }

        function o(e, t) {
          this._source = e, this._model = t, this._rectangle = null, this._renderer = new _
        }

        function r(e, t) {
          this._source = e, this._pane = t, this._pipFormatter = null, this._lastSymbolInfo = null, this._horzTrenRenderer = new p, this._vertTrenRenderer = new p, this._bgRenderer = new _, this._labelRenderer = new f({})
        }

        function s(e, t, i) {
          this.source = e, this.pane = t, this._horzVisible = i
        }

        function a(e, t, i) {
          this.source = e, this.pane = t, this._axis = i || "x"
        }
        var l = i("aO4+").Point,
          c = i("CW80").isLineToolName,
          u = i("KEYX").CrossHairPriceAxisView,
          h = i("te6v"),
          d = i("p1Ci"),
          p = i("pJOz").TrendLineRenderer,
          f = i("qgcf").TextRenderer,
          _ = i("IjC5").RectangleRenderer,
          m = i("fgLi").DataSource,
          g = i("mMWL"),
          y = i("Cqax").PaneRendererCrossHair,
          v = i("N7ud").PaneRendererCrossHairLock,
          S = i("Zy3/").CompositeRenderer,
          b = i("HvwJ"),
          w = i("GH0z").PercentageFormatter,
          P = i("nda6").TimeSpanFormatter,
          T = i("5C6T").PipFormatter,
          C = i("Tmoa"),
          x = i("a7Ha").LineEnd,
          E = i("8Uy/"),
          I = i("ogJP").isNaN,
          A = i("9X5O"),
          L = i("qFKp").CheckMobile.any(),
          D = i("hY0g"),
          k = i("Ialn"),
          O = k.forceLTRStr,
          M = k.startWithLTR,
          R = i("zDbI").CHART_FONT_FAMILY,
          V = {
            menuEnabled: !1,
            menuForMainSourceOnly: !1
          };
        inherit(n, m), n.prototype.index = 0, n.prototype.price = NaN, n.prototype.pane = null, n.prototype.color = "white", n.prototype.style = "", n.prototype.customization = {
            disableSelection: !0
          }, n.prototype.properties = function () {
            return this._properties
          }, n.prototype.moved = function () {
            return this._movedDelegate
          }, n.prototype.saveOriginCoord = function (e, t) {
            this._originX = e, this._originY = t
          }, n.prototype.clearOriginCoord = function () {
            this._originX = NaN, this._originY = NaN
          }, n.prototype.setPosition = function (e, t, i) {
            this._subscribed || (this._model.mainSeries().onRestarted().subscribe(this, n.prototype.clearMeasure), this._subscribed = !0), this.setLockedPosition(i), this.visible = !0, this._tryToUpdateViews(e, t, i)
          }, n.prototype.startSelection = function (e) {
            this._selectionStartPoint = this.currentLogicalPoint(), this._selectionPane = e
          }, n.prototype.clearSelection = function () {
            this._selectionStartPoint = null, this._selectionPane = null
          }, n.prototype.selection = function () {
            return this._selectionStartPoint ? {
              p1: this._selectionStartPoint,
              p2: this.currentLogicalPoint()
            } : null
          }, n.prototype.selectionPane = function () {
            return this._selectionPane
          }, n.prototype.update = function () {
            var e, t, i, n, o, r;
            this.visible ? (e = this._priceScaleByPane(this.pane), t = this._originX || this.x, i = this._originY || this.y, n = this._model.timeScale().coordinateToIndex(t), o = NaN, null !== e && (r = this.pane.mainDataSource().firstValue(), o = e.coordinateToPrice(i, r)), this._tryToUpdateViews(n, o, this.pane)) : this._setIndexToLastSeriesBarIndex()
          }, n.prototype._priceScaleByPane = function (e) {
            return e && !e.defaultPriceScale().isEmpty() ? e.defaultPriceScale() : null
          }, n.prototype._tryToUpdateViews = function (e, t, i) {
            this._tryToUpdateData(e, t, i) && (this.updateAllViews(), this._movedDelegate.fire({
              time: this._model.timeScale().points().roughTime(this.index),
              price: this.price
            }))
          }, n.prototype._tryToUpdateData = function (e, t, i) {
            var n, o = this.x,
              r = this.y,
              s = this.price,
              a = this.index,
              l = this.pane,
              c = this._priceScaleByPane(i);
            return this.index = e,
              this.x = I(e) ? NaN : this._model.timeScale().indexToCoordinate(e), null !== c ? (this.pane = i, this.price = t, n = i.mainDataSource().firstValue(), this.y = c.priceToCoordinate(t, n)) : (this.pane = null, this.price = NaN, this.y = NaN), o !== this.x || r !== this.y || a !== this.index || s !== this.price || l !== this.pane
          }, n.prototype.setLockedPosition = function (e) {
            delete this.lockedIndex, delete this.lockedX, e !== this._measurePane && g.lockTimeAxis().value() && (this.lockedIndex = this._model.timeScale().points().roughIndex(g.lockTimeAxisTime.value()), this.lockedX = this._model.timeScale().indexToCoordinate(this.lockedIndex))
          }, n.prototype.clearPosition = function () {
            this.visible = !1, this._setIndexToLastSeriesBarIndex(), this.price = NaN, this.x = NaN, this.y = NaN, this.pane = null, this.clearOriginCoord()
          }, n.prototype._setIndexToLastSeriesBarIndex = function () {
            var e = this._model.mainSeries().bars().lastIndex();
            this.index = null !== e ? e : NaN
          }, n.prototype.measureStartY = function () {
            var e = this._startMeasurePoint.price,
              t = this._measurePane,
              i = t.mainDataSource().firstValue();
            return t.defaultPriceScale().priceToCoordinate(e, i)
          }, n.prototype.measureStartX = function () {
            return this._model.timeScale().indexToCoordinate(this._startMeasurePoint.index)
          }, n.prototype.measureEndY = function () {
            var e = this._endMeasurePoint.price,
              t = this._measurePane,
              i = t.mainDataSource().firstValue();
            return t.defaultPriceScale().priceToCoordinate(e, i)
          }, n.prototype.measureEndX = function () {
            return this._model.timeScale().indexToCoordinate(this._endMeasurePoint.index)
          }, n.prototype.paneViews = function (e) {
            var t, i, n, o, l, u = this._selectBarMode.value() && this._isOnHoveredChartWidget,
              h = e === this.pane && !u,
              d = [new s(this, e, h)];
            return e === this._selectionPane && d.push(this._selectionView), e === this._measurePane && (this._measurePaneView || (this._measurePaneView = new r(this, e)), this._measurePaneView.update(), d.push(this._measurePaneView)), t = e === this.pane, i = !TradingView.isMobile.any() || window.screen.width >= 500, n = g.tool.value(), o = c(n), l = null !== this._model.lineBeingEdited() || null !== this._model.lineBeingCreated() || this._model.sourcesBeingMoved().length > 0, null !== this._menuView && t && this._isOnHoveredChartWidget && !u && i && !o && !l && d.push(this._menuView), g.lockTimeAxis().value() && d.push(this._timeLockPaneView = this._timeLockPaneView || new a(this, e)), d
          }, n.prototype.dataWindowView = function () {
            return this._dataWindowView
          }, n.prototype._createPriceAxisViewOnDemand = function (e, t, i) {
            var n = e.get(t);
            return void 0 === n && (n = new u(this, t, i), e.set(t, n)), n
          }, n.prototype.priceAxisViews = function (e, t) {
            var i;
            return !this._linesShouldBeHidden && this.visible && this.pane === e || (this._priceAxisViews.clear(), this._startMeasurePriceAxisViews.clear(), this._endMeasurePriceAxisViews.clear()), i = [], this._selectBarMode.value() && this._isOnHoveredChartWidget || this.pane !== e || i.push(this._createPriceAxisViewOnDemand(this._priceAxisViews, t, this._currentPosPriceProvider)), this._startMeasurePoint && i.push(this._createPriceAxisViewOnDemand(this._startMeasurePriceAxisViews, t, this._startMeasurePriceProvider)),
              this._endMeasurePoint && i.push(this._createPriceAxisViewOnDemand(this._endMeasurePriceAxisViews, t, this._endMeasurePriceProvider)), i
          }, n.prototype.timeAxisView = function () {
            if (this._linesShouldBeHidden || !this.visible && !g.lockTimeAxis().value()) return null;
            var e = [this._timeAxisView];
            return this._startMeasurePoint && e.push(this._startMeasureTimeAxisView), this._endMeasurePoint && e.push(this._endMeasureTimeAxisView), e
          }, n.prototype.updateAllViews = function () {
            this._priceAxisViews.forEach(function (e) {
              e.update()
            }), this._startMeasurePoint && (this._startMeasurePriceAxisViews.forEach(function (e) {
              e.update()
            }), this._startMeasureTimeAxisView.update()), this._endMeasurePoint && (this._endMeasurePriceAxisViews.forEach(function (e) {
              e.update()
            }), this._endMeasureTimeAxisView.update()), this._timeAxisView.update(), this._selectionView.update()
          }, n.prototype.startMeasurePoint = function () {
            return this._startMeasurePoint
          }, n.prototype.startMeasuring = function (e, t) {
            this._startMeasurePoint = e, this._measurePane = t
          }, n.prototype.finishMeasure = function (e) {
            this._endMeasurePoint = e
          }, n.prototype.endMeasurePoint = function () {
            return this._endMeasurePoint
          }, n.prototype.clearMeasure = function (e) {
            delete this._measurePane, delete this._startMeasurePoint, delete this._endMeasurePoint, delete this._lastValidMeasurePoint, this._model.invalidate(new b(b.LIGHT_UPDATE))
          }, n.prototype.measurePoints = function () {
            this.updateAllViews();
            var e = [this._startMeasurePoint];
            return this._endMeasurePoint ? e.push(this._endMeasurePoint) : (this._measurePane === this.pane && (this._lastValidMeasurePoint = {
              x: this.x,
              y: this.y,
              rawPrice: this.price,
              price: this.price,
              index: this.index
            }), this._lastValidMeasurePoint && e.push(this._lastValidMeasurePoint)), e
          }, n.prototype.currentLogicalPoint = function () {
            return {
              index: this.appliedIndex(),
              price: this.price
            }
          }, n.prototype.currentPoint = function () {
            return new l(this.x, this.y)
          }, n.prototype.appliedIndex = function () {
            return isFinite(this.lockedIndex) && this.lockedIndex || this.index
          }, n.prototype.appliedX = function () {
            return isFinite(this.lockedX) && this.lockedX || this.x
          }, n.prototype.selectBarMode = function () {
            return this._selectBarMode
          }, n.prototype.toggleSelectBarMode = function () {
            this._setSelectBarModeState(!this._selectBarMode.value())
          }, n.prototype.onBarSelected = function () {
            return this._barSelectedDelegate
          }, n.prototype._setSelectBarModeState = function (e) {
            this._selectBarMode.setValue(e), this._model.invalidate(new b(b.LIGHT_UPDATE))
          }, n.prototype.trySelectCurrentBar = function () {
            var e, t = this._model.mainSeries().bars();
            t.contains(this.index) && null !== (e = this._model.timeScale().indexToTimePoint(this.index)) && (this._setSelectBarModeState(!1), this._barSelectedDelegate.fire(e))
          }, n.prototype.handleContextMenuEvent = function () {
            this._selectBarMode.value() && this._setSelectBarModeState(!1)
          }, n.prototype.setOnHoveredChartWidget = function (e) {
            this._isOnHoveredChartWidget = e
          }, n.prototype.isOnHoveredChartWidget = function () {
            return this._isOnHoveredChartWidget
          }, n.prototype.setLinesShouldBeHidden = function (e) {
            this._linesShouldBeHidden = e
          }, n.prototype.linesShouldBeHidden = function () {
            return this._linesShouldBeHidden
          },
          o.prototype.update = function () {
            var e = this._source.selection();
            e && this._source.pane ? this._rectangle = this._source.pane.logicalRectToPixels(e) : this._rectangle = null
          }, o.prototype.renderer = function () {
            return this._rectangle ? (this._renderer.setData({
              backcolor: "#BADAFF",
              color: "#D3E7FF",
              fillBackground: !0,
              linewidth: 1,
              transparency: 60,
              points: [this._rectangle.min, this._rectangle.max]
            }), this._renderer) : null
          }, r.prototype.update = function () {
            var e, t, i, n, o, r, s, a, c, u, h, d, p, f, _, m, g, y, v, S, b, C, x;
            if (this._source._endMeasurePoint) e = this._source._endMeasurePoint.price, t = this._source._endMeasurePoint.index;
            else if (this._source._measurePane === this._source.pane) e = this._source.price, t = this._source.index;
            else {
              if (!this._source._lastValidMeasurePoint) return this._p1 = null, void(this._p2 = null);
              e = this._source._lastValidMeasurePoint.rawPrice, t = this._source._lastValidMeasurePoint.index
            }
            i = e - this._source._startMeasurePoint.price, n = t - this._source._startMeasurePoint.index, o = O(n), r = this._source._startMeasurePoint.price, a = (s = this._source._measurePane.mainDataSource()).formatter().format(i), this._source._startMeasurePoint.price && (c = i / this._source._startMeasurePoint.price, a += " (" + (new w).format(100 * c) + ")"), u = O(a), this._label = u + "\n" + window.t("{0} bars").format(o), r = this._source._model._magnet.align(r, this._source._startMeasurePoint.index, this._source._measurePane), e = this._source._model._magnet.align(e, t, this._source._measurePane), h = s.firstValue(), d = this._source._model.timeScale().indexToCoordinate(this._source._startMeasurePoint.index), p = this._source._model.timeScale().indexToCoordinate(t), f = this._source._measurePane.defaultPriceScale().priceToCoordinate(r, h), _ = this._source._measurePane.defaultPriceScale().priceToCoordinate(e, h), this._p1 = new l(d, f), this._p2 = new l(p, _), m = this._source._model.timeScale().indexToUserTime(this._source._startMeasurePoint.index), g = this._source._model.timeScale().indexToUserTime(t), (y = this._pane.model().mainSeries().symbolInfo()) && y !== this._lastSymbolInfo && (this._pipFormatter = new T(y.pricescale, y.minmov, y.type, y.minmove2), this._lastSymbolInfo = y), m && g && (v = (g.valueOf() - m.valueOf()) / 1e3, b = (S = this._pipFormatter ? this._pipFormatter.format(i) : "") ? " , " + S : S, C = (new P).format(v), x = M(C), this._label = O(u + b) + "\n" + window.t("{0} bars").format(o) + ", " + x)
          }, r.prototype.renderer = function () {
            var e, t, i, n, o, r, s, a, c, u, h, d, p;
            return null === this._p1 || null === this._p2 ? null : (e = new S, (t = {}).points = [this._p1, this._p2], t.width = this._source._model.timeScale().width(), t.height = this._source._measurePane.defaultPriceScale().height(), t.color = "#D3E7FF", t.linewidth = 0, t.fillBackground = !0, t.transparency = 60, t.backcolor = "#BADAFF", this._bgRenderer.setData(t), e.append(this._bgRenderer), i = this._p1.add(this._p2).scaled(.5), n = {
              points: [new l(this._p1.x, i.y), new l(this._p2.x, i.y)],
              width: t.width,
              height: t.height,
              color: "#363c4e",
              linewidth: 1,
              linestyle: CanvasEx.LINESTYLE_DASHED,
              extendleft: !1,
              extendright: !1,
              leftend: x.Normal,
              rightend: x.Arrow
            }, this._horzTrenRenderer.setData(n), e.append(this._horzTrenRenderer), n = {
              points: [new l(i.x, this._p1.y), new l(i.x, this._p2.y)],
              width: t.width,
              height: t.height,
              color: "#363c4e",
              linewidth: 1,
              linestyle: CanvasEx.LINESTYLE_DASHED,
              extendleft: !1,
              extendright: !1,
              leftend: x.Normal,
              rightend: x.Arrow
            }, this._vertTrenRenderer.setData(n), e.append(this._vertTrenRenderer), o = 0, r = 10, s = function (e, t) {
              return {
                points: [t],
                text: e,
                color: "#FFFFFF",
                horzAlign: "left",
                vertAlign: "middle",
                font: R,
                offsetX: o,
                offsetY: r,
                bold: !1,
                italic: !1,
                fontsize: 12,
                padding: 5,
                highlightBorder: !1,
                backgroundColor: C.generateColor("#5b85bf", 10),
                backgroundTransparency: 10,
                backgroundVertInflate: 5,
                backgroundHorzInflate: 5,
                backgroundRoundRect: 4
              }
            }, a = .5 * (this._p1.x + this._p2.x), c = this._p2.y, u = new l(a, c), h = s(this._label, u), this._labelRenderer.setData(h), d = this._labelRenderer.measure(), p = {
              x: a + h.backgroundHorzInflate + d.textBgPadding - d.width / d.textBgPadding,
              y: this._p1.y > this._p2.y ? u.y - d.height - 2 * d.textBgPadding - r > 0 ? c - d.height - r + d.textBgPadding : r - 2 * d.textBgPadding : u.y + d.height + d.textBgPadding + r > t.height ? t.height - d.height - r : c + d.textBgPadding
            }, this._labelRenderer.setPoints([new l(p.x, p.y)]), e.append(this._labelRenderer), e)
          }, s.prototype.update = function () {}, s.prototype.renderer = function () {
            var e, t, i, n, o, r, s = {},
              a = this.source.visible && this.source.areLinesVisible,
              l = g.lockTimeAxis().value();
            return s.horzLinesVisible = a && this._horzVisible, s.vertLinesVisible = a || l, t = (e = this.pane._model.readOnly()) ? defaults("chartproperties.paneProperties.crossHairProperties") : null, i = this.source.selectBarMode().value() && this.source.isOnHoveredChartWidget(), o = (n = TradingView.isMobile.any() && c(this.source._model.currentTool()) && !i) ? "#a000a0" : e ? t.color : this.pane._model.properties().paneProperties.crossHairProperties.color.value(), r = e ? t.transparency : this.pane._model.properties().paneProperties.crossHairProperties.transparency.value(), !n && r > 0 && (o = C.generateColor(o, r)), s.color = o, s.lineWidth = e ? t.width : this.pane._model.properties().paneProperties.crossHairProperties.width.value(), s.lineStyle = e ? t.style : this.pane._model.properties().paneProperties.crossHairProperties.style.value(), s.drawCenter = n && this.pane === this.source.pane, s.w = this.pane.width(), s.h = this.pane.height(), s.x = isFinite(this.source.lockedX) && this.source.lockedX || this.source.x, s.y = this.source.y, i && (s.x = Math.max(0, this.source.x - 1), s.vertLinesVisible = !0, s.lineStyle = E.LINESTYLE_SOLID, s.lineWidth = 2, s.color = "#ff0000"), new y(s)
          }, a.prototype.update = function () {}, a.prototype.renderer = function () {
            var e, t, i, n, o = this.source.visible && this.source.areLinesVisible,
              r = g.lockTimeAxis().value(),
              s = o && this._horzVisible,
              a = o || r;
            if (("y" !== this._axis || s) && a) return e = 9, t = 11, i = "y" === this._axis ? this.pane.width() - e / 2 : this.source.lockedX + 1, n = "y" === this._axis ? this.source.y : this.pane.height() - t / 2 - 1, new v({
              x: i,
              y: n,
              width: e,
              height: t,
              bodyHeight: 7
            })
          }, t.CrossHair = n
      }).call(this, i("aIyQ"))
    },
    "22O2": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this.m_series = e, this.m_model = t, this.m_bars = [], this._invalidated = !0, this._isMarkersEnabled = x.enabled("source_selection_markers")
      }

      function o(e, t) {
        n.call(this, e, t)
      }

      function r(e, t) {
        n.call(this, e, t)
      }

      function s(e, t) {
        o.call(this, e, t)
      }

      function a(e, t) {
        r.call(this, e, t)
      }

      function l(e, t) {
        r.call(this, e, t)
      }

      function c(e, t) {
        o.call(this, e, t)
      }

      function u(e, t) {
        r.call(this, e, t)
      }

      function h(e, t) {
        o.call(this, e, t)
      }

      function d(e, t) {
        r.call(this, e, t)
      }

      function p(e, t) {
        o.call(this, e, t)
      }

      function f(e, t) {
        r.call(this, e, t)
      }
      var _ = i("Eyy1").ensureNotNull,
        m = i("aO4+").Point,
        g = i("1mZ4").SelectionRenderer,
        y = i("VdBB").HitTestResult,
        v = i("6bOu").PaneRendererRenkoPB,
        S = i("WoPS").PaneRendererKagi,
        b = i("rrRE").PaneRendererPnF,
        w = i("VuJ3").PaneRendererBars,
        P = i("Zy3/").CompositeRenderer,
        T = i("ga+R"),
        C = i("uOxu").getLogger("Chart.JapaneseSeriesPaneView"),
        x = i("Kxc7");
      n.prototype.bars = function () {
          throw new Error("unimplemented")
        }, n.prototype.isProjection = function () {
          throw new Error("unimplemented")
        }, n.prototype.update = function () {
          this._invalidated = !0
        }, n.prototype.nearestIndex = function (e, t) {
          if (TradingView.isInteger(e)) {
            var i = this.bars().search(e, t);
            return null !== i ? i.index : void 0
          }
          C.logDebug("incorrect logicalPoint")
        }, n.prototype._updateImpl = function () {
          var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f, g, v, S, b = this;
          if (this.m_bars.length = 0, (this.m_series.properties().style.value() !== TradingView.Series.STYLE_PNF || this.m_series.data().boxSize) && !this.m_model.timeScale().isEmpty() && !this.m_series.priceScale().isEmpty() && null !== (e = this.m_series.getRealVisibleRange()) && 0 !== this.bars().size()) {
            for (t = e.firstBar(), i = e.lastBar(), n = this.m_series.data().search(t).value[TradingView.CLOSE_PLOT]; t <= i && null === this.bars().valueAt(t); t++);
            if (!(t > i) && (e = this.bars().range(t, i), o = this.m_series.priceScale(), r = this.m_series.barColorer(), s = {}, a = b.m_series.properties().style.value(), l = a === TradingView.Series.STYLE_KAGI || a === TradingView.Series.STYLE_PNF, c = b.isProjection(), u = _(b.m_series.data().bars().lastIndex()), e.each(function (e, t) {
                var i, n, o;
                if (void 0 !== t[TradingView.OPEN_PLOT] && void 0 !== t[TradingView.HIGH_PLOT] && void 0 !== t[TradingView.LOW_PLOT] && void 0 !== t[TradingView.CLOSE_PLOT]) {
                  switch (i = {}, n = {
                    O: t[TradingView.OPEN_PLOT],
                    H: t[TradingView.HIGH_PLOT],
                    L: t[TradingView.LOW_PLOT],
                    C: t[TradingView.CLOSE_PLOT],
                    Adt: l ? t[TradingView.ADT_PLOT] : void 0
                  }, i.time = Math.round(e), i.open = n.O, i.high = n.H, i.low = n.L, i.close = n.C, s.value = t, o = r.barStyle(e, c, s), s.previousValue = t, i.color = o.barColor, i.borderColor = o.barBorderColor, i.isUp = o.isBarUp, i.wickColor = o.barWickColor, a) {
                    case TradingView.Series.STYLE_PNF:
                      i.low -= .5 * b.m_series.data().boxSize, i.high += .5 * b.m_series.data().boxSize, i.additionalNum = Math.round(1 + (t[TradingView.HIGH_PLOT] - t[TradingView.LOW_PLOT]) / b.m_series.data().boxSize);
                      break;
                    case TradingView.Series.STYLE_KAGI:
                      if (i.upColor = o.upColor, i.downColor = o.downColor, i.isTwoColorBar = o.isTwoColorBar, !isNumber(n.Adt)) break;
                      i.additionalPrice = n.Adt, c && i.time === u && (i.combinedWithProjection = !0)
                  }
                  b.m_bars.push(i)
                }
              }, this), a === TradingView.Series.STYLE_PNF && (this.blockSize = (o.priceToCoordinate(0, n) - o.priceToCoordinate(500, n)) / 500 * this.m_series.data().boxSize), o.barPricesToCoordinates(this.m_bars, n), this.m_model.timeScale().barIndexesToCoordinates(this.m_bars), this.m_model.selection().isSelected(this.m_series)))
              for (h = T(t, i), this._selectionData = {
                  points: []
                }, this._selectionData.hittestResult = y.REGULAR, d = 0; d < h.length; d++) p = h[d],
                null !== (f = this.m_series.bars().valueAt(p)) && (g = .5 * (f[TradingView.OPEN_PLOT] + f[TradingView.CLOSE_PLOT]), v = this.m_model.timeScale().indexToCoordinate(p), S = this.m_series.priceScale().priceToCoordinate(g, n), this._selectionData.points.push(new m(v, S)))
          }
        }, n.prototype.items = function () {
          return this.m_bars
        }, inherit(o, n), o.prototype.bars = function () {
          return this.m_series.bars()
        }, o.prototype.isProjection = function () {
          return !1
        }, inherit(r, n), r.prototype.bars = function () {
          return this.m_series.nsBars()
        }, r.prototype.isProjection = function () {
          return !0
        }, inherit(s, o), s.prototype.renderer = function () {
          var e, t;
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barWidth = this.m_model.timeScale().barSpacing(), (t = new P).append(new v(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && t.append(new g(this._selectionData)), t
        }, inherit(a, r), a.prototype.renderer = function () {
          this._invalidated && (this._updateImpl(), this._invalidated = !1);
          var e = {};
          return e.bars = this.m_bars, e.barWidth = this.m_model.timeScale().barSpacing(), new v(e)
        }, inherit(l, r), l.prototype.renderer = function () {
          this._invalidated && (this._updateImpl(), this._invalidated = !1);
          var e = {};
          return e.bars = this.m_bars, e.barSpacing = this.m_model.timeScale().barSpacing(), e.thinBars = this.m_series.properties().rangeStyle.thinBars.value(), new w(e)
        }, inherit(c, o), c.prototype.renderer = function () {
          var e, t;
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barWidth = .9 * this.m_model.timeScale().barSpacing(), (t = new P).append(new v(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && t.append(new g(this._selectionData)), t
        }, inherit(u, r), u.prototype.renderer = function () {
          this._invalidated && (this._updateImpl(), this._invalidated = !1);
          var e = {};
          return e.bars = this.m_bars, e.barWidth = .9 * this.m_model.timeScale().barSpacing(), new v(e)
        }, inherit(h, o), h.prototype.renderer = function () {
          var e, t;
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barSpacing = this.m_model.timeScale().barSpacing(), (t = new P).append(new S(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && t.append(new g(this._selectionData)), t
        }, inherit(d, r), d.prototype.renderer = function () {
          this._invalidated && (this._updateImpl(), this._invalidated = !1);
          var e = {};
          return e.bars = this.m_bars, e.upColor = this.upColor, e.downColor = this.downColor, e.barSpacing = this.m_model.timeScale().barSpacing(), new S(e)
        }, inherit(p, o), p.prototype.renderer = function () {
          var e, t;
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.blockSize = this.blockSize, e.barSpacing = this.m_model.timeScale().barSpacing(), (t = new P).append(new b(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && t.append(new g(this._selectionData)), t
        }, inherit(f, r), f.prototype.renderer = function () {
          this._invalidated && (this._updateImpl(), this._invalidated = !1);
          var e = {};
          return e.bars = this.m_bars, e.blockSize = this.blockSize, e.barSpacing = this.m_model.timeScale().barSpacing(), new b(e)
        },
        t.SeriesRenkoPaneView = s, t.SeriesProjectionRenkoPaneView = a, t.SeriesPriceBreakPaneView = c, t.SeriesProjectionPriceBreakPaneView = u, t.SeriesKagiPaneView = h, t.SeriesProjectionKagiPaneView = d, t.SeriesPnFPaneView = p, t.SeriesProjectionPnFPaneView = f, t.SeriesProjectionRangePaneView = l
    },
    "23IT": function (e, t, i) {
      "use strict";

      function n(e) {
        return "line" === e.type
      }

      function o(e) {
        return "shapes" === e.type
      }

      function r(e) {
        return "chars" === e.type
      }

      function s(e) {
        return "arrows" === e.type
      }

      function a(e) {
        return "dataoffset" === e.type
      }

      function l(e) {
        return "ohlc_open" === e.type
      }

      function c(e) {
        return "ohlc_high" === e.type
      }

      function u(e) {
        return "ohlc_low" === e.type
      }

      function h(e) {
        return "ohlc_close" === e.type
      }

      function d(e) {
        return l(e) || c(e) || u(e) || h(e)
      }

      function p(e) {
        return "colorer" === e.type
      }

      function f(e) {
        return "bar_colorer" === e.type
      }

      function _(e) {
        return "bg_colorer" === e.type
      }

      function m(e) {
        return "text_colorer" === e.type
      }

      function g(e) {
        return "ohlc_colorer" === e.type
      }

      function y(e) {
        return "ohlc_bars" === e.plottype
      }

      function v(e) {
        return "ohlc_candles" === e.plottype
      }
      var S, b;
      i.r(t), i.d(t, "LineStudyPlotStyle", function () {
          return S
        }), i.d(t, "isLinePlot", function () {
          return n
        }), i.d(t, "isShapesPlot", function () {
          return o
        }), i.d(t, "isCharsPlot", function () {
          return r
        }), i.d(t, "isArrowsPlot", function () {
          return s
        }), i.d(t, "isDataOffsetPlot", function () {
          return a
        }), i.d(t, "isOhlcOpenPlot", function () {
          return l
        }), i.d(t, "isOhlcHighPlot", function () {
          return c
        }), i.d(t, "isOhlcLowPlot", function () {
          return u
        }), i.d(t, "isOhlcClosePlot", function () {
          return h
        }), i.d(t, "isOhlcPlot", function () {
          return d
        }), i.d(t, "isColorerPlot", function () {
          return p
        }), i.d(t, "isBarColorerPlot", function () {
          return f
        }), i.d(t, "isBgColorerPlot", function () {
          return _
        }), i.d(t, "isTextColorerPlot", function () {
          return m
        }), i.d(t, "isOhlcColorerPlot", function () {
          return g
        }), i.d(t, "isOhlcPlotStyleBars", function () {
          return y
        }), i.d(t, "isOhlcPlotStyleCandles", function () {
          return v
        }), i.d(t, "PlotSymbolSize", function () {
          return b
        }),
        function (e) {
          e[e.Line = 0] = "Line", e[e.Histogram = 1] = "Histogram", e[e.Cross = 3] = "Cross", e[e.Area = 4] = "Area", e[e.Columns = 5] = "Columns", e[e.Circles = 6] = "Circles", e[e.LineWithBreaks = 7] = "LineWithBreaks", e[e.AreaWithBreaks = 8] = "AreaWithBreaks", e[e.StepLine = 9] = "StepLine"
        }(S || (S = {})),
        function (e) {
          e.Auto = "auto", e.Tiny = "tiny", e.Small = "small", e.Normal = "normal", e.Large = "large", e.Huge = "huge"
        }(b || (b = {}))
    },
    "29gu": function (e, t, i) {
      "use strict";
      var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
          return typeof e
        } : function (e) {
          return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        o = i("uOxu").getLogger("CommonUI.CreateTVBlockPlugin");
      e.exports.createTvBlockPlugin = function (e) {
        if (e) return function (t, i, n) {
          function o(t, i) {
            return i ? e[t](s, i) : e[t](s)
          }
          var r, s = $(this);
          return "get" === t ? "function" == typeof e[r = i] ? o(r, n) : e[r] : e[t] ? s.each(function () {
            return o(t, void 0)
          }) : s
        }
      }, e.exports.createTvBlockWithInstance = function (e, t) {
        function i(e, t, i) {
          return void 0 === i ? e[t]() : e[t](i)
        }
        if (e && t) return e = e.toString(),
          function (r, s, a) {
            var l, c, u;
            return "get" === r ? l = s : (c = s, "object" === (void 0 === r ? "undefined" : n(r)) && void 0 === s ? (c = r,
              r = "init") : "string" != typeof r && (r = "init")), "getInstance" === r ? $(this).eq(0).data(e) : "destroy" === r ? (u = $(this).eq(0).data(e)) ? void("function" == typeof u.destroy ? (i(u, "destroy", c), $(this).eq(0).removeData(e)) : o.logError("[Block Plugin] " + e + " does not support destroy command")) : void console.warn("[Block Plugin] Trying to execute destroy method of " + e + " but it has not been inited") : "get" === r ? (u = $(this).eq(0).data(e)) ? "function" == typeof u[l] ? i(u, l, a) : u[l] : void console.warn("[Block Plugin] Trying to get prop or execute method of " + e + " but it has not been inited") : $(this).each(function () {
              var n = $(this),
                s = n.data(e);
              void 0 === s && (s = void 0 === c ? t(n) : t(n, c), n.data(e, s)), "init" !== r && ("function" == typeof s[r] ? i(s, r, c) : o.logError("[Block Plugin] " + e + " does not support command " + r))
            })
          }
      }
    },
    "2Fqk": function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "CompareLegendView", function () {
        return s
      }), n = i("mrSG"), o = i("TrvT"), r = i("oxKA"), s = function (e) {
        function t(t, i) {
          var n = e.call(this, t, i) || this;
          return n._additional = null, n._showStudyValues = i.properties().paneProperties.legendProperties.showStudyValues, n._showStudyValues.subscribe(n, n.update), n
        }
        return n.__extends(t, e), t.prototype.isValuesVisible = function () {
          return this._showStudyValues.value()
        }, t.prototype.destroy = function () {
          this._showStudyValues.unsubscribeAll(this)
        }, t.prototype.additional = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._additional
        }, t.prototype._updateImpl = function () {
          var t = Object(r.getDataVendorString)(this._studyCompare.symbolInfo());
          this._additional = t ? window.t("Data Provided by") + " " + t : null, e.prototype._updateImpl.call(this)
        }, t
      }(o.CompareDataWindowView)
    },
    "2O5g": function (e, t, i) {
      "use strict";

      function n(e) {
        var t = Object(o.getChartWidget)(e),
          n = Object(o.getAlertDialogType)(e);
        navigator.onLine || Object(o.isAlertsOnline)(t) ? Object(o.isAlertBasedOnATR)(t) && "create_alert" === n ? Object(o.openATRWarningDialog)() : Promise.all([i.e("vendors"), i.e(16), i.e(13), i.e(28), i.e(29), i.e(50), i.e(54), i.e(103), i.e(110), i.e(199)]).then(function (t) {
          new(0, i("Hlqb").AlertEditor)(e)
        }.bind(null, i)).catch(i.oe) : Object(o.openOfflineDialog)(n)
      }
      i.r(t), i.d(t, "invokeAlertEditor", function () {
        return n
      });
      var o = i("PlME")
    },
    "2OVc": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "InsertStudyCommand", function () {
        return l
      }), n = i("mrSG"), o = i("Eyy1"), r = i("wFwD"), s = i("RDU5"), a = i("PC8g"), l = function (e) {
        function t(t, i, n, o, r, s, a) {
          var l = e.call(this, a) || this;
          return l._studyId = null, l._chartModel = t, l._studyMetaInfo = i, l._props = o, l._addAsOverlay = r, l._parentId = null == s ? null : s.id(), l._inputs = n, l
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          var e = null === this._parentId ? void 0 : this._chartModel.dataSourceForId(this._parentId),
            t = this._chartModel.insertStudyWithParams(this._studyMetaInfo, this._inputs, this._props, this._addAsOverlay, e);
          null === this._studyId ? this._studyId = t.id() : t.setId(this._studyId), t.childStudyByRebind().subscribe(null, function () {
            return Object(a.trackEvent)("SOS", "Apply SOS", "Rebind SOS")
          }), Object(r.trackStudies)(t, "add")
        }, t.prototype.undo = function () {
          var e = Object(o.ensureNotNull)(this._chartModel.dataSourceForId(Object(o.ensureNotNull)(this._studyId)));
          this._chartModel.removeSource(e)
        }, t.prototype.insertedStudy = function () {
          return this._chartModel.dataSourceForId(Object(o.ensureNotNull)(this._studyId))
        }, t
      }(s.UndoCommand)
    },
    "2VXZ": function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.default = function (e) {
        (0, n.createConfirmDialog)({
          type: "modal",
          title: $.t("Confirm Remove Study Tree"),
          content: $.t("Do you really want to delete study and all of it's children?")
        }).then(function (t) {
          t.on("action:yes", function (t) {
            e(), t.close()
          }), t.open()
        })
      };
      var n = i("oNDq");
      e.exports = t.default
    },
    "2bPF": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolBarsPattern";
        var r = t || n.createProperties();
        o.call(this, e, r), r.mirrored.listeners().subscribe(this, n.prototype.mirror), r.flipped.listeners().subscribe(this, n.prototype.flip), this._scaleCoeff = 1, this.version = n.version, this._pattern = [], this._properties.mode.listeners().subscribe(this, n.prototype.onModeChanged), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("c6sA").BarsPatternPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("7KDR").Action,
        s = i("Ocx9").DefaultProperty,
        a = i("k9/m").PlotRowSearchMode,
        l = i("hayr").propertyPages,
        c = i("Ye2/").LineToolBarsPatternMode;
      inherit(n, o), n.version = 2, n.prototype.onModeChanged = function () {
        var e = this.patternPriceDiff();
        e *= this._pressCoeff, this._points[1].price = this._timePoint[1].price = this._points[0].price + e
      }, n.prototype.additionalActions = function (e) {
        var t = this;
        return [new r({
          checked: this.properties().mirrored.value(),
          checkable: !0,
          label: window.t("Mirrored"),
          payload: {
            target: this
          },
          onExecute: function (t) {
            var i = t.getPayload(),
              n = i.target;
            e.setProperty(n.properties().mirrored, !n.properties().mirrored.value(), "Bats Pattern Mirroring"), n.updateAllViews(), n._model.updateSource(n)
          }
        }), new r({
          checked: this.properties().flipped.value(),
          checkable: !0,
          label: window.t("Flipped"),
          payload: {
            target: this
          },
          onExecute: function (t) {
            var i = t.getPayload(),
              n = i.target;
            e.setProperty(n.properties().flipped, !n.properties().flipped.value(), "Bats Pattern Flipping"), n.updateAllViews(), n._model.updateSource(n)
          }
        }), new r({
          checkable: !0,
          label: window.t("Restore Size"),
          onExecute: function (i) {
            var n = t.points()[0],
              o = t.patternPriceDiff(),
              r = n.price + o,
              s = n.index + t._pattern.length - 1;
            e.startChangingLinetool(t, {
              price: r,
              index: s
            }, 1, {}), e.changeLinePoint({
              price: r,
              index: s
            }, {}), e.endChangingLinetool()
          }
        })]
      }, n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.state = function (e) {
        var t = o.prototype.state.call(this, e);
        return t.pattern = this._pattern, t
      }, n.prototype.restoreData = function (e) {
        e.pattern && (this._pattern = e.pattern)
      }, n.prototype.title = function () {
        return "Bars Pattern"
      }, n.prototype.name = function () {
        return "Bars Pattern"
      }, n.prototype.cloneData = function (e) {
        this._pattern = TradingView.clone(e._pattern)
      }, n.prototype.mirror = function () {
        var e, t, i, n, o, r = this._pattern,
          s = r[0][TradingView.HIGH_PLOT],
          a = Math.min(r[0][TradingView.LOW_PLOT], r[0][TradingView.HIGH_PLOT]),
          l = Math.max(r[0][TradingView.LOW_PLOT], r[0][TradingView.HIGH_PLOT]);
        for (e = 1; e < r.length; e++) a = Math.min(a, r[e][TradingView.LOW_PLOT]), l = Math.max(l, r[e][TradingView.HIGH_PLOT]);
        if (a < l)
          for (t = (a + l) / 2, i = function (e) {
              var i = e - t,
                n = t - i;
              return n
            }, e = 0; e < r.length; e++) r[e][TradingView.HIGH_PLOT] = i(r[e][TradingView.HIGH_PLOT]), r[e][TradingView.LOW_PLOT] = i(r[e][TradingView.LOW_PLOT]), r[e][TradingView.OPEN_PLOT] = i(r[e][TradingView.OPEN_PLOT]), r[e][TradingView.CLOSE_PLOT] = i(r[e][TradingView.CLOSE_PLOT]);
        n = r[0][TradingView.HIGH_PLOT] - s, o = r[r.length - 1][TradingView.LOW_PLOT] - r[0][TradingView.HIGH_PLOT], this._points[0].price += n, this._points[1].price = this._points[0].price + o, this.updateAllViews()
      }, n.prototype.flip = function () {
        var e, t, i;
        for (this._points[0].price = this._points[1].price, e = 0; e < this._pattern.length / 2; e++) t = this._pattern[e], this._pattern[e] = this._pattern[this._pattern.length - e - 1], this._pattern[this._pattern.length - e - 1] = t;
        i = this._pattern[this._pattern.length - 1][TradingView.LOW_PLOT] - this._pattern[0][TradingView.HIGH_PLOT], this._points[1].price = this._points[0].price + i, this.updateAllViews()
      }, n.prototype.firstPatternPrice = function () {
        var e, t = parseInt(this.properties().mode.value(), 10);
        return t === c.LineHL2 ? (this._pattern[0][TradingView.HIGH_PLOT] + this._pattern[0][TradingView.LOW_PLOT]) / 2 : (e = {
          0: TradingView.HIGH_PLOT,
          1: TradingView.CLOSE_PLOT,
          2: TradingView.OPEN_PLOT,
          3: TradingView.OPEN_PLOT,
          4: TradingView.HIGH_PLOT,
          5: TradingView.LOW_PLOT
        } [t], this._pattern[0][e])
      }, n.prototype.lastPatternPrice = function () {
        var e, t = parseInt(this.properties().mode.value(), 10);
        return t === c.LineHL2 ? (this._pattern[this._pattern.length - 1][TradingView.HIGH_PLOT] + this._pattern[this._pattern.length - 1][TradingView.LOW_PLOT]) / 2 : (e = {
          0: TradingView.LOW_PLOT,
          1: TradingView.CLOSE_PLOT,
          2: TradingView.CLOSE_PLOT,
          3: TradingView.OPEN_PLOT,
          4: TradingView.HIGH_PLOT,
          5: TradingView.LOW_PLOT
        } [t], this._pattern[this._pattern.length - 1][e])
      }, n.prototype.patternPriceDiff = function () {
        return this.lastPatternPrice() - this.firstPatternPrice()
      }, n.prototype.pressCoeff = function () {
        var e = this.patternPriceDiff(),
          t = this.points()[0].price,
          i = this.points()[1].price,
          n = i - t,
          o = n / e;
        return this._pressCoeff = o, o
      }, n.prototype.addPoint = function (e, t) {
        var i, n, r, s, l, u, h, d, p, f, _, m = this._model.mainSeries(),
          g = m.nearestIndex(e.index, a.NearestRight);
        if (this.properties().mode.value() === c.Bars ? e.price = m.bars().valueAt(g)[TradingView.HIGH_PLOT] : e.price = m.bars().valueAt(g)[TradingView.CLOSE_PLOT], i = this.priceScale(), n = this.ownerSource().firstValue(), r = .05 * i.height(), s = i.priceToCoordinate(e.price, n) - r, e.price = i.coordinateToPrice(s, n), l = o.prototype.addPoint.call(this, e, t, !0)) {
          for (u = Math.min(this.points()[0].index, this.points()[1].index), h = Math.max(this.points()[0].index, this.points()[1].index), g = this._model.mainSeries().nearestIndex(u, a.NearestRight), d = this._model.mainSeries().nearestIndex(h, a.NearestLeft), this.points()[0].index > this.points()[1].index && (this._points[0].price = this._points[1].price),
            this._pattern = [], p = g; p <= d; p++) f = this._model.mainSeries().data().valueAt(p), this._pattern.push(TradingView.clone(f));
          this._pattern.length > 0 && (_ = this.patternPriceDiff(), this._points[1].price = this._points[0].price + _, this._points[1].index = this._points[0].index + (d - g), this.normalizePoints(), this.createServerPoints())
        }
        return l
      }, n.prototype.setPoint = function (e, t, i) {
        1 === e && t.index <= this._points[0].index && (t.index = this._points[0].index + 1), 0 === e && t.index >= this._points[1].index && (t.index = this._points[1].index - 1), o.prototype.setPoint.call(this, e, t, i)
      }, n.prototype.migrateVersion = function (e, t, i) {
        if (1 === e && this._pattern.length > 0) {
          var n = this.patternPriceDiff();
          2 === this._timePoint.length && (this._timePoint[1].price = this._timePoint[0].price + n), 2 === this._points.length && (this._points[1].price = this._points[0].price + n)
        }
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return l.LineToolBarsPatternStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new s("linetoolbarspattern", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e), e.addExclusion("mirrored"), e.addExclusion("flipped")
      }, t.LineToolBarsPattern = n
    },
    "2h0C": function (e, t, i) {
      function n(e, t, i, n, r, s) {
        e ? (this._control = e, this._property = t, this._applyOnFly = i, this._undoModel = n, this._undoText = r, this._doesNotAffectSave = !1, t && (this._formatters = [], this._changed = !1, this.setValue(t.value()), t.listeners().subscribe(this, this.propertyChanged))) : o.logDebug("Missing control")
      }
      var o = i("uOxu").getLogger("Chart.PropertyPage.Binding");
      n.prototype.addFormatter = function (e) {
        this._formatters.push(e), this.setValue(this._property.value())
      }, n.prototype._formatValue = function (e) {
        return this._formatters.reduce(function (e, t) {
          return t(e)
        }, e)
      }, n.prototype._setValueToProperty = function (e) {
        this._setter ? this._setter.call(this, e) : this.setValueToProperty(e)
      }, n.prototype._attachToControl = function (e, t) {
        var i = this;
        t ? e.on("keyup change input", function (e) {
          var t = i.value();
          i._setValueToProperty(t), i.setValue(t)
        }) : (e.keypress(function (e) {
          if (i._changed = !0, 13 === e.which) {
            var t = i.value();
            i._setValueToProperty(t), i.setValue(t)
          }
        }), e.focusout(function (e) {
          var t = i.value();
          i.changed() && (i._setValueToProperty(t), i.setValue(t))
        }), e.change(function (e) {
          var t = i.value();
          $(e.target).is(".ticker") ? (void 0 !== i._changeTimerId && clearTimeout(i._changeTimerId), i._changeTimerId = setTimeout(function () {
            i._setValueToProperty(t)
          }, 250)) : i._setValueToProperty(t), i.setValue(t)
        }))
      }, n.prototype.control = function () {
        return this._control
      }, n.prototype.changed = function () {
        return this._changed
      }, n.prototype.setValueToProperty = function (e) {
        this._undoModel.setProperty(this._property, e, this._undoText, this._doesNotAffectSave), this._changed = !1
      }, n.prototype.property = function () {
        return this._property
      }, n.prototype.propertyChanged = function (e) {
        this.setValue(e.value())
      }, n.prototype.destroy = function () {
        this._property && this._property.listeners().unsubscribe(this, this.propertyChanged)
      }, n.prototype.disableAffectingSave = function () {
        this._doesNotAffectSave = !0
      }, t.Binding = n
    },
    "2jAL": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "SwapChartsUndoCommand", function () {
        return r
      }), n = i("mrSG"), o = i("RDU5"), r = function (e) {
        function t(t, i, n) {
          var o = e.call(this, "Swap Charts in the Layout") || this;
          return o._swapper = t, o._from = i, o._to = n, o
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          this._swapper(this._from, this._to)
        }, t.prototype.undo = function () {
          this._swapper(this._from, this._to)
        }, t
      }(o.UndoCommand)
    },
    "2jXJ": function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "supportedLineTools", function () {
        return n
      });
      var n = {
        cursor: {
          name: "cursor",
          onlySelectable: !0
        },
        dot: {
          name: "dot",
          onlySelectable: !0
        },
        arrow_cursor: {
          name: "arrow",
          onlySelectable: !0
        },
        eraser: {
          name: "eraser",
          onlySelectable: !0
        },
        measure: {
          name: "measure",
          onlySelectable: !0
        },
        zoom: {
          name: "zoom",
          onlySelectable: !0
        },
        brush: {
          name: "LineToolBrush",
          onlySelectable: !0
        },
        text: {
          name: "LineToolText",
          supportsText: !0
        },
        anchored_text: {
          name: "LineToolTextAbsolute",
          supportsText: !0
        },
        note: {
          name: "LineToolNote",
          supportsText: !0
        },
        anchored_note: {
          name: "LineToolNoteAbsolute",
          supportsText: !0
        },
        callout: {
          name: "LineToolCallout",
          supportsText: !0
        },
        balloon: {
          name: "LineToolBalloon",
          supportsText: !0
        },
        arrow_up: {
          name: "LineToolArrowMarkUp",
          supportsText: !0
        },
        arrow_down: {
          name: "LineToolArrowMarkDown",
          supportsText: !0
        },
        arrow_left: {
          name: "LineToolArrowMarkLeft",
          supportsText: !0
        },
        arrow_right: {
          name: "LineToolArrowMarkRight",
          supportsText: !0
        },
        price_label: {
          name: "LineToolPriceLabel"
        },
        flag: {
          name: "LineToolFlagMark"
        },
        vertical_line: {
          name: "LineToolVertLine"
        },
        horizontal_line: {
          name: "LineToolHorzLine"
        },
        cross_line: {
          name: "LineToolCrossLine"
        },
        horizontal_ray: {
          name: "LineToolHorzRay"
        },
        trend_line: {
          name: "LineToolTrendLine"
        },
        info_line: {
          name: "LineToolInfoLine"
        },
        trend_angle: {
          name: "LineToolTrendAngle"
        },
        arrow: {
          name: "LineToolArrow"
        },
        ray: {
          name: "LineToolRay"
        },
        extended: {
          name: "LineToolExtended"
        },
        parallel_channel: {
          name: "LineToolParallelChannel"
        },
        disjoint_angle: {
          name: "LineToolDisjointAngle"
        },
        flat_bottom: {
          name: "LineToolFlatBottom"
        },
        pitchfork: {
          name: "LineToolPitchfork"
        },
        schiff_pitchfork_modified: {
          name: "LineToolSchiffPitchfork"
        },
        schiff_pitchfork: {
          name: "LineToolSchiffPitchfork2"
        },
        inside_pitchfork: {
          name: "LineToolInsidePitchfork"
        },
        pitchfan: {
          name: "LineToolPitchfan"
        },
        gannbox: {
          name: "LineToolGannSquare"
        },
        gannbox_square: {
          name: "LineToolGannComplex"
        },
        gannbox_fixed: {
          name: "LineToolGannFixed"
        },
        gannbox_fan: {
          name: "LineToolGannFan"
        },
        fib_retracement: {
          name: "LineToolFibRetracement"
        },
        fib_trend_ext: {
          name: "LineToolTrendBasedFibExtension"
        },
        fib_speed_resist_fan: {
          name: "LineToolFibSpeedResistanceFan"
        },
        fib_timezone: {
          name: "LineToolFibTimeZone"
        },
        fib_trend_time: {
          name: "LineToolTrendBasedFibTime"
        },
        fib_circles: {
          name: "LineToolFibCircles"
        },
        fib_spiral: {
          name: "LineToolFibSpiral"
        },
        fib_speed_resist_arcs: {
          name: "LineToolFibSpeedResistanceArcs"
        },
        fib_wedge: {
          name: "LineToolFibWedge"
        },
        fib_channel: {
          name: "LineToolFibChannel"
        },
        xabcd_pattern: {
          name: "LineTool5PointsPattern"
        },
        cypher_pattern: {
          name: "LineToolCypherPattern"
        },
        abcd_pattern: {
          name: "LineToolABCD"
        },
        triangle_pattern: {
          name: "LineToolTrianglePattern"
        },
        "3divers_pattern": {
          name: "LineToolThreeDrivers"
        },
        head_and_shoulders: {
          name: "LineToolHeadAndShoulders"
        },
        elliott_impulse_wave: {
          name: "LineToolElliottImpulse"
        },
        elliott_triangle_wave: {
          name: "LineToolElliottTriangle"
        },
        elliott_triple_combo: {
          name: "LineToolElliottTripleCombo"
        },
        elliott_correction: {
          name: "LineToolElliottCorrection"
        },
        elliott_double_combo: {
          name: "LineToolElliottDoubleCombo"
        },
        cyclic_lines: {
          name: "LineToolCircleLines"
        },
        time_cycles: {
          name: "LineToolTimeCycles"
        },
        sine_line: {
          name: "LineToolSineLine"
        },
        long_position: {
          name: "LineToolRiskRewardLong"
        },
        short_position: {
          name: "LineToolRiskRewardShort"
        },
        forecast: {
          name: "LineToolPrediction"
        },
        date_range: {
          name: "LineToolDateRange"
        },
        price_range: {
          name: "LineToolPriceRange"
        },
        date_and_price_range: {
          name: "LineToolDateAndPriceRange"
        },
        bars_pattern: {
          name: "LineToolBarsPattern"
        },
        ghost_feed: {
          name: "LineToolGhostFeed"
        },
        projection: {
          name: "LineToolProjection"
        },
        rectangle: {
          name: "LineToolRectangle"
        },
        rotated_rectangle: {
          name: "LineToolRotatedRectangle"
        },
        ellipse: {
          name: "LineToolEllipse"
        },
        triangle: {
          name: "LineToolTriangle"
        },
        polyline: {
          name: "LineToolPolyline"
        },
        curve: {
          name: "LineToolBezierQuadro"
        },
        double_curve: {
          name: "LineToolBezierCubic"
        },
        arc: {
          name: "LineToolArc"
        },
        icon: {
          name: "LineToolIcon"
        },
        regression_trend: {
          name: "LineToolRegressionTrend"
        }
      }
    },
    "2kV1": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u;
      i.r(t), i.d(t, "StudyStatusView", function () {
        return u
      }), n = i("mrSG"), o = i("+GxX"), r = i("nBJD"), s = i("8sOK"), a = {
        NONE: "Default"
      }, l = Object(o.isFeatureEnabled)("hide_exchange_in_inputs"), c = "#ff0000", u = function (e) {
        function t(t, i) {
          var n = e.call(this, i) || this;
          return n._source = t, n
        }
        return n.__extends(t, e), t.prototype.color = function () {
          return this._source instanceof s.StudyStub ? e.prototype.color.call(this) : this._source.isFailed() || this._source.metaInfo && this._source.metaInfo().isTVScriptStub ? c : e.prototype.color.call(this)
        }, t.prototype.update = function () {
          this._source.isFailed() ? this._text = this._source.title(!0, a, void 0, l) + ": " + this._source.status() : this._text = this._source.title(!0, a, void 0, l) + " " + this._source.status()
        }, t
      }(r.a)
    },
    "2qdo": function (e, t, i) {
      "use strict";

      function n() {
        return Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(234), i.e(3), i.e(13), i.e("alert-notifier")]).then(i.bind(null, "Z59a")).then(function (e) {
          return e.createAlertNotifier()
        })
      }
      i.r(t), i.d(t, "createAlertNotifier", function () {
        return n
      })
    },
    "2rat": function (e, t, i) {
      "use strict";

      function n() {
        var e, t, i, n, r;
        return window.performance && performance.getEntriesByType ? 0 === (e = performance.getEntriesByType("navigation")).length ? null : (t = e[0], i = performance.getEntriesByType("mark"), n = performance.getEntriesByType("paint"), {
          connection: (r = navigator.connection, {
            effectiveType: r && r.effectiveType || "unknown",
            rtt: r && r.rtt || -1
          }),
          navigation: t.toJSON && t.toJSON() || "unknown",
          paints: n.map(o),
          marks: i.map(o)
        }) : null
      }

      function o(e) {
        return {
          name: e.name,
          time: e.startTime
        }
      }
      var r, s, a, l, c, u, h, d, p, f, _, m, g, y;
      i.r(t), r = i("mrSG"), i("bSeV"), s = i("Kxc7"), a = i("jHdF"), l = i.n(a), c = i("4QoS"), u = i("N22A"), h = i("qFKp"), d = i("uOxu"), i("iKPL"), p = i("Vdly"), f = i.n(p), _ = i("KuNA"), i.d(t, "SupportTicketData", function () {
        return y
      }), m = Object(d.getLogger)("Support.TicketData"), g = 5e5, y = function () {
        function e(e) {
          this._data = void 0 !== e ? e : {
            event: "support_ticket"
          }, this._browserInfo = new l.a
        }
        return e.prototype.destroy = function () {
          delete this._data, delete this._browserInfo, delete this._dialogElement
        }, e.prototype.getData = function () {
          return this._data
        }, e.prototype.addData = function (e) {
          Object.assign(this._data, e)
        }, e.prototype.setDialogElement = function (e) {
          this._dialogElement = e
        }, e.prototype.getFinalData = function () {
          return r.__awaiter(this, void 0, void 0, function () {
            var e;
            return r.__generator(this, function (t) {
              switch (t.label) {
                case 0:
                  return [4, this._collectData()];
                case 1:
                  return function (e) {
                    return void 0 !== e.event && (void 0 !== e.userId || void 0 !== e.email)
                  }(e = t.sent()) ? [2, e] : (m.logError("Not enough data collected. `event` and one of (`userId`, `email`) fields required."), [2, null])
              }
            })
          })
        }, e.setChartWidgetCollection = function (t) {
          e._chartWidgetCollection = t
        }, e.getChartWidgetCollection = function () {
          return e._chartWidgetCollection
        }, e.setScreener = function (t) {
          e._screener = t
        }, e.getScreener = function () {
          return e._screener
        }, e.prototype._collectData = function () {
          var e = this,
            t = Promise.all([this._getBrowserInfo(), this._getChartSnapshot(), this._getTradingLogs(), this._getScreenerParams(), this._getPageSnapshot()]).then(function (t) {
              e.addData(e._filterEmptyFields({
                browserInfo: t[0],
                snapshotURL: t[1],
                trading: t[2],
                screener: t[3],
                pageSnapshotURL: t[4]
              }))
            }).then(function () {
              return e._data
            });
          return this.addData(this._filterEmptyFields({
            log: this._getLogHistory(),
            ping: this._getPingInfo(),
            user: this._getUser(),
            userId: this._getUserId(),
            pro_plan: this._getProPlan(),
            websocketAddress: this._getWebSocketAddress(),
            sessionid: this._getSessionId(),
            ref: this._getReferrer(),
            js_errors: this._getJsErrors(),
            product: this._getProductId(),
            extendedHours: this._getExtendedHours(),
            dividendsAdjustment: this._getDividendsAdjustment(),
            chartSessionDisconnects: this._getChartSessionDisconnects(),
            marketStatuses: this._getChartMarketStatuses(),
            seriesStatuses: this._getChartSeriesStatuses(),
            is_pro: this._getUserIsPro(),
            proOffers: this._getProOffers(),
            timezone: this._getTimezone(),
            performanceMetrics: this._getPerformanceMetrics(),
            serverInfo: this._getServerInfo(),
            serverTimeOffset: this._getServerTimeOffset(),
            settings: this._getUserSettings(),
            domNodesCount: this._getDomNodesCount(),
            buildTime: this._getBuildTime(),
            plugins: this._getPlugins()
          })), t
        }, e.prototype._getBrowserInfo = function () {
          var e = this;
          return new Promise(function (t) {
            e._browserInfo.ready().then(function () {
              t(e._browserInfo.state())
            })
          })
        }, e.prototype._getChartSnapshot = function () {
          var t = this;
          return new Promise(function (i) {
            return r.__awaiter(t, void 0, void 0, function () {
              var t, n, o;
              return r.__generator(this, function (r) {
                switch (r.label) {
                  case 0:
                    if (void 0 === (t = e.getChartWidgetCollection())) return m.logWarn("Abort generating snapshot. No chartWidgetCollection found."), [2, i(null)];
                    n = s.enabled("snapshot_trading_drawings"), r.label = 1;
                  case 1:
                    return r.trys.push([1, 3, 4, 5]), s.enable("snapshot_trading_drawings"), [4, Object(c.takeChartSnapshot)(t, function (e) {
                      var t = s.enabled("charting_library_base") ? "https://www.tradingview.com/x/" + e : location.protocol + "//" + location.host + "/x/" + e;
                      i(t)
                    }, function () {
                      m.logError("Failed to take chart snapshot."), i(null)
                    })];
                  case 2:
                    return r.sent(), [3, 5];
                  case 3:
                    return o = r.sent(), m.logError("Error while taking chart snapshot: " + o.message), [2, i(null)];
                  case 4:
                    return n ? s.enable("snapshot_trading_drawings") : s.disable("snapshot_trading_drawings"), [7];
                  case 5:
                    return [2]
                }
              })
            })
          })
        }, e.prototype._getTradingLogs = function () {
          var e = this;
          return new Promise(function (t) {
            var i, n;
            return e._data.tradingLogsAgree ? (i = Object(u.tradingService)()) ? null !== (n = i.activeBroker()) && n.bugReportInfo && 1 === n.connectionStatus() ? n.bugReportInfo().then(function (e) {
              return t(JSON.stringify(e))
            }).catch(function (e) {
              return m.logError("Error while collecting activeBroker info: " + e.message), t(null)
            }) : (m.logWarn("Abort collecting trading logs because of connection or abscence of info collection method."), t(null)) : (m.logWarn("Abort collecting trading logs. No trading object found."), t(null)) : (m.logWarn("Abort collecting trading logs. User did not agree to send trading logs."), t(null))
          })
        }, e.prototype._getScreenerParams = function () {
          return new Promise(function (t) {
            var i = e.getScreener();
            if (void 0 === i) return m.logWarn("Abort collecting screener params. No screener found."), t(null);
            t(i.getCurrentState())
          })
        }, e.prototype._getProductId = function () {
          return Object(h.isOnMobileAppPage)("old") ? "ios" : Object(h.isOnMobileAppPage)("new") ? "android" : s.enabled("charting_library_base") ? s.enabled("amp_terminal") ? "amp_terminal" : s.enabled("cqg_terminal") ? "cqg_terminal" : "charting_library" : "tv"
        }, e.prototype._getExtendedHours = function () {
          var t, i = e.getChartWidgetCollection();
          if (!i) return m.logWarn("Abort getting extendedHours property value. No chartWidgetCollection found."), null;
          try {
            t = i.activeChartWidget.value().model().mainSeries().properties().extendedHours.value()
          } catch (e) {
            return m.logError("Error while getting extendedHours property value: " + e.message), null
          }
          return "boolean" == typeof t ? t : null
        }, e.prototype._getDividendsAdjustment = function () {
          var t, i = e.getChartWidgetCollection();
          if (!i) return m.logWarn("Abort getting dividendsAdjustment property value. No chartWidgetCollection found."), null;
          try {
            t = i.activeChartWidget.value().model().mainSeries().properties().dividendsAdjustment.value()
          } catch (e) {
            return m.logError("Error while getting dividendsAdjustment property value: " + e.message), null
          }
          return "boolean" == typeof t ? t : null
        }, e.prototype._getChartSessionDisconnects = function () {
          return window.ChartApiInstance ? window.ChartApiInstance.disconnectCount() : (m.logWarn("Abort getting chart session disconnects count. No ChartApiInstance found."), null)
        }, e.prototype._getChartMarketStatuses = function () {
          var t = e.getChartWidgetCollection();
          return t ? t.chartMarketStatuses() : (m.logWarn("Abort getting market statuses. No chartWidgetCollection found."), [])
        }, e.prototype._getChartSeriesStatuses = function () {
          var t = e.getChartWidgetCollection();
          return t ? t.chartSeriesStatuses() : (m.logWarn("Abort getting series statuses. No chartWidgetCollection found."), [])
        }, e.prototype._getUserIsPro = function () {
          return Boolean(window.user && window.user.is_pro)
        }, e.prototype._getProOffers = function () {
          return window.pro && window.pro.offers && window.pro.offers() || []
        }, e.prototype._getTimezone = function () {
          var t, i = e.getChartWidgetCollection();
          if (!i) return m.logWarn("Abort getting timezone. No chartWidgetCollection found."), null;
          t = null;
          try {
            t = i.activeChartWidget.value().model().model().properties().timezone.value()
          } catch (e) {
            m.logError("Error while getting timezone: " + e.message)
          }
          return t
        }, e.prototype._getPerformanceMetrics = function () {
          return n()
        }, e.prototype._getLogHistory = function () {
          var e;
          try {
            e = JSON.stringify(Object(d.getLogHistory)())
          } catch (t) {
            m.logWarn("Error while collecting log history: " + t.message), e = JSON.stringify({
              error: "logger.getLogHistory(maxLen) failed: " + t.message
            })
          }
          return e
        }, e.prototype._getPingInfo = function () {
          if (!window.ChartApiInstance) return m.logWarn("Abort getting chart session disconnects count. No ChartApiInstance found."), [];
          var e = window.ChartApiInstance.getPingInfo();
          return null !== e ? [e.min, e.max, e.avg] : []
        }, e.prototype._getUserId = function () {
          return window.user && window.user.id ? window.user.id : null
        }, e.prototype._getUser = function () {
          return window.user && window.user.username || "Guest"
        }, e.prototype._getProPlan = function () {
          return window.user && window.user.pro_plan && window.user.pro_plan !== _.ProPlans.Free ? window.user.pro_plan : null
        }, e.prototype._getWebSocketAddress = function () {
          return window.WSBackendConnection ? window.WSBackendConnection.getHost() : (m.logWarn("Abort getting websocket address. No WSBackendConnection found."), null)
        }, e.prototype._getSessionId = function () {
          return window.ChartApiInstance ? window.ChartApiInstance.sessionid : (m.logWarn("Abort getting websocket address. No ChartApiInstance found."), null)
        }, e.prototype._getReferrer = function () {
          return location.href
        }, e.prototype._getJsErrors = function () {
          return window.__tv_js_errors.slice(0, 10)
        }, e.prototype._filterEmptyFields = function (e) {
          var t, i, n = {};
          for (t in e) e.hasOwnProperty(t) && void 0 !== (i = e[t]) && null !== i && (!Array.isArray(i) || i.length > 0) && (n[t] = i);
          return n
        }, e.prototype._getServerInfo = function () {
          var e = document.querySelector('meta[name="tv:server-name"]');
          return null !== e ? e.getAttribute("content") : null
        }, e.prototype._getServerTimeOffset = function () {
          return window.ChartApiInstance ? String(Math.round(window.ChartApiInstance.serverTimeOffset())) + "s" : (m.logWarn("Abort getting server time offset. No ChartApiInstance found."), null)
        }, e.prototype._getUserSettings = function () {
          var e = f.a.keys().reduce(function (e, t) {
            return e[t] = f.a.getJSON(t), e
          }, {});
          return JSON.stringify(e).slice(0, g)
        }, e.prototype._getDomNodesCount = function () {
          return document.querySelectorAll("*").length
        }, e.prototype._getPageSnapshot = function () {
          return r.__awaiter(this, void 0, void 0, function () {
            var e = this;
            return r.__generator(this, function (t) {
              return this._data.screenshotAgree ? [2, i.e("page-snapshot").then(i.bind(null, "cNFy")).then(function (t) {
                return r.__awaiter(e, void 0, void 0, function () {
                  var e, i = this;
                  return r.__generator(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return n.trys.push([0, 2, , 3]), [4, t.generatePageSnapshot({
                          logging: !1,
                          ignoreElements: function (e) {
                            return e === i._dialogElement
                          }
                        })];
                      case 1:
                        return [2, n.sent()];
                      case 2:
                        return e = n.sent(), m.logError(e), [2, null];
                      case 3:
                        return [2]
                    }
                  })
                })
              })] : (m.logWarn("Abort creating page snapshot. User did not agree to send page snapshot."), [2, null])
            })
          })
        }, e.prototype._getBuildTime = function () {
          return window.BUILD_TIME
        }, e.prototype._getPlugins = function () {
          return void 0 !== navigator.plugins ? Array.from(navigator.plugins).map(function (e) {
            return {
              name: e.name,
              filename: e.filename,
              description: e.description,
              version: e.version
            }
          }) : []
        }, e
      }()
    },
    "2u9o": function (e, t, i) {
      "use strict";

      function n(e) {
        this._chartApiInstance = e
      }
      var o = i("qdOW"),
        r = i("P7QH");
      n.prototype.searchSymbols = function (e, t, i, n, o, r) {
        this._chartApiInstance.searchSymbols(e, t, i, n, o, !1, void 0, !1, null, function (e) {
          e.forEach(function (e) {
            e.flag = this.getFlagIdBySymbolExt(e)
          }, this), r(e)
        }.bind(this))
      }, n.prototype.displayedExchanges = function () {
        var e = o.displayedExchangesFilter(this.supportedExchanges());
        return o.sortExchangesListByFlagIfNeeded(e)
      }, n.prototype.supportedExchanges = function () {
        return this._chartApiInstance.supportedExchangesList()
      }, n.prototype.supportedSymbolsTypes = function () {
        return this._chartApiInstance.supportedSymbolsTypes()
      }, n.prototype.getFlagIdBySymbolExt = function (e) {
        return r.getFlagIdBySymbolInfo(e)
      }, n.prototype.getFlagIdByExchangeInfo = function (e) {
        return e ? r.getFlagIdByName(e.flag) : ""
      }, e.exports = n
    },
    "33OQ": function (e, t, i) {
      "use strict";
      (function (n) {
        function o() {
          d.width = window.innerWidth, d.height = u.height()
        }

        function r(e) {
          var t = d.device;
          d.device = e, d.trigger("changeDevice", [e, t])
        }
        var s, a, l, c, u, h, d, p, f, _, m, g;
        for (Object.defineProperty(t, "__esModule", {
            value: !0
          }), s = i("4O8T"), a = (m = s) && m.__esModule ? m : {
            default: m
          }, l = i("BI5g"), c = $("body"), u = $(window), h = 0, d = {
            width: null,
            height: null,
            device: null,
            isSafari: !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/) || !!navigator.userAgent.match("CriOS"),
            isPhoneSizeDevice: function () {
              return "phone" === d.device || "phone-vertical" === d.device
            },
            getScrollbarWidth: (g = void 0, function () {
              var e, t, i, n;
              return void 0 === g && ((e = document.createElement("div")).style.visibility = "hidden", e.style.width = "100px", e.style.msOverflowStyle = "scrollbar", document.body.appendChild(e), t = e.offsetWidth, e.style.overflow = "scroll", (i = document.createElement("div")).style.width = "100%", e.appendChild(i), n = i.offsetWidth, e.parentNode.removeChild(e), g = t - n), g
            }),
            hasScroll: function (e) {
              return e.get(0).scrollHeight > e.height()
            },
            breakpoints: l.breakpoints,
            widgetbarBreakpoint: 1064,
            setFixedBodyState: function (e) {
              var t, i;
              e && 1 == ++h ? ("hidden" !== $(document.body).css("overflow").toLowerCase() && document.body.scrollHeight > document.body.offsetHeight && ($(".widgetbar-wrap").css("right", d.getScrollbarWidth()), c.css("padding-right", parseInt(c.css("padding-right").replace("px", "")) + d.getScrollbarWidth() + "px").data("wasScroll", !0)), c.addClass("i-no-scroll")) : !e && h > 0 && 0 == --h && (c.removeClass("i-no-scroll"), c.data("wasScroll") && (t = c.get(0), $(".widgetbar-wrap").css("right", 0), i = $(".widgetbar-wrap").width() || 0, t.scrollHeight <= t.clientHeight && (i -= d.getScrollbarWidth()), c.css("padding-right", (i < 0 ? 0 : i) + "px").data("wasScroll", void 0)))
            }
          }, p = Object.keys(d.breakpoints).sort(function (e, t) {
            return d.breakpoints[e] - d.breakpoints[t]
          }), n.extend(d, a.default.prototype), o(), $(o), u.on("resize", o), f = function (e) {
            var t, i, n = p[e],
              s = 0 === e ? 0 : d.breakpoints[p[e - 1]] + 1,
              a = d.breakpoints[n],
              l = (t = s, (i = a) === 1 / 0 ? window.matchMedia("(min-width: " + t + "px)") : window.matchMedia("(min-width: " + t + "px) and (max-width: " + i + "px)"));
            l.matches && r(n), l.addListener(function (e) {
              e.matches && (o(), r(n))
            })
          }, _ = 0; _ < p.length; _++) f(_);
        t.default = d, e.exports = t.default
      }).call(this, i("F/us"))
    },
    "38az": function (e, t, i) {
      "use strict";

      function n() {
        this.backColorers = []
      }

      function o(e) {
        n.call(this), this._series = e
      }

      function r(e, t) {
        n.call(this), this._study = e, this._plotIndex = t
      }
      var s = i("k9/m").PlotRowSearchMode;
      n.prototype.barStyle = function (e, t, i) {
        var n, o = {};
        for (n = this.backColorers.length - 1; n >= 0; n--) this.backColorers[n].applyBarStyle(e, t, o, i);
        return this.applyBarStyle(e, t, o, i), o
      }, n.prototype.pushBackBarColorer = function (e) {
        this.backColorers.push(e)
      }, n.prototype.applyBarStyle = function (e, t, i) {
        throw new Error("This function is supposed to be reimplemented in a subclass")
      }, inherit(o, n), o.upColor = function (e, t) {
        switch (e.style.value()) {
          case TradingView.Series.STYLE_LINE:
            return e.lineStyle.color.value();
          case TradingView.Series.STYLE_AREA:
            return e.areaStyle.linecolor.value();
          case TradingView.Series.STYLE_BARS:
            return e.barStyle.upColor.value();
          case TradingView.Series.STYLE_RANGE:
            return t ? e.rangeStyle.upColorProjection.value() : e.rangeStyle.upColor.value();
          case TradingView.Series.STYLE_CANDLES:
            return e.candleStyle.upColor.value();
          case TradingView.Series.STYLE_HOLLOW_CANDLES:
            return e.hollowCandleStyle.upColor.value();
          case TradingView.Series.STYLE_HEIKEN_ASHI:
            return e.haStyle.upColor.value();
          case TradingView.Series.STYLE_RENKO:
            return t ? e.renkoStyle.upColorProjection.value() : e.renkoStyle.upColor.value();
          case TradingView.Series.STYLE_PB:
            return t ? e.pbStyle.upColorProjection.value() : e.pbStyle.upColor.value();
          case TradingView.Series.STYLE_KAGI:
            return t ? e.kagiStyle.upColorProjection.value() : e.kagiStyle.upColor.value();
          case TradingView.Series.STYLE_PNF:
            return t ? e.pnfStyle.upColorProjection.value() : e.pnfStyle.upColor.value();
          case TradingView.Series.STYLE_BASELINE:
            return e.baselineStyle.topLineColor.value();
          case TradingView.Series.STYLE_HILO:
            return e.hiloStyle.color.value()
        }
        throw new Error("Unknown series style")
      }, o.downColor = function (e, t) {
        switch (e.style.value()) {
          case TradingView.Series.STYLE_LINE:
            return e.lineStyle.color.value();
          case TradingView.Series.STYLE_AREA:
            return e.areaStyle.linecolor.value();
          case TradingView.Series.STYLE_BARS:
            return e.barStyle.downColor.value();
          case TradingView.Series.STYLE_RANGE:
            return t ? e.rangeStyle.downColorProjection.value() : e.rangeStyle.downColor.value();
          case TradingView.Series.STYLE_CANDLES:
            return e.candleStyle.downColor.value();
          case TradingView.Series.STYLE_HOLLOW_CANDLES:
            return e.hollowCandleStyle.downColor.value();
          case TradingView.Series.STYLE_HEIKEN_ASHI:
            return e.haStyle.downColor.value();
          case TradingView.Series.STYLE_RENKO:
            return t ? e.renkoStyle.downColorProjection.value() : e.renkoStyle.downColor.value();
          case TradingView.Series.STYLE_PB:
            return t ? e.pbStyle.downColorProjection.value() : e.pbStyle.downColor.value();
          case TradingView.Series.STYLE_KAGI:
            return t ? e.kagiStyle.downColorProjection.value() : e.kagiStyle.downColor.value();
          case TradingView.Series.STYLE_PNF:
            return t ? e.pnfStyle.downColorProjection.value() : e.pnfStyle.downColor.value();
          case TradingView.Series.STYLE_BASELINE:
            return e.baselineStyle.bottomLineColor.value();
          case TradingView.Series.STYLE_HILO:
            return e.hiloStyle.color.value()
        }
        throw new Error("Unknown series style")
      }, o.prototype._applyLineStyle = function (e, t, i, n, r) {
        i.barColor = o.upColor(r)
      }, o.prototype._applyAreaStyle = function (e, t, i, n, r) {
        i.barColor = o.upColor(r)
      }, o.prototype._applyBarStyle = function (e, t, i, n, r) {
        var s, a = o.upColor(r),
          l = o.downColor(r),
          c = this.findBar(e, !1, n);
        r.barStyle.barColorsOnPrevClose.value() ? (s = this.findPrevBar(e, !1, n), i.barColor = s[TradingView.CLOSE_PLOT] <= c[TradingView.CLOSE_PLOT] ? a : l, i.barBorderColor = s[TradingView.CLOSE_PLOT] <= c[TradingView.CLOSE_PLOT] ? a : l) : (i.barColor = c[TradingView.OPEN_PLOT] <= c[TradingView.CLOSE_PLOT] ? a : l, i.barBorderColor = c[TradingView.OPEN_PLOT] <= c[TradingView.CLOSE_PLOT] ? a : l)
      }, o.prototype._applyRangeStyle = function (e, t, i, n, r) {
        var s = o.upColor(r, t),
          a = o.downColor(r, t),
          l = this.findBar(e, !1, n);
        i.barColor = l[TradingView.OPEN_PLOT] <= l[TradingView.CLOSE_PLOT] ? s : a, i.barBorderColor = i.barColor
      }, o.prototype._applyCandleStyle = function (e, t, i, n, r) {
        var s, a = o.upColor(r, t),
          l = o.downColor(r, t),
          c = r.candleStyle.borderUpColor ? r.candleStyle.borderUpColor.value() : r.candleStyle.borderColor.value(),
          u = r.candleStyle.borderDownColor ? r.candleStyle.borderDownColor.value() : r.candleStyle.borderColor.value(),
          h = r.candleStyle.wickUpColor ? r.candleStyle.wickUpColor.value() : r.candleStyle.wickColor.value(),
          d = r.candleStyle.wickDownColor ? r.candleStyle.wickDownColor.value() : r.candleStyle.wickColor.value(),
          p = this.findBar(e, !1, n);
        s = r.candleStyle.barColorsOnPrevClose.value() ? this.findPrevBar(e, !1, n)[TradingView.CLOSE_PLOT] <= p[TradingView.CLOSE_PLOT] : p[TradingView.OPEN_PLOT] <= p[TradingView.CLOSE_PLOT], i.barColor = s ? a : l, i.barBorderColor = s ? c : u, i.barWickColor = s ? h : d
      }, o.prototype._applyHollowCandleStyle = function (e, t, i, n, r) {
        var s = o.upColor(r, t),
          a = o.downColor(r, t),
          l = r.hollowCandleStyle.borderUpColor ? r.hollowCandleStyle.borderUpColor.value() : r.hollowCandleStyle.borderColor.value(),
          c = r.hollowCandleStyle.borderDownColor ? r.hollowCandleStyle.borderDownColor.value() : r.hollowCandleStyle.borderColor.value(),
          u = r.hollowCandleStyle.wickUpColor ? r.hollowCandleStyle.wickUpColor.value() : r.hollowCandleStyle.wickColor.value(),
          h = r.hollowCandleStyle.wickDownColor ? r.hollowCandleStyle.wickDownColor.value() : r.hollowCandleStyle.wickColor.value(),
          d = this.findBar(e, !1, n),
          p = this.findPrevBar(e, !1, n);
        p[TradingView.CLOSE_PLOT] <= d[TradingView.CLOSE_PLOT] ? (i.barColor = s, i.barBorderColor = l, i.barWickColor = u) : (i.barColor = a, i.barBorderColor = c, i.barWickColor = h), i.isBarHollow = d[TradingView.OPEN_PLOT] <= d[TradingView.CLOSE_PLOT]
      }, o.prototype._applyHAStyle = function (e, t, i, n, r) {
        var s, a = o.upColor(r, t),
          l = o.downColor(r, t),
          c = r.haStyle.borderUpColor.value(),
          u = r.haStyle.borderDownColor.value(),
          h = r.haStyle.wickUpColor.value(),
          d = r.haStyle.wickDownColor.value(),
          p = this.findBar(e, t, n);
        s = r.haStyle.barColorsOnPrevClose.value() ? this.findPrevBar(e, t, n)[TradingView.CLOSE_PLOT] <= p[TradingView.CLOSE_PLOT] : p[TradingView.OPEN_PLOT] <= p[TradingView.CLOSE_PLOT], i.barColor = s ? a : l, i.barBorderColor = s ? c : u, i.barWickColor = s ? h : d
      }, o.prototype._applyRenkoStyle = function (e, t, i, n, r) {
        var s = this.findBar(e, t, n),
          a = s[TradingView.OPEN_PLOT] <= s[TradingView.CLOSE_PLOT],
          l = o.upColor(r, t),
          c = o.downColor(r, t),
          u = t ? r.renkoStyle.borderUpColorProjection.value() : r.renkoStyle.borderUpColor.value(),
          h = t ? r.renkoStyle.borderDownColorProjection.value() : r.renkoStyle.borderDownColor.value(),
          d = r.renkoStyle.wickUpColor.value(),
          p = r.renkoStyle.wickDownColor.value();
        i.barColor = a ? l : c, i.barBorderColor = a ? u : h, i.barWickColor = a ? d : p, i.isBarUp = a
      }, o.prototype._applyPBStyle = function (e, t, i, n, r) {
        var s, a, l, c, u, h;
        i.barColor = o.upColor(r), a = (s = this.findBar(e, t, n))[TradingView.OPEN_PLOT] <= s[TradingView.CLOSE_PLOT], l = o.upColor(r, t), c = o.downColor(r, t), u = t ? r.pbStyle.borderUpColorProjection.value() : r.pbStyle.borderUpColor.value(), h = t ? r.pbStyle.borderDownColorProjection.value() : r.pbStyle.borderDownColor.value(), i.barColor = a ? l : c, i.barBorderColor = a ? u : h, i.isBarUp = a
      }, o.prototype._applyKagiStyle = function (e, t, i, n, r) {
        var s, a;
        i.upColor = o.upColor(r, t), i.downColor = o.downColor(r, t), s = null, (a = this.findBar(e, t, n))[TradingView.LOW_PLOT] < a[TradingView.ADT_PLOT] && a[TradingView.ADT_PLOT] < a[TradingView.HIGH_PLOT] ? (s = a[TradingView.OPEN_PLOT] <= a[TradingView.CLOSE_PLOT], i.isTwoColorBar = !0) : (s = a[TradingView.OPEN_PLOT] <= a[TradingView.CLOSE_PLOT] ? a[TradingView.OPEN_PLOT] === a[TradingView.ADT_PLOT] : a[TradingView.OPEN_PLOT] !== a[TradingView.ADT_PLOT], i.isTwoColorBar = !1), i.barColor = s ? i.upColor : i.downColor, i.isBarUp = a[TradingView.OPEN_PLOT] <= a[TradingView.CLOSE_PLOT]
      }, o.prototype._applyPnfStyle = function (e, t, i, n, r) {
        var s = this.findBar(e, t, n),
          a = s[TradingView.ADT_PLOT] > 0,
          l = o.upColor(r, t),
          c = o.downColor(r, t);
        i.isBarUp = a, i.barColor = a ? l : c
      }, o.prototype._applyBaseLineStyle = function (e, t, i, n, r) {
        var s = this.findBar(e, t, n),
          a = r.baselineStyle,
          l = this._series.priceScale(),
          c = Math.round(l.height() * (Math.abs(100 - a.baseLevelPercentage.value()) / 100)),
          u = this._series.firstValue(),
          h = l.coordinateToPrice(c, u);
        s[TradingView.CLOSE_PLOT] > h ? i.barColor = o.upColor(r, t) : i.barColor = o.downColor(r, t)
      }, o.prototype._applyHiLoStyle = function (e, t, i, n, r) {
        i.barColor = o.upColor(r, t), i.barBorderColor = r.hiloStyle.borderColor.value()
      }, o.prototype.applyBarStyle = function (e, t, i, n) {
        i || (i = {}), i.barColor = null, i.barBorderColor = null, i.barWickColor = null, i.isBarHollow = null, i.isBarUp = null, i.upColor = null, i.downColor = null, i.isTwoColorBar = null;
        var o = this._series.properties();
        switch (o.style.value()) {
          case TradingView.Series.STYLE_LINE:
            this._applyLineStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_AREA:
            this._applyAreaStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_BARS:
            this._applyBarStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_RANGE:
            this._applyRangeStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_CANDLES:
            this._applyCandleStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_HOLLOW_CANDLES:
            this._applyHollowCandleStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_HEIKEN_ASHI:
            this._applyHAStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_RENKO:
            this._applyRenkoStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_PB:
            this._applyPBStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_KAGI:
            this._applyKagiStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_PNF:
            this._applyPnfStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_BASELINE:
            this._applyBaseLineStyle(e, t, i, n, o);
            break;
          case TradingView.Series.STYLE_HILO:
            this._applyHiLoStyle(e, t, i, n, o)
        }
        return i
      }, o.prototype.getSeriesBars = function (e) {
        return e ? this._series.nsBars() : this._series.bars()
      }, o.prototype._findBarFieldValue = function (e, t, i) {
        var n = this.getSeriesBars(i).valueAt(e);
        if (null !== n) return n[t]
      }, o.prototype.findBar = function (e, t, i) {
        return i ? i.value : this.getSeriesBars(t).valueAt(e) || []
      }, o.prototype.findPrevBar = function (e, t, i) {
        var n;
        return i && i.previousValue ? i.previousValue : null !== (n = this._series.bars()._search(e, s.Exact)) && n > 0 ? this._series.bars()._valueAt(n - 1) : []
      }, inherit(r, n), r.prototype.applyBarStyle = function (e, t, i) {
        var n, o, r, s, a, l, c, u, h, d, p, f;
        return i || (i = {}), t ? i : (n = this._study.properties()).visible.value() ? (o = this._study.metaInfo(), (r = this._study.data()) && 0 !== r.size() ? (s = o.plots[this._plotIndex], this._study.getMinFirstBarIndexForPlot(s.id) > e ? i : (a = n.styles[s.id]).visible && !a.visible.value() ? i : (l = this._study.offset(s.id), null === (c = r.valueAt(e - l)) ? i : null == (u = c[this._plotIndex + 1]) ? i : (u = Math.round(u), h = o.plots[this._plotIndex].palette, d = n.palettes[h], p = o.palettes[h].valToIndex ? o.palettes[h].valToIndex[u] : u, f = d.colors[p].color.value(), i.barColor = f, i.upColor = f.color, i.downColor = f.color, i))) : i) : i
      }, t.SeriesBarColorer = o, t.StudyBarColorer = r
    },
    "3ClC": function (e, t, i) {
      "use strict";

      function n(e, t) {
        return void 0 === t && (t = "shift"), {
          studyConstructor: e,
          colorRotationMode: t
        }
      }

      function o(e) {
        return e instanceof d.Study
      }

      function r(e) {
        return e instanceof f.a
      }

      function s(e) {
        return e instanceof _.ESDStudyBase
      }

      function a(e) {
        return "study_" + (e.classId || e.shortId)
      }

      function l(e, t, i, n) {
        var o;
        return h.a.isScriptStrategy(n) ? new f.a(e, t, i, n) : new((o = a(n)) in k ? k[o].studyConstructor : d.Study)(e, t, i, n)
      }

      function c(e) {
        var t = a(e);
        return t in k ? k[t].colorRotationMode : 1 !== e.plots.length ? "shift" : void 0 === e.pine ? "loop" : h.a.isStandardPine(e.id) ? "loop" : "shift"
      }
      var u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O;
      for (O in i.r(t), u = i("0YCj"), h = i.n(u), d = i("GVHu"), p = i("k5SP"), f = i.n(p), _ = i("Ai40"), m = i("Pb0m"), g = i("mrSG"), y = i("k9/m"), v = i("Qq0B"), S = i("hayr"), (b = function (e) {
          function t() {
            return null !== e && e.apply(this, arguments) || this
          }
          return g.__extends(t, e), t.prototype.startIndex = function () {
            var e, t = this.customData();
            return null == t || null == this._indexes ? null : (e = this._indexes[t.startIndex]) !== y.REMOVE_INDEX_MAGIC_NUMBER ? e : null
          }, t.prototype.endIndex = function () {
            var e, t = this.customData();
            return null == t || null == this._indexes ? null : (e = this._indexes[t.endIndex]) !== y.REMOVE_INDEX_MAGIC_NUMBER ? e : null
          }, t.prototype.baseLine = function () {
            var e = this.customData();
            return null != e ? e.baseLine : null
          }, t.prototype.downLine = function () {
            var e = this.customData();
            return null != e ? e.downLine : null
          }, t.prototype.upLine = function () {
            var e = this.customData();
            return null != e ? e.upLine : null
          }, t.prototype.pearsons = function () {
            var e = this.customData();
            return null != e && void 0 !== e.pearsons ? e.pearsons : null
          }, t.prototype.isVisible = function () {
            if (!this.properties().visible.value()) return !1;
            var e = this.properties().styles;
            return e.upLine.visible.value() || e.downLine.visible.value() || e.baseLine.visible.value()
          }, t.prototype.getStylesPropertyPage = function () {
            return S.propertyPages.StudyLinearRegressionStylesPropertyPage
          }, t.prototype.createViews = function () {
            var t = this;
            e.prototype.createViews.call(this), Promise.all([i.e(69), i.e(106), i.e(165), i.e("study-pane-views")]).then(function (e) {
              var n = i("rvCT").LinearRegressionPaneView;
              t._setPaneViews([new n(t.model(), t)])
            }.bind(null, i)).catch(void 0)
          }, t
        }(v.NonSeriesStudy)).prototype.superclass = v.NonSeriesStudy, w = i("qx3g"), P = i("Eyy1"), T = i("Qb4w"), (C = function (e) {
          function t() {
            return null !== e && e.apply(this, arguments) || this
          }
          return g.__extends(t, e), t.prototype.priceRange = function (e, t) {
            var i, n, o = this,
              r = null,
              s = null,
              a = null,
              l = !1;
            return this.graphics().hhists().forEach(function (i, n) {
              var c, u, h, d, p, f = i[0].items,
                _ = i[0].indexes;
              for (l = l || o.properties().graphics.hhists[n].showValues.value(), c = 0, u = f; c < u.length; c++) d = _[(h = u[c]).firstBarTime], p = _[h.lastBarTime], (d >= e && d <= t || p >= e && p <= t || d <= e && p >= t) && (null === r || null === s || null === a ? (r = h.priceLow, s = h.priceHigh, a = h.priceHigh) : (h.priceLow < r && (r = h.priceLow, s = h.priceHigh), a = Math.max(a, h.priceHigh)))
            }), null === r || null === s || null === a ? null : (i = l ? new T.PriceRange(r - .8 * (s - r), a) : new T.PriceRange(r, a), (n = Object(P.ensureNotNull)(this.priceScale())).isLog() ? new T.PriceRange(n.priceToLogical(i.minValue()), n.priceToLogical(i.maxValue())) : i)
          }, t.prototype.getStylesPropertyPage = function () {
            return S.propertyPages.StudyVolumeProfilePropertyPage
          }, t
        }(d.Study)).prototype.superclass = d.Study, (x = function (e) {
          function t() {
            return null !== e && e.apply(this, arguments) || this
          }
          return g.__extends(t, e), t.prototype.priceRange = function (e, t) {
            var i, n, o = this,
              r = null,
              s = !1;
            return this.graphics().hhists().forEach(function (e, t) {
              var i, n, a, l = e[0];
              for (i = 0, n = l.items; i < n.length; i++) a = n[i], s = s || o.properties().graphics.hhists[t].showValues.value(), (null === r || a.priceLow < r.priceLow) && (r = a)
            }), null === r ? null : (i = s ? new T.PriceRange(r.priceLow - .8 * (r.priceHigh - r.priceLow), r.priceHigh) : new T.PriceRange(r.priceLow, r.priceHigh), (n = Object(P.ensureNotNull)(this.priceScale())).isLog() ? new T.PriceRange(n.priceToLogical(i.minValue()), n.priceToLogical(i.maxValue())) : i)
          }, t.prototype.getStylesPropertyPage = function () {
            return S.propertyPages.StudyVolumeProfilePropertyPage
          }, t
        }(d.Study)).prototype.superclass = d.Study, E = i("ifvX"), I = i("FVma"), A = i("cKqi"), L = i("0gbU"), D = i("TMWk"), i.d(t, "isStudy", function () {
          return o
        }), i.d(t, "isStudyStrategy", function () {
          return r
        }),
        i.d(t, "isESDStudy", function () {
          return s
        }), i.d(t, "createStudy", function () {
          return l
        }), i.d(t, "studyColorRotationMode", function () {
          return c
        }), (k = {
          study_PivotPointsStandard: n(I.study_PivotPointsStandard),
          study_Overlay: n(A.study_Overlay, "loop"),
          study_Compare: n(L.study_Compare, "loop"),
          study_ScriptWithDataOffset: n(D.study_ScriptWithDataOffset)
        }).study_ESD$TV_EARNINGS = n(_.study_ESD$TV_EARNINGS), k.study_ESD$TV_SPLITS = n(_.study_ESD$TV_SPLITS), k.study_ESD$TV_DIVIDENDS = n(_.study_ESD$TV_DIVIDENDS), k.study_ElliottWave = n(m.study_ElliottWave), k.study_LinearRegression = n(b), k.study_PivotPointsHighLow = n(w.study_PivotPointsHighLow), k.study_VbPSessions = n(C), k.study_VbPVisible = n(x), k.study_ZigZag = n(E.study_ZigZag), TradingView.StudyStrategy = n(f.a).studyConstructor, k) k.hasOwnProperty(O) && (TradingView[O] = k[O].studyConstructor)
    },
    "3DsO": function (e, t, i) {
      "use strict";

      function n() {
        Object(o.createGoProDialog)({
          feature: "alertsNoExpiration"
        }).then(function (e) {
          e.open()
        })
      }
      i.r(t), i.d(t, "showGoProInfExpDialog", function () {
        return n
      });
      var o = i("s4+V")
    },
    "3Tqy": function (e, t, i) {
      "use strict";
      (function (t, n) {
        function o() {
          this._loading = {}, this._alertVersioning = new h, this._lastGenIds = {}, this._notifierPromise = null, this.alerts = new(t.Collection.extend({
            model: d
          })), this.events = new(t.Collection.extend({
            comparator: function (e, t) {
              var i = e.get("fireTime"),
                n = t.get("fireTime");
              return i && n ? n - i : i ? n ? void 0 : 1 : -1
            },
            model: u
          })), this._attachHandlers()
        }
        var r = i("brCa"),
          s = i("15Qe"),
          a = i("JZcM"),
          l = i("AxQ0"),
          c = i("2O5g").invokeAlertEditor,
          u = i("sg6D"),
          h = i("Evi4").AlertVersioning,
          d = i("4pku"),
          p = i("nmnj"),
          f = i("dfhE"),
          _ = i("TxTq"),
          m = i("PC8g").trackEvent,
          g = i("+GxX").isFeatureEnabled,
          y = i("NP3r").enabled,
          v = i("bKsZ").ProductFeatures,
          S = i("oNDq").createConfirmDialog,
          b = i("uOxu").getLogger("Alerts.Price.Dispatcher"),
          w = i("hWRP").sendRequest,
          P = i("2qdo").createAlertNotifier,
          T = i("4BMm").server2clientParams,
          C = i("4BMm").client2serverParams,
          x = i("xlbu").telemetry,
          E = i("Zdjc").showGoProAlertsTrueSmsDialog,
          I = i("gdgp").showGoProMaxAlertsDialog,
          A = i("3DsO").showGoProInfExpDialog,
          L = "cancelled: new alert already generating",
          D = i("ogJP").isInteger,
          k = i("flg1").showAlertsMaintenanceDialog,
          O = i("8woN");
        o.prototype._onLoginStateChange = function () {
          is_authenticated ? (setTimeout(this.showPredefinedEvents.bind(this), 1), this._refreshPushStream()) : this.alerts.reset()
        }, o.prototype._attachHandlers = function () {
          function e() {
            i.events.each(function (e) {
              var t = i.alerts.get(e.get("alertId"));
              e.set("alert", t || null)
            })
          }

          function t(e) {
            var t, n, o = i.chartWidget(),
              r = o ? o.model() : null;
            r && (t = r.hoveredSource(), e.set("hovered", t && t.hasAlert && t.hasAlert.value() && t.alertId() === e.id), n = r.selection().sources().some(function (t) {
              return t.hasAlert.value() && t.alertId() === e.id
            }), e.set("selected", n))
          }
          var i = this;
          loginStateChange.subscribe(this, this._onLoginStateChange.bind(this)), this._onLoginStateChange(), i.alerts.on("reset", e).on("add", function (e) {
            ! function (e) {
              var t = i.events.findWhere({
                alertId: e.id
              });
              t && t.set("alert", e)
            }(e), t(e), e.isDrawing() && function (e) {
              var t, n, o = i.chartWidget() && i.chartWidget().model();
              o && (t = e.get("extra").drawing(),
                (n = o.dataSourceForId(t.id)) && !n.hasAlert.value() && n.setAlert(e.id))
            }(e)
          }).on("change:id", t).on("change:selected", function (e, t, n) {
            var o, r = i.alerts.models;
            if (t)
              for (e.id && D(e.id) && TVSettings.setValue("alerts.widget.selected_alert_id", e.id), o = r.length - 1; o >= 0; o--) r[o] !== e && r[o].set("selected", !1)
          }).on("change:hovered", function (e, t, n) {
            var o, r = i.alerts.models;
            if (t)
              for (o = r.length - 1; o >= 0; o--) r[o].set("hovered", r[o] === e)
          }).on("destroy", function (e) {
            e.isNew() || i.events.where({
              alertId: e.id
            }).forEach(function (e) {
              e.destroy()
            })
          }), i.events.on("reset", e).on("add", function (e) {
            var t = i.alerts.get(e.get("alertId"));
            t && e.set("alert", t)
          })
        }, o.prototype.showPredefinedEvents = function () {
          var e, t, i;
          user && !n.isEmpty(user.alerts_offline_data) && (e = this, t = user.alerts_offline_data.fired, i = user.alerts_offline_data.stopped, this._getAlertNotifier().then(function (o) {
            t && Object.keys(t).forEach(function (i) {
              var r, a;
              i = parseInt(i), r = t[i].event, n.isEmpty(r) || (r.alertId || (r.alertId = i), r.hasOwnProperty("eventId") || (r.eventId = r.id), r = new u(T(r)), (a = (0, s.getNotificationFromPriceEvent)(r)).count = t[i].events_count, o.addNotification(a, !0), e.events.add(r), r.trigger("fired", r))
            }), i && Object.keys(i).forEach(function (e) {
              var t, n;
              e = parseInt(e), t = i[e], n = (0, s.getNotificationFromAlertStopped)({
                alertId: e,
                description: t.description,
                reason: "fire_control",
                shortSymbol: O.shortName(t.symbol)
              }), o.addNotification(n, !0)
            }), delete user.alerts_offline_data
          }))
        }, o.prototype._refreshPushStream = function () {
          _.off("alert"), is_authenticated && _.on("alert", this._onMessage.bind(this))
        }, o.prototype._onMessage = function (e) {
          var t, i, n, o, r, a = this,
            l = {};
          if (e) switch (b.logNormal(e), i = (t = JSON.parse(e)).m, l = T(t.p), i) {
            case "alert_running":
              a._alertVersioning.migrate(l).then(function (e) {
                (n = a.alerts.get(e.id)) ? void 0 !== n.previous("id") ? n.set(e) : (a.alerts.remove(n), a.alerts.add(e, {
                  at: 0
                })): a.alerts.add(e, {
                  at: 0
                })
              });
              break;
            case "alert_stopped":
              (n = a.alerts.get(l.id)) && (r = {
                active: !1,
                stopReason: l.stopReason,
                error: l.error
              }, n.set(r)), "fire_control" === l.stopReason && a._getAlertNotifier().then(function (e) {
                a.requestAlert(l.id, {
                  success: function (t) {
                    var i = (0, s.getNotificationFromAlertStopped)({
                      alertId: t.id,
                      description: t.get("description"),
                      reason: l.stopReason,
                      shortSymbol: t.shortSymbol()
                    });
                    i && e.addNotification(i)
                  }
                })
              });
              break;
            case "alert_deleted":
              (n = a.alerts.get(l.id)) && n.destroy();
              break;
            case "event":
              l.hasOwnProperty("eventId") || (l.eventId = l.id), this._getAlertNotifier().then(function (e) {
                o = new u(l), a.events.add(o);
                var t = (0, s.getNotificationFromPriceEvent)(o);
                e.addNotification(t), o.trigger("fired", o), this.sendRequest({
                  method: "clear_shown_events",
                  preventMaintenanceDialog: !0,
                  params: {
                    alerts_ids: [l.alertId]
                  }
                })
              }.bind(this))
          }
        }, o.prototype.createLocalAlert = function (e, t) {
          var i, n = this;
          return t && function (e) {
            var t, i, n, o;
            if (!e) throw new Error("Can't create alert. 'params' is required");
            for (i = [], n = (t = ["symbol", "resolution", "expired", "autoDeactivation", "sendEmail", "sendSms", "sendTrueSms", "showPopup", "playSound", "description", "script"]).length - 1; n >= 0; n--)(o = t[n]) in e || i.push(o);
            i.length && b.logError("[Alerts] Can't create alert. " + i.join(" ,") + (1 === i.length ? " is" : " are") + " required")
          }(e), i = new d(e), n.alerts.add(i), i
        }, o.prototype.createAlert = function (e, t) {
          var i, n, o, r = this;
          return t = t || {}, e instanceof d ? (n = Date.now(), o = e.prepareToSend(), r._generateScriptWithCancellation(e).then(function (i) {
            return o.script = i, r.sendRequest({
              trackEvent: t.trackEvent,
              method: "create_alert",
              params: o,
              success: function (i) {
                (i = T(i || {})).active = !0, e.set(i), r._gaTrackEvent("create", e), window.widgetbar && !g("preserve-widgetbar-on-new-alert") && window.widgetbar.setPage("alerts"), "function" == typeof t.success && t.success(e)
              },
              complete: function () {
                var i = Date.now() - n;
                x.sendReport("alerts", "full_time_frame", {
                  value: i
                }), "function" == typeof t.complete && t.complete(e)
              },
              error: t.error
            })
          }).catch(function (e) {
            if (e === L) return b.logNormal("Alert generation is cancelled because next alert generation is started"), L;
            "function" == typeof t.error && t.error("Can't generate source code: " + e), "function" == typeof t.complete && t.complete()
          })) : (i = "'alert' should be instance of Alert", b.logError(i), "function" == typeof t.complete && t.complete(), void("function" == typeof t.error && t.error(i)))
        }, o.prototype.stopAlert = function (e, t) {
          var i, n, o, r = this;
          t = t || {}, e instanceof d ? o = (n = e).get("id") : (o = e, n = r.alerts.get(o)), o ? (t.showConfirm && (i = $.t("Do you really want to stop Alert '{0}' ?").format(n ? n.title() : o)), r.sendRequest({
            method: "stop_alert",
            params: {
              id: o
            },
            success: function () {
              r._gaTrackEvent("stop"), n && n.set("active", !1), "function" == typeof t.success && t.success()
            },
            error: t.error,
            complete: t.complete,
            confirmation: i
          })) : b.logError("Alert id is required to stop alert")
        }, o.prototype.stopAllAlerts = function (e) {
          var t, i, n = this;
          t = {
            cross_int: !0
          }, (e = e || {}).symbol && (t.symbol = e.symbol), e.resolution && (t.resolution = e.resolution), e.showConfirm && (i = e.symbol || e.resolution ? $.t("Do you really want to stop filtered Alerts?") : $.t("Do you really want to stop all Alerts?")), n.sendRequest({
            method: "stop_all",
            params: t,
            success: function () {
              n._gaTrackEvent("stop_all"), n.alerts.each(function (e) {
                t.symbol && t.symbol !== e.get("symbol") || t.resolution && t.resolution !== e.get("resolution") || e.set("active", !1)
              })
            },
            confirmation: i
          })
        }, o.prototype.deleteAlert = function (e, t) {
          var i, n, o, r = this;
          if (t = t || {}, e instanceof d ? o = (n = e).get("id") : (o = e, n = r.alerts.get(o)), n && n.isNew()) return n.destroy(), void("function" == typeof t.complete && t.complete());
          o ? (t.showConfirm && (i = $.t("Do you really want to delete Alert '{0}' ?").format(n ? n.title() : o)), r.sendRequest({
            method: "delete_alert",
            params: {
              id: o
            },
            success: function () {
              r._gaTrackEvent("delete"), "function" == typeof t.success && t.success(), n && n.destroy()
            },
            error: t.error,
            cancel: t.cancel,
            complete: t.complete,
            confirmation: i
          })) : b.logError("Alert id is required to delete alert")
        }, o.prototype.deleteAllAlerts = function (e) {
          var t, i, n = this;
          t = {
              crossInterval: !0
            }, (e = e || {}).symbol && (t.symbol = e.symbol), e.resolution && (t.resolution = e.resolution), "boolean" == typeof e.active && (t.active = e.active),
            e.showConfirm && (i = !1 !== t.active || t.symbol || t.resolution ? t.symbol || t.resolution || t.active ? $.t("Do you really want to delete filtered Alerts?") : $.t("Do you really want to delete all Alerts?") : $.t("Do you really want to delete all inactive Alerts?")), n.sendRequest({
              method: "delete_all",
              params: t,
              success: function () {
                var e, i = {};
                for (n._gaTrackEvent("delete_all"), t.symbol && (i.symbol = t.symbol), t.resolution && (i.resolution = t.resolution), "boolean" == typeof t.active && (i.active = t.active), e = n.alerts.findWhere(i); e;) e.destroy(), e = n.alerts.findWhere(i)
              },
              error: e.error,
              complete: e.complete,
              confirmation: i
            })
        }, o.prototype.restartAlert = function (e, t) {
          var i, n, o, r, s, a, l = this;
          if (t = t || {}, e instanceof d ? i = e : (n = e, i = l.alerts.get(n)), i) {
            if (i.get("expired") < new Date && ((o = new Date).setMonth(o.getMonth() + 1), i.set("expired", o)), r = Date.now(), s = !0, i.get("sendTrueSms") && !y(v.ALERTS_TRUE_SMS) ? (E(), s = !1) : i.get("noExpiration") && !y(v.ALERTS_NO_EXPIRATION) && (A(), s = !1), s) return a = i.prepareToSend(), t.resetFireControl && Object.assign(a, {
              resetFireControl: !0
            }), l._generateScriptWithCancellation(i).then(function (e) {
              return a.script = e, l.sendRequest({
                method: "restart_alert",
                params: a,
                success: function () {
                  l._gaTrackEvent("restart", i), i.set("active", !0), "function" == typeof t.success && t.success(i)
                },
                complete: function () {
                  var e = Date.now() - r;
                  x.sendReport("alerts", "full_time_frame", {
                    value: e
                  }), "function" == typeof t.complete && t.complete(i)
                },
                error: t.error
              })
            }).catch(function (e) {
              if (e === L) return b.logNormal("Alert generation is cancelled because next alert generation is started"), L;
              "function" == typeof t.error && t.error("Can't generate alert source code for alert #" + n)
            });
            "function" == typeof t.complete && t.complete()
          } else l.requestAlert(n, {
            success: function (e) {
              e ? l.restartAlert(e, t) : ("function" == typeof t.error && t.error("Can't find alert " + n), "function" == typeof t.complete && t.complete())
            }
          })
        }, o.prototype._generateScriptWithCancellation = function (e) {
          var t, i, n = this;
          return null == n._lastGenIds[e.cid] && (n._lastGenIds[e.cid] = 0), n._lastGenIds[e.cid]++, t = n._lastGenIds[e.cid], i = function () {
            return n._lastGenIds[e.cid] !== t
          }, new Promise(function (t, i) {
            var n, o = e.get("extra");
            if (!o.isValid()) return n = "Can't generate alert on invalid AlertExtra", b.logError(n), void i(n);
            p.generateAlert(JSON.stringify(o.toJSON())).then(function (e, i) {
              t(i)
            }, i)
          }).then(function (t) {
            return i() ? Promise.reject(L) : (e.set("script", t), t)
          })
        }, o.prototype.restartAllAlerts = function (e) {
          var t, i, n = this;
          t = {
            crossInterval: !0
          }, (e = e || {}).symbol && (t.symbol = e.symbol), e.resolution && (t.resolution = e.resolution), "boolean" == typeof e.active && (t.active = e.active), e.showConfirm && (i = e.symbol || e.resolution ? $.t("Do you really want to restart filtered alerts?") : $.t("Do you really want to restart all inactive alerts?")), n.alerts.every(function (e) {
            return e.get("sendTrueSms") && !y(v.ALERTS_TRUE_SMS) ? (E(), !1) : !(e.get("noExpiration") && !y(v.ALERTS_NO_EXPIRATION)) || (A(), !1)
          }) && n.sendRequest({
            method: "restart_all",
            params: t,
            success: function () {
              n._gaTrackEvent("restart_all"), n.alerts.each(function (e) {
                t.symbol && t.symbol !== e.get("symbol") || t.resolution && t.resolution !== e.get("resolution") || e.set("active", !0)
              })
            },
            error: e.error,
            complete: e.complete,
            confirmation: i
          })
        }, o.prototype.requestAlert = function (e, t) {
          function i(e) {
            var i = r.alerts.get(o) || null;
            return (i || e) && ("function" == typeof t.success && t.success(i), "function" == typeof t.complete && t.complete()), !!i
          }

          function n() {
            r.sendRequest({
              method: "get_alert",
              preventMaintenanceDialog: !0,
              params: {
                id: o
              },
              success: function (e) {
                var i, n = e.alert;
                n = T(n), r._alertVersioning.migrate(n).then(function (e) {
                  i = new d(e), r.alerts.add(i), "function" == typeof t.success && t.success(i)
                }).catch(function (e) {
                  "function" == typeof t.error && t.error(e)
                })
              },
              complete: t.complete,
              error: function (i) {
                "function" == typeof t.error ? t.error(i) : b.logError("Error in getting alert " + e + (i ? ": " + i : ""))
              }
            })
          }
          var o, r = this;
          t = t || {}, o = parseInt(e), !0 === t.fromCache ? i(!0) : !1 === t.fromCache ? n() : i() || n()
        }, o.prototype.requestList = function (e) {
          var t, i, n;
          t = this, i = (e = e || {}).sort || {
            by: "id",
            asc: !1
          }, n = {
            symbol: e.symbol,
            resolution: e.resolution,
            limit: e.limit || 100,
            offset: e.offset || 0,
            sortBy: i.by,
            sortDirection: i.asc ? "asc" : "desc",
            active: e.active,
            includeCrossInterval: void 0 === e.includeCrossInterval || e.includeCrossInterval
          }, t.sendRequest({
            method: "list_alerts_2",
            preventMaintenanceDialog: !0,
            params: n,
            success: function (i) {
              var n = $.map(i.alerts, function (e) {
                return e = T(e), t._alertVersioning.migrate(e).then(function (e) {
                  return new d(e)
                })
              });
              n && $.isArray(n) ? Promise.all(n).then(function (i) {
                t.alerts.set(i, {
                  remove: !1
                }), "function" == typeof e.success && e.success(i)
              }).catch(function (t) {
                "function" == typeof e.error && e.error(t)
              }) : b.logError("Not valid params in alert list response")
            },
            error: e.error,
            complete: e.complete
          })
        }, o.prototype.requestEventList = function (e) {
          var t, i, n = this;
          t = function (t) {
            var i = t.events;
            i && $.isArray(i) ? (i = $.map(i, function (e) {
              var t;
              return e.hasOwnProperty("eventId") || (e.eventId = e.id), e = T(e), t = new u(e), n.events.add(t), t
            }), "function" == typeof e.success && e.success(i)) : console.warn("[Alerts] Not valid params in event list response")
          }, i = {
            sym: (e = e || {}).symbol,
            res: e.resolution && e.resolution.toString ? e.resolution.toString() : void 0,
            limit: e.limit,
            before: e.before,
            inc_del: void 0 === e.includeRemoved || e.includeRemoved,
            inc_cross_int: void 0 === e.includeCrossInterval || e.includeCrossInterval
          }, e.aid && (i.aid = e.aid), this.sendRequest({
            method: "list_events",
            preventMaintenanceDialog: !0,
            params: i,
            success: t,
            error: e.error,
            complete: e.complete
          })
        }, o.prototype.deleteAllEvents = function (e) {
          var t = this;
          e = e || {}, t.sendRequest({
            method: "delete_events",
            success: function () {
              for (var i = t.events.first(); i;) i.destroy(), i = t.events.first();
              "function" == typeof e.success && e.success()
            },
            error: e.error,
            complete: e.complete
          })
        }, o.prototype.sendRequest = function (e) {
          function t() {
            return w({
              method: a,
              params: l,
              noCache: e.noCache
            }).then(i).catch(n)
          }

          function i(t) {
            if ("function" == typeof e.success) {
              var i = T(t);
              e.success(i)
            }
            return o(), i
          }

          function n(t) {
            var i = !1;
            return "max_alerts_count_exceeded" === t ? (I(), i = !0) : "pro_plan_expired" === t ? (A(), i = !0) : "maintenance" === t && (e.preventMaintenanceDialog || (setTimeout(k, 0), i = !0)),
              "function" == typeof e.error ? e.error(t, i) : "maintenance" === t ? b.logNormal("Alerts maintenance") : t && b.logError("Reason: " + t), o(), t
          }

          function o() {
            "function" == typeof e.complete && e.complete()
          }

          function r() {
            "function" == typeof e.cancel && e.cancel()
          }
          var s, a = e.method,
            l = C(e.params);
          return g("alerts-maintenance") ? (n("maintenance"), o(), Promise.reject("maintenance")) : e.confirmation ? (s = !0, new Promise(function (i, n) {
            S({
              content: e.confirmation,
              title: $.t("Alert"),
              type: "modal"
            }).then(function (e) {
              e.actionLoader("yes"), e.on("action:yes", function (e) {
                e.actionLoader("yes", "start");
                var n = t();
                n.then(function (t) {
                  return e.actionLoader("yes", "stop"), e.close(), t
                }).catch(function (t) {
                  return e.actionLoader("yes", "stop"), t
                }), i(n), s = !1
              }), e.on("action:no", function () {
                r(), o(), s = !1
              }), e.on("afterClose", function () {
                s && r()
              }), e.open()
            })
          })) : t()
        }, o.prototype.setChartWidgetCollection = function (e) {
          this._chartWidgetCollection = e
        }, o.prototype.chartWidget = function () {
          var e = null;
          return this._chartWidgetCollection && (e = this._chartWidgetCollection.activeChartWidget.value()), e
        }, o.prototype._gaTrackEvent = function (e, t) {
          var i;
          m("alert", e), "create" === e && t instanceof d && (i = t.get("extra"), m("alert", "create__style", function (e) {
            var t = e && e.getMainSeries(),
              i = t && t.getStyle && t.getStyle();
            return i && f.STYLE_SHORT_NAMES.hasOwnProperty(i) ? f.STYLE_SHORT_NAMES[i] : "unknown"
          }(i)), m("alert", "create__condition", function (e) {
            var t = e.conditionId(),
              i = e.alertSeriesAlerts();
            return i && i.conditions && i.conditions[t] && (t = "pine_condition"), t || "unknown"
          }(i)), m("alert", "create__frequency", t.get("frequency") || "unknown"), t.isPrice() ? m("alert", "create__on", "price") : t.isDrawing() ? m("alert", "create__on", "drawing") : t.isMoving() ? m("alert", "create__on", "moving") : i.band() || i.upperBand() || i.lowerBand() ? m("alert", "create__on", "study") : m("alert", "create__on", "unknown"))
        }, o.prototype.openEditDialog = function (e, t) {
          var i, n, o = this;
          t = t || {}, c ? (e instanceof d ? i = e : (n = e, i = o.alerts.get(n)), i ? (t.nativeEvent && t.persist(), t = $.extend(t, {
            alert: i,
            type: "edit_alert"
          }), c(t)) : n ? o.requestAlert(n, {
            success: function (e) {
              o.openEditDialog(e, t)
            },
            error: function (e) {
              "not_exists" === e && (0, r.showNoticeDialog)({
                type: "modal",
                title: window.t("Alert"),
                content: window.t("Alert does not exist.")
              }), "function" == typeof t.error && t.error(e)
            }
          }) : console.error("[Alerts] alert id is required to edit alert")) : b.logError("invokeAlertEditor is required for edit alert")
        }, o.prototype._getAlertNotifier = function () {
          if (null === this._notifierPromise) {
            var e = this;
            this._notifierPromise = P().then(function (t) {
              return t.onEditAlert.subscribe(null, function (t, i, n) {
                i === l.AlertType.Price && e.openEditDialog(t, n)
              }), t.onRestartAlert.subscribe(null, function (t, i, n) {
                i === l.AlertType.Price && e.restartAlert(t, n)
              }), t.onNotificationsViewed.subscribe(null, function (t) {
                var i, n;
                for (i = 0; i < t.length; i++)(n = t[i]).alertType === l.AlertType.Price && n.type === a.AlertNotificationType.FiredPrice && e.events.get(t.eventId) && event.trigger("popupClosed", event)
              }), t
            })
          }
          return this._notifierPromise
        }, e.exports.AlertsDispatcher = o
      }).call(this, i("q1z7"), i("F/us"))
    },
    "3U/I": function (e, t, i) {
      "use strict";

      function n(e) {
        this._chartWidgetCollection = e
      }
      var o = i("Eyy1").assert,
        r = i("0YCj"),
        s = i("lCO3").Version;
      n.prototype._chartModels = function () {
        return $.map(window.scriptUpdater._chartWidgetCollection.getAll(), function (e) {
          return e.model()
        })
      }, n.prototype.onTVScriptInputsChanged = function (e, t, i) {
        var n, o = i.defaults.offsets;
        for (n in o) e._plotOffsetsMetaInfoOverride[n] = o[n].val
      }, n.prototype.onTVScriptLegacyPineProcessed = function (e) {
        var t, i, n, o, s = e.scriptMetaInfo.scriptIdPart;
        if (s && e.scriptMetaInfo) {
          for (i = (t = this._chartModels()).length - 1; i >= 0; i--) n = t[i], o = e.scriptMetaInfo, r.addOrReplaceStudyMetaInfo(n.studiesMetaData(), o);
          null != window.studyMarket && window.studyMarket.onCustomScriptModified()
        }
      }, n.prototype.onTVScriptModified = function (e) {
        var t, n, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S = e.scriptMetaInfo.scriptIdPart;
        if (S) {
          if (e.scriptMetaInfo)
            for (n = (t = this._chartModels()).length - 1; n >= 0; n--) {
              for (s = t[n], a = this._searchScriptDataSourcesInModel(S, s, e.scriptVersionToUpdate), l = [], c = 0; c < a.length; ++c) u = a[c], d = (h = s.paneForSource(u)).isOverlay(u) ? null : u.priceScale(), l.push({
                pane: h,
                priceScale: d
              });
              for (p = e.scriptMetaInfo, o(void 0 !== p, "Cannot update scripts, because script metaInfo is absent"), _ = "study_" + (f = r.addOrReplaceStudyMetaInfo(s.studiesMetaData(), p)).id, TradingView.saveDefaults(_, {}), s.beginUndoMacro(window.t("Update {0} Script").format(f.shortDescription || f.description || "")), c = l.length - 1; c >= 0; c--) m = a[c], g = l[c], (y = s.insertStudyWithoutCheck(f)) && (f.linkedToSeries || (s.mergeToPane(y, g.pane), null !== g.priceScale ? s.moveToScale(y, g.pane, g.priceScale, "") : s.detachNoScale(y, g.pane)), s.removeSource(m));
              s.endUndoMacro()
            }
          null != window.studyMarket && window.studyMarket.onCustomScriptModified(), (v = i.c.HARt) && v.exports.onScriptModified(e, !!e.isSelfCall)
        }
      }, n.prototype.onTVScriptDeleted = function (e) {
        var t, n, o, s, a, l, c = e.scriptIdPart;
        if (c) {
          for (n = (t = this._chartModels()).length; n--;)
            for (s = (o = t[n].studiesMetaData()).length; s--;)
              if ((a = o[s]).scriptIdPart === c) {
                r.removeStudyMetaInfo(o, a);
                break
              } null != window.studyMarket && window.studyMarket.onCustomScriptModified(), (l = i.c.HARt) && l.exports.onScriptDeleted(e, !!e.isSelfCall)
        }
      }, n.prototype.onTVScriptRenamed = function (e) {
        var t, n = e.scriptIdPart;
        n && (null != window.studyMarket && window.studyMarket.onCustomScriptModified(), (t = i.c.HARt) && t.exports.onScriptRenamed(e, !!e.isSelfCall))
      }, n.prototype._searchScriptDataSourcesInModel = function (e, t, i) {
        var n, o, r, a, l, c = [],
          u = t.dataSources();
        for (n = u.length - 1; n >= 0; n--)(o = u[n]) instanceof TradingView.Study && (r = o.metaInfo()).pine && r.scriptIdPart === e && (a = s.parse(r.pine.version), l = !i || r.pine.version.toString() !== i.toString(), a.minor() > 0 && l || c.push(o));
        return c
      }, n.prototype.onScriptOpen = function (e) {
        this._chartWidgetCollection.getAll().forEach(function (e) {
          var t, i, n = e.paneWidgets();
          for (t = n.length; t--;) null !== (i = n[t].statusWidget()) && i.updateLayout()
        })
      }, e.exports = n
    },
    "3UA0": function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "tzData", function () {
        return n
      });
      var n = {
        "America/New_York": {
          time: [-2717668562, -1633298400, -1615154400, -1601848800, -1583704800, -1570399200, -1551650400, -1536530400, -1523224800, -1504476e3, -1491775200, -1473026400, -1459720800, -1441576800, -1428271200, -1410127200, -1396821600, -1378677600, -1365372e3, -1347228e3, -1333922400, -1315173600, -1301868e3, -1283724e3, -1270418400, -1252274400, -1238968800, -1220824800, -1207519200, -1189375200, -1176069600, -1157320800, -114462e4, -1125871200, -1112565600, -1094421600, -1081116e3, -1062972e3, -1049666400, -1031522400, -1018216800, -1000072800, -986767200, -968018400, -955317600, -936568800, -923263200, -905119200, -891813600, -880236e3, -76941e4, -765410400, -747266400, -733960800, -715816800, -702511200, -684367200, -671061600, -652917600, -639612e3, -620863200, -608162400, -589413600, -576108e3, -557964e3, -544658400, -526514400, -513208800, -495064800, -481759200, -463615200, -447285600, -431560800, -415836e3, -400111200, -384386400, -368661600, -352936800, -337212e3, -321487200, -305762400, -289432800, -273708e3, -257983200, -242258400, -226533600, -210808800, -195084e3, -179359200, -163634400, -147909600, -13158e4, -11646e4, -100130400, -84405600, -68680800, -52956e3, -37231200, -21506400, -5781600, 9943200, 25668e3, 41392800, 57722400, 73447200, 89172e3, 104896800, 120621600, 126669600, 152071200, 162352800, 183520800, 199245600, 215575200, 230695200, 247024800, 262749600, 278474400, 294199200, 309924e3, 325648800, 341373600, 357098400, 372823200, 388548e3, 404877600, 419997600, 436327200, 452052e3, 467776800, 483501600, 499226400, 514951200, 530676e3, 544586400, 562125600, 576036e3, 59418e4, 607485600, 625629600, 638935200, 657079200, 670989600, 688528800, 702439200, 719978400, 733888800, 752032800, 765338400, 783482400, 796788e3, 814932e3, 828842400, 846381600, 860292e3, 877831200, 891741600, 909280800, 923191200, 941335200, 954640800, 972784800, 986090400, 1004234400, 1018144800, 1035684e3, 1049594400, 1067133600, 1081044e3, 1099188e3, 1112493600, 1130637600, 1143943200, 1162087200, 1173578400, 1194141600, 1205028e3, 1225591200, 1236477600, 1257040800, 1268532e3, 1289095200, 1299981600, 1320544800, 1331431200, 1351994400, 1362880800, 1383444e3, 1394330400, 1414893600, 142578e4, 1446343200, 1457834400, 1478397600, 1489284e3, 1509847200, 1520733600, 1541296800, 1552183200, 1572746400, 1583632800, 1604196e3, 1615687200, 1636250400, 1647136800, 16677e5, 1678586400, 1699149600, 1710036e3, 1730599200, 1741485600, 1762048800, 1772935200, 1793498400, 1804989600, 1825552800, 1836439200, 1857002400, 1867888800, 1888452e3, 1899338400, 1919901600, 1930788e3],
          offset: [-17762, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3]
        },
        "America/Los_Angeles": {
          time: [-2717668378, -1633298400, -1615154400, -1601848800, -1583704800, -880236e3, -769420800, -765410400, -687995940, -662680800, -620866800, -608162400, -589417200, -576108e3, -557967600, -544658400, -526518e3, -513208800, -495068400, -481759200, -463618800, -450309600, -431564400, -418255200, -400114800, -386805600, -368665200, -355356e3, -337215600, -323906400, -305766e3, -292456800, -273711600, -261007200, -242262e3, -226533600, -210812400, -195084e3, -179362800, -163634400, -147913200, -13158e4, -116463600, -100130400, -84405600, -68680800, -52956e3, -37231200, -21506400, -5781600, 9943200, 25668e3, 41392800, 57722400, 73447200, 89172e3, 104896800, 120621600, 126669600, 152071200, 162352800, 183520800, 199245600, 215575200, 230695200, 247024800, 262749600, 278474400, 294199200, 309924e3, 325648800, 341373600, 357098400, 372823200, 388548e3, 404877600, 419997600, 436327200, 452052e3, 467776800, 483501600, 499226400, 514951200, 530676e3, 544586400, 562125600, 576036e3, 59418e4, 607485600, 625629600, 638935200, 657079200, 670989600, 688528800, 702439200, 719978400, 733888800, 752032800, 765338400, 783482400, 796788e3, 814932e3, 828842400, 846381600, 860292e3, 877831200, 891741600, 909280800, 923191200, 941335200, 954640800, 972784800, 986090400, 1004234400, 1018144800, 1035684e3, 1049594400, 1067133600, 1081044e3, 1099188e3, 1112493600, 1130637600, 1143943200, 1162087200, 1173578400, 1194141600, 1205028e3, 1225591200, 1236477600, 1257040800, 1268532e3, 1289095200, 1299981600, 1320544800, 1331431200, 1351994400, 1362880800, 1383444e3, 1394330400, 1414893600, 142578e4, 1446343200, 1457834400, 1478397600, 1489284e3, 1509847200, 1520733600, 1541296800, 1552183200, 1572746400, 1583632800, 1604196e3, 1615687200, 1636250400, 1647136800, 16677e5, 1678586400, 1699149600, 1710036e3, 1730599200, 1741485600, 1762048800, 1772935200, 1793498400, 1804989600, 1825552800, 1836439200, 1857002400, 1867888800, 1888452e3, 1899338400, 1919901600, 1930788e3],
          offset: [-28378, -28800, -25200, -28800, -25200, -28800, -25200, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800]
        },
        "America/Chicago": {
          time: [-2717668236, -1633298400, -1615154400, -1601848800, -1583704800, -1563746400, -1551650400, -1538949600, -1520200800, -1504476e3, -1491775200, -1473026400, -1459720800, -1441576800, -1428271200, -1410127200, -1396821600, -1378677600, -1365372e3, -1347228e3, -1333922400, -1315173600, -1301868e3, -1283724e3, -1270418400, -1252274400, -1238968800, -1220824800, -1207519200, -1189375200, -1176069600, -1157320800, -114462e4, -1125871200, -1112565600, -1094421600, -1081116e3, -1067810400, -1045432800, -1031522400, -1018216800, -1000072800, -986767200, -968018400, -955317600, -936568800, -923263200, -905119200, -891813600, -880236e3, -769413600, -765410400, -747266400, -733960800, -715816800, -702511200, -684367200, -671061600, -652917600, -639612e3, -620863200, -608162400, -589413600, -576108e3, -557964e3, -544658400, -526514400, -513208800, -495064800, -481759200, -463615200, -447285600, -431560800, -415836e3, -400111200, -384386400, -368661600, -352936800, -337212e3, -321487200, -305762400, -289432800, -273708e3, -257983200, -242258400, -226533600, -210808800, -195084e3, -179359200, -163634400, -147909600, -13158e4, -11646e4, -100130400, -84405600, -68680800, -52956e3, -37231200, -21506400, -5781600, 9943200, 25668e3, 41392800, 57722400, 73447200, 89172e3, 104896800, 120621600, 126669600, 152071200, 162352800, 183520800, 199245600, 215575200, 230695200, 247024800, 262749600, 278474400, 294199200, 309924e3, 325648800, 341373600, 357098400, 372823200, 388548e3, 404877600, 419997600, 436327200, 452052e3, 467776800, 483501600, 499226400, 514951200, 530676e3, 544586400, 562125600, 576036e3, 59418e4, 607485600, 625629600, 638935200, 657079200, 670989600, 688528800, 702439200, 719978400, 733888800, 752032800, 765338400, 783482400, 796788e3, 814932e3, 828842400, 846381600, 860292e3, 877831200, 891741600, 909280800, 923191200, 941335200, 954640800, 972784800, 986090400, 1004234400, 1018144800, 1035684e3, 1049594400, 1067133600, 1081044e3, 1099188e3, 1112493600, 1130637600, 1143943200, 1162087200, 1173578400, 1194141600, 1205028e3, 1225591200, 1236477600, 1257040800, 1268532e3, 1289095200, 1299981600, 1320544800, 1331431200, 1351994400, 1362880800, 1383444e3, 1394330400, 1414893600, 142578e4, 1446343200, 1457834400, 1478397600, 1489284e3, 1509847200, 1520733600, 1541296800, 1552183200, 1572746400, 1583632800, 1604196e3, 1615687200, 1636250400, 1647136800, 16677e5, 1678586400, 1699149600, 1710036e3, 1730599200, 1741485600, 1762048800, 1772935200, 1793498400, 1804989600, 1825552800, 1836439200, 1857002400, 1867888800, 1888452e3, 1899338400, 1919901600, 1930788e3],
          offset: [-21036, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600]
        },
        "America/Phoenix": {
          time: [-2717670498, -1633298400, -1615154400, -1601848800, -1583704800, -880236e3, -820540740, -812678340, -796867140, -84405600, -68680800, 1924966800],
          offset: [-26898, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200]
        },
        "America/Toronto": {
          time: [-2366755200, -1632088800, -1615154400, -1601771400, -1583712e3, -1567375200, -1554681600, -1534716e3, -1524088800, -1503266400, -149238e4, -1471816800, -1460930400, -1440972e3, -1428876e3, -1409522400, -1397426400, -1378072800, -1365976800, -1346623200, -1333922400, -1315173600, -1301868e3, -1283724e3, -1270418400, -1252274400, -1238968800, -1220824800, -1207519200, -1188770400, -1176069600, -1157320800, -1144015200, -1125871200, -1112565600, -1094421600, -1081116e3, -1062972e3, -1049666400, -1031522400, -1018216800, -1000072800, -986767200, -968018400, -955317600, -936568800, -880232400, -76941e4, -765410400, -747266400, -733960800, -715824e3, -702518400, -684374400, -671068800, -652924800, -634176e3, -620863200, -602719200, -589413600, -576108e3, -557964e3, -544658400, -526514400, -513208800, -495064800, -481759200, -463615200, -450309600, -431560800, -418255200, -400111200, -384386400, -368661600, -352936800, -337212e3, -321487200, -305762400, -289432800, -273708e3, -257983200, -242258400, -226533600, -210808800, -195084e3, -179359200, -163634400, -147909600, -13158e4, -11646e4, -100130400, -84405600, -68680800, -52956e3, -37231200, -21506400, -5781600, 9943200, 25668e3, 41392800, 57722400, 73447200, 89172e3, 104896800, 120621600, 136346400, 152071200, 167796e3, 183520800, 199245600, 215575200, 230695200, 247024800, 262749600, 278474400, 294199200, 309924e3, 325648800, 341373600, 357098400, 372823200, 388548e3, 404877600, 419997600, 436327200, 452052e3, 467776800, 483501600, 499226400, 514951200, 530676e3, 544586400, 562125600, 576036e3, 59418e4, 607485600, 625629600, 638935200, 657079200, 670989600, 688528800, 702439200, 719978400, 733888800, 752032800, 765338400, 783482400, 796788e3, 814932e3, 828842400, 846381600, 860292e3, 877831200, 891741600, 909280800, 923191200, 941335200, 954640800, 972784800, 986090400, 1004234400, 1018144800, 1035684e3, 1049594400, 1067133600, 1081044e3, 1099188e3, 1112493600, 1130637600, 1143943200, 1162087200, 1173578400, 1194141600, 1205028e3, 1225591200, 1236477600, 1257040800, 1268532e3, 1289095200, 1299981600, 1320544800, 1331431200, 1351994400, 1362880800, 1383444e3, 1394330400, 1414893600, 142578e4, 1446343200, 1457834400, 1478397600, 1489284e3, 1509847200, 1520733600, 1541296800, 1552183200, 1572746400, 1583632800, 1604196e3, 1615687200, 1636250400, 1647136800, 16677e5, 1678586400, 1699149600, 1710036e3, 1730599200, 1741485600, 1762048800, 1772935200, 1793498400, 1804989600, 1825552800, 1836439200, 1857002400, 1867888800, 1888452e3, 1899338400, 1919901600, 1930788e3],
          offset: [-19052, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -14400, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3]
        },
        "America/Vancouver": {
          time: [-2713910400, -1632088800, -1615154400, -880236e3, -769420800, -765410400, -747266400, -732751200, -715816800, -702511200, -684367200, -671061600, -652917600, -639612e3, -620863200, -608162400, -589413600, -576108e3, -557964e3, -544658400, -526514400, -513208800, -495064800, -481759200, -463615200, -450309600, -431560800, -418255200, -400111200, -386805600, -368661600, -355356e3, -337212e3, -323906400, -305762400, -292456800, -273708e3, -261007200, -242258400, -226533600, -210808800, -195084e3, -179359200, -163634400, -147909600, -13158e4, -11646e4, -100130400, -84405600, -68680800, -52956e3, -37231200, -21506400, -5781600, 9943200, 25668e3, 41392800, 57722400, 73447200, 89172e3, 104896800, 120621600, 136346400, 152071200, 167796e3, 183520800, 199245600, 215575200, 230695200, 247024800, 262749600, 278474400, 294199200, 309924e3, 325648800, 341373600, 357098400, 372823200, 388548e3, 404877600, 419997600, 436327200, 452052e3, 467776800, 483501600, 499226400, 514951200, 530676e3, 544586400, 562125600, 576036e3, 59418e4, 607485600, 625629600, 638935200, 657079200, 670989600, 688528800, 702439200, 719978400, 733888800, 752032800, 765338400, 783482400, 796788e3, 814932e3, 828842400, 846381600, 860292e3, 877831200, 891741600, 909280800, 923191200, 941335200, 954640800, 972784800, 986090400, 1004234400, 1018144800, 1035684e3, 1049594400, 1067133600, 1081044e3, 1099188e3, 1112493600, 1130637600, 1143943200, 1162087200, 1173578400, 1194141600, 1205028e3, 1225591200, 1236477600, 1257040800, 1268532e3, 1289095200, 1299981600, 1320544800, 1331431200, 1351994400, 1362880800, 1383444e3, 1394330400, 1414893600, 142578e4, 1446343200, 1457834400, 1478397600, 1489284e3, 1509847200, 1520733600, 1541296800, 1552183200, 1572746400, 1583632800, 1604196e3, 1615687200, 1636250400, 1647136800, 16677e5, 1678586400, 1699149600, 1710036e3, 1730599200, 1741485600, 1762048800, 1772935200, 1793498400, 1804989600, 1825552800, 1836439200, 1857002400, 1867888800, 1888452e3, 1899338400, 1919901600, 1930788e3],
          offset: [-29548, -28800, -25200, -28800, -25200, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800]
        },
        "America/Argentina/Buenos_Aires": {
          time: [-2372112e3, -1567468800, -1233446400, -1222992e3, -1205971200, -1194048e3, -117288e4, -1162512e3, -1141344e3, -1130976e3, -1109808e3, -109944e4, -1078272e3, -1067817600, -1046649600, -1036281600, -1015113600, -1004745600, -983577600, -973209600, -952041600, -941587200, -931046400, -900892800, -890352e3, -83376e4, -82728e4, -752284800, -733795200, -197337600, -190857600, -184204800, -164505600, -152668800, -132969600, -121132800, -101433600, -86832e3, -71107200, -54777600, -39052800, -23328e3, -7603200, 128131200, 136598400, 596937600, 605059200, 624412800, 636508800, 656467200, 667958400, 687916800, 699408e3, 719366400, 731462400, 938908800, 952041600, 1198972800, 1205625600, 1224374400, 1237075200, 1924981200],
          offset: [-14028, -15408, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -10800, -10800, -7200, -10800, -7200, -10800]
        },
        "America/El_Salvador": {
          time: [-1546300800, 546998400, 559699200, 578448e3, 591148800, 1924970400],
          offset: [-21408, -21600, -18e3, -21600, -18e3, -21600]
        },
        "America/Sao_Paulo": {
          time: [-1767225600, -1206968400, -1191369600, -1175385600, -1159833600, -633830400, -622076400, -602294400, -59184e4, -570758400, -560217600, -539136e3, -53136e4, -195436800, -184204800, -155174400, -150076800, -128908800, -121132800, -99964800, -89596800, -68428800, -57974400, 499737600, 511228800, 530582400, 540259200, 562118400, 571190400, 592963200, 602035200, 624412800, 634694400, 656467200, 666748800, 687916800, 697593600, 719971200, 728438400, 750816e3, 761702400, 782265600, 793152e3, 813715200, 823996800, 84456e4, 856051200, 876096e3, 888710400, 908064e3, 919555200, 938908800, 951609600, 970963200, 982454400, 1003017600, 1013904e3, 1036281600, 1045353600, 1066521600, 1076803200, 1099353600, 1108857600, 1129420800, 1140307200, 1162684800, 1172361600, 119232e4, 1203206400, 1224374400, 1234656e3, 1255824e3, 1266710400, 1287273600, 129816e4, 1318723200, 1330214400, 1350777600, 1361059200, 1382227200, 1392508800, 1413676800, 1424563200, 1445126400, 1456012800, 1476576e3, 1487462400, 1508025600, 1518912e3, 1541289600, 1550361600, 1572739200, 1581811200, 1604188800, 1613865600, 1636243200, 1645315200, 1667692800, 1677369600, 1699142400, 1708214400, 1730592e3, 1739664e3, 1762041600, 1771718400, 1793491200, 1803168e3, 1825545600, 1834617600, 1856995200, 1866067200, 1888444800, 1897516800, 1919894400, 1928966400],
          offset: [-11188, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200, -10800, -7200]
        },
        "America/Bogota": {
          time: [-2707689600, -1739059200, 704851200, 733881600, 1924974e3],
          offset: [-17776, -17776, -18e3, -14400, -18e3]
        },
        "America/Caracas": {
          time: [-2524521600, -1826755200, -157766400, 1197169200, 1462069800, 1924977600],
          offset: [-16064, -16060, -16200, -14400, -16200, -14400]
        },
        "Europe/Moscow": {
          time: [-2840140800, -1688256e3, -165681e4, -1641340800, -1627956e3, -1618700400, -1596416400, -1593804521, -1589846400, -1542416400, -1539478800, -1525305600, -1522713600, -1491177600, -1247529600, 354931200, 370742400, 386467200, 402278400, 418003200, 433814400, 449625600, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 695786400, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1414288800, 1925002800],
          offset: [9017, 9017, 9079, 12679, 9079, 16279, 12679, 16279, 14400, 10800, 14400, 18e3, 14400, 10800, 7200, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 10800, 7200, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800]
        },
        "Europe/Athens": {
          time: [-2344636800, -1686095940, -1182988800, -1178150400, -906854400, -904867200, -85725e4, -844473600, -828230400, -812419200, -552355200, -541641600, 166492800, 186195600, 198036e3, 213764400, 228880800, 244090800, 260330400, 275457600, 291805200, 307418400, 323395200, 338947200, 354682800, 370411200, 386132400, 401860800, 417582e3, 433310400, 449031600, 465364800, 481086e3, 496814400, 512535600, 528264e3, 543985200, 559713600, 575434800, 591163200, 606884400, 622612800, 638334e3, 654667200, 670388400, 686116800, 701838e3, 717566400, 733287600, 749016e3, 764737200, 780465600, 796186800, 811915200, 828241200, 846388800, 859690800, 877838400, 891140400, 909288e3, 92259e4, 941342400, 954039600, 972792e3, 985489200, 1004241600, 1017543600, 1035691200, 1048993200, 1067140800, 1080442800, 1099195200, 1111892400, 1130644800, 1143342e3, 1162094400, 1174791600, 1193544e3, 1206846e3, 1224993600, 1238295600, 1256443200, 1269745200, 1288497600, 1301194800, 1319947200, 1332644400, 1351396800, 1364698800, 1382846400, 1396148400, 1414296e3, 1427598e3, 1445745600, 1459047600, 14778e5, 1490497200, 1509249600, 1521946800, 1540699200, 1554001200, 1572148800, 1585450800, 1603598400, 1616900400, 1635652800, 164835e4, 1667102400, 1679799600, 1698552e3, 1711854e3, 1730001600, 1743303600, 1761451200, 1774753200, 1792900800, 1806202800, 1824955200, 1837652400, 1856404800, 1869102e3, 1887854400, 1901156400, 1919304e3, 1932606e3],
          offset: [5692, 5692, 7200, 10800, 7200, 10800, 7200, 3600, 7200, 3600, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200]
        },
        "Europe/Belgrade": {
          time: [-2713910400, -905821200, -85725e4, -844552800, -828219600, -812498400, -79677e4, -777938400, -766616400, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [4920, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Europe/Berlin": {
          time: [-2422051200, -1693702800, -1680476400, -1663452e3, -1650142800, -1632002400, -1618693200, -938901600, -85725e4, -844552800, -828219600, -812498400, -79677e4, -781048800, -776556e3, -765925200, -761173200, -748476e3, -733266e3, -717627600, -714603600, -71037e4, -701902800, -684972e3, -670453200, -654127200, -639003600, 323834400, 338958e3, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [3208, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 10800, 7200, 3600, 7200, 3600, 7200, 10800, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Europe/London": {
          time: [-3852662400, -1691964e3, -1680469200, -1664143200, -1650142800, -1633903200, -1617483600, -1601848800, -1586034e3, -1570399200, -1552165200, -1538344800, -152253e4, -15075e5, -1490562e3, -1473631200, -1460926800, -1442786400, -1428872400, -1410732e3, -1396213200, -1379282400, -1364763600, -1348437600, -1333314e3, -1315778400, -1301259600, -1284328800, -126981e4, -1253484e3, -1238360400, -1221429600, -1206910800, -118998e4, -1175461200, -1159135200, -1143406800, -1126476e3, -1111957200, -1095631200, -1080507600, -1063576800, -1049058e3, -1032127200, -1017608400, -1001282400, -986158800, -969228e3, -950475600, -942012e3, -904514400, -896043600, -875484e3, -864594e3, -844034400, -832539600, -812584800, -798066e3, -781048800, -772059600, -764802e3, -748476e3, -733352400, -719445600, -717026400, -706741200, -699483600, -687996e3, -668034e3, -654732e3, -636584400, -622072800, -605739600, -590623200, -57429e4, -558568800, -542235600, -527119200, -512600400, -496274400, -481150800, -46422e4, -449701200, -432165600, -417646800, -401320800, -386197200, -369266400, -354747600, -337816800, -323298e3, -306972e3, -291848400, -276732e3, -257979600, -245282400, -22653e4, -213228e3, -195080400, -182383200, -163630800, -150933600, -132181200, -119484e3, -100731600, -88034400, -68677200, -59004e3, -37238400, 57726e3, 69818400, 89175600, 101268e3, 120625200, 132717600, 152074800, 164167200, 183524400, 196221600, 214974e3, 227671200, 246423600, 259120800, 278478e3, 290570400, 309927600, 32202e4, 341377200, 354675600, 372823200, 386125200, 404272800, 417574800, 435722400, 449024400, 467776800, 481078800, 499226400, 512528400, 530676e3, 543978e3, 562125600, 575427600, 593575200, 606877200, 625629600, 638326800, 657079200, 670381200, 688528800, 701830800, 719978400, 733280400, 751428e3, 76473e4, 782877600, 796179600, 814327200, 828234e3, 846381600, 859683600, 877831200, 891133200, 909280800, 922582800, 941335200, 954032400, 972784800, 985482e3, 1004234400, 1017536400, 1035684e3, 1048986e3, 1067133600, 1080435600, 1099188e3, 1111885200, 1130637600, 1143334800, 1162087200, 1174784400, 1193536800, 1206838800, 1224986400, 1238288400, 1256436e3, 1269738e3, 1288490400, 1301187600, 131994e4, 1332637200, 1351389600, 1364691600, 1382839200, 1396141200, 1414288800, 1427590800, 1445738400, 1459040400, 1477792800, 149049e4, 1509242400, 1521939600, 1540692e3, 1553994e3, 1572141600, 1585443600, 1603591200, 1616893200, 1635645600, 1648342800, 1667095200, 1679792400, 1698544800, 1711846800, 1729994400, 1743296400, 1761444e3, 1774746e3, 1792893600, 1806195600, 1824948e3, 1837645200, 1856397600, 1869094800, 1887847200, 1901149200, 1919296800, 1932598800],
          offset: [-75, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 0, 3600, 0, 3600, 7200, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0]
        },
        "Europe/Luxembourg": {
          time: [-2069712e3, -1692493200, -1680476400, -1662339600, -165015e4, -1632002400, -1618693200, -1612656e3, -1604278800, -1585515600, -1574038800, -1552255200, -1539997200, -1520546400, -1507510800, -1490569200, -1473642e3, -1459116e3, -1444006800, -142767e4, -1411866e3, -1396220400, -1379293200, -1364770800, -1348448400, -1333321200, -1316394e3, -1301266800, -1284339600, -126981e4, -1253484e3, -1238360400, -1221429600, -1206910800, -1191189600, -1175461200, -1160344800, -1143406800, -1127685600, -1111957200, -1096840800, -1080507600, -1063576800, -1049058e3, -1033336800, -1017608400, -1002492e3, -986158800, -969228e3, -950475600, -942012e3, -935182800, -85725e4, -844552800, -828219600, -812498400, -797979600, -781048800, -766616400, -745452e3, -733266e3, 228880800, 244004400, 260330400, 276058800, 29178e4, 307508400, 323834400, 338958e3, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [1476, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Europe/Madrid": {
          time: [-2177453684, -1631926800, -1616886e3, -1601168400, -158535e4, -1442451600, -142767e4, -1379293200, -1364770800, -1348448400, -1333321200, -1316390400, -1301266800, -1284339600, -1269817200, -1026954e3, -1017615600, -1001898e3, -999478800, -986083200, -951433200, -940208400, -873075600, -862614e3, -842835600, -828313200, -811386e3, -796863600, -779936400, -765414e3, -748486800, -733964400, -652323600, -639010800, 135126e3, 150253200, 166575600, 181702800, 196815600, 212547600, 22887e4, 243997200, 260330400, 276058800, 29178e4, 307508400, 323834400, 338958e3, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [-884, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 7200, 3600, 0, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Europe/Paris": {
          time: [-2486678340, -1855958340, -1689814800, -1680393600, -1665363600, -1648339200, -1635123600, -1616889600, -1604278800, -158544e4, -1574038800, -1552262400, -1539997200, -1520553600, -1507510800, -1490572800, -1470618e3, -1459123200, -1444006800, -1427673600, -1411952400, -1396224e3, -1379293200, -1364774400, -1348448400, -1333324800, -1316394e3, -1301270400, -1284339600, -1269820800, -1253494800, -1238371200, -1221440400, -1206921600, -1191200400, -1175472e3, -1160355600, -1143417600, -1127696400, -1111968e3, -1096851600, -1080518400, -1063587600, -1049068800, -1033347600, -1017619200, -1002502800, -986169600, -969238800, -950486400, -942012e3, -932432400, -85725e4, -844552800, -828219600, -812498400, -800064e3, -796258800, -781048800, -766616400, 196822800, 212547600, 228880800, 244004400, 260330400, 276058800, 29178e4, 307508400, 323834400, 338958e3, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [561, 561, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 0, 3600, 7200, 3600, 7200, 3600, 7200, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Europe/Rome": {
          time: [-3259094400, -2403562204, -1690761600, -168048e4, -1664755200, -1648944e3, -163512e4, -1616889600, -1604275200, -1585526400, -1571011200, -1555286400, -932428800, -85725e4, -844552800, -828219600, -812498400, -798066e3, -781048800, -76671e4, -750895200, -733352400, -719452800, -70191e4, -689205600, -670453200, -114048e3, -103161600, -81993600, -71708400, -50544e3, -40258800, -18489600, -8204400, 1296e4, 23245200, 43804800, 54694800, 75859200, 86749200, 107913600, 118198800, 138758400, 149648400, 170812800, 181098e3, 202262400, 212547600, 233107200, 243997200, 265161600, 276051600, 296611200, 307501200, 323834400, 338958e3, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [2996, 2996, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Europe/Warsaw": {
          time: [-2840140800, -1717027200, -1693702800, -1680476400, -1663452e3, -1650142800, -1632002400, -1618693200, -1600466400, -1587157200, -1501718400, -931730400, -85725e4, -844552800, -828219600, -812498400, -796600800, -778723200, -762652800, -748483200, -733266e3, -715212e3, -701902800, -684972e3, -670453200, -654127200, -639003600, -397090800, -386805600, -371084400, -355356e3, -334191600, -323301600, -307580400, -291852e3, -271292400, -260402400, -239842800, -228952800, -208393200, -197503200, -176338800, -166053600, 228877200, 244000800, 260326800, 276055200, 291776400, 307504800, 323830800, 338954400, 354675600, 370404e3, 386125200, 401853600, 417574800, 433303200, 449024400, 465357600, 481078800, 496807200, 512528400, 528256800, 543978e3, 559706400, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [5040, 5040, 3600, 7200, 3600, 7200, 3600, 7200, 7200, 10800, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Europe/Istanbul": {
          time: [-2840140800, -1869868800, -1693699200, -168048e4, -1570406400, -1552176e3, -1538352e3, -1522540800, -1507507200, -1490572800, -1440201600, -1428019200, -1409702400, -1396483200, -931132800, -922752e3, -917827200, -892425600, -875836800, -857347200, -781056e3, -764726400, -744336e3, -733795200, -716428800, -701913600, -684979200, -670464e3, -654134400, -639014400, -621820800, -60696e4, -590025600, -575424e3, -235612800, -228268800, -177724800, -165715200, 10540800, 23846400, 41990400, 55296e3, 74044800, 87350400, 107917200, 12123e4, 133927200, 152686800, 165369600, 183513600, 202435200, 215568e3, 228873600, 245808e3, 260323200, 277257600, 308793600, 323838e3, 340243200, 354682800, 371692800, 386132400, 403142400, 428457600, 433900800, 482803200, 496713600, 512528400, 528256800, 543978e3, 559706400, 575427600, 591156e3, 606877200, 622605600, 638326800, 65466e4, 670381200, 686109600, 701830800, 717559200, 733280400, 749008800, 764125200, 780458400, 796179600, 811908e3, 828234e3, 846381600, 859683600, 877831200, 891133200, 909280800, 922582800, 941335200, 954032400, 972784800, 985482e3, 1004234400, 1017536400, 1035684e3, 1048986e3, 1067133600, 1080435600, 1099188e3, 1111885200, 1130637600, 1143334800, 1162087200, 1174791600, 1193544e3, 1206846e3, 1224993600, 1238295600, 1256443200, 1269745200, 1288497600, 1301281200, 1319947200, 1332644400, 1351396800, 1364698800, 1382846400, 1396234800, 1414296e3, 1427598e3, 1446955200, 1459047600, 1473206400, 1925002800],
          offset: [6952, 7016, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 10800]
        },
        "Europe/Zurich": {
          time: [-3675196800, -2385244800, -904431600, -891122400, -872982e3, -859672800, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [2048, 1786, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Australia/Sydney": {
          time: [-2364076800, -1672531140, -1665352800, -883605600, -876088800, -860364e3, -844639200, -828309600, -813189600, 57722400, 68007600, 89172e3, 100062e3, 120621600, 131511600, 152071200, 162961200, 183520800, 195015600, 215575200, 226465200, 247024800, 257914800, 278474400, 289364400, 309924e3, 320814e3, 341373600, 352263600, 372823200, 386737200, 404877600, 415767600, 436327200, 447217200, 467776800, 478666800, 499226400, 511326e3, 530071200, 542775600, 562125600, 57483e4, 59418e4, 606279600, 625629600, 636519600, 657079200, 667969200, 688528800, 699418800, 719978400, 731473200, 752032800, 762922800, 783482400, 794372400, 814932e3, 828241200, 846381600, 859690800, 877831200, 891140400, 909280800, 92259e4, 941335200, 954039600, 967341600, 985489200, 1004234400, 1017543600, 1035684e3, 1048993200, 1067133600, 1080442800, 1099188e3, 1111892400, 1130637600, 1143946800, 1162087200, 1174791600, 1193536800, 1207450800, 1223172e3, 1238900400, 1254621600, 127035e4, 1286071200, 1301799600, 1317520800, 1333249200, 1349575200, 1365303600, 1381024800, 1396753200, 1412474400, 1428202800, 1443924e3, 1459652400, 1475373600, 1491102e3, 1506823200, 1522551600, 1538877600, 1554606e3, 1570327200, 1586055600, 1601776800, 1617505200, 1633226400, 1648954800, 1664676e3, 1680404400, 1696125600, 1712458800, 172818e4, 1743908400, 1759629600, 1775358e3, 1791079200, 1806807600, 1822528800, 1838257200, 1853978400, 1869706800, 1886032800, 1901761200, 1917482400, 1933210800],
          offset: [36292, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600]
        },
        "Australia/Brisbane": {
          time: [-2366755200, -1672531140, -1665352800, -883605600, -876088800, -860364e3, -844639200, -828309600, -813189600, 57722400, 68007600, 625629600, 636519600, 657079200, 667969200, 688528800, 699418800, 1925028e3],
          offset: [36728, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3]
        },
        "Australia/Adelaide": {
          time: [-2364076800, -2230156800, -1672531140, -1665352800, -883605600, -876088800, -860364e3, -844639200, -828309600, -813189600, 57722400, 68007600, 89172e3, 100062e3, 120621600, 131511600, 152071200, 162961200, 183520800, 195015600, 215575200, 226465200, 247024800, 257914800, 278474400, 289364400, 309924e3, 320814e3, 341373600, 352263600, 372823200, 384318e3, 404877600, 415767600, 436327200, 447217200, 467776800, 478666800, 499226400, 511326e3, 530071200, 542775600, 562125600, 57483e4, 59418e4, 606279600, 625629600, 637729200, 657079200, 667969200, 688528800, 701233200, 719978400, 731473200, 752032800, 764132400, 783482400, 796186800, 814932e3, 828241200, 846381600, 859690800, 877831200, 891140400, 909280800, 92259e4, 941335200, 954039600, 972784800, 985489200, 1004234400, 1017543600, 1035684e3, 1048993200, 1067133600, 1080442800, 1099188e3, 1111892400, 1130637600, 1143946800, 1162087200, 1174791600, 1193536800, 1207450800, 1223172e3, 1238900400, 1254621600, 127035e4, 1286071200, 1301799600, 1317520800, 1333249200, 1349575200, 1365303600, 1381024800, 1396753200, 1412474400, 1428202800, 1443924e3, 1459652400, 1475373600, 1491102e3, 1506823200, 1522551600, 1538877600, 1554606e3, 1570327200, 1586055600, 1601776800, 1617505200, 1633226400, 1648954800, 1664676e3, 1680404400, 1696125600, 1712458800, 172818e4, 1743908400, 1759629600, 1775358e3, 1791079200, 1806807600, 1822528800, 1838257200, 1853978400, 1869706800, 1886032800, 1901761200, 1917482400, 1933210800],
          offset: [33260, 32400, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800, 34200, 37800]
        },
        "Australia/ACT": {
          time: [-2364076800, -1672531140, -1665352800, -883605600, -876088800, -860364e3, -844639200, -828309600, -813189600, 57722400, 68007600, 89172e3, 100062e3, 120621600, 131511600, 152071200, 162961200, 183520800, 195015600, 215575200, 226465200, 247024800, 257914800, 278474400, 289364400, 309924e3, 320814e3, 341373600, 352263600, 372823200, 386737200, 404877600, 415767600, 436327200, 447217200, 467776800, 478666800, 499226400, 511326e3, 530071200, 542775600, 562125600, 57483e4, 59418e4, 606279600, 625629600, 636519600, 657079200, 667969200, 688528800, 699418800, 719978400, 731473200, 752032800, 762922800, 783482400, 794372400, 814932e3, 828241200, 846381600, 859690800, 877831200, 891140400, 909280800, 92259e4, 941335200, 954039600, 967341600, 985489200, 1004234400, 1017543600, 1035684e3, 1048993200, 1067133600, 1080442800, 1099188e3, 1111892400, 1130637600, 1143946800, 1162087200, 1174791600, 1193536800, 1207450800, 1223172e3, 1238900400, 1254621600, 127035e4, 1286071200, 1301799600, 1317520800, 1333249200, 1349575200, 1365303600, 1381024800, 1396753200, 1412474400, 1428202800, 1443924e3, 1459652400, 1475373600, 1491102e3, 1506823200, 1522551600, 1538877600, 1554606e3, 1570327200, 1586055600, 1601776800, 1617505200, 1633226400, 1648954800, 1664676e3, 1680404400, 1696125600, 1712458800, 172818e4, 1743908400, 1759629600, 1775358e3, 1791079200, 1806807600, 1822528800, 1838257200, 1853978400, 1869706800, 1886032800, 1901761200, 1917482400, 1933210800],
          offset: [36292, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600, 36e3, 39600]
        },
        "Asia/Almaty": {
          time: [-1441152e3, -1247529600, 354931200, 370742400, 386467200, 402278400, 418003200, 433814400, 449625600, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 695786400, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1925013600],
          offset: [18468, 18e3, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 21600, 18e3, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600, 25200, 21600]
        },
        "Asia/Ashkhabad": {
          time: [-1441152e3, -1247529600, 354931200, 370742400, 386467200, 402278400, 418003200, 433814400, 449625600, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 695786400, 192501e4],
          offset: [14012, 14400, 18e3, 21600, 18e3, 21600, 18e3, 21600, 18e3, 21600, 18e3, 21600, 18e3, 21600, 18e3, 21600, 18e3, 21600, 18e3, 21600, 18e3, 21600, 18e3, 18e3, 14400, 18e3]
        },
        "Asia/Tokyo": {
          time: [-2587678861, -683769600, -672274800, -654739200, -640825200, -620265600, -609375600, -588816e3, -577926e3, 1925024400],
          offset: [33539, 32400, 36e3, 32400, 36e3, 32400, 36e3, 32400, 36e3, 32400]
        },
        "Asia/Taipei": {
          time: [-2335219200, -1017792e3, -766191600, -745804800, -733795200, -716860800, -699580800, -683856e3, -670636800, -65232e4, -639100800, -620784e3, -607564800, -589248e3, -576028800, -562896e3, -541728e3, -528681600, -510192e3, -497145600, -478656e3, -465609600, -449798400, -433987200, -418176e3, -402451200, -38664e4, -370915200, -355104e3, -339379200, -323568e3, -302486400, -291945600, -270950400, -260409600, 134006400, 149817600, 165542400, 181353600, 299635200, 307584e3, 1925020800],
          offset: [29160, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800]
        },
        "Asia/Singapore": {
          time: [-2177452800, -2038176e3, -1167609600, -1073001600, -894153600, -879638400, -766972800, 378691200, 1925020800],
          offset: [24925, 24925, 25200, 26400, 26400, 27e3, 32400, 27e3, 28800]
        },
        "Asia/Shanghai": {
          time: [-2177452800, -933638400, -922060800, -908841600, -888796800, -881020800, -767836800, -745804800, -733795200, -716860800, -699580800, -683856e3, -670636800, -65232e4, -649987200, 515556e3, 527047200, 545191200, 558496800, 577245600, 589946400, 608695200, 622000800, 640144800, 653450400, 671594400, 6849e5, 1925020800],
          offset: [29143, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800]
        },
        "Asia/Seoul": {
          time: [-1948752e3, -1830384e3, -767318400, -498096e3, -462672e3, -451699200, -429753600, -418262400, -399513600, -387417600, -368064e3, -355968e3, -336614400, -324518400, -305164800, -293068800, -264902400, 547610400, 560919600, 57906e4, 592369200, 1925024400],
          offset: [30472, 30600, 32400, 32400, 30600, 34200, 30600, 34200, 30600, 34200, 30600, 34200, 30600, 34200, 30600, 34200, 30600, 32400, 36e3, 32400, 36e3, 32400]
        },
        "Asia/Tehran": {
          time: [-1704153600, -757382400, 247190400, 259286400, 277776e3, 283996800, 290822400, 306547200, 322444800, 338515200, 673228800, 685497600, 701222400, 71712e4, 732758400, 748656e3, 764294400, 780192e3, 795830400, 811728e3, 827366400, 843264e3, 858988800, 874886400, 890524800, 906422400, 922060800, 937958400, 953596800, 969494400, 985219200, 1001116800, 1016755200, 1032652800, 1048291200, 1064188800, 1079827200, 1095724800, 1111449600, 1127347200, 1206057600, 1221955200, 123768e4, 1253577600, 1269216e3, 1285113600, 1300752e3, 1316649600, 1332288e3, 1348185600, 1363910400, 1379808e3, 1395446400, 1411344e3, 1426982400, 144288e4, 1458518400, 1474416e3, 1490140800, 1506038400, 1521676800, 1537574400, 1553212800, 1569110400, 1584748800, 1600646400, 1616371200, 1632268800, 1647907200, 1663804800, 1679443200, 1695340800, 1710979200, 1726876800, 1742601600, 1758499200, 1774137600, 1790035200, 1805673600, 1821571200, 1837209600, 1853107200, 1868745600, 1884643200, 1900368e3, 1916265600, 1931904e3],
          offset: [12344, 12344, 12600, 14400, 18e3, 14400, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600, 16200, 12600]
        },
        "Asia/Dubai": {
          time: [-1577923200, 1925006400],
          offset: [13272, 14400]
        },
        "Asia/Kolkata": {
          time: [-3645216e3, -3155673600, -2019686400, -891561600, -872035200, -862617600, -764121600, 1925011800],
          offset: [21208, 21200, 19270, 19800, 23400, 19800, 23400, 19800]
        },
        "Asia/Hong_Kong": {
          time: [-2056665600, -907360200, -891635400, -884217600, -766713600, -747952200, -728512200, -717021e3, -694470600, -683757e3, -668032200, -654726600, -636582600, -623277e3, -605133e3, -591827400, -573683400, -559773e3, -542320200, -528323400, -510179400, -498083400, -478729800, -466633800, -446675400, -435184200, -415225800, -403129800, -383776200, -371680200, -352326600, -340230600, -320877e3, -308781e3, -288822600, -277331400, -257373e3, -245881800, -225923400, -213827400, -194473800, -182377800, -163024200, -148509e3, -132784200, -117059400, -101334600, -85609800, -69280200, -53555400, -37830600, -22105800, -6381e3, 9343800, 25068600, 40793400, 56518200, 72243e3, 88572600, 104297400, 120022200, 126070200, 151471800, 167196600, 182921400, 198646200, 214371e3, 295414200, 309324600, 1925020800],
          offset: [27402, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800]
        },
        "Asia/Bangkok": {
          time: [-2840140800, -1570060800, 1925017200],
          offset: [24124, 24124, 25200]
        },
        "Asia/Chongqing": {
          time: [-2177452800, -933638400, -922060800, -908841600, -888796800, -881020800, -767836800, -745804800, -733795200, -716860800, -699580800, -683856e3, -670636800, -65232e4, -649987200, 515556e3, 527047200, 545191200, 558496800, 577245600, 589946400, 608695200, 622000800, 640144800, 653450400, 671594400, 6849e5, 1925020800],
          offset: [29143, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800]
        },
        "Asia/Jerusalem": {
          time: [-2840140800, -1640995200, -933638400, -857347200, -844293600, -825811200, -812678400, -794188800, -779846400, -762645600, -748303200, -731116800, -681955200, -673228800, -667951200, -65232e4, -636415200, -62208e4, -608936400, -59184e4, -572475600, -558568800, -542840400, -527724e3, -514414800, -490838400, -482976e3, -459468e3, -451526400, -428544e3, -418251600, -400024800, -387417600, 142387200, 150854400, 167184e3, 178675200, 482284800, 495590400, 516758400, 526435200, 545443200, 558489600, 576633600, 589334400, 609897600, 620784e3, 638323200, 651628800, 669772800, 683683200, 701827200, 715737600, 733708800, 747187200, 765158400, 778032e3, 796608e3, 810086400, 826848e3, 842832e3, 858902400, 874195200, 890352e3, 90504e4, 923018400, 936324e3, 955677600, 970794e3, 986778e3, 1001293200, 1017363600, 1033952400, 1048813200, 1065142800, 1081299600, 1095814800, 1112320800, 1128823200, 1143770400, 1159668e3, 117522e4, 1189908e3, 1206669600, 1223172e3, 1238119200, 1254016800, 1269568800, 1284256800, 1301623200, 1317520800, 1333072800, 1348365600, 1364522400, 1382839200, 1395972e3, 1414288800, 1427421600, 1445738400, 1458871200, 1477792800, 1490320800, 1509242400, 1521770400, 1540692e3, 1553824800, 1572141600, 1585274400, 1603591200, 1616724e3, 1635645600, 1648173600, 1667095200, 1679623200, 1698544800, 1711677600, 1729994400, 1743127200, 1761444e3, 1774576800, 1792893600, 1806026400, 1824948e3, 1837476e3, 1856397600, 1868925600, 1887847200, 190098e4, 1919296800, 1932429600],
          offset: [8454, 8440, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 14400, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200]
        },
        "Asia/Kuwait": {
          time: [-719625600, 1925002800],
          offset: [11212, 10800]
        },
        "Asia/Muscat": {
          time: [-1577923200, 1925006400],
          offset: [13272, 14400]
        },
        "Asia/Qatar": {
          time: [-1577923200, 76204800, 1925002800],
          offset: [12368, 14400, 10800]
        },
        "Asia/Riyadh": {
          time: [-719625600, 1925002800],
          offset: [11212, 10800]
        },
        "Pacific/Auckland": {
          time: [-3192393600, -1330293600, -1320012e3, -1300658400, -1287352800, -1269208800, -1255903200, -1237759200, -1224453600, -1206309600, -1192399200, -117486e4, -1160949600, -1143410400, -1125871200, -1112565600, -1094421600, -1081116e3, -1062972e3, -1049666400, -1031522400, -1018216800, -1000072800, -986767200, -968018400, -955317600, -936568800, -923263200, -757382400, 152676e3, 162356400, 183520800, 195015600, 215575200, 226465200, 247024800, 257914800, 278474400, 289364400, 309924e3, 320814e3, 341373600, 352263600, 372823200, 384318e3, 404877600, 415767600, 436327200, 447217200, 467776800, 478666800, 499226400, 510116400, 530676e3, 541566e3, 562125600, 573620400, 59418e4, 60507e4, 623815200, 637729200, 655264800, 669178800, 686714400, 700628400, 718164e3, 732682800, 749613600, 764132400, 781063200, 795582e3, 812512800, 827031600, 844567200, 858481200, 876016800, 889930800, 907466400, 921985200, 938916e3, 953434800, 970365600, 984884400, 100242e4, 1016334e3, 1033869600, 1047783600, 1065319200, 1079838e3, 1096768800, 1111287600, 1128218400, 1142737200, 1159668e3, 1174186800, 1191117600, 1207450800, 1222567200, 1238900400, 1254016800, 127035e4, 1285466400, 1301799600, 1316916e3, 1333249200, 1348970400, 1365303600, 138042e4, 1396753200, 1411869600, 1428202800, 1443319200, 1459652400, 1474768800, 1491102e3, 1506218400, 1522551600, 1538272800, 1554606e3, 1569722400, 1586055600, 1601172e3, 1617505200, 1632621600, 1648954800, 1664071200, 1680404400, 1695520800, 1712458800, 1727575200, 1743908400, 1759024800, 1775358e3, 1790474400, 1806807600, 1821924e3, 1838257200, 1853373600, 1869706800, 1885428e3, 1901761200, 1916877600, 1933210800],
          offset: [41944, 41400, 45e3, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 41400, 43200, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800, 43200, 46800]
        },
        "Pacific/Chatham": {
          time: [-3192393600, -757382400, 152678700, 162359100, 183523500, 195018300, 215577900, 226467900, 247027500, 257917500, 278477100, 289367100, 309926700, 320816700, 341376300, 352266300, 372825900, 384320700, 404880300, 415770300, 436329900, 447219900, 467779500, 478669500, 499229100, 510119100, 530678700, 541568700, 562128300, 573623100, 594182700, 605072700, 623817900, 637731900, 655267500, 669181500, 686717100, 700631100, 718166700, 732685500, 749616300, 764135100, 781065900, 795584700, 812515500, 827034300, 844569900, 858483900, 876019500, 889933500, 907469100, 921987900, 938918700, 953437500, 970368300, 984887100, 1002422700, 1016336700, 1033872300, 1047786300, 1065321900, 1079840700, 1096771500, 1111290300, 1128221100, 1142739900, 1159670700, 1174189500, 1191120300, 1207453500, 1222569900, 1238903100, 1254019500, 1270352700, 1285469100, 1301802300, 1316918700, 1333251900, 1348973100, 1365306300, 1380422700, 1396755900, 1411872300, 1428205500, 1443321900, 1459655100, 1474771500, 1491104700, 1506221100, 1522554300, 1538275500, 1554608700, 1569725100, 1586058300, 1601174700, 1617507900, 1632624300, 1648957500, 1664073900, 1680407100, 1695523500, 1712461500, 1727577900, 1743911100, 1759027500, 1775360700, 1790477100, 1806810300, 1821926700, 1838259900, 1853376300, 1869709500, 1885430700, 1901763900, 1916880300, 1933213500],
          offset: [44028, 44100, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500, 45900, 49500]
        },
        "Pacific/Fakaofo": {
          time: [-2177452800, 1325203200, 1925038800],
          offset: [-41096, -39600, 46800]
        },
        "Pacific/Honolulu": {
          time: [-2334139200, -1157320800, -1155470400, -880236e3, -769429800, -765410400, -712188e3, 1924956e3],
          offset: [-37886, -37800, -34200, -37800, -34200, -34200, -37800, -36e3]
        },
        "America/Mexico_City": {
          time: [-1514763396, -1343091600, -1234828800, -1220317200, -1207180800, -1191369600, -975283200, -963187200, -917136e3, -907372800, -821923200, -810086400, -627523200, -613008e3, 828842400, 846381600, 860292e3, 877831200, 891741600, 909280800, 923191200, 941335200, 954640800, 972784800, 989114400, 1001815200, 1018144800, 1035684e3, 1049594400, 1067133600, 1081044e3, 1099188e3, 1112493600, 1130637600, 1143943200, 1162087200, 1175392800, 1193536800, 1207447200, 1224986400, 1238896800, 1256436e3, 1270346400, 1288490400, 1301796e3, 131994e4, 1333245600, 1351389600, 13653e5, 1382839200, 1396749600, 1414288800, 1428199200, 1445738400, 1459648800, 1477792800, 1491098400, 1509242400, 1522548e3, 1540692e3, 1554602400, 1572141600, 1586052e3, 1603591200, 1617501600, 1635645600, 1648951200, 1667095200, 1680400800, 1698544800, 1712455200, 1729994400, 1743904800, 1761444e3, 1775354400, 1792893600, 1806804e3, 1824948e3, 1838253600, 1856397600, 1869703200, 1887847200, 1901757600, 1919296800, 1933207200],
          offset: [-23796, -25200, -21600, -25200, -21600, -25200, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600, -18e3, -21600]
        },
        "Africa/Cairo": {
          time: [-2185401600, -929836800, -923097600, -906163200, -892857600, -875836800, -857779200, -844300800, -825811200, -812678400, -794188800, -779846400, -762652800, -399081600, -38664e4, -368323200, -355104e3, -336783600, -323643600, -305161200, -292021200, -273625200, -260485200, -242089200, -228949200, -210553200, -197413200, -178930800, -165790800, -147394800, -134254800, -115858800, -102632400, -84322800, -71096400, -52700400, -39474e3, -21164400, -7938e3, 10371600, 23598e3, 41907600, 55134e3, 7353e4, 86756400, 105066e3, 118292400, 136602e3, 149828400, 168138e3, 181364400, 199760400, 212986800, 231296400, 244522800, 262832400, 276058800, 294368400, 307594800, 325990800, 339217200, 357526800, 370753200, 396406800, 402289200, 426819600, 433825200, 452221200, 465447600, 483757200, 496983600, 515293200, 528519600, 546829200, 560055600, 578451600, 591678e3, 610419600, 623214e3, 641523600, 65475e4, 673059600, 686286e3, 704682e3, 717908400, 736218e3, 749444400, 767754e3, 780980400, 799027200, 812332800, 830476800, 843782400, 861926400, 875232e3, 893376e3, 906681600, 925430400, 938736e3, 95688e4, 970185600, 988329600, 1001635200, 1019779200, 1033084800, 1051228800, 1064534400, 1083283200, 1096588800, 1114732800, 1128038400, 1146182400, 1158883200, 1177632e3, 1189123200, 1209081600, 1219968e3, 1240531200, 1250812800, 1272585600, 1281484800, 1284076800, 1285891200, 1400198400, 1403827200, 1406851200, 1411689600, 1924999200],
          offset: [7509, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200]
        },
        "Africa/Johannesburg": {
          time: [-2458166400, -2109283200, -860968800, -845244e3, -829519200, -813794400, 1924999200],
          offset: [6720, 5400, 7200, 10800, 7200, 10800, 7200]
        },
        "Asia/Kathmandu": {
          time: [-1577923200, 504921600, 1925012700],
          offset: [20476, 19800, 20700]
        },
        "US/Mountain": {
          time: [-2717668796, -1633298400, -1615154400, -1601848800, -1583704800, -1570399200, -1551650400, -1538949600, -1534111200, -880236e3, -769417200, -765410400, -147909600, -13158e4, -11646e4, -100130400, -84405600, -68680800, -52956e3, -37231200, -21506400, -5781600, 9943200, 25668e3, 41392800, 57722400, 73447200, 89172e3, 104896800, 120621600, 126669600, 152071200, 162352800, 183520800, 199245600, 215575200, 230695200, 247024800, 262749600, 278474400, 294199200, 309924e3, 325648800, 341373600, 357098400, 372823200, 388548e3, 404877600, 419997600, 436327200, 452052e3, 467776800, 483501600, 499226400, 514951200, 530676e3, 544586400, 562125600, 576036e3, 59418e4, 607485600, 625629600, 638935200, 657079200, 670989600, 688528800, 702439200, 719978400, 733888800, 752032800, 765338400, 783482400, 796788e3, 814932e3, 828842400, 846381600, 860292e3, 877831200, 891741600, 909280800, 923191200, 941335200, 954640800, 972784800, 986090400, 1004234400, 1018144800, 1035684e3, 1049594400, 1067133600, 1081044e3, 1099188e3, 1112493600, 1130637600, 1143943200, 1162087200, 1173578400, 1194141600, 1205028e3, 1225591200, 1236477600, 1257040800, 1268532e3, 1289095200, 1299981600, 1320544800, 1331431200, 1351994400, 1362880800, 1383444e3, 1394330400, 1414893600, 142578e4, 1446343200, 1457834400, 1478397600, 1489284e3, 1509847200, 1520733600, 1541296800, 1552183200, 1572746400, 1583632800, 1604196e3, 1615687200, 1636250400, 1647136800, 16677e5, 1678586400, 1699149600, 1710036e3, 1730599200, 1741485600, 1762048800, 1772935200, 1793498400, 1804989600, 1825552800, 1836439200, 1857002400, 1867888800, 1888452e3, 1899338400, 1919901600, 1930788e3],
          offset: [-25196, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200, -21600, -25200]
        },
        "Europe/Helsinki": {
          time: [-2890252800, -1535932800, -875664e3, -859762800, 354679200, 370407600, 386128800, 401857200, 417582e3, 433310400, 449031600, 465364800, 481086e3, 496814400, 512535600, 528264e3, 543985200, 559713600, 575434800, 591163200, 606884400, 622612800, 638334e3, 654667200, 670388400, 686116800, 701838e3, 717566400, 733287600, 749016e3, 764737200, 780465600, 796186800, 811915200, 828241200, 846388800, 859690800, 877838400, 891140400, 909288e3, 92259e4, 941342400, 954039600, 972792e3, 985489200, 1004241600, 1017543600, 1035691200, 1048993200, 1067140800, 1080442800, 1099195200, 1111892400, 1130644800, 1143342e3, 1162094400, 1174791600, 1193544e3, 1206846e3, 1224993600, 1238295600, 1256443200, 1269745200, 1288497600, 1301194800, 1319947200, 1332644400, 1351396800, 1364698800, 1382846400, 1396148400, 1414296e3, 1427598e3, 1445745600, 1459047600, 14778e5, 1490497200, 1509249600, 1521946800, 1540699200, 1554001200, 1572148800, 1585450800, 1603598400, 1616900400, 1635652800, 164835e4, 1667102400, 1679799600, 1698552e3, 1711854e3, 1730001600, 1743303600, 1761451200, 1774753200, 1792900800, 1806202800, 1824955200, 1837652400, 1856404800, 1869102e3, 1887854400, 1901156400, 1919304e3, 1932606e3],
          offset: [5989, 5989, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200]
        },
        "Europe/Stockholm": {
          time: [-2871676800, -2208988800, -1692493200, -1680476400, 323834400, 338958e3, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [4332, 3614, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Europe/Copenhagen": {
          time: [-2524521600, -2398291200, -1692493200, -1680483600, -935107200, -85725e4, -844552800, -828219600, -812498400, -79677e4, -781048800, -769381200, -747007200, -736376400, -715212e3, -706741200, -683157600, -675291600, 323834400, 338958e3, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [3020, 3020, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        },
        "Atlantic/Reykjavik": {
          time: [-1956614400, -1668214800, -1647212400, -1636678800, -161343e4, -1605142800, -1581894e3, -1539565200, -153135e4, -968029200, -952293600, -942012e3, -920239200, -909961200, -888789600, -877906800, -857944800, -846457200, -826495200, -815007600, -795045600, -783558e3, -762991200, -752108400, -731541600, -717634800, -700092e3, -686185200, -668642400, -654735600, -636588e3, -623286e3, -605743200, -591836400, -573688800, -559782e3, -542239200, -528332400, -510789600, -496882800, -47934e4, -465433200, -447890400, -433983600, -415836e3, -401929200, -384386400, -370479600, -352936800, -33903e4, -321487200, -307580400, -290037600, -276130800, -258588e3, -244681200, -226533600, -212626800, -195084e3, -181177200, -163634400, -149727600, -132184800, -118278e3, -100735200, -86828400, -68680800, -54774e3, 1924992e3],
          offset: [-5280, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0, -3600, 0]
        },
        "Europe/Tallinn": {
          time: [-2840140800, -1638316800, -1632002400, -1618693200, -1593820800, -1535932800, -927936e3, -892944e3, -85725e4, -844552800, -828219600, -812498400, -797644800, 354931200, 370742400, 386467200, 402278400, 418003200, 433814400, 449625600, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909288e3, 92259e4, 941342400, 1017543600, 1035691200, 1048993200, 1067140800, 1080442800, 1099195200, 1111892400, 1130644800, 1143342e3, 1162094400, 1174791600, 1193544e3, 1206846e3, 1224993600, 1238295600, 1256443200, 1269745200, 1288497600, 1301194800, 1319947200, 1332644400, 1351396800, 1364698800, 1382846400, 1396148400, 1414296e3, 1427598e3, 1445745600, 1459047600, 14778e5, 1490497200, 1509249600, 1521946800, 1540699200, 1554001200, 1572148800, 1585450800, 1603598400, 1616900400, 1635652800, 164835e4, 1667102400, 1679799600, 1698552e3, 1711854e3, 1730001600, 1743303600, 1761451200, 1774753200, 1792900800, 1806202800, 1824955200, 1837652400, 1856404800, 1869102e3, 1887854400, 1901156400, 1919304e3, 1932606e3],
          offset: [5940, 5940, 3600, 7200, 3600, 5940, 7200, 10800, 7200, 3600, 7200, 3600, 7200, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200]
        },
        "Europe/Riga": {
          time: [-2840140800, -1632002400, -1618693200, -1601676e3, -1597266e3, -1377302400, -928022400, -899510400, -85725e4, -844552800, -828219600, -812498400, -79677e4, -795830400, 354931200, 370742400, 386467200, 402278400, 418003200, 433814400, 449625600, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 843966e3, 859690800, 877838400, 891140400, 909288e3, 92259e4, 941342400, 985489200, 1004241600, 1017543600, 1035691200, 1048993200, 1067140800, 1080442800, 1099195200, 1111892400, 1130644800, 1143342e3, 1162094400, 1174791600, 1193544e3, 1206846e3, 1224993600, 1238295600, 1256443200, 1269745200, 1288497600, 1301194800, 1319947200, 1332644400, 1351396800, 1364698800, 1382846400, 1396148400, 1414296e3, 1427598e3, 1445745600, 1459047600, 14778e5, 1490497200, 1509249600, 1521946800, 1540699200, 1554001200, 1572148800, 1585450800, 1603598400, 1616900400, 1635652800, 164835e4, 1667102400, 1679799600, 1698552e3, 1711854e3, 1730001600, 1743303600, 1761451200, 1774753200, 1792900800, 1806202800, 1824955200, 1837652400, 1856404800, 1869102e3, 1887854400, 1901156400, 1919304e3, 1932606e3],
          offset: [5794, 5794, 9394, 5794, 9394, 5794, 7200, 10800, 7200, 3600, 7200, 3600, 7200, 3600, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200]
        },
        "Europe/Vilnius": {
          time: [-2840140800, -1672531200, -1585094400, -1561248e3, -1553558400, -928195200, -900115200, -85725e4, -844552800, -828219600, -812498400, -802137600, 354931200, 370742400, 386467200, 402278400, 418003200, 433814400, 449625600, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891140400, 909284400, 922586400, 941338800, 1048993200, 1067140800, 1080442800, 1099195200, 1111892400, 1130644800, 1143342e3, 1162094400, 1174791600, 1193544e3, 1206846e3, 1224993600, 1238295600, 1256443200, 1269745200, 1288497600, 1301194800, 1319947200, 1332644400, 1351396800, 1364698800, 1382846400, 1396148400, 1414296e3, 1427598e3, 1445745600, 1459047600, 14778e5, 1490497200, 1509249600, 1521946800, 1540699200, 1554001200, 1572148800, 1585450800, 1603598400, 1616900400, 1635652800, 164835e4, 1667102400, 1679799600, 1698552e3, 1711854e3, 1730001600, 1743303600, 1761451200, 1774753200, 1792900800, 1806202800, 1824955200, 1837652400, 1856404800, 1869102e3, 1887854400, 1901156400, 1919304e3, 1932606e3],
          offset: [6076, 5040, 5736, 3600, 7200, 3600, 10800, 7200, 3600, 7200, 3600, 7200, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 14400, 10800, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 7200, 3600, 7200, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200, 10800, 7200]
        },
        "America/Lima": {
          time: [-2524521600, -1938556800, -1009843200, -1002067200, -986774400, -971049600, -955324800, -9396e5, 504921600, 512697600, 536457600, 544233600, 631152e3, 638928e3, 757382400, 765158400, 1924974e3],
          offset: [-18492, -18516, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3]
        },
        "America/Santiago": {
          time: [-2524521600, -1892678400, -1688428800, -1619222400, -1593820800, -1336003200, -13176e5, -1304380800, -1286064e3, -1272844800, -1254528e3, -1241308800, -1222992e3, -1209772800, -1191369600, -1178150400, -870566400, -865296e3, -740534400, -736387200, -718070400, -713667600, -36633600, -23932800, -3369600, 7516800, 24451200, 37756800, 55900800, 69206400, 87955200, 100656e3, 118195200, 132105600, 150854400, 163555200, 182304e3, 195609600, 213753600, 227059200, 245203200, 258508800, 277257600, 289958400, 308707200, 321408e3, 340156800, 353462400, 371606400, 384912e3, 403056e3, 416361600, 434505600, 447811200, 46656e4, 479260800, 498009600, 510710400, 529459200, 545184e3, 560908800, 574214400, 592358400, 605664e3, 624412800, 637113600, 653443200, 668563200, 687312e3, 700617600, 718761600, 732067200, 750211200, 763516800, 781660800, 794966400, 813715200, 826416e3, 845164800, 85968e4, 876614400, 88992e4, 906854400, 923184e3, 939513600, 952819200, 971568e3, 984268800, 1003017600, 1015718400, 1034467200, 1047168e3, 1065916800, 1079222400, 1097366400, 1110672e3, 1128816e3, 1142121600, 1160870400, 1173571200, 119232e4, 1206835200, 1223769600, 1237075200, 1255219200, 1270339200, 1286668800, 1304812800, 1313884800, 1335657600, 1346544e3, 1367107200, 1378598400, 1398556800, 1410048e3, 1463270400, 1471132800, 149472e4, 1502582400, 1526169600, 1534032e3, 1554595200, 1567900800, 1586044800, 1599350400, 1617494400, 16308e5, 1648944e3, 1662249600, 1680393600, 1693699200, 1712448e3, 1725753600, 1743897600, 1757203200, 1775347200, 1788652800, 1806796800, 1820102400, 1838246400, 1851552e3, 1870300800, 1883001600, 1901750400, 1915056e3, 19332e5],
          offset: [-16966, -16966, -18e3, -16966, -14400, -16966, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -18e3, -14400, -10800, -14400, -18e3, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800, -14400, -10800]
        },
        "Asia/Bahrain": {
          time: [-1577923200, 76204800, 1925002800],
          offset: [12368, 14400, 10800]
        },
        "Asia/Jakarta": {
          time: [-3231273600, -1451693568, -117288e4, -876614400, -766022400, -683856e3, -620784e3, -189388800, 1925017200],
          offset: [25632, 25632, 26400, 27e3, 32400, 27e3, 28800, 27e3, 25200]
        },
        "Africa/Lagos": {
          time: [-1588464e3, 1924995600],
          offset: [816, 3600]
        },
        "Pacific/Norfolk": {
          time: [-2177452800, -599616e3, 152071200, 162957600, 1443924e3, 1925031600],
          offset: [40312, 40320, 41400, 45e3, 41400, 39600]
        },
        "America/Juneau": {
          time: [-3225169588, -2188987200, -880236e3, -769420800, -765410400, -21506400, -5781600, 9943200, 25668e3, 41392800, 57722400, 73447200, 89172e3, 104896800, 120621600, 126669600, 152071200, 162352800, 183520800, 199245600, 215575200, 230695200, 247024800, 262749600, 278474400, 294199200, 309924e3, 325648800, 341373600, 357098400, 372823200, 388548e3, 404877600, 419997600, 436327200, 438998400, 452052e3, 467776800, 483501600, 499226400, 514951200, 530676e3, 544586400, 562125600, 576036e3, 59418e4, 607485600, 625629600, 638935200, 657079200, 670989600, 688528800, 702439200, 719978400, 733888800, 752032800, 765338400, 783482400, 796788e3, 814932e3, 828842400, 846381600, 860292e3, 877831200, 891741600, 909280800, 923191200, 941335200, 954640800, 972784800, 986090400, 1004234400, 1018144800, 1035684e3, 1049594400, 1067133600, 1081044e3, 1099188e3, 1112493600, 1130637600, 1143943200, 1162087200, 1173578400, 1194141600, 1205028e3, 1225591200, 1236477600, 1257040800, 1268532e3, 1289095200, 1299981600, 1320544800, 1331431200, 1351994400, 1362880800, 1383444e3, 1394330400, 1414893600, 142578e4, 1446343200, 1457834400, 1478397600, 1489284e3, 1509847200, 1520733600, 1541296800, 1552183200, 1572746400, 1583632800, 1604196e3, 1615687200, 1636250400, 1647136800, 16677e5, 1678586400, 1699149600, 1710036e3, 1730599200, 1741485600, 1762048800, 1772935200, 1793498400, 1804989600, 1825552800, 1836439200, 1857002400, 1867888800, 1888452e3, 1899338400, 1919901600, 1930788e3],
          offset: [54139, -32261, -28800, -25200, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -25200, -28800, -28800, -28800, -25200, -28800, -25200, -28800, -25200, -32400, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400, -28800, -32400]
        },
        "Asia/Ho_Chi_Minh": {
          time: [-2004048e3, -1851552e3, -852080400, -782614800, -767836800, -718070400, -457747200, -315622800, 171849600, 1925017200],
          offset: [25600, 25590, 25200, 28800, 32400, 25200, 28800, 25200, 28800, 25200]
        },
        "Australia/Perth": {
          time: [-2337897600, -1672531140, -1665352800, -883605600, -876088800, -860364e3, -844639200, 152071200, 162961200, 436327200, 447217200, 690343200, 699418800, 1165111200, 1174791600, 1193536800, 1206846e3, 1224986400, 1238295600, 1925020800],
          offset: [27804, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800, 32400, 28800]
        },
        "Europe/Oslo": {
          time: [-2366755200, -1691881200, -1680566400, -927507600, -85725e4, -844552800, -828219600, -812498400, -79677e4, -781048800, -765320400, -340840800, -324507600, -308786400, -293058e3, -277336800, -261608400, -245887200, -230158800, -214437600, -198709200, -182988e3, -166654800, -147909600, -135205200, 323834400, 338958e3, 354679200, 370407600, 386128800, 401857200, 417578400, 433306800, 449028e3, 465361200, 481082400, 496810800, 512532e3, 528260400, 543981600, 55971e4, 575431200, 591159600, 606880800, 622609200, 638330400, 654663600, 670384800, 686113200, 701834400, 717562800, 733284e3, 749012400, 764733600, 780462e3, 796183200, 811911600, 828237600, 846385200, 859687200, 877834800, 891136800, 909284400, 922586400, 941338800, 954036e3, 972788400, 985485600, 1004238e3, 101754e4, 1035687600, 1048989600, 1067137200, 1080439200, 1099191600, 1111888800, 1130641200, 1143338400, 1162090800, 1174788e3, 1193540400, 1206842400, 122499e4, 1238292e3, 1256439600, 1269741600, 1288494e3, 1301191200, 1319943600, 1332640800, 1351393200, 1364695200, 1382842800, 1396144800, 1414292400, 1427594400, 1445742e3, 1459044e3, 1477796400, 1490493600, 1509246e3, 1521943200, 1540695600, 1553997600, 1572145200, 1585447200, 1603594800, 1616896800, 1635649200, 1648346400, 1667098800, 1679796e3, 1698548400, 1711850400, 1729998e3, 17433e5, 1761447600, 1774749600, 1792897200, 1806199200, 1824951600, 1837648800, 1856401200, 1869098400, 1887850800, 1901152800, 1919300400, 1932602400],
          offset: [2580, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600, 7200, 3600]
        }
      }
    },
    "3mf1": function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "availableIcons", function () {
        return n
      });
      var n = function () {
        var e, t, i = [];
        for (e = (i = (i = (i = (i = i.concat([61536, 61537, 61538, 61539])).concat([61725, 61726])).concat([61575, 61576, 61796, 61797])).concat([61779, 61780, 61781, 61782, 61783, 61784, 61785, 61786])).slice(0), t = 61440; t <= 61846; t++) - 1 === i.indexOf(t) && (t % 16 == 15 && 61487 !== t || t >= 61620 && t <= 61630 || 61718 !== t && 61719 !== t && 61472 !== t && 61619 !== t && e.push(t));
        return e
      }()
    },
    "3u3j": function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.d(t, "a", function () {
        return s
      }), n = i("mrSG"), o = i("Eyy1"), r = i("RDU5"), s = function (e) {
        function t(t, i, n) {
          var r, s, a = e.call(this, n) || this;
          return a._chartModel = t, a._sourceId = i.id(), r = Object(o.ensureNotNull)(i.priceScale()), a._initialPriceScaleId = r.id(), s = Object(o.ensureNotNull)(t.paneForSource(i)), a._initialPriceScalePosition = s.priceScalePosition(r), a._initialPriceScaleIndex = s.priceScaleIndex(r, a._initialPriceScalePosition), a._initialPaneIndex = t.panes().indexOf(s), a
        }
        return n.__extends(t, e), t
      }(r.UndoCommand)
    },
    "4BMm": function (e, t) {
      function i(e, t) {
        var i = {};
        return e ? (Object.keys(e).forEach(function (n) {
          var o = t(n),
            r = e[n];
          i[o] = r
        }), i) : e
      }
      var n = {
          active: "active",
          aid: "alertId",
          alerts: "alerts",
          bar_time: "barTime",
          create_t: "createTime",
          cross_int: "crossInterval",
          deact: "autoDeactivation",
          desc: "description",
          email: "sendEmail",
          error: "error",
          events: "events",
          exp: "expired",
          fire_time: "fireTime",
          inc_cross_int: "includeCrossInterval",
          inf_exp: "noExpiration",
          internal_sym: "symbolInternal",
          popup: "showPopup",
          reason: "reason",
          res: "resolution",
          reset_fc: "resetFireControl",
          script_deps: "scriptDeps",
          script: "script",
          sms: "sendSms",
          true_sms: "sendTrueSms",
          snd: "playSound",
          push: "sendPush",
          snd_duration: "soundDuration",
          snd_file: "soundFile",
          sort_by: "sortBy",
          sort_dir: "sortDirection",
          start_t: "startTime",
          stop_t: "stopTime",
          stop: "stopReason",
          sym: "symbol",
          val: "firePrice"
        },
        o = function () {
          var e = {};
          return Object.keys(n).forEach(function (t) {
            var i = n[t];
            e[i] = t
          }), e
        }();
      t.server2clientParams = function (e) {
        return i(e, function (e) {
          return n[e] || e
        })
      }, t.client2serverParams = function (e) {
        return i(e, function (e) {
          return o[e] || e
        })
      }
    },
    "4I9c": function (e, t) {
      e.exports = function (e, t, i, n, o) {
        _gaq.push(["_trackTiming", e, t, i, n, o])
      }
    },
    "4QoS": function (e, t, i) {
      "use strict";

      function n(e, t, i, n) {
        return void 0 === n && (n = {}), r.__awaiter(this, void 0, void 0, function () {
          var s, a, l, c, u, h, d;
          return r.__generator(this, function (r) {
            if (s = new FormData, void 0 !== n.previews)
              for (a = 0, l = n.previews; a < l.length; a++) c = l[a], s.append("previews[]", c);
            return void 0 !== n.cme && s.append("cme", String(n.cme)), void 0 !== n.wl && s.append("wl", String(n.wl)), void 0 !== n.onWidget && s.append("onWidget", String(n.onWidget)), n.isReport && s.append("isReport", String(n.isReport)), (u = window.urlParams) && u.locale && s.append("language", u.locale), h = e.activeChartWidget.value(), void 0 !== (d = h.widgetCustomer()) && s.append("customer", d), s.append("timezone", h.properties().timezone.value()), s.append("images", JSON.stringify(e.images())), o(s, t, i, n), [2]
          })
        })
      }

      function o(e, t, n, o) {
        return void 0 === o && (o = {}), r.__awaiter(this, void 0, void 0, function () {
          var c, u, h, d;
          return r.__generator(this, function (r) {
            switch (r.label) {
              case 0:
                c = s.enabled("charting_library_base") ? o.snapshotUrl || "https://www.tradingview.com/snapshot/" : "/snapshot/", r.label = 1;
              case 1:
                return r.trys.push([1, 4, , 5]), [4, Object(l.fetch)(c, {
                  body: e,
                  method: "POST",
                  credentials: "same-origin"
                })];
              case 2:
                return [4, (u = r.sent()).text()];
              case 3:
                if (h = r.sent(), u.ok) t(h);
                else {
                  if ("suspicious_chart_snapshots_error" === h) return d = window.t("Snapshot seems to contain prohibited content. Please contact {start_link}our support team{end_link} if you have received this by mistake.").format({
                    start_link: '<a class="tv-dialog__link js-send-report-link" href="#" data-issue-type="other">',
                    end_link: "</a>"
                  }), o.onInvalidSnapshotImage && o.onInvalidSnapshotImage(), [2, Object(a.createErrorDialog)({
                    title: window.t("Your snapshot was flagged as suspicious"),
                    content: d,
                    actions: [{
                      key: 13,
                      method: "close",
                      name: "cancel",
                      text: window.t("OK"),
                      type: "danger"
                    }]
                  }).then(function (e) {
                    e.on("afterOpen", function () {
                      i.e("bug-dialog-creation-handler").then(function (t) {
                        (0, i("Kds2").bugDialogCreationHandler)(),
                        e.$el.find(".js-send-report-link").click(function () {
                          e.close()
                        })
                      }.bind(null, i)).catch(void 0)
                    }), e.open()
                  })];
                  n()
                }
                return [3, 5];
              case 4:
                return r.sent(), n(), [3, 5];
              case 5:
                return [2]
            }
          })
        })
      }
      var r, s, a, l;
      i.r(t), i.d(t, "takeChartSnapshot", function () {
        return n
      }), i.d(t, "makeSnapshotRequest", function () {
        return o
      }), r = i("mrSG"), i("HbRj"), i("YFKU"), s = i("Kxc7"), a = i("Gvuy"), l = i("BHQF")
    },
    "4TVt": function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "LineToolPriceAxisView", function () {
        return s
      }), n = i("mrSG"), o = i("Eyy1"), r = i("KcY8"), s = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._activeBackground = "#0F6DBF", n._background = "#5592C9", n._active = !1, n._source = t, n._data = i, n
        }
        return n.__extends(t, e), t.prototype.setActive = function (e) {
          this._active = e
        }, t.prototype.setBackground = function (e) {
          this._background = e
        }, t.prototype._updateRendererData = function (e, t, i) {
          var n, o, r, s, a, l, c, u;
          e.visible = !1, (n = this._source.model()).timeScale() && !n.timeScale().isEmpty() && (null === (o = this._source.priceScale()) || o.isEmpty() || (n.selection().isSelected(this._source) || this._source.isForcedDrawPriceAxisLabel()) && null !== n.timeScale().visibleBarsStrictRange() && (r = this._source.axisPoints(), s = this._data.pointIndex, r.length <= s || (a = r[s], isFinite(a.price) && null !== (c = null !== (l = this._source.ownerSource()) ? l.firstValue() : null) && (u = this._active ? this._activeBackground : this._background, this._data.backgroundProperty && (u = this._data.backgroundProperty.value()), i.background = u, i.borderColor = "#2E84A6", i.color = this.generateTextColor(u), i.coordinate = o.priceToCoordinate(a.price, c), e.text = this._formatPrice(a.price, c), e.visible = !0))))
        }, t.prototype._formatPrice = function (e, t) {
          return Object(o.ensureNotNull)(this._source.priceScale()).formatPrice(e, t)
        }, t
      }(r.a)
    },
    "4bfY": function (e, t, i) {
      "use strict";

      function n() {
        a.call(this)
      }

      function o(e, t) {
        this._constructor = "LineToolFibCircles";
        var s = t || o.createProperties();
        r.call(this, e, s), e._fibCirclesLabelsCache || (e._fibCirclesLabelsCache = new n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("FzRY").FibCirclesPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("Ss5c").LineDataSource,
        s = i("5rJj"),
        a = i("xUGI"),
        l = i("hayr").propertyPages;
      inherit(n, a), n.prototype.levelsCount = function () {
        return o.LevelsCount
      }, inherit(o, r), o.LevelsCount = 11, o.prototype.levelsCount = function () {
        return o.LevelsCount
      }, o.prototype.pointsCount = function () {
        return 2
      }, o.prototype.title = function () {
        return "Fib Circles"
      }, o.prototype.name = function () {
        return "Fib Circles"
      }, o.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, o.prototype.getStylesPropertyPage = function () {
        return l.LineToolFibCirclesStylesPropertyPage
      }, o.createProperties = function (e) {
        var t = new s("linetoolfibcircles", e, !1, {
          range: [1, 11]
        });
        return o._configureProperties(t), t
      }, o._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineToolFibCircles = o
    },
    "4kQX": function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "TimeFormatter", function () {
        return o
      }), n = i("kcTO"), o = function () {
        function e(e) {
          this._formatStr = e || "%h:%m:%s"
        }
        return e.prototype.format = function (e) {
          return n.customFormatters.timeFormatter ? n.customFormatters.timeFormatter.format(e) : this._formatStr.replace("%h", Object(n.numberToStringWithLeadingZero)(e.getUTCHours(), 2)).replace("%m", Object(n.numberToStringWithLeadingZero)(e.getUTCMinutes(), 2)).replace("%s", Object(n.numberToStringWithLeadingZero)(e.getUTCSeconds(), 2))
        }, e.prototype.formatLocal = function (e) {
          return n.customFormatters.timeFormatter ? n.customFormatters.timeFormatter.formatLocal ? n.customFormatters.timeFormatter.formatLocal(e) : n.customFormatters.timeFormatter.format(e) : this._formatStr.replace("%h", Object(n.numberToStringWithLeadingZero)(e.getHours(), 2)).replace("%m", Object(n.numberToStringWithLeadingZero)(e.getMinutes(), 2)).replace("%s", Object(n.numberToStringWithLeadingZero)(e.getSeconds(), 2))
        }, e
      }()
    },
    "4miz": function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "DataWindowItem", function () {
        return n
      }), i.d(t, "DataWindowView", function () {
        return o
      }), n = function () {
        function e(e, t) {
          this._visible = !0, this._title = e, this._value = t
        }
        return e.prototype.title = function () {
          return this._title
        }, e.prototype.setTitle = function (e) {
          this._title = e
        }, e.prototype.text = function () {
          return this._value
        }, e.prototype.value = function () {
          return this._value
        }, e.prototype.setValue = function (e) {
          this._value = e
        }, e.prototype.visible = function () {
          return this._visible
        }, e.prototype.setVisible = function (e) {
          this._visible = e
        }, e.prototype.color = function () {
          return this._color
        }, e.prototype.setColor = function (e) {
          this._color = e
        }, e
      }(), o = function () {
        function e() {
          this._items = [], this._header = "", this._title = ""
        }
        return e.prototype.header = function () {
          return this._header
        }, e.prototype.title = function () {
          return this._title
        }, e.prototype.items = function () {
          return this._items
        }, e.prototype.update = function () {}, e
      }()
    },
    "4o++": function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "MagnetMode", function () {
          return n
        }),
        function (e) {
          e[e.WeakMagnet = 0] = "WeakMagnet", e[e.StrongMagnet = 1] = "StrongMagnet"
        }(n || (n = {}))
    },
    "4pku": function (e, t, i) {
      "use strict";
      (function (t) {
        var n, o, r, s, a, l, c;
        i("HbRj"), n = i("/ELx"), o = i("sDvb"), r = i("OKab").FormattersSerializer, s = i("nzS3").AlertFrequency, a = i("pPtI").getServerInterval, l = i("PJXJ").ensureDurationInSeconds, c = n.extend({
          constructor: function (e, i) {
            var r = {};
            ["autoDeactivation", "frequency", "extra", "crossInterval"].forEach(function (t) {
              e.hasOwnProperty(t) && (r[t] = e[t], delete e[t])
            }), t.isEmpty(r) || (this.__delayedInitAttrs = r), e.version = e.version || o.VERSION, n.call(this, e, i), this.frequency = new s(this)
          },
          initialize: function () {
            function e(e) {
              t.set("crossInterval", !!e)
            }
            var t = this;
            this.on("change:extra", function (t, i, n) {
                i && (i.crossInterval.unsubscribe(e), i.crossInterval.subscribe(e), t.set("crossInterval", i.crossInterval.value()))
              }).on("change:crossInterval", function (e, t, i) {
                var n = e.get("extra");
                t ? e.set("resolution", "1") : n && n.mainSeries() && e.set("resolution", n.mainSeries().interval)
              }).on("destroy", function () {
                TVSettings.remove(t.TVSettingsPropertiesKey(t.id))
              }), this.id === parseInt(TVSettings.getValue("alerts.widget.selected_alert_id", 0)) && this.set("selected", !0),
              this.__delayedInitAttrs && (this.set(this.__delayedInitAttrs), delete this.__delayedInitAttrs)
          },
          set: function (e, t, i) {
            var o;
            return i = i || {}, null == e ? this : i.noPrepare ? n.prototype.set.call(this, e, t, i) : ("object" == typeof e ? (o = e, i = t) : (o = {})[e] = t, o = this._prepareToSet(o), n.prototype.set.call(this, o, i))
          },
          _prepareToSet_soundDuration: function (e) {
            e = parseInt(e);
            return isNaN(e) && (e = 0), l(e)
          },
          _prepareToSet_expired: function (e) {
            return e instanceof Date ? e : new Date(1e3 * e)
          },
          _prepareToSet_extra: function (e) {
            var t = this.get("extra"),
              i = t && e,
              n = e && !(e instanceof o);
            return i ? e = t.update(e) : n ? (e = new o(e), this.set("scriptDeps", e.getDependencies())) : e || (e = null), e
          },
          _prepareToSet_symbolInternal: function (e) {
            if (e) return e
          },
          isPrice: function () {
            return null !== (this.get("extra") ? this.get("extra").price() : null)
          },
          isDrawing: function () {
            return !(!this.get("extra") || !this.get("extra").drawing())
          },
          isMoving: function () {
            return this.get("extra") && "moving" === (this.get("extra").conditionData() || {}).type
          },
          isOHLC: function () {
            var e = this.get("extra");
            if (e && e.alertSeries()) return "MainSeries" === e.alertSeries().type
          },
          isRangeBasedStyle: function () {
            var e = this.get("extra"),
              t = e && e.getMainSeries();
            return !(!t || "MainSeries" !== t.type() || !t.isRangeBasedStyle())
          },
          isComplexSymbol: function () {
            var e = this.get("symbolInternal");
            return e !== this.get("symbol") && e
          },
          isPine: function () {
            var e = this.get("extra"),
              t = e && e.alertSeries();
            return t && t.alerts
          },
          expiredReadable: function () {
            return this._formatDate(this.get("expired"))
          },
          expiredUnix: function () {
            return Math.round(this.get("expired").getTime() / 1e3)
          },
          defaultDescription: function () {
            function e(e) {
              return e.getPlots() && e.getPlots().length > 1
            }
            var t, i, n, o, r, s, a, l, c = this.get("extra"),
              u = c.conditionData(),
              h = c.getAlertSeries();
            switch (u.type) {
              case "pine_script":
                return u.message;
              case "comparison":
                u.isChannel ? (i = c.getUpperBand(), n = c.getLowerBand(), t = "(" + $.t("Upper Bound: __alertChannelUpperBoundaryTitle__ , Lower Bound: __alertChannelLowerBoundaryTitle__", {
                  alertChannelUpperBoundaryTitle: i.title({
                    withPlotTitle: e(i),
                    formatter: this.getFormatter()
                  }),
                  alertChannelLowerBoundaryTitle: n.title({
                    withPlotTitle: e(n),
                    formatter: this.getFormatter()
                  })
                }) + ")") : t = (o = c.getBand()).title({
                  withPlotTitle: e(o),
                  formatter: this.getFormatter()
                });
                break;
              case "moving":
                t = u.percents ? c.movingValue() + "% " + $.t("in __period__ bars", {
                  period: c.movingPeriod()
                }) : ((r = this.getFormatter()) ? r.format(c.movingValue()) : c.movingValue()) + " " + $.t("in __period__ bars", {
                  period: c.movingPeriod()
                })
            }
            return s = u.descriptionTitle || u.title, l = (a = (c = this.get("extra")) && c.getMainSeries()) && a.title({
              withInterval: !this.get("crossInterval")
            }) || this.shortSymbol(), "MainSeries" === h.type() ? window.t("{alertSeries} {alertCondition} {alertConditionOptions}").format({
              alertSeries: l,
              alertCondition: s,
              alertConditionOptions: t
            }) : window.t("__alertSeries__ __alertCondition__ __alertConditionOptions__ on __chartSeries__", {
              alertSeries: h.title(),
              chartSeries: l,
              alertCondition: s,
              alertConditionOptions: t
            })
          },
          setDefaultDescription: function () {
            this.set("description", this.defaultDescription())
          },
          statusTitle: function () {
            var e = "",
              t = this.get("stopReason") || "",
              i = this.get("error"),
              n = {
                drawing_is_expired: $.t("Drawing Outdated")
              };
            return this.get("active") ? e = $.t("Active") : "error" === t && n[i] ? e = n[i] : (e = {
              auto: window.t("Triggered and Not Active"),
              error: window.t("Error"),
              expired: window.t("Expired"),
              fire_control: window.t("Paused"),
              manual: window.t("Stopped Manually")
            } [String(t)] || window.t("Stopped"), "error" === t && i && (e += i)), e
          },
          state: function () {
            return this.toJSON()
          },
          toJSON: function () {
            var e, t, i = {};
            for (e in this.attributes) this.attributes.hasOwnProperty(e) && (t = this.attributes[e], i[e] = t && "function" == typeof t.toJSON ? t.toJSON() : t);
            return i.expired && (i.expired = this.expiredUnix()), i
          },
          prepareToSend: function () {
            var e, t, i, n = this.toJSON(),
              o = ["id", "crossInterval", "autoDeactivation", "description", "sendEmail", "expired", "extra", "showPopup", "resolution", "script", "scriptDeps", "sendSms", "sendTrueSms", "sendPush", "playSound", "soundDuration", "soundFile", "symbol", "noExpiration", "symbolInternal"],
              r = {};
            for (i = o.length - 1; i >= 0; i--) void 0 !== (t = n[e = o[i]]) && (r[e] = t), "resolution" === e && (r[e] = a(t));
            return r.playSound || (delete r.soundDuration, delete r.soundFile), r.extra && (r.extra = JSON.stringify(r.extra)), r
          },
          saveState: function () {
            this._oldState = this.state()
          },
          restoreState: function (e, t) {
            !(e = e || this._oldState || {}).extra || e.extra instanceof o || (e.extra = new o(e.extra), e.scriptDeps = e.extra.getDependencies()), this.set(e), t || delete this._oldState
          },
          getSavedState: function () {
            var e;
            return this._oldState && (e = $.extend({}, this._oldState)).extra && (e.extra = new o(e.extra), e.scriptDeps = e.extra.getDependencies()), e
          },
          TVSettingsPropertiesKey: function () {
            return e = this.id, "chartproperties.alertsProperties." + (e = parseInt(e));
            var e
          },
          getFormatter: function () {
            var e, t = this.get("extra");
            return t && (e = t.alertSeries()).formatter ? r.deserialize(e.formatter) : null
          }
        }), e.exports = c
      }).call(this, i("F/us"))
    },
    "4u8j": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolGannFan";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("ZJWf").GannFanPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("5rJj"),
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Gann Fan"
      }, n.prototype.name = function () {
        return "Gann Fan"
      }, n.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolGannFanStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolgannfan", e, !1, {
          range: [1, 9]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolGannFan = n
    },
    "5/lF": function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        this._textSizeCache = t, this._data = e, this._fontSize = e.fontsize ? e.fontsize : e.fontSize ? e.fontSize : 12, this._lineSpacing = "number" == typeof this._data.lineSpacing && this._data.lineSpacing ? this._data.lineSpacing : 0,
          e.lines = this._lines = c.prototype.wordWrap.call(this, e.text, e.wordWrapWidth), this._hittest = i || new u(u.MOVEPOINT)
      }
      var o, r = i("aO4+"),
        s = r.Point,
        a = r.box,
        l = i("f6yo").pointInBox,
        c = i("qgcf").TextRenderer,
        u = i("VdBB").HitTestResult,
        h = i("jFln").drawRoundRect,
        d = {
          priceRange: {
            width: 15,
            height: 14,
            data: [134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255]
          },
          barsRange: {
            width: 16,
            height: 15,
            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 136, 136, 136, 56, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 136, 136, 136, 56, 134, 134, 138, 255, 134, 134, 138, 255, 136, 136, 136, 56, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 136, 136, 136, 56, 134, 134, 138, 255, 134, 134, 138, 255, 136, 136, 136, 56, 134, 134, 138, 255, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 134, 134, 138, 255, 136, 136, 136, 56, 134, 134, 138, 255, 134, 134, 138, 255, 136, 136, 136, 56, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 136, 136, 136, 56, 134, 134, 138, 255, 134, 134, 138, 255, 137, 137, 137, 74, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 137, 137, 137, 74, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
          },
          angle: {
            width: 14,
            height: 12,
            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 130, 130, 134, 76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255, 134, 134, 138, 255]
          }
        };
      n.prototype._preRender = function () {
        var e, t, i, n, r, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w;
        if (!this._preRendered) {
          var P;
          if (o || ((P = document.createElement("canvas")).width = 0, P.height = 0, o = P.getContext("2d"), P = null), t = e = this._data.points[0].x + (this._data.offsetX || 0), n = i = this._data.points[0].y + (this._data.offsetY || 0), c = ((r = this._fontSize) + (l = this._lineSpacing)) * this._lines.length - l, o.textBaseline = "top", o.font = this.fontStyle(), u = [], this._data.wordWrapWidth)
            for (h = this._data.wordWrapWidth, d = 0; d < this._lines.length; d++) u.push(this._data.wordWrapWidth);
          else
            for (h = 0, d = 0; d < this._lines.length; d++) p = o.measureText(this._lines[d]).width, u.push(p), h = Math.max(h, p);
          if (this._data.backgroundColor || this._data.borderColor || this._data.highlightBorder && this._data.wordWrapWidth) {
            for (d in f = {
                top: this._data.paddingTop || 0,
                right: this._data.paddingRight || 0,
                bottom: this._data.paddingBottom || 0,
                left: this._data.paddingLeft || 0
              }, _ = {
                x: 0,
                y: 0
              }, this._data.backgroundHorzInflate && (m = this._data.backgroundHorzInflate / 2, f.left += m, f.right += m, _.x = -m), this._data.backgroundVertInflate && (g = this._data.backgroundVertInflate / 2, f.top += g, f.bottom += g, _.y = -g), y = "number" == typeof this._data.padding ? this._data.padding : ~~(r / 6), f) f[d] || (f[d] = y);
            v = {
                x: Math.floor(e + _.x),
                y: Math.floor(i + _.y),
                w: Math.ceil(h + f.left + f.right),
                h: Math.ceil(c + f.top + f.bottom)
              }, t += f.left + _.x, n += f.top + _.y,
              "bottom" !== this._data.vertAlign && "middle" !== this._data.vertAlign || (n += (S = "middle" === this._data.vertAlign ? i - v.h / 2 : i - v.h - (v.y - i)) - v.y, v.y = S), "right" !== this._data.horzAlign && "center" !== this._data.horzAlign || (t += (b = "center" === this._data.horzAlign ? e - v.w / 2 : e - v.w - (v.x - e)) - v.x, v.x = b, !0 !== this._data.doNotAlignText && ("right" === this._data.horzAlign ? (o.textAlign = "end", t += h) : (o.textAlign = "center", t += h / 2))), v.w % 2 != 0 && v.w++, v.x += .5, v.y += .5, this._boundingBox = a(new s(v.x, v.y), new s(v.x + v.w, v.y + v.h)), this._rect = v, this._padding = f, this._defaultPadding = y
          } else "bottom" !== this._data.vertAlign && "middle" !== this._data.vertAlign || (n -= Math.round(c * ("middle" === this._data.vertAlign ? .5 : 1))), w = t, "right" !== this._data.horzAlign && "center" !== this._data.horzAlign || (w -= Math.round(h * ("center" === this._data.horzAlign ? .5 : 1))), this._boundingBox = a(new s(w, n), new s(w + h, n + c));
          this._textPoint = {
            x: t,
            y: n
          }, this._textSizeCache && (this._textSizeCache.widths = u), this._preRendered = !0, this._maxWidth = h
        }
      }, n.prototype._drawIcon = function (e, t, i, n) {
        var o, r, s, a;
        if (d.hasOwnProperty(n)) {
          if (!(o = d[n]).src) {
            for (o.src = document.createElement("canvas"), o.src.width = o.width, o.src.height = o.height, s = (r = o.src.getContext("2d")).createImageData(o.width, o.height), a = 0; a < o.data.length; a++) s.data[a] = o.data[a];
            r.putImageData(s, 0, 0)
          }
          e.drawImage(o.src, t, i)
        }
      }, n.prototype.fontStyle = function () {
        return (this._data.bold ? "bold " : "") + (this._data.italic ? "italic " : "") + this._fontSize + "px " + this._data.font
      }, n.prototype.draw = function (e) {
        var t, i, n, o, r, s, a, l, c, u, d;
        if (0 !== this._data.points.length) {
          for (this._preRender(), t = this._fontSize, i = this._lineSpacing, n = t + i, e.textBaseline = "top", e.font = this.fontStyle(), o = this._rect, (this._data.backgroundColor || this._data.borderColor || this._data.highlightBorder && this._data.wordWrapWidth) && this._rect ? ("right" !== this._data.horzAlign && "center" !== this._data.horzAlign || !0 !== this._data.doNotAlignText && (e.textAlign = "right" === this._data.horzAlign ? "end" : "center"), this._data.backgroundRoundRect ? (h(e, o.x, o.y, o.w, o.h, this._data.backgroundRoundRect), this._data.backgroundColor && (e.fillStyle = this._data.backgroundColor, e.globalAlpha = this._data.backgroundTransparency, e.fill(), e.globalAlpha = 1), this._data.borderColor && (r = "number" == typeof this._data.borderWidth ? this._data.borderWidth : ~~Math.max(t / 12, 1), e.strokeStyle = this._data.borderColor, e.lineWidth = r, e.stroke())) : (this._data.backgroundColor && (e.fillStyle = this._data.backgroundColor, e.globalAlpha = this._data.backgroundTransparency, e.fillRect(o.x, o.y, o.w, o.h), e.globalAlpha = 1), this._data.borderColor ? (r = "number" == typeof this._data.borderWidth ? this._data.borderWidth : ~~Math.max(t / 12, 1), e.strokeStyle = this._data.borderColor, e.lineWidth = r, e.strokeRect(o.x - r / 2, o.y - r / 2, o.w + r, o.h + r)) : this._data.highlightBorder && (e.strokeStyle = this._data.color, e.lineWidth = 1, e.beginPath(), l = [3, 1], e.dashedLineTo(o.x - .5, a = o.y - .5, s = o.x + o.w + .5, a, l), e.dashedLineTo(s, a, s, a = o.y + o.h + .5, l), e.dashedLineTo(s = o.x - .5, a, o.x + o.w + .5, a, l), e.dashedLineTo(s, o.y - .5, s, a, l), e.globalAlpha = .5, e.stroke(), e.globalAlpha = 1)), this._data.icons && this._data.icons.forEach(function (t, i) {
              var r = o.x + this._defaultPadding,
                s = o.y + this._padding.top + n * i;
              this._drawIcon(e, r, s, t)
            }, this)) : "right" === this._data.horzAlign ? e.textAlign = "end" : "center" === this._data.horzAlign && (e.textAlign = "center"), c = this._textPoint.x, u = this._textPoint.y, e.fillStyle = this._data.color, this._data.forceTextAlign && (e.textAlign = this._data.horzAlign ? this._data.horzAlign : "left"), d = 0; d < this._lines.length; d++) e.fillText(this._lines[d], c, u), u += n;
          return {
            width: o.w + 2
          }
        }
      }, n.prototype.hitTest = function (e) {
        return 0 === this._data.points.length ? null : (this._preRender(), this._boundingBox && l(e, this._boundingBox) ? this._hittest : null)
      }, t.TrendLineStatsRenderer = n
    },
    "52kD": function (e, t, i) {
      "use strict";

      function n(e) {
        o.call(this, e)
      }
      var o = i("c0/O").PaneRendererAbstractShape;
      inherit(n, o), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c = !1,
          u = Math.round(this.height / 2);
        for (i = 0, n = this.items.length; i < n; i++)(o = this.items[i]).style && null != o.style.color ? (r = o.style.color, s = o.style.borderColor) : (r = this._color, s = this._borderColor), r !== t && (t = r, c && (e.fill(), e.stroke()), e.beginPath(), e.fillStyle = r, e.strokeStyle = s), a = o.x, l = o.y + this._vertOffset, e.moveTo(a, l - u), e.lineTo(a + u, l), e.lineTo(a, l + u), e.lineTo(a - u, l), e.lineTo(a, l - u), c = !0;
        c && (e.fill(), e.stroke())
      }, t.PaneRendererDiamond = TradingView.PaneRendererDiamond = n
    },
    "54XG": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "FavoriteStudyTemplateService", function () {
        return r
      }), n = i("mrSG"), o = i("ulZB"), r = function (e) {
        function t(t, i) {
          return e.call(this, t, i, "FAVORITE_STUDY_TEMPLATES_CHANGED", "StudyTemplates.quicks", []) || this
        }
        return n.__extends(t, e), t
      }(o.b)
    },
    "55Xp": function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i = e.toString(),
          n = i.split(".")[1],
          o = 2;
        return n && (t = n.match(/^([0]+)/)) && (o = t[1].length + 1), parseFloat(i).toFixed(o)
      }
      i.r(t), i.d(t, "roundToFirstValuable", function () {
        return n
      })
    },
    "5C6T": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "PipFormatter", function () {
        return r
      }), n = i("mrSG"), o = i("kcTO"), r = function (e) {
        function t(t, i, n, o) {
          var r = this;
          return i || (i = 1), "forex" !== n && "cfd" !== n || !o ? (r = e.call(this, 1) || this)._isForex = !1 : (r = e.call(this, o) || this)._isForex = !0, r._pipPriceScale = t, r._pipMinMove = i, r._pipMinMove2 = o, r
        }
        return n.__extends(t, e), t.prototype.format = function (t, i, n) {
          var o = this._isForex ? this._pipMinMove2 : this._pipMinMove;
          return void 0 === o && (o = NaN), e.prototype.format.call(this, t * this._pipPriceScale / o, i, n)
        }, t
      }(o.PriceFormatter)
    },
    "5VQP": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "ContextMenuManager", function () {
          return r
        }), n = i("mrSG"), o = i("tWVy"),
        function (e) {
          function t() {
            Object(o.b)()
          }
          var r = [];
          e.createMenu = function (e, o, s) {
            return void 0 === o && (o = {}), n.__awaiter(this, void 0, void 0, function () {
              var a, l;
              return n.__generator(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [4, Promise.all([i.e("vendors"), i.e(9), i.e(14), i.e(105), i.e(12), i.e(96), i.e("context-menu-renderer")]).then(i.bind(null, "cbq4"))];
                  case 1:
                    return a = n.sent(), l = new a.ContextMenuRenderer(e, o, function () {
                      var e = r.indexOf(l); - 1 !== e && r.splice(e, 1), void 0 !== s && s()
                    }, t), r.push(l), [2, l]
                }
              })
            })
          }, e.hideAll = t, e.getShown = function () {
            for (var e = 0; e < r.length; e++)
              if (r[e].isShown()) return r[e];
            return null
          }
        }(r || (r = {}))
    },
    "5ZUI": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolRay";
        var i = t || n.createProperties();
        o.call(this, e, i)
      }
      var o = i("WPQD").LineToolTrendLine,
        r = i("Ocx9").DefaultProperty;
      inherit(n, o), n.prototype.title = function () {
        return "Ray"
      }, n.prototype.name = function () {
        return "Ray"
      }, n.createProperties = function (e) {
        var t = new r("linetoolray", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolRay = n
    },
    "5rJj": function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e, t, i, n) {
          this._map = Object.assign({}, this._map, n), t && (t = this.unpackLevels(t)), r.call(this, e, t, i), this.updateCollectibleProperty()
        }
        var o = i("ogJP").isSameType,
          r = i("Ocx9").DefaultProperty,
          s = i("vADo");
        inherit(n, r), n.prototype.state = function (e, i) {
          (e = e || []).push("__collectibleLines");
          var n = t.prototype.state.call(this, e);
          return i ? n : this.packLevels(n)
        }, n.prototype.clone = function () {
          var e, t, i = this.state();
          for (this.__collectibleLines && (i.__collectibleLines = this.__collectibleLines.state()), e = new n(this._defaultName, i), t = 0; t < this._exclusions.length; ++t) e.addExclusion(this._exclusions[t]);
          return e
        }, n.prototype.merge = function (e, i) {
          var n = t.prototype.merge.call(this, this.unpackLevels(e), i);
          return this.updateCollectibleProperty(), n
        }, n.prototype._map = {
          prefixes: [""],
          range: [0, 0],
          names: ["coeff", "color", "visible", "linestyle", "linewidth"],
          typecheck: {
            pack: Object,
            unpack: Array
          }
        }, n.prototype._packLvlTpl = function () {
          return []
        }, n.prototype._unpackLvlTpl = function () {
          return {}
        }, n.prototype._packLvlFill = function (e, t, i, n) {
          return n.push(i[t]), n
        }, n.prototype._unpackLvlFill = function (e, t, i, n) {
          return n[t] = i[e], n
        }, n.prototype._iterateLevels = function (e, t) {
          var i, n, r, s, a;
          for (i in this._map.prefixes)
            for (n = (this._map.prefixes[i] || "") + "level", r = this._map.range[0]; r <= this._map.range[1]; r++)
              if (e[n + r] && o(e[n + r], t.typecheck())) {
                for (a in s = t.tpl(), this._map.names) s = t.fill(a, this._map.names[a], e[n + r], s);
                e[n + r] = s
              } return e
        }, n.prototype.packLevels = function (e) {
          return this._iterateLevels(e, {
            tpl: this._packLvlTpl,
            fill: this._packLvlFill,
            typecheck: this._map.typecheck.pack
          })
        }, n.prototype.unpackLevels = function (e) {
          return this._iterateLevels(e, {
            tpl: this._unpackLvlTpl,
            fill: this._unpackLvlFill,
            typecheck: this._map.typecheck.unpack
          })
        }, n.prototype.saveDefaults = function () {
          TradingView.saveDefaults(this._defaultName, this.state(this._exclusions, !0))
        }, n.prototype.updateCollectibleProperty = function () {
          var e, t;
          this.__collectibleLines && (e = this, t = [], this.__collectibleLines._childs.forEach(function (i) {
            var n, o = e.__collectibleLines[i].value(),
              r = o.split("."),
              s = e[r[0]];
            for (n = 1; n < r.length && s; ++n) s = s[r[n]];
            s && t.push({
              property: s.color,
              defaultValue: s.color.value()
            })
          }), this.collectibleColors ? this.collectibleColors.reloadProperties(t) : this.collectibleColors = new s(t))
        }, e.exports = n
      }).call(this, i("tc+8"))
    },
    "68at": function (e, t, i) {
      "use strict";

      function n() {
        a.call(this)
      }

      function o(e, t) {
        this._constructor = "LineToolProjection";
        var n = t || o.createProperties();
        l.call(this, e, n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("jlk4").ProjectionLinePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("5rJj"),
        s = i("9QkW").LineToolFibWedge,
        a = i("xUGI"),
        l = i("Ss5c").LineDataSource,
        c = i("hayr").propertyPages;
      inherit(n, a), n.prototype.levelsCount = function () {
        return 1
      }, inherit(o, s), o.prototype.title = function () {
        return "Projection"
      }, o.prototype.name = function () {
        return "Projection"
      }, o.prototype.getCache = function () {
        return this._model._projectionLabelsCache || (this._model._projectionLabelsCache = new n), this._model._projectionLabelsCache
      }, o.prototype.getStylesPropertyPage = function () {
        return c.LineToolProjectionStylesPropertyPage
      }, o.createProperties = function (e) {
        var t = new r("linetoolprojection", e, !1, {
          range: [1, 1]
        });
        return o._configureProperties(t), t
      }, o._configureProperties = function (e) {
        s._configureProperties(e)
      }, t.LineToolProjection = o
    },
    "69Qn": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "HammerJSLoader", function () {
        return r
      }), n = i("mrSG"), o = i("cZRT"), r = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          return Promise.all([i.e(170), i.e("hammerjs")]).then(i.bind(null, "be1f")).then(function (e) {
            return e.HammerJS
          })
        }, t
      }(o.a)
    },
    "6DgG": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 16" width="35" height="16"><rect width="100%" height="100%" fill="currentColor" rx="8"/><path xmlns="http://www.w3.org/2000/svg" fill="#FFF" d="M14.143 12.005h-1.354l-.816-4.243-1.585 4.345h-.5L8.305 7.762l-.848 4.243H6.107l1.585-7.874h.741l1.703 5.302L11.8 4.13h.736l1.606 7.874zM14.626 8c0-1.121.307-2.07.921-2.844.614-.776 1.435-1.163 2.463-1.163 1.131 0 1.996.35 2.594 1.052.598.702.897 1.687.897 2.955 0 1.267-.312 2.273-.937 3.018-.625.745-1.512 1.117-2.662 1.117-1.056 0-1.866-.369-2.43-1.106-.564-.738-.846-1.748-.846-3.03zm1.45 0c0 .92.156 1.632.467 2.137.312.505.765.758 1.36.758.698 0 1.23-.248 1.597-.742s.55-1.212.55-2.153c0-1.845-.68-2.767-2.04-2.767-.623 0-1.101.25-1.434.75-.333.5-.5 1.171-.5 2.017zM24.482 12h-1.746V4.137c1.114-.04 1.814-.06 2.1-.06 1.146 0 2.055.336 2.726 1.008.672.671 1.007 1.562 1.007 2.672 0 2.829-1.362 4.243-4.087 4.243zm-.35-6.644v5.371c.226.022.47.032.731.032.706 0 1.258-.256 1.657-.768.4-.512.6-1.228.6-2.148 0-1.683-.783-2.525-2.348-2.525-.15 0-.363.013-.64.038z"/></svg>'
    },
    "6Kf3": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "colorsPalette", function () {
        return l
      }), n = i("/pi9"), o = i("Eyy1"), r = {}, s = Object.keys(n).length, a = /^#[0-9A-F]{6}$/i, Object.keys(n).forEach(function (e) {
        var t = function e(t, i) {
          var o, r;
          return void 0 === i && (i = []), (o = n[t]) ? a.test(o) ? o : (r = o, i.push(t), -1 !== i.indexOf(r) ? (console.warn("Colors definitions cycled"), o) : i.length > s ? (console.warn("Too many variables-link in HEX-color search: " + i[0]), null) : e(r, i)) : null
        }(e);
        r[e] = Object(o.ensureNotNull)(t)
      }), l = r
    },
    "6XW3": function (e, t, i) {
      "use strict";
      var n, o;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), n = i("PC8g"), o = {
        filterNamesMap: {
          script_type: "Indicators and Strategies",
          "script_type-indicators": "Indicators",
          "script_type-strategies": "Strategies",
          stream: "All Markets",
          "stream-stocks": "Stocks",
          "stream-indices": "Indices",
          "stream-commodities": "Commodities",
          "stream-currencies": "Currencies",
          "stream-bitcoin": "Bitcoin",
          "interval-all": "All Intervals",
          "interval-m": "Short Term",
          "interval-h": "Medium Term",
          "interval-dwm": "Long Term",
          "sort-unmoderated": "Unmoderated",
          "sort-trending": "Trending",
          "sort-discussed": "Most Discussed",
          "sort-viewed": "Most Viewed",
          "sort-agreed": "Most Agreed",
          "sort-suggested": "Suggested",
          "sort-recent": "All Ideas",
          "time-day": "Today",
          "time-week": "This Week",
          "time-month": "This Month",
          "time-all": "All Time",
          "by-everyone": "Everyone",
          "by-following": "Following",
          "by-me": "My Ideas"
        },
        goProFeaturesMap: {
          customIntervals: "Add Custom Interval",
          intradaySpread: "Inraday Spread",
          kagiRenko: "Japanese Intraday Chart",
          extendedHours: "Timezones Extended Hours",
          alerts: {
            prefix: "New Alerts Limit",
            widget: "Widget",
            chart: "Chart Header"
          },
          multipleCharts: "Multiple Charts Layout",
          savedChartsLimit: "Save Chart Limit",
          studyLimit: "Studies Limit",
          multipleWatchLists: {
            prefix: "Watchlists",
            new: "Create New List",
            rename: "Rename List",
            saveAs: "Save List As"
          },
          importWatchlist: "Watchlists Import Watchlist",
          exportWatchlist: "Watchlists Export Watchlist",
          BATSExchangePopup: "BATS Exchange Popup",
          DataQualityPopup: "Data Quality Popup",
          FreeDelayPopup: "Free Delay Popup",
          proRTProduct: "Volume Profile",
          studyOnStudy: "Unlimited Study on Study"
        },
        trackFeature: {
          savedChartsLimit: !0,
          BATSExchangePopup: !0,
          FreeDelayPopup: !0,
          DataQualityPopup: !0,
          intradaySpread: !0,
          studyOnStudy: !0
        },
        trackGoPro: function (e, t, i) {
          i && !t && (t = i, i = null);
          var r = o.goProFeaturesMap[t];
          if (r) {
            if (i) {
              if ("string" == typeof r) return;
              r = "{0} {1}".format(r.prefix, r[i])
            }(0, n.trackEvent)(e, r)
          }
        }
      }, t.default = o, e.exports = t.default
    },
    "6a0U": function (e, t, i) {
      "use strict";

      function n(e) {
        this.items = e.items, this.barSpacing = e.barSpacing, this.colorUp = e.colorup, this.colorDn = e.colordown, this.colorBorderUp = e.colorBorderUp, this.colorBorderDown = e.colorBorderDown, this.width = this._calculateWidth(e.barSpacing), this.minHeight = e.minHeight, this.vertOffset = this._calculateVerticalOffset(e.barSpacing)
      }

      function o(e, t, i, n) {
        this.x = e, this.y = t, this.height = i, this.isUp = n
      }
      var r = i("aO4+").Point,
        s = i("VdBB").HitTestResult;
      n.prototype._calculateVerticalOffset = function (e) {
        return Math.round((e || 0) / 4)
      }, n.prototype._calculateMinHeight = function (e) {
        return this.width || this._calculateWidth(e)
      }, n.prototype._calculateWidth = function (e) {
        e = e || this.barSpacing;
        return Math.round(e / 2)
      }, n.prototype.draw = function (e) {
        var t, i, n, o, r, s, a, l = this.width,
          c = l < 4,
          u = Math.max(parseInt(l / 2), 1),
          h = Math.round(this.width / 2),
          d = Math.round(this.width);
        for (e.translate(1, 1), t = 0, i = this.items.length; t < i; t++) o = (n = this.items[t]).isUp ? -1 : 1, r = Math.abs(n.height), s = n.y - o * this.vertOffset, e.beginPath(), e.translate(n.x, s), c ? (e.moveTo(0, 0), e.lineTo(-h, -h * o), e.moveTo(0, 0), e.lineTo(h, -h * o), e.moveTo(0, 0), e.lineTo(0, -r * o), e.moveTo(-h, -r * o), e.lineTo(h, -r * o), e.lineWidth = u, e.strokeStyle = n.isUp ? this.colorUp : this.colorDn, e.stroke()) : (e.moveTo(0, 0), r < d ? (e.lineTo(l, -r * o), e.lineTo(-l, -r * o)) : (e.lineTo(l, -d * o), e.lineTo(h, -d * o), e.lineTo(h, -r * o), e.lineTo(-h, -r * o), e.lineTo(-h, -d * o),
          e.lineTo(-l, -d * o)), e.lineTo(0, 0), a = n.isUp ? this.colorBorderUp : this.colorBorderDown, e.strokeStyle = a, e.stroke(), e.fillStyle = n.isUp ? this.colorUp : this.colorDn, e.fill()), e.translate(-n.x, -s);
        e.translate(-1, -1)
      }, n.prototype.hitTest = function (e) {
        var t, i, n, o, r, a, l, c, u, h = Math.round(this.width / 2),
          d = Math.round(this.width);
        for (t = 0; t < this.items.length; ++t)
          if ((i = this.items[t]) && void 0 !== i.x && null !== i.x && !TradingView.isNaN(i.x) && void 0 !== i.y && null !== i.y && !TradingView.isNaN(i.y) && (n = Math.abs(i.height), o = i.isUp ? -1 : 1, r = n + d, l = (a = i.y - o * this.vertOffset) - o * r, c = i.x - h, u = i.x + h, c < e.x && e.x < u && (i.isUp ? a < e.y && e.y < l : l < e.y && e.y < a))) return new s(s.REGULAR);
        return null
      }, inherit(o, r), t.PaneRendererArrowsUpDown = TradingView.PaneRendererArrowsUpDown = n, t.PaneRendererArrowsUpDownItem = TradingView.PaneRendererArrowsUpDownItem = o
    },
    "6bOu": function (e, t, i) {
      "use strict";

      function n(e) {
        this.bars = e.bars, this.barWidth = e.barWidth, this.barLineWidth = 1
      }
      var o = i("Zp/P").selectionTolerance,
        r = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        var t, i, n, o, r, s, a;
        for (e.save(), e.lineCap = "butt", e.translate(.5, .5), e.lineWidth = this.barLineWidth, t = this.barWidth / 2, i = 0; i < this.bars.length; ++i) o = (n = this.bars[i]).exactTime - t, r = n.exactTime + t - o, s = Math.round(Math.min(n.close, n.open)), a = Math.max(1, Math.round(Math.abs(n.close - n.open))), e.fillStyle = n.borderColor, e.fillRect(n.exactTime, Math.round(n.high), this.barLineWidth, Math.round(n.low - n.high)), e.fillRect(o, s, r, a), e.fillStyle = n.color, e.fillRect(o + this.barLineWidth, s + this.barLineWidth, r - 2 * this.barLineWidth, a - 2 * this.barLineWidth);
        e.restore()
      }, n.prototype.hitTest = function (e) {
        var t, i, n, s, a, l, c = this.bars,
          u = .5 * this.barWidth;
        if (0 === c.length) return null;
        if (e.x < c[0].time - u) return null;
        if (e.x > c[c.length - 1].time + u) return null;
        for (t = null, i = 0; i < c.length; ++i)
          if (n = c[i], e.x <= n.time + u) {
            t = n;
            break
          } return t ? (s = o(this.barLineWidth), a = Math.min(t.high, t.low), l = Math.max(t.high, t.low), a - s <= e.y && e.y <= l + s ? new r(r.REGULAR) : null) : null
      }, t.PaneRendererRenkoPB = TradingView.PaneRendererRenkoPB = n
    },
    "6ctS": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(3 6)"><path d="M.964 8C3 4 6.679.5 11 .5 15.32.5 19 4 21.036 8 19 12 15.32 15.5 11 15.5 6.679 15.5 3 12 .964 8z"/><circle cx="11" cy="8" r="3.5"/></g></svg>'
    },
    "6et/": function (e, t, i) {
      "use strict";

      function n(e) {
        for (var t = 0; t < p.length; t++)
          if (p[t].name === e) return t;
        return -1
      }

      function o(e) {
        if (!f)
          for (var t = p.length - 1; t >= 0 && !0 !== p[t].func(e); t--);
      }

      function r(e) {
        e.addEventListener("keypress", o, !1)
      }

      function s(e, t) {
        var i = {
            name: e,
            func: t
          },
          o = n(i.name);
        o > -1 ? p[o] = i : p.push(i)
      }

      function a(e) {
        p.forEach(function (t, i) {
          t.name === e && p.splice(i, 1)
        })
      }

      function l(e, t) {
        var i = {
            name: e,
            func: t
          },
          o = n(i.name);
        o > -1 && p.splice(o, 1), p.unshift(i)
      }

      function c() {
        return f ? null : f = Object(d.randomHashN)(4)
      }

      function u(e) {
        if (e !== f) throw Error("Lock id is outdated");
        f = null
      }
      var h, d, p, f;
      i.r(t), i.d(t, "listen", function () {
        return r
      }), i.d(t, "registerListener", function () {
        return s
      }), i.d(t, "removeListener", function () {
        return a
      }), i.d(t, "pushBackListener", function () {
        return l
      }), i.d(t, "disable", function () {
        return c
      }), i.d(t, "enable", function () {
        return u
      }), h = i("P5fv"), d = i("0waE"), p = [], f = null, r(window)
    },
    "6sst": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "OverlayStudyPriceLineAxisView", function () {
        return r
      }), n = i("mrSG"), o = i("TmNs"), r = function (e) {
        function t(t) {
          var i = e.call(this) || this;
          return i._study = t, i
        }
        return n.__extends(t, e), t.prototype._value = function () {
          return this._study.lastValueData("", !0)
        }, t.prototype._priceLineColor = function (e) {
          return e
        }, t.prototype._lineWidth = function () {
          return 1
        }, t.prototype._isVisible = function () {
          var e = this._study.model().properties().scalesProperties,
            t = e.showSeriesLastValue.value();
          return this._study.properties().showPriceLine.value() && t
        }, t
      }(o.PriceLineAxisView)
    },
    "6xeX": function (e, t, i) {
      "use strict";

      function n(e) {
        return "string" == typeof e && 0 !== e.trim().length
      }

      function o(e, t) {
        var i, n, o = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
          r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
        return e.hasOwnProperty("text") ? (i = r && (0, c.forceLTRStr)(e.text) || e.text, e.hasOwnProperty("color") && o ? t.append($("<span>", {
          style: "color: " + e.color
        }).html(i)) : t.html(i)) : (n = r && (0, c.forceLTRStr)(e) || e, t.html(n))
      }

      function r(e, t) {
        if (Array.isArray(e) && 2 === e.length) $("<dl>").append(o(e[0], $("<dt>")), o(e[1], $("<dd>"), !0, !0)).appendTo(t);
        else if (e.hasOwnProperty("br") && e.br) $("<br>").appendTo(t);
        else {
          var i = $("<dl>").append(o(e, $("<dt>"))).appendTo(t);
          e.hasOwnProperty("listItem") && i.addClass("list-item")
        }
      }

      function s(e, t) {
        var i = (0, c.forceLTRStr)(e.text);
        e.attr = e.attr || {}, $("<a>").attr("href", e.href).html(i).addClass(e.class).attr(e.attr.name, e.attr.value).appendTo(t)
      }

      function a(e, t) {
        var i, n, o, a, l, u = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
        if ("string" == typeof e) i = (0, c.forceLTRStr)(e), $("<h2>").html(i).appendTo(t);
        else if (e.hasOwnProperty("lines"))
          for (n = 0; n < e.lines.length; n++) e.lines[n].hasOwnProperty("line") ? 0 === n ? e.lines[n].line.isEmpty || $("<h2>").html(e.lines[n].line).appendTo(t) : r(e.lines[n].line, t) : e.lines[n].hasOwnProperty("link") && s(e.lines[n].link, t);
        else e.hasOwnProperty("title") && $("<h2>").html(e.title).appendTo(t), e.hasOwnProperty("actual") && (o = e.actual && (0, c.forceLTRStr)(e.actual), $("<dl>").append($("<dt>").text($.t("Actual") + ": "), $("<dd>").html(o || "â€”")).appendTo(t)), e.hasOwnProperty("forecast") && (a = e.forecast && (0, c.forceLTRStr)(e.forecast), $("<dl>").append($("<dt>").text($.t("Forecast") + ": "), $("<dd>").html(a || "â€”")).appendTo(t)), e.hasOwnProperty("previous") && (l = e.previous && (0, c.forceLTRStr)(e.previous), $("<dl>").append($("<dt>").text($.t("Previous") + ": "), $("<dd>").html(l || "â€”")).appendTo(t)), e.hasOwnProperty("timestamp") && $("<dl>").append($("<dt>").text($.t("Date") + ": "), $("<dd>").html(function (e, t) {
          var i = new Date(e + t),
            n = Math.round(Math.abs(t) / 6e4),
            o = "UTC";
          return 0 !== n && (o += t > 0 ? "+" : "-", o += Math.floor(n / 60), n % 60 && (o += ":" + n % 60)), i.getUTCFullYear() + "-" + ("0" + (i.getUTCMonth() + 1)).slice(-2) + "-" + ("0" + i.getUTCDate()).slice(-2) + " " + ("0" + i.getUTCHours()).slice(-2) + ":" + ("0" + i.getUTCMinutes()).slice(-2) + " (" + o + ")"
        }(e.timestamp, u) || "â€”")).appendTo(t)
      }
      var l, c;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.Tooltip = void 0, l = function () {
        function e(e, t) {
          var i, n;
          for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
        }
        return function (t, i, n) {
          return i && e(t.prototype, i), n && e(t, n), t
        }
      }(), i("oWyD"), c = i("Ialn"), t.Tooltip = function () {
        function e() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            i = t.direction,
            n = void 0 === i ? "top" : i,
            o = t.clickable,
            r = void 0 !== o && o,
            s = t.wide,
            a = void 0 !== s && s;
          ! function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
          }(this, e), this._direction = n, this._tooltipShown = !1, this._tooltipX = void 0, this._tooltipY = void 0, this._tooltipItems = null, this._width = a ? 250 : 200, this._$tooltip = $("<div>").addClass("tv-chart-events-source__tooltip").css({
            position: "absolute",
            width: this._width + "px"
          }), this._$tooltipContent = $("<div>").addClass("tv-chart-events-source__tooltip__content").appendTo(this._$tooltip), r && this._$tooltip.addClass("tv-chart-events-source__tooltip--clickable")
        }
        return l(e, [{
          key: "show",
          value: function () {
            var e, t, i, o, r, s, l, c, u, h, d, p, f, _, m, g, y, v, S, b = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
              w = b.items,
              P = void 0 === w ? [] : w,
              T = b.x,
              C = void 0 === T ? 0 : T,
              x = b.y,
              E = void 0 === x ? 0 : x,
              I = b.wrapElement,
              A = void 0 === I ? null : I,
              L = b.timeOffset,
              D = void 0 === L ? "" : L,
              k = b.leftBorderColor,
              O = void 0 === k ? null : k;
            if (A && ! function (e) {
                var t, i, o, r, s;
                if (!e || 0 === e.length) return !0;
                for (t = 0; t < e.length; t++) {
                  if (n(e[t]) || e[t].id || n(e[t].title)) return !1;
                  if (e[t].lines)
                    for (o = (i = e[t].lines).length, r = 0; r < o; r++)
                      if (n(s = i[r]) || n(s.line)) return !1
                }
                return !0
              }(P)) {
              if (e = $(A).width(), t = $(A).height(), i = !1, o = !1, this._tooltipShown || (this._$tooltip.appendTo(A), this._tooltipShown = !0, i = !0, o = !0), C === this._tooltipX && E === this._tooltipY || (i = !0), i && (r = Math.max(Math.min(C - this._width / 2, e - this._width - 10), 0), this._$tooltip.css({
                  left: Math.round(r),
                  bottom: Math.round(t - E + 10)
                })), this._tooltipItems || (o = !0), !o)
                for (s = P.length; s--;)
                  if (this._tooltipItems[s] !== P[s]) {
                    o = !0;
                    break
                  } if (o) {
                if (l = void 0, P.length <= 1) l = P;
                else {
                  for (c = {}, u = P.length; u--;) null == (h = P[u].importance) && (h = -1), c[h] || (c[h] = []), c[h].push(P[u]);
                  if ((d = Object.keys(c).sort(function (e, t) {
                      return e - t
                    })).length <= 1) l = c[d[0]];
                  else
                    for (l = [], p = d.length; p--;)
                      for (_ = (f = c[d[p]]).length; _--;) l.push(f[_])
                }
                for (this._$tooltipContent.empty(), m = l.length; m--;) y = "", (g = l[m]).hasOwnProperty("importance") ? ("string" == typeof g.importance && ("earnings" === g.importance ? y = "--importance-earnings" : "splits" === g.importance ? y = "--importance-splits" : "dividends" === g.importance ? y = "--importance-dividends" : "list" === g.importance && (y = "--importance-list")), 0 === g.importance ? y = "--importance-normal" : g.importance > 0 && (y = "--importance-high")) : O || (y = "--importance-none"), v = "tv-chart-events-source__tooltip__item", y && (v += " " + v + y), S = $("<div>").attr("class", v), O && S.css("border-left-color", O), a(g, S, D), S.appendTo(this._$tooltipContent);
                this._tooltipItems = P
              }
              "bottom" === this._direction && this._$tooltip.css({
                bottom: Math.round(t - E - this._$tooltipContent.height() + 10)
              })
            }
          }
        }, {
          key: "hide",
          value: function () {
            this._tooltipShown && (this._$tooltip.detach(), this._tooltipShown = !1)
          }
        }, {
          key: "isOpened",
          value: function () {
            return this._tooltipShown
          }
        }, {
          key: "getElem",
          value: function () {
            return this._$tooltip.get(0)
          }
        }]), e
      }()
    },
    "704P": function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e, t) {
          this._pane = e, this._timeScale = t
        }

        function o(e) {
          this._line = e
        }

        function r(e, t) {
          this._adapter = new o(this), this._constructor = "LineToolExecution";
          var n = t || r.createProperties();
          this.customization = {
            forcePriceAxisLabel: !1,
            disableSelection: !0,
            disableErasing: !0
          }, s.call(this, e, n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("tjxb").ExecutionPaneView;
            this._setPaneViews([new t(this, this._model)])
          }.bind(this).bind(null, i)).catch(i.oe)
        }
        var s = i("Ss5c").LineDataSource,
          a = i("jkoZ"),
          l = i("Ocx9").DefaultProperty,
          c = i("k9/m").PlotRowSearchMode;
        n.prototype._cachedByBarIndexOrderedExecutions = {}, n.recreateOrderedByBarsSourcesCache = function (e) {
          var t, i, o, r, s;
          for (n.clearOrderedByBarsSourcesCache(), t = n.prototype, i = e.orderedSources(), o = 0; o < i.length; ++o)(r = i[o])._adapter && void 0 !== r._adapter._index && (s = t._cachedByBarIndexOrderedExecutions[r._adapter._index], t._cachedByBarIndexOrderedExecutions[r._adapter._index] = s || [], t._cachedByBarIndexOrderedExecutions[r._adapter._index].push(r))
        }, n.clearOrderedByBarsSourcesCache = function () {
          n.prototype._cachedByBarIndexOrderedExecutions = {}
        }, n.prototype.getXYCoordinate = function (e, t, i) {
          var n, o, s, a, l, u, h, d, p, f, _ = 0,
            m = e.getDirection(),
            g = "buy" === m,
            y = this._pane.model().mainSeries();
          if (y.bars && (n = g ? 10 : -10, null !== (o = y.bars().search(i, c.NearestLeft)) && (i = o.index, s = g ? o.value[TradingView.LOW_PLOT] : o.value[TradingView.HIGH_PLOT], a = y.priceScale(), l = y.firstValue(), _ = a.priceToCoordinate(s, l) + n)), e._index = i, u = t.visibleBarsStrictRange(), !isFinite(i) || null === u || i > u.lastBar() || i < u.firstBar()) return {
            x: -1,
            y: -1
          };
          for (d = (h = this._cachedByBarIndexOrderedExecutions[i] || this._pane.orderedSources()).length - 1; d >= 0; --d)
            if ((p = h[d]) instanceof r && p._adapter._index === i && p._adapter.getDirection() === m) {
              if (p === e._line) break;
              f = p._adapter._height(), _ = g ? _ + f : _ - f
            } return {
            x: t.indexToCoordinate(i),
            y: _
          }
        }, o.prototype._height = function () {
          var e = this.getArrowHeight(),
            t = this.getArrowSpacing(),
            i = 0;
          return this.getText() && a.fontHeight(this.getFont()), e + t + i + 10
        }, o.prototype.getIndex = function () {
          var e = this._line._model.timeScale(),
            t = e.baseIndex(),
            i = this._line.points()[0].index;
          return t - i
        }, o.prototype.setIndex = function (e) {
          var t, i = this._line._model.timeScale(),
            n = i.baseIndex(),
            o = n - Math.abs(e);
          return this._line.startMoving({
            logical: this._line.points()[0]
          }), (t = TradingView.merge({}, this._line.points()[0])).index = o, this._line.move({
            logical: t
          }), this._line.endMoving(), this
        }, o.prototype.getTime = function () {
          return this._unixtime
        }, o.prototype.setTime = function (e) {
          var t = this._line._model.mainSeries();
          return this._unixtime = ChartApiInstance.alignTimePoint ? ChartApiInstance.alignTimePoint(e, t.interval(), t.symbolInfo()) : e, this._line.restorePoints([{
            offset: 0,
            price: this.getPrice(),
            time_t: this._unixtime
          }], []), this._line.createServerPoints(), this
        }, o.prototype.getPrice = function () {
          return this._line.points().length > 0 ? this._line.points()[0].price : this._line._timePoint.length > 0 ? this._line._timePoint[0].price : void 0
        }, o.prototype.setPrice = function (e) {
          return this._line.points().length > 0 && (this._line.points()[0].price = e), this._line._timePoint.length > 0 && (this._line._timePoint[0].price = e), this
        }, o.prototype.getText = function () {
          return this._line.properties().text.value()
        }, o.prototype.setText = function (e) {
          return this._line.properties().text.setValue(e || ""), this._line.updateAllViewsAndRedraw(), this
        }, o.prototype.getArrowHeight = function () {
          return this._line.properties().arrowHeight.value()
        }, o.prototype.setArrowHeight = function (e) {
          return this._line.properties().arrowHeight.setValue(e || 5), this
        }, o.prototype.getArrowSpacing = function () {
          return this._line.properties().arrowSpacing.value()
        }, o.prototype.setArrowSpacing = function (e) {
          return this._line.properties().arrowSpacing.setValue(e || 1), this
        }, o.prototype.getDirection = function () {
          return this._line.properties().direction.value()
        }, o.prototype.setDirection = function (e) {
          return this._line.properties().direction.setValue(e || "buy"), this
        }, o.prototype.getArrowColor = function () {
          return a.getColorFromProperties(this._line.properties().arrowColor, this._line.properties().arrowTransparency)
        }, o.prototype.setArrowColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().arrowColor, this._line.properties().arrowTransparency), this
        }, o.prototype.getTextColor = function () {
          return a.getColorFromProperties(this._line.properties().textColor, this._line.properties().textTransparency)
        }, o.prototype.setTextColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().textColor, this._line.properties().textTransparency), this
        }, o.prototype.getFont = function () {
          return a.getFontFromProperties(this._line.properties().fontFamily, this._line.properties().fontSize, this._line.properties().fontBold, this._line.properties().fontItalic)
        }, o.prototype.setFont = function (e) {
          return a.setFontToProperties(e, this._line.properties().fontFamily, this._line.properties().fontSize, this._line.properties().fontBold, this._line.properties().fontItalic), this
        }, o.prototype.setTooltip = function (e) {
          return null == e ? e = "" : e += "", this._line.properties().tooltip.setValue(e), this
        }, o.prototype.getTooltip = function () {
          return this._line.properties().tooltip.value()
        }, o.prototype.remove = function () {
          this._line._model.removeSource(this._line), delete this._line
        }, inherit(r, s), r.POINTS_COUNT = 1, r.prototype.pointsCount = function () {
          return r.POINTS_COUNT
        }, r.prototype.title = function () {
          return "Execution"
        }, r.prototype.name = function () {
          return "Execution"
        }, r.prototype.hasContextMenu = function () {
          return !1
        }, r.prototype.state = function () {
          return null
        }, r.prototype.updateAllViews = function () {
          return this._isVisible() ? s.prototype.updateAllViews.call(this) : null
        }, r.prototype.priceAxisViews = function (e, t) {
          return this._isVisible() ? s.prototype.priceAxisViews.call(this, e, t) : null
        }, r.prototype._isVisible = function () {
          var e = this._model.properties().tradingProperties.showExecutions.value();
          return e = e && !this._model.isInReplay()
        }, r.prototype.paneViews = function () {
          return TradingView.printing && !e.enabled("snapshot_trading_drawings") ? null : this._model.properties().tradingProperties.showExecutions.value() ? s.prototype.paneViews.call(this) : null
        }, r.prototype.userEditEnabled = function () {
          return !1
        }, r.prototype.showInObjectTree = function () {
          return !1
        }, r.prototype.getInputsPropertyPage = function () {
          return null
        }, r.createProperties = function (e) {
          var t = new l("linetoolexecution", e);
          return r._configureProperties(t), t
        }, r._configureProperties = function (e) {
          s._configureProperties(e)
        }, t.ExecutionsPositionController = n, t.LineToolExecution = r
      }).call(this, i("Kxc7"))
    },
    "7Fue": function (e, t, i) {
      "use strict";

      function n(e) {
        return !h.some(function (t) {
          return e[t]().size > 0
        })
      }

      function o(e, t, i, n) {
        var o, r, s;
        if (void 0 !== t)
          for (o = function (t) {
              var o, r = t.styleId;
              void 0 !== i && Object(l.assert)(r in i, "Every style used by graphics primitive should be declared in study metainfo"), o = null, e.forEach(function (e, t) {
                t === r && (o = e[0])
              }), null === o && (o = {
                indexes: n,
                items: []
              }, e.set(r, [o])), o.items = o.items.concat(t.data)
            }, r = 0, s = t; r < s.length; r++) o(s[r])
      }

      function r(e, t, i) {
        var n, o, r, s = null;
        for (n = 0, o = e; n < o.length; n++)(r = o[n]).styleId === i && (s = r);
        null === s && (s = {
          styleId: i,
          data: []
        }, e.push(s)), s.data.push(t)
      }

      function s(e) {
        var t, i, n, o = e.hhistsByTimePointIndex();
        o.clear(), i = e.hhists(), n = new Map, i.forEach(function (e, t) {
          var i, o, r, s, l, c, h = e[0],
            d = h.indexes;
          for (i = 0, o = h.items; i < o.length; i++)(r = o[i]).firstBarTime < 0 || r.firstBarTime >= d.length ? u.logError("Cannot find index " + r.firstBarTime + " in study timescale indexes") : (s = a.__assign({}, r, {
            styleId: t
          }), l = d[r.firstBarTime], void 0 === (c = n.get(l)) ? n.set(l, {
            indexes: d,
            items: [s]
          }) : c.items.push(s))
        }), t = n, o.set("histBars", t)
      }
      var a, l, c, u, h;
      i.d(t, "d", function () {
        return h
      }), i.d(t, "c", function () {
        return n
      }), i.d(t, "b", function () {
        return o
      }), i.d(t, "a", function () {
        return r
      }), i.d(t, "e", function () {
        return s
      }), a = i("mrSG"), l = i("Eyy1"), c = i("uOxu"), u = Object(c.getLogger)("Chart.StudyGraphics"), h = ["horizlines", "vertlines", "lines", "hlines", "textmarks", "shapemarks", "backgrounds", "polygons", "trendchannels", "hhists"]
    },
    "7KDR": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h;
      i.r(t), i.d(t, "Action", function () {
        return c
      }), i.d(t, "ActionAsync", function () {
        return u
      }), i.d(t, "Separator", function () {
        return h
      }), n = i("mrSG"), o = i("zRdu"), r = i("aIyQ"), s = i.n(r), a = i("Bruo"), l = i("0waE"), u = function (e) {
        function t(t) {
          var i = e.call(this, {}) || this;
          return i.type = o.a.ActionAsync, i._loader = t, i._loaded = !1, i
        }
        return n.__extends(t, e), t.prototype.loadOptions = function () {
          var e = this;
          return this._loadingPromise ? this._loadingPromise : (this._loadingPromise = this._loader().then(function (t) {
            e.update(t), e._loaded = !0
          }), this._loadingPromise)
        }, t.prototype.isLoaded = function () {
          return this._loaded
        }, t
      }(c = function () {
        function e(e) {
          this.type = o.a.Action, this.id = l.guid(), this._destroyed = !1, this._onUpdate = new s.a, this._options = e, this.update(e)
        }
        return e.prototype.execute = function () {
          this._options.checkable && this.update({
            checked: !this._options.checked
          }), this._options.onExecute && this._options.onExecute(this)
        }, e.prototype.getLabel = function () {
          return this._options.label || ""
        }, e.prototype.getSubItems = function () {
          return this._options.subItems || []
        }, e.prototype.isDisabled = function () {
          return !0 === this._options.disabled
        }, e.prototype.isActive = function () {
          return !0 === this._options.active
        }, e.prototype.isCheckable = function () {
          return !0 === this._options.checkable
        }, e.prototype.isChecked = function () {
          return !0 === this._options.checked
        }, e.prototype.getPayload = function () {
          return this._options.payload
        }, e.prototype.update = function (e) {
          this._destroyed || (this._unbindShortcut(), this._options = Object.assign(this._options, e), this._bindShortcut(), this._onUpdate.fire(this))
        }, e.prototype.onUpdate = function () {
          return this._onUpdate
        }, e.prototype.getState = function () {
          return {
            label: this.getLabel(),
            disabled: this.isDisabled(),
            active: this.isActive(),
            subItems: this.getSubItems(),
            checkable: this.isCheckable(),
            checked: this.isChecked(),
            doNotCloseOnClick: this._options.doNotCloseOnClick || !1,
            shortcutHint: this._options.shortcutHint || this._options.shortcut,
            icon: this._options.icon,
            iconChecked: this._options.iconChecked,
            toolbox: this._options.toolbox,
            showToolboxOnHover: this._options.showToolboxOnHover || !1,
            statName: this._options.statName,
            name: this._options.name
          }
        }, e.prototype.destroy = function () {
          this._destroyed = !0, this._onUpdate.destroy(), this._unbindShortcut()
        }, e.prototype._shouldBindShortcut = function () {
          return !this._options.disabled && void 0 !== this._options.shortcut && !this._options.doNotBindShortcut
        }, e.prototype._bindShortcut = function () {
          var e = this;
          this._shouldBindShortcut() && a.bind(this._options.shortcut, function (t) {
            t && t.preventDefault(), e.execute()
          })
        }, e.prototype._unbindShortcut = function () {
          this._shouldBindShortcut() && a.unbind(this._options.shortcut)
        }, e
      }()), h = function () {
        function e(e) {
          this.type = o.a.Separator, this.id = l.guid(), this._hint = e
        }
        return e.prototype.getHint = function () {
          return this._hint
        }, e
      }()
    },
    "7MZv": function (e, t, i) {
      "use strict";
      var n, o, r;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.showTooManyStudiesNotice = function (e) {
        "number" != typeof e && (e = TradingView.STUDY_COUNT_LIMIT, e = (0, n.getConfig)(o.ProductFeatures.STUDY_ON_STUDY).limit), (0, r.showNoticeDialog)({
          title: window.t("Warning"),
          content: window.t("Studies limit exceeded: {0} studies per layout.\nPlease, remove some studies.").format(e)
        })
      }, n = i("NP3r"), o = i("bKsZ"), r = i("brCa")
    },
    "7RN7": function (e, t, i) {
      "use strict";
      var n, o;
      i.d(t, "b", function () {
        return n
      }), i.d(t, "a", function () {
        return o
      }), n = 52, o = 5
    },
    "7gR8": function (e, t, i) {
      "use strict";

      function n(e) {
        if (e.isSpread()) return o.DataSourceDangerReason.Spread;
        var t = e.symbolInfo();
        return t && "CRYPTOCAP" === t.exchange ? o.DataSourceDangerReason.CryptoCap : null
      }
      i.r(t), i.d(t, "getSeriesDangerReason", function () {
        return n
      });
      var o = i("0N6F")
    },
    "7ktv": function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "PriceDataSource", function () {
        return a
      }), n = i("mrSG"), o = i("fgLi"), r = i("aIyQ"), s = i.n(r), (a = function (e) {
        function t(t) {
          var i = e.call(this) || this;
          return i._formatterChanged = new s.a, i._metaInfo = null, i._model = t, i
        }
        return n.__extends(t, e), t.prototype.firstValue = function () {
            return null
          }, t.prototype.barColorer = function () {
            return null
          }, t.prototype.base = function () {
            return 0
          }, t.prototype.model = function () {
            return this._model
          },
          t.prototype.priceRange = function (e, t) {
            return null
          }, t.prototype.isDraggable = function () {
            return !this._metaInfo || !this._metaInfo.linkedToSeries
          }, t.prototype.priceLineColor = function (e) {
            return e
          }, t.prototype.formatterChanged = function () {
            return this._formatterChanged
          }, t.prototype.autoScaleInfo = function (e, t) {
            return {
              range: this.priceRange(e, t)
            }
          }, t
      }(o.DataSource)).prototype.superclass = o.DataSource
    },
    "7qI1": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolRectangle";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("GW0y").RectanglePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Rectangle"
      }, n.prototype.name = function () {
        return "Rectangle"
      }, n.prototype.setPoint = function (e, t, i) {
        var n, r, s;
        e < 2 ? o.prototype.setPoint.call(this, e, t, i) : (i && i.shift() && this._properties.snapTo45Degrees && (n = this.points()[0], r = this.points()[1], s = {
          price: 2 === e ? n.price : r.price,
          index: 2 === e ? r.index : n.index
        }, this._snapPoint45Degree(t, s)), 3 === e ? (this._points[0].price = t.price, this._points[1].index = t.index) : (this._points[1].price = t.price, this._points[0].index = t.index), this.normalizePoints())
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolRectangleStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolrectangle", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolRectangle = n
    },
    "7qT/": function (e, t, i) {
      "use strict";

      function n(e, t) {
        return 100 * (t - e) / Math.abs(e)
      }
      i.d(t, "a", function () {
        return n
      })
    },
    "8C8C": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "RestoreFactoryDefaultsUndoCommand", function () {
        return r
      }), n = i("mrSG"), o = i("RDU5"), r = function (e) {
        function t(t, i, n) {
          void 0 === n && (n = "Restore Defaults");
          var o = e.call(this, n) || this;
          return o._chartModel = t, o._defaultProperty = i, o._state = i.state(), o
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          this._chartModel.restoreFactoryDefaults(this._defaultProperty)
        }, t.prototype.undo = function () {
          this._defaultProperty.mergeAndFire(this._state), this._chartModel.mainSeries().onChartStyleChanged()
        }, t
      }(o.UndoCommand)
    },
    "8OdW": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "MINUTE_SPAN", function () {
        return n
      }), i.d(t, "HOUR_SPAN", function () {
        return o
      }), i.d(t, "DAY_SPAN", function () {
        return r
      }), i.d(t, "WEEK_SPAN", function () {
        return s
      }), i.d(t, "MONTH_SPAN", function () {
        return a
      }), i.d(t, "YEAR_SPAN", function () {
        return l
      }), i.d(t, "DEFAULT_BAR_SPACING", function () {
        return c
      }), n = 20, o = 30, r = 40, s = 50, a = 60, l = 70, c = 6
    },
    "8Uy/": function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "LINESTYLE_SOLID", function () {
        return n
      }), i.d(t, "LINESTYLE_DOTTED", function () {
        return o
      }), i.d(t, "LINESTYLE_DASHED", function () {
        return r
      }), i.d(t, "LINESTYLE_LARGE_DASHED", function () {
        return s
      }), i.d(t, "LINESTYLE_SPARSE_DOTTED", function () {
        return a
      }), n = 0, o = 1, r = 2, s = 3, a = 4
    },
    "8aff": function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "CompareStudyPriceAxisView", function () {
        return s
      }), n = i("mrSG"), o = i("oXaB"), r = i("KcY8"), s = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._studyCompare = t, n._data = i, n
        }
        return n.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          var n, r;
          e.visible = !1, t.visible = !1, (n = this._studyCompare.lastValueData(this._data.plotIndex, !1)).noData || (i.background = n.color, i.color = this.generateTextColor(n.color), i.coordinate = n.coordinate, i.floatCoordinate = n.floatCoordinate, (r = this._studyCompare.model().properties().scalesProperties).showSeriesLastValue.value() && (e.text = this._axisText(n), e.visible = !0), t.text = "", (r.showSymbolLabels.value() || r.seriesLastValueMode.value() === o.PriceAxisLastValueMode.LastPriceAndPercentageValue) && (t.text = this._paneText(n), t.visible = t.text.length > 0))
        }, t.prototype._paneText = function (e) {
          var t, i = "",
            n = this._studyCompare.model().properties().scalesProperties;
          return n.showSymbolLabels.value() && (i += this._studyCompare.symbol() + " "), null !== (t = this._studyCompare.priceScale()) && n.showSeriesLastValue.value() && n.seriesLastValueMode.value() === o.PriceAxisLastValueMode.LastPriceAndPercentageValue && (i += t.isPercentage() ? e.formattedPriceAbsolute : e.formattedPricePercentage), i.trim()
        }, t.prototype._axisText = function (e) {
          var t = this._studyCompare.model().properties().scalesProperties,
            i = this._studyCompare.priceScale();
          return t.seriesLastValueMode.value() !== o.PriceAxisLastValueMode.LastPriceAndPercentageValue || null === i ? e.text : i.isPercentage() ? e.formattedPricePercentage : e.formattedPriceAbsolute
        }, t
      }(r.a)
    },
    "8pII": function (e) {
      e.exports = {
        content: {
          chartProperties: {
            scalesProperties: {
              textColor: "#D9D9D9",
              lineColor: "#787878",
              backgroundColor: "#ffffff"
            },
            paneProperties: {
              gridProperties: {
                color: "#363c4e"
              },
              background: "#131722"
            }
          },
          mainSourceProperties: {
            baseLineColor: "#5d606b",
            candleStyle: {
              borderColor: "#378658",
              upColor: "#26a69a",
              wickColor: "#B5B5B8",
              wickUpColor: "#26a69a",
              wickDownColor: "#ef5350",
              downColor: "#ef5350",
              borderUpColor: "#26a69a",
              borderDownColor: "#ef5350"
            },
            haStyle: {
              borderColor: "#378658",
              upColor: "#26a69a",
              wickColor: "#B5B5B8",
              wickUpColor: "#26a69a",
              wickDownColor: "#ef5350",
              downColor: "#ef5350",
              borderUpColor: "#26a69a",
              borderDownColor: "#ef5350"
            },
            barStyle: {
              downColor: "#ef5350",
              upColor: "#26a69a"
            },
            pnfStyle: {
              downColor: "#ef5350",
              upColor: "#26a69a",
              upColorProjection: "#336854",
              downColorProjection: "#7f323f"
            },
            baselineStyle: {
              baselineColor: "rgba( 117, 134, 150, 1)",
              topFillColor1: "rgba( 38, 166, 154, 0.05)",
              topFillColor2: "rgba( 38, 166, 154, 0.05)",
              bottomFillColor1: "rgba( 239, 83, 80, 0.05)",
              bottomFillColor2: "rgba( 239, 83, 80, 0.05)",
              topLineColor: "rgba( 38, 166, 154, 1)",
              bottomLineColor: "rgba( 239, 83, 80, 1)"
            },
            areaStyle: {
              transparency: 95,
              color1: "#2196f3",
              color2: "#2196f3",
              linecolor: "#2196f3",
              linewidth: 3,
              linestyle: 0
            },
            renkoStyle: {
              upColor: "#26a69a",
              downColor: "#ef5350",
              borderUpColor: "#26a69a",
              borderDownColor: "#ef5350",
              upColorProjection: "#336854",
              downColorProjection: "#7f323f",
              borderUpColorProjection: "#336854",
              borderDownColorProjection: "#7f323f",
              wickUpColor: "#26a69a",
              wickDownColor: "#ef5350"
            },
            lineStyle: {
              color: "#2196f3",
              linewidth: 3,
              linestyle: 0
            },
            kagiStyle: {
              downColor: "#ef5350",
              upColor: "#26a69a",
              upColorProjection: "#336854",
              downColorProjection: "#7f323f"
            },
            pbStyle: {
              upColor: "#26a69a",
              downColor: "#ef5350",
              borderUpColor: "#26a69a",
              borderDownColor: "#ef5350",
              upColorProjection: "#336854",
              downColorProjection: "#7f323f",
              borderUpColorProjection: "#336854",
              borderDownColorProjection: "#7f323f"
            },
            rangeStyle: {
              upColor: "#26a69a",
              downColor: "#ef5350",
              upColorProjection: "#336854",
              downColorProjection: "#7f323f"
            }
          }
        }
      }
    },
    "8qoI": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "StudyLegendView", function () {
        return r
      }), n = i("mrSG"), o = i("it7y"), r = function (e) {
        function t(t, i) {
          var n = e.call(this, t, i) || this;
          return n._showStudyValues = i.properties().paneProperties.legendProperties.showStudyValues, n._showStudyValues.subscribe(n, n.update), n
        }
        return n.__extends(t, e), t.prototype.isValuesVisible = function () {
          return this._showStudyValues.value()
        }, t.prototype.additional = function () {
          return null
        }, t.prototype.destroy = function () {
          this._showStudyValues.unsubscribeAll(this)
        }, t
      }(o.StudyDataWindowView)
    },
    "8sOK": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "StudyStub", function () {
        return c
      }), n = i("mrSG"), o = i("2kV1"), r = i("7ktv"), s = i("kcTO"), a = i("tc+8"), l = i.n(a), (c = function (e) {
        function t(t, i, n) {
          var r, a = e.call(this, t) || this;
          return a._status = window.t("compiling..."), a._formatter = new s.PriceFormatter(Math.pow(10, 2)), a._failed = !1, a._origState = i, a._title = n, r = {
            visible: !0
          }, a._properties = new l.a(r), a._statusView = new o.StudyStatusView(a, a._model.properties().scalesProperties.textColor), a._statusView.setText(a._title + " " + a._status), a
        }
        return n.__extends(t, e), t.prototype.properties = function () {
          return this._properties
        }, t.prototype.statusView = function () {
          return this._statusView
        }, t.prototype.state = function (e) {
          return this._origState
        }, t.prototype.setStatus = function (e) {
          this._status = e, this._statusView.setText(this._title + " " + this._status)
        }, t.prototype.formatter = function () {
          return this._formatter
        }, t.prototype.title = function () {
          return this._title
        }, t.prototype.isFailed = function () {
          return this._failed
        }, t.prototype.setFailed = function (e) {
          this._failed = e
        }, t.prototype.start = function () {}, t.prototype.status = function () {
          return this._status
        }, t.prototype.firstValue = function () {
          return null
        }, t
      }(r.PriceDataSource)).prototype.superclass = r.PriceDataSource
    },
    "8woN": function (e, t, i) {
      "use strict";
      (function (t) {
        var i = [{
            d: "E-Mini S&P 500",
            t: "ES"
          }, {
            d: "E-Mini Nasdaq 100",
            t: "NQ"
          }, {
            d: "Gold",
            t: "GC"
          }, {
            d: "Silver",
            t: "SI"
          }, {
            d: "Crude Oil WTI",
            t: "CL"
          }, {
            d: "Natural Gas",
            t: "NG"
          }, {
            d: "Australian Dollar",
            t: "6A"
          }, {
            d: "Australian Dollar (Floor)",
            t: "AD"
          }, {
            d: "Euro FX",
            t: "6E"
          }, {
            d: "Euro FX (Floor)",
            t: "EC"
          }, {
            d: "Corn",
            t: "ZC"
          }, {
            d: "Corn (Floor)",
            t: "C"
          }, {
            d: "Eurodollar",
            t: "GE"
          }, {
            d: "Eurodollar (Floor)",
            t: "ED"
          }],
          n = function () {
            function e(e, t) {
              var i = function () {};
              return i.prototype = t.prototype, e.prototype = new i, e
            }

            function n() {}

            function o(e) {
              this.value = e
            }

            function r() {}

            function s() {}

            function a() {}

            function l() {}

            function c() {}

            function u() {}

            function h() {}

            function d() {}

            function p(e) {
              this.value = e
            }

            function f(e) {
              this.value = e
            }

            function _(e) {
              this.value = e
            }

            function m() {
              p.apply(this, arguments)
            }

            function g() {
              f.apply(this, arguments)
            }

            function y(e, t) {
              var i, n, r, s, a, l, c, u, h = [];
              e: for (; i = E.exec(e);) {
                for (n = I.length; n--;)
                  if (i[n + 1]) {
                    I[n].ctor && ((r = new I[n].ctor(i[n + 1]))._offset = i.index, h.push(r));
                    continue e
                  }(s = new _(i[0])). _offset = i.index, h.push(s)
              }
              if (t && t.recover)
                for (n = h.length; n--;)(l = h[n]) instanceof f || l instanceof p ? (void 0 !== a && (c = new p(""), u = h.splice(n, a - n + 1, c), c.value = u.map(function (e) {
                  return e.value
                }).join("")), a = n) : l instanceof o || (a = void 0);
              return h
            }

            function v(e) {
              var t, i = [];
              for (t = 0; t < e.length; t++) e[t] instanceof o || i.push(e[t]);
              return i
            }

            function S(e) {
              var t, i, n, o, l, c, u;
              for (e = v(e), t = [], i = [], o = 0; o < e.length; o++)(l = e[o]) instanceof a ? i.length && i[i.length - 1].minPrecedence > l.precedence && (i[i.length - 1].minPrecedence = l.precedence) : l instanceof r ? i.push(n = {
                minPrecedence: 1 / 0,
                openBraceIndex: o
              }) : l instanceof s && (c = e[(n = i.pop()).openBraceIndex - 1], (u = e[o + 1]) instanceof a && !(u.precedence <= n.minPrecedence) || !(!(c instanceof a) || c.precedence < n.minPrecedence || c.precedence === n.minPrecedence && c.commutative) || (t.unshift(n.openBraceIndex), t.push(o), i.length && i[i.length - 1].minPrecedence > n.minPrecedence && (i[i.length - 1].minPrecedence = n.minPrecedence)));
              for (o = t.length; o--;) e.splice(t[o], 1);
              return e
            }

            function b(e) {
              if ("string" != typeof e) throw new TypeError("expression must be a string");
              return (e = y(e)).filter(function (e) {
                return e instanceof p
              }).map(function (e) {
                return e.exchange()
              }).filter(function (e) {
                return e
              })
            }

            function w(e) {
              return 1 !== (e = b(e)).length ? null : e[0]
            }

            function P(e, t) {
              return (e = b(e)).some(function (e) {
                return t.includes((e || "").toUpperCase())
              })
            }

            function T(e) {
              return e.join("")
            }
            var C, x, E, I = [{
              pattern: "(",
              ctor: r
            }, {
              pattern: ")",
              ctor: s
            }, {
              pattern: "+",
              ctor: l
            }, {
              pattern: "-",
              ctor: c
            }, {
              pattern: "*",
              ctor: u
            }, {
              pattern: "/",
              ctor: h
            }, {
              pattern: "^",
              ctor: d
            }, {
              pattern: /\d+(?:\.\d*|(?![a-zA-Z0-9_!:\.&]))|\.\d+/,
              ctor: f
            }, {
              pattern: /\./,
              ctor: g
            }, {
              pattern: t.enabled("charting_library_base") ? /[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF^][a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!:\.&]*|'.+?'/ : /[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF][a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!|:\.&]*|'.+?'/,
              ctor: p
            }, {
              pattern: /'[^']*/,
              ctor: m
            }, {
              pattern: /[\0-\x20\s]+/,
              ctor: o
            }];
            return n.prototype.toString = function () {
              return this.value
            }, e(o, n), e(r, n), r.prototype.value = "(", e(s, n), s.prototype.value = ")", e(a, n), e(l, a), l.prototype.value = "+", l.prototype.precedence = 0, l.prototype.commutative = !0, e(c, a), c.prototype.value = "-", c.prototype.precedence = 0, c.prototype.commutative = !1, e(u, a), u.prototype.value = "*", u.prototype.precedence = 1, u.prototype.commutative = !0, e(h, a), h.prototype.value = "/", h.prototype.precedence = 1, h.prototype.commutative = !1, e(d, a), d.prototype.value = "^", d.prototype.precedence = 2, d.prototype.commutative = !1, C = /^'?(?:([A-Z0-9_]+):)?(.*?)'?$/i, x = /[\+\-\/\*]/, e(p, n), p.prototype.toString = function () {
              if (this.hasOwnProperty("_ticker")) {
                var e = x.test(this._ticker) ? "'" : "";
                return e + (this._exchange ? this._exchange + ":" : "") + this._ticker + e
              }
              return this.value
            }, p.prototype.parse = function () {
              var e = C.exec(this.value);
              e[1] && (this._exchange = e[1]), this._ticker = e[2]
            }, p.prototype.parseAsFutures = function () {
              var e, t, n;
              for (this.hasOwnProperty("_ticker") || this.parse(), e = function (e) {
                  return i.some(function (t) {
                    return t.t === e
                  })
                }, t = 2; t >= 1; --t)
                if (e(n = this._ticker.slice(0, t))) {
                  this._root = n, this._contract = this._ticker.slice(t);
                  break
                }
            }, p.prototype.exchange = function (e) {
              if (this.hasOwnProperty("_ticker") || this.parse(), !(arguments.length > 0)) return this._exchange;
              null === e || void 0 === e ? delete this._exchange : this._exchange = e + ""
            }, p.prototype.ticker = function (e) {
              if (this.hasOwnProperty("_ticker") || this.parse(), !(arguments.length > 0)) return this._ticker;
              null === e || void 0 === e ? delete this._ticker : this._ticker = e + "", delete this._root, delete this._contract
            }, p.prototype.root = function (e) {
              if (this.hasOwnProperty("_root") || this.parseAsFutures(), !(arguments.length > 0)) return this._root;
              null === e || void 0 === e ? delete this._root : (this._root = e + "", this._root && (this._ticker = this._root + (this._contract || "")))
            }, p.prototype.contract = function (e) {
              if (this.hasOwnProperty("_contract") || this.parseAsFutures(), !(arguments.length > 0)) return this._root;
              null === e || void 0 === e ? delete this._contract : (this._contract = e + "", this._root && (this._ticker = this._root + this._contract))
            }, e(f, n), f.prototype.toString = function () {
              return this.hasOwnProperty("_normalizedValue") ? this._normalizedValue : this.value
            }, f.prototype.parse = function () {
              this._normalizedValue = this.value.replace(/^0+|\.0*$/g, "").replace(/(\.\d*?)0+$/, "$1").replace(/^(\.|$)/, "0$1")
            }, _.prototype.toString = function () {
              return this.value
            }, e(m, p), m.prototype.isIncomplete = !0, m.prototype.incompleteSuggest = function () {
              if ("'" !== this.value) return String("'")
            }, e(g, f), g.prototype.isIncomplete = !0, E = new RegExp(I.map(function (e) {
              return "(" + ("string" == typeof e.pattern ? e.pattern.replace(/[\^\$\(\)\[\]\{\}\*\+\?\|\\]/g, "\\$&") : e.pattern.source) + ")"
            }).concat(".").join("|"), "g"), {
              tokenize: y,
              validate: function (e) {
                var i, n, l, c, u, h, d, m, g;
                if (t.enabled("charting_library_base")) return {
                  currentState: "var"
                };
                for (n = "var", l = "operator", c = i = "init", u = {
                    warnings: [],
                    errors: [],
                    isEmpty: !0
                  }, h = [], d = 0; d < e.length; d++)
                  if (!((m = e[d]) instanceof o))
                    if (delete u.isEmpty, m.isIncomplete && (g = {
                        status: "incomplete",
                        reason: "incomplete_token",
                        offset: m._offset,
                        token: m
                      }, m.incompleteSuggest && (g.recover = {
                        append: m.incompleteSuggest()
                      }), u.warnings.push(g), d !== e.length - 1)) g.status = "error";
                    else if (m instanceof p || m instanceof f) {
                  if (c === n) {
                    u.errors.push({
                      status: "error",
                      reason: "unexpected_token",
                      offset: m._offset,
                      token: m
                    });
                    continue
                  }
                  c = n
                } else if (m instanceof a) {
                  if (c !== n) {
                    u.errors.push({
                      status: "error",
                      reason: "unexpected_token",
                      offset: m._offset,
                      token: m
                    });
                    continue
                  }
                  c = l
                } else if (m instanceof r) {
                  if (c === n) {
                    u.errors.push({
                      status: "error",
                      reason: "unexpected_token",
                      offset: m._offset,
                      token: m
                    });
                    continue
                  }
                  h.push(m), c = i
                } else if (m instanceof s) {
                  if (c !== n) {
                    u.errors.push({
                      status: "error",
                      reason: "unexpected_token",
                      offset: m._offset,
                      token: m
                    });
                    continue
                  }
                  h.pop() || u.errors.push({
                    status: "error",
                    reason: "unbalanced_brace",
                    offset: m._offset,
                    token: m,
                    recover: {
                      prepend: new r
                    }
                  }), c = n
                } else m instanceof _ && u.errors.push({
                  status: "error",
                  reason: "unparsed_entity",
                  offset: m._offset,
                  token: m
                });
                for (u.braceBalance = h.length, c !== n && u.warnings.push({
                    status: "incomplete"
                  }); h.length;) g = {
                  status: "incomplete",
                  reason: "unbalanced_brace",
                  offset: (m = h.pop())._offset,
                  token: m
                }, c === n && (g.recover = {
                  append: new s
                }), u.warnings.push(g);
                return u.currentState = c, 0 === u.warnings.length && delete u.warnings, 0 === u.errors.length && delete u.errors, u
              },
              factorOutBraces: S,
              normalizeTokens: function (e) {
                for (var t = 0; t < e.length; t++) e[t].parse && e[t].parse();
                return e
              },
              flip: function (e) {
                var t = function (e) {
                  var t, i, n, l, c, u, d, p, _;
                  for (i = 1, n = 2, l = 3, c = t = 0, u = 0, p = 0; p < e.length; p++)
                    if (!((_ = e[p]) instanceof o)) switch (c) {
                      case t:
                        if (!(_ instanceof f && 1 == +_.value)) return !1;
                        c = i;
                        break;
                      case i:
                        if (!(c === i && _ instanceof h)) return !1;
                        c = n, d = p + 1;
                        break;
                      case n:
                        if (_ instanceof r) c = l, u = 1;
                        else if (_ instanceof a) return !1;
                        break;
                      case l:
                        _ instanceof r ? u++ : _ instanceof s && --u <= 0 && (c = n)
                    }
                  return e.slice(d)
                }(e);
                return S(t || [new f("1"), new h, new r].concat(e).concat(new s))
              },
              hasBatsSymbols: function (e) {
                return P(e, ["BATS"])
              },
              hasEodSymbols: function (e) {
                return (e = w(e)) && -1 !== e.toUpperCase().indexOf("_EOD")
              },
              hasChxjpySymbols: function (e) {
                return P(e, ["CHXJPY"])
              },
              hasFreeDelaySymbols: function (e) {
                return P(e, pro.getProductsByType(pro.PRODUCT_TYPES.exchange).map(function (e) {
                  return e.exchange.toUpperCase() + "_DLY"
                }))
              },
              getExchange: w,
              isExchange: function (e, t) {
                return !!(e = w(e)) && e.substr(0, t.length) === t
              },
              SymbolToken: p,
              IncompleteSymbolToken: m,
              NumberToken: f,
              BinaryOperatorToken: a,
              OpenBraceToken: r,
              CloseBraceToken: s,
              ticker: function (e) {
                return new p(e).ticker()
              },
              shortName: function (e) {
                if ("string" != typeof e) throw new TypeError("expression must be a string");
                var t = S(v(y(e)));
                return t.forEach(function (e) {
                  e instanceof p && e.exchange(null)
                }), T(t)
              },
              normalize: function (e) {
                if ("string" != typeof e) throw new TypeError("expression must be a string");
                return T(S(v(y(e))))
              }
            }
          }();
        e.exports = n
      }).call(this, i("Kxc7"))
    },
    "8xAY": function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "LabelSettings", function () {
          return n
        }),
        function (e) {
          e.offset = 8, e.fontSize = 12, e.lineSpacing = 10, e.bgColor = "rgba(255,255,255,.8)", e.borderColor = "#e3e3e3", e.padding = 8
        }(n || (n = {}))
    },
    "8xSi": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "CompareStatusView", function () {
        return r
      }), n = i("mrSG"), o = i("2kV1"), r = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype.update = function () {
          this._source.isFailed() ? this._text = this._source.title(!0, void 0, !1, !1) + ": " + this._source.status() : this._text = this._source.title(!0, void 0, !1, !1) + " " + this._source.status()
        }, t
      }(o.StudyStatusView)
    },
    "972a": function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "MarkLocation", function () {
          return n
        }), i.d(t, "HAlign", function () {
          return o
        }), i.d(t, "VAlign", function () {
          return r
        }), i.d(t, "LineStyle", function () {
          return s
        }),
        function (e) {
          e.AboveBar = "AboveBar", e.BelowBar = "BelowBar", e.Top = "Top", e.Bottom = "Bottom", e.Right = "Right", e.Left = "Left", e.Absolute = "Absolute", e.AbsoluteUp = "AbsoluteUp", e.AbsoluteDown = "AbsoluteDown"
        }(n || (n = {})),
        function (e) {
          e.Left = "left", e.Center = "center", e.Right = "right"
        }(o || (o = {})),
        function (e) {
          e.Top = "top", e.Middle = "middle", e.Bottom = "bottom"
        }(r || (r = {})),
        function (e) {
          e[e.Solid = 0] = "Solid", e[e.Dotted = 1] = "Dotted", e[e.Dashed = 2] = "Dashed"
        }(s || (s = {}))
    },
    "9Jkk": function (e, t, i) {
      "use strict";

      function n(e) {
        return null !== e && void 0 !== e
      }
      var o, r, s, a, l, c, u, h, d, p, f, _, m, g;
      i.r(t), o = i("mrSG"), r = i("Eyy1"), s = i("XlJ7"), a = i("x0JF"), l = i("Y7w9"), c = i("Zp/P"), u = i("VdBB"), h = function () {
        function e() {
          this._data = null, this._barWidth = null
        }
        return e.prototype.setData = function (e) {
          this._data = e, this._barWidth = Math.max(1, Math.round(Object(c.optimalHiLoWidth)(e.barSpacing)))
        }, e.prototype.draw = function (e) {
          var t, i, n, o, r, a;
          if (null !== this._data && null !== this._barWidth) {
            for (e.save(), e.translate(.5, .5), e.textAlign = "center", e.fillStyle = this._data.labelColor, e.font = Object(s.makeFont)(this._data.fontSize, this._data.font), t = this._data.bars, i = this._data.inverted, n = 0; n < t.length; ++n) o = t[n], r = Math.min(o.high, o.low), a = Math.max(o.high, o.low), e.fillText(i ? o.lowLabel : o.highLabel, o.time, r - this._data.labelsPadding), e.fillText(i ? o.highLabel : o.lowLabel, o.time, a + this._data.labelsPadding + this._data.fontSize);
            e.restore()
          }
        }, e.prototype.hitTest = function (e) {
          var t, i, n, o, r, s, a;
          return null === this._data || null === this._barWidth ? null : (t = this._data.bars, i = .5 * this._data.barSpacing, 0 === t.length ? null : e.x < t[0].time - i ? null : e.x > t[t.length - 1].time + i ? null : (n = t[Object(l.lowerbound)(t, e.x - i, function (e, t) {
            return e.time < t
          })], e.x < n.time - i || e.x > n.time + i ? null : (o = Object(c.selectionTolerance)(this._barWidth), r = Math.min(n.high, n.low), s = Math.max(n.high, n.low), r - o - (a = this._data.fontSize) <= e.y && e.y <= r + o ? new u.HitTestResult(u.HitTestResult.REGULAR) : s - o <= e.y && e.y <= s + o + a ? new u.HitTestResult(u.HitTestResult.REGULAR) : null)))
        }, e
      }(), d = i("sBR6"), p = i("Zy3/"), f = i("1mZ4"), _ = i("u+0B"), m = i("zDbI"), i.d(t, "SeriesHiLoPaneView", function () {
        return g
      }), g = function (e) {
        function t(t, i) {
          var n, o = e.call(this, t, i) || this;
          return o._widthsCache = new _.TextWidthCache, o._labelsRenderer = new h, o._candlesRenderer = new d.PaneRendererCandles, o._canvas = document.createElement("canvas"), o._context = Object(r.ensureNotNull)(o._canvas.getContext("2d")), n = t.properties(), o._context.font = Object(s.makeFont)(n.hiloStyle.fontSize.value(), m.CHART_FONT_FAMILY), o
        }
        return o.__extends(t, e), t.prototype.renderer = function (e, t, i) {
            var n, o, r, s, a, l, u;
            return this._invalidated && (n = this._series().formatter(), o = this._needLabels(), this._updateImpl(this._barUpdater.bind(this, n, o)), this._invalidated = !1), r = this._series().properties().hiloStyle, s = this._model().timeScale().barSpacing(), a = this._needLabels() && this._bars().every(function (e) {
              return e.highLabelWidth <= s && e.lowLabelWidth <= s
            }), l = {
              bars: this._bars(),
              drawWick: !1,
              barSpacing: s,
              drawBorder: r.showBorders.value(),
              barBorderWidth: 1,
              barWidth: Object(c.optimalHiLoWidth)(s),
              font: m.CHART_FONT_FAMILY,
              fontSize: r.fontSize.value(),
              labelColor: r.labelColor.value(),
              inverted: this._series().priceScale().isInverted(),
              labelsPadding: 3
            }, u = new p.CompositeRenderer, this._candlesRenderer.setData(l), u.append(this._candlesRenderer), a && (this._labelsRenderer.setData(l), u.append(this._labelsRenderer)), this._model().selection().isSelected(this._series()) && this._isMarkersEnabled && u.append(new f.SelectionRenderer(this._selectionData)), u
          }, t.prototype.topPixelMargin = function () {
            return this._margin()
          },
          t.prototype.bottomPixelMargin = function () {
            return this._margin()
          }, t.prototype._margin = function () {
            var e = this._series().properties().hiloStyle;
            return e.showLabels.value() ? e.fontSize.value() + 6 : 0
          }, t.prototype._barUpdater = function (e, t, i, o) {
            var r = i[2],
              s = i[3];
            return !(!n(r) || !n(s)) && (o.high = o.open = r, o.low = o.close = s, t && (o.highLabel = e.format(r), o.highLabelWidth = this._getLabelWidth(o.highLabel), o.lowLabel = e.format(s), o.lowLabelWidth = this._getLabelWidth(o.lowLabel)), !0)
          }, t.prototype._needLabels = function () {
            var e = this._model().timeScale().barSpacing(),
              t = this._series().properties().hiloStyle.showLabels.value();
            return t && e > 5
          }, t.prototype._getLabelWidth = function (e) {
            return this._widthsCache.measureText(this._context, e)
          }, t
      }(a.SeriesBarCandlesPaneView)
    },
    "9Oxe": function (e, t, i) {
      "use strict";
      (function (e, t) {
        var n = i("j1f4"),
          o = i("JgDS").buildUtmQueryStringFromUrlParams,
          r = i("Uwl4").badge,
          s = i("pN/T").template,
          a = i("QcGJ").openPMDialog;
        ! function () {
          function i() {
            var t, i, o;
            e.enabled("disable_userlink_popup") || (l = this, o = $.browser.msie || /\btrident\b/i.test(navigator.userAgent), u.on("mouseenter", ".js-userlink-popup, .userlink, .ch-userlink, .ch-item-userpic", function () {
              i && clearTimeout(i);
              var e = $(this);
              i = setTimeout(function () {
                i = void 0, l.isActiveTarget(e) ? l.open() : t = $.ajax({
                  url: "/u/" + (e.data("username") || e.text()) + "/info/",
                  type: "POST",
                  cache: !o,
                  success: function (t) {
                    t && !t.error && (e.is('[target="_blank"]') && (t.hrefTarget = "_blank"), l.update(e, t).open())
                  }
                })
              }, parseInt(e.data("userlinkpopup-timeout"), 10) || n.dur)
            }).on("mouseleave", ".js-userlink-popup, .userlink, .ch-userlink, .ch-item-userpic", function () {
              t && t.abort(), i && clearTimeout(i), l.close(200)
            }))
          }
          var l, c = $(window),
            u = $(document);
          u.on("click", ".js-user-link-popup-message, .js-profile-message", function () {
            var e = $(this);
            runOrSignIn(function () {
              Modernizr.mobiletouch || l.close(), a(e.data("id"), e.data("username"))
            }, {
              source: "Private message from userlink popup",
              verifiedPhoneRequired: !0
            })
          }), Modernizr.mobiletouch || (i.prototype.clearCloseTimeout = function () {
            this.closeTimeout && (clearTimeout(this.closeTimeout), this.closeTimeout = void 0)
          }, i.prototype.isInDOM = function () {
            return !!this.$el && $.contains(document.body, this.$el[0])
          }, i.prototype.getSizes = function () {
            var e, t, i;
            return this.$el ? (e = this.isInDOM(), t = this.$el.hasClass("i-hidden"), this.$el.removeClass("i-hidden"), e || this.$el.css("position", "fixed").appendTo(document.body), i = {
              width: this.$el.outerWidth(),
              height: this.$el.outerHeight()
            }, e || this.$el.css("position", "").detach(), t && this.$el.addClass("i-hidden"), i) : {
              width: 0,
              height: 0
            }
          }, i.prototype.sendMessage = function () {
            var e = this.$el.find('[name="message-text"]'),
              t = String(e.val()).replace(/^\s+|\s+$/g, "");
            t ? (TradingView.messagesWidget.sendMessageToUser(t, this.data.id), this.close()) : e.css("border-color", "#E0735E").focus()
          }, i.prototype.isActiveTarget = function (e) {
            return this.$el && this.$target && this.$target.is(e)
          }, i.prototype.isSameUser = function (e) {
            var t = e.data();
            return t && this.data && t.id === this.data.id
          }, i.prototype.update = function (e, i) {
            if (this.isActiveTarget(e) || this.isSameUser(e)) return this.clearCloseTimeout(), this;
            open && this.close();
            var n = this;
            return n.$target = e, n.data = i || e.data(), n.data.isSelf = n.data.username === window.user.username, n.data.current_user_is_staff = window.user.is_staff, n.data.show_add_status_btn = !window.user.status && is_authenticated, n.data.hide_top_badge = !0, n.data.utm = o(!0), n.data.badge = r(n.data, !0), n.$el = $(t.render(s, n.data)).on("mouseenter", function () {
              n.clearCloseTimeout()
            }).on("mouseleave", function (e) {
              n.close(n.lastDelay || 500)
            }).on("click", "a, .tv-button", function () {
              n.close()
            }), n
          }, i.prototype.open = function () {
            var e, t, i, o, r, s;
            return this.clearCloseTimeout(), this.opened || !this.$el ? this : (e = this.$target.closest(".js-userlink-popup-anchor"), t = this.$target[0].getBoundingClientRect(), (i = e.length ? e[0].getBoundingClientRect().left : t.left - 20) + (o = this.getSizes()).width > c.width() - 10 && (i = c.width() - o.width - 10), (r = {
              top: t.top - o.height - 5,
              left: i
            }).top < 0 && (r.top = t.top + this.$target.height() + 5), this.$el.css(r).appendTo(document.body).removeClass("i-hidden").addClass("i-opening"), this.$el.find(".js-status").width(this.$el.width()), s = this, setTimeout(function () {
              s.$el.addClass("i-opened"), setTimeout(function () {
                s.$el.removeClass("i-opening")
              }, n.dur)
            }, 20), this.opened = !0, this)
          }, i.prototype.close = function (e) {
            if (e && "number" == typeof e) return this.closeTimeout = setTimeout(this.close.bind(this), e), this.lastDelay = e, this;
            if (this.clearCloseTimeout(), !this.opened) return this;
            this.$el.addClass("i-closing");
            var t = this;
            return setTimeout(function () {
              t.$el && t.$el.remove(), t.$el = t.$target = t.data = void 0, t.opened = !1
            }, .5 * n.dur), this
          }, i.prototype.getPosition = function () {
            return !!this.$el && {
              top: this.$el.offset().top - $(window).scrollTop(),
              left: this.$el.offset().left - $(window).scrollLeft()
            }
          }, l = new i)
        }()
      }).call(this, i("Kxc7"), i("OiQe"))
    },
    "9QkW": function (e, t, i) {
      "use strict";

      function n() {
        a.call(this)
      }

      function o(e, t) {
        this._constructor = "LineToolFibSpeedResistanceArcs";
        var s = t || o.createProperties();
        r.call(this, e, s), e._fibWedgeLabelsCache || (e._fibWedgeLabelsCache = new n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("1SUO").FibWedgePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("Ss5c").LineDataSource,
        s = i("5rJj"),
        a = i("xUGI"),
        l = i("hayr").propertyPages;
      inherit(n, a), n.prototype.levelsCount = function () {
        return o.LevelsCount
      }, inherit(o, r), o.LevelsCount = 11, o.prototype.getCache = function () {
        return this._model._fibWedgeLabelsCache || (this._model._fibWedgeLabelsCache = new n), this._model._fibWedgeLabelsCache
      }, o.prototype.pointsCount = function () {
        return 3
      }, o.prototype.title = function () {
        return "Fib Wedge"
      }, o.prototype.name = function () {
        return "Fib Wedge"
      }, o.prototype.setPoint = function (e, t) {
        var i, n, o, s, a, l, c;
        r.prototype.setPoint.call(this, e, t), this._recursiveGuard || (this._recursiveGuard = !0, 2 === e ? (i = this.pointToScreenPoint(this._points[0])[0], n = this.pointToScreenPoint(this._points[1])[0], s = (o = this.pointToScreenPoint(this._points[2])[0]).subtract(i).length(), a = n.subtract(i).normalized(), n = i.add(a.scaled(s)), l = this.screenPointToPoint(n), this._properties.points[1].price.setValue(l.price),
          this._properties.points[1].bar.setValue(l.index)) : (i = this.pointToScreenPoint(this._points[0])[0], n = this.pointToScreenPoint(this._points[1])[0], o = this.pointToScreenPoint(this._points[2])[0], c = n.subtract(i).length(), a = o.subtract(i).normalized(), o = i.add(a.scaled(c)), l = this.screenPointToPoint(o), this._properties.points[2].price.setValue(l.price), this._properties.points[2].bar.setValue(l.index)), this._recursiveGuard = !1)
      }, o.prototype.addPoint = function (e) {
        var t, i, n, o, s, a, l;
        return 2 === this._points.length && (t = this.pointToScreenPoint(this._points[0])[0], i = this.pointToScreenPoint(this._points[1])[0], n = this.pointToScreenPoint(e)[0], o = i.subtract(t).length(), s = n.subtract(t).normalized(), n = t.add(s.scaled(o)), a = this.ownerSource().firstValue(), l = this.priceScale().coordinateToPrice(n.y, a), e = {
          index: Math.round(this._model.timeScale().coordinateToIndex(n.x)),
          price: l
        }), r.prototype.addPoint.call(this, e)
      }, o.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, o.prototype.getInputsPropertyPage = function () {
        return null
      }, o.prototype.getStylesPropertyPage = function () {
        return l.LineToolFibWedgeStylesPropertyPage
      }, o.createProperties = function (e) {
        var t = new s("linetoolfibwedge", e, !1, {
          range: [1, 11]
        });
        return o._configureProperties(t), t
      }, o._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineToolFibWedge = o
    },
    "9RhJ": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#f7f8fa" d="M0 0h18v18H0z"/><path fill="#ed5565" d="m0 14h18v4H0zm9-7h9v4H9zm0-7h9v4H9z"/><path fill="#4a89dc" d="M0 0v11h11V0z"/><path fill="#fff" d="M8.1 3.3L8 3.2l.1-.5a.4.4 0 0 0-.1-.4L7.6 2v-.2h.6a.4.4 0 0 0 .3-.2l.2-.6h.1l.2.6.3.2h.5c.2 0 .2 0 .1.2l-.4.3a.4.4 0 0 0-.1.4l.1.4c0 .2 0 .2-.1.1L9 3a.4.4 0 0 0-.4 0l-.5.3zm0 3.3c0 .1-.1 0-.1 0L8 6a.4.4 0 0 0-.1-.4l-.4-.3v-.1h.6a.4.4 0 0 0 .3-.3l.2-.5c0-.2 0-.2.1 0l.2.5.3.2h.5c.2 0 .2.1.1.2l-.4.3a.4.4 0 0 0-.1.4l.1.5s0 .1-.1 0L9 6.4a.4.4 0 0 0-.4 0l-.5.3zm0 3.4L8 9.9l.1-.5A.4.4 0 0 0 8 9l-.4-.3v-.2h.6a.4.4 0 0 0 .3-.3l.2-.5c0-.1 0-.1.1 0l.2.5c0 .2.2.3.3.3h.5c.2 0 .2 0 .1.1l-.4.4a.4.4 0 0 0-.1.4l.1.4c0 .1 0 .2-.1.1L9 9.7a.4.4 0 0 0-.4 0L8 10zM4.8 3.3c-.1 0-.2 0-.1-.1v-.5a.4.4 0 0 0 0-.4L4.3 2c-.1-.1 0-.2 0-.2h.5a.4.4 0 0 0 .3-.2l.2-.6c0-.1.1-.1.2 0l.2.5c0 .2.1.3.3.3h.5c.1 0 .2 0 0 .1l-.3.4a.4.4 0 0 0-.1.4V3c.1.1 0 .2 0 .1L5.5 3a.4.4 0 0 0-.4 0l-.4.3zm-3.4 0l-.1-.1.1-.5a.4.4 0 0 0-.1-.4L.9 2v-.2h.6a.4.4 0 0 0 .3-.2l.1-.6h.2l.2.6.3.2h.5c.2 0 .2 0 .1.2l-.4.3a.4.4 0 0 0-.1.4l.1.4c0 .2 0 .2-.1.1L2.3 3a.4.4 0 0 0-.5 0l-.4.3zm3.4 3.3c-.1.1-.2 0-.1 0V6a.4.4 0 0 0 0-.4l-.4-.3c-.1 0 0-.1 0-.1h.5a.4.4 0 0 0 .3-.3l.2-.5c0-.2.1-.2.2 0l.2.5c0 .1.1.2.3.2h.5c.1 0 .2.1 0 .2l-.3.3A.4.4 0 0 0 6 6v.5c.1 0 0 .1 0 0l-.5-.2a.4.4 0 0 0-.4 0l-.4.3zm0 3.4c-.1 0-.2 0-.1-.1v-.5a.4.4 0 0 0 0-.4l-.4-.3c-.1-.1 0-.2 0-.2h.5a.4.4 0 0 0 .3-.3l.2-.5c0-.1.1-.1.2 0l.2.5c0 .2.1.3.3.3h.5c.1 0 .2 0 0 .1l-.3.4a.4.4 0 0 0-.1.4v.4c.1.1 0 .2 0 .1l-.5-.2a.4.4 0 0 0-.4 0l-.4.3zM1.4 6.6c0 .1-.1 0-.1 0l.1-.6a.4.4 0 0 0-.1-.4l-.4-.3v-.1h.6a.4.4 0 0 0 .3-.3l.2-.5c0-.2 0-.2.1 0l.2.5.3.2h.5c.2 0 .2.1.1.2l-.4.3a.4.4 0 0 0-.1.4l.1.5s0 .1-.1 0l-.4-.2a.4.4 0 0 0-.4 0l-.5.3zm0 3.4l-.1-.1.1-.5a.4.4 0 0 0-.1-.4l-.4-.3v-.2h.6a.4.4 0 0 0 .3-.2l.2-.6c0-.1 0-.1.1 0l.2.5c0 .2.2.3.3.3h.5c.2 0 .2 0 .1.1l-.4.4a.4.4 0 0 0-.1.4l.1.4c0 .1 0 .2-.1.1l-.4-.3a.4.4 0 0 0-.4 0l-.5.4z"/></svg>'
    },
    "9X5O": function (e, t, i) {
      "use strict";
      (function (n) {
        function o(e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        var r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S;
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), r = Object.assign || function (e) {
          var t, i, n;
          for (t = 1; t < arguments.length; t++)
            for (n in i = arguments[t]) Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n]);
          return e
        }, s = function () {
          function e(e, t) {
            var i, n;
            for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
          }
          return function (t, i, n) {
            return i && e(t.prototype, i), n && e(t, n), t
          }
        }(), a = i("aO4+"), l = i("f6yo"), c = i("VdBB"), u = i("YFkB"), h = i("5VQP"), d = i("PC8g"), p = i("N22A"), f = i("2O5g"), _ = i("hqNu"), m = i("7KDR"), g = i("CW80"), y = i("Y7w9"), v = function () {
          function e(t) {
            o(this, e), Object.assign(this, t)
          }
          return s(e, [{
            key: "hitTest",
            value: function (e) {
              var t, i = this.left && (0, l.pointInBox)(e, (0, a.box)(new a.Point(this.xl, this.y), new a.Point(this.xl + this.containerWidth, this.y + this.containerHeight))),
                n = this.right && (0, l.pointInBox)(e, (0,
                  a.box)(new a.Point(this.xr, this.y), new a.Point(this.xr + this.containerWidth, this.y + this.containerHeight)));
              if (i || n) return t = i ? "left" : "right", new c.HitTestResult(c.HitTestResult.CUSTOM, {
                mouseClickHandler: this.mouseClickHandler.bind(this, e, t),
                tooltip: this.tooltip
              })
            }
          }, {
            key: "drawPlus",
            value: function (e, t, i) {
              var n, o, r, s, a, l = Math.floor(t) - .5,
                c = Math.floor(this.y - .5) + .5,
                u = l + Math.floor(this.containerWidth),
                h = c + Math.ceil(this.containerHeight + 1) - 1;
              (u - l) % 2 == 0 && (i ? u -= 1 : l += 1), e.fillStyle = this.background, e.fillRect(l, c, u - l, h - c), n = Math.floor(l + this.plusPadding), o = Math.ceil(u - this.plusPadding), r = Math.floor((n + o) / 2), s = Math.floor(this.y + this.plusPadding), a = Math.ceil(this.y + this.containerHeight - this.plusPadding), e.strokeStyle = this.color, e.beginPath(), e.moveTo(n + .5, Math.floor(this.crossHeirY)), e.lineTo(o - .5, Math.floor(this.crossHeirY)), e.moveTo(r, s + .5), e.lineTo(r, a - .5), e.stroke()
            }
          }, {
            key: "draw",
            value: function (e) {
              this.right && this.drawPlus(e, this.xr, !1), this.left && this.drawPlus(e, this.xl, !0)
            }
          }]), e
        }(), S = function () {
          function e(t, i, n) {
            var r = this;
            o(this, e), this._ch = t, this._model = i, this._options = n, this._data = {
              background: "#4c525e",
              color: "white"
            }, this._currMainDataSourceId = null, this._hasActions = !1, this._tooltipText = null, this._gaOrigin = "CH menu", (0, p.waitTradingService)().then(function () {
              r._currMainDataSourceId = null
            })
          }
          return s(e, [{
            key: "update",
            value: function () {
              var e, t, i, n, o = this._ch.y,
                s = this._model.properties().scalesProperties.fontSize.value(),
                a = this._model.timeScale().width(),
                l = Math.ceil(s / 5),
                c = s + 2 * Math.floor(s / 3.5),
                u = c,
                h = o - c / 2,
                d = 0,
                p = a - u,
                f = this._ch.pane;
              f && f.mainDataSource() && f.mainDataSource().idForAlert() !== this._currMainDataSourceId && (this._currMainDataSourceId = f.mainDataSource().idForAlert(), this._hasActions = this._hasAvailableActions(f.mainDataSource()), this._tooltipText = this._getTooltipText(f.mainDataSource())), e = f && 0 !== f.leftPriceScales().length && this._hasActions, t = f && 0 !== f.rightPriceScales().length && this._hasActions, i = a - u / 2, n = this._tooltipText ? {
                text: this._tooltipText,
                rect: {
                  x: i,
                  y: h,
                  w: 0,
                  h: 0
                }
              } : null, this._data = r({}, this._data, {
                left: e,
                right: t,
                xl: d,
                xr: p,
                y: h,
                containerWidth: u,
                containerHeight: c,
                crossHeirY: o,
                plusPadding: l,
                mouseClickHandler: this._handleClick.bind(this),
                tooltip: n
              })
            }
          }, {
            key: "renderer",
            value: function () {
              return this.update(), new v(this._data)
            }
          }, {
            key: "_hasAvailableActions",
            value: function (e) {
              return this._canCreateAlert(e) || this._canTrade(e)
            }
          }, {
            key: "_getTooltipText",
            value: function (e) {
              return this._canCreateAlert(e) && !this._canTrade(e) ? $.t("Add Alert") : null
            }
          }, {
            key: "_canCreateAlert",
            value: function (e) {
              return this._model.canCreateAlertForDataSource(e)
            }
          }, {
            key: "_canTrade",
            value: function (e) {
              return e === this._model.mainSeries() && (0, p.tradingService)()
            }
          }, {
            key: "_handleClick",
            value: function (e, t, i) {
              var o, r, s, a, l, c, h = this;
              n.enabled("widget") && n.enabled("referral_program_for_widget_owners") ? (0, _.showGoToTradingViewReferralDialog)({
                feature: "plusMenu"
              }) : ((0, d.trackEvent)(this._gaOrigin, "click"), o = i.localY, r = (0, p.tradingService)(), a = (s = this._ch.pane.mainDataSource()) === this._model.mainSeries() && r, l = [], c = void 0,
                this._options.menuForMainSourceOnly ? c = this._model.canCreateAlertForDataSource(s) && s.isVisible() ? [s] : [] : ((c = this._ch.pane.orderedSources(t).filter(function (e) {
                  return !(0, g.isLineTool)(e) && h._model.canCreateAlertForDataSource(e) && e.isVisible()
                })).reverse(), c = (0, y.moveToHead)(c, this._model.mainSeries())), c.forEach(function (e) {
                  var t = h._getActionAddAlert(e, o);
                  null !== t && l.push(t)
                }), a ? (l.length > 0 && l.push(new m.Separator), (0, u.createTradeContext)(s, o).then(function (e) {
                  return r.chartContextMenuActions(e, {
                    onlyMainActions: !0,
                    gaOrigin: h._gaOrigin
                  })
                }).then(function (n) {
                  r.trackEvent(h._gaOrigin, "click"), l = l.concat(n), h._showContextMenu(l, e, i, t)
                })) : 1 === l.length ? l[0].execute() : l.length > 0 && this._showContextMenu(l, e, i, t))
            }
          }, {
            key: "_getActionAddAlert",
            value: function (e, t) {
              var n, o = this,
                r = this._getValue(e, t);
              return null === r ? null : (n = this._formatValue(r, e), new m.Action({
                label: $.t("Add Alert For {title}").format({
                  title: e.title(!0, !1, !0)
                }) + " (" + n + ")",
                icon: i("rzvv"),
                onExecute: function () {
                  o._addAlert(r, e)
                }
              }))
            }
          }, {
            key: "_getValue",
            value: function (e, t) {
              var i = e.priceScale(),
                n = e.firstValue(),
                o = i.isPercentage() || i.isIndexedTo100();
              return o && null === n ? null : i.coordinateToPrice(t, n)
            }
          }, {
            key: "_formatValue",
            value: function (e, t) {
              return t.formatter().format(e)
            }
          }, {
            key: "_addAlert",
            value: function (e, t) {
              var i = this;
              runOrSignIn(function () {
                (0, f.invokeAlertEditor)({
                  series: t,
                  value: e,
                  conditionId: "cross",
                  silent: !0
                }), (0, d.trackEvent)(i._gaOrigin, "alert")
              }, {
                source: this._gaOrigin
              })
            }
          }, {
            key: "_showContextMenu",
            value: function (e, t, i, n) {
              var o = this,
                r = "left" === n;
              setTimeout(function () {
                h.ContextMenuManager.createMenu(e).then(function (e) {
                  e.show(function (e, t) {
                    var n = i.view.innerHeight,
                      s = r ? o._data.xl : o._data.xr,
                      a = i.localX - s,
                      l = {
                        left: i.clientX - a,
                        right: i.clientX - a + o._data.containerWidth,
                        top: i.clientY - o._data.containerHeight / 2,
                        bottom: i.clientY + o._data.containerHeight / 2
                      },
                      c = r ? l.left : l.right - e,
                      u = n < l.bottom + t ? l.top - t : l.bottom;
                    return {
                      clientX: c,
                      clientY: u
                    }
                  })
                })
              })
            }
          }]), e
        }(), t.default = S, e.exports = t.default
      }).call(this, i("Kxc7"))
    },
    "9dnG": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M5 11l9-7 9 7-9 7z"/><path d="M23 14l-9 7-9-7"/><path d="M23 17l-9 7-9-7"/></g></svg>'
    },
    "9goP": function (e, t, i) {
      "use strict";
      var n = i("s4+V"),
        o = i("xlKU").showSignModal;
      window.TVDialogs = {
        showSignInDialog: function (e) {
          return o(e)
        },
        signModal: null,
        showGoProDialog: function (e) {
          n.createGoProDialog(e).then(function (e) {
            e.open()
          })
        }
      }
    },
    "9iCb": function (e, t, i) {
      "use strict";

      function n(e, t, i, n) {
        var o, r, s, a, l, d, p, f, _, m, g, y, v, S, b, w, P = i.split(".");
        if (0 !== P.length && 0 !== P[0].length)
          if (b = P[0], r = (o = {
              name: (w = b.split(":"))[0],
              type: 2 === w.length ? w[1] : null
            }).name, l = !(a = null !== (s = o.type)) || "band" === s, d = !a || "area" === s, p = !a || "input" === s, f = !a || "plot" === s ? h.getPlotIdByTitle(e, r) : null, _ = l ? h.getBandIndexByName(e, r) : null, m = d ? h.getFilledAreaIdByTitle(e, r) : null, g = p ? h.getInputByName(e, r) : null, y = t.hasOwnProperty(r),
            (null !== f ? 1 : 0) + (null !== _ ? 1 : 0) + (null !== m ? 1 : 0) + (null !== g ? 1 : 0) + (y ? 1 : 0) > 1) c.logWarn("Study '" + e.description + "' has ambiguous identifier '" + r + "'");
          else if (v = P[1], null !== f) {
          if (1 === P.length) return void c.logWarn("Path of sub-property of '" + r + "' plot for study '" + e.description + "' must be not empty");
          S = P.slice(1), u.applyPlotProperty(e, t, f, S, n)
        } else if (null !== g) u.applyInputValue(t, g, n);
        else if (null !== _) {
          if (void 0 === v) return void c.logWarn("Property name of '" + r + "' band for study '" + e.description + "' must be set");
          u.applyBandProperty(t, _, v, n)
        } else if (null !== m) {
          if (void 0 === v) return void c.logWarn("Property name of '" + r + "' area for study '" + e.description + "' must be set");
          u.applyFilledAreaProperty(t, m, v, n)
        } else y ? u.setRootProperty(t, P, n) : c.logWarn("Study '" + e.description + "' has no plot or input '" + r + "'")
      }

      function o(e, t) {
        var i, o = e.properties(),
          r = o.state();
        for (i in t) t.hasOwnProperty(i) && n(e.metaInfo(), r, i, t[i]);
        o.mergeAndFire(r)
      }

      function r(e, t, i) {
        var o, r, s, a, l;
        for (o in e) e.hasOwnProperty(o) && -1 !== (r = o.indexOf(".")) && (s = o.substr(0, r), null !== (a = h.getMetaInfoByDescription(t, s)) ? null !== (l = i(a.id)) ? n(a, l, o.substr(r + 1), e[o]) : c.logWarn("Cannot apply overrides for study " + s) : c.logWarn("There is no such study " + s))
      }
      var s, a, l, c, u, h;
      i.r(t), i.d(t, "applyOverridesToStudy", function () {
          return o
        }), i.d(t, "applyOverridesToStudyDefaults", function () {
          return r
        }), s = i("Eyy1"), a = i("23IT"), l = i("uOxu"), c = Object(l.getLogger)("Chart.Model.StudyPropertiesOverrider"),
        function (e) {
          var t = {
            line: a.LineStudyPlotStyle.Line,
            histogram: a.LineStudyPlotStyle.Histogram,
            cross: a.LineStudyPlotStyle.Cross,
            area: a.LineStudyPlotStyle.Area,
            columns: a.LineStudyPlotStyle.Columns,
            circles: a.LineStudyPlotStyle.Circles,
            line_with_breaks: a.LineStudyPlotStyle.LineWithBreaks,
            area_with_breaks: a.LineStudyPlotStyle.AreaWithBreaks
          };
          e.applyPlotProperty = function (e, i, n, o, r) {
              var l, u, h;
              if (void 0 !== i.styles)
                if ("color" !== (l = o[0]))
                  if (void 0 !== (u = i.styles[n]) && u.hasOwnProperty(l)) {
                    if ("plottype" === l) {
                      if (void 0 === (h = t[String(r)])) return void c.logWarn("Unsupported plot type for plot: " + r);
                      r = h
                    }
                    u[l] = r
                  } else c.logWarn("Study plot does not have property '" + l + "'");
              else ! function (e, t, i, n, o) {
                void 0 !== e.styles ? null === t && !isNaN(n) && n > 0 ? c.logWarn("Study plot does not have color #" + n) : ((0 === n || isNaN(n)) && (Object(s.ensureDefined)(e.styles[i]).color = String(o), n = 0), null !== t && (Object(s.ensureDefined)(t.colors[n]).color = String(o))) : c.logWarn("Study does not have styles")
              }(i, function (e, t, i) {
                var n, o, r, s;
                if (void 0 === e.plots) return null;
                for (n = 0, o = e.plots; n < o.length; n++)
                  if (r = o[n], Object(a.isColorerPlot)(r) && void 0 !== t.palettes && (s = t.palettes[r.palette], r.target === i && void 0 !== s)) return s;
                return null
              }(e, i, n), n, o.length > 1 ? parseInt(o[1]) : NaN, r);
              else c.logWarn("Study does not have styles")
            }, e.applyBandProperty = function (e, i, n, o) {
              var r, s;
              if (void 0 !== e.bands)
                if (void 0 !== (r = e.bands[i]) && r.hasOwnProperty(n)) {
                  if ("plottype" === n) {
                    if (void 0 === (s = t[String(o)])) return void c.logWarn("Unsupported plot type for band: " + o);
                    o = s
                  }
                  r[n] = o
                } else c.logWarn("Study band does not have property '" + n + "'");
              else c.logWarn("Study does not have bands")
            },
            e.applyFilledAreaProperty = function (e, t, i, n) {
              if (void 0 !== e.filledAreasStyle) {
                var o = e.filledAreasStyle[t];
                void 0 !== o && o.hasOwnProperty(i) ? o[i] = n : c.logWarn("Study area does not have property '" + i + "'")
              } else c.logWarn("Study does not have areas")
            }, e.applyInputValue = function (e, t, i) {
              void 0 !== e.inputs && e.inputs.hasOwnProperty(t) ? e.inputs[t] = i : c.logWarn("Study does not have input '" + t + "'")
            }, e.setRootProperty = function (e, t, i) {
              var n, o, r, s, a;
              if (0 !== t.length) {
                for (n = e, o = 0, r = t.slice(0, -1); o < r.length && (s = r[o], null != n && e.hasOwnProperty(s)); o++) n = e[s];
                a = t[t.length - 1], null != n && n.hasOwnProperty(a) ? n[a] = i : c.logWarn("Study does not have property " + t.join("."))
              }
            }
        }(u || (u = {})),
        function (e) {
          e.getInputByName = function (e, t) {
            var i, n, o;
            if (void 0 === e.inputs) return null;
            for (t = t.toLowerCase(), i = 0, n = e.inputs; i < n.length; i++)
              if ((o = n[i]).name.toLowerCase() === t) return o.id;
            return null
          }, e.getPlotIdByTitle = function (e, t) {
            var i, n;
            if (void 0 === e.styles) return null;
            for (i in t = t.toLowerCase(), e.styles)
              if ((void 0 !== (n = e.styles[i]) && void 0 !== n.title ? n.title : i).toLowerCase() === t) return i;
            return null
          }, e.getFilledAreaIdByTitle = function (e, t) {
            var i, n, o;
            if (void 0 === e.filledAreas) return null;
            for (t = t.toLowerCase(), i = 0, n = e.filledAreas; i < n.length; i++)
              if ((o = n[i]).title.toLowerCase() === t) return o.id;
            return null
          }, e.getBandIndexByName = function (e, t) {
            if (void 0 === e.bands) return null;
            t = t.toLowerCase();
            for (var i = 0; i < e.bands.length; ++i)
              if (e.bands[i].name.toLowerCase() === t) return i;
            return null
          }, e.getMetaInfoByDescription = function (e, t) {
            var i, n, o;
            for (t = t.toLowerCase(), i = 0, n = e; i < n.length; i++)
              if ((o = n[i]).description.toLowerCase() === t || o.shortDescription.toLowerCase() === t) return o;
            return null
          }
        }(h || (h = {}))
    },
    "9nLJ": function (e, t, i) {
      "use strict";
      (function (t, n) {
        function o(e, i, n, o, r) {
          this._chartWidgetCollection = e, this._chartApiInstance = i, this._saveChartService = n, this._loadChartService = o, this._invokeAlertEditor = r, this._proxyWatchListChangedDelegate = null, this._lockDrawingsWatchedValue = null, this._hideDrawingsWatchedValue = null, this._magnetEnabledWatchedValue = null, this._magnetModeWatchedValue = null, this._activeChangedChangedDelegate = new t, this._chartWidgetCollection.activeChartWidget.subscribe(function () {
            this._activeChangedChangedDelegate.fire()
          }.bind(this)), this._chartWidgets = new WeakMap, this._activateChart = function (t) {
            e.activeChartWidget.setValue(t)
          }
        }
        var r = i("PT1i").linking,
          s = i("Q19o"),
          a = i("VNzU").layouts,
          l = i("FQhm"),
          c = i("5VQP").ContextMenuManager,
          u = i("mMWL"),
          h = i("pPtI"),
          d = i("lhgw"),
          p = i("uOxu"),
          f = i("brCa").createNoticeDialog,
          _ = i("oNDq").createConfirmDialog,
          m = i("2jXJ"),
          g = i("sJA2").ThemesApi,
          y = i("pZll").symbolSearchUIService,
          v = i("2u9o"),
          S = i("TxTq"),
          b = i("PfBM").ConnectionStatus,
          w = i("N22A"),
          P = w.tradingService,
          T = w.waitTradingService,
          C = i("eKpm").publishChart,
          x = i("xOeO").showSupportDialog,
          E = i("bMkT");
        o.prototype.subscribe = function (e, t) {
            l.subscribe(e, t)
          }, o.prototype.unsubscribe = function (e, t) {
            l.unsubscribe(e, t)
          }, o.prototype.onContextMenu = function (e) {
            l.subscribe("onContextMenu", function (t) {
              t.callback(e(t.unixtime, t.price))
            })
          }, o.prototype.onGrayedObjectClicked = function (e) {
            l.subscribe("onGrayedObjectClicked", e)
          },
          o.prototype.activeChart = function () {
            return this._getChartWidgetApi(this._chartWidgetCollection.activeChartWidget.value())
          }, o.prototype._getChartWidgetApi = function (e) {
            var t = this._chartWidgets.get(e);
            return void 0 === t && (t = new s(e, this._activateChart.bind(null, e)), this._chartWidgets.set(e, t)), t
          }, o.prototype.onActiveChartChanged = function () {
            return this._activeChangedChangedDelegate
          }, o.prototype.changeSymbol = function (e, t, i) {
            r.interval.setValue(t), r.symbol.setValue(e), i && this.activeChart().onDataLoaded().subscribe(null, i, !0)
          }, o.prototype.setLayout = function (e) {
            this._chartWidgetCollection.layout.setValue(e)
          }, o.prototype.layout = function () {
            return this._chartWidgetCollection.layout.value()
          }, o.prototype.layoutName = function () {
            return this._chartWidgetCollection.metaInfo.name.value()
          }, o.prototype.chartsCount = function () {
            return a[this.layout()].count
          }, o.prototype.chart = function (e) {
            if (void 0 === e && (e = 0), e < 0 || e >= this.chartsCount()) throw Error("Incorrect index: " + e);
            return this._getChartWidgetApi(this._chartWidgetCollection.getAll()[e])
          }, o.prototype.getSymbolInterval = function (e) {
            var t = {
              symbol: r.symbol.value(),
              interval: r.interval.value()
            };
            return e && e(t), t
          }, o.prototype.saveChart = function (e) {
            var t = this;
            this._saveChartService.whenReadyToSave(function () {
              var i = t._saveChartService.saveToJSON();
              return e && e(JSON.parse(i.content))
            })
          }, o.prototype.getSavedCharts = function (e) {
            d.getCharts(e)
          }, o.prototype.loadChartFromServer = function (e) {
            d.loadChart(e)
          }, o.prototype.saveChartToServer = function (e, t, i) {
            this._saveChartService.saveChartSilently(e, t, i)
          }, o.prototype.removeChartFromServer = function (e, t) {
            d.removeChart(e, t)
          }, o.prototype.getIntervals = function () {
            var e = [],
              t = h.getCustomResolutions();
            return null !== this._chartApiInstance && (e = this._chartApiInstance.defaultResolutions()), h.mergeResolutions(e, t)
          }, o.prototype.closePopupsAndDialogs = function () {
            var e, t, n = document.querySelectorAll("._tv-dialog-title-close");
            for (e = 0; e < n.length; e++) n[e].click();
            (t = i.c.KHon) && t.exports.closeAllDialogs(), c.hideAll()
          }, o.prototype.selectLineTool = function (e) {
            m.supportedLineTools[e] && (e = m.supportedLineTools[e].name, u.tool.value() !== e && u.tool.setValue(e))
          }, o.prototype.selectedLineTool = function () {
            var e, t = Object.keys(m.supportedLineTools),
              i = u.tool.value();
            for (e = 0; e < t.length; ++e)
              if (m.supportedLineTools[t[e]].name === i) return t[e];
            return ""
          }, o.prototype.lockAllDrawingTools = function () {
            return null === this._lockDrawingsWatchedValue && (this._lockDrawingsWatchedValue = new n(u.lockDrawings().value()), this._lockDrawingsWatchedValue.subscribe(function (e) {
              u.lockDrawings().setValue(e)
            }), u.lockDrawings().subscribe(this, function () {
              this._lockDrawingsWatchedValue.setValue(u.lockDrawings().value())
            })), this._lockDrawingsWatchedValue
          }, o.prototype.hideAllDrawingTools = function () {
            return null === this._hideDrawingsWatchedValue && (this._hideDrawingsWatchedValue = new n(u.hideAllDrawings().value()), this._hideDrawingsWatchedValue.subscribe(function (e) {
                u.hideAllDrawings().setValue(e)
              }), u.hideAllDrawings().subscribe(this, function () {
                this._hideDrawingsWatchedValue.setValue(u.hideAllDrawings().value())
              })),
              this._hideDrawingsWatchedValue
          }, o.prototype.magnetEnabled = function () {
            return null === this._magnetEnabledWatchedValue && (this._magnetEnabledWatchedValue = new n(u.properties().magnet.value()), this._magnetEnabledWatchedValue.subscribe(function (e) {
              u.properties().magnet.setValue(e)
            }), u.properties().magnet.subscribe(this, function () {
              this._magnetEnabledWatchedValue.setValue(u.properties().magnet.value())
            })), this._magnetEnabledWatchedValue
          }, o.prototype.magnetMode = function () {
            return null === this._magnetModeWatchedValue && (this._magnetModeWatchedValue = new n(u.properties().magnetMode.value()), this._magnetModeWatchedValue.subscribe(function (e) {
              u.properties().magnetMode.setValue(e)
            }), u.properties().magnetMode.subscribe(this, function () {
              this._magnetModeWatchedValue.setValue(u.properties().magnetMode.value())
            })), this._magnetModeWatchedValue
          }, o.prototype.mainSeriesPriceFormatter = function () {
            return this._chartWidgetCollection.activeChartWidget.value().model().mainSeries().priceScale().formatter()
          }, o.prototype.showNoticeDialog = function (e) {
            function t() {
              i && (i(), i = null)
            }
            var i = (e = e || {}).callback;
            f({
              title: e.title,
              content: e.body || ""
            }).then(function (e) {
              e.on("action:ok", t), e.on("afterClose", t), e.open()
            })
          }, o.prototype.showConfirmDialog = function (e) {
            function t(e) {
              i && (i(e), i = null)
            }
            if (!(e = e || {}).callback) throw Error("callback must be exist");
            var i = e.callback;
            _({
              title: e.title,
              content: e.body || ""
            }).then(function (e) {
              e.on("action:yes", t.bind(null, !0)), e.on("action:no", t.bind(null, !1)), e.on("afterClose", t.bind(null, !1)), e.open()
            })
          }, o.prototype.logs = function () {
            return {
              getLogHistory: p.getLogHistory,
              enable: p.loggingOn,
              disable: p.loggingOff
            }
          }, o.prototype.watchlist = function () {
            return this._watchListApi
          }, o.prototype.setWatchlistManager = function (e) {
            this._chartApiInstance && (this._watchListApi = new E(e, this._chartApiInstance))
          }, o.prototype.showLoadChartDialog = function () {
            var e = this._loadChartService;
            e && e.showLoadDialog()
          }, o.prototype.showSaveAsChartDialog = function () {
            var e = this._saveChartService;
            e && window.runOrSignIn(function () {
              e.saveChartAs()
            }, {
              source: "Save as chart dialogue"
            })
          }, o.prototype.themes = function () {
            return new g({
              chartWidgetCollection: this._chartWidgetCollection
            })
          }, o.prototype.undoRedoState = function () {
            return this._chartWidgetCollection.undoHistory.state()
          }, o.prototype.trading = function () {
            return P()
          }, o.prototype.waitTrading = function () {
            return T()
          }, o.prototype.symbolSearch = function () {
            return this._chartApiInstance ? new v(this._chartApiInstance) : null
          }, o.prototype.saveChartOrShowTitleDialog = function (e, t, i) {
            var n = this._saveChartService;
            n && n.saveChartOrShowTitleDialog(e, t, i)
          }, o.prototype.showRenameChartDialog = function () {
            var e = this._saveChartService;
            e && e.renameChart()
          }, o.prototype.setUserInfo = function (e) {
            e && (e.is_first_login && delete e.is_first_login, window.loginUser(e))
          }, o.prototype.connect = function () {
            this._chartApiInstance.connected() || this._chartApiInstance.connect(), S.forceConnect()
          }, o.prototype.disconnect = function () {
            this._chartApiInstance.connected() && this._chartApiInstance.disconnect(), S.isConnected() && S.disconnect()
          }, o.prototype.loginRequired = function () {
            return window.loginRequiredDelegate
          }, o.prototype.onConnectionStatusChanged = function (e) {
            S.onStatus(e)
          }, o.prototype.isConnected = function () {
            return S.status() === b.Open
          }, o.prototype.showCreateAlertDialog = function () {
            this._invokeAlertEditor && this._invokeAlertEditor({
              trackEvent: "tv-api"
            })
          }, o.prototype.publishChart = function (e) {
            return C(e, !1)
          }, o.prototype.showSupportDialog = function () {
            x()
          }, o.prototype.takeScreenshot = function () {
            this._chartWidgetCollection.takeScreenshot()
          }, o.prototype.setSymbolSearchUI = function (e) {
            y().setSymbolGetter(e)
          }, e.exports = o
      }).call(this, i("aIyQ"), i("hY0g"))
    },
    "9zVu": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "DrawingToolbarBootloader", function () {
        return l
      }), n = i("mrSG"), o = i("OiSa"), r = i("7RN7"), s = i("cZRT"), a = i("YuHv"), l = function (e) {
        function t(t) {
          var i = e.call(this) || this;
          return i._opts = t, o.isDrawingToolbarVisible.value() && (i._opts.resizerBridge.negotiateWidth(r.b), i._opts.resizerBridge.body.value()[0].appendChild(Object(a.a)())), i
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          var e = this;
          return Promise.all([i.e("vendors"), i.e(14), i.e(26), i.e(47), i.e(123), i.e(169), i.e(228), i.e(12), i.e("line-tools-icons"), i.e(135), i.e("drawing-toolbar")]).then(i.bind(null, "5f7t")).then(function (t) {
            return new t.DrawingToolbarRenderer(e._opts.resizerBridge.body.value()[0], n.__assign({}, e._opts))
          })
        }, t
      }(s.a)
    },
    AE9l: function (e, t, i) {},
    AICS: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i;
        return !!Object(c.isIDCExchange)(e) && (e = "exchange-{0}".format(e.toLowerCase()), void 0 !== (i = (t = window.pro).getProduct(e)).idc_service_codes_delay && ((!Array.isArray(i.included_exchanges) || !i.included_exchanges.some(function (e) {
          return t.hasPackage("exchange-{0}".format(e))
        })) && (!t.hasPackage(e) && !t.hasPackage(e + "_dly"))))
      }

      function o(e, t) {
        return void 0 === t && (t = !0), new Promise(function (i, o) {
          var c = Object(r.getExchange)(e);
          return c ? Object(a.enabled)(l.ProductFeatures.IDC_NO_NEED_AGREEMENT) ? i(e) : function (e) {
            var t = window.pro;
            return new Promise(function (i) {
              window.is_authenticated ? !t.getIDCExchanges(!0).length || t.isInvalidShopConf() ? t.updateShopConf().then(function () {
                i(!n(e))
              }).catch(function () {
                i(!0)
              }) : i(!n(e)) : i(!0)
            })
          }(c).then(function (n) {
            return n ? i(e) : Object(a.enabled)(l.ProductFeatures.IDC_AVAILABLE_DELAY) ? t ? void Object(s.fetch)("/idc-sign-agreement-check/" + c + "/", {
              credentials: "include"
            }).then(function (t) {
              return t.json().then(function (t) {
                return t.res === u.DELAY_NOT_AVAILABLE ? o({
                  exchange: c,
                  errCode: t.res,
                  reason: "delay not available",
                  symbol: e
                }) : t.res === u.NEED_SIGN_AGREEMENT ? o({
                  exchange: c,
                  errCode: t.res,
                  reason: "need sign agreement",
                  symbol: e
                }) : t.res === u.NEED_ADD_SERVICE ? o({
                  exchange: c,
                  errCode: t.res,
                  reason: "need add service",
                  symbol: e
                }) : i(e)
              })
            }).catch(function () {
              i(e)
            }) : i(e) : o({
              exchange: c,
              errCode: u.DELAY_NOT_AVAILABLE,
              reason: "delay not available",
              symbol: e
            })
          }) : i(e)
        })
      }
      var r, s, a, l, c, u;
      i.r(t), r = i("8woN"), s = i("BHQF"), a = i("NP3r"), l = i("bKsZ"), i("HbRj"), i("bSeV"), c = i("fgbt"), u = i("t2oF"), i.d(t, "check", function () {
        return o
      })
    },
    AVbJ: function (e) {
      e.exports = {
        "color-active-hover-text": "color-gull-gray",
        "color-alert-bg": "color-mirage-1",
        "color-alert-text": "color-loblolly",
        "color-border": "color-bright-gray",
        "color-border-chat-fields": "color-bright-gray",
        "color-border-hover": "color-trout-1",
        "color-border-table": "color-bright-gray",
        "color-brand": "color-tv-blue-700",
        "color-brand-active": "color-tv-blue-600",
        "color-brand-hover": "color-tv-blue-600",
        "color-button-hover-bg": "color-mirage-3",
        "color-chart-page-bg": "color-cold-gray-800",
        "color-common-tooltip-text": "color-loblolly",
        "color-common-tooltip-bg": "color-trout-2",
        "color-depthrenderer-fill-style": "color-catskill-white",
        "color-depthrenderer-stroke-style": "color-trout-1",
        "color-disabled-border-and-color": "color-ebony-clay",
        "color-disabled-input": "color-bright-gray",
        "color-empty-container-message": "color-slate-gray",
        "color-footer-chart-panel-bg": "color-mirage-3",
        "color-highlight-new": "color-dark-slate-blue",
        "color-icons": "color-slate-gray",
        "color-input-bg": "color-charade",
        "color-input-textarea-readonly": "color-trout-1",
        "color-input-publish-bg": "color-mirage-1",
        "color-item-active-blue": "color-blue-dianne",
        "color-item-hover-active-bg": "color-charade",
        "color-item-hover-bg": "color-ebony-clay",
        "color-item-hover-blue": "color-blue-dianne",
        "color-item-selected-blue": "color-blue-dianne",
        "color-link": "color-tv-blue-700",
        "color-link-hover": "color-tv-blue-600",
        "color-link-active": "color-tv-blue-600",
        "color-list-item": "color-slate-gray",
        "color-list-nth-child-bg": "color-mirage-3",
        "color-news-highlight": "color-charade",
        "color-pane-bg": "color-mirage-1",
        "color-placeholder": "color-trout-2",
        "color-popup-bg": "color-cold-gray-850",
        "color-popup-menu-item-hover-bg": "color-cold-gray-800",
        "color-popup-menu-separator": "color-bright-gray",
        "color-popup-head-text": "color-cold-gray-300",
        "color-popup-text": "color-cold-gray-300",
        "color-popup-text-subline": "color-cold-gray-500",
        "color-row-hover-active-bg": "color-ebony-clay",
        "color-sb-scrollbar-body-bg": "color-trout-2",
        "color-screener-header-bg": "color-mirage-3",
        "color-screener-header-bg-hover": "color-ebony-clay",
        "color-screener-description": "color-loblolly",
        "color-section-separator-border": "color-bright-gray",
        "color-separator-table-chat": "color-bright-gray",
        "color-tag-active-bg": "color-bright-gray",
        "color-tag-hover-bg": "color-charade",
        "color-text-regular": "color-loblolly",
        "color-text-secondary": "color-trout-1",
        "color-toolbar-button-text": "color-cold-gray-500",
        "color-toolbar-button-text-hover": "color-cold-gray-450",
        "color-toolbar-button-text-active": "color-tv-blue-700",
        "color-toolbar-button-text-active-hover": "color-tv-blue-600",
        "color-toolbar-interactive-element-text-normal": "color-cold-gray-300",
        "color-toolbar-interactive-element-text-hover": "color-cold-gray-250",
        "color-toolbar-opened-element-bg": "color-cold-gray-800",
        "color-right-toolbar-opened-element-bg": "color-cold-gray-850",
        "color-tooltip-bg": "color-bright-gray",
        "color-tv-button-checked": "color-slate-gray",
        "color-tv-dialog-caption": "color-athens-gray-2",
        "color-tv-dropdown-item-hover-bg": "color-charade",
        "color-underlined-text": "color-gull-gray",
        "color-widget-pages-bg": "color-mirage-2",
        "color-forex-icon": "color-white",
        "color-list-item-active-bg": "color-medium-blue",
        "color-list-item-hover-bg": "color-ebony-clay",
        "color-list-item-text": "color-loblolly",
        "color-price-axis-label-back": "color-cold-gray-800",
        "color-price-axis-label-text": "color-cold-gray-500",
        "color-price-axis-gear": "color-cold-gray-500",
        "color-price-axis-gear-hover": "color-cold-gray-400",
        "color-price-axis-highlight": "color-cold-gray-800",
        "color-bid": "color-tv-blue-700",
        "color-scroll-bg": "color-cold-gray-750",
        "color-scroll-border": "color-cold-gray-850",
        "color-embed-widget-background": "color-cold-gray-900",
        "color-header-title": "color-cold-gray-300",
        "color-scroll-buttons-bg": "color-cold-gray-550",
        "color-scroll-buttons-arrow": "color-white"
      }
    },
    "AWC/": function (e, t, i) {
      e.exports = {
        container: "container-2BvS3Fpg-",
        inner: "inner-3YzQuyJx-",
        "border-left": "border-left-LYAXTdyL-",
        "border-right": "border-right-OzIcepiV-",
        "border-top": "border-top-193CSDqN-",
        "border-bottom": "border-bottom-2lZASSTD-",
        "top-right-radius": "top-right-radius-FE25nrPp-",
        "top-left-radius": "top-left-radius-1ELOZlIb-",
        "bottom-right-radius": "bottom-right-radius-7zqIiaLN-",
        "bottom-left-radius": "bottom-left-radius-xCxQ998i-"
      }
    },
    AXy7: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._source = t, this._properties = e, this._points = [new l(-1, -1)], this._invalidated = !0, this._lineRenderer = new u
      }

      function o() {
        this._data = null
      }

      function r(e) {
        this._source = e, this._points = [], this._bandBgRenderer = new o
      }

      function s(e, t, i) {
        this._source = e, this._points = [], a(t.type === h.FilledArea.TYPE_HLINES, "Wrong filledArea type: " + t.type), this._initBandIndexes(t.objAId, t.objBId), this._fillStyleProps = i, this._bandBgRenderer = new o
      }
      var a = i("Eyy1").assert,
        l = i("aO4+").Point,
        c = i("Hr11").clamp,
        u = i("l4sv").HorizontalLineRenderer,
        h = i("0YCj"),
        d = i("Tmoa");
      n.prototype.update = function () {
        this._invalidated = !0
      }, n.prototype.updateImpl = function () {
        var e, t, i = this._source.priceScale();
        i && !i.isEmpty() ? (e = this._properties.value.value(), isNumber(e) ? (t = this._source.firstValue(), this._points[0] = new l(-1, i.priceToCoordinate(e, t))) : this._points[0] = new l(-1, NaN)) : this._points[0] = new l(-1, -1)
      }, n.prototype.renderer = function () {
        this._invalidated && (this.updateImpl(), this._invalidated = !1);
        var e = {};
        return e.width = this._source.model().timeScale().width(), e.height = this._source.priceScale().height(), e.points = this._points, e.color = this._properties.color.value(), e.linewidth = this._properties.linewidth.value(), e.linestyle = this._properties.linestyle.value(), this._lineRenderer.setData(e), this._lineRenderer
      }, o.prototype.setData = function (e) {
        this._data = e
      }, o.prototype.draw = function (e) {
        var t, i, n;
        null !== this._data && 0 !== this._data.points.length && (t = e.canvas.width, e.fillStyle = d.generateColor(this._data.backcolor, this._data.transparency), i = Math.min(this._data.points[0], this._data.points[1]), n = Math.max(this._data.points[0], this._data.points[1]), e.fillRect(0, i, t, n - i))
      }, o.prototype.hitTest = function (e) {
        return null
      }, r.prototype.update = function () {
        var e, t, i, n;
        this._points = [], this._source.properties().bandsBackground.fillBackground.value() && (e = this._source.properties().bands[0], t = this._source.properties().bands[1],
          (i = this._source.priceScale()) && !i.isEmpty() && (n = this._source.firstValue(), this._points.push(i.priceToCoordinate(e.value.value(), n)), this._points.push(i.priceToCoordinate(t.value.value(), n))))
      }, r.prototype.renderer = function () {
        var e = {};
        return e.points = this._points, e.backcolor = this._source.properties().bandsBackground.backgroundColor.value(), e.transparency = this._source.properties().bandsBackground.transparency.value(), this._bandBgRenderer.setData(e), this._bandBgRenderer
      }, s.prototype._initBandIndexes = function (e, t) {
        var i, n;
        for (this._bandAKey = null, this._bandBKey = null, i = 0; i < this._source.metaInfo().bands.length; ++i) n = this._source.metaInfo().bands[i], null !== this._bandAKey || n.id !== e ? null !== this._bandBKey || n.id !== t || (this._bandBKey = i) : this._bandAKey = i
      }, s.prototype.update = function () {
        var e, t, i, n;
        this._points = [], this._fillStyleProps.visible.value() && (e = this._source.properties().bands[this._bandAKey], t = this._source.properties().bands[this._bandBKey], (i = this._source.priceScale()) && !i.isEmpty() && (n = this._source.firstValue(), this._points.push(i.priceToCoordinate(e.value.value(), n)), this._points.push(i.priceToCoordinate(t.value.value(), n))))
      }, s.prototype.renderer = function () {
        var e, t = this._fillStyleProps.transparency.value();
        return t = c(t, 0, 100), (e = {}).points = this._points, e.backcolor = d.generateColor(this._fillStyleProps.color.value(), t), e.transparency = this._fillStyleProps.transparency.value(), this._bandBgRenderer.setData(e), this._bandBgRenderer
      }, t.BandPaneView = n, t.BandBackgroundPaneView = r, t.HlineFillPaneView = s
    },
    "Aba+": function (e, t, i) {},
    Ai40: function (e, t, i) {
      "use strict";
      (function (e, n) {
        function o(e, t, i, n, o) {
          this._paneView = o, l.call(this, e, t, i, n)
        }

        function r(e, t, i, n) {
          o.call(this, e, t, i, n, new d(e, this))
        }

        function s(e, t, i, n) {
          o.call(this, e, t, i, n, new p(e, this))
        }

        function a(e, t, i, n) {
          o.call(this, e, t, i, n, new f(e, this)), this.pointSets = {}, this.updateEstimateHandler = this.updateEstimate.bind(this), this._needRequestEstimate = !0
        }
        var l = i("GVHu").Study,
          c = i("2kV1").StudyStatusView,
          u = i("4miz").DataWindowView,
          h = i("vAx0"),
          d = h.DividendsPaneView,
          p = h.SplitsPaneView,
          f = h.EarningsPaneView,
          _ = i("vopJ").createEstimatesProvider,
          m = i("hayr").propertyPages,
          g = i("pPtI").getServerInterval;
        inherit(o, l), o.prototype.createViews = function () {
            this._paneViews = [this._paneView], this._priceAxisViews = [], this._dataWindowView || (this._dataWindowView = new u), this._legendView = null, this._statusView || (this._statusView = new c(this, this._model.properties().scalesProperties.textColor))
          }, o.prototype.onClickOutside = function (e) {
            this._paneView.onClickOutside(e)
          }, o.prototype.preferNoScale = function () {
            return !0
          }, o.prototype.showInObjectTree = function () {
            return !1
          }, o.prototype.isSavedInStudyTemplates = function () {
            return !1
          }, o.prototype.isRemovedByStudyTemplates = function () {
            return !1
          }, o.prototype.removeByRemoveAllStudies = function () {
            return !1
          }, o.prototype.isDraggable = function () {
            return !1
          }, o.prototype.statusView = function () {
            return !1
          }, o.prototype.start = function () {
            l.prototype.start.call(this), this._model.mainSeries().dataEvents().symbolResolved().subscribe(this, this._initPlotStash), this._initPlotStash()
          },
          o.prototype.stop = function () {
            l.prototype.stop.call(this), this._model.mainSeries().dataEvents().symbolResolved().unsubscribe(this, this._initPlotStash), this._paneView.closeTooltips()
          }, o.prototype.isSavedInChart = function (e) {
            return e
          }, o.prototype._initPlotStash = function () {
            this._plotStash = {}
          }, o.prototype._updatePlotStash = function (e, t) {
            var i, n, o;
            !this._restartRequired && this._plotStash && (n = (i = e.value.slice()).shift(), o = String(n), t ? this._plotStash[o] ? String(this._plotStash[o]) !== String(i) && (this._restartRequired = !0) : this._plotStash[o] = i : this._plotStash[o] && (this._restartRequired = !0))
          }, o.prototype.transformData = function (e) {
            for (var t, i, n = e.length - 1; n >= 0; --n) t = e[n], i = this.isValid(t.value), this._updatePlotStash(t, i), i || e.splice(n, 1)
          }, o.prototype.isValid = function (e) {
            throw new Error("Not Implemented")
          }, o.prototype.restoreData = function (e) {
            this.transformData(e.data), e.end = e.data.length, l.prototype.restoreData.call(this, e)
          }, o.prototype.canHaveChildren = function () {
            return !1
          }, o.getSettingsValue = function (e, t) {
            var i = null;
            switch (e) {
              case "TV_DIVIDENDS":
                i = t.esdShowDividends.value();
                break;
              case "TV_SPLITS":
                i = t.esdShowSplits.value();
                break;
              case "TV_EARNINGS":
                i = t.esdShowEarnings.value()
            }
            return i
          }, o.prototype.getDisplayPropertyPage = function () {
            return null
          }, o.prototype.getStylesPropertyPage = function () {
            return e.enabled("show_chart_property_page") ? m.ChartStylesPropertyPage : null
          }, inherit(r, o), r.prototype.isValid = function (e) {
            var t = e[2];
            return $.isNumeric(t)
          }, inherit(s, o), s.prototype.isValid = function (e) {
            var t = e[3];
            return $.isNumeric(t)
          }, inherit(a, o), a.pointSetCounter = 1, a.pointSetsVersion = "1", a.prototype.isValid = function (e) {
            var t = e[3],
              i = e[4];
            return $.isNumeric(t) && $.isNumeric(i)
          }, a.prototype.restorePointset = function (e) {
            return {
              estimate: {
                index: e.index,
                value: [e.tickmark, void 0, e.estimate, $.isNumeric(e.period) ? e.period : n(e.period).unix(), $.isNumeric(e.date) ? e.date : n(e.date).unix()]
              }
            }
          }, a.prototype.restoreData = function (e) {
            var t, i;
            o.prototype.restoreData.call(this, e), (t = this.currentPointsetKey()) && (e.estimate ? this.pointSets[t] = this.restorePointset(e.estimate) : e.pointSets && null == e.pointSetsVersion ? (i = t.split(":")[1].toUpperCase(), e.pointSets[t] ? this.pointSets[t] = this.restorePointset(e.pointSets[t]) : e.pointSets[i] && (this.pointSets[t] = this.restorePointset(e.pointSets[i]))) : e.pointSets && "1" === e.pointSetsVersion && (this.pointSets = e.pointSets))
          }, a.prototype.state = function (e) {
            var t, i, n = o.prototype.state.call(this, e);
            if (e) {
              for (i in t = {}, this.pointSets) this.pointSets.hasOwnProperty(i) && (t[i] = {
                estimate: this.pointSets[i].estimate
              });
              n.data.pointSets = t, n.data.pointSetsVersion = a.pointSetsVersion
            }
            return n
          }, a.prototype.stop = function () {
            o.prototype.stop.call(this);
            var e = this;
            Object.keys(this.pointSets).forEach(function (t) {
              var i = e.pointSets[t];
              i.promise && i.promise.always(function () {
                i.sessionId === e._model.chartApi()._chartApi.sessionid && e._model.chartApi().removePointset(i.pointsetId)
              })
            }), this.pointSets = {}, this._estimatesCache.off("data", this.updateEstimateHandler), this._estimatesCache.destroy(), this._model.mainSeries().dataEvents().symbolResolved().unsubscribe(this, this.requestEstimate)
          }, a.prototype.onData = function (e) {
            o.prototype.onData.call(this, e), "study_completed" === e.method && this._needRequestEstimate && (this._needRequestEstimate = !1, this.requestEstimate())
          }, a.prototype.clearData = function () {
            o.prototype.clearData.call(this), this._needRequestEstimate = !0
          }, a.prototype.generatePointsetId = function () {
            return "pointsetEstimates_" + a.pointSetCounter++
          }, a.prototype.getEstimate = function () {
            var e, t = this.currentPointsetKey();
            return t && (e = this.pointSets[t]) ? e.estimate : null
          }, a.prototype.currentPointsetKey = function () {
            var e = this._series.symbolInfo();
            return e ? e.base_name[0].toLowerCase() : null
          }, a.prototype.createPointsetKey = function (e, t) {
            return e.toLowerCase() + ":" + t.toLowerCase()
          }, a.prototype.updateEstimate = function (e) {
            if (this._model.chartApi().connected()) {
              var t = this;
              this._model.timeScale().isEmpty() ? this._model.mainSeries().dataEvents().messageReceived().subscribe(null, function (i) {
                "series_loading" !== i.method && t.updateEstimateImpl(e)
              }, !0) : this.updateEstimateImpl(e)
            }
          }, a.prototype.updateEstimateImpl = function (e) {
            var t, i, n;
            this._model.chartApi().connected() && (t = this, i = this.createPointsetKey(e.exchange, e.symbol), (n = this.pointSets[i]) && n.promise && (n.promise.always(function () {
              n.sessionId === t._model.chartApi()._chartApi.sessionid && t._model.chartApi().removePointset(n.pointsetId)
            }), delete this.pointSets[i]), !e.date || void 0 === e.period || void 0 === e.reported && void 0 === e.estimate || (this.pointSets[i] = this.createPointset(e)))
          }, a.prototype.start = function () {
            o.prototype.start.call(this), this.pointSets = {}, this._estimatesCache = _(), this._estimatesCache.on("data", this.updateEstimateHandler), this._model.mainSeries().dataEvents().symbolResolved().subscribe(this, this.requestEstimate), this.requestEstimate()
          }, a.prototype.createPointset = function (e) {
            var t, i, o, r = this.generatePointsetId(),
              s = this._model.mainSeries(),
              a = s.symbolId(),
              l = g(s.properties().interval.value().split(",")[0]),
              c = [];
            return c.push([n(e.alignedDate).unix(), 0]), t = $.Deferred(), i = {
              promise: t.promise(),
              pointsetId: r,
              sessionId: this._model.chartApi()._chartApi.sessionid
            }, o = this, this._model.chartApi().createPointset(r, "turnaround", a, l, c, function (s) {
              return s.params.customId !== r ? t.reject() : 0 === s.params.plots.length ? t.reject() : (i.estimate = {
                index: s.params.plots[0].value[0],
                value: [s.params.plots[0].value[1], e.reported, e.estimate, n(e.period).unix(), n(e.date).unix()]
              }, o._model.updateSource(o), t.resolve())
            }), i
          }, a.prototype.requestEstimate = function () {
            var e, t, i;
            this._estimatesCache.resetSymbol(), (e = this.currentPointsetKey()) && this._model.chartApi().connected() && (t = e.split(":")[0], i = e.split(":")[1], this._estimatesCache.setSymbol(t, i))
          }, t.ESDStudyBase = o, t.study_ESD$TV_EARNINGS = a, t.study_ESD$TV_SPLITS = s, t.study_ESD$TV_DIVIDENDS = r
      }).call(this, i("Kxc7"), i("ldgD"))
    },
    ApcL: function (e, t, i) {
      "use strict";

      function n(e, t, i, o, r) {
        var s, l;
        return void 0 === r && (r = !0), void 0 === t[e] ? (I.logDebug("We haven't had this property " + o + "." + e + " yet, please, remove it from whiteList"), null) : Object(a.isObject)(i[e]) ? (s = Object.keys(i[e]), l = "", s.map(function (s) {
          var a;
          return (a = {})[s] = n(s, t[e], i[e], o + "." + e, r), a
        }).reduce(function (e, t) {
          return e[l = Object.keys(t)[0]] = t[l], e
        }, {})) : r ? t[e].value() : t[e]
      }

      function o(e, t, i) {
        var o, r, s, a, l, c, u, h, d, p, f;
        return void 0 === i && (i = H), o = {
          timezone: "",
          priceScaleSelectionStrategyName: "auto",
          timeScale: {
            defaultRightOffset: e.timeScale().defaultRightOffsetProperty().value()
          },
          mainSeries: {},
          sessions: {},
          paneProperties: {},
          scalesProperties: {},
          chartEventsSourceProperties: {},
          tradingProperties: {}
        }, r = ["timeScale", "mainSeries", "sessions"], s = i.mainSeries, a = Object.keys(i), l = Object.keys(s), c = t.properties(), u = e.properties(), h = i.sessions, d = Object.keys(h), p = e.sessions(), f = p.properties(), l.forEach(function (e) {
          o.mainSeries[e] = n(e, c, s, "mainSeries")
        }), d.forEach(function (e) {
          o.sessions[e] = n(e, f, h, "sessions")
        }), a.forEach(function (e) {
          r.includes(e) || (o[e] = n(e, u, i, "preferences"))
        }), o
      }

      function r(e, t, i) {
        var o, r, s, a, l, c, u;
        return void 0 === i && (i = j), o = {
          timeScale: {
            defaultRightOffset: e.timeScale().rightOffsetDefaultValue()
          },
          mainSeries: {},
          sessions: Object(E.deepExtend)({}, x.sessionsPreferencesDefault),
          paneProperties: {},
          scalesProperties: {},
          chartEventsSourceProperties: {},
          tradingProperties: {},
          priceScaleSelectionStrategyName: "auto"
        }, r = ["timeScale", "mainSeries", "sessions"], s = i.mainSeries, a = Object.keys(i), l = Object.keys(s), c = Object(C.factoryDefaults)("chartproperties.mainSeriesProperties"), u = Object(C.factoryDefaults)("chartproperties"), l.forEach(function (e) {
          o.mainSeries[e] = n(e, c, s, "mainSeries", !1)
        }), a.forEach(function (e) {
          r.includes(e) || (o[e] = n(e, u, i, "preferences", !1))
        }), o
      }
      var s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U, H, j;
      i.r(t), s = i("mrSG"), a = i("ogJP"), l = i("vTIA"), c = {
        color: "",
        style: 0,
        width: 0
      }, u = {
        upColor: "",
        downColor: "",
        drawWick: !1,
        drawBorder: !1,
        borderColor: "",
        borderUpColor: "",
        borderDownColor: "",
        wickColor: "",
        wickUpColor: "",
        wickDownColor: "",
        barColorsOnPrevClose: !1
      }, h = {
        upColor: "",
        downColor: "",
        drawWick: !1,
        drawBorder: !1,
        borderColor: "",
        borderUpColor: "",
        borderDownColor: "",
        wickColor: "",
        wickUpColor: "",
        wickDownColor: ""
      }, d = {
        upColor: "",
        downColor: "",
        barColorsOnPrevClose: !1,
        dontDrawOpen: !1,
        thinBars: !0
      }, p = {
        color: "",
        linestyle: 0,
        linewidth: 0,
        styleType: 0
      }, f = {
        color1: "",
        color2: "",
        linecolor: "",
        linestyle: 0,
        linewidth: 0,
        transparency: 0
      }, _ = {
        topFillColor1: "",
        topFillColor2: "",
        bottomFillColor1: "",
        bottomFillColor2: "",
        topLineColor: "",
        bottomLineColor: "",
        topLineWidth: 0,
        bottomLineWidth: 0,
        transparency: 0,
        baseLevelPercentage: 0
      }, m = {
        color: "",
        showBorders: !1,
        borderColor: "",
        showLabels: !1,
        labelColor: "",
        fontSize: 0
      }, g = {
        upColor: "",
        downColor: "",
        drawWick: !1,
        drawBorder: !1,
        borderColor: "",
        borderUpColor: "",
        borderDownColor: "",
        wickColor: "",
        wickUpColor: "",
        wickDownColor: "",
        showRealLastPrice: !1,
        barColorsOnPrevClose: !1,
        inputs: {}
      }, y = {
        upColor: "",
        downColor: "",
        borderUpColor: "",
        borderDownColor: "",
        upColorProjection: "",
        downColorProjection: "",
        borderUpColorProjection: "",
        borderDownColorProjection: "",
        wickUpColor: "",
        wickDownColor: "",
        inputs: {
          boxSize: 0,
          style: "",
          atrLength: 0,
          wicks: !1
        }
      }, v = {
        upColor: "",
        downColor: "",
        borderUpColor: "",
        borderDownColor: "",
        upColorProjection: "",
        downColorProjection: "",
        borderUpColorProjection: "",
        borderDownColorProjection: "",
        inputs: {
          source: "",
          lb: 0
        }
      }, S = {
        upColor: "",
        downColor: "",
        upColorProjection: "",
        downColorProjection: "",
        inputs: {
          style: "",
          atrLength: 0,
          reversalAmount: 0
        }
      }, b = {
        upColor: "",
        downColor: "",
        upColorProjection: "",
        downColorProjection: "",
        inputs: {
          reversalAmount: 0,
          boxSize: 0,
          style: "",
          atrLength: 0
        }
      }, w = {
        upColor: "",
        downColor: "",
        upColorProjection: "",
        downColorProjection: "",
        thinBars: !1,
        inputs: {
          range: 0,
          phantomBars: !1
        }
      }, P = i("uOxu"), T = i("oXaB"), C = i("wZIs"), x = i("KUek"), E = i("FIi8"), i.d(t, "gridPreferencesDefault", function () {
        return A
      }), i.d(t, "crossHairPreferencesDefault", function () {
        return L
      }), i.d(t, "legendPreferencesDefault", function () {
        return D
      }), i.d(t, "panePreferencesDefault", function () {
        return k
      }), i.d(t, "scalesPreferencesBaseDefault", function () {
        return O
      }), i.d(t, "scalesPreferencesToApplyDefault", function () {
        return M
      }), i.d(t, "chartEventsSourceBreaksPreferencesDefault", function () {
        return R
      }), i.d(t, "chartEventsSourcePreferencesDefault", function () {
        return V
      }), i.d(t, "timeScalePreferencesDefault", function () {
        return B
      }), i.d(t, "priceScalePreferencesDefault", function () {
        return N
      }), i.d(t, "statusViewPreferencesDefault", function () {
        return F
      }), i.d(t, "mainSeriesPreferencesDefault", function () {
        return W
      }), i.d(t, "chartPreferencesBaseDefault", function () {
        return U
      }), i.d(t, "chartPreferencesToApplyDefault", function () {
        return H
      }), i.d(t, "chartPreferencesToRestoreDefault", function () {
        return j
      }), i.d(t, "createPreferencesObject", function () {
        return n
      }), i.d(t, "preferencesByWhiteList", function () {
        return o
      }), i.d(t, "defaultsPreferencesByWhiteList", function () {
        return r
      }), I = Object(P.getLogger)("Chart.ApplyPreferencesToAllCharts"), A = {
        color: "",
        style: 0
      }, L = {
        color: "",
        style: 0,
        transparency: 0,
        width: 0
      }, D = {
        showStudyArguments: !1,
        showStudyTitles: !1,
        showStudyValues: !1,
        showSeriesTitle: !1,
        showSeriesOHLC: !1,
        showLegend: !1,
        showBarChange: !0
      }, k = {
        background: "",
        topMargin: 0,
        bottomMargin: 0,
        rightOffset: 0,
        horzGridProperties: Object(E.deepExtend)({}, A),
        vertGridProperties: Object(E.deepExtend)({}, A),
        crossHairProperties: Object(E.deepExtend)({}, L),
        legendProperties: Object(E.deepExtend)({}, D)
      }, O = {
        lineColor: "",
        textColor: "",
        fontSize: 0,
        scaleSeriesOnly: !1,
        showSeriesLastValue: !1,
        seriesLastValueMode: T.PriceAxisLastValueMode.LastValueAccordingToScale,
        showSeriesPrevCloseValue: !1,
        showStudyLastValue: !1,
        showSymbolLabels: !1,
        showStudyPlotLabels: !1
      }, M = s.__assign({}, O), R = {
        color: "",
        visible: !1,
        style: 0,
        width: 0
      }, V = {
        visible: !1,
        futureOnly: !1,
        breaks: Object(E.deepExtend)({}, R)
      }, B = {
        defaultRightOffset: 0
      }, N = {
        autoScale: !1,
        autoScaleDisabled: !1,
        lockScale: !1,
        percentage: !1,
        percentageDisabled: !1,
        log: !1,
        logDisabled: !1,
        alignLabels: !1,
        isInverted: !1,
        indexedTo100: !1
      }, F = {
        fontSize: 16,
        showExchange: !0,
        showInterval: !0,
        symbolTextSource: "description"
      }, W = {
        style: 0,
        minTick: 0,
        showPriceLine: !1,
        priceLineWidth: 0,
        priceLineColor: "",
        showPrevClosePriceLine: !1,
        prevClosePriceLineWidth: 0,
        extendedHours: !1,
        prevClosePriceLineColor: "",
        esdShowDividends: !1,
        esdShowSplits: !1,
        esdShowEarnings: !1,
        esdShowBreaks: !1,
        dividendsAdjustment: !1,
        statusViewStyle: Object(E.deepExtend)({}, F),
        priceAxisProperties: Object(E.deepExtend)({}, N),
        esdBreaksStyle: Object(E.deepExtend)({}, c),
        candleStyle: Object(E.deepExtend)({}, u),
        hollowCandleStyle: Object(E.deepExtend)({}, h),
        barStyle: Object(E.deepExtend)({}, d),
        lineStyle: Object(E.deepExtend)({}, p),
        areaStyle: Object(E.deepExtend)({}, f),
        baselineStyle: Object(E.deepExtend)({}, _),
        hiloStyle: Object(E.deepExtend)({}, m),
        haStyle: Object(E.deepExtend)({}, g),
        renkoStyle: Object(E.deepExtend)({}, y),
        pbStyle: Object(E.deepExtend)({}, v),
        kagiStyle: Object(E.deepExtend)({}, S),
        pnfStyle: Object(E.deepExtend)({}, b),
        rangeStyle: Object(E.deepExtend)({}, w)
      }, U = {
        priceScaleSelectionStrategyName: "auto",
        timeScale: Object(E.deepExtend)({}, B),
        mainSeries: Object(E.deepExtend)({}, W),
        sessions: Object(E.deepExtend)({}, x.sessionsPreferencesDefault),
        paneProperties: Object(E.deepExtend)({}, k),
        chartEventsSourceProperties: Object(E.deepExtend)({}, V),
        tradingProperties: Object(E.deepExtend)({}, l.tradingPreferencesDefault)
      }, H = s.__assign({
        timezone: "",
        scalesProperties: Object(E.deepExtend)({}, M)
      }, U), j = s.__assign({
        scalesProperties: Object(E.deepExtend)({}, O)
      }, U)
    },
    AxQ0: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "AlertType", function () {
          return n
        }),
        function (e) {
          e.Price = "price", e.Screener = "screener"
        }(n || (n = {}))
    },
    Az04: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolRotatedRectangle";
        var o = t || n.createProperties();
        s.call(this, e, o), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("lZ9F").RotatedRectanglePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("aO4+").Point,
        r = i("GEp6").distanceToLine,
        s = i("Ss5c").LineDataSource,
        a = i("Ocx9").DefaultProperty,
        l = i("hayr").propertyPages;
      inherit(n, s), n.prototype.startChanging = function (e, t) {
        var i, n, o, a;
        s.prototype.startChanging.call(this, e, t), 0 !== e && 1 !== e || (n = (i = this._paneViews[0])._points[0], o = i._points[1], a = i._points[2], this._distance = r(n, o, a).distance)
      }, n.prototype.setPoint = function (e, t, i) {
        var n, r, a, l, c, u;
        s.prototype.setPoint.call(this, e, t, i), 0 !== e && 1 !== e || ((n = this._paneViews[0]).update(), r = n._points[0], a = n._points[1].subtract(r), l = new o(a.y, -a.x).normalized().scaled(this._distance), c = r.add(l), u = this.screenPointToPoint(c), this._points[2] = u)
      }, n.prototype.endChanging = function () {
        delete this._distance
      }, n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Rotated Rectangle"
      }, n.prototype.name = function () {
        return "Rotated Rectangle"
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return l.LineToolRectangleStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new a("linetoolrotatedrectangle", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        s._configureProperties(e)
      }, t.LineToolRotatedRectangle = n
    },
    "B+p7": function (e, t, i) {
      "use strict";

      function n(e) {
        return decodeURIComponent(e.replace(/\+/g, " ")).replace(/<\/?[^>]+(>|$)/g, "")
      }

      function o(e) {
        var t, i = /([^&=]+)=?([^&]*)/g,
          o = {};
        if (!e) return o;
        for (t = i.exec(e); t;) o[n(t[1])] = n(t[2]), t = i.exec(e);
        return o
      }

      function r() {
        return o(window.location.search.substring(1))
      }

      function s() {
        return o(window.location.hash.split("#")[1])
      }

      function a(e) {
        var t, i = [];
        for (t in e) e.hasOwnProperty(t) && null != e[t] && i.push({
          key: t,
          pair: encodeURIComponent(t) + "=" + encodeURIComponent(e[t])
        });
        return i.sort(function (e, t) {
          return e.key > t.key ? 1 : e.key < t.key ? -1 : 0
        }).map(function (e) {
          return e.pair
        }).join("&")
      }
      i.r(t), i.d(t, "decode", function () {
        return n
      }), i.d(t, "getUrlParams", function () {
        return r
      }), i.d(t, "getHashUrlParams", function () {
        return s
      }), i.d(t, "createUrlParams", function () {
        return a
      })
    },
    "B4/o": function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e) {
          this._line = e, this._data = {
            bodyText: "order",
            quantityText: "0"
          }, this._editable = !0
        }

        function o(e, t) {
          this._adapter = new n(this), this._constructor = "LineToolOrder";
          var s = t || o.createProperties();
          r.call(this, e, s), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("LMGK").OrderPaneView;
            this._setPaneViews([new t(this, this._model)])
          }.bind(this).bind(null, i)).catch(i.oe)
        }
        var r = i("QIuV"),
          s = i("4TVt").LineToolPriceAxisView,
          a = i("jkoZ"),
          l = i("Ss5c").LineDataSource,
          c = i("Ocx9").DefaultProperty;
        n.prototype.setEditable = function (e) {
          return this._editable = e, this
        }, n.prototype.getPrice = function () {
          return this._line.points().length > 0 ? this._line.points()[0].price : this._line._timePoint.length > 0 ? this._line._timePoint[0].price : void 0
        }, n.prototype.setPrice = function (e) {
          if (this._line.points().length > 0) {
            var t = this._line.points()[0];
            t.price = e, this._line._points[0] = t, this._line.normalizePoints(), this._line.updateAllViewsAndRedraw()
          }
          return this._line._timePoint.length > 0 && (this._line._timePoint[0].price = e), this
        }, n.prototype.getText = function () {
          return this._data.bodyText
        }, n.prototype.setText = function (e) {
          return this._data.bodyText = e || "", this._line.updateAllViewsAndRedraw(), this
        }, n.prototype.setTooltip = function (e) {
          return null == e ? e = "" : e += "", this._line.properties().tooltip.setValue(e), this
        }, n.prototype.getTooltip = function () {
          return this._line.properties().tooltip.value()
        }, n.prototype.getQuantity = function () {
          return this._data.quantityText
        }, n.prototype.setQuantity = function (e) {
          return this._data.quantityText = e || "", this._line.updateAllViewsAndRedraw(), this
        }, n.prototype.getExtendLeft = function () {
          var e = this._line.properties().extendLeft.value();
          return "inherit" === e ? this._line._model.properties().tradingProperties.extendLeft.value() : e
        }, n.prototype.setExtendLeft = function (e) {
          return this._line.properties().extendLeft.setValue(e), this
        }, n.prototype.getLineLength = function () {
          var e = this._line.properties().lineLength.value();
          return "inherit" === e ? this._line._model.properties().tradingProperties.lineLength.value() : e
        }, n.prototype.setLineLength = function (e) {
          return this._line.properties().lineLength.setValue(Math.max(0, Math.min(e, 100))), this
        }, n.prototype.getLineColor = function () {
          return a.getColorFromProperties(this._line.properties().lineColor, this._line.properties().lineTransparency)
        }, n.prototype.setLineColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().lineColor, this._line.properties().lineTransparency), this
        }, n.prototype.getLineStyle = function () {
          var e = this._line.properties().lineStyle.value();
          return "inherit" === e ? this._line._model.properties().tradingProperties.lineStyle.value() : e
        }, n.prototype.setLineStyle = function (e) {
          return this._line.properties().lineStyle.setValue(e), this
        }, n.prototype.getLineWidth = function () {
          var e = this._line.properties().lineWidth.value();
          return "inherit" === e ? this._line._model.properties().tradingProperties.lineWidth.value() : e
        }, n.prototype.setLineWidth = function (e) {
          return this._line.properties().lineWidth.setValue(e), this
        }, n.prototype.getBodyBorderColor = function () {
          return a.getColorFromProperties(this._line.properties().bodyBorderColor, this._line.properties().bodyBorderTransparency)
        }, n.prototype.setBodyBorderColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().bodyBorderColor, this._line.properties().bodyBorderTransparency), this
        }, n.prototype.getBodyBackgroundColor = function () {
          return a.getColorFromProperties(this._line.properties().bodyBackgroundColor, this._line.properties().bodyBackgroundTransparency)
        }, n.prototype.setBodyBackgroundColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().bodyBackgroundColor, this._line.properties().bodyBackgroundTransparency), this
        }, n.prototype.getBodyTextColor = function () {
          return a.getColorFromProperties(this._line.properties().bodyTextColor, this._line.properties().bodyTextTransparency)
        }, n.prototype.setBodyTextColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().bodyTextColor, this._line.properties().bodyTextTransparency), this
        }, n.prototype.getBodyFont = function () {
          return a.getFontFromProperties(this._line.properties().bodyFontFamily, this._line.properties().bodyFontSize, this._line.properties().bodyFontBold, this._line.properties().bodyFontItalic)
        }, n.prototype.setBodyFont = function (e) {
          return a.setFontToProperties(e, this._line.properties().bodyFontFamily, this._line.properties().bodyFontSize, this._line.properties().bodyFontBold, this._line.properties().bodyFontItalic), this
        }, n.prototype.getQuantityBorderColor = function () {
          return a.getColorFromProperties(this._line.properties().quantityBorderColor, this._line.properties().quantityBorderTransparency)
        }, n.prototype.setQuantityBorderColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().quantityBorderColor, this._line.properties().quantityBorderTransparency), this
        }, n.prototype.getQuantityBackgroundColor = function () {
          return a.getColorFromProperties(this._line.properties().quantityBackgroundColor, this._line.properties().quantityBackgroundTransparency)
        }, n.prototype.setQuantityBackgroundColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().quantityBackgroundColor, this._line.properties().quantityBackgroundTransparency), this
        }, n.prototype.getQuantityTextColor = function () {
          return a.getColorFromProperties(this._line.properties().quantityTextColor, this._line.properties().quantityTextTransparency)
        }, n.prototype.setQuantityTextColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().quantityTextColor, this._line.properties().quantityTextTransparency), this
        }, n.prototype.getQuantityFont = function () {
          return a.getFontFromProperties(this._line.properties().quantityFontFamily, this._line.properties().quantityFontSize, this._line.properties().quantityFontBold, this._line.properties().quantityFontItalic)
        }, n.prototype.setQuantityFont = function (e) {
          return a.setFontToProperties(e, this._line.properties().quantityFontFamily, this._line.properties().quantityFontSize, this._line.properties().quantityFontBold, this._line.properties().quantityFontItalic), this
        }, n.prototype.getCancelButtonBorderColor = function () {
          return a.getColorFromProperties(this._line.properties().cancelButtonBorderColor, this._line.properties().cancelButtonBorderTransparency)
        }, n.prototype.setCancelButtonBorderColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().cancelButtonBorderColor, this._line.properties().cancelButtonBorderTransparency), this
        }, n.prototype.getCancelButtonBackgroundColor = function () {
          return a.getColorFromProperties(this._line.properties().cancelButtonBackgroundColor, this._line.properties().cancelButtonBackgroundTransparency)
        }, n.prototype.setCancelButtonBackgroundColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().cancelButtonBackgroundColor, this._line.properties().cancelButtonBackgroundTransparency), this
        }, n.prototype.getCancelButtonIconColor = function () {
          return a.getColorFromProperties(this._line.properties().cancelButtonIconColor, this._line.properties().cancelButtonIconTransparency)
        }, n.prototype.setCancelButtonIconColor = function (e) {
          return a.setColorToProperties(e, this._line.properties().cancelButtonIconColor, this._line.properties().cancelButtonIconTransparency), this
        }, n.prototype.block = function () {
          this._blocked = !0, this._line.updateAllViewsAndRedraw()
        }, n.prototype.unblock = function () {
          this._blocked = !1, this._line.updateAllViewsAndRedraw()
        }, n.prototype.isFunction = function (e) {
          return "function" == typeof e
        }, n.prototype.onCancel = function (e, t) {
          return t ? this.isFunction(t) && (this._onCancelData = e, this._onCancelCallback = t) : this.isFunction(e) && (this._onCancelCallback = e), this
        }, n.prototype.callOnCancel = function () {
          this.isFunction(this._onCancelCallback) && this._onCancelCallback.call(this, this._onCancelData)
        }, n.prototype.isOnCancelCallbackPresent = function () {
          return this.isFunction(this._onCancelCallback)
        }, n.prototype.onModify = function (e, t) {
          return t ? this.isFunction(t) && (this._onModifyData = e, this._onModifyCallback = t) : this.isFunction(e) && (this._onModifyCallback = e), this
        }, n.prototype.callOnModify = function () {
          this.isFunction(this._onModifyCallback) && this._onModifyCallback.call(this, this._onModifyData)
        }, n.prototype.onMove = function (e, t) {
          return t ? this.isFunction(t) && (this._onMoveData = e, this._onMoveCallback = t) : this.isFunction(e) && (this._onMoveCallback = e), this
        }, n.prototype.callOnMove = function () {
          this.isFunction(this._onMoveCallback) && this._onMoveCallback.call(this, this._onMoveData)
        }, n.prototype.onContextMenu = function (e, t) {
          return t ? this.isFunction(t) && (this._onContextMenuData = e, this._onContextMenuCallback = t) : this.isFunction(e) && (this._onContextMenuCallback = e), this
        }, n.prototype.callOnContextMenu = function () {
          if (this.isFunction(this._onContextMenuCallback)) return this._onContextMenuCallback.call(this, this._onContextMenuData)
        }, n.prototype.remove = function () {
          this._line._model.removeSource(this._line), delete this._line
        }, n.prototype.shouldShowModifyOrder = function () {
          return !!this._onModifyCallback
        }, inherit(o, r), o.prototype.setPoint = function (e, t, i) {
          this._points[e] = t, this.normalizePoints()
        }, o.prototype.addPoint = function (e, t) {
          return this._points.push(e), this._lastPoint = null, this.normalizePoints(), this.createServerPoints(), !0
        }, o.prototype.title = function () {
          return "Order"
        }, o.prototype.name = function () {
          return "Order"
        }, o.prototype.endMoving = function (e) {
          var t = this._startMovingPoint && this._currentMovingPoint && this._startMovingPoint.price !== this._currentMovingPoint.price;
          r.prototype.endMoving.call(this), !e && t && this._adapter.callOnMove()
        }, o.prototype.createPriceAxisView = function (e) {
          return this._priceAxisView = new s(this, {
            pointIndex: e,
            backgroundProperty: this.properties().lineColor
          }), this._priceAxisView
        }, o.prototype.paneViews = function () {
          return TradingView.printing && !e.enabled("snapshot_trading_drawings") ? null : this._model.properties().tradingProperties.showOrders.value() ? l.prototype.paneViews.call(this) : null
        }, o.prototype.priceAxisViews = function (t, i) {
          return TradingView.printing && !e.enabled("snapshot_trading_drawings") ? null : this._model.properties().tradingProperties.showOrders.value() ? l.prototype.priceAxisViews.call(this, t, i) : null
        }, o.prototype.hasContextMenu = function () {
          return !0
        }, o.prototype.contextMenuItems = function () {
          return this._adapter.callOnContextMenu()
        }, o.prototype.onlyYMoving = function () {
          return !0
        }, o.prototype.userEditEnabled = function () {
          return this._adapter.shouldShowModifyOrder()
        }, o.createProperties = function (e) {
          var t = new c("linetoolorder", e);
          return o._configureProperties(t), t
        }, o._configureProperties = function (e) {
          r._configureProperties(e)
        }, t.LineToolOrder = o
      }).call(this, i("Kxc7"))
    },
    BBCR: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" d="M6.145 11.968L14 5.5l7.855 6.468a.3.3 0 0 1-.191.532H6.336a.3.3 0 0 1-.19-.532zm0 4.064L14 22.5l7.855-6.468a.3.3 0 0 0-.191-.532H6.336a.3.3 0 0 0-.19.532z"/></svg>'
    },
    BHQF: function (e, t, i) {
      "use strict";
      var n, o;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.fetch = function (e, t) {
        var i, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        return t = t || {},
          function (e) {
            var t = document.createElement("a");
            return t.href = e, t.hostname || (t.href = t.href), t.hostname === location.hostname && !t.username
          }(e) && (t.headers ? t.headers instanceof Headers || (t.headers = new Headers(t.headers)) : t.headers = new Headers, window.locale && t.headers.set("X-Language", window.locale), t.headers.set("X-Requested-With", "XMLHttpRequest")), (i = window.fetch(e, t)).then(function (i) {
            if (!i.ok) {
              var r = "";
              t.method && (r += t.method.toUpperCase() + " "), r += e, r += ". Status " + i.status, i.statusText && (r += ". " + i.statusText), i.headers.via && (r += ". Via: " + i.headers.via), n.logBodyOnError && "string" == typeof t.body && (r += ". Body: " + t.body.slice(0, 1024)),
                o.logError(r)
            }
            return i
          }, function (i) {
            var n = "";
            t.method && (n += t.method.toUpperCase() + " "), n += e, navigator.onLine ? n += ". " + i : n += ". User is offline.", o.logError(n)
          }), i
      }, n = i("uOxu"), o = (0, n.getLogger)("Fetch")
    },
    BI5g: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "breakpoints", function () {
        return n
      }), i.d(t, "mobileFirstBreakpoints", function () {
        return o
      }), n = {
        desktop: 1 / 0,
        desktopHd: 1919,
        phone: 767,
        "phone-vertical": 479,
        tablet: 1019
      }, o = {
        base: 0,
        "phone-vertical": 330,
        phone: 480,
        tablet: 768,
        notebook: 1020,
        desktop: 1540,
        "desktop-hd": 1920
      }
    },
    BOPY: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this.source = e, this._rendererFactory = t
      }

      function o(e, t) {
        this._barWidth = e.barWidth, this._plates = e.plates, this._tooltip = e.tooltip, this._model = t
      }

      function r() {
        this._layout = [], this._currentId = void 0, this.tooltipHovered = !1
      }
      var s = i("aO4+").Point,
        a = i("f6yo").pointInCircle,
        l = i("VdBB").HitTestResult,
        c = i("zDbI").CHART_FONT_FAMILY;
      n.prototype.update = function () {}, n.prototype.renderer = function (e, t, i) {
          return this._rendererFactory(this.source)
        }, o.prototype.draw = function (e) {
          e.save();
          for (var t = 0; t < this._plates.length; t++)
            if (this._plates[t].highlightByAuthor) {
              this._highlightByAuthor = !0;
              break
            } this._plates.forEach(this._drawItem.bind(this, e)), this._tooltip.draw(this._plates.map(function (e) {
            return this._plateTransform(e)
          }.bind(this)), e), this._tooltip.endDraw(), e.restore()
        }, o.prototype._drawItem = function (e, t) {
          e.save(), this._highlightByAuthor && !t.highlightByAuthor && (e.globalAlpha = .4);
          var i = this._dotTransform(t);
          i.mine ? this._drawTriangle(e, i) : this._drawDot(e, i), e.restore()
        }, o.prototype._commonTransform = function (e) {
          var t = Math.max(1.4 * e.minSize, this._barWidth + 4),
            i = {
              up: -1,
              down: 1
            } [e.direction] * (e.yInverted ? -1 : 1),
            n = i * (t * (e.order + .6) + .25 * t),
            o = e.y + n,
            r = TradingView.clone(e.overridedTheme || this.themes[e.theme]);
          return r.dotBorderWidth = e.hovered || e.highlightByAuthor ? 4 : 2, {
            id: e.id,
            theme: r,
            themeName: e.theme,
            x: Math.round(e.x + 1),
            y: Math.round(o),
            yInverted: e.yInverted,
            pinned: e.pinned,
            hovered: e.hovered
          }
        }, o.prototype._dotTransform = function (e) {
          var t = this._commonTransform(e);
          return t.radius = Math.max(e.minSize / 2, .4 * this._barWidth), t.label = e.label, t.labelFontColor = e.labelFontColor, t.labelFontSize = Math.ceil(Math.max(10, Math.min(t.radius, 20))), this._model.updateDotData(e, t)
        }, o.prototype._plateTransform = function (e) {
          var t = this._commonTransform(e);
          return this._model.updatePlateData(e, t)
        }, o.THEMES = ["green", "red", "neutral", "yellow", "blue"], o.prototype.themes = {
          green: {
            border: "#78C143",
            background: "#8DDD54"
          },
          red: {
            border: "#CC4545",
            background: "#ED5A5A"
          },
          neutral: {
            border: "#EAC300",
            background: "#FFD400"
          },
          yellow: {
            border: "#EAC300",
            background: "#FFD400"
          },
          blue: {
            border: "#047ACE",
            background: "#0496FF"
          }
        }, o.prototype._drawTriangle = function (e, t) {
          var i, n, o, r;
          e.strokeStyle = t.theme.border, e.fillStyle = t.theme.background, e.lineWidth = t.theme.dotBorderWidth, i = t, n = t.radius, o = Math.cos(Math.PI / 6) * n, r = Math.sin(Math.PI / 6) * n, e.translate(i.x, i.y), "up" === t.direction !== t.yInverted && e.rotate(Math.PI), t.public || (e.lineWidth /= 2), e.beginPath(), e.moveTo(0, -n), e.lineTo(o, r), e.lineTo(-o, r), e.lineTo(0, -n), e.closePath(), e.stroke(), t.public && e.fill()
        },
        o.prototype._drawDot = function (e, t) {
          e.strokeStyle = t.theme.border, e.fillStyle = t.theme.background, e.lineWidth = t.theme.dotBorderWidth, e.beginPath(), e.arc(t.x, t.y, t.radius, 0, 2 * Math.PI, !0), e.closePath(), e.stroke(), e.fill(), t.label && t.radius > 6 && (e.textAlign = "center", e.textBaseline = "middle", e.font = "bold " + t.labelFontSize + "px " + c, e.fillStyle = t.labelFontColor, e.fillText(t.label, t.x, t.y))
        }, o.prototype.hitTest = function (e) {
          var t, i;
          for (i = this._plates.length - 1; i >= 0; --i)
            if (t = this._hitTestDot(this._plates[i], e)) return t;
          return null
        }, o.prototype._hitTestDot = function (e, t) {
          var i = this._dotTransform(e),
            n = new s(i.x, i.y);
          return a(t, n, Math.max(i.radius, 8)) ? new l(l.REGULAR, e) : null
        }, r.prototype._createLayout = function () {
          throw new Error("Child class must override this member")
        }, r.prototype._updatePlate = function (e) {
          throw new Error("Child class must override this member")
        }, r.prototype._getContainer = function (e) {
          return this._container && this._context === e || (this._context = e, this._container = $(e.canvas).parent()), this._container
        }, r.prototype._plateArrowSize = 14, r.prototype.showPlate = function (e, t) {
          var i, n, o, r, s, a, l, c;
          this._currentId === e.id && this._layout && 0 !== this._layout.length && null != this._layout[0].parentNode || (this._currentId = e.id, this._createLayout(), this._getContainer(t).append(this._layout), i = this, this._layout.hover(function () {
            i.tooltipHovered = !0, $(this).stop(!0).fadeTo(0, 1)
          }, function () {
            i.tooltipHovered = !1
          })), (n = Math.round(e.barWidth / 2)) > 15 && (n = 15), n < 10 && (n = 10), this._updatePlate(e), o = t.canvas.getBoundingClientRect(), r = e.x - this._layout.outerWidth() < this._plateArrowSize, s = o.width - e.x + Math.round(e.barWidth / 2 + n), r && (s -= this._layout.outerWidth() + 2 * this._plateArrowSize), a = o.height, l = 20, c = 10, this._layout.toggleClass("right", r), this._layout.css({
            top: Math.min(Math.max(e.y, l), a - this._layout.outerHeight() - c),
            right: s,
            fontSize: n + "px",
            display: "block"
          })
        }, r.prototype._removeLayout = function () {
          this.tooltipHovered || (this._layout.stop(!0), this._layout.remove())
        }, r.prototype._toggleLayout = function (e) {
          this._layout.toggle(e)
        }, r.prototype.hide = function (e) {
          this.tooltipHovered ? this._layout.stop(!0).fadeTo(0, 1) : this._layout.fadeOut(400, function () {
            $(this).remove(), e()
          })
        }, r.prototype.setSource = function (e) {
          this.source = e
        }, t.BarsMarksContainerPaneView = n, t.BarsMarksContainerRenderer = o, t.BarMarkTooltip = r
    },
    BeV4: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i = new Promise(function (i, n) {
          var r = setTimeout(n, 5e3, new Error("Loading timed out"));
          (t = a.pop() || new o).onerror = n, t.onmessageerror = n, t.onmessage = function (e) {
            clearTimeout(r), "done" === e.data.type ? i(e.data.payload) : r = setTimeout(n, 3e4, new Error("Processing timed out"))
          }, t.postMessage({
            type: "do",
            payload: e
          })
        });
        return i.then(function () {
          a.length < 1 ? (delete t.onerror, delete t.onmessage, delete t.onmessageerror, a.push(t)) : t.terminate()
        }, function (e) {
          s.logError("Worker request failed: " + e.message), t.terminate()
        }), i
      }
      var o, r, s, a;
      i.r(t), i.d(t, "gzip", function () {
        return n
      }), o = i("gOE2"), r = i("uOxu"), s = Object(r.getLogger)("Lib.AsyncGzip"), a = []
    },
    BhuR: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" width="9px" height="9px"><path d="M2 1L1 2l2.5 2.5L1 7l1 1 2.5-2.5L7 8l1-1-2.5-2.5L8 2 7 1 4.5 3.5z"/></svg>'
    },
    BlPY: function (e, t) {
      e.exports = [{
        name: window.t("All"),
        value: ""
      }, {
        name: window.t("Stock"),
        value: "stock"
      }, {
        name: window.t("Futures"),
        value: "futures"
      }, {
        name: window.t("Forex"),
        value: "forex"
      }, {
        name: window.t("CFD"),
        value: "cfd"
      }, {
        name: window.t("Cryptocurrency"),
        value: "bitcoin,crypto"
      }, {
        name: window.t("Index"),
        value: "index"
      }, {
        name: window.t("Economy"),
        value: "economic"
      }]
    },
    Bruo: function (e, t, i) {
      "use strict";

      function n(e) {
        return "." + e.replace(/\+/g, "")
      }

      function o(e, t, i, o) {
        var r;
        void 0 === i && (i = "keydown"), r = n(e), (o ? $(o) : d).unbind(i + r).bind(i + r, e, function (i) {
          p || (Object(u.trackEvent)("Keyboard Shortcuts", e.toUpperCase()), t.apply(null, Array.prototype.slice.call(arguments)))
        }), h[e] = t
      }

      function r(e, t, i) {
        void 0 === t && (t = "keydown"), (i ? $(i) : d).unbind(t + n(e)), delete h[e]
      }

      function s() {
        return p ? null : p = Object(c.randomHashN)(4)
      }

      function a(e) {
        if (e !== p) throw Error("Lock id is outdated");
        p = null
      }
      var l, c, u, h, d, p;
      i.r(t), i.d(t, "bind", function () {
        return o
      }), i.d(t, "unbind", function () {
        return r
      }), i.d(t, "disable", function () {
        return s
      }), i.d(t, "enable", function () {
        return a
      }), l = i("P5fv"), c = i("0waE"), u = i("PC8g"), h = {}, d = $(document), p = null
    },
    Bt3k: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this.tooltips = {}, this.tooltipFactory = e, this.source = t
      }

      function o(e, t) {
        this.renderer = e, this._tooltip = t, this.visible = !1
      }
      n.prototype.findOrCreateTooltip = function (e) {
        var t = this.tooltips[e.id];
        return null == t && (e.hovered || e.pinned) && (t = this._createTooltip(), this.tooltips[e.id] = t), t
      }, n.prototype.showPlate = function (e, t) {
        var i = this.findOrCreateTooltip(e);
        null != i && (i._drawPlate(e, t), i.plateData = e)
      }, n.prototype.draw = function (e, t) {
        this.hoveredId = null;
        for (var i = 0; i < e.length; i++) e[i].hovered && (this.hoveredId = e[i].id);
        e.forEach(function (e) {
          this.showPlate(e, t)
        }.bind(this))
      }, n.prototype.endDraw = function () {
        var e, t, i = this;
        for (e in this.tooltips) this.tooltips.hasOwnProperty(e) && ((t = this.tooltips[e]).toggleVisibility(), i.hoveredId && t.plateData.id !== i.hoveredId && !t.plateData.pinned && (t.remove(), delete this.tooltips[e]))
      }, n.prototype.removeAll = function () {
        var e;
        for (e in this.tooltips) this.tooltips.hasOwnProperty(e) && this.tooltips[e].remove();
        this.tooltips = {}
      }, n.prototype.removeTooltip = function (e) {
        delete this.tooltips[e]
      }, n.prototype._createTooltip = function () {
        return new o(this, this.tooltipFactory())
      }, o.prototype._drawPlate = function (e, t) {
        var i = this;
        this.visible = !0, this._tooltip.setSource(this.renderer.source), this._tooltip.showPlate(e, t), e.hovered || e.pinned || this._tooltip.hide(function () {
          i.renderer.removeTooltip(e.id)
        })
      }, o.prototype.remove = function () {
        this._tooltip._removeLayout()
      }, o.prototype.toggleVisibility = function () {
        this._tooltip._toggleLayout(this.visible), this.visible = !1
      }, t.TooltipRenderer = n
    },
    BxxN: function (e, t, i) {
      "use strict";

      function n(e) {
        if (0 === location.search.length) return e;
        var t = Object(r.getUrlParams)();
        return s.forEach(function (i) {
          void 0 !== t[i] && (e[i] = t[i])
        }), e
      }

      function o(e, t, i) {
        var o, s;
        return void 0 === e && (e = {}),
          void 0 === t && (t = ""), void 0 === i && (i = !0), o = "/chart/", e.chartId && (o = "" + o + e.chartId + "/", delete e.chartId), i && (e = n(e)), s = Object(r.createUrlParams)(e), 0 === t.length && 0 === s.length || (o = o + "?" + t + s), o
      }
      var r, s;
      i.r(t), i.d(t, "addExistingParamsToObject", function () {
        return n
      }), i.d(t, "generateChartUrl", function () {
        return o
      }), r = i("B+p7"), s = ["mobileapp", "mobileapp_new"]
    },
    C85F: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#f7f8fa" d="M0 18h18V0H0z"/><circle fill="#ed5565" cx="9" cy="9" r="4"/></svg>'
    },
    CCKn: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e, t, i) {
          var n;
          return e.top_user_info && (n = {
            title: e.top_user_info.badge.title,
            period: e.top_user_info.period
          }), {
            isAd: e.is_ad,
            withIndent: e.with_indent,
            tag: i,
            large: t,
            utm: e.utm,
            topUserInfo: n,
            isModerator: e.is_moderator,
            isPro: e.is_pro,
            isProLimited: e.is_pro_limited,
            proPlan: e.pro_plan,
            hideTopBadge: e.hide_top_badge,
            hideModBadge: e.hide_mod_badge
          }
        }

        function o(t, i, o) {
          var r, u, h = n(t, i, o);
          return h.isAd ? (r = Object(s.buildAdBadgeProps)(h), e.render(c.a, {
            classes: l(r.classes),
            icon: Object(a.b)(r.icon)
          })) : (u = Object(s.buildUserBadgeProps)(h)) ? e.render(c.b, {
            classes: l(u.classes),
            icon: Object(a.b)(u.icon),
            tag: u.tag,
            title: u.title,
            href: u.href
          }) : ""
        }
        var r, s, a, l, c;
        i.d(t, "b", function () {
          return n
        }), i.d(t, "a", function () {
          return o
        }), r = i("OiQe"), i("YFKU"), i("HbRj"), s = i("IhIr"), a = i("fA1Z"), l = i("TSYQ"), c = i("eC//")
      }).call(this, i("OiQe"))
    },
    CHw2: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolExtended";
        var i = t || n.createProperties();
        o.call(this, e, i)
      }
      var o = i("WPQD").LineToolTrendLine,
        r = i("Ocx9").DefaultProperty;
      inherit(n, o), n.prototype.title = function () {
        return "Extended Line"
      }, n.prototype.name = function () {
        return "Extended Line"
      }, n.createProperties = function (e) {
        var t = new r("linetoolextended", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolExtended = n
    },
    CJIV: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolHorzRay";
        var s = t || n.createProperties();
        this._priceAxisView = new r(this), o.call(this, e, s), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("1oDZ").HorzRayPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("p1SQ").LineToolHorzLinePriceAxisView,
        s = i("tc+8"),
        a = i("Ocx9").DefaultProperty,
        l = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
          return 1
        }, n.prototype.title = function () {
          return "Horizontal Ray"
        }, n.prototype.name = function () {
          return "Horizontal Ray"
        }, n.prototype.priceAxisViews = function (e, t) {
          return this.isSourceHidden() ? null : t === this.priceScale() && this.properties().showPrice.value() && this._model.paneForSource(this) === e ? [this._priceAxisView] : null
        }, n.prototype.updateAllViews = function () {
          o.prototype.updateAllViews.call(this), this._priceAxisView.update()
        }, n.prototype.canHasAlert = function () {
          return !0
        }, n.prototype._getAlertPlots = function () {
          var e = this._points[0],
            t = {
              index: e.index + 1,
              price: e.price
            };
          return [this._linePointsToAlertPlot([e, t], null, !1, !0)]
        },
        n.prototype.getStylesPropertyPage = function () {
          return l.LineToolHorzLineStylesPropertyPage
        }, n.prototype.template = function () {
          var e = o.prototype.template.call(this);
          return e.text = this.properties().childs().text.value(), e
        }, n.prototype._applyTemplateImpl = function (e) {
          o.prototype._applyTemplateImpl.call(this, e), this.properties().childs().text.setValue(e.text)
        }, n.createProperties = function (e) {
          var t = new a("linetoolhorzray", e);
          return n._configureProperties(t), t
        }, n._configureProperties = function (e) {
          o._configureProperties(e), e.hasChild("text") || e.addChild("text", new s("")), e.addExclusion("text")
        }, t.LineToolHorzRay = n
    },
    CLNU: function (e, t, i) {
      (function (e) {
        TradingView.cleanButAmpersand = function (e, t) {
          var i = t ? ["&amp;"] : ["&"];
          return TradingView.clean(e, t, i)
        }, TradingView.strip_tags = function (e) {
          return e && e.replace ? e.replace(/(<([^>]+)>)/gi, "") : e
        }, TradingView.encodeSpread = function (e) {
          return encodeURIComponent(e)
        }, TradingView.clean = function (e, t, i) {
          var n, o, r, s = [
              ["&", "&amp;"],
              ["<", "&lt;"],
              [">", "&gt;"],
              ['"', "&quot;"],
              ["'", "&#039;"],
              ["'", "&#39;"]
            ],
            a = e;
          if (!e || !e.replace) return a;
          for (n = 0; n < s.length; n++) o = s[n][0], r = s[n][1], i && i.indexOf && -1 !== i.indexOf(t ? r : o) || (a = t ? a.replace(new RegExp(r, "g"), o) : a.replace(new RegExp(o, "g"), r));
          return a
        }, e && e.exports && (e.exports = {
          clean: TradingView.clean,
          cleanButAmpersand: TradingView.cleanButAmpersand,
          stripTags: TradingView.strip_tags
        })
      }).call(this, i("YuTi")(e))
    },
    CW80: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i, n;
        for (t = 0, i = Object.keys(e); t < i.length; t++) n = i[t], TradingView[n] = e[n]
      }

      function o(e, t, i, n) {
        return Object(h.assert)(Object(S.a)(e), "Unknown line tool: " + e), "LineToolVbPFixed" === e ? new y.LineToolVbPFixed(t, i, Object(h.ensureDefined)(n), t.mainSeries()) : "LineToolRegressionTrend" === e ? new g.LineToolRegressionTrend(t, i, Object(h.ensureDefined)(n)) : e in v ? new(Object(h.ensureDefined)(v[e]))(t, i, Object(h.ensureDefined)(n)) : new(Object(h.ensureDefined)(m[e]))(t, i)
      }

      function r(e, t) {
        return Object(h.assert)(Object(S.a)(e), "Unknown line tool: " + e), Object(S.b)(e) ? new _.DefaultProperty(e, t) : Object(h.ensureDefined)(m[e]).createProperties(t)
      }

      function s(e) {
        return e instanceof f.LineDataSource
      }

      function a(e) {
        return e instanceof p.StudyLineDataSource
      }

      function l(e) {
        var t, i;
        for (t in m)
          if (m[t] === e) return t;
        if (e === y.LineToolVbPFixed) return "LineToolVbPFixed";
        if (e === g.LineToolRegressionTrend) return "LineToolRegressionTrend";
        for (i in v)
          if (v[i] === e) return i;
        return Object(h.assert)(!1, "Trying to get classname of unknown line tool"), null
      }

      function c(e, t, i) {
        var n, r, s, a, c, p, f = Object(h.ensureNotNull)(l(t.constructor)),
          _ = t.properties().clone();
        return _.visible.setValue(!0), n = Object(h.ensureNotNull)(t.ownerSource()), (r = o(f, e, _)).setOwnerSource(n), s = t.fixedPoints(), (i ? s.map(function (e) {
            return e.add(new d.Point(20, 20))
          }) : s).forEach(function (e) {
            return r.addFixedPoint(e)
          }), a = t.normalizedPoints(), c = i ? function (e, t) {
            var i = Object(h.ensureNotNull)(t.priceScale()),
              n = Object(h.ensureNotNull)(t.firstValue());
            return e.map(function (e) {
              var t = e.price,
                o = i.priceToCoordinate(t, n) - 40,
                r = i.coordinateToPrice(o, n);
              return u.__assign({}, e, {
                price: r
              })
            })
          }(a, n) : a, p = t.points(),
          r.restorePoints(c, p), r.cloneData && r.cloneData(t), r.checkAlert && r.checkAlert(), r
      }
      var u, h, d, p, f, _, m, g, y, v, S;
      i.r(t), i.d(t, "createLineTool", function () {
        return o
      }), i.d(t, "createLineToolProperties", function () {
        return r
      }), i.d(t, "isLineTool", function () {
        return s
      }), i.d(t, "isStudyLineTool", function () {
        return a
      }), i.d(t, "lineToolClassName", function () {
        return l
      }), i.d(t, "cloneLineTool", function () {
        return c
      }), u = i("mrSG"), h = i("Eyy1"), d = i("aO4+"), p = i("MSvv"), f = i("Ss5c"), _ = i("Ocx9"), m = i("OH2X"), g = i("gf4d"), y = i("USzt"), v = i("rwPJ"), S = i("e92V"), i.d(t, "isLineToolName", function () {
        return S.a
      }), i.d(t, "isStudyLineToolName", function () {
        return S.b
      }), n(m), n({
        LineToolRegressionTrend: g.LineToolRegressionTrend,
        LineToolVbPFixed: y.LineToolVbPFixed
      }), n(v)
    },
    Cqax: function (e, t, i) {
      "use strict";

      function n(e) {
        this.data = e
      }
      var o = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        var t, i, n, o, r, s, a, l;
        this.data && (t = this.data.vertLinesVisible, i = this.data.horzLinesVisible, (t || i) && (e.lineStyle = this.data.lineStyle, e.lineWidth = this.data.lineWidth, e.strokeStyle = this.data.color, e.fillStyle = this.data.color, n = e.lineStyle === CanvasEx.LINESTYLE_DASHED || e.lineStyle === CanvasEx.LINESTYLE_DOTTED || e.lineStyle === CanvasEx.LINESTYLE_SPARSE_DOTTED, o = this.data.lineWidth % 2 == 0 ? .5 : 0, r = this.data.x + 1 + o, s = this.data.y + o, a = this.data.w, l = this.data.h, t && r >= 0 && (n ? CanvasEx.drawDashedLineVertical(e, r, 0, l) : CanvasEx.drawSolidLine(e, r, 0, r, l)), i && s >= 0 && (n ? CanvasEx.drawDashedLineHorizontal(e, 0, s, a) : CanvasEx.drawSolidLine(e, 0, s, a, s)), this.data.drawCenter && (e.beginPath(), e.arc(r, s, 3, 0, 2 * Math.PI, !0), e.fillStyle = this.data.color, e.fill())))
      }, n.prototype.hitTest = function (e) {
        return this.data.mouseClickHandler ? new o(o.CUSTOM, {
          mouseClickHandler: this.data.mouseClickHandler
        }) : null
      }, t.PaneRendererCrossHair = TradingView.PaneRendererCrossHair = n
    },
    Cu4q: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 108 108" width="108" height="108"><path fill="#2196F3" stroke="#2196F3" stroke-linejoin="round" stroke-width="2" d="m57.29 54a15.43 15.43 0 1 1 0-30.86 15.43 15.43 0 0 1 0 30.86zm5.06 10.3C66.2 64.3 83 69.74 83 85.5v3.47H31.57V85.9a21.6 21.6 0 0 1 21.6-21.6l9.18.02z"/><path fill="#4a4a4a" d="m48.71 50.86a17.43 17.43 0 1 1 0-34.86 17.43 17.43 0 0 1 0 34.86zm0-4a13.43 13.43 0 1 0 0-26.86 13.43 13.43 0 0 0 0 26.86zM25 81.83v-1.09a19.6 19.6 0 0 1 19.6-19.6 5627.07 5627.07 0 0 1 9.09.02 2 2 0 0 0 .17-4l-4.67-.01H44.6A23.6 23.6 0 0 0 21 80.74v3.08c0 1.1.9 2 2 2h51.43a2 2 0 1 0 0-4H25zM64.14 70h20.57a2 2 0 1 0 0-4H64.14a2 2 0 1 0 0 4z"/></svg>'
    },
    CwKc: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-linecap="square" d="M11.5 21.5v-7m3 7v-5m3 5v-3m-9 3v-5"/><path d="M5.5 22v-3"/><path stroke-linecap="square" d="M5.5 13.5l4.297-4.297a2.406 2.406 0 0 1 3.406 0l2.594 2.594c.94.94 2.463.943 3.406 0L23.5 7.5M22.5 12.5v6m-3-3h6"/></g></svg>'
    },
    "CzJ+": function (e, t, i) {
      "use strict";

      function n(e, t) {
        return e.compareTo(t) < 0
      }

      function o(e) {
        return e >= 48 && e <= 57
      }

      function r(e) {
        return 4 === e.length && o(e.charCodeAt(0)) && o(e.charCodeAt(1)) && o(e.charCodeAt(2)) && o(e.charCodeAt(3))
      }

      function s(e, t) {
        return e.compareTo(t)
      }
      var a, l, c, u, h, d, p, f;
      i.r(t), i.d(t, "SessionEntry", function () {
        return p
      }), i.d(t, "ExchangeSession", function () {
        return f
      }), a = i("jCNj"), l = i("Y7w9"), c = i("uOxu"), u = Object(c.getLogger)("Chart.Model.ExchangeSession"), h = [a.MONDAY, a.TUESDAY, a.WEDNESDAY, a.THURSDAY, a.FRIDAY], d = [a.SUNDAY, a.MONDAY, a.TUESDAY, a.WEDNESDAY, a.THURSDAY, a.FRIDAY, a.SATURDAY], p = function () {
        function e(e, t, i) {
          this._dayOfWeek = e, this._start = t, this._length = i
        }
        return e.prototype.start = function () {
          return this._start
        }, e.prototype.alignedStart = function () {
          return this._start + a.minutesPerDay * this.sessionStartDaysOffset()
        }, e.prototype.sessionStartDaysOffset = function () {
          return this._start >= 0 ? 0 : this._start % a.minutesPerDay == 0 ? -Math.ceil(this._start / a.minutesPerDay) : -Math.floor(this._start / a.minutesPerDay)
        }, e.prototype.isOvernight = function () {
          return this._start < 0
        }, e.prototype.dayOfWeek = function () {
          return this._dayOfWeek
        }, e.prototype.sessionStartDayOfWeek = function () {
          var e = this._dayOfWeek - this.sessionStartDaysOffset();
          return e < a.SUNDAY && (e += 7), e
        }, e.prototype.length = function () {
          return this._length
        }, e.prototype.weight = function () {
          return this._dayOfWeek * a.minutesPerDay + this._start
        }, e.prototype.compareTo = function (e) {
          var t = this.weight(),
            i = t + this._length,
            n = e.weight();
          return t <= n && n < i ? 0 : t > n ? 1 : -1
        }, e
      }(), f = function () {
        function e(e) {
          var t = this;
          void 0 === e && (e = "0000-0000"), this._entries = [], this._firstDayOfWeek = a.MONDAY, this._weekEndsCount = null, "24x7" === e.toLowerCase() ? d.forEach(function (e) {
            t.addSessionEntry(e, 0, 0, 0, 0)
          }) : this._parseSpec(e), this._entries.sort(s)
        }
        return e.prototype.entries = function () {
            return this._entries
          }, e.prototype.firstDayOfWeek = function () {
            return this._firstDayOfWeek
          }, e.prototype.addSessionEntry = function (e, t, i, n, o) {
            0 === i && (i = a.minutesPerDay), n === o && i <= t && (n += 1), n > 0 && (t -= n * a.minutesPerDay), o > 0 && (i -= o * a.minutesPerDay);
            var r = i - t;
            this._entries.push(new p(e, t, r))
          }, e.prototype.isWeekEnd = function (e) {
            var t = Object(l.lowerbound)(this._entries, new p(e, 0, 0), function (e, t) {
              return e.dayOfWeek() < t.dayOfWeek()
            });
            return t > this._entries.length - 1 || this._entries[t].dayOfWeek() !== e
          }, e.prototype.weekEndsCount = function () {
            if (null === this._weekEndsCount) {
              var e = {};
              this._entries.forEach(function (t) {
                e[t.dayOfWeek()] = 1
              }), this._weekEndsCount = 7 - Object.keys(e).reduce(function (t, i) {
                return t + (e[+i] || 0)
              }, 0)
            }
            return this._weekEndsCount
          }, e.prototype.hasWeekEnds = function () {
            return this.weekEndsCount() > 0
          }, e.prototype.indexOfSessionEntry = function (e, t) {
            var i, o = Object(l.lowerbound)(this._entries, new p(e, t, 0), n);
            return o < this._entries.length ? o : (i = 7 - e + this._firstDayOfWeek - 1, t = -(a.minutesPerDay - t + i * a.minutesPerDay), Object(l.lowerbound)(this._entries, new p(this._firstDayOfWeek, t, 0), n))
          }, e.prototype.findSessionEntry = function (e, t) {
            return this._entries[this.indexOfSessionEntry(e, t)]
          }, e.prototype.correctTradingDay = function (e, t) {
            var i = a.get_day_of_week(e),
              n = 60 * a.get_hours(e) + a.get_minutes(e),
              o = this.findSessionEntry(i, n),
              r = o.dayOfWeek(),
              s = (r - i + 7) % 7;
            return 0 !== s && a.add_date(e, s), e
          },
          e.prototype.alignToSessionStart = function (e, t) {
            var i, n, o, r, s, l, c, u = a.get_day_of_week(e),
              h = a.get_minutes_from_midnight(e),
              d = this.findSessionEntry(u, h),
              p = d.alignedStart(),
              f = d.dayOfWeek(),
              _ = -(d.sessionStartDayOfWeek() - f - 7) % 7,
              m = (f - u + 7) % 7 - _;
            return 0 !== m && a.add_date(e, m), a.set_hms(e, p / 60 | 0, p % 60, 0, 0, t), i = d.length(), n = e, o = t, r = 6e4, s = new Date(n.valueOf() + i * r), l = o.offset_loc(n) / r, c = o.offset_loc(s) / r, i + (l - c)
          }, e.prototype.bordersOfDailyBar = function (e, t) {
            var i, n, o, r, l, c, u, h = a.get_day_of_week(e),
              d = this._entries.filter(function (e) {
                return e.dayOfWeek() === h
              });
            return 0 === d.length ? null : (d.sort(s), i = d[0], n = a.clone(e), o = i.start(), a.set_hms(n, o / 60, o % 60, 0, 0, t), r = d[d.length - 1], l = a.clone(e), u = (c = 60 * (r.start() + r.length()) - 1) / 3600, c -= c / 3600 * 3600, a.set_hms(l, u, c / 60, c % 60, 0, t), {
              from: n,
              to: l
            })
          }, e.prototype._parseSpec = function (e) {
            var t = this,
              i = {},
              n = !1;
            (e = this._parseFirstDayOfWeek(e)).split("|").forEach(function (e) {
              var t, o = e.split(":");
              if (1 === o.length || 2 === o.length) {
                if (t = 1 === o.length) {
                  if (n) return void u.logError("Duplicated default section: " + e);
                  n = !0
                }
                var r;
                (t ? h : (r = o[1], Array.from(r).reduce(function (e, t) {
                  var i = +t;
                  return -1 === e.indexOf(i) && e.push(i), e
                }, []))).forEach(function (e) {
                  t && i[e] || (i[e] = o[0])
                })
              } else u.logError("Bad session section: " + e)
            }), d.forEach(function (n) {
              var o = i[n];
              void 0 !== o && o.split(",").forEach(function (i) {
                var o, s, l, c, h, d, p, f = i.split("-");
                if (2 !== f.length && (u.logError("Bad sessions spec: " + e), f = ["0000", "0000"]), o = 0, (s = f[0]).includes("F") && (s = (l = s.split("F"))[0], o = "" !== l[1] ? parseInt(l[1]) : 1), c = 0, (h = f[1]).includes("F") && (h = (l = h.split("F"))[0], c = "" !== l[1] ? parseInt(l[1]) : 1), !r(s) || !r(h)) throw new Error("Incorrect sessions syntax: " + e);
                d = s, p = h, t.addSessionEntry(n, a.get_minutes_from_hhmm(d), a.get_minutes_from_hhmm(p), o, c)
              })
            })
          }, e.prototype._parseFirstDayOfWeek = function (e) {
            var t, i, n = e.split(";");
            return n.length > 2 ? (u.logError("Only one `first day` specification expected @ session " + e), e) : 1 === n.length ? e : (t = n[0].indexOf("-") >= 0 ? NaN : parseInt(n[0]), i = 1, isNaN(t) && (i = 0, t = parseInt(n[1])), t < a.SUNDAY || t > a.SATURDAY ? (u.logError("Unexpected day index @ session: " + e + "; day index " + t), e) : (this._firstDayOfWeek = t, n[i]))
          }, e
      }()
    },
    DX9F: function (e, t, i) {
      "use strict";

      function n(e) {
        o.call(this, e)
      }
      var o = i("c0/O").PaneRendererAbstractShape;
      inherit(n, o), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c = this.width,
          u = this.height,
          h = u / 2,
          d = this._vertOffset,
          p = 3,
          f = (c - p) / 3,
          _ = !1;
        for (i = 0, n = this.items.length; i < n; i++)(o = this.items[i]).style && null != o.style.color ? (r = o.style.color, s = o.style.borderColor) : (r = this._color, s = this._borderColor), r !== t && (t = r, _ && (e.fill(), e.stroke()), e.beginPath(), e.fillStyle = r, e.strokeStyle = s), a = o.x - c / 2, l = o.y - h + d, e.moveTo(a, l), e.lineTo(a + p, l), e.bezierCurveTo(a + f, l - f, a + 2 * f, l + f, a + c, l), e.lineTo(a + c, l + h), e.bezierCurveTo(a + c - f, l + h + f, a + c - 2 * f, l + h - f, a + p, l + h), e.lineTo(a + p, l + u), e.lineTo(a, l + u), e.lineTo(a, l), _ = !0;
        _ && (e.fill(), e.stroke())
      }, t.PaneRendererFlagShape = TradingView.PaneRendererFlagShape = n
    },
    DYI2: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(3 5)"><path d="M.964 9C3 5 6.679 1.5 11 1.5c4.32 0 8 3.5 10.036 7.5C19 13 15.32 16.5 11 16.5 6.679 16.5 3 13 .964 9z"/><circle cx="11" cy="9" r="3.5"/><path stroke-linecap="square" d="M2.5 17.5l17-17"/></g></svg>'
    },
    Daqx: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = "left" === e ? o : r,
          n = t < i.length ? i[t] : "";
        return new s(n)
      }
      var o, r, s;
      i.r(t), i.d(t, "PriceAxisNameInfo", function () {
        return s
      }), i.d(t, "getPriceAxisNameInfo", function () {
        return n
      }), o = ["Z", "Y", "X", "W", "V", "U", "T", "S"], r = ["A", "B", "C", "D", "E", "F", "G", "H"], s = function () {
        function e(e) {
          this.label = e
        }
        return e.prototype.equals = function (e) {
          return null !== e && this.label === e.label
        }, e
      }()
    },
    Dq3s: function (e) {
      e.exports = {
        4: ["v", ["h", 0, 2],
          ["h", 1, 3]
        ],
        6: ["v", ["h", 0, 2, 4],
          ["h", 1, 3, 5]
        ],
        8: ["v", ["h", 0, 2, 4, 6],
          ["h", 1, 3, 5, 7]
        ],
        "2h": ["h", 0, 1],
        "2v": ["v", 0, 1],
        "2-1": ["v", ["h", 0, 2], 1],
        "3s": ["h", 0, ["v", 1, 2]],
        "3h": ["h", 0, 1, 2],
        "3v": ["v", 0, 1, 2],
        "1-2": ["v", 0, ["h", 1, 2]],
        "3r": ["h", ["v", 0, 1], 2],
        "4h": ["h", 0, 1, 2, 3],
        "4v": ["v", 0, 1, 2, 3],
        "4s": ["h", 0, ["v", 1, 2, 3]],
        "1-3": ["v", 0, ["h", 1, 2, 3]],
        "2-2": ["v", ["h", 0, 1],
          ["v", 2, 3]
        ],
        "1-4": ["v", 0, ["h", 1, 2, 3, 4]],
        "5s": ["h", 0, ["v", 1, 2, 3, 4]],
        "6c": ["v", ["h", 0, 1],
          ["h", 2, 3],
          ["h", 4, 5]
        ],
        "8c": ["v", ["h", 0, 1],
          ["h", 2, 3],
          ["h", 4, 5],
          ["h", 6, 7]
        ],
        s: 0
      }
    },
    DsMZ: function (e, t, i) {
      "use strict";

      function n(e) {
        o.call(this, e)
      }
      var o = i("c0/O").PaneRendererAbstractShape;
      inherit(n, o), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c, u, h;
        for (e.lineWidth = 2, t = this.width, i = this.height, n = this._vertOffset, r = !1, s = 0, a = this.items.length; s < a; s++)(c = (l = this.items[s]).style && null != l.style.color ? l.style.color : this._color) !== o && (o = c, r && e.stroke(), e.beginPath(), e.strokeStyle = c), u = l.x - t / 2, h = l.y - i / 2 + n, e.moveTo(u, h), e.lineTo(u + t, h + i), e.moveTo(u, h + i), e.lineTo(u + t, h), r = !0;
        r && e.stroke()
      }, t.PaneRendererXCross = TradingView.PaneRendererXCross = n
    },
    E1RQ: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = t || window.locale || "en",
          n = e[i] ? e[i] : e.en;
        return (n = "tradingview.com" === n ? "www.tradingview.com" : n) ? document.location.protocol + "//" + n : ""
      }

      function o(e, t) {
        var i, n, o, r, s = /([a-zA-Z0-9.\-]*tradingview.com)|localhost/.test(e);
        return s ? "" === (i = Object(c.buildUtmQueryString)(t)) ? e : (n = e.indexOf("?"), r = -1 !== (o = e.indexOf("#")), -1 !== n && (!r || n < o) ? e.slice(0, n) + "?" + (r ? e.slice(n + 1, o) : e.slice(n + 1)) + "&" + i + (r ? e.slice(o) : "") : r ? e.slice(0, o) + "?" + i + e.slice(o) : e + "?" + i) : e
      }

      function r() {
        return "tradingview_" + (1048576 * (1 + Math.random()) | 0).toString(16).substring(1)
      }

      function s(e, t, i, n, o, r) {
        var s, l, c;
        void 0 === o && (o = 800), void 0 === r && (r = 600), s = !1, null !== o && (l = i || o, "100%" === i && (l = o), parseInt(l) > o && (l = o, s = !0), t.style.width = a(l)), null !== r && (c = n || r, "100%" === n && (c = r), parseInt(c) > r && (c = r, s = !0), t.style.height = a(c)), t.style.overflow = s ? "auto" : "hidden", t.innerHTML = "", t.appendChild(Object(u.parseHtmlElement)(e))
      }

      function a(e) {
        return null === e ? "" : (e.toString().endsWith("px") || (e += "px"), e)
      }
      var l, c, u;
      i.r(t), i.d(t, "determineBaseUrl", function () {
        return n
      }), i.d(t, "addUtmToUrl", function () {
        return o
      }), i.d(t, "generateWidgetContainerId", function () {
        return r
      }), i.d(t, "initWidgetInElement", function () {
        return s
      }), l = i("bSeV"), c = i("JgDS"), u = i("TzTt")
    },
    EEWc: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#ed5565" d="M0 0h18v18H0z"/><path fill="#fc0" d="M6.6 5.9l-4.1 3L4 4l1.6 5-4.2-3h5.1zm1.5-2.7l1.6.7-1.7.4L9.1 3 9 4.7zM10 5l1.2 1.2L9.5 6l1.5-.7-.8 1.5zm.3 2.5l.6 1.6-1.4-1h1.7l-1.3 1zm-1.2 2L9 11.2 8 9.8l1.7.6-1.7.4z"/></svg>'
    },
    EKrn: function (e, t, i) {
      "use strict";

      function n(e) {
        this.items = e.items, this.barSpacing = e.barSpacing, this.histogramBase = e.histogramBase, this.lineColor = e.lineColor, this.lineWidth = e.lineWidth
      }
      var o = i("aO4+").Point,
        r = i("GEp6").distanceToSegment,
        s = i("Zp/P").selectionTolerance,
        a = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        var t, i, n, o, r;
        for (e.translate(.5, .5), e.fillStyle = this.lineColor, t = this.lineWidth, i = 0; i < this.items.length; ++i) o = (n = this.items[i]).x, r = n.y, n.style && (e.fillStyle = n.style.color, t = n.style.width), e.fillRect(Math.round(o - .5 * t), r, t, this.histogramBase - r)
      }, n.prototype.hitTest = function (e) {
        var t, i, n, l, c = s(this.lineWidth);
        for (l = 0; l < this.items.length; ++l)
          if (i = (t = this.items[l]).x, n = t.y, r(new o(i, n), new o(i, this.histogramBase), new o(e.x, e.y)).distance <= c) return new a(a.REGULAR);
        return null
      }, t.PaneRendererHistogram = TradingView.PaneRendererHistogram = n
    },
    EQCO: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e) {
          this._band = e || {}
        }

        function o() {
          n.apply(this, arguments)
        }

        function r() {
          n.apply(this, arguments)
        }

        function s() {
          n.apply(this, arguments)
        }

        function a() {
          n.apply(this, arguments)
        }
        var l, c = i("23IT"),
          u = i("tF8J").generateTitleForGui,
          h = i("uOxu").getLogger("Alerts.Band"),
          d = i("n5al"),
          p = i("Ialn");
        TradingView = "object" == typeof t ? t.TradingView : TradingView || {}, l = {
          create: function (e) {
            var t, i = e || {},
              n = i.type;
            if ("MainSeries" === n) t = o;
            else if ("Study" === n || /^study_\w+/.test(n)) t = r;
            else if ("Value" === n) t = s;
            else {
              if (!/^LineTool.*/i.test(n)) return h.logError("Unknown alert band type " + n), null;
              t = a
            }
            return new t(i)
          }
        }, n.prototype.id = function () {
          return this._band.id
        }, n.prototype.type = function () {
          return this._band.type
        }, n.prototype.title = function () {
          return this._band.title
        }, n.prototype.hasPlots = function () {
          return this._band.plots && this._band.plots.length
        }, n.prototype.getActualSymbol = function () {
          return this._band.actualSymbol
        }, n.prototype.getSymbolString = function () {
          return this._band.symbolString
        }, n.prototype.getPlotTitle = function (e) {
          return e.title ? e.title : c.isOhlcOpenPlot(e) ? e.ohlcTitle + " " + $.t("Open") : c.isOhlcHighPlot(e) ? e.ohlcTitle + " " + $.t("High") : c.isOhlcLowPlot(e) ? e.ohlcTitle + " " + $.t("Low") : c.isOhlcClosePlot(e) ? e.ohlcTitle + " " + $.t("Close") : "vol" === e.id ? $.t("Volume") : "vol_ma" === e.id ? $.t("Volume MA") : "open" === e.id ? $.t("Open") : "high" === e.id ? $.t("High") : "low" === e.id ? $.t("Low") : "close" === e.id ? $.t("Close") : e.id
        }, n.prototype.getPlots = function (e) {
          var t, i = e || {},
            n = this;
          return this._band.plots && this._band.plots.length && "inputSelect" === i.format ? (t = -1, this._band.plots.map(function (e) {
            return {
              value: ++t,
              title: n.getPlotTitle(e)
            }
          })) : this._band.plots
        }, inherit(o, n), o.prototype.title = function (e) {
          var t = i("8woN"),
            n = e || {},
            o = !!n.withInterval,
            r = this._band.actualSymbol;
          return t && (r = t.shortName(r)), u({
            symbol: r,
            interval: o ? this._band.interval : null,
            style: this._band.style,
            inputs: this._band.styleInputs || {},
            boxSize: this._band.boxSize,
            reversalAmount: this._band.reversalAmount,
            extended: n.extended
          })
        }, o.prototype.getInterval = function () {
          return this._band.interval
        }, o.prototype.getStyle = function () {
          return this._band.style
        }, o.prototype.getStyleInputs = function () {
          return this._band.styleInputs
        }, o.prototype.isRangeBasedStyle = function () {
          return d.isRangeBasedStyle(this._band.style)
        }, o.prototype.isSpread = function () {
          return this._band.isSpread
        }, o.prototype.isExtended = function () {
          return this._band.extendedHours
        }, o.prototype.getDividendsAdjustment = function () {
          return this._band.dividendsAdjustment
        }, inherit(r, n), r.prototype.title = function (e) {
          var t, i, n, o = e || {},
            r = o.withPlotTitle,
            s = this._band;
          return o.short && s.shortTitle ? t = s.shortTitle : s.title ? t = s.title : (t = s.shortDescription || "Study", i = [], Object.keys(s.inputs).forEach(function (e) {
            var t = s.inputs[e] && s.inputs[e].id;
            t && !s.inputs[e].isHidden && void 0 !== s.inputs[t] && i.push(s.inputs[t])
          }), i.length && (t += " (" + i.join(", ") + ")")), r && (n = this.selectedPlot()) && (t += " " + (n.title || $.t("Untitled Plot"))), p.IS_RTL && (t = p.forceLTRStr(t)), t
        }, r.prototype.selectedPlot = function () {
          var e = this._band;
          return void 0 === e.plotIndex ? null : this.getPlots().filter(function (t) {
            return t.value === e.plotIndex
          })[0] || null
        }, inherit(s, n), s.prototype.title = function (e) {
          var t = this._band.value || 0;
          return e.formatter ? e.formatter.format(parseFloat(t)) : parseFloat(t).toString()
        }, inherit(a, n), e.exports.AlertBandAbstract = n, e.exports.AlertBandValue = s, e.exports.alertBandFactory = l
      }).call(this, i("yLpj"))
    },
    Eeco: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        l.call(this, e, t, i)
      }

      function o(e, t, i) {
        n.call(this, e, t, i)
      }

      function r(e, t, i) {
        n.call(this, e, t, i)
      }

      function s(e, t, i) {
        n.call(this, e, t, i)
      }
      var a = i("Eyy1").assert,
        l = i("Txy0").LineStudyMtp;
      inherit(n, l), n.prototype.pointsCount = function () {
        return 1
      }, n.prototype._studyInputs = function (e) {
        var t, i;
        return a(1 === e.length, "all the line tool points should be defined"), t = e[0].index, null === (i = this._model.mainSeries().bars().valueAt(t)) ? null : {
          displayZoneLabels: this.properties().inputs.displayZoneLabels.value(),
          bar: 1e3 * i[TradingView.TIME_PLOT]
        }
      }, inherit(o, n), o.prototype._mtpStudyId = function () {
        return "mtp_ew_main"
      }, inherit(r, n), r.prototype._mtpStudyId = function () {
        return "mtp_ew_major"
      }, inherit(s, n), s.prototype._mtpStudyId = function () {
        return "mtp_ew_minor"
      }, t.LineStudyMtpElliotWaveMinor = s, t.LineStudyMtpElliotWaveMajor = r, t.LineStudyMtpElliotWaveMain = o, t.LineStudyMtpElliotWave = n
    },
    Ehu7: function (e, t, i) {
      "use strict";

      function n(e) {
        return Object(s.check)(e).then(function () {
          return !0
        }).catch(function (e) {
          if (e.errCode === p.DELAY_NOT_AVAILABLE) Object(m.createGoProDialog)({
            feature: "idcFreeUser",
            closeOnOutsideClick: !1
          }).then(function (e) {
            e.open()
          });
          else if (Object(h.isIDCExchange)(e.exchange)) {
            if (e.errCode === p.NEED_SIGN_AGREEMENT) return t = e.exchange, new Promise(function (e) {
              if (!(t = t && t.toLowerCase())) return e(!1);
              var n = i.c["6aJD"];
              if (n && n.exports.isOpenedModals()) return e(!1);
              Object(a.createIdcDelayAgreementDialog)({
                exchange: t
              }).then(function (i) {
                i.on("afterOpen", function () {
                  Object(l.trackEvent)("IDC Delay", "Dialog Shown", t)
                }), i.on("afterClose", function () {
                  e(!1)
                }), i.on("action:sign-agreement", function () {
                  window.saver.saveChartSilently(), Object(l.trackEvent)("IDC Delay", "Go on Agreement", t)
                }), i.open()
              })
            });
            if (e.errCode === p.NEED_ADD_SERVICE) return function (e) {
              return new Promise(function (t) {
                var n, o;
                return (e = e && e.toLowerCase()) ? (n = i.c["6aJD"]) && n.exports.isOpenedModals() ? t(!1) : (o = !1, void Object(a.createIdcDelayAddServiceDialog)().then(function (i) {
                  i.open(), i.on("afterOpen", function () {
                    Object(l.trackEvent)("IDC Add Delay Service", "Dialog Shown", e)
                  }), i.on("afterClose", function () {
                    o || t(!1)
                  }), i.on("action:add-service", function (i) {
                    o = !0, i.destroy(), Object(c.a)(e).then(function (e) {
                      0 === e ? (u.invalidateShopConf(), u.updateShopConf(), t(!0)) : t(!1)
                    })
                  })
                })) : t(!1)
              })
            }(e.exchange)
          }
          var t;
          return Promise.resolve(!1)
        })
      }

      function o(e, t) {
        return new Promise(function (n) {
          var o, s, a, l;
          if ("group_not_permitted" !== t.type) return n(e);
          if (!t.symbolGroup) return n(window.DEFAULT_SYMBOL);
          if (o = t.symbolGroup, Object(d.isSfFlag)(o)) {
            if ((s = i.c["6aJD"]) && s.exports.isOpenedModals()) return n(window.DEFAULT_SYMBOL);
            (function (e, t, i) {
              void 0 === i && (i = !1);
              var n = {
                closeOnOutsideClick: !1,
                mode: "signin",
                onSigninSuccess: t,
                from: "\n\t\t\t<p>" + window.t("{0} data for {1} is only available to registered users.").format(i ? window.t("Real-time") : window.t("Delayed"), e) + "</p>\n\t\t\t<p>" + window.t("Please log in or sign up to continue!") + "</p>\n\t\t",
                actions: [{
                  name: "yes",
                  type: "primary",
                  text: window.t("Get started")
                }, {
                  name: "no",
                  type: "link",
                  text: window.t("No thanks"),
                  class: "tv-button tv-button--link tv-button--no-padding i-float_left",
                  method: "close"
                }]
              };
              return Object(f.createGoRegisterDialog)(n)
            })(Object(_.getExchange)(g.linking.symbol.value()), function () {
              n(e)
            }, "sf_rt" === o).then(function (e) {
              if (null === e) return n(window.DEFAULT_SYMBOL);
              e.on("action:no", function () {
                return n(window.DEFAULT_SYMBOL)
              }), e.open()
            })
          }
          if (!(a = Object(y.b)(o))) return n(window.DEFAULT_SYMBOL);
          l = [{
            name: "no",
            method: "close",
            text: r.t("Cancel")
          }], a.actions && a.actions.forEach(function (e) {
            l.unshift({
              name: e.type,
              method: e.type,
              text: e.text,
              type: "primary"
            })
          }), Object(v.createNoticeDialog)({
            width: 600,
            title: a.title,
            content: a.description,
            actions: l
          }).then(function (e) {
            e.on("destroy", function () {
              return n(window.DEFAULT_SYMBOL)
            }), a.actions && a.actions.forEach(function (t) {
              e.on("action:" + t.type, t.handler)
            }), e.open()
          })
        })
      }
      var r, s, a, l, c, u, h, d, p, f, _, m, g, y, v;
      i.r(t), r = i("YFKU"), s = i("AICS"), a = i("y023"), l = i("PC8g"), c = i("pIZu"), u = window.pro, h = i("fgbt"), d = i("hfc+"), p = i("t2oF"), i("HbRj"), f = i("ON13"), _ = i("8woN"), m = i("s4+V"), g = i("PT1i"), y = i("SwaV"), v = i("brCa"), i.d(t, "isSymbolAvailable", function () {
        return n
      }), i.d(t, "requestFallbackSymbol", function () {
        return o
      })
    },
    EqoR: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = t || n.createProperties();
        r.call(this, e, i), this._constructor = "LineToolInsidePitchfork"
      }
      var o = i("5rJj"),
        r = i("aDyP").LineToolPitchfork;
      inherit(n, r), n.prototype.title = function () {
        return window.t("Inside Pitchfork")
      }, n.prototype.name = function () {
        return "Inside Pitchfork"
      }, n.createProperties = function (e) {
        var t = new o("linetoolinsidepitchfork", e, !1, {
          range: [0, 8]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineToolInsidePitchfork = n
    },
    EsvI: function (e, t, i) {
      "use strict";

      function n(e) {
        return Object(A.fetch)("/theme/?themeName=" + encodeURIComponent(e), {
          credentials: "include",
          method: "GET"
        }).then(function (e) {
          return e.json()
        }).then(function (e) {
          var t = {};
          return e.content && (t.content = JSON.parse(e.content)), t
        })
      }

      function o(e, t) {
        var i = V.colorsPalette[e];
        if (!i) throw new Error("No such color " + e);
        return i
      }

      function r(e, t) {
        var i, n;
        for (n in t || (t = window), i = t.document.documentElement, N) N[n].className && i.classList.toggle(N[n].className, n === e)
      }

      function s(e) {
        return !e.isPrivate
      }

      function a() {
        return N[W.value()] || N[F]
      }

      function l(e) {
        return a().getThemedColor(e)
      }

      function c(e) {
        W.setValue(e)
      }

      function u(e, t, i, n, o) {
        void 0 === o && (o = !0);
        var r = t ? Promise.resolve(y(e)) : f(e);
        return r.then(function (r) {
          if (void 0 !== r.content) {
            var s = !t;
            n.applyTheme(r.content, s, i, e, t, o)
          }
        }), r
      }

      function h() {
        c(Object(I.getValue)(U) || F)
      }

      function d() {
        return Object(I.getValue)(U) || null
      }

      function p() {
        Object(I.setValue)(U, a().name, {
          forceFlush: !0
        })
      }

      function f(e) {
        return n(e)
      }

      function _() {
        return k || Object(A.fetch)("/themes/", {
          credentials: "include",
          method: "GET"
        }).then(function (e) {
          return k = e.json()
        })
      }

      function m() {
        return O.c()
      }

      function g(e) {
        return m().includes(e)
      }

      function y(e) {
        return O.b(e) || {
          content: void 0
        }
      }

      function v(e, t) {
        var i = t || a().name,
          n = O.b(i),
          o = 0 !== e.length && e.split(".");
        return n && n.content && o ? o.reduce(function (e, t) {
          return e[t]
        }, n.content) : null
      }

      function S(e, t) {
        return function (e, t) {
          var i = new FormData;
          return i.append("content", JSON.stringify(t)), i.append("name", e), k = null, Object(A.fetch)("/save-theme/", {
            credentials: "include",
            method: "POST",
            body: i
          }).then(function (e) {
            return e.json()
          }, function (e) {
            return D.logError(e)
          })
        }(e, t)
      }

      function b(e) {
        return function (e) {
          var t = new FormData;
          return t.append("name", e), k = null, Object(A.fetch)("/remove-theme/", {
            credentials: "include",
            method: "POST",
            body: t
          }).then(function (e) {
            return e.json()
          }, function (e) {
            return D.logError(e)
          })
        }(e)
      }

      function w(e) {
        return function (e) {
          return n(e).then(function (e) {
            return Boolean(e.content)
          })
        }(e)
      }

      function P(e) {
        return O.e(e)
      }

      function T(e) {
        return O.d(e)
      }

      function C(e) {
        return {
          content: {
            chartProperties: {
              paneProperties: e.m_model.properties().paneProperties.state(),
              scalesProperties: e.m_model.properties().scalesProperties.state()
            },
            mainSourceProperties: e.m_model.m_mainSeries.properties().state()
          }
        }
      }
      var x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U;
      i.r(t), i("bSeV"), i("YFKU"), x = i("hY0g"), E = i.n(x), I = i("Vdly"), A = i("BHQF"), L = i("uOxu"), D = Object(L.getLogger)("Themes.Provider"), k = null, O = i("zM7N"), M = i("AVbJ"), R = i("cUIH"), V = i("6Kf3"), i.d(t, "themes", function () {
          return N
        }), i.d(t, "DEFAULT_THEME", function () {
          return F
        }), i.d(t, "watchedTheme", function () {
          return W
        }), i.d(t, "applyTheme", function () {
          return r
        }), i.d(t, "isPublicTheme", function () {
          return s
        }), i.d(t, "getCurrentTheme", function () {
          return a
        }),
        i.d(t, "setThemedColor", function () {
          return l
        }), i.d(t, "setTheme", function () {
          return c
        }), i.d(t, "loadTheme", function () {
          return u
        }), i.d(t, "restoreTheme", function () {
          return h
        }), i.d(t, "savedThemeName", function () {
          return d
        }), i.d(t, "syncTheme", function () {
          return p
        }), i.d(t, "getTheme", function () {
          return f
        }), i.d(t, "getThemeNames", function () {
          return _
        }), i.d(t, "getStdThemeNames", function () {
          return m
        }), i.d(t, "isStdThemeName", function () {
          return g
        }), i.d(t, "getStdTheme", function () {
          return y
        }), i.d(t, "getStdThemedValue", function () {
          return v
        }), i.d(t, "saveTheme", function () {
          return S
        }), i.d(t, "removeTheme", function () {
          return b
        }), i.d(t, "isThemeExist", function () {
          return w
        }), i.d(t, "translateStdThemeName", function () {
          return P
        }), i.d(t, "isStdTheme", function () {
          return T
        }), i.d(t, "extractThemeFromModel", function () {
          return C
        }), (B = {})[O.a.Light] = {
          name: O.a.Light,
          label: window.t("Light", {
            context: "colorThemeName"
          }),
          className: "theme-light",
          order: 2,
          getThemedColor: function (e) {
            return o(e)
          }
        }, B[O.a.Dark] = {
          name: O.a.Dark,
          label: window.t("Dark", {
            context: "colorThemeName"
          }),
          className: "theme-dark",
          order: 1,
          getThemedColor: function (e) {
            return o(M[e] || e)
          }
        }, (N = B).sa = {
          isPrivate: !0,
          noChartTheme: !0,
          name: "sa",
          className: "theme-sa",
          getThemedColor: function (e) {
            return o(R[e] || e)
          }
        }, F = "light", (W = new E.a).subscribe(function (e) {
          r(e, window)
        }), U = "current_theme.name"
    },
    Evi4: function (e, t, i) {
      "use strict";

      function n() {}
      var o = i("sDvb"),
        r = i("0YCj"),
        s = i("K4L1"),
        a = i("cBZt").extractStudyId,
        l = i("TcSq").extractPineId,
        c = i("xD5v").prepareCallStudyArgs,
        u = i("0waE"),
        h = i("uOxu").getLogger("Alerts.Versioning"),
        d = i("nmnj"),
        p = i("nXyu"),
        f = i("YJLw"),
        _ = i("dn9U"),
        m = i("n5al"),
        g = i("0N6F").DataSourceDangerReason;
      n.version_10_tv_6611_1a_refactoring = 10, n.version_11_tv_6611_1b_refactoring = 11, n.version_12_tv_6888_fix_plot_index = 12, n.version_13_tv_4164_source_code_protection = 13, n.version_14_tv_4164_source_code_protection_fix = 14, n.version_15_tv_8068_fix_main_series_resolution = 15, n.version_16_jv_298_remove_callstudy = 16, n.version_17_jv_646_fix_mixed_inputs = 17, n.version_18_tv_10636_price_format = 18, n.version_19_tv_11267_fix_frequency_options = 19, n.version_20_tv_14463_extract_dividends_adjustment_from_symbol_string = 20, n.version_21_tv_14886_add_alert_dangerous_source_check = 21, n.prototype.migrate = function (e) {
        var t, i;
        return e && e.extra ? (t = JSON.parse(e.extra)) && !Object.keys(t).length && t.constructor === Object ? (delete e.extra, Promise.resolve(e)) : (i = Promise.resolve(e), (null == t.version || t.version < o.VERSION) && (i = this._patchAlert(t, e)), i = i.then(function (e) {
          var t = JSON.parse(e.extra);
          return t.version < o.VERSION && h.logError("Alert version is less than current"), t.version > o.VERSION && h.logNormal("Alert version is greater than current"), e
        })) : Promise.resolve(e)
      }, n.prototype._patchAlert = function (e, t) {
        var i, o, r = this;
        return e.version || (e.version = 1), (i = e.version) < n.version_10_tv_6611_1a_refactoring && (e.condition.mainSeries = this._patchBand_to10(e.condition.mainSeries, t.symbol), e.condition.options.band && (e.condition.options.band = this._patchBand_to10(e.condition.options.band, t.symbol)),
          e.condition.options.upperBand && (e.condition.options.upperBand = this._patchBand_to10(e.condition.options.upperBand, t.symbol)), e.condition.options.lowerBand && (e.condition.options.lowerBand = this._patchBand_to10(e.condition.options.lowerBand, t.symbol)), e.version = n.version_10_tv_6611_1a_refactoring), i < n.version_11_tv_6611_1b_refactoring && (e = this._patchExtra_to11(e)), i < n.version_12_tv_6888_fix_plot_index && (e = this._patchExtra_to12(e)), i < n.version_13_tv_4164_source_code_protection && (e = this._patchExtra_to13(e, t)), i < n.version_14_tv_4164_source_code_protection_fix && (e = this._patchExtra_to14(e, t)), i < n.version_15_tv_8068_fix_main_series_resolution && (e = this._patchExtra_to15(e, t)), t.extra = JSON.stringify(e), o = Promise.resolve(t), i < n.version_16_jv_298_remove_callstudy && (o = o.then(function (e) {
          return r._patchAlert_to16(e)
        })), i < n.version_17_jv_646_fix_mixed_inputs && (o = o.then(function (e) {
          var t = JSON.parse(e.extra),
            i = r._patchExtra_to17(t);
          return e.extra = JSON.stringify(i), e
        })), i < n.version_18_tv_10636_price_format && (o = o.then(function (e) {
          var t = JSON.parse(e.extra),
            i = r._patchExtra_to18(t);
          return e.extra = JSON.stringify(i), e
        })), i < n.version_19_tv_11267_fix_frequency_options && (o = o.then(function (e) {
          return r._patchAlert_to19(e)
        })), i < n.version_20_tv_14463_extract_dividends_adjustment_from_symbol_string && (o = o.then(function (e) {
          var t = JSON.parse(e.extra),
            i = r._patchExtra_to20(t);
          return e.extra = JSON.stringify(i), e
        })), i < n.version_21_tv_14886_add_alert_dangerous_source_check && (o = o.then(function (e) {
          var t = JSON.parse(e.extra),
            i = r._patchExtra_to21(t);
          return e.extra = JSON.stringify(i), e
        })), o
      }, n.prototype._patchBand_to10 = function (e, t) {
        return e = this._patchBand_to10_callStudyArgs(e), e = this._patchBand_to10_stateForAlert(e, t)
      }, n.prototype._patchBand_to10_callStudyArgs = function (e) {
        var t = e && "Study" === e.type,
          i = t && (e.alertsData || {}).callStudyArgs,
          n = t && e.metaInfo && e.state && e.state.inputs;
        return t && !i && n ? (e.alertsData || (e.alertsData = {}), e.alertsData.callStudyArgs = c(e.state.inputs, e.metaInfo), e) : e
      }, n.prototype._patchBand_to10_stateForAlert = function (e, t) {
        var i, n, o;
        return e ? (n = !e.state, "MainSeries" !== (i = e.type) || n ? "Study" !== i && !/^study_\w+/.test(i) || n ? e : (o = e.metaInfo.plots.map(function (t) {
          var i = {
            id: t.id,
            type: t.type,
            offset: e.data.completePlotOffsets[t.id]
          };
          return e.metaInfo.styles && void 0 !== e.metaInfo.styles[t.id] && (i.title = e.metaInfo.styles[t.id].title || ""), t.target && e.metaInfo.ohlcPlots && e.metaInfo.ohlcPlots[t.target] && (i.ohlcTitle = e.metaInfo.ohlcPlots[t.target].title), i
        }), {
          id: e.id,
          uniqueId: e.uniqueId,
          type: e.type,
          title: "",
          shortDescription: e.state.shortDescription || "Study",
          fullId: e.metaInfo.fullId,
          isTVScript: !!e.metaInfo.isTVScript,
          plots: o,
          inputs: e.state.inputs,
          alerts: e.metaInfo.alerts,
          callStudyArgs: e.alertsData.callStudyArgs,
          plotIndex: e.plotIndex,
          plotOffset: e.plotOffset
        }) : {
          id: e.id,
          uniqueId: e.uniqueId,
          type: e.type,
          proSymbol: e.state.symbol || t,
          actualSymbol: t,
          interval: e.state.interval,
          style: e.state.style,
          styleInputs: function () {
            var t, i = {
                0: "bar",
                1: "candle",
                2: "line",
                3: "area",
                4: "renko",
                5: "kagi",
                6: "pnf",
                7: "pb",
                8: "ha",
                9: "hollowCandle"
              },
              n = i[e.state.style];
            if (n && (t = e.state[n + "Style"])) return t.inputs
          }(),
          extendedHours: e.state.extendedHours,
          boxSize: e.boxSize,
          reversalAmount: e.reversalAmount
        }) : e
      }, n.prototype._patchExtra_to11 = function (e) {
        var t = function (e, t, i) {
            i.id = i.id || u.randomHashN(6), e.condition[t] = {
              id: i.id,
              plotIndex: i.plotIndex
            }, e.statesForAlert[i.id] = i
          },
          i = {
            version: n.version_11_tv_6611_1b_refactoring,
            condition: {
              id: e.condition.id,
              fireInfo: {
                frequency: e.frequency || "once"
              },
              movPeriod: e.condition.options.period,
              movValue: e.condition.options.value
            },
            statesForAlert: {}
          };
        return t(i, "alertSeries", e.condition.mainSeries), ["band", "upperBand", "lowerBand"].filter(function (t) {
          return !!e.condition.options[t]
        }).forEach(function (n) {
          t(i, n, e.condition.options[n])
        }), i
      }, n.prototype._patchExtra_to12 = function (e) {
        return ["alertSeries", "band", "upperBand", "lowerBand"].filter(function (t) {
          return !!e.condition[t] && void 0 !== e.condition[t].plotIndex
        }).map(function (t) {
          var i = e.condition[t];
          return {
            state: e.statesForAlert[i.id],
            plotIndex: i.plotIndex
          }
        }).filter(function (e) {
          return !!e.state.plots
        }).forEach(function (e) {
          var t = e.state.plots[e.plotIndex];
          null == t || "object" != typeof t && "function" != typeof t || void 0 === t.pinePlotIndex && (t.pinePlotIndex = e.plotIndex)
        }), e.version = n.version_12_tv_6888_fix_plot_index, e
      }, n.prototype._patchExtra_to13 = function (e, t) {
        var i, o, s, a = e;
        for (o in e.condition.mainSeries || ("MainSeries" === e.statesForAlert[e.condition.alertSeries.id].type ? a.condition.mainSeries = a.condition.alertSeries : (i = u.randomHashN(6), a.condition.mainSeries = {
            id: i
          }, a.statesForAlert[i] = {
            id: i
          }), a.statesForAlert[a.condition.mainSeries.id].symbolString = t.symbol), e.statesForAlert)(s = e.statesForAlert[o]).fullId && (s.scriptIdPart = r.parseIdString(s.fullId).shortId.split("$")[1]);
        return a.version = n.version_13_tv_4164_source_code_protection, a
      }, n.prototype._patchExtra_to14 = function (e, t) {
        var i = e;
        return e.condition.mainSeries || ("MainSeries" === e.statesForAlert[e.condition.alertSeries.id].type ? i.condition.mainSeries = i.condition.alertSeries : (i.condition.mainSeries = {
          id: u.randomHashN(6)
        }, i.statesForAlert[i.condition.mainSeries.id] = {})), null == i.statesForAlert[i.condition.mainSeries.id].symbolString && (i.statesForAlert[i.condition.mainSeries.id].symbolString = t.symbol), i.version = n.version_14_tv_4164_source_code_protection_fix, i
      }, n.prototype._patchExtra_to15 = function (e, t) {
        var i = e;
        return null == i.statesForAlert[i.condition.mainSeries.id].interval && (i.statesForAlert[i.condition.mainSeries.id].interval = t.resolution), i.version = n.version_15_tv_8068_fix_main_series_resolution, i
      }, n.prototype._patchAlert_to16 = function (e) {
        function t(e) {
          return e.replace(/tv-scripting-1\!?$/, "tv-scripting-88")
        }

        function i(i) {
          return (o = i, s = r.cutDollarHash(o.fullId), l = n._recoverFullInputs(o.fullId, o.pineId, o.pineVersion, o.inputs).then(function (e) {
              return {
                id: p.idForAlert(a(o.fullId), e),
                study: t(s),
                inputs: e
              }
            }), c = new Promise(function (e, i) {
              var r = JSON.parse(o.callStudyDependencies || "[]"),
                s = r.map(function (e) {
                  return n._recoverFullInputs(null, e.scriptIdPart, e.scriptVersion, e.inputs).then(function (i) {
                    return {
                      id: e.id,
                      study: t(e.study),
                      inputs: i
                    }
                  })
                });
              Promise.all(s).then(function (t) {
                e(t)
              }, i)
            }),
            l.then(function (e) {
              return c.then(function (t) {
                return [e].concat(t)
              })
            })).then(function (t) {
            i.studyDependencies = t;
            var n = t[0];
            i.id = n.id, i.uniqueId = i.id, e.scriptDeps = e.scriptDeps.concat(t)
          });
          var o, s, l, c
        }
        var o, s, l, c, u = JSON.parse(e.extra);
        for (s in e.scriptDeps = [], o = [], u.statesForAlert) u.statesForAlert.hasOwnProperty(s) && ("MainSeries" === (l = u.statesForAlert[s]).type ? (l.id = f(l.symbolString + l.interval).toString(), l.uniqueId = l.id) : /^LineTool.*/i.test(l.type) ? l.id = l.uniqueId : ("Study" === l.type || /^study_\w+/.test(l.type)) && (c = i(l), o.push(c)));
        return Promise.all(o).then(function () {
          return function (e) {
            var t = {},
              i = {};
            Object.keys(e.statesForAlert).forEach(function (n) {
              var o = e.statesForAlert[n].id;
              t[n] = o, i[o] = e.statesForAlert[n]
            }), Object.keys(e.condition).filter(function (i) {
              return null != e.condition[i].id && null != t[e.condition[i].id]
            }).forEach(function (i) {
              e.condition[i].id = t[e.condition[i].id]
            }), e.statesForAlert = i
          }(u), u.version = n.version_16_jv_298_remove_callstudy, e.extra = JSON.stringify(u), e
        })
      }, n.prototype.patchAlert_to16_forTestsOnly = n.prototype._patchAlert_to16, n.prototype._patchExtra_to17 = function (e) {
        var t, i, o, r, a;
        for (t in e.statesForAlert)
          if (e.statesForAlert.hasOwnProperty(t) && (null != (o = (i = e.statesForAlert[t]).inputs) && (i.inputs = s.splitInputs(o).obj), null != i.studyDependencies))
            for (r = 0; r < i.studyDependencies.length; r++)(a = i.studyDependencies[r]).inputs = s.splitInputs(a.inputs).obj;
        return e.version = n.version_17_jv_646_fix_mixed_inputs, e
      }, n.prototype.patchExtra_to17_forTestsOnly = n.prototype._patchExtra_to17, n._recoverFullInputs = function (e, t, i, n) {
        if (t = t || e && l(e) || n.pineId, i = i || n.pineVersion || "-1", null == t) return Promise.resolve(n);
        var o = d.translateScriptAsync2(t, i);
        return new Promise(function (e, t) {
          o.then(e, t)
        }).catch(function (e) {
          if ("-1" === i && t.startsWith("USER")) {
            var o = function (e) {
              var t = {};
              return Object.keys(e).forEach(function (i) {
                var n, o = e[i];
                i.startsWith("in_") ? (n = ["open", "high", "low", "close", "hl2", "hlc3", "ohlc4"].indexOf(o) > 0 || /.*\$\d+/.test(o) ? "source" : "string" == typeof o ? "string" : "boolean" == typeof o ? "bool" : "float", t[i] = {
                  f: !0,
                  v: o,
                  t: n
                }) : t[i] = o
              }), t
            }(n);
            return h.logNormal("A very rare case: alert on legacy script that was never resaved. Trying to guess input types \n\t" + JSON.stringify(n) + " -> " + JSON.stringify(o)), o
          }
          return h.logError("Alert migration failed, inputs cannot be migrated: " + JSON.stringify(e)), Promise.reject(e)
        }).then(function (e) {
          return TVScript.patchInputs(e.inputs, n)
        })
      }, n.prototype._patchExtra_to18 = function (e) {
        var t, i, o, r, s, a, l, c = {},
          u = _.getData(e.condition.id);
        return u && "comparison" === u.type && (u.isChannel ? (i = e.statesForAlert[e.condition.upperBand.id], o = e.statesForAlert[e.condition.lowerBand.id], "Value" === i.type ? t = i.value : "Value" === o.type && (t = o.value)) : "Value" === (r = e.statesForAlert[e.condition.band.id]).type && (t = r.value)), t && -1 !== (t = t.toString().replace(/^-/, "")).indexOf(".") && (s = t.replace(/^\d+\./, "").length, a = Math.pow(10, s), c.priceScale = a), l = e.condition.alertSeries.id, e.statesForAlert[l].formatter = {
          type: "price",
          state: c
        }, e.version = n.version_18_tv_10636_price_format, e
      }, n.prototype._patchAlert_to19 = function (e) {
        function t(e) {
          return -1 !== h.indexOf(e)
        }
        var i = JSON.parse(e.extra),
          o = e.autoDeactivation,
          r = i.condition.fireInfo.frequency,
          s = i.statesForAlert[i.condition.mainSeries.id],
          a = ["band", "lowerBand", "upperBand"].map(function (e) {
            var t = i.condition[e];
            return t && i.statesForAlert[t.id]
          }).filter(function (e) {
            return !!e
          }),
          l = a.filter(function (e) {
            return "LineToolVertLine" === e.type
          }).length > 0,
          c = m.hasProjection(s.style),
          u = e.crossInterval,
          h = [];
        return l ? h.push("once") : (u || c || (h.push("once"), h.push("60"), h.push("on_bar_close")), c ? h.push("on_bar_close") : h.push("on_first_fire")), "once_per_bar" === r && (r = "on_first_fire"), "once" !== r || t("once") || (o = !0, r = h[0]), "once" !== r && o && (r = h[0]), "once" !== r && l && (o = !0, r = "once"), "on_bar_close" === r && !t("on_bar_close") && t("on_first_fire") && (r = "on_first_fire"), e.autoDeactivation = o, i.condition.fireInfo.frequency = r, i.version = n.version_19_tv_11267_fix_frequency_options, e.extra = JSON.stringify(i), e
      }, n.prototype._patchExtra_to20 = function (e) {
        var t, i, o = e.condition.mainSeries,
          r = e.statesForAlert,
          s = o && r && r[o.id];
        return s && (t = s.symbolString) && 0 === t.indexOf("=") && (i = t.slice(1), "dividends" === (i = JSON.parse(i)).adjustment ? s.dividendsAdjustment = !0 : "splits" === i.adjustment && (s.dividendsAdjustment = !1)), e.version = n.version_20_tv_14463_extract_dividends_adjustment_from_symbol_string, e
      }, n.prototype.patchExtra_to20_forTestsOnly = n.prototype._patchExtra_to20, n.prototype._patchExtra_to21 = function (e) {
        var t, i, o = e.statesForAlert;
        for (t in o) o.hasOwnProperty(t) && (i = o[t]).isSpread && (i.dangerReason = g.Spread);
        return e.version = n.version_21_tv_14886_add_alert_dangerous_source_check, e
      }, e.exports = {
        AlertVersioning: n
      }
    },
    EwiN: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._items = e.items, this._color = e.color, this._orderArrow = e.orderArrow, this._exitLineWidth = e.exitLineWidth, this._priceArrow = e.priceArrow, this._text = e.text, this._textWidths = t
      }
      var o = i("VdBB").HitTestResult;
      n.prototype._drawOrderArrow = function (e, t, i, n) {
        var o, r = t.x,
          s = t.y;
        n ? (e.rotate(Math.PI), r = -r - this._orderArrow.width / 2, s = -s - this._orderArrow.height) : (r -= this._orderArrow.width / 2, s -= this._orderArrow.height), i && (s -= i), o = n ? "floor" : "ceil", r = Math[o](r) + (n ? -.5 : .5), s = Math[o](s) + .5, e.translate(r, s), e.moveTo(.25 * this._orderArrow.width, 0), e.lineTo(.75 * this._orderArrow.width, 0), e.lineTo(.75 * this._orderArrow.width, .45 * this._orderArrow.height), e.lineTo(this._orderArrow.width, .45 * this._orderArrow.height), e.lineTo(.5 * this._orderArrow.width, this._orderArrow.height), i && (e.lineTo(this._orderArrow.width, this._orderArrow.height), e.lineTo(this._orderArrow.width, this._orderArrow.height + i), e.lineTo(0, this._orderArrow.height + i), e.lineTo(0, this._orderArrow.height), e.lineTo(.5 * this._orderArrow.width, this._orderArrow.height)), e.lineTo(0, .45 * this._orderArrow.height), e.lineTo(.25 * this._orderArrow.width, .45 * this._orderArrow.height)
      }, n.prototype._drawPriceArrow = function (e, t, i) {
        var n = t.x,
          o = t.y;
        i ? (e.rotate(Math.PI), n = -n - this._priceArrow.width, o = -o - this._priceArrow.height / 2) : (n -= this._priceArrow.width, o -= this._priceArrow.height / 2), n = Math.round(n) + (i ? -1.5 : .5), o = Math.floor(o) + .5, e.translate(n, o), e.moveTo(0, 0),
          e.lineTo(this._priceArrow.width, .5 * this._priceArrow.height), e.lineTo(0, this._priceArrow.height)
      }, n.prototype.draw = function (e) {
        e.beginPath();
        for (var t, i, n = 0; n < this._items.length; n++) i = "lower" === (t = this._items[n]).pos, e.save(), e.translate(0, i ? this._orderArrow.vMargin : -this._orderArrow.vMargin), this._drawOrderArrow(e, t.orderPoint, this._exitLineWidth, i), e.restore(), e.save(), this._drawPriceArrow(e, t.pricePoint, !i), e.restore();
        if (e.closePath(), e.fillStyle = this._color, e.fill(), this._text)
          for (e.font = this._text.fontSize + "px " + this._text.font, e.textAlign = "center", e.textBaseline = "top", n = 0; n < this._items.length; n++) i = "lower" === (t = this._items[n]).pos, e.save(), e.translate(0, i ? this._orderArrow.vMargin : -this._orderArrow.height - this._orderArrow.vMargin), t.label && (e.translate(0, i ? this._text.fontSize + this._text.vMargin + this._exitLineWidth : -this._text.fontSize - this._text.vMargin - this._exitLineWidth), e.fillText(t.label, Math.ceil(t.orderPoint.x), t.orderPoint.y), "number" != typeof this._textWidths[t.label] && (this._textWidths[t.label] = e.measureText(t.label).width)), t.qty && (e.translate(0, i ? this._text.fontSize + this._text.vMargin + this._exitLineWidth : -this._text.fontSize - this._text.vMargin - this._exitLineWidth), e.fillText(t.qty, Math.ceil(t.orderPoint.x), t.orderPoint.y), "number" != typeof this._textWidths[t.qty] && (this._textWidths[t.qty] = e.measureText(t.qty).width)), e.restore()
      }, n.prototype._testOrderArrows = function (e) {
        for (var t, i, n, o, r, s, a = 0, l = this._orderArrow.width / 2; a < this._items.length; a++)
          if (t = this._items[a].orderPoint, !(e.x < t.x - l || e.x > t.x + l || (i = "lower" === this._items[a].pos, n = this._orderArrow.height + this._exitLineWidth, i || (n = -n), o = t.y + (i ? this._orderArrow.vMargin : -this._orderArrow.vMargin), r = Math.min(o, o + n), s = Math.max(o, o + n), e.y < r || e.y > s))) return !0;
        return !1
      }, n.prototype._testText = function (e) {
        for (var t, i, n, o, r, s, a, l, c, u, h, d = 0; d < this._items.length; d++)
          if (i = (t = this._items[d]).orderPoint, n = "lower" === t.pos, o = this._orderArrow.vMargin + this._orderArrow.height + this._exitLineWidth, n || (o = -o), r = i.y + o, s = this._text.vMargin + this._text.fontSize * (!!t.label + !!t.qty), n || (s = -s), a = Math.min(r, r + s), l = Math.max(r, r + s), !(e.y < a || e.y > l || (c = t.label && t.qty ? n && e.y < r + this._text.fontSize || !n && e.y > r - this._text.fontSize ? t.label : t.qty : t.label || t.qty, h = (u = this._textWidths[c]) && u / 2, !u || e.x < i.x - h || e.x > i.x + h))) return !0;
        return !1
      }, n.prototype.hitTest = function (e) {
        var t = this._testOrderArrows(e),
          i = !t && this._text && this._testText(e);
        return t || i ? new o(o.REGULAR) : null
      }, t.PaneRendererStudyStrategyOrders = TradingView.PaneRendererStudyStrategyOrders = n
    },
    EyEd: function (e, t, i) {
      "use strict";

      function n(e) {
        this._studyId = e, this._maxToVers = o.ZERO, this._maxFromVers = o.ZERO, this._migrs = []
      }
      var o = i("lCO3").Version,
        r = i("uOxu").getLogger("Chart.StudyMigration");
      n.prototype.addMigration = function (e, t, i) {
        var n = o.parse(e),
          r = o.parse(t);
        n.isGreater(this._maxFromVers) && (this._maxFromVers = n), r.isGreater(this._maxToVers) && (this._maxToVers = r), this._migrs.push({
          fromVers: n,
          toVers: r,
          rules: i
        })
      }, n.prototype.updateInputs = function (e, t, i) {
        var n, o, s;
        if (!i) return i;
        for (n = TradingView.clone(i),
          o = e; o.isLess(t) && null != (s = this._findMigration(o));) {
          if (r.logNormal("Migrating study inputs from " + s.fromVers + " to " + s.toVers + " version, studyId: " + this._studyId + ", migration: " + JSON.stringify(s) + ", inputs: " + JSON.stringify(i)), n = this._applyMigration(n, s), !o.isLess(s.toVers)) throw new Error("Problems in study migration process... Possible infinite cycle has been detected and stopped.");
          o = s.toVers
        }
        return o > e && r.logNormal("Study inputs migration is done, studyId: " + this._studyId + ", inputs: " + JSON.stringify(n)), n
      }, n.prototype._findMigration = function (e) {
        var t, i, n = -1,
          o = this._maxFromVers;
        for (t = 0; t < this._migrs.length; t++)(i = this._migrs[t]).fromVers.isLess(e) || i.fromVers.isLessOrEqual(o) && (o = i.fromVers, n = t);
        return n < 0 ? null : this._migrs[n]
      }, n.prototype._applyMigration = function (e, t) {
        var i, n, o = e;
        for (i = 0; i < t.rules.length; i++) n = t.rules[i], o = this._getApplyRuleFun(n.type)(o, n);
        return o
      }, n.prototype._getApplyRuleFun = function (e) {
        if ("inputRemoved" === e) return n._applyInputRemovedRule;
        if ("inputChangedType" === e) return n._applyInputChangedTypeRule;
        if ("inputChangedMinMax" === e) return n._applyInputChangedMinMaxRule;
        if ("inputChangedOptions" === e) return n._applyInputChangedOptionsRule;
        throw new Error("Unknown migration rule type: " + e)
      }, n._applyInputRemovedRule = function (e, t) {
        if (!(t.inputId in e)) return e;
        if ("removeVal" !== t.action) throw new Error("Unexpected rule.action=" + t.action + " in rule.type=" + t.type);
        var i = e[t.inputId];
        return delete e[t.inputId], r.logNormal("Input " + t.inputId + "=" + i + " removed"), e
      }, n._applyInputChangedTypeRule = function (e, t) {
        var i = e[t.inputId];
        if ("resetToDefVal" === t.action) return e[t.inputId] = t.defVal, r.logNormal("Input " + t.inputId + "=" + i + " reset to default value " + t.defVal), e;
        if ("convertVal" === t.action) {
          if (null == i) return e;
          if ("float" === t.inputTypeFrom && "integer" === t.inputType) return e[t.inputId] = Math.round(e[t.inputId]), r.logNormal("Input " + t.inputId + "=" + i + " converted to value " + e[t.inputId]), e;
          if ("integer" === t.inputTypeFrom && "float" === t.inputType) return e;
          if ("text" === t.inputTypeFrom && "source" === t.inputType) return n._isValidSource(i, t.options) ? e : (e[t.inputId] = t.defVal, e);
          throw new Error("Cannot convertVal from " + t.inputTypeFrom + " to " + t.inputType)
        }
        throw new Error("Unknown action " + t.action + " for rule with type " + t.type)
      }, n._isValidSource = function (e, t) {
        return e.indexOf("$") >= 0 || t.indexOf(e) >= 0
      }, n._applyInputChangedMinMaxRule = function (e, t) {
        if ("adjustValIfNeeded" !== t.action) throw new Error("Unknown action " + t.action + " for rule with type " + t.type);
        var i = e[t.inputId];
        return i < t.minVal ? e[t.inputId] = t.minVal : i > t.maxVal && (e[t.inputId] = t.maxVal), r.logNormal("Input " + t.inputId + "=" + i + " adjusted to value " + e[t.inputId]), e
      }, n._applyInputChangedOptionsRule = function (e, t) {
        if (!(["text"].indexOf(t.inputType) >= 0 && "resetToDefValIfNeeded" === t.action)) throw new Error("Unexpected rule.inputType=" + t.inputType + " in rule.action=" + t.action);
        var i = e[t.inputId];
        return t.options.indexOf(i) < 0 && (e[t.inputId] = t.defVal, r.logNormal("Input " + t.inputId + "=" + i + " reset to default value " + t.defVal)), e
      }, e.exports = n
    },
    Eyy1: function (e, t, i) {
      "use strict";

      function n(e) {
        if (void 0 === e) throw new Error("Value is undefined");
        return e
      }

      function o(e) {
        if (null === e) throw new Error("Value is null");
        return e
      }
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.assert = function (e, t) {
        if (!e) throw new Error("Assertion failed" + (t ? ": " + t : ""))
      }, t.ensureDefined = n, t.ensureNotNull = o, t.ensure = function (e) {
        return o(n(e))
      }
    },
    F58L: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d;
      i.r(t), i.d(t, "StudyTemplates", function () {
        return d
      }), n = i("lhgw"), o = i("PC8g"), r = i("aIyQ"), s = i.n(r), a = i("hY0g"), l = i.n(a), c = i("oNDq"), u = i("Vdly"), h = {
        confirmDelete: window.t("Do you really want to delete Study Template '{0}' ?")
      }, d = function () {
        function e(e) {
          var t = this;
          this._chartWidgetCollection = e.chartWidgetCollection, this._favoriteStudyTemplatesService = e.favoriteStudyTemplatesService, window.loginStateChange.subscribe(null, n.invalidateStudyTemplatesList), this._list = new l.a([]), this._onChange = new s.a, this._list.subscribe(function () {
            return t._onChange.fire()
          })
        }
        return e.prototype.showSaveAsDialog = function () {
          var e = this,
            t = this._chartWidgetCollection.activeChartWidget.value();
          Promise.all([i.e("vendors"), i.e(24), i.e(44), i.e(173), i.e(163), i.e("study-template-dialog")]).then(i.bind(null, "IDfV")).then(function (i) {
            new(0, i.StudyTemplateSaver)({
              chartWidget: t,
              onSave: function (t) {
                e._list.setValue(t)
              }
            }).show()
          })
        }, e.prototype.applyTemplate = function (e) {
          var t = this;
          window.runOrSignIn(function () {
            var i = t._chartWidgetCollection.activeChartWidget.value();
            u.setValue("defaultStudyTemplate", e), Object(n.getStudyTemplateContent)(e, function (t) {
              Object(o.trackEvent)("GUI", "Load Study Template"), i.model().model().restoreStudyTemplate(JSON.parse(t.content), e)
            })
          }, {
            source: "Study templates apply"
          })
        }, e.prototype.deleteStudyTemplate = function (e) {
          var t = this;
          window.runOrSignIn(function () {
            Object(c.createConfirmDialog)({
              type: "modal",
              content: h.confirmDelete.format(e)
            }).then(function (i) {
              i.on("action:yes", function (i) {
                i.actionLoader("yes", "start"), Object(n.invalidateStudyTemplatesList)(), Object(n.removeStudyTemplate)(e, function () {
                  var n, o = t.list();
                  t._list.setValue(o.filter(function (t) {
                    return t.name !== e
                  })), t._favoriteStudyTemplatesService && (n = t._favoriteStudyTemplatesService.get(), t._favoriteStudyTemplatesService.set(n.filter(function (t) {
                    return t !== e
                  }))), setTimeout(function () {
                    i.actionLoader("yes", "stop"), i.close()
                  }, 0)
                })
              }), i.open()
            })
          }, {
            source: "Study templates delete"
          })
        }, e.prototype.list = function () {
          return this._list.value()
        }, e.prototype.plainList = function (e) {
          var t = this.list();
          return ("default" === e ? t.filter(function (e) {
            return Boolean(e.is_default)
          }) : t.filter(function (e) {
            return !Boolean(e.is_default)
          })).map(function (e) {
            return e.name
          })
        }, e.prototype.getOnChange = function () {
          return this._onChange
        }, e.prototype.refreshStudyTemplateList = function (e) {
          var t = this;
          Object(n.getStudyTemplatesList)(function (i) {
            t._list.setValue(i), void 0 !== e && e()
          })
        }, e
      }()
    },
    FBsw: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "OverlayPriceAxisView", function () {
        return s
      }), n = i("mrSG"), o = i("KcY8"), r = i("oXaB"), s = function (e) {
        function t(t) {
          var i = e.call(this) || this;
          return i._source = t, i
        }
        return n.__extends(t, e),
          t.prototype._updateRendererData = function (e, t, i) {
            var n, o, s, a;
            e.visible = !1, t.visible = !1, (n = this._source.lastValueData("close", !1)).noData || (o = this._source.model(), null !== (s = this._source.priceScale()) && o.isPriceScaleVisible(s) && (i.background = n.color, i.color = this.generateTextColor(n.color), i.coordinate = n.coordinate, i.floatCoordinate = n.floatCoordinate, (a = this._source.model().properties().scalesProperties).showSeriesLastValue.value() && (e.text = this._text(n), e.visible = !0), t.text = "", (a.showSymbolLabels.value() || a.seriesLastValueMode.value() === r.PriceAxisLastValueMode.LastPriceAndPercentageValue) && (t.text = this._paneText(n), t.visible = t.text.length > 0)))
          }, t.prototype._paneText = function (e) {
            var t, i = "",
              n = this._source.model().properties().scalesProperties;
            return n.showSymbolLabels.value() && (i += this._source.symbol() + " "), null !== (t = this._source.priceScale()) && n.showSeriesLastValue.value() && n.seriesLastValueMode.value() === r.PriceAxisLastValueMode.LastPriceAndPercentageValue && (i += t.isPercentage() ? e.formattedPriceAbsolute : e.formattedPricePercentage), i.trim()
          }, t.prototype._text = function (e) {
            var t = this._source.model().properties().scalesProperties,
              i = this._source.priceScale();
            return t.seriesLastValueMode.value() !== r.PriceAxisLastValueMode.LastPriceAndPercentageValue || null === i ? e.text : i.isPercentage() ? e.formattedPricePercentage : e.formattedPriceAbsolute
          }, t
      }(o.a)
    },
    FBuY: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "TVXWindowEvents", function () {
          return r
        }), i("HbRj"), n = i("uOxu"), o = Object(n.getLogger)("XWindowEvents"),
        function (e) {
          var t = "tvxwevents.",
            i = {};
          window.addEventListener("storage", function (e) {
            if (null !== e.newValue) {
              var n = e.key;
              n && n.startsWith(t) && (n = n.substr(t.length), i[n] && i[n].forEach(function (t) {
                t.call(e.newValue, e.newValue)
              }))
            }
          }), e.on = function (e, t) {
            i[e] || (i[e] = []), i[e].push(t)
          }, e.off = function (e, t) {
            if (i[e]) {
              var n = i[e].indexOf(t); - 1 !== n && (1 === i[e].length ? delete i[e] : i[e].splice(n, 1))
            }
          }, e.current = function (e) {
            return TVLocalStorage.getItem(t + e)
          }, e.emit = function (e, i) {
            if (void 0 === i && (i = (new Date).valueOf()), i !== TVLocalStorage.getItem(t + e)) try {
              TVLocalStorage.setItem(t + e, i)
            } catch (e) {
              o.logError(e.message)
            }
          }
        }(r || (r = {}))
    },
    FIi8: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i = [];
        for (t = 1; t < arguments.length; t++) i[t - 1] = arguments[t];
        return e && "object" == typeof e ? 0 === i.length ? e : (i.forEach(function (t) {
          void 0 !== t && null !== t && "object" == typeof t && Object.keys(t).forEach(function (i) {
            var r, s, a = e[i],
              l = t[i],
              c = l === e;
            c || (r = Array.isArray(l), l && (o(l) || r) ? (s = void 0, s = r ? a && Array.isArray(a) ? a : [] : a && o(a) ? a : {}, e[i] = n(s, l)) : void 0 !== l && (e[i] = l))
          })
        }), e) : e
      }

      function o(e) {
        var t, i, n;
        return !(!e || "[object Object]" !== Object.prototype.toString.call(e)) && (!(t = Object.getPrototypeOf(e)) || (i = Object.hasOwnProperty.toString, "function" == typeof (n = t.hasOwnProperty("constructor") && t.constructor) && i.call(n) === i.call(Object)))
      }
      i.r(t), i.d(t, "deepExtend", function () {
        return n
      })
    },
    FKaq: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "SetPriceScaleSelectionStrategyCommand", function () {
        return l
      }), n = i("mrSG"), o = i("Eyy1"), r = i("RDU5"), s = i("MWAT"), a = function () {
        function e(e) {
          this._leftScales = e.leftPriceScales().map(function (e) {
            return e.id()
          }), this._rightScales = e.rightPriceScales().map(function (e) {
            return e.id()
          })
        }
        return e.prototype.restorePane = function (e) {
          this._leftScales.reverse().map(function (t) {
            return Object(o.ensureNotNull)(e.getPriceScaleById(t))
          }).forEach(function (t) {
            return e.movePriceScale(t, "left")
          }), this._rightScales.reverse().map(function (t) {
            return Object(o.ensureNotNull)(e.getPriceScaleById(t))
          }).forEach(function (t) {
            return e.movePriceScale(t, "right")
          })
        }, e
      }(), l = function (e) {
        function t(t, i, n) {
          var o = e.call(this, n) || this;
          return o._chartModel = t, o._targetStrategy = Object(s.createPriceScaleSelectionStrategy)(i), o._initialState = t.panes().map(function (e) {
            return new a(e)
          }), o
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          var e = this;
          this._chartModel.panes().forEach(function (t) {
            return t.setPriceScaleSelectionStrategy(e._targetStrategy)
          }), this._chartModel.fullUpdate()
        }, t.prototype.undo = function () {
          var e, t = this._chartModel.panes();
          for (e = 0; e < t.length; e++) this._initialState[e].restorePane(t[e]);
          this._chartModel.fullUpdate()
        }, t
      }(r.UndoCommand)
    },
    FQhm: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        h[e].unsubscribe(i, t)
      }

      function o(e, t, i) {
        r(e, t, i)
      }

      function r(e, t, i, n) {
        h.hasOwnProperty(e) || (h[e] = new u.a), p[e] ? t.call(i) : h[e].subscribe(i, t, n)
      }

      function s(e) {
        d.push(e)
      }

      function a(e) {
        var t, i, n = [];
        for (t = 1; t < arguments.length; t++) n[t - 1] = arguments[t];
        i = [e].concat(n), d.forEach(function (e) {
          e.apply(null, i)
        }), h.hasOwnProperty(e) && h[e].fire.apply(h[e], n)
      }

      function l(e) {
        p[e] && console.warn("Something went wrong: emitOnce called multiple times with same event (" + e + ")"), p[e] = !0, a.apply(null, arguments)
      }
      var c, u, h, d, p;
      i.r(t), i.d(t, "unsubscribe", function () {
        return n
      }), i.d(t, "on", function () {
        return o
      }), i.d(t, "subscribe", function () {
        return r
      }), i.d(t, "subscribeToAll", function () {
        return s
      }), i.d(t, "emit", function () {
        return a
      }), i.d(t, "emitOnce", function () {
        return l
      }), c = i("aIyQ"), u = i.n(c), h = {}, d = [], p = {}
    },
    FVma: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e, t, i, n) {
          this._prices = [], this._canvas = document.createElement("canvas"), this._cache = this._canvas.getContext("2d"), this.reset({
            font: e,
            fontSize: t,
            backColors: i,
            colors: n
          }), this._priceAxisFontSize = 11
        }

        function o(e, t) {
          this._model = e, this._source = t, this._pivots = [], this._textCache = {}
        }

        function r(e, t) {
          this._source = e, this._model = e._model, this._prices = [], this._invidated = !0, this._cache = t
        }

        function s(e, t, i, n) {
          var o, r, s;
          for (p.call(this, e, t, i, n), o = ["P", "S1/R1", "S2/R2", "S3/R3", "S4/R4", "S5/R5"], r = this.properties().levelsStyle.visibility, s = 0; s < o.length; s++) r[o[s]].listeners().subscribe(this, TradingView.Study.prototype.processHibernate)
        }
        var a = i("aO4+").Point,
          l = i("eJTA"),
          c = l.parseRgb,
          u = l.rgbToBlackWhiteString,
          h = i("2kV1").StudyStatusView,
          d = i("it7y").StudyDataWindowView,
          p = i("Qq0B").NonSeriesStudy,
          f = i("dUDn").StandardPivotPointsPriceAxisView,
          _ = i("KtbP").PanePriceAxisView,
          m = i("pJOz").TrendLineRenderer,
          g = i("loH8"),
          y = i("VdBB").HitTestResult,
          v = i("Zy3/").CompositeRenderer,
          S = i("k9/m").PlotRowSearchMode,
          b = i("hayr").propertyPages,
          w = i("a7Ha").LineEnd,
          P = i("zDbI").CHART_FONT_FAMILY;
        n.prototype.destroy = function () {},
          n.prototype.reset = function (e) {
            this._prices = [], this._params = e, this._cache.setFont(e.fontSize + "px " + e.font);
            var t = this;
            this._labelWidth = ["P", "S1", "R1", "S2", "R2", "S3", "R3", "S4", "R4", "S5", "R5", "/"].reduce(function (e, i) {
              var n = t._cache.measureText(i).width;
              return Math.max(n, e)
            }, 0)
          }, n.prototype.rowHeight = function () {
            return this._priceAxisFontSize + 4
          }, n.prototype._labelRectByIndex = function (e) {
            var t = 0,
              i = Math.round(this._topByIndex(e)),
              n = Math.round(this._labelWidth + 4),
              o = this._params.fontSize + 8;
            return {
              left: t,
              top: i,
              width: n,
              height: o
            }
          }, n.prototype.params = function () {
            return this._params
          }, n.prototype._centerByIndex = function (e) {
            return Math.round((e + .5) * (this._params.fontSize + 8))
          }, n.prototype._topByIndex = function (e) {
            return Math.round(e * (this._params.fontSize + 8))
          }, n.prototype.setPrices = function (e) {
            var t, i, n, o, r, s, a = 8,
              l = !1,
              c = function (e, t) {
                return void 0 === e && void 0 === t || e.formatted === t.formatted
              };
            if (e.length !== this._prices.length) l = !0;
            else
              for (t = 0; t < this._prices.length; t++)
                if (!c(this._prices[t], e[t])) {
                  l = !0;
                  break
                } if (l) {
              for ((i = this)._cache.save(), i._cache.font = this._priceAxisFontSize + "px " + P, i._cache.restore(), n = this._labelWidth + 6, n *= o = window.hidpiCanvasRatio || 1, this._canvas.setAttribute("width", n), r = Math.max(e.length, 22) * (this._params.fontSize + a), r *= o, this._canvas.setAttribute("height", r), this._canvas.style.width = n, this._canvas.style.height = r, this._prices = e, this._cache.clearRect(0, 0, n, r), this._cache.save(), this._cache.translate(.5, .5), this._cache.font = this._params.fontSize + "px " + this._params.font, this._cache.textBaseline = "middle", t = 0; t < this._prices.length; t++) this._prices[t] && (s = ["P", "S1", "R1", "S2", "R2", "S3", "R3", "S4", "R4", "S5", "R5"][t], this._cache.fillStyle = this._params.backColors[t], this._cache.fillText(s, 0, this._centerByIndex(t)), this._cache.fillText("/", 0, this._centerByIndex(t + 11)));
              this._prices = e, this._cache.restore()
            }
          }, o.prototype.setCache = function (e) {
            this._cache = e
          }, o.prototype.priceAxisViews = function (e, t) {
            return this._priceAxisViews
          }, o.prototype.mergeLabel = function (e, t, i) {
            var n = "" + t;
            void 0 === e[n] ? (e[n] = {}, e[n].text = i, e[n].ids = [this.complete(i)]) : (e[n].text += "/" + i, e[n].ids.push(this.complete(i)))
          }, o.prototype.complete = function (e) {
            return "P" === e ? e : "S" + e[1] + "/R" + e[1]
          }, o.prototype.update = function () {
            this._invalidated = !0
          }, o.prototype._updateImpl = function () {
            var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f, _, m, g;
            if (this._source.pricesView().prices(), this._pivots = [], this._source.customData() && this._source.customData().pivots && this._source.properties().visible.value() && (e = this._source.customData().pivots, t = this._source._indexes, i = this._model.timeScale(), (n = this._source.priceScale()) && !n.isEmpty() && !i.isEmpty() && e && (r = (o = i.visibleBarsStrictRange()).firstBar(), s = o.lastBar(), this._source.ownerSource())))
              for (a = this._source.ownerSource().firstValue(), l = 0; l < e.length; l++)
                if (e[l] && (c = t[e[l].startIndex], !((u = t[e[l].endIndex]) < r || c > s)))
                  for (_ in h = {}, (d = this._source.properties().levelsStyle.visibility).P.value() && this.mergeLabel(h, e[l].p, "P"), d["S1/R1"].value() && (this.mergeLabel(h, e[l].s1, "S1"), this.mergeLabel(h, e[l].r1, "R1")),
                    d["S2/R2"].value() && (this.mergeLabel(h, e[l].s2, "S2"), this.mergeLabel(h, e[l].r2, "R2")), d["S3/R3"].value() && (this.mergeLabel(h, e[l].s3, "S3"), this.mergeLabel(h, e[l].r3, "R3")), d["S4/R4"].value() && (this.mergeLabel(h, e[l].s4, "S4"), this.mergeLabel(h, e[l].r4, "R4")), d["S5/R5"].value() && (this.mergeLabel(h, e[l].s5, "S5"), this.mergeLabel(h, e[l].r5, "R5")), p = i.indexToCoordinate(c), f = i.indexToCoordinate(u), h) m = parseFloat(_), g = n.priceToCoordinate(m, a), this._pivots.push({
                    x1: p,
                    x2: f,
                    y: g,
                    label: h[_].text,
                    labelIds: h[_].ids
                  })
          }, o.prototype.renderer = function () {
            var e, t, i, n, o, r, s, l, c, u, h, d, p, f, _, S;
            for (this._invalidated && (this._updateImpl(), this._invalidated = !1), e = new v, t = this._source.properties().levelsStyle.colors, i = this._source.properties().levelsStyle.widths, n = 0; n < this._pivots.length; n++)
              if (o = this._pivots[n], s = {
                  points: [r = new a(o.x1, o.y), new a(o.x2, o.y)],
                  width: this._model.timeScale().width(),
                  height: this._source.priceScale().height(),
                  color: t[o.labelIds[0]].value(),
                  linewidth: i[o.labelIds[0]].value(),
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  extendleft: !1,
                  extendright: !1,
                  leftend: w.Normal,
                  rightend: w.Normal
                }, (l = new m).setData(s), l.setHitTest(new y(y.REGULAR)), e.append(l), this._source.properties().levelsStyle.showLabels.value())
                for (c = o.label.split("/"), u = 0, h = 0; h < c.length; h++) d = ["P", "S1", "R1", "S2", "R2", "S3", "R3", "S4", "R4", "S5", "R5"].indexOf(c[h]), h > 0 && (p = this._cache._labelRectByIndex(d + 11), f = {
                  left: r.x - p.width + u,
                  top: Math.round(r.y - p.height / 2),
                  width: p.width,
                  height: p.height
                }, u += p.width / 2, _ = this._cache._canvas, S = new g(_, p, f), e.append(S)), p = this._cache._labelRectByIndex(d), f = {
                  left: r.x - p.width + u,
                  top: Math.round(r.y - p.height / 2),
                  width: p.width,
                  height: p.height
                }, u += p.width, _ = this._cache._canvas, S = new g(_, p, f), e.append(S);
            return e
          }, r.prototype._updateImpl = function () {
            var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v;
            if (!this._model.timeScale().isEmpty() && !this._source.priceScale().isEmpty() && null !== (e = this._model.timeScale().visibleBarsStrictRange()) && this._source.customData() && this._source.customData().pivots && (t = this._model.mainSeries(), i = this._source.priceScale(), null !== (n = t.bars().search(e.lastBar(), S.NearestLeft)))) {
              for (o = n.index, r = this._source.customData().pivots, s = this._source._indexes, a = this._source.properties(), l = this._source.firstValue(), c = 0; c < r.length; c++)
                if (r[c] && (u = s[r[c].startIndex], h = s[r[c].endIndex], d = a.inputs.showHistoricalPivots.value(), h >= o && u <= o || !d))
                  for (p = ["p", "s1", "r1", "s2", "r2", "s3", "r3", "s4", "r4", "s5", "r5"], this._prices = [], f = 0; f < p.length; f++) _ = p[f], void 0 !== (m = r[c][_]) && (g = i.priceToCoordinate(m, l), y = {
                    P: "P",
                    S1: "S1/R1",
                    S2: "S2/R2",
                    S3: "S3/R3",
                    S4: "S4/R4",
                    S5: "S5/R5",
                    R1: "S1/R1",
                    R2: "S2/R2",
                    R3: "S3/R3",
                    R4: "S4/R4",
                    R5: "S5/R5"
                  }, v = a.levelsStyle.colors[y[_.toUpperCase()]].value(), this._prices.push({
                    formatted: i.formatPrice(m, l),
                    price: m,
                    coordinate: g,
                    color: v
                  }));
              this._cache.setPrices(this._prices)
            }
          }, r.prototype.update = function () {
            this._invidated = !0
          }, r.prototype.prices = function () {
            return this._invidated && (this._updateImpl(), this._invidated = !1), this._prices
          }, inherit(s, p), s.prototype.lastValueData = function (e, t, i) {
            var n = ["P", "S1", "R1", "S2", "R2", "S3", "R3", "S4", "R4", "S5", "R5"].indexOf(e.toUpperCase()),
              o = {
                noData: !0
              },
              r = this._pricesView.prices()[n];
            return null !== r && void 0 !== r ? r : o
          }, s.prototype.lastPriceLabelFixedCoordinate = function (e) {
            var t = ["P", "S1", "R1", "S2", "R2", "S3", "R3", "S4", "R4", "S5", "R5"].indexOf(e.toUpperCase()),
              i = this._priceAxisViews[t];
            return i._fixedCoordinate
          }, s.prototype.priceLabelText = function (e) {
            return this._metaInfo.shortDescription + ":" + e.toUpperCase()
          }, s.prototype.pricesView = function () {
            return this._pricesView
          }, s.prototype._getActualCacheParams = function () {
            var e = {};
            return e.font = this.properties().font.value(), e.fontSize = this.properties().fontsize.value(), e.backColors = [this.properties().levelsStyle.colors.P.value(), this.properties().levelsStyle.colors["S1/R1"].value(), this.properties().levelsStyle.colors["S1/R1"].value(), this.properties().levelsStyle.colors["S2/R2"].value(), this.properties().levelsStyle.colors["S2/R2"].value(), this.properties().levelsStyle.colors["S3/R3"].value(), this.properties().levelsStyle.colors["S3/R3"].value(), this.properties().levelsStyle.colors["S4/R4"].value(), this.properties().levelsStyle.colors["S4/R4"].value(), this.properties().levelsStyle.colors["S5/R5"].value(), this.properties().levelsStyle.colors["S5/R5"].value()], e.colors = e.backColors.map(function (e) {
              return "black" === u(c(e), 150) ? "white" : "black"
            }), e
          }, s.prototype.updateAllViews = function () {
            p.prototype.updateAllViews.call(this), this._pricesView.update()
          }, s.prototype.createViews = function () {
            var e, t, i, s, a = this._getActualCacheParams();
            for (this._cache && this._cache.destroy(), this._cache = new n(a.font, a.fontSize, a.backColors, a.colors), this._priceAxisViews = [], e = ["P", "S1", "R1", "S2", "R2", "S3", "R3", "S4", "R4", "S5", "R5"], this._paneViews.length = 0, (t = new o(this._model, this)).setCache(this._cache), this._paneViews.push(t), i = 0; i < e.length; i++) s = new f(this, {
              name: e[i],
              cache: this._cache
            }), this._priceAxisViews.push(s), this._paneViews.push(new _(s, this, this._model));
            this._dataWindowView || (this._dataWindowView = new d(this, this._model)), this._statusView || (this._statusView = new h(this, this._model.properties().scalesProperties.textColor)), this._legendView = null, this._pricesView = new r(this, this._cache)
          }, s.prototype._postProcessGraphics = function () {}, s.prototype.isVisible = function () {
            var e, t, i;
            if (!this.properties().visible.value()) return !1;
            for (e = ["P", "S1/R1", "S2/R2", "S3/R3", "S4/R4", "S5/R5"], t = this.properties().levelsStyle.visibility, i = 0; i < e.length; i++)
              if (t[e[i]].value()) return !0;
            return !1
          }, s.prototype.stop = function () {
            TradingView.Study.prototype.stop.call(this), this._cache && (this._cache.destroy(), this._cache = null)
          }, s.prototype.priceRange = function (t, i) {
            var n, o, r, s, a, l, c, u;
            if (!this.customData() || !this.customData().pivots || !this._indexes) return null;
            if (!this.priceScale()) return null;
            for (n = this.customData().pivots, o = this._indexes, r = null, s = 0; s < n.length; s++)
              if (n[s] && (a = o[n[s].startIndex], !(o[n[s].endIndex] < t || a > i)))
                for (l = [], (c = this._properties.levelsStyle.visibility).P.value() && l.push(n[s].p), c["S1/R1"].value() && l.push(n[s].s1, n[s].r1), c["S2/R2"].value() && l.push(n[s].s2, n[s].r2),
                  c["S3/R3"].value() && l.push(n[s].s3, n[s].r3), c["S4/R4"].value() && l.push(n[s].s4, n[s].r4), c["S5/R5"].value() && l.push(n[s].s5, n[s].r5), u = 0; u < l.length; u++) l[u] && (null === r ? r = new e(l[u], l[u]) : r.apply(l[u], l[u]));
            return this.priceScale().isLog() && r ? new e(this.priceScale().priceToLogical(r.minValue()), this.priceScale().priceToLogical(r.maxValue())) : r
          }, s.prototype.getStylesPropertyPage = function () {
            return b.StudyPivotPointsStandardStylesPropertyPage
          }, t.study_PivotPointsStandard = s
      }).call(this, i("Qb4w").PriceRange)
    },
    FaJS: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i;
        return t.isLog() || e.isEmpty() || t.isEmpty() ? null : null === (i = function (e) {
          var t, i;
          return e.isEmpty() ? null : null === (t = e.priceRange()) ? null : (i = t.length(), e.internalHeight() / i)
        }(t)) ? null : e.getValidBarSpacing() / Math.max(a, i)
      }

      function o(e, t, i) {
        var n, o, r, a;
        return e.isLog() || null === i || e.isEmpty() ? null : null === (n = e.priceRange()) || n.isEmpty() ? null : (o = e.internalHeight() / (t / i)) === (r = n.length()) ? n : (a = (o - r) / 2, new s.PriceRange(n.minValue() - a, n.maxValue() + a))
      }

      function r(e, t) {
        var i, n;
        return e.isLog() || null === t || e.isEmpty() ? null : null === (i = e.priceRange()) ? null : (n = i.length(), e.internalHeight() / n * t)
      }
      var s, a;
      i.r(t), i.d(t, "scaleRatio", function () {
        return n
      }), i.d(t, "priceRangeByScaleRatio", function () {
        return o
      }), i.d(t, "barSpacingByScaleRatio", function () {
        return r
      }), s = i("Qb4w"), a = 1e-10
    },
    FfBj: function (e, t, i) {
      "use strict";

      function n(e) {
        return {
          y: window.t("year", {
            plural: "years",
            count: 1
          }),
          m: window.t("month", {
            plural: "months",
            count: 1
          }),
          "3m": window.t("three months"),
          "2y": window.t("two years")
        } [e]
      }

      function o(e) {
        return {
          m: window.t("monthly"),
          y: window.t("annual"),
          "3m": window.t("3 months"),
          "2y": window.t("2-year")
        } [e] || ""
      }

      function r(e) {
        return /\d{0,2}_discount$/.test(e)
      }

      function s(e) {
        return new RegExp(m + "$").test(e)
      }

      function a(e) {
        return e.split(m)[0]
      }

      function l(e) {
        var t = e.match(/(\d{0,2})_discount$/);
        return t ? +t[1] || 50 : 0
      }

      function c(e, t) {
        var i = e;
        switch (e) {
          case _.ProPlans.Pro:
            i = window.t("Pro");
            break;
          case _.ProPlans.ProRealtime:
            i = window.t("Pro+");
            break;
          case _.ProPlans.ProPremium:
            i = window.t("Premium");
            break;
          case _.ProPlans.ProMiniAds:
          case _.ProPlans.ProMiniLayouts:
          case _.ProPlans.ProMiniAlerts:
            i = window.t("1-feature");
            break;
          case _.ProPlans.ProEdu:
            i = window.t("Rookie")
        }
        return t && (i += " " + window.t("Trial")), i
      }

      function u(e) {
        switch (e) {
          case "2y":
            return 730;
          case "y":
            return 365;
          case "3m":
            return 90;
          case "m":
            return 30;
          default:
            return 1
        }
      }

      function h(e, t, i) {
        return Math.round((t - e) * d(i))
      }

      function d(e) {
        switch (e) {
          case "2y":
            return 24;
          case "y":
            return 12;
          default:
            return 1
        }
      }

      function p(e) {
        return (Math.round(100 * e) / 100).toFixed(2)
      }

      function f(e) {
        var t = Math.round(100 * e) / 100,
          i = Math.round(t);
        return Math.abs(t - i) > 0 ? t.toFixed(2) : i.toFixed(0)
      }
      var _, m, g, y;
      i.r(t), i.d(t, "TRIAL_SUFFIX", function () {
          return m
        }), i.d(t, "EA_SUFFIX", function () {
          return g
        }), i.d(t, "UPSALE_SUFFIX", function () {
          return y
        }), i.d(t, "billingCycleToTimeUnit", function () {
          return n
        }), i.d(t, "getReadableCycle", function () {
          return o
        }), i.d(t, "isEarlyAccess", function () {
          return r
        }), i.d(t, "isTrialProduct", function () {
          return s
        }), i.d(t, "getProductForTrial", function () {
          return a
        }),
        i.d(t, "getDiscountFromEarlyAccess", function () {
          return l
        }), i.d(t, "humanizeProPlan", function () {
          return c
        }), i.d(t, "getAmountOfDaysForBillingCycle", function () {
          return u
        }), i.d(t, "countDiscountByBillingCycle", function () {
          return h
        }), i.d(t, "billingCycleToMonth", function () {
          return d
        }), i.d(t, "round2", function () {
          return p
        }), i.d(t, "round2or0", function () {
          return f
        }), i("YFKU"), _ = i("KuNA"), m = "_trial", g = "_discount", y = "_year_6_months_free"
    },
    FsE7: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolFibTimeZone";
        var r = t || n.createProperties();
        o.call(this, e, r), this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("wgWl").FibTimeZonePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("5rJj"),
        s = i("hayr").propertyPages;
      inherit(n, o), n.version = 2, n.prototype.migrateVersion = function (e, t, i) {
        var n;
        if (1 === e) {
          for (i.properties.level1.color.setValue(i.properties.baselinecolor.value()), n = 2; n <= 11; n++) i.properties["level" + n].color.setValue(i.properties.linecolor.value());
          for (n = 1; n <= 11; n++) i.properties["level" + n].linewidth.setValue(i.properties.linewidth.value()), i.properties["level" + n].linestyle.setValue(i.properties.linestyle.value())
        }
      }, n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Fib Time Zone"
      }, n.prototype.name = function () {
        return "Fib Time Zone"
      }, n.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolFibTimeZoneStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolfibtimezone", e, !1, {
          range: [1, 11]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolFibTimeZone = n
    },
    Fty4: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "ActionCreators", function () {
        return o
      }), i("YFKU"), n = i("7KDR"), o = {
        stopAlert: function (e) {
          return new n.Action({
            label: window.t("Stop", {
              context: "alert"
            }),
            onExecute: function (t) {
              TradingView.alertsDispatcher.stopAlert(e, {
                showConfirm: !0
              })
            }
          })
        },
        restartAlert: function (e) {
          return new n.Action({
            label: window.t("Restart"),
            onExecute: function (t) {
              TradingView.alertsDispatcher.restartAlert(e)
            }
          })
        },
        editAlert: function (e) {
          return new n.Action({
            label: window.t("Edit..."),
            onExecute: function (t) {
              TradingView.alertsDispatcher.openEditDialog(e)
            }
          })
        },
        deleteAlert: function (e) {
          return new n.Action({
            label: window.t("Delete"),
            onExecute: function (t) {
              TradingView.alertsDispatcher.deleteAlert(e, {
                showConfirm: !0
              })
            }
          })
        },
        restartAllAlerts: function (e, t) {
          var i = e || t ? window.t("Restart as per filter") : window.t("Restart all inactive");
          return new n.Action({
            label: i,
            onExecute: function (i) {
              TradingView.alertsDispatcher.restartAllAlerts({
                showConfirm: !0,
                symbol: e,
                resolution: t
              })
            }
          })
        },
        stopAllAlerts: function (e, t) {
          var i = e || t ? window.t("Stop as per filter") : window.t("Stop all");
          return new n.Action({
            label: i,
            onExecute: function (i) {
              TradingView.alertsDispatcher.stopAllAlerts({
                showConfirm: !0,
                symbol: e,
                resolution: t
              })
            }
          })
        },
        deleteAllInactiveAlerts: function () {
          return new n.Action({
            label: window.t("Delete all inactive"),
            onExecute: function (e) {
              TradingView.alertsDispatcher.deleteAllAlerts({
                active: !1,
                showConfirm: !0
              })
            }
          })
        },
        deleteAllAlerts: function (e, t, i) {
          var o = e || t || i ? window.t("Delete as per filter") : window.t("Delete all");
          return new n.Action({
            label: o,
            onExecute: function (n) {
              TradingView.alertsDispatcher.deleteAllAlerts({
                showConfirm: !0,
                symbol: e,
                resolution: t,
                active: !!i || void 0
              })
            }
          })
        },
        deleteAllEvents: function () {
          return new n.Action({
            label: window.t("Clear Log"),
            onExecute: function (e) {
              TradingView.alertsDispatcher.deleteAllEvents()
            }
          })
        }
      }
    },
    FwoV: function (e) {
      e.exports = {
        cme: {
          INDICATORS_ON_CHART: {
            limit: 99999
          }
        },
        bovespa: {
          INDICATORS_ON_CHART: {
            limit: 99999
          }
        }
      }
    },
    G5sf: function (e, t, i) {
      "use strict";

      function n(e, t) {
        e.beginUndoMacro("left" === t ? r : s), e.model().panes().forEach(function (i) {
          var n = "left" === t ? i.rightPriceScales() : i.leftPriceScales(),
            o = "left" === t ? i.leftPriceScales() : i.rightPriceScales(),
            r = o.concat(n),
            s = i.priceScalePosition(i.defaultPriceScale()),
            l = "overlay" === s ? r[0] : i.defaultPriceScale();
          e.movePriceScale(i, l, t, 0), r.forEach(function (t) {
            var n, o;
            if (t !== l)
              for (n = t.mainSource(); null !== n;) {
                if (e.moveToScale(n, i, l, ""), (o = t.mainSource()) === n) {
                  a.logError("Loop detected while trying to merge scales");
                  break
                }
                n = o
              }
          })
        }), e.endUndoMacro(), e.model().fullUpdate()
      }
      var o, r, s, a;
      i.d(t, "a", function () {
        return n
      }), o = i("uOxu"), r = window.t("Move All Scales To Left"), s = window.t("Move All Scales To Right"), a = Object(o.getLogger)("Chart.MergeAllScales")
    },
    GEp6: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        var n = t.subtract(e),
          o = i.subtract(e),
          r = o.dotProduct(n) / n.dotProduct(n),
          s = e.addScaled(n, r);
        return {
          coeff: r,
          distance: s.subtract(i).length()
        }
      }
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.distanceToLine = n, t.distanceToSegment = function (e, t, i) {
        var o, r, s = n(e, t, i);
        return 0 <= s.coeff && s.coeff <= 1 ? s : (o = e.subtract(i).length()) < (r = t.subtract(i).length()) ? {
          coeff: 0,
          distance: o
        } : {
          coeff: 1,
          distance: r
        }
      }
    },
    GFj4: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 12" width="26" height="12"><rect width="100%" height="100%" fill="currentColor" rx="6"/><path xmlns="http://www.w3.org/2000/svg" fill="#FFF" d="M7.102 6.895V9H6.086V3.281a49.623 49.623 0 0 1 1.187-.043c.904 0 1.565.139 1.983.416.418.278.627.71.627 1.3 0 1.312-.774 1.968-2.32 1.968-.115 0-.269-.01-.461-.027zm0-2.735v1.832c.171.018.307.028.406.028.463 0 .802-.078 1.015-.233.214-.155.32-.407.32-.756 0-.594-.477-.89-1.433-.89-.107 0-.21.006-.308.02zM14.008 9L12.48 6.637a17.376 17.376 0 0 1-.644-.028V9H10.78V3.277c.058 0 .278-.01.66-.029.383-.02.692-.03.926-.03 1.453 0 2.18.563 2.18 1.688 0 .339-.1.647-.3.926-.201.279-.454.475-.759.59L15.18 9h-1.172zm-2.172-4.84v1.59c.187.016.33.023.43.023.424 0 .735-.06.931-.18.197-.119.295-.352.295-.698 0-.282-.105-.478-.316-.59-.211-.112-.543-.168-.996-.168-.11 0-.224.008-.344.023zm3.559 1.93c0-.815.223-1.505.67-2.069.446-.563 1.043-.845 1.79-.845.823 0 1.452.255 1.887.765.435.51.653 1.227.653 2.149 0 .922-.228 1.653-.682 2.195-.455.542-1.1.813-1.936.813-.768 0-1.357-.269-1.767-.805-.41-.536-.615-1.27-.615-2.203zm1.054 0c0 .67.113 1.187.34 1.555.227.367.556.55.988.55.508 0 .896-.18 1.162-.539.267-.36.4-.881.4-1.566 0-1.341-.494-2.012-1.484-2.012-.453 0-.8.182-1.043.545-.242.363-.363.852-.363 1.467z"/></svg>'
    },
    GH0z: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "PercentageFormatter", function () {
        return s
      }), n = i("mrSG"), o = i("kcTO"), r = i("Ialn"), s = function (e) {
        function t(t) {
          void 0 === t && (t = 100);
          var i = e.call(this, t) || this;
          return i.type = "percentage", i
        }
        return n.__extends(t, e), t.prototype.state = function () {
          var e = o.PriceFormatter.prototype.state.call(this);
          return e.percent = !0, e
        }, t.prototype.format = function (t, i, n, o, s) {
          void 0 === s && (s = !0);
          var a = e.prototype.format.call(this, t, i, n, o, !1) + "%";
          return s ? Object(r.forceLTRStr)(a) : a
        }, t.serialize = function (e) {
          return e.state()
        }, t.deserialize = function (e) {
          return new t(e.priceScale)
        }, t
      }(o.PriceFormatter)
    },
    GLdp: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.d(t, "a", function () {
        return r
      }), n = i("hY0g"), o = i.n(n), r = function () {
        return function (e) {
          var t, i, n, r, s, a = this;
          for (this.isVisible = new o.a(!0), i = null, n = function (n) {
              var o = n ? n + "Hidden" : "hidden";
              if (o in e) return t = n + "visibilitychange", (i = function () {
                a.isVisible.setValue(!e[o])
              })(), e.addEventListener(t, i, !1), "break"
            }, r = 0, s = ["", "moz", "ms", "webkit"]; r < s.length && "break" !== n(s[r]); r++);
          this.destroy = function () {
            i && (e.removeEventListener(t, i, !1), i = null)
          }
        }
      }()
    },
    GVHu: function (e, t, i) {
      "use strict";
      (function (t, n, o, r) {
        function s(e, t, i, n) {
          this._study = e, this.m_series = t, this.m_model = i, this._plotName = n, this._visible = !1, this._points = [new ne(0, 0)], this._invalidated = !0, this._lineRenderer = new m
        }

        function a(e, t, n, o, r) {
          var s, a, c, u, h = i("K4L1");
          return e.version && n.version && e.version !== n.version && Te.logWarn("Serialized metaInfo version " + e.version + " is not equal to the saved state version " + n.version), s = TradingView.clone(defaults("study")), TradingView.merge(s, TradingView.factoryDefaults("study_" + e.id)), l(s, e), TradingView.merge(s, n), s = r.updateStudyState(s, e, t),
            (a = TradingView.clone(t || e)) && pe.versionOf(a) >= 1 && (c = {}, h.mergeInputsObjPart(c, a.defaults.inputs), h.mergeInputsObjPart(c, s.inputs), s.inputs = c, delete a.inputs, delete a.defaults.inputs, u = {}, TradingView.merge(u, a.defaults), TradingView.merge(u, TradingView.factoryDefaults("study_" + a.id)), TradingView.merge(u, s), delete a.defaults, TradingView.merge(u, a), s = u), s
        }

        function l(e, t) {
          var i, n, o, r;
          if (t.plots)
            for (i = 0; i < t.plots.length; i++) o = (n = t.plots[i]).id, ge.isColorerPlot(n) || (r = {
              visible: !0,
              color: "#0496FF",
              linestyle: CanvasEx.LINESTYLE_SOLID,
              linewidth: 2,
              plottype: ye.Line,
              histogramBase: 0,
              transparency: 50,
              trackPrice: !1,
              joinPoints: !1
            }, ge.isBarColorerPlot(n) && (r.transparency = 0), r.plottype = n.type, r.title = o, e.styles && o in e.styles && TradingView.merge(r, e.styles[o]), e.styles[o] = r)
        }

        function c(e, t, i, r) {
          var s, a, l, u, h, d, p, f, _, m;
          for (this._titleCache = {}, this._resolvedSymbols = {}, this._priceAxisViewsBase = [], this._priceLinesAxisViews = [], this._paneViews = [], this._hlinesPriceAsisViews = [], this._horizlinesPriceAsisViews = [], M.call(this, e), this._model = e, this._chartApi = e._chartApi, this._series = i instanceof TradingView.Series ? i : this._model.mainSeries(), i instanceof c && (this._source = i, this._isChildStudy = !0, this._source.setChild(this)), this._numericFormatter = new ae, this._metaInfo = r, this._properties = t, this._properties.listeners().subscribe(this, this._onPropertiesChanged), this._properties.visible.listeners().subscribe(this, this.visibleChanged), this._properties.visible.listeners().subscribe(this, this.processHibernate), s = 0; s < this._metaInfo.plots.length; s++) a = this._metaInfo.plots[s].id, null != (l = this.properties().styles[a]) && null != l.visible && l.visible.listeners().subscribe(this, this.processHibernate);
          for (u in this._metaInfo.graphics)
            for (h in this._metaInfo.graphics[u])(d = this._properties.graphics[u][h]).visible && d.visible.listeners().subscribe(this, this.processHibernate);
          if (this._showStudyArgumentsProperty = this.model().properties().paneProperties.legendProperties.showStudyArguments, this._turnaroundCounter = 0, this._turnaround = "st" + this._turnaroundCounter, this._status = "", this._studyId = null, this._plotFields = [], p = this.metaInfo().plots)
            for (s = 0, f = p.length; s < f; s++) h = p[s].id, this._plotFields.push(h);
          this._invalidateLastNonEmptyPlotRowCache(), this.m_data = new ce(be(this._metaInfo)), this._graphics = new z, this._plotOffsets = {}, this._plotOffsetsMetaInfoOverride = {}, this._studyModified = !1, this._tagsChanged = new n, this.createViews(), _ = this, this._handler = function (e) {
              _.onData(e)
            }, this._handler.isTVScriptStrategy = this._metaInfo.isTVScriptStrategy, this._recreateFormatter(), _ = this, this._properties.precision.listeners().subscribe(this, this._precisionChanged), this._showStudyArgumentsProperty.listeners().subscribe(this, this.invalidateTitleCache), this._properties.description.listeners().subscribe(this, this.invalidateTitleCache), this._properties.inputs.listeners().subscribe(this, this.invalidateTitleCache), this._properties.shortDescription && this._properties.shortDescription.listeners().subscribe(this, this.invalidateTitleCache),
            o.enabled("update_study_formatter_on_symbol_resolve") && e.mainSeries().dataEvents().symbolResolved().subscribe(this, this._recreateFormatter), _ = this, m = {}, this._simplePlotsCount = r.plots.filter(function (e, t) {
              if (_.isLinePlot(t)) return !0;
              if (_.isOHLCSeriesPlot(t)) {
                var i = _.metaInfo().plots[t].target;
                return !m[i] && (m[i] = i, !0)
              }
              return !1
            }).length, this._properties.showInDataWindow.listeners().subscribe(e, e.fullUpdate), this.hasBarColorer() && this._properties.visible.listeners().subscribe(e.mainSeries(), e.mainSeries().invalidateBarStylesCache), this.onStart = new n, this._childStudyByRebind = new n, this._symbolsResolved = new n, this._formatterChanged = new n, this.parentSource().formatterChanged().subscribe(this, this._onSourceFormatterChanged)
        }

        function u(e, t) {
          return e && e[t] && e[t].hasOwnProperty("showLast") ? e[t].showLast.value() : null
        }
        var h = i("Eyy1"),
          d = h.assert,
          p = h.ensureNotNull,
          f = i("hsV8").unpackNonSeriesData,
          _ = i("38az").StudyBarColorer,
          m = i("l4sv").HorizontalLineRenderer,
          g = i("AXy7"),
          y = g.BandPaneView,
          v = g.BandBackgroundPaneView,
          S = g.HlineFillPaneView,
          b = i("hezA").StudyPriceAxisView,
          w = i("KtbP").PanePriceAxisView,
          P = i("I9zs"),
          T = P.StudyPaneView,
          C = P.StudyBackgroundPaneView,
          x = P.StudyPlotShapesPaneView,
          E = P.StudyPlotCharsPaneView,
          I = P.StudyPlotArrowsPaneView,
          A = P.StudyPlotBarsPaneView,
          L = P.StudyPlotCandlesPaneView,
          D = i("x40+"),
          k = D.PlotFillPaneView,
          O = D.AreaBackgroundPaneView,
          M = i("7ktv").PriceDataSource,
          R = i("it7y").StudyDataWindowView,
          V = i("8qoI").StudyLegendView,
          B = i("TG9i").HHistDataWindowView,
          N = i("Kdr6").HHistLegendView,
          F = i("2kV1").StudyStatusView,
          W = i("jenN"),
          U = W.emptyStudyGraphics,
          H = W.loadStudyGraphics,
          j = W.saveStudyGraphics,
          z = W.LiveStudyGraphics,
          Y = W.createGraphicsPaneViews,
          q = W.createGraphicsPriceAxisViews,
          G = i("HvwJ"),
          X = i("XzZr").ChartApiInterface,
          K = i("xlbu").telemetry,
          $ = i("nmnj"),
          J = i("s4+V"),
          Q = i("xD5v").formatCallstudyArg,
          Z = i("nXyu"),
          ee = i("OKab").FormattersSerializer,
          te = i("WqyU"),
          ie = i("Ru+e").getStudyDangerReason,
          ne = i("aO4+").Point,
          oe = i("Ocx9").DefaultProperty,
          re = i("kcTO").PriceFormatter,
          se = i("nEwK").VolumeFormatter,
          ae = i("zXvd").NumericFormatter,
          le = i("k9/m"),
          ce = le.PlotList,
          ue = le.PlotRowSearchMode,
          he = le.mergeMinMax,
          de = i("972a").MarkLocation,
          pe = i("0YCj"),
          fe = i("cBZt").extractStudyId,
          _e = i("TcSq").extractPineId,
          me = i("FQhm"),
          ge = i("23IT"),
          ye = ge.LineStudyPlotStyle,
          ve = i("hayr").propertyPages,
          Se = i("TmNs").StudyPriceLineAxisView,
          be = i("w4Ji").studyPlotFunctionMap,
          we = i("jy4L").makeNextStudyId,
          Pe = i("jy4L").makeNextSymbolId,
          Te = i("uOxu").getLogger("Chart.Study"),
          Ce = Number(window.TELEMETRY_SERVER_TIME_DIFF_THRESHOLD) || 3e3;
        s.prototype.update = function () {
            this._invalidated = !0
          }, s.prototype.updateImpl = function () {
            this._visible = !1;
            var e = this._study.lastValueData(this._plotName, !0);
            e.noData || (this._visible = !0, this._points = [new ne(0, e.coordinate)], this._color = e.color)
          }, s.prototype.renderer = function () {
            this._invalidated && (this.updateImpl(), this._invalidated = !1);
            var e = {};
            return e.width = this.m_model.timeScale().width(), e.height = this._study.priceScale().height(), e.points = this._points, e.color = this._color, e.linewidth = this._study.properties().styles[this._plotName].linewidth.value(),
              e.linestyle = CanvasEx.LINESTYLE_DOTTED, e.visible = this._visible, this._lineRenderer.setData(e), this._lineRenderer
          }, inherit(c, M), TradingView.Study = c, c.prototype.lastValueData = function (e, t, i) {
            var n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C = {
              noData: !0
            };
            if (this._model.timeScale().isEmpty() || null == this.priceScale() || this.priceScale().isEmpty() || this.data().isEmpty()) return C;
            if (null === (n = this._model.timeScale().visibleBarsStrictRange())) return C;
            if (!this.properties().visible.value()) return C;
            if (o = this.properties().styles, r = this.properties().ohlcPlots, o && o[e] && (s = o[e]), r && r[e] && (s = r[e]), !s || !s.visible.value()) return C;
            if (a = this.offset(e), null == (l = this.nearestIndex(n.lastBar() - a, ue.NearestLeft)) || void 0 === l) return C;
            for (u = this.metaInfo().plots, c = 0; c < u.length && !(u[c].id === e || this.isOHLCClosePlot(c) && u[c].target === e); c++);
            if (d = null !== (h = this._lastNonEmptyPlotRow(c)) && n.contains(h.index), p = null !== h ? h.value : null, !(f = t || d ? p : this.data().valueAt(l)) || !isNumber(f[c + 1])) return C;
            for (_ = {
                noData: !1
              }, m = null, g = null, v = 0; v < u.length; v++) u[v].target === e && (this.isSelfColorerPlot(v) || this.isOHLCColorerPlot(v)) && (m = v, g = this.metaInfo().palettes[u[v].palette], y = this.properties().palettes[u[v].palette]);
            return S = f[c + 1], i && (_.price = S), (b = this.firstValue(!0)) ? (_.text = this.priceScale().formatPrice(S, b), _.formattedPriceAbsolute = this.priceScale().formatPriceAbsolute(S), _.formattedPricePercentage = this.priceScale().formatPricePercentage(S, b), w = s.color.value(), m && f.length > m + 1 && void 0 !== (P = f[m + 1]) && null !== P ? (T = g.valToIndex ? g.valToIndex[P] : P, _.color = y.colors[T].color.value()) : _.color = w, _.floatCoordinate = this.priceScale().priceToCoordinate(S, b, !0), _.coordinate = Math.round(_.floatCoordinate), _.item = f, _) : C
          }, c.prototype.isFailed = function () {
            return this._failed
          }, c.prototype.series = function () {
            return this._series
          }, c.prototype.model = function () {
            return this._model
          }, c.prototype._invalidateLastNonEmptyPlotRowCache = function () {
            this._lastNonEmptyPlotRowCache = {}
          }, c.prototype.clearData = function () {
            this._invalidateLastNonEmptyPlotRowCache(), this.m_data.clear(), this._graphics.clear && this._graphics.clear(), this._plotOffsets = {}
          }, c.prototype.onTagsChanged = function () {
            return this._tagsChanged
          }, c.prototype.properties = function () {
            return this._properties
          }, c.prototype.state = function (e) {
            var t, i, n, o, r = TradingView.className(this.constructor),
              s = {
                type: r,
                id: this.id(),
                state: this.properties().state(),
                zorder: this.zorder()
              };
            for (this.metaInfo() instanceof pe ? s.metaInfo = TradingView.clone(this.metaInfo().state()) : (s.metaInfo = TradingView.clone(this.metaInfo()), s.metaInfo.id = pe.parseIdString(s.metaInfo.id + (s.metaInfo.version ? "-" + s.metaInfo.version : "")).fullId), e && (s.data = this.data().state(), s.data.symbols = this._resolvedSymbols, s.data.graphics = j(this.graphics()), s.data.plotOffsets = this._plotOffsets), this.ownerSource() && (s.ownerSource = this.ownerSource().id()), t = 0; t < this._metaInfo.inputs.length; t++) "bar_time" === this._metaInfo.inputs[t].type && (i = this._metaInfo.inputs[t].id, (n = s.state.inputs[i]) < 0 && (o = this._rightOffsetToUnixTime(-n), s.state.inputs[i] = o && o >= 0 ? o : 0));
            return this._isChildStudy && pe.patchChildStudyMetaInfoState(s), s
          }, c.prototype._plotsForAlert = function () {
            var e = this,
              t = this._metaInfo,
              i = [ge.isLinePlot, ge.isShapesPlot, ge.isCharsPlot, ge.isArrowsPlot, ge.isOhlcPlot];
            return t.plots.map(function (e, t) {
              return e.pinePlotIndex = t, e
            }).filter(function (e) {
              return i.some(function (t) {
                return t(e)
              })
            }).map(function (i) {
              var n = {
                id: i.id,
                type: i.type,
                pinePlotIndex: i.pinePlotIndex,
                offset: e.offset(i.id)
              };
              return t.styles && void 0 !== t.styles[i.id] && (n.title = t.styles[i.id].title || ""), i.target && t.ohlcPlots && t.ohlcPlots[i.target] && (n.ohlcTitle = t.ohlcPlots[i.target].title), n
            })
          }, c.prototype._collectDepsForAlert = function () {
            var e, t, i, n, o, r, s = [this].concat(this.getAllOwnerSources()).filter(function (e) {
                return e instanceof TradingView.Study
              }),
              a = [],
              l = void 0,
              c = void 0;
            for (e = s.length - 1; e >= 0; e--) t = s[e], i = fe(t._metaInfo.id), n = t._getStudyIdWithLatestVersion(), c = t.inputs(), o = t._metaInfo.inputs.filter(function (e) {
              return "source" === e.type
            }).map(function (e) {
              return e.id
            }), Z.patchChildIdInInputs(c, l, o), r = Z.idForAlert(i, c), a.push({
              id: r,
              study: n,
              inputs: c
            }), l = r;
            return {
              idForAlert: l,
              inputsForAlert: c,
              studyDependencies: a.reverse()
            }
          }, c.prototype.idForAlert = function () {
            return this._collectDepsForAlert().idForAlert
          }, c.prototype.toDepsObjectForAlert = function (e) {
            return this._collectDepsForAlert().studyDependencies
          }, c.prototype.dependenciesForAlerts = function () {
            var e = this,
              t = this.getAllOwnerSources(),
              i = t.filter(function (e) {
                return e instanceof TradingView.Study
              }).map(function (t) {
                var i, n = t.inputs(),
                  o = TradingView.StudyMetaInfo.cutDollarHash(t._metaInfo.fullId);
                return "tv-scripting" === t._metaInfo.productId && (o = TradingView.StudyMetaInfo.findStudyMetaInfo(e._model._studiesMetaData, "Script@tv-scripting").fullId), i = {
                  id: t._studyId,
                  study: o,
                  inputs: n
                }, null != t._metaInfo.pine && (i.scriptIdPart = t._metaInfo.scriptIdPart, i.scriptVersion = t._metaInfo.pine.version), i
              });
            return i
          }, c.prototype.stateForAlert = function () {
            var e, t, i = this._metaInfo,
              n = this._plotsForAlert(),
              o = this._collectDepsForAlert(),
              r = o.idForAlert,
              s = o.studyDependencies,
              a = o.inputsForAlert,
              l = (this.priceScale() || this.model().mainSeries().priceScale()).formatter();
            return l = l ? ee.serialize(l) : null, e = {
              id: r,
              uniqueId: r,
              type: TradingView.className(this.constructor),
              title: TradingView.clean(this._title(!1, null, !1), !0),
              shortTitle: TradingView.clean(this._title(!0, null, !1), !0),
              shortDescription: TradingView.clean(i.shortDescription || "Study", !0),
              fullId: i.fullId,
              isTVScript: i.isTVScript,
              plots: n,
              inputs: a,
              alerts: i.alerts,
              scriptIdPart: i.scriptIdPart,
              scriptVersion: i.pine ? i.pine.version : "-1",
              callStudyDependencies: Q(this.dependenciesForAlerts()),
              studyDependencies: s,
              formatter: l
            }, (t = ie(this)) && (e.dangerReason = t), e
          }, c.prototype.isSavedInStudyTemplates = function () {
            for (var e = 0; e < this._metaInfo.inputs.length; e++)
              if ("bar_time" === this._metaInfo.inputs[e].type) return !1;
            return !0
          }, c.prototype.restoreData = function (e) {
            this._invalidateLastNonEmptyPlotRowCache(), this.m_data.restoreState(e), this._resolvedSymbols = e.symbols, this._graphics = e.graphics ? H(e.graphics) : U(), this._postProcessGraphics(), this._plotOffsets = e.plotOffsets
          },
          c.prototype.restart = function () {
            this._restarting = !0, this.clearData(), o.enabled("stop_study_on_restart") && this.stop(), setTimeout(this.start.bind(this), 0)
          }, c.prototype.stop = function (e) {
            if (!0 === e && this._children)
              for (var t = 0; t < this._children.length; ++t) this._children[t].stop(!0);
            this._chartApi && this._chartApi.connected() && this._studyId && this._chartApi.removeStudy(this._studyId, this._handler, this._isChildStudy), o.enabled("update_study_formatter_on_symbol_resolve") && this._model.mainSeries().dataEvents().symbolResolved().unsubscribe(this, this._recreateFormatter), this._studyId = null, this.clearData(), this._unsubscribeExtendedHours(), this.recalculate()
          }, c.prototype.symbolsResolved = function () {
            return this._symbolsResolved
          }, c.prototype.resolvedSymbolInfoBySymbol = function (e) {
            return this._resolvedSymbols && e && this._resolvedSymbols[e] || null
          }, c.prototype._onSymbolResolved = function (e) {}, c.prototype._resolveSymbol = function (e) {
            var t = e;
            return new Promise(function (i, n) {
              this._chartApi.resolveSymbol(Pe(), t, function (t) {
                switch (t.method) {
                  case "symbol_resolved":
                    this._resolvedSymbols[e] = t.params[1], this._onSymbolResolved(e), this.invalidateTitleCache(!0), i(e);
                    break;
                  case "symbol_error":
                    if ("permission denied" === t.params[1] && t.params[2]) switch (t.params[2]) {
                      case TradingView.Series.PD_REASON_EXTENDED_HOURS:
                        break;
                      case TradingView.Series.PD_REASON_SYMBOL:
                        if (t.params[3]) return void i(this._resolveSymbol(t.params[3]));
                        break;
                      default:
                        return void i(this._resolveSymbol(t.params[2]))
                    }
                    this._sendTelemetryCounter("symbol_error", Object.assign(this._getTelemetryAdditionalData(), {
                      symbol: e,
                      reason: t.params[1]
                    })), n(e)
                }
              }.bind(this))
            }.bind(this))
          }, c.prototype._allSymbolsAreResolved = function () {
            var e, t, i, n, o = [];
            for (e = 0; e < this._metaInfo.inputs.length; e++) "symbol" === this._metaInfo.inputs[e].type && (t = this._metaInfo.inputs[e].id, i = this._properties.inputs[t].value(), this._resolvedSymbols[i] || (n = this._resolveSymbol(i), o.push(n)));
            return 0 === o.length ? Promise.resolve() : Promise.all(o).catch(function (e) {
              return this._status = window.t("Invalid Symbol"), this.stop(!0), this._model.updateSource(this), Promise.reject("Invalid symbol, " + e)
            }.bind(this)).then(function () {
              null !== this._studyId && this.stop(!0), this.start(!0), this._symbolsResolved.fire()
            }.bind(this))
          }, c.prototype._allInputsAreValid = function () {
            var e, t, i;
            for (e = 0; e < this._metaInfo.inputs.length; e++)
              if ("bar_time" === this._metaInfo.inputs[e].type && (t = this._metaInfo.inputs[e].id, void 0 === (i = this._properties.inputs[t].value()) || null == i)) return !1;
            return !0
          }, c.prototype.sourceId = function () {
            return this._studyId
          }, c.prototype.parentSource = function () {
            return this._source || this._series
          }, c.prototype.source = function () {
            return this.parentSource()
          }, c.prototype.ownerSource = function () {
            return this._isChildStudy ? this._source : M.prototype.ownerSource.call(this)
          }, c.prototype.getAllOwnerSources = function () {
            for (var e = [], t = this.ownerSource(); null != t;) e.push(t), t = t.ownerSource();
            return e
          }, c.prototype.isChildStudy = function () {
            return !!this._isChildStudy
          }, c.prototype.setChild = function (e) {
            e instanceof c && e.source() === this && (this._children || (this._children = []),
              -1 === this._children.indexOf(e) && this._children.push(e))
          }, c.prototype.unsetChild = function (e) {
            if (e instanceof c && e.source() === this && this._children) {
              var t = this._children.indexOf(e);
              ~t && this._children.splice(t, 1)
            }
          }, c.prototype.hasChildren = function () {
            return !(!this._children || !this._children.length)
          }, c.prototype.getAllChildren = function () {
            var e, t, i, n;
            if (!Array.isArray(this._children)) return [];
            for (e = this._children.slice(), t = 0; t < e.length; ++t)
              for (i = e[t].getAllChildren(), n = 0; n < i.length; ++n) ~e.indexOf(i[n]) || e.push(i[n]);
            return e
          }, c.prototype._debugId = function () {
            var e = [];
            return this._studyId && e.push(this._studyId), e.push(this._metaInfo.fullId), e.push(this._metaInfo.description), JSON.stringify({
              study: e
            })
          }, c.prototype.isStarted = function () {
            return !!this._studyId
          }, c.prototype.isRestarting = function () {
            return !!this._restarting
          }, c.prototype.isVisible = function () {
            var e, t, i;
            if (!this.properties().visible.value()) return !1;
            if (this._metaInfo.plots.length > 0) return !0;
            for (e in this._metaInfo.graphics)
              for (t in this._metaInfo.graphics[e])
                if (!(i = this.properties().graphics[e][t]).visible || i.visible.value()) return !0;
            return !!this._metaInfo.isTVScriptStrategy
          }, c.prototype.start = function (e, t) {
            var i, n = this._model.mainSeries();
            n.isStarted() ? (this._isChildStudy && this._source.isHibernated() && this._source.start(), i = !this._isChildStudy && !this.hasChildren() && !this.isVisible(), !this._chartApi || !this._chartApi.connected() || i && !0 !== t || this._allSymbolsAreResolved().then(function () {
              this._startAfterSymbolsResolved(e, t)
            }.bind(this)).catch(function (e) {
              Te.logError("ERROR: " + this._debugId() + " start failed, " + e), delete this._restarting
            }.bind(this))) : n.dataEvents().completed().subscribe(this, function () {
              this.start(e, t)
            }, !0)
          }, c.prototype._getStudyIdWithLatestVersion = function () {
            var e = pe.cutDollarHash(this._metaInfo.id),
              t = e;
            return e.indexOf("@tv-scripting") >= 0 ? t += "-101!" : t += "-" + this._metaInfo.version, t
          }, c.prototype._startAfterSymbolsResolved = function (e, t) {
            var i, n;
            if (!this.isStarted() || this._restarting) {
              if (this._isChildStudy) {
                if (!this._source.isStarted() || this._source.isRestarting()) return void this._source.onStart.subscribe(this, this._startAfterSymbolsResolved, !0);
                pe.setChildStudyMetaInfoPropertiesSourceId(this._metaInfo, this._source.sourceId(), this._properties)
              }
              if (this._studyId = we(), delete this._restarting, this._allInputsAreValid() && (this._inputs = this.inputs(), i = this._getStudyIdWithLatestVersion(), this._incrementTurnaround(), this._chartApi.createStudy(this._studyId, this._turnaround, this._isChildStudy ? this._source.sourceId() : this._series._seriesId, i, this._inputs, this._handler, this._isChildStudy), this._studyName = i, this._subscribeExtendedHours(), this.onStart.fire(this._studyId), !0 === e && this._children))
                for (n = 0; n < this._children.length; ++n) this._children[n].start(!0, t)
            }
          }, c.prototype._rightOffsetToUnixTime = function (e) {
            var t, i = null;
            return this._series.bars().size() >= e && (t = p(this._series.bars().lastIndex()) - e, i = p(this._series.bars().valueAt(t))[TradingView.TIME_PLOT]), i
          }, c.prototype.getSymbolString = function (e) {
            return this._series && this._series.extendedHours.value() ? "=" + JSON.stringify({
              symbol: e,
              session: "extended"
            }) : e
          }, c.prototype._titleInputs = function (e) {
            return this.inputs({
              symbolsForDisplay: !0,
              skipHiddenInputs: !0,
              skipFakeInputs: !1,
              fakeInputsForDisplay: !0,
              asObject: !1,
              skippedGroups: [],
              noExchanges: e
            })
          }, c.prototype.inputsForAlert = function () {
            var e = this.offset(),
              t = this.inputs();
            return e && t.push(e), t
          }, c.prototype.inputs = function (e) {
            var t = {
              symbolsForDisplay: !1,
              symbolsForChartApi: !0,
              skipHiddenInputs: !1,
              skipFakeInputs: !1,
              skipBooleanInputs: o.enabled("dont_show_boolean_study_arguments"),
              asObject: !0,
              skippedGroups: [],
              noExchanges: !1
            };
            return TradingView.merge(t, e), this._buildInputs(t)
          }, c.prototype._buildInputs = function (e) {
            var t, i;
            d(!!e, "options not set"), t = {};
            try {
              t = this._prepareInputs(e)
            } catch (e) {
              Te.logWarn("Failed to prepare study inputs: " + e)
            }
            return e.asObject ? (i = {}, Object.keys(t).forEach(function (e) {
              null != t[e] && (i[e] = t[e])
            }), i) : (i = [], Object.keys(t).forEach(function (e) {
              null != t[e] && i.push(t[e])
            }), i)
          }, c.prototype._prepareInputs = function (e) {
            var t, i, n, o;
            for (d(!!e, "options not set"), t = {}, i = 0; i < this._metaInfo.inputs.length; i++)(n = this._metaInfo.inputs[i]).isFake && e.skipFakeInputs || n.isHidden && e.skipHiddenInputs || "bool" === n.type && e.skipHiddenInputs && e.skipBooleanInputs || -1 === e.skippedGroups.indexOf(n.groupId) && (o = this._prepareInput(n, e), t[n.id] = TradingView.clone(o));
            return t
          }, c.prototype._prepareInput = function (e, t) {
            var i = this._prepareInputValue(e, t);
            return !e.isFake || t.fakeInputsForDisplay ? i : t.onlyAtomValues ? i : {
              v: i,
              f: !0,
              t: e.type
            }
          }, c.prototype._prepareInputValue = function (e, t) {
            var i, n, o, r, s, a = e.id;
            return "symbol" === e.type ? (i = this._properties.inputs[a].value(), t && t.symbolsForDisplay ? this._resolvedSymbols && this._resolvedSymbols[i] && (n = this._resolvedSymbols[i].exchange, i = this._resolvedSymbols[i].name, n && !t.noExchanges && (i += ", " + n)) : (this._resolvedSymbols && this._resolvedSymbols[i] && (i = (o = this._resolvedSymbols[i]).ticker || o.full_name), t && t.symbolsForChartApi && (i = this.getSymbolString(i))), i) : "bar_time" === e.type ? ((r = this._properties.inputs[a].value()) < 0 && (r = (s = this._rightOffsetToUnixTime(-r)) && s >= 0 ? s : r), r) : this._metaInfo.isTVScript || this._metaInfo.pine ? "text" === a ? this._metaInfo.defaults.inputs.text : "pineId" === a ? this._metaInfo.scriptIdPart : "pineVersion" === a ? this._metaInfo.pine ? this._metaInfo.pine.version : "-1" : this._properties.inputs[a].value() : this._properties.inputs[a].value()
          }, c.prototype._rebindToSource = function (e, t) {
            var i, n, o, r, s, a, l, u, h, d = this.parentSource();
            if (this._isChildStudy) {
              if (this._source.unsetChild(this), delete this._nonPriceParent, n = null, e === this._model.mainSeries()) {
                for (o = this._model.studiesMetaData(), s = 0; s < o.length; ++s)
                  if (this._metaInfo.id === o[s].id) {
                    r = o[s];
                    break
                  } if (!r) return void Te.logError("Can not find " + this._metaInfo.id + " meta info");
                delete this._source, delete this._isChildStudy, delete this._ownerSource, this._metaInfo = r.state(!0), i = this._series._seriesId, n = X.REBIND_STUDY_CHILD_TO_STANDALONE
              } else {
                if (!(e instanceof c)) return Te.logError("Unable to rebind study to source of this type"), !1;
                this._ownerSource = e, this._source = e, i = this._source.sourceId(), this._source.setChild(this),
                  this._source.isHibernated() && this._source.start()
              }
              this._incrementTurnaround(), this._chartApi.rebindStudy(this._studyId, this._turnaround, i, this._studyName, t, this._handler, n)
            } else {
              if (!(e instanceof c)) return Te.logError("Unable to rebind study to source of this type"), !1;
              if ((a = e.isHibernated()) && e.start(), l = !1, this._canCreateStudyWithRebindType(X.REBIND_STUDY_STANDALONE_TO_CHILD) ? (this._incrementTurnaround(), l = this._chartApi.rebindStudy(this._studyId, this._turnaround, e.sourceId(), this._studyName, t, this._handler, X.REBIND_STUDY_STANDALONE_TO_CHILD)) : J.createGoProDialog({
                  feature: "studyOnStudy"
                }).then(function (e) {
                  e.open()
                }), !l) return a && e.stop(), !1;
              this._metaInfo = TradingView.clone(this._metaInfo), this._isChildStudy = !0, this._ownerSource = e, this._source = e, this._source.setChild(this), this._childStudyByRebind.fire()
            }
            return this.m_priceScale !== (u = e.priceScale()) && this._model.paneForSource(this) === (h = this._model.paneForSource(e)) && h.move(this, u, !0), d.formatterChanged().unsubscribe(this, this._onSourceFormatterChanged), this.parentSource().formatterChanged().subscribe(this, this._onSourceFormatterChanged), this._recreateFormatter(), !0
          }, c.prototype.childStudyByRebind = function () {
            return this._childStudyByRebind
          }, c.prototype._changeInputsImpl = function (e, t) {
            var i, n, o, r, s = this.source(),
              a = this._properties.inputs && this._properties.inputs.state(),
              l = pe.getSourceIdByInputs(this._metaInfo.inputs, a),
              u = !0;
            if (l)
              if ("high" === l || "open" === l || "low" === l || "close" === l || "hl2" === l || "ohl3" === l || "ohlc4" === l) s = this._model.mainSeries();
              else
                for (i = this._model.dataSources(), n = 0; n < i.length; ++n)
                  if (i[n] instanceof c && i[n].sourceId() === l) {
                    s = i[n];
                    break
                  } if (s !== this.source()) {
              if (!this._rebindToSource(s, e) && a) {
                for (o = null, r = null, n = 0; n < t.length; ++n)
                  if (t[n] !== e[n] && 0 === e[n].indexOf(l)) {
                    o = this._properties.inputs[a[n].id], r = t[n], u = !1;
                    break
                  } o && o.setValue(r)
              }
            } else this._incrementTurnaround(), this._chartApi.modifyStudy(this._studyId, this._turnaround, e, this._handler);
            this.invalidateTitleCache(), u && (this._studyModified = u)
          }, c.prototype._incrementTurnaround = function () {
            this._turnaround = "st" + ++this._turnaroundCounter
          }, c.prototype._tryChangeInputs = function () {
            var e = TradingView.clone(this._inputs);
            this.isStarted() && this._chartApi.connected() ? this._allInputsAreValid() ? this._allSymbolsAreResolved().then(function () {
              var t = this.inputs();
              JSON.stringify(t) !== JSON.stringify(this._inputs) && (this._changeInputsImpl(t, e), this._inputs = t)
            }.bind(this)).catch(function (e) {
              Te.logError("ERROR: " + this._debugId() + " _tryChangeInputs: cannot modify study, " + e)
            }.bind(this)) : this.stop() : (this.stop(!0), this.start(!0)), this._tagsChanged.fire()
          }, c.prototype.testInputValue = function (e, t) {
            var i, n;
            return !pe.canBeChild(this._metaInfo) || !pe.isSourceInput(e) || (!(i = this._properties.inputs && this._properties.inputs[e.id]) || (n = c.getInputRebindType(e, i.value(), t), !!this._canCreateStudyWithRebindType(n) || (J.createGoProDialog({
              feature: "studyOnStudy"
            }).then(function (e) {
              e.open()
            }), !1)))
          }, c.prototype._canCreateStudyWithRebindType = function (e) {
            return e !== X.REBIND_STUDY_STANDALONE_TO_CHILD || this._chartApi.isCanCreateStudy(!0)
          },
          c.prototype.changeStyles = function () {
            var e = null != this._metaInfo.inputs.filter(function (e) {
              return "symbol" === e.type
            })[0];
            !this.isStarted() && !e || this._restarting || (this._inputs ? this._tryChangeInputs() : this._chartApi && this._chartApi.connected() && this.restart(), this._metaInfo.isTVScript && this._metaInfo.TVScriptMetaInfoExprs && (this._pinePatchProps(), this.invalidateTitleCache()), this.hasBarColorer() && this._model.mainSeries().invalidateBarStylesCache(), e && this.invalidateBarStylesCache(), this.createViews(), this.recalculate(!0), this.updateAllViews())
          }, c.prototype._onPropertiesChanged = function () {
            this.changeStyles(), me.emit("study_properties_changed", this._id)
          }, c.prototype._isModifiedStudyInputs = function (e) {
            if (void 0 === this._oldStudyInputs) return this._oldStudyInputs = e, !0;
            var t = Object.keys(this._oldStudyInputs);
            return d(t.length === Object.keys(e).length, "keys quantity should be equal"), t.forEach(function (t) {
              d(e.hasOwnProperty(t), "key '" + t + "' should existing in studyInputs"), this._oldStudyInputs[t] !== e[t] && (this._oldStudyInputs = e)
            }, this), this._oldStudyInputs === e
          }, c.prototype._pinePatchProps = function () {
            var e, t, i = {
                symbolsForDisplay: !1,
                symbolsForChartApi: !0,
                skipHiddenInputs: !0,
                skipFakeInputs: !1,
                onlyAtomValues: !0,
                skipBooleanInputs: !1,
                skippedGroups: []
              },
              n = this._prepareInputs(i);
            this._isModifiedStudyInputs(n) && (e = $.patchPropertiesAsync(this._properties, this._metaInfo, n), t = this._allSymbolsAreResolved(), Promise.all([e, t]).then(function () {
              this.createViews(), this.recalculate(!0), this.updateAllViews()
            }.bind(this)).catch(function (e) {
              Te.logError("ERROR: " + this._debugId() + " _pinePatchProps failed, reason: " + e)
            }.bind(this)))
          }, c.prototype.visibleChanged = function () {
            this._series instanceof TradingView.Series && this._series.invalidateBarColorerCache()
          }, c.prototype.invalidateBarStylesCache = function () {
            this.m_data.each(function (e, t) {
              t[TradingView.STYLE_PLOT] = null
            })
          }, c.prototype.processHibernate = function () {
            this.isHibernateAllowed() && (!this._studyId && this.isVisible() && this.start(), this._studyId && !this.isVisible() && this.stop())
          }, c.prototype.isHibernated = function () {
            return !this.isVisible() && !this._studyId
          }, c.prototype.isHibernateAllowed = function () {
            return !this._isChildStudy && !this.hasChildren()
          }, c.prototype.lastPriceLabelFixedCoordinate = function (e) {
            return this._priceAxisViewsCache[e]._fixedCoordinate
          }, c.prototype.priceLabelText = function (e) {
            var t, i, n, o;
            return 1 === this._simplePlotsCount ? this._metaInfo.shortDescription : (t = this._metaInfo.styles, i = this._metaInfo.ohlcPlots, t && t[e] && (n = t[e]), i && i[e] && (n = i[e]), o = n.title, this._metaInfo.is_price_study ? this._metaInfo.shortDescription + ":" + o : o)
          }, c.prototype.createPriceAxisView = function (e) {
            return new b(this, {
              plotIndex: e
            })
          }, c.prototype.createPriceLineAxisView = function (e) {
            return new Se(this, e)
          }, c.prototype.createViews = function () {
            var e, t, i, n, o, r, a, l;
            if (this._priceAxisViewsBase = [], this._priceLinesAxisViews = [], this._paneViews = [], e = {}, this._priceAxisViewsCache = {},
              this.metaInfo().plots)
              for (t = 0; t < this.metaInfo().plots.length; t++)
                if (!(this.isSelfColorerPlot(t) || this.isTextColorerPlot(t) || this.isBarColorerPlot(t) || this.isOHLCColorerPlot(t)))
                  if (i = this.metaInfo().plots[t].id, this.isBgColorerPlot(t)) this._paneViews.push(new C(this, this._series, this._model, i));
                  else if (this.isPlotShapesPlot(t)) this._paneViews.push(new x(this, this._series, this._model, i));
            else if (this.isPlotCharsPlot(t)) this._paneViews.push(new E(this, this._series, this._model, i));
            else if (this.isPlotArrowsPlot(t)) this._paneViews.push(new I(this, this._series, this._model, i));
            else if (this.isOHLCSeriesPlot(t)) {
              if (e[n = this.metaInfo().plots[t].target]) continue;
              e[n] = n, this.isOHLCBarsPlot(t) ? this._paneViews.push(new A(this, this._series, this._model, n)) : this.isOHLCCandlesPlot(t) && this._paneViews.push(new L(this, this._series, this._model, n)), o = this.createPriceAxisView(n), this._priceAxisViewsCache[n] = o, this._priceAxisViewsBase.push(o), this._paneViews.push(new w(o, this, this._model))
            } else o = this.createPriceAxisView(i), this._priceAxisViewsCache[i] = o, this._priceAxisViewsBase.push(o), this._priceLinesAxisViews.push(this.createPriceLineAxisView(i)), this._paneViews.push(new T(this, this._series, this._model, i)), this.properties().styles[i].trackPrice.value() && this._paneViews.push(new s(this, this._series, this._model, i)), this._paneViews.push(new w(o, this, this._model));
            if (this._properties.bands)
              for (t = 0; t < this._properties.bands.childCount(); t++) this._properties.bands[t].visible.value() && this._paneViews.push(new y(this._properties.bands[t], this));
            if (this._properties.bandsBackground && this._paneViews.push(new v(this)), r = this._paneViews, Y(this, this.model()).then(function (e) {
                for (var t = 0; t < e.length; t++) r.push(e[t])
              }), this._properties.areaBackground && this._paneViews.push(new O(this)), this._properties.filledAreas && this._metaInfo.filledAreas)
              for (t = 0; t < this._metaInfo.filledAreas.length; ++t) a = this._metaInfo.filledAreas[t], l = this._properties.filledAreasStyle[a.id], a.type === pe.FilledArea.TYPE_PLOTS || a.palette ? this._paneViews.push(new k(this, a, l)) : a.type === pe.FilledArea.TYPE_HLINES ? this._paneViews.push(new S(this, a, l)) : Te.logWarn("Unsupported filledArea type: " + a.type);
            this._dataWindowView || (this._dataWindowView = this.metaInfo().graphics && "hhists" in this.metaInfo().graphics ? new B(this, this._model) : new R(this, this._model)), this._legendView || (this._legendView = this.metaInfo().graphics && "hhists" in this.metaInfo().graphics ? new N(this, this._model) : new V(this, this._model)), this._statusView || (this._statusView = new F(this, this._model.properties().scalesProperties.textColor)), this._priceAxisViews = [].concat(this._priceAxisViewsBase, this._hlinesPriceAsisViews, this._horizlinesPriceAsisViews)
          }, c.prototype.recalculate = function (e) {
            var t = this._model.paneForSource(this);
            this._model.recalculatePane(t, e), this._model.updateSource(this)
          }, c.prototype.data = function () {
            return this.m_data
          }, c.prototype.metaInfo = function () {
            return this._metaInfo
          }, c.prototype.graphicsInfo = function () {
            return this._metaInfo.graphics
          }, c.prototype.status = function () {
            return this._status
          },
          c.prototype.title = function (e, t, i, n) {
            var o, r;
            return i = void 0 === i ? !this._showStudyArgumentsProperty.value() : i, o = JSON.stringify([e, t, i, n]), this._titleCache[o] ? this._titleCache[o] : (r = this._title(e, t, i, n), this._titleCache[o] = r, r)
          }, c.prototype._title = function (e, t, i, n) {
            var o, r, s, a, l, c, u, h, d, p, f, _, m;
            if (o = e ? this._metaInfo.shortDescription || this._properties.shortDescription && this._properties.shortDescription.value() || "Study" : this._metaInfo.description || this._properties.description && this._properties.description.value() || "Study", t = t || {}, o = window.t(o), !i && (r = this._titleInputs(n) || []).length > 0) {
              if (s = {}, this._isChildStudy)
                for (a = 0; a < this._metaInfo.inputs.length; ++a)
                  if (l = this._metaInfo.inputs[a], pe.isSourceInput(l)) {
                    c = l.id, (u = this._properties.inputs[c].value()).indexOf("$") >= 0 && this._source && (h = this._source.metaInfo(), d = this._source.title(e, null, !0, n), 1 === h.plots.length ? s[u] = d : (p = u.split("$")[1], f = h.plots[p].id, _ = h.styles && h.styles[f] && h.styles[f].title || f, s[u] = d + ":â€‰" + _));
                    break
                  } m = this, o += " (" + (r = r.map(function (e) {
                var i = isNumber(e) ? m._numericFormatter.format(e) : s && s[e] || e;
                return t[i] && (i = t[i]), i
              })).join(", ") + ")"
            }
            return o
          }, c.prototype.invalidateTitleCache = function (e) {
            if (this._titleCache = {}, !0 === e && this._children)
              for (var t = 0; t < this._children.length; ++t) this._children[t].invalidateTitleCache(e)
          }, c.prototype.graphics = function () {
            return this._graphics
          }, c.prototype.turnaround = function (e) {
            return !0 === e ? this.source().turnaround(!0) + "_" + this._turnaround : this._turnaround
          }, c.prototype._checkTurnaround = function (e) {
            return e === this._turnaround || e === this._model.mainSeries().turnaround() || e === this.turnaround(!0)
          }, c.prototype.onData = function (e) {
            var t, i, n, o, r, s, a, l, c, u, h, p = this,
              f = this._getTelemetryObjectName();
            switch (e.method) {
              case "study_loading":
                this._status = window.t("loading..."), this._failed = !1, this._statusView.update(), this._model.updateSource(this), p._loadingStartTime = (new Date).getTime();
                break;
              case "study_error":
                delete this._loadingStartTime, this._failed = !0, this.clearData(), this._status = "", "string" == typeof e.params[2] && (i = (t = e.params[2]).split(":", 2)[0]).length > 0 && (this._status = window.t(i)), n = _e(this._metaInfo.fullId), (this._metaInfo.scriptIdPart && this._metaInfo.scriptIdPart.startsWith(te.PinePrefix.EDGR) || n && n.startsWith(te.PinePrefix.EDGR)) && (this._status = window.t("Fundamental studies are no longer available on charts")), -1 === ["Sessions"].indexOf(p._metaInfo.description) && (o = this._getTelemetryAdditionalData(), void 0 !== t && (r = t.indexOf("Command info"), o.reason = r >= 0 ? t.slice(0, r).trim() : t), /study in error state/gi.test(o.reason) || this._sendTelemetryCounter(f + "_error", o)), this._statusView.update(), this._model.updateSource(this);
                break;
              case "study_completed":
                if (!this._checkTurnaround(e.params[1])) return;
                s = "chartSession:" + p._chartApi._sessionid, a = (new Date).getTime() - this._loadingStartTime, Te.logDebug(s + ", Study " + this._metaInfo.description + " loading took " + a + " ms"), (l = e.params[e.params.length - 1]) && (u = (c = Math.round(1e3 * (l - this._chartApi.serverTimeOffset())) - this._loadingStartTime) > 0 && a - c >= Ce, this._sendTelemetryTiming(f + "_server_time_frame", u ? c : a)),
                  this._sendTelemetryCounter(f + "_loaded"), this._sendTelemetryTiming(f + "_time_frame", a), delete this._loadingStartTime, this._status = "", this._statusView.update(), h = this._model.paneForSource(this), this._model.recalculatePane(h), this._updateSources(), this._model.invalidate(new G(G.FULL_UPDATE));
                break;
              case "study_deleted":
                break;
              case "data_update":
                if (e.params.customId !== this.sourceId() || !this._checkTurnaround(e.params.turnaround)) return;
                d(!!e.params.nonseries, "data.params.nonseries is missing"), this._onDataUpdate(e.params.plots, e.params.nonseries)
            }
          }, c.prototype._onDataUpdate = function (e, t) {
            this._studyModified && (this.clearData(), this._studyModified = !1), f(t.d).then(function (i) {
              "nochange" !== t.indexes && this._processPlotOffsets(i), this.transformData(e), this._mergeData(e), null !== i && (i.indexes_replace ? (d("nochange" !== t.indexes), this._graphics.replaceIndexesTo(t.indexes)) : ("nochange" !== t.indexes && this._graphics.replaceIndexesTo(t.indexes), void 0 !== i.graphicsCmds && this._graphics.processCommands(i.graphicsCmds, this._metaInfo.graphics))), this._onDataUpdated(e, i, t.indexes)
            }.bind(this))
          }, c.prototype._onDataUpdated = function (e, t, i) {
            this.hasBarColorer() && e.length > 0 && this._model.mainSeries().invalidateBarStylesCache(e[0].index), null !== t && this._postProcessGraphics();
            var n = this._model.paneForSource(this);
            this._model.recalculatePane(n), this._updateSources()
          }, c.prototype.transformData = function (e) {}, c.prototype.moveData = function (e) {
            this._invalidateLastNonEmptyPlotRowCache(), this.m_data.move(e)
          }, c.prototype.replaceData = function (e, t, i) {
            this._invalidateLastNonEmptyPlotRowCache(), this.m_data.remove(e + 1), this.m_data.addTail(i, t)
          }, c.prototype._updateSources = function () {
            this._model.updateSource(this), this.hasBarColorer() && this._model.updateSource(this._model.mainSeries())
          }, c.processPlotOffsets = function (e, t) {
            t && t.indexes_replace || (e._plotOffsets = t && t.offsets || {})
          }, c.prototype._processPlotOffsets = function (e) {
            c.processPlotOffsets(this, e)
          }, c.prototype._mergeData = function (e) {
            this._invalidateLastNonEmptyPlotRowCache(), this.m_data.merge(e)
          }, c.prototype._postProcessGraphics = function () {
            this._priceAxisViews = [].concat(this._priceAxisViewsBase, q(this))
          }, c.prototype._getNonPriceParent = function () {
            var e, t;
            if (this._nonPriceParent) return this._nonPriceParent;
            for (e = this.source(); e instanceof c;) {
              if (!(t = e.metaInfo()).is_price_study || "Compare@tv-basicstudies" === t.id) return this._nonPriceParent = e, e;
              e = e.source()
            }
          }, c.prototype.firstValue = function (e) {
            var t, i, n, o, r, s;
            return !this._isChildStudy && "Compare@tv-basicstudies" === this._metaInfo.id || !this._metaInfo.is_price_study ? null === (t = this._model.timeScale().visibleBarsStrictRange()) ? null : (i = t.firstBar(), n = t.lastBar(), 0 === this.data().size() ? null : (o = null, r = this, this.data().range(i, n).each(function (t, i) {
                var n, s, a;
                for (n = 1; n < i.length; ++n)
                  if (void 0 !== i[n - 1] && null !== i[n - 1] && !r.isSelfColorerPlot(n - 1) && (s = r._metaInfo.plots[n - 1].id, (a = r.properties().styles[s]).visible && a.visible.value() && !(e && Math.abs(i[n]) < 1e-10 || void 0 === i[n] || null === i[n] || o))) return o = i[n], !0
              }), this._nonPriceFirstValue = o,
              o)) : this._isChildStudy && (s = this._getNonPriceParent()) && this.priceScale() === s.priceScale() ? void 0 !== s._nonPriceFirstValue ? s._nonPriceFirstValue : s.firstValue() : this._series.firstValue()
          }, c.offset = function (e, t) {
            var i = 0;
            return e._plotOffsets && void 0 !== e._plotOffsets[t] && (i += e._plotOffsets[t]), void 0 !== e._plotOffsetsMetaInfoOverride[t] ? i += e._plotOffsetsMetaInfoOverride[t] : e.properties().offsets && void 0 !== e.properties().offsets[t] && (i += e.properties().offsets[t].val.value()), e.properties().offset && (i += e.properties().offset.val.value()), i
          }, c.prototype.offset = function (e) {
            return c.offset(this, e)
          }, c.prototype.priceRange = function (e, t) {
            var i, n, o, s, a, l, c, u, h, d, p, f, _, m, g, y, v;
            if (TradingView.isInteger(e)) {
              if (TradingView.isInteger(t)) {
                if (0 === this.m_data.size()) return null;
                if (i = null, 0 === (o = (n = this)._metaInfo).plots.length) return null;
                for (a = [], c = null, u = 0; u < o.plots.length; ++u)
                  if (!(n.isSelfColorerPlot(u) || n.isTextColorerPlot(u) || n.isBarColorerPlot(u) || n.isBgColorerPlot(u) || n.isOHLCColorerPlot(u)) && (h = o.plots[u].id, n.isOHLCSeriesPlot(u) ? (p = o.plots[u].target, d = n.properties().ohlcPlots[p]) : d = n.properties().styles[h], d.visible.value() && (l = null, d.location && (l = d.location.value()), s || (f = [de.Absolute, de.Top, de.Bottom].indexOf(l) < 0, s = (n.isPlotShapesPlot(u) || n.isPlotCharsPlot(u)) && f || n.isPlotArrowsPlot(u)), n.isLinePlot(u) || (n.isPlotShapesPlot(u) || n.isPlotCharsPlot(u)) && d.location.value() === de.Absolute || n.isOHLCSeriesPlot(u)))) {
                    if (_ = {
                        name: h,
                        offset: n.offset(h)
                      }, m = n.properties().styles[h].plottype.value(), !n.properties().skipHistogramBaseOnAutoScale && [ye.Histogram, ye.Columns, ye.Area].indexOf(m) >= 0) {
                      if (g = n.properties().styles[h].histogramBase.value(), !isNumber(g)) continue;
                      c = he(c, {
                        min: g,
                        max: g
                      })
                    }
                    a.push(_)
                  } if (y = n.m_data.minMaxOnRangeCached(e, t, a), y = he(c, y), s && (a = [{
                    name: "low",
                    offset: 0
                  }, {
                    name: "high",
                    offset: 0
                  }], v = n.series().data().bars().minMaxOnRangeCached(e, t, a), y = he(y, v)), null !== y && (i = new r(y.min, y.max)), o.bands)
                  for (u = 0; u < o.bands.length; u++)
                    if (n.properties().bands[u].visible.value()) {
                      if (g = n.properties().bands[u].value.value(), !isNumber(g)) continue;
                      i ? i.apply(g, g) : i = new r(g, g)
                    } return this._postProcessPriceRange(i)
              }
              Te.logDebug("priceRange: incorrect endBar")
            } else Te.logDebug("priceRange: incorrect startBar")
          }, c.prototype._postProcessPriceRange = function (e) {
            var t, i;
            return e && e.minValue() === e.maxValue() && (t = .005 * e.minValue(), e = new r(e.minValue() - t, e.maxValue() + t)), (i = this.priceScale()) && i.isLog() && e ? new r(this.priceScale().priceToLogical(e.minValue()), this.priceScale().priceToLogical(e.maxValue())) : e
          }, c.prototype.paneViews = function () {
            return this.properties().visible.value() ? this._paneViews : null
          }, c.prototype.dataWindowView = function () {
            return this._dataWindowView
          }, c.prototype.legendView = function () {
            return this._legendView
          }, c.prototype.statusView = function () {
            return this._statusView
          }, c.prototype.priceAxisViews = function (e, t) {
            return this.properties().oldShowLastValue && !this.properties().oldShowLastValue.value() ? null : e.findTargetPriceAxisViews(this, t, this._priceAxisViews, this._priceLinesAxisViews)
          }, c.prototype._showLastValueOnPriceScale = function () {
            return this._model.properties().scalesProperties.showStudyLastValue.value()
          }, c.prototype.isLinePlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isLinePlot(t)
          }, c.isSelfColorerPlot = function (e, t) {
            var i = e._metaInfo.plots[t];
            return ge.isColorerPlot(i)
          }, c.prototype.isSelfColorerPlot = function (e) {
            return c.isSelfColorerPlot(this, e)
          }, c.prototype.isTextColorerPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isTextColorerPlot(t)
          }, c.prototype.isBarColorerPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isBarColorerPlot(t)
          }, c.prototype.isBgColorerPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isBgColorerPlot(t)
          }, c.prototype.isPlotShapesPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isShapesPlot(t)
          }, c.prototype.isPlotCharsPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isCharsPlot(t)
          }, c.prototype.isPlotArrowsPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isArrowsPlot(t)
          }, c.prototype.isOHLCBarsPlot = function (e) {
            var t = this._metaInfo.plots[e].target,
              i = this.metaInfo().defaults.ohlcPlots[t];
            return i && this.isOHLCSeriesPlot(e) && ge.isOhlcPlotStyleBars(i)
          }, c.prototype.isOHLCCandlesPlot = function (e) {
            var t = this._metaInfo.plots[e].target,
              i = this.metaInfo().defaults.ohlcPlots[t];
            return i && this.isOHLCSeriesPlot(e) && ge.isOhlcPlotStyleCandles(i)
          }, c.prototype.isOHLCSeriesPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isOhlcPlot(t)
          }, c.prototype.isOHLCOpenPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isOhlcOpenPlot(t)
          }, c.prototype.isOHLCHighPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isOhlcHighPlot(t)
          }, c.prototype.isOHLCLowPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isOhlcLowPlot(t)
          }, c.prototype.isOHLCClosePlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isOhlcClosePlot(t)
          }, c.prototype.isOHLCColorerPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isOhlcColorerPlot(t)
          }, c.prototype.isDataOffsetPlot = function (e) {
            var t = this._metaInfo.plots[e];
            return ge.isDataOffsetPlot(t)
          }, c.prototype.hasBarColorer = function () {
            for (var e = 0; e < this._metaInfo.plots.length; ++e)
              if (this.isBarColorerPlot(e)) return !0;
            return !1
          }, c.prototype.barColorer = function () {
            var e, t, i = null;
            for (e = 0; e < this._metaInfo.plots.length; ++e) this.isBarColorerPlot(e) && (t = new _(this, e), null == i ? i = t : i.pushBackBarColorer(t));
            if (null == i) throw new Error("Cannot create BarColorer: study doesn't have a bar_colorer plot!");
            return i
          }, c.prototype.base = function () {
            return "Volume" === this._metaInfo.id ? 1 : 0
          }, c.prototype._formatterByProperties = function () {
            if ("default" === this.properties().precision.value()) return null;
            var e = parseInt(this.properties().precision.value());
            return isFinite(e) ? new re(Math.pow(10, e)) : null
          }, c.prototype._formatterByMetaInfo = function () {
            var e, t, i, n = this.metaInfo().format;
            switch (n.type) {
              case "price":
                return e = isNumber(n.precision) ? Math.pow(10, n.precision) : void 0, new re(e);
              case "volume":
                return void 0 === (t = n.precision) && (t = (i = this.series().symbolInfo()) && isNumber(i.volume_precision) ? i.volume_precision : 0), new se(t);
              case "inherit":
                return null;
              default:
                return Te.logWarn("Unsupported format type: " + n.type), null
            }
          }, c.prototype._onSourceFormatterChanged = function () {
            null === this._formatter && (null !== this.priceScale() && this.priceScale().updateFormatter(), this._formatterChanged.fire())
          }, c.prototype._precisionChanged = function () {
            this._recreateFormatter()
          }, c.prototype._recreateFormatter = function () {
            this._formatter = this._tryCreateFormatter(), this._formatterChanged.fire(), null !== this.priceScale() && this.priceScale().updateFormatter(), this._model.invalidate(new G(G.FULL_UPDATE))
          }, c.prototype._tryCreateFormatter = function () {
            var e = this._formatterByProperties();
            return null === e && (e = this._formatterByMetaInfo()), e
          }, c.prototype.formatter = function () {
            return this._formatter || this.parentSource().formatter(!1)
          }, c.prototype.setOwnerSource = function (e) {
            M.prototype.setOwnerSource.call(this, e), this._recreateFormatter()
          }, c.prototype.nearestIndex = function (e, t) {
            if (TradingView.isInteger(e)) {
              var i = this._series.data().bars().search(e, t);
              return null !== i ? i.index : void 0
            }
            Te.logDebug("nearestIndex: incorrect logicalPoint")
          }, c.prototype._lastNonEmptyPlotRow = function (e) {
            var t, i;
            return TradingView.isInteger(e) ? void 0 !== this._lastNonEmptyPlotRowCache[e] ? this._lastNonEmptyPlotRowCache[e] : (t = 1e3, null === (i = this.data().findLast(function (t, i) {
              return void 0 !== i[e]
            }, t)) ? null : (this._lastNonEmptyPlotRowCache[e] = i, this._lastNonEmptyPlotRowCache[e])) : (Te.logDebug("_lastNonEmptyPlotRow: incorrect plotIndex"), null)
          }, c.prototype.updateAllViews = function () {
            var e;
            for (e = 0; e < this._paneViews.length; e++) this._paneViews[e].update();
            for (this._dataWindowView.update(), null !== this._legendView && this._legendView.update(), this._statusView.update(), e = 0; e < this._priceAxisViews.length; e++) this._priceAxisViews[e].update();
            this._priceLinesAxisViews.forEach(function (e) {
              e.update()
            })
          }, c.prototype.tags = function () {
            return !this._metaInfo || !this._metaInfo.description || this._metaInfo.isTVScriptStub || this._metaInfo.is_hidden_study || this._metaInfo.isTVScript && "tv-scripting" === this._metaInfo.productId ? [] : [this._metaInfo.description]
          }, c.prototype.onExtendedHoursChanged = function () {
            this.restart()
          }, c.prototype.hasSymbolInputs = function () {
            for (var e = this._metaInfo.inputs.length; e--;)
              if ("symbol" === this._metaInfo.inputs[e].type) return !0;
            return !1
          }, c.prototype.canOverrideMinTick = function () {
            return !1
          }, c.prototype._subscribeExtendedHours = function () {
            !this._isSubscribedToExtendedHours && this.hasSymbolInputs() && (this._series.onExtendedHoursChanged().subscribe(this, this.onExtendedHoursChanged), this._isSubscribedToExtendedHours = !0)
          }, c.prototype._unsubscribeExtendedHours = function () {
            this._isSubscribedToExtendedHours && (this._series.onExtendedHoursChanged().unsubscribe(this, this.onExtendedHoursChanged), delete this._isSubscribedToExtendedHours)
          }, c.prototype.removeByRemoveAllStudies = function () {
            return !0
          }, c.prototype.canHaveChildren = function () {
            return void 0 === this._canHaveChildren && (this._canHaveChildren = !!pe.canHaveChildren(this._metaInfo)), this._canHaveChildren
          }, c.getInputRebindType = function (e, t, i) {
            var n = pe.isSourceInput(e);
            return n && !~t.indexOf("$") && ~i.indexOf("$") ? X.REBIND_STUDY_STANDALONE_TO_CHILD : n && ~t.indexOf("$") && !~i.indexOf("$") ? X.REBIND_STUDY_CHILD_TO_STANDALONE : 0
          }, c.prototype.getPlotFields = function () {
            return this._plotFields
          }, c.prototype.getMinFirstBarIndexForPlot = function (e) {
            var t, i = u(this._properties.styles, e) || u(this._properties.ohlcPlots, e) || u(this._properties.filledAreasStyle, e);
            return null === i ? -1 / 0 : null === (t = this.data().lastIndex()) ? -1 / 0 : t - i + 1
          }, c.prototype.getInputsPropertyPage = function () {
            return ve.StudyInputsPropertyPage
          }, c.prototype.getStylesPropertyPage = function () {
            return ve.StudyStylesPropertyPage
          }, c.prototype.getDisplayPropertyPage = function () {
            return ve.StudyDisplayPropertyPage
          }, c.prototype.isPine = function () {
            return void 0 !== this._metaInfo.pine
          }, c.prototype.isStandardPine = function () {
            return this.isPine() && pe.isStandardPine(this._metaInfo.id)
          }, c.prototype.isLinkedToSeries = function () {
            return !0 === this._metaInfo.linkedToSeries
          }, c.prototype._getTelemetryObjectName = function () {
            return "study"
          }, c.prototype._getTelemetryAdditionalData = function () {
            var e = "";
            return this._metaInfo.pine && this._metaInfo.pine.version && this._metaInfo.shortId.indexOf("USER") >= 0 && (e = "_v" + this._metaInfo.pine.version), {
              symbol: this.series().actualSymbol(),
              resolution: this.series().interval(),
              study: this._metaInfo.shortId + e
            }
          }, c.prototype._sendTelemetryReport = function (e, t, i) {
            void 0 === i && (i = this._getTelemetryAdditionalData());
            var n = Object.assign(t, {
              additional: i
            });
            K.sendChartReport(e, n)
          }, c.prototype._sendTelemetryCounter = function (e, t) {
            this._sendTelemetryReport(e, {
              count: 1
            }, t)
          }, c.prototype._sendTelemetryTiming = function (e, t, i) {
            this._sendTelemetryReport(e, {
              value: t
            }, i)
          }, c.prototype.destroy = function () {
            var e, t, i, n, o, r;
            for (this._legendView && this._legendView.destroy(), this.parentSource().formatterChanged().unsubscribe(this, this._onSourceFormatterChanged), this._properties.listeners().unsubscribe(this, this.changeStyles), this._properties.visible.listeners().unsubscribe(this, this.visibleChanged), this._properties.visible.listeners().unsubscribe(this, this.processHibernate), e = 0; e < this._metaInfo.plots.length; e++) t = this._metaInfo.plots[e].id, null != (i = this.properties().styles[t]) && null != i.visible && i.visible.listeners().unsubscribe(this, this.processHibernate);
            for (n in this._metaInfo.graphics)
              for (o in this._metaInfo.graphics[n])(r = this._properties.graphics[n][o]).visible && r.visible.listeners().unsubscribe(this, this.processHibernate);
            this._properties.precision.listeners().unsubscribe(this, this._precisionChanged), this._showStudyArgumentsProperty.listeners().unsubscribe(this, this.invalidateTitleCache), this._properties.description.listeners().unsubscribe(this, this.invalidateTitleCache), this._properties.shortDescription && this._properties.shortDescription.listeners().unsubscribe(this, this.invalidateTitleCache), this._model.mainSeries().dataEvents().symbolResolved().unsubscribe(this, this._recreateFormatter), this._properties.showInDataWindow.listeners().unsubscribe(this._model, this._model.fullUpdate),
              this.hasBarColorer() && this._properties.visible.listeners().unsubscribe(this._model.mainSeries(), this._model.mainSeries().invalidateBarStylesCache)
          }, c.prototype.desiredPriceScalePosition = function () {
            return this.metaInfo().isTVScriptStub ? "overlay" : this.metaInfo().linkedToSeries ? "as-series" : void 0 === this.metaInfo().priceScale ? null : ["right", "left", "overlay"][this.metaInfo().priceScale]
          }, c.prototype.guiPlotName = function (e) {
            var t = this.properties().styles;
            return t && t[e] && t[e].title ? t[e].title.value() : this.title()
          }, c.prototype.defaultPlotIdForAlert = function () {
            return this._metaInfo.plots.length ? this._metaInfo.plots[0].id : null
          }, c.prototype.formatterChanged = function () {
            return this._formatterChanged
          }, e.exports = {
            Study: c,
            prepareStudyProperties: function (e, n, o, r, s) {
              return function (e, n, o, r, s, a) {
                var u, h, p, f, _ = function (e, n, o, r) {
                    var s, a, c, u, h, p, f, _ = i("K4L1");
                    if (pe.versionOf(e) < 1) throw new Error("This function cannot work with metainfo of the old format version. Required format version >= 1");
                    return l(s = TradingView.clone(defaults("study")), e), a = pe.getStudyPropertyRootName(e), c = TradingView.clone(defaults(a, r)), e.isTVScript && e.TVScriptSourceCode !== c.TVScriptSourceCode && (c = TradingView.clone(TradingView.factoryDefaults(a, r))), TradingView.merge(s, c), n && (d(!(n instanceof t), "propsState should not be an instance of Property"), TradingView.merge(s, n)), u = TradingView.clone(e), h = {}, _.mergeInputsObjPart(h, u.defaults.inputs), _.mergeInputsObjPart(h, s.inputs), s.inputs = h, delete u.inputs, delete u.defaults.inputs, p = {}, TradingView.merge(p, u.defaults), TradingView.merge(p, TradingView.factoryDefaults("study_" + u.id)), TradingView.merge(p, s), TradingView.merge(p, u), delete p.defaults, s = p, null !== o && (f = o.model().studiesColorRotatorFactory().getColorRotator(e), "Overlay@tv-basicstudies" === e.id ? s.lineStyle.color = f.getColor(s.lineStyle.color, e) : TradingView.merge(s, function (e, t) {
                      var i, n;
                      for (i in e.styles)(n = e.styles[i].color) && (e.styles[i].color = t.getColor(n));
                      return e
                    }(s, f))), n && TradingView.merge(s.styles, n.styles), s
                  }(e, n, o, r),
                  m = pe.getSourceInputIds(e);
                for (m.length > 0 && (u = m[0], a instanceof c ? _.inputs[u] = "{pid}$0" : void 0 !== _.inputs[u] && -1 !== _.inputs[u].indexOf("$") && (_.inputs[u] = "close")), (h = new oe(s, _, !0)).addExclusion("visible"), h.addExclusion("precision"), h.addExclusion("minTick"), p = 0; p < e.inputs.length; ++p)(f = e.inputs[p]).isHidden && (h.addExclusion("inputs." + p.toString()), h.addExclusion("inputs." + f.id));
                return h
              }(e, n, o, r, pe.getStudyPropertyRootName(e), s)
            },
            prepareStudyPropertiesForLoadChart: function (e, t, i, n, o, r) {
              return function (e, t, i, n, o, r, s) {
                var l, c, u, h = a(e, t, i, 0, o),
                  d = new oe(r, h, !0);
                for (d.addExclusion("visible"), d.addExclusion("precision"), d.addExclusion("minTick"), l = t || e, c = 0; c < l.inputs.length; ++c)(u = l.inputs[c]).isHidden && (d.addExclusion("inputs." + c.toString()), d.addExclusion("inputs." + u.id));
                return d
              }(e, t, i, 0, o, pe.getStudyPropertyRootName(e))
            },
            prepareStudyPropsStateForLoadChart: a
          }
      }).call(this, i("tc+8"), i("aIyQ"), i("Kxc7"), i("Qb4w").PriceRange)
    },
    GhVi: function (e, t, i) {
      "use strict";
      (function (t) {
        function i() {
          this._marksByIndex = {}, this._marksBySpan = [], this.changed = new t
        }
        i.prototype.reset = function () {
          this._marksByIndex = {}, this._marksBySpan = [], delete this.minIndex, delete this.maxIndex, delete this._cache, this.changed.fire()
        }, i.prototype.minIndex = void 0, i.prototype.maxIndex = void 0, i.prototype.merge = function (e) {
          var t, i, n, o, r, s = this._marksBySpan,
            a = {};
          for (t = 0; t < e.length; t++) {
            if (n = (i = e[t]).index, o = i.span, r = this._marksByIndex[i.index]) {
              if (r.index === i.index && r.span === i.span) {
                r.time = i.time;
                continue
              }
              this._removeTickmark(r)
            }
            this._marksByIndex[n] = i, this.minIndex <= n || (this.minIndex = n), this.maxIndex >= n || (this.maxIndex = n), s[o] || (s[o] = []), s[o].push(i), a[o] = !0
          }
          for (o = s.length; o--;) s[o] && (s[o].length || delete s[o], a[o] && s[o].sort(this._sortByIndexAsc));
          delete this._cache, this.changed.fire()
        }, i.prototype._removeTickmark = function (e) {
          var t, i, n = e.index;
          this._marksByIndex[n] === e && (delete this._marksByIndex[n], n <= this.minIndex && this.minIndex++, n >= this.maxIndex && this.maxIndex--, this.maxIndex < this.minIndex && (delete this.minIndex, delete this.maxIndex), -1 !== (i = (t = this._marksBySpan[e.span]).indexOf(e)) && t.splice(i, 1))
        }, i.prototype._sortByIndexAsc = function (e, t) {
          return e.index - t.index
        }, i.prototype.removeTail = function (e) {
          var t, i = {};
          for (t in this.maxIndex = 0, this._marksByIndex) this._marksByIndex[t].time < e && (i[t] = this._marksByIndex[t], this.maxIndex = Math.max(this.maxIndex, t));
          this._marksByIndex = i
        }, i.prototype.addTail = function (e) {
          for (var t = 0; t < e.length; t++) e[t].index = this.maxIndex + t + 1;
          this.merge(e)
        }, i.prototype.indexToTime = function (e) {
          var t = this._marksByIndex[e];
          return t ? new Date(1e3 * t.time) : null
        }, i.prototype.density = function () {
          var e = this.maxIndex - this.minIndex;
          if (0 !== e) return 1e3 * (this._marksByIndex[this.maxIndex].time - this._marksByIndex[this.minIndex].time) / e
        }, i.prototype.estimateLeft = function (e) {
          var t = this.density();
          if (t) return (1e3 * this._marksByIndex[this.minIndex].time - e) / t
        }, i.prototype.nearestIndex = function (e) {
          for (var t, i = this.minIndex, n = this.maxIndex; n - i > 2;) {
            if (1e3 * this._marksByIndex[i].time === e) return i;
            if (1e3 * this._marksByIndex[n].time === e) return n;
            t = Math.round((i + n) / 2), 1e3 * this._marksByIndex[t].time > e ? n = t : i = t
          }
          return i
        }, i.prototype.build = function (e, t) {
          var i, n, o, r, s, a, l, c, u, h, d, p, f, _, m = Math.ceil(t / e);
          if (this._maxbar === m && this._cache) return this._cache;
          for (this._maxbar = m, i = [], n = this._marksBySpan.length; n--;)
            if (this._marksBySpan[n]) {
              for (o = i, i = [], r = o.length, s = 0, l = (a = this._marksBySpan[n]).length, c = 1 / 0, u = -1 / 0, h = 0; h < l; h++) {
                for (p = (d = a[h]).index; s < r;) {
                  if (!((_ = (f = o[s]).index) < p)) {
                    c = _;
                    break
                  }
                  s++, i.push(f), u = _, c = 1 / 0
                }
                c - p >= m && p - u >= m && (i.push(d), u = p)
              }
              for (; s < r; s++) i.push(o[s])
            } return this._cache = i, this._cache
        }, i.prototype.state = function () {
          var e, t = [];
          for (e = this._marksBySpan.length; e--;) this._marksBySpan[e] && (t = t.concat(this._marksBySpan[e]));
          return {
            marks: t = t.map(function (e) {
              return [e.span, e.time, e.index]
            }),
            version: 2
          }
        }, i.prototype.restoreState = function (e) {
          if (this._marksByIndex = {}, this._marksBySpan = [], delete this.maxIndex, delete this.minIndex, e && e.marks && e.marks.length)
            if (2 === e.version) {
              var t = e.marks.map(function (e) {
                return {
                  span: e[0],
                  time: e[1],
                  index: e[2]
                }
              });
              this.merge(t)
            } else this.merge(e.marks)
        }, e.exports = i
      }).call(this, i("aIyQ"))
    },
    GmZZ: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "LineToolVertLineTimeAxisView", function () {
        return s
      }), n = i("mrSG"), o = i("cgFQ"), r = i("sWfm"), s = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._source = t, n._model = i, n._invalidated = !0, n._renderer = new r.TimeAxisViewRenderer, n
        }
        return n.__extends(t, e), t.prototype.update = function () {
          this._invalidated = !0
        }, t.prototype.updateImpl = function () {
          var e, t;
          this._model.timeScale().isEmpty() || 0 !== this._source.points().length && (this._text = "", this._background = this._source.properties().linecolor.value(), e = this._source.points()[0].index, this._coordinate = this._model.timeScale().indexToCoordinate(e), (t = this._model.timeScale().indexToUserTime(e)) && (this._text = this._model.dateTimeFormatter().format(t)), this._invalidated = !1)
        }, t.prototype.renderer = function () {
          return this._invalidated && this.updateImpl(), this._renderer.setData({
            width: this._model.timeScale().width(),
            text: this._text,
            coordinate: this._coordinate,
            color: this.color(),
            background: this._background,
            visible: !0
          }), this._renderer
        }, t
      }(o.TimeAxisView)
    },
    Gvuy: function (e, t, i) {
      "use strict";

      function n(e) {
        return new Promise(function (t) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(3), i.e("create-dialog")]).then(function (n) {
            var o = i("YDhE").createDialog;
            t(o(r.__assign({}, a, e, {
              type: "modal"
            })))
          }.bind(null, i)).catch(void 0)
        })
      }

      function o(e) {
        n(e).then(function (e) {
          return e.open()
        })
      }
      var r, s, a;
      i.r(t), i.d(t, "createErrorDialog", function () {
        return n
      }), i.d(t, "showErrorDialog", function () {
        return o
      }), r = i("mrSG"), i("YFKU"), s = i("Q1r3"), a = {
        addClass: s.errorDialog,
        destroyOnClose: !0,
        width: 500,
        dataset: {
          "dialog-type": "error-dialog"
        }
      }
    },
    HEU2: function (e, t, i) {
      "use strict";

      function n(e) {
        function t() {
          return r || (r = new window.evercookie({
            domain: "battle" === n || "staging" === n ? ".tradingview.com" : location.hostname,
            lso: !1
          })), r
        }

        function i() {
          return new Promise(function (e, i) {
            var n;
            new Promise(function (e) {
              t().get(o, function (t) {
                e(t)
              })
            }).then(function (e) {
              return n = e,
                function (e) {
                  return new Promise(function (t, i) {
                    var n = new FormData;
                    e && n.append("local_ecuid", e), Object(c.fetch)("/accounts/get-ecuid/", {
                      body: n,
                      credentials: "include",
                      method: "POST"
                    }).then(function (e) {
                      if (e.ok) return e.json().catch(function (e) {
                        h.logWarn("Error in reponse.json() of /accounts/get-ecuid/. User: " + window.user.username + " (" + window.user.id + ")\nActual error: " + e)
                      });
                      throw new Error("Unable to get remote ecuids. Response was not OK")
                    }).then(function (e) {
                      t(e)
                    }).catch(function (e) {
                      i(e)
                    })
                  })
                }(e)
            }).then(function (t) {
              if (void 0 === t) throw new Error("getRemoteEcUids() returned no response. User: " + window.user.username + " (" + window.user.id + ")");
              e({
                isLocalEcUidOld: t.is_local_ecuid_old,
                localEcUid: n,
                oldRemoteEcUid: t.ecuid_old,
                remoteEcUids: t.ecuids
              })
            }).catch(function (e) {
              i(e)
            })
          })
        }
        var n, o, r;
        TradingView.onWidget && TradingView.onWidget() || !window.user || (n = Object(a.environment)(), o = "tv_ecuid", "battle" !== n && (o += "_" + n), e.subscribe(null, function (e) {
          if (!e && window.is_authenticated && !window.user.is_staff && !window.user.is_superuser && l.TVLocalStorage.getItem("_tv_ec_ignore_username") !== window.user.username) {
            var n = window.user.id;
            i().catch(function (e) {
              h.logWarn("Error thrown inside getEcUids(). Leave evercookie data untouched. User: " + window.user.username + " (" + window.user.id + ")\nActual error: " + e)
            }).then(function (e) {
              var i, r, a, l, u;
              void 0 !== e ? (i = e.localEcUid, r = e.oldRemoteEcUid, a = e.remoteEcUids, l = e.isLocalEcUidOld, i && r !== i && !l && d.test(i) || (i = Object(s.guid)(), t().set(o, i)), a && 0 !== a.length || n !== window.user.id ? -1 === a.indexOf(i) && n === window.user.id && ((u = new FormData).append("new_ecuid", i), Object(c.fetch)("/accounts/ch-ecuid/", {
                body: u,
                credentials: "include",
                method: "POST"
              }).then(function (e) {
                if (!e.ok) throw new Error("Unable to change remote ecuids. Response was not OK")
              })) : ((u = new FormData).append("first_ecuid", i), Object(c.fetch)("/accounts/set-ecuid/", {
                body: u,
                credentials: "include",
                method: "POST"
              }).then(function (e) {
                if (e.ok) return e.json().catch(function (e) {
                  h.logWarn("Error in reponse.json() of /accounts/set-ecuid/. User: " + window.user.username + " (" + window.user.id + ")\nActual error: " + e)
                });
                throw new Error("Unable to set remote ecuids. Response was not OK")
              }).then(function (e) {
                n === window.user.id && e && e.is_suspicious && (window.user.is_suspicious = !0)
              }))) : h.logWarn("getEcUids() returned no data. Leave evercookie data untouched. User: " + window.user.username + " (" + window.user.id + ")")
            }).catch(function (e) {
              h.logError(e.message + " User: " + window.user.username + " (" + window.user.id + ")")
            })
          }
        }))
      }
      var o, r, s, a, l, c, u, h, d;
      i.r(t), i.d(t, "checkEvercookie", function () {
        return n
      }), o = i("bSeV"), r = i("PvO/"), s = i("0waE"), a = i("Wt0y"), l = i("VVxS"), c = i("BHQF"), u = i("uOxu"), h = Object(u.getLogger)("Common.Evercookie"), d = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i
    },
    HGup: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "UnmergeDownUndoCommand", function () {
          return s
        }), i.d(t, "UnmergeUpUndoCommand", function () {
          return a
        }), i.d(t, "UnmergeToNewBottomPane", function () {
          return l
        }), n = i("mrSG"), o = i("Eyy1"), r = function (e) {
          function t(t, i, n) {
            return e.call(this, t, i, n) || this
          }
          return n.__extends(t, e), t.prototype.redo = function () {
            var e, t, i = this,
              n = Object(o.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),
              r = this._chartModel.children(n, !0);
            r.forEach(function (e) {
              return i._chartModel.detachSource(e)
            }), this._chartModel.detachSource(n), e = this._chartModel.createPane(this.targetPaneIndex()), t = e.findSuitableScale(n), e.addDataSource(n, t, !1), r.forEach(function (i) {
              return e.addDataSource(i, t, !1)
            }), this._chartModel.fullUpdate()
          }, t.prototype.undo = function () {
            var e, t, i, n = this,
              r = Object(o.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),
              s = this._chartModel.children(r, !0);
            s.forEach(function (e) {
              return n._chartModel.detachSource(e)
            }), e = this._chartModel.detachSource(r), Object(o.assert)(e, "Undo of detaching must remove pane"), t = this._chartModel.panes()[this._initialPaneIndex], null === (i = t.getPriceScaleById(this._initialPriceScaleId)) && (i = t.createPriceScaleAtPosition(this._initialPriceScalePosition, this._initialPriceScaleIndex)), t.addDataSource(r, i, !0), s.forEach(function (e) {
              return t.addDataSource(e, i, !1)
            }), this._chartModel.fullUpdate()
          }, t
        }(i("3u3j").a),
        s = function (e) {
          function t(t, i, n) {
            return e.call(this, t, i, n) || this
          }
          return n.__extends(t, e), t.prototype.targetPaneIndex = function () {
            return this._initialPaneIndex + 1
          }, t
        }(r), a = function (e) {
          function t(t, i, n) {
            return e.call(this, t, i, n) || this
          }
          return n.__extends(t, e), t.prototype.targetPaneIndex = function () {
            return this._initialPaneIndex
          }, t
        }(r), l = function (e) {
          function t(t, i, n) {
            return e.call(this, t, i, n) || this
          }
          return n.__extends(t, e), t.prototype.targetPaneIndex = function () {
            return this._chartModel.panes().length
          }, t
        }(r)
    },
    HL4j: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "PriceLineAxisRenderer", function () {
        return s
      }), n = i("Eyy1"), o = i("jFln"), r = i("8Uy/"), s = function () {
        function e(e, t) {
          this.setData(e, t)
        }
        return e.prototype.setData = function (e, t) {
          this._data = e, this._commonData = t
        }, e.prototype.draw = function (e, t, i, s, a) {
          if (this._data.visible) {
            var l = this._commonData.coordinate;
            void 0 !== this._commonData.fixedCoordinate && (l = this._commonData.fixedCoordinate), e.lineWidth = Object(n.ensureDefined)(this._data.linewidth), e.lineCap = "square", Object(o.setLineStyle)(e, void 0 === this._data.linestyle ? r.LINESTYLE_DOTTED : this._data.linestyle), e.strokeStyle = this._commonData.color, e.beginPath(), e.moveTo(0, l), e.lineTo(s, l), e.stroke()
          }
        }, e.prototype.height = function (e, t) {
          return 0
        }, e
      }()
    },
    HLXm: function (e, t, i) {
      "use strict";

      function n(e) {
        "LineToolGannComplex" !== e.type || void 0 !== e.version && 1 !== e.version || (e.type = "LineToolGannFixed")
      }
      i.r(t), i.d(t, "migrateState", function () {
        return n
      })
    },
    "HV/F": function (e, t, i) {
      "use strict";

      function n(e) {
        return new Promise(function (t, i) {
          e.subscribe(null, t, !0)
        })
      }
      i.r(t), i.d(t, "delegateToPromise", function () {
        return n
      })
    },
    HWna: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = window.ChartApiInstance;
        window.is_authenticated && (t.disconnect(), e && t.authTokenManager().set(""), setTimeout(function () {
          return t.connect()
        }, 500))
      }
      var o;
      i.r(t), i.d(t, "reconnectChartApi", function () {
        return n
      }), o = i("dJ3D")
    },
    Hr11: function (e, t, i) {
      "use strict";

      function n(e, t) {
        return e <= t
      }

      function o(e, t) {
        return e >= t
      }

      function r(e, t, i) {
        return Math.min(Math.max(e, t), i)
      }

      function s(e) {
        return e < 0 ? -1 : e > 0 ? 1 : 0
      }

      function a(e) {
        if (e < 0) return _.logDebug("MathEx.isBaseDecimal: argument less zero"), !1;
        for (var t = e; t > 1; t /= 10)
          if (t % 10 != 0) return !1;
        return !0
      }

      function l(e, t, i) {
        return t - e <= i
      }

      function c(e, t, i) {
        return Math.abs(e - t) < i
      }

      function u(e) {
        return e <= 0 ? (_.logDebug("MathEx.log10: argument less or equal zero"), NaN) : Math.log(e) / Math.log(10)
      }

      function h(e, t) {
        return e < t ? -1 : e > t ? 1 : 0
      }

      function d(e, t) {
        var i, n;
        if (void 0 === t && (t = h), e.length < 1) throw Error("array is empty");
        for (i = e[0], n = 0; n < e.length; ++n) t(e[n], i) < 0 && (i = e[n]);
        return i
      }

      function p(e, t) {
        var i, n;
        if (void 0 === t && (t = h), e.length < 1) throw Error("array is empty");
        for (i = e[0], n = 0; n < e.length; ++n) t(e[n], i) > 0 && (i = e[n]);
        return i
      }
      var f, _;
      i.r(t), i.d(t, "lessThan", function () {
          return n
        }), i.d(t, "greaterThan", function () {
          return o
        }), i.d(t, "clamp", function () {
          return r
        }), i.d(t, "sign", function () {
          return s
        }), i.d(t, "isBaseDecimal", function () {
          return a
        }), i.d(t, "greaterOrEqual", function () {
          return l
        }), i.d(t, "equal", function () {
          return c
        }), i.d(t, "log10", function () {
          return u
        }),
        i.d(t, "defComparator", function () {
          return h
        }), i.d(t, "min", function () {
          return d
        }), i.d(t, "max", function () {
          return p
        }), f = i("uOxu"), _ = Object(f.getLogger)("Common.MathEx")
    },
    HvwJ: function (e, t, i) {
      "use strict";

      function n(e) {
        this._invalidationLevel = e || n.UPDATE_CURSOR_ONLY, this._invalidatedPanes = {}
      }
      n.UPDATE_CURSOR_ONLY = 1, n.LIGHT_UPDATE = 2, n.FULL_UPDATE = 3, n.prototype.invalidatePane = function (e, t) {
        this._invalidatedPanes[e] ? this._invalidatedPanes[e] = Math.max(this._invalidatedPanes[e], t) : this._invalidatedPanes[e] = t
      }, n.prototype.invalidateAll = function (e) {
        this._invalidationLevel = Math.max(this._invalidationLevel, e)
      }, n.prototype.fullInvalidation = function () {
        return this._invalidationLevel
      }, n.prototype.invalidateForPane = function (e) {
        return this._invalidatedPanes[e] ? Math.max(this._invalidatedPanes[e], this._invalidationLevel) : this._invalidationLevel
      }, n.prototype.merge = function (e) {
        for (var t in this.force = this.force || e.force, this._invalidationLevel = Math.max(this._invalidationLevel, e._invalidationLevel), e._invalidatedPanes) this._invalidatedPanes[t] ? this._invalidatedPanes[t] = Math.max(this._invalidatedPanes[t], e._invalidatedPanes[t]) : this._invalidatedPanes[t] = e._invalidatedPanes[t]
      }, n.prototype.exclude = function (e) {
        for (var t in this._invalidationLevel <= e && (this._invalidationLevel = 0), this._invalidatedPanes) this._invalidatedPanes[t] <= e && (this._invalidatedPanes[t] = 0)
      }, e.exports = n
    },
    HwbS: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e) {
          if (this._freeProductIds = ["tv-scripting", "tv-basicstudies", "tv-prostudies", "Script$USER", "Script$EDGR", "ESD$TV"], this.packagesUpdated = new t, !e) return this._products = this._discounts = {}, void(this._offers = this._order = this._devIds = []);
          this._products = {}, this._discounts = {}, this._offers = e.offers, this._devIds = e.devIds, this._order = [], this._invalidShopConf = !0, loginStateChange.subscribe(this, this.onLoginStateChange)
        }
        var o = i("BHQF").fetch,
          r = i("upNJ").visitPaymentPage;
        i("pfXf"), i("NhhI"), n.prototype.PRODUCT_TYPES = {
            pro_plan: 1,
            study_package: 2,
            news_feed: 3,
            exchange: 4,
            connection: 6
          }, n.prototype.MARKET_DESCRIPTION_COPY = $.t("These trading products are integrated in TradingView thanks to our Partner Program for Developers. These are independent, unaffiliated studies, which are not part of TradingView subscriptions &ndash; these are separate tools that you buy if you want. Description, algorithm, support and prices are all determined by the author."), n.prototype.updateShopConf = function (e) {
            return this._shopConfPromise ? this._shopConfPromise : (this._shopConfPromise = o("/market/shopconf/", {
              credentials: "include"
            }).then(function (e) {
              return e.json()
            }).then(function (t) {
              this._products = t.all_products && JSON.parse(t.all_products) || {}, this._discounts = t.discounts && JSON.parse(t.discounts) || {}, this._offers = t.offers && JSON.parse(t.offers) || [], this._order = t.order && JSON.parse(t.order) || [], this._invalidShopConf = !1, delete this._shopConfPromise, e || this.packagesUpdated.fire()
            }.bind(this)).catch(function () {
              delete this._shopConfPromise
            }.bind(this)), this._shopConfPromise)
          }, n.prototype.invalidateShopConf = function () {
            this._invalidShopConf = !0
          },
          n.prototype.isInvalidShopConf = function () {
            return !!this._invalidShopConf
          }, n.prototype.ensureValidShopConf = function () {
            return new Promise(function (e) {
              return this.runOrUpdate(e)
            }.bind(this))
          }, n.prototype.onLoginStateChange = function (e) {
            e || this.updateShopConf()
          }, n.prototype.runOrUpdate = function (e, t) {
            this.isInvalidShopConf() ? this.updateShopConf(t).then(e) : e()
          }, n.prototype.getIDCExchanges = function (e) {
            var t = this._products,
              i = window.initData;
            if (i)
              if (e) {
                if (i.idc_delay_exchanges_list) return window.initData.idc_delay_exchanges_list
              } else if (i.idc_exchanges_list) return window.initData.idc_exchanges_list;
            return Object.keys(t).filter(function (i) {
              return e ? t[i].idc_service_codes_delay : t[i].idc_service_codes
            }).map(function (e) {
              return t[e].exchange
            })
          }, n.prototype.getProduct = function (e) {
            var t, i;
            return e in this._products ? this._products[e] : this.isDiscountProductId(e) ? (t = this._discounts[e], i = Object.assign({
              discount_text_id: e
            }, this._products[t.product]), t.cost && (i.cost = t.cost), t.cost_annual && (i.cost_annual = t.cost_annual), t.cost_biennial && (i.cost_biennial = t.cost_biennial), void 0 !== t.free_months && (i.free_months = t.free_months), void 0 !== t.upgrade_from_m && (i.upgrade_from_m = t.upgrade_from_m), void 0 !== t.fixed_cost && (i.fixed_cost = t.fixed_cost), i) : {}
          }, n.prototype.findProduct = function (e) {
            return new Promise(function (t) {
              var i = function () {
                t(this.getProduct(e))
              }.bind(this);
              if (!this.isInvalidShopConf()) return i();
              this.updateShopConf().then(i).catch(i)
            }.bind(this))
          }, n.prototype.isProductDefined = function (e) {
            return !(!e || !Object.keys(e).length)
          }, n.prototype.getDiscountProduct = function (e) {
            return this._discounts[e] || {}
          }, n.prototype.getProductId = function (e) {
            return e && (e.discount_text_id || e.text_id) || ""
          }, n.prototype.isDiscountProductId = function (e) {
            return e in this._discounts
          }, n.prototype.isExchange = function (e) {
            return e.type === this.PRODUCT_TYPES.exchange
          }, n.prototype.getActiveExchanges = function () {
            return this.getProductsByType(this.PRODUCT_TYPES.exchange).filter(function (e) {
              return !e.disabled && Boolean(e.cost)
            })
          }, n.prototype.getExchange = function (e) {
            var t, i, n = this.getProductsByType(this.PRODUCT_TYPES.exchange);
            for (i = 0; i < n.length; i += 1)
              if ((t = n[i]).exchange === e || t.included_exchanges && t.included_exchanges.includes(e)) return t;
            return {}
          }, n.prototype.getCost = function (e, t) {
            var i, n, o = 0,
              r = "cost",
              s = "cost_annual",
              a = "cost_biennial";
            if (e.free_months && "y" === t && (o = e.free_months), i = 1, n = 1, "2y" === t) {
              if (e.fixed_cost || (n = 24), i = n - o, e[a]) return e[a] * i;
              if (e[s]) return e[s] * i
            } else if ("y" === t) {
              if (e.fixed_cost || (n = 12), i = n - o, e[s]) return e[s] * i
            } else "3m" === t && (e.fixed_cost || (n = 3), i = n);
            return e[r] ? e[r] * i : e.cost * i
          }, n.prototype.getProductsByType = function (e) {
            return Object.keys(this._products).filter(function (t) {
              return this._products[t].type === e
            }, this).map(function (e) {
              return this.getProduct(e)
            }, this).sort(function (e, t) {
              return t.order > e.order ? -1 : t.order < e.order ? 1 : 0
            })
          }, n.prototype.getProPlans = function (e) {
            return this.getProductsByType(this.PRODUCT_TYPES.pro_plan).filter(function (t) {
              return !e || !t.is_limited
            }).map(function (e) {
              return e.text_id
            })
          }, n.prototype.getStudies = function () {
            var e, t, i = {};
            for (e = 0; e < this._order.length; e++) t = this._order[e], this._products[t] && this._products[t].type === this.PRODUCT_TYPES.study_package && (i[t] = this._products[t]);
            return i
          }, n.prototype.getSuperProduct = function (e) {
            var t, i;
            for (t in this._products)
              if ((i = this._products[t]).subproduct_ids && i.subproduct_ids.indexOf(e) >= 0) return i.id
          }, n.prototype.getStudiesOrder = function () {
            return this._order.filter(function (e) {
              return this._products[e] && this._products[e].type === this.PRODUCT_TYPES.study_package
            }, this)
          }, n.prototype.hasPackage = function (e) {
            return this._offers.includes(e) || this._freeProductIds.includes(e)
          }, n.prototype.isPro = function () {
            return !!user.pro_plan
          }, n.prototype.isTrial = function () {
            return !!user.is_trial
          }, n.prototype.isPaidPro = function () {
            return this.isPro() && !this.isTrial()
          }, n.prototype.userHasRealtimeForExchange = function (e) {
            var t, i;
            if (e = (e || "").toLowerCase().replace("exchange-", ""), t = this.getExchange(e), !this.isProductDefined(t)) return !1;
            if (this._offers.includes("exchange-" + t.exchange)) return !0;
            if (t.included_exchanges)
              for (i = 0; i < t.included_exchanges.length; i += 1)
                if (this._offers.includes("exchange-" + t.included_exchanges[i])) return !0;
            return !1
          }, n.prototype._exHasRealtimeForType = function (e, t) {
            return !("stock" === t && !e.is_stocks) && (!("index" === t && !e.is_indices) && !("futures" === t && !e.is_futures))
          }, n.prototype.hasRealtimeForExchange = function (e, t) {
            var i, n, o, r, s, a = pro.getProductsByType(pro.PRODUCT_TYPES.exchange);
            for (e = (e || "").toLowerCase(), o = 0; o < a.length; o += 1)
              if ((i = a[o]).exchange === e || (i.included_exchanges || []).includes(e)) {
                if (i.disabled && !i.included_exchanges) return !1;
                if (!t) return !0;
                if (i.included_exchanges) {
                  for (s = 0; s < i.included_exchanges.length; s += 1)
                    if (n = this.getProduct("exchange-" + i.included_exchanges[s]), this.isProductDefined(n) && this._exHasRealtimeForType(n, t)) {
                      r = !0;
                      break
                    } if (!r) return !1
                } else if (!this._exHasRealtimeForType(i, t)) return !1;
                return !0
              } return !1
          }, n.prototype.upgradePackage = function (e, t) {
            r(e, t, {
              fixedCycle: "2y" === t
            })
          }, n.prototype.visitExchangesPage = function (e) {
            var t = "m",
              i = !0;
            user.is_trial || (t = user.pro_plan_billing_cycle || "y", i = !1), r("pro", t, {
              exchangesOnly: !0,
              newWindow: (e = e || {}).newWindow,
              paymentMethod: e.paymentMethod,
              fixedCycle: i
            })
          }, n.prototype.offerLogoSrc = function (e) {
            return e.has_logo ? "/static/images/indicators/logos/" + e.text_id + ".png" : null
          }, n.prototype.offers = function () {
            return this._offers
          }, n.prototype.hasActivePackages = function () {
            return this._offers.some(function (e) {
              return !(["tv-prostudies", "tv-volumebyprice"].includes(e) || e.endsWith("_dly"))
            })
          }, n.prototype.isSupportAvailable = function () {
            return this.isPaidPro() || this.isTrial() && this.hasActivePackages()
          }, n.prototype.discounts = function () {
            return this._discounts
          }, n.prototype.devIds = function () {
            return this._devIds
          }, n.prototype.hash = function () {
            var e, t = this._offers.slice(0),
              i = this._devIds.slice(0);
            return t.sort(), i.sort(), e = {
              offers: t,
              devIds: i
            }, JSON.stringify(e)
          }, TradingView.Pro = n, e.exports = n
      }).call(this, i("aIyQ"))
    },
    HySD: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "ResizerDetacherState", function () {
        return a
      }), n = i("Eyy1"), o = i("hY0g"), r = i.n(o), s = i("P5fv"), a = function () {
        function e(e) {
          var t = this;
          this._alive = new r.a, this._body = new r.a, this._width = new r.a, this._height = new r.a, this._fullscreen = new r.a, this._detachable = new r.a, this._fullscreenable = new r.a, this._visible = new r.a, this._availWidth = new r.a, this._availHeight = new r.a, this._owner = new r.a, this._ownersStack = [], this.owner = this._owner.readonly(), this._bridge = {
            alive: this._alive.readonly(),
            body: this._body.readonly(),
            width: this._width.readonly(),
            height: this._height.readonly(),
            fullscreen: this._fullscreen.readonly(),
            detachable: this._detachable.readonly(),
            fullscreenable: this._fullscreenable.readonly(),
            visible: this._visible.readonly(),
            availWidth: this._availWidth.readonly(),
            availHeight: this._availHeight.readonly(),
            remove: function () {
              var e = t._owner.value();
              e && e.remove && e.remove()
            },
            negotiateWidth: function (e) {
              var i = t._owner.value();
              i && i.negotiateWidth && i.negotiateWidth(e)
            },
            negotiateHeight: function (e) {
              var i = t._owner.value();
              i && i.negotiateHeight && i.negotiateHeight(e)
            },
            requestFullscreen: function () {
              var e = t._owner.value();
              e && e.requestFullscreen && e.requestFullscreen()
            },
            exitFullscreen: function () {
              var e = t._owner.value();
              e && e.exitFullscreen && e.exitFullscreen()
            },
            detach: function (e) {
              var i = t._owner.value();
              i && i.detach && i.detach(e)
            },
            attach: function () {
              var e = t._owner.value();
              e && e.attach && e.attach()
            }
          }, e && this.pushOwner(e)
        }
        return e.prototype.bridge = function () {
          return this._bridge
        }, e.prototype.pushOwner = function (e) {
          var t, i, n, o;
          if (e.alive.value()) {
            for (t = 0, i = this._ownersStack; t < i.length; t++) n = i[t], this._unsubscribeOwner(n);
            o = {
              owner: e
            }, this._ownersStack.push(o), this._subscribeOwner(o)
          }
        }, e.prototype._subscribeOwner = function (e) {
          var t, i, n = this,
            o = e.owner;
          e.deathWatcher || (this._alive.setValue(!0), e.deathWatcher = o.alive.spawn(), e.deathWatcher.subscribe(function (t) {
            t || n._deadHandler(e)
          })), this._owner.setValue(o), e.subscriptions || (t = e.subscriptions = [], this._visible.setValue(!1), (i = function (e, i) {
            if (e) {
              var n = e.spawn();
              t.push(n), n.subscribe(function (e) {
                i.setValue(e)
              }, {
                callWithLast: !0
              })
            } else i.deleteValue()
          })(o.body, this._body), i(o.width, this._width), i(o.height, this._height), i(o.fullscreen, this._fullscreen), i(o.detachable, this._detachable), i(o.fullscreenable, this._fullscreenable), i(o.availWidth, this._availWidth), i(o.availHeight, this._availHeight), i(o.visible, this._visible))
        }, e.prototype._unsubscribeOwner = function (e, t) {
          var i, n;
          if (e.subscriptions) {
            for (i = 0, n = e.subscriptions; i < n.length; i++) n[i].unsubscribe();
            e.subscriptions = null
          }
          t && e.deathWatcher && (e.deathWatcher.unsubscribe(), e.deathWatcher = null)
        }, e.prototype._deadHandler = function (e) {
          var t, i = this._ownersStack.indexOf(e);
          for (Object(n.assert)(-1 !== i, "sanitized owner should be in stack"), t = this._ownersStack.length - 1; t >= i; t--) this._unsubscribeOwner(this._ownersStack[t], !0);
          this._ownersStack.length = i, i > 0 ? this._subscribeOwner(this._ownersStack[i - 1]) : (this._alive.setValue(!1), this._owner.deleteValue())
        }, e
      }()
    },
    I4UZ: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "HeaderToolbarBootloader", function () {
        return a
      }), n = i("mrSG"), o = i("yMne"), r = i("YuHv"), s = i("cZRT"), a = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._toolsBootloader = t,
            n._headerProps = i, n._headerProps.resizerBridge.negotiateHeight(o.HEADER_TOOLBAR_HEIGHT_EXPANDED), n._headerProps.resizerBridge.body.value()[0].appendChild(Object(r.a)(["border-right", "border-left"], ["bottom-left-radius", "bottom-right-radius"])), n
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          var e = this;
          return Promise.all([this._toolsBootloader.load(), this._loadHeaderToolbar()]).then(function (t) {
            var i = t[0];
            return new(0, t[1])(e._headerProps.resizerBridge.body.value()[0], n.__assign({}, e._headerProps, {
              tools: i
            }))
          })
        }, t.prototype._loadHeaderToolbar = function () {
          return Promise.all([i.e("vendors"), i.e(65), i.e(88), i.e(222), i.e(76), i.e("header-toolbar")]).then(i.bind(null, "KMbc")).then(function (e) {
            return e.HeaderToolbarRenderer
          })
        }, t
      }(s.a)
    },
    I5CP: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e, t, i, n) {
          this.reset(e, t, i, n)
        }
        var o = i("XlJ7").makeFont,
          r = i("u+0B").TextWidthCache,
          s = t.enabled("charting_library_debug_mode");
        n.prototype.maxCount = 200, n.prototype.reset = function (e, t, i, n) {
          this._textWidthCache = new r(this.maxCount), this._fontSize = e, this._color = n, this._font = o(e, t, i), this._keys = [], this._hash = {}
        }, n.prototype.paintTo = function (e, t, i, n, o) {
          var r = this.getLabelImage(e, t);
          "left" !== o && (i -= r.textWidth), n -= Math.floor(r.height / 2), e.drawImage(r.canvas, i, n)
        }, n.prototype.getLabelImage = function (e, t) {
          var i, n, o, r, a;
          return Object.prototype.hasOwnProperty.call(this._hash, t) ? i = this._hash[t] : (this._keys.length >= this.maxCount && (n = this._keys.shift(), delete this._hash[n]), i = {
            text: t,
            textWidth: 0,
            width: 0,
            height: 0,
            canvas: document.createElement("canvas")
          }, o = Math.ceil(this._fontSize / 4.5), r = Math.round(this._fontSize / 10), a = Math.ceil(this._textWidthCache.measureText(e, t)), i.textWidth = Math.round(Math.max(1, a)), i.width = Math.round(a + 2 * o), i.height = this._fontSize + 2 * o, 0 !== a ? (this._keys.push(i.text), this._hash[i.text] = i) : s && console.log('Canvas 2d context measureText return zero width for "' + t + '" text'), i.canvas.width = i.width, i.canvas.height = i.height, (e = i.canvas.getContext("2d")).font = this._font, e.fillStyle = this._color, e.fillText(t, 0, i.height - o - r)), i
        }, e.exports = n
      }).call(this, i("Kxc7"))
    },
    I9zs: function (e, t, i) {
      "use strict";

      function n(e, t, i, n) {
        var o, r;
        for (this.m_study = e, this.m_series = t, this.m_model = i, this._plotName = n, this.m_items = [], this._invalidated = !0, this._isMarkersEnabled = K.enabled("source_selection_markers"), o = this.m_study.metaInfo().plots, this._colorer = null, this._palette = null, this._paletterProps = null, this._plotIndex = 0, r = 0; r < o.length; r++) o[r].id === this._plotName && (this._plotIndex = r), this.m_study.isSelfColorerPlot(r) && o[r].target === this._plotName && (this._colorer = r, this._palette = this.m_study.metaInfo().palettes[o[r].palette], this._paletterProps = this.m_study.properties().palettes[o[r].palette])
      }

      function o(e, t, i, n) {
        var o, r;
        for (this._study = e, this._series = t, this._model = i, this._plotName = n, this._items = [], this._invalidated = !0, this._isMarkersEnabled = K.enabled("source_selection_markers"), o = this._study.metaInfo().plots, r = 0; r < o.length; r++) o[r].id === this._plotName && (this._plotIndex = r,
          d(this._study.isBgColorerPlot(r), "Plot '" + this._plotName + "' is not a background colorer!"))
      }

      function r(e, t, i, n) {
        var o, r;
        for (this.m_study = e, this.m_series = t, this.m_model = i, this.m_plotName = n, this.m_items = [], this.m_invalidated = !0, this._isMarkersEnabled = K.enabled("source_selection_markers"), this.m_selectionData = null, this.m_plotIndex = null, o = this.m_study.metaInfo().plots, r = 0; r < o.length; r++)
          if (o[r].id === this.m_plotName) {
            this.m_plotIndex = r;
            break
          } for (o = this.m_study.metaInfo().plots, this._colorer = null, this._textColorer = null, this._palette = null, this._textPalette = null, this._paletterProps = null, this._textPaletterProps = null, this._plotIndex = 0, r = 0; r < o.length; r++) o[r].id === this.m_plotName && (this._plotIndex = r), this.m_study.isSelfColorerPlot(r) && o[r].target === this.m_plotName && (this._colorer = r, this._palette = this.m_study.metaInfo().palettes[o[r].palette], this._paletterProps = this.m_study.properties().palettes[o[r].palette]), this.m_study.isTextColorerPlot(r) && o[r].target === this.m_plotName && (this._textColorer = r, this._textPalette = this.m_study.metaInfo().palettes[o[r].palette], this._textPaletterProps = this.m_study.properties().palettes[o[r].palette])
      }

      function s(e, t, i, n) {
        r.call(this, e, t, i, n)
      }

      function a(e, t, i, n) {
        s.call(this, e, t, i, n)
      }

      function l(e, t, i, n) {
        r.call(this, e, t, i, n), this._maxAbsValue = 0
      }

      function c(e, t, i, n) {
        var o, r;
        for (this.m_study = e, this.m_series = t, this.m_model = i, this.m_plotName = n, this.m_bars = [], this._invalidated = !0, this._isMarkersEnabled = K.enabled("source_selection_markers"), o = this.m_study.metaInfo().plots, this._colorer = null, this._palette = null, this._paletterProps = null, this._ohlcPlotIndexes = {}, r = 0; r < o.length; r++) o[r].target === this.m_plotName && (this.m_study.isOHLCOpenPlot(r) && (this._ohlcPlotIndexes[TradingView.OPEN_PLOT] = r), this.m_study.isOHLCHighPlot(r) && (this._ohlcPlotIndexes[TradingView.HIGH_PLOT] = r), this.m_study.isOHLCLowPlot(r) && (this._ohlcPlotIndexes[TradingView.LOW_PLOT] = r), this.m_study.isOHLCClosePlot(r) && (this._ohlcPlotIndexes[TradingView.CLOSE_PLOT] = r), this.m_study.isOHLCColorerPlot(r) && (this._colorer = r, this._palette = this.m_study.metaInfo().palettes[o[r].palette], this._paletterProps = this.m_study.properties().palettes[o[r].palette]))
      }

      function u(e, t, i, n) {
        c.call(this, e, t, i, n)
      }

      function h(e, t, i, n) {
        c.call(this, e, t, i, n)
      }
      var d = i("Eyy1").assert,
        p = i("aO4+").Point,
        f = i("eJTA"),
        _ = f.rgbToHsl,
        m = f.hslToRgb,
        g = f.rgbToHexString,
        y = f.parseRgb,
        v = f.parseRgba,
        S = i("VdBB").HitTestResult,
        b = i("1mZ4"),
        w = b.SelectionRenderer,
        P = b.SelectionRendererArrowsUpDown,
        T = i("VuJ3").PaneRendererBars,
        C = i("EKrn").PaneRendererHistogram,
        x = i("oUqy").PaneRendererColumns,
        E = i("gyZD").PaneRendererLine,
        I = i("u0yd").PaneRendererArea,
        A = i("sBR6").PaneRendererCandles,
        L = i("UxRM").PaneRendererCross,
        D = i("Qymm").PaneRendererCircles,
        k = i("6a0U").PaneRendererArrowsUpDownItem,
        O = i("6a0U").PaneRendererArrowsUpDown,
        M = i("toUb").PaneRendererUnicodeChar,
        R = i("VfPj").PaneRendererBackground,
        V = i("JUkB").PaneRendererStepLine,
        B = i("gBDZ"),
        N = i("Zy3/").CompositeRenderer,
        F = i("ga+R"),
        W = i("Hr11").clamp,
        U = i("Nu4p"),
        H = i("23IT"),
        j = H.LineStudyPlotStyle,
        z = H.PlotSymbolSize,
        Y = i("972a").MarkLocation,
        q = i("SXwY"),
        G = i("Tmoa"),
        X = i("k9/m").PlotRowSearchMode,
        K = i("Kxc7"),
        $ = i("Zp/P"),
        J = i("zDbI").CHART_FONT_FAMILY;
      i("+9ng"), i("mbg2"), i("yENF"), i("52kD"), i("DX9F"), i("TAAP"), i("lGXz"), i("+NSa"), i("DsMZ"), n.isIndexValid = function (e, t) {
        return null !== e && e >= 0 && e < t._length()
      }, n.prototype.items = function () {
        return this.m_items
      }, n.prototype.update = function () {
        this._invalidated = !0
      }, n.prototype._updateImpl = function () {
        var e, t, i, o, r, s, a, l, c, u, h, d, f, _, m, g, y, v, b, w, P, T, C, x, E, I;
        if (this._histogramBase = null, this.m_items = [], !(this.m_model.timeScale().isEmpty() || this.m_study.priceScale().isEmpty() || null === (e = this.m_model.timeScale().visibleBarsStrictRange()) || (t = this.m_series.nearestIndex(e.firstBar(), X.NearestRight), i = this.m_series.nearestIndex(e.lastBar(), X.NearestLeft), (o = this.m_study.offset(this._plotName)) > 0 ? (t -= o, i += o) : (t += o, i -= o), (r = this.m_study.getMinFirstBarIndexForPlot(this._plotName)) > i))) {
          if (t = Math.max(r, t), a = (s = this.m_study.properties().styles[this._plotName]).plottype.value(), l = [j.Line, j.Area, j.Circles, j.Cross].indexOf(a) >= 0, c = this.m_study.data(), u = this.m_study.firstValue(), l && c._length() > 0) {
            for (h = c._bsearch(t); n.isIndexValid(h, c) && void 0 === c._valueAt(h)[this._plotIndex + 1];) h -= 1;
            for (t = n.isIndexValid(h, c) ? c._indexAt(h) : t, d = c._bsearch(i); n.isIndexValid(d, c) && void 0 === c._valueAt(d)[this._plotIndex + 1];) d += 1;
            i = n.isIndexValid(d, c) ? c._indexAt(d) : i
          }
          if (f = c.range(t, i), _ = this.m_study.priceScale(), m = W(this._getTranspValue(), 0, 100), g = {}, y = function (e, t) {
              var i = e + "@" + t;
              return g[i] || (this._plotName && "vol" === this._plotName ? g[i] = G.generateColor(e, t) : g[i] = G.generateColor(e, t, !0)), g[i]
            }.bind(this), f.each(function (e, t) {
              var i, n, r, a, c, u, h, d, f;
              return e += o, e = Math.floor(e), i = (n = void 0 === (i = t[this._plotIndex + 1]) || null === i) ? NaN : i, (!l || !n) && (r = new p(e, i), a = void 0 !== t[this._colorer + 1] || this._palette && this._palette.addDefaultColor, this._colorer && a && (i = t[this._colorer + 1], r.style = {}, null != i ? (c = this._palette.valToIndex ? this._palette.valToIndex[i] : i, h = (u = this._paletterProps.colors[c]).color.value(), r.style.color = G.isHexColor(h) ? y(h, m) : h) : (h = s.color.value(), r.style.color = y(h, 100)), d = void 0 !== c ? u.width.value() : s.linewidth.value(), f = void 0 !== c ? u.style.value() : s.linestyle.value(), r.style.width = d, r.style.style = f), this.m_items.push(r), !1)
            }.bind(this)),
            _.pointsArrayToCoordinates(this.m_items, u), this.m_model.timeScale().indexesToCoordinates(this.m_items), s.histogramBase && (this._histogramBase = this.m_study.priceScale().priceToCoordinate(s.histogramBase.value(), u)), this.m_model.selection().isSelected(this.m_study))
            for (v = F(t, i), this._selectionData = {
                points: []
              }, this._selectionData.hittestResult = S.REGULAR, b = 0; b < v.length; b++) w = v[b], P = this.m_study.data().valueAt(w), w += o, null !== P && (T = P[this._plotIndex + 1], C = this.m_model.timeScale().indexToCoordinate(Math.floor(w)), x = this.m_study.priceScale().priceToCoordinate(T, u), this._selectionData.points.push(new p(C, x)));
          E = s, this._lineColor = G.generateColor(E.color.value(), m), this._lineWidth = E.linewidth.value(), I = E.color.value(), this._colorer && null != (T = this._paletterProps.colors[0]) && (I = T.color.value(), this._lineWidth = T.width.value(), this._lineColor = G.generateColor(T.color.value(), m)), this._color2 = G.generateColor(I, m), this._color1 = G.generateColor(n.addHueForColor(I), m)
        }
      }, n.addHueForColor = q(function (e) {
        var t = _(y(e)),
          i = t[0] + .05;
        return t[0] = i - Math.floor(i), g(m(t))
      }), n.prototype._getTranspValue = function () {
        var e = this.m_study.properties(),
          t = e.styles[this._plotName],
          i = 0,
          n = 0,
          o = this.m_study.metaInfo();
        return "Volume@tv-basicstudies" === o.id && o.version <= 46 && "transparency" in e ? (i = e.transparency.value(), i = isNumber(i) ? i : n) : (t.transparency && (i = t.transparency.value(), i = isNumber(i) ? i : n), i)
      }, n.prototype.renderer = function () {
        var e, t, i, n, o, r = this.m_study.properties().styles[this._plotName];
        if (r.visible.value() && this.m_study.priceScale()) {
          switch (this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).barSpacing = this.m_model.timeScale().barSpacing(), e.items = this.m_items, e.histogramBase = this._histogramBase ? this._histogramBase : this.m_study.priceScale().height(), e.lineIndex = 0, e.lineStyle = r.linestyle.value(), e.lineColor = this._lineColor, e.lineWidth = this._lineWidth, e.lineWidth = isNumber(e.lineWidth) ? e.lineWidth : 1, e.color1 = this._color1, e.color2 = this._color2, e.bottom = e.histogramBase, this._colorer || (e.simpleMode = !0), t = new N, i = !!r.joinPoints && r.joinPoints.value(), r.plottype.value()) {
            case j.Line:
            case j.LineWithBreaks:
              t.append(new E(e));
              break;
            case j.Area:
            case j.AreaWithBreaks:
              t.append(new I(e));
              break;
            case j.Histogram:
              t.append(new C(e));
              break;
            case j.Columns:
              t.append(new x(e));
              break;
            case j.Cross:
              t.append(new L(e)), i && ((n = TradingView.merge({}, e)).lineWidth = 1, n.forceLineWidth = !0, t.append(new E(n)));
              break;
            case j.Circles:
              t.append(new D(e)), i && ((n = TradingView.merge({}, e)).lineWidth = 1, n.ignorePaletteLineWidth = !0, t.append(new E(n)));
              break;
            case j.StepLine:
              (o = new V).setData(e), t.append(o);
              break;
            default:
              t.append(new E(e))
          }
          return this.m_model.selection().isSelected(this.m_study) && this._isMarkersEnabled && t.append(new w(this._selectionData)), t
        }
      }, o.prototype.items = function () {
        return this._items
      }, o.prototype.update = function () {
        this._invalidated = !0
      }, o.prototype._scalesReady = function () {
        var e = this._model.timeScale(),
          t = this._study.priceScale();
        return e && t && !e.isEmpty() && !t.isEmpty()
      }, o.prototype._getTranspValue = function () {
        var e = this._study.properties(),
          t = e.styles[this._plotName],
          i = 0,
          n = 40;
        return t.transparency && (i = t.transparency.value(), i = isNumber(i) ? i : n), i
      }, o.prototype._updateImpl = function () {
        var e, t, i, n, o, r, s, a, l, c;
        this._items = [], d(this._scalesReady(), "Scales must be ready!"), null !== (e = this._model.timeScale().visibleBarsStrictRange()) && (t = this._study.metaInfo().plots[this._plotIndex].palette, i = this._study.properties().palettes[t], n = i.colors, o = this._study.metaInfo().palettes[t], r = this._getTranspValue(), s = this._series.nearestIndex(e.firstBar(), X.NearestRight), a = this._series.nearestIndex(e.lastBar(), X.NearestLeft), (l = this._study.offset(this._plotName)) > 0 ? (s -= l, a += l) : (s += l, a -= l), (c = this._study.getMinFirstBarIndexForPlot(this._plotName)) > a || (s = Math.max(c, s), this._study.data().range(s, a).each(function (e, t) {
          var i, s, a, c;
          return e += l, i = t[this._plotIndex + 1], s = new p(Math.floor(e) - .5), a = isNumber(r) ? r : 50, a = Math.min(a, 100), a = Math.max(a, 0), null != i ? (c = o.valToIndex ? o.valToIndex[i] : i, s.color = G.generateColor(n[c].color.value(), a)) : s.color = null, this._items.push(s), !1
        }.bind(this)), this._model.timeScale().indexesToCoordinates(this._items)))
      }, o.prototype.renderer = function () {
        var e, t;
        if (this._study.properties().styles[this._plotName].visible && this._study.properties().styles[this._plotName].visible.value() && this._scalesReady()) return this._invalidated && (this._updateImpl(), this._invalidated = !1), e = {
          items: this._items,
          y: 0,
          h: this._study.priceScale().height(),
          w: Math.ceil(this._model.timeScale().barSpacing())
        }, (t = new N).append(new R(e)), t
      }, r.prototype.items = function () {
        return this.m_items
      }, r.prototype.update = function () {
        this.m_invalidated = !0
      }, r.prototype._scalesReady = function () {
        var e = this.m_model.timeScale(),
          t = this.m_study.priceScale();
        return e && t && !e.isEmpty() && !t.isEmpty()
      }, r.prototype._updateImpl = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v;
        this.m_items = [], this._scalesReady() && (e = this.m_model.timeScale(), t = this.m_study.priceScale(), null !== (i = e.visibleBarsStrictRange()) && (n = this.m_series.nearestIndex(i.firstBar(), X.NearestRight), o = this.m_series.nearestIndex(i.lastBar(), X.NearestLeft), (r = this.m_study.offset(this.m_plotName)) > 0 ? (n -= r, o += r) : (n += r, o -= r), (s = this.m_study.getMinFirstBarIndexForPlot(this.m_plotName)) > o || (n = Math.max(s, n), a = this.m_study.data(), l = this.m_study.firstValue(), c = a.range(n, o), u = this._getTranspValue(), h = F(n, o), d = this.m_model.selection().isSelected(this.m_study), this.m_selectionData = d ? {
          points: [],
          hittestResult: S.REGULAR,
          vertOffset: 0
        } : null, (f = (p = this.m_series.properties().style.value()) === TradingView.Series.STYLE_LINE ? "lineStyle" : p === TradingView.Series.STYLE_AREA ? "areaStyle" : null) ? (_ = this.m_series.properties()[f].priceSource.value(), m = _) : (_ = "high", m = "low"), g = this.m_study.priceScale().isInverted(), y = t.coordinateToPrice(t.height() * t.topMargin(), l), v = t.coordinateToPrice(t.height() * (1 - t.bottomMargin()), l), this._topCoord = g ? v : y, this._bottomCoord = g ? y : v, c.each(function (e, t) {
          var i, n, o, s, a, l, c, p = Math.floor(e + r),
            f = t[this.m_plotIndex + 1];
          return null !== f && void 0 !== f && (void 0 !== (i = this._createItem(p, f, _, m)) && null !== i ? (n = void 0 !== t[this._colorer + 1] || this._palette && this._palette.addDefaultColor,
            this._colorer && n && (f = t[this._colorer + 1], i.style = {}, null != f ? (s = this._palette.valToIndex ? this._palette.valToIndex[f] : f, o = this._paletterProps.colors[s].color.value(), i.style.color = G.generateColor(o, u)) : (o = this.m_study.properties().styles[this.m_plotName].color.value(), i.style.color = G.generateColor(o, 100)), a = u > 9 ? u - 10 : 0, i.style.borderColor = G.generateColor(o, a)), l = void 0 !== t[this._textColorer + 1] || this._textPalette && this._textPalette.addDefaultColor, this._textColorer && l && (f = t[this._textColorer + 1], i.style || (i.style = {}), null != f ? (s = this._textPalette.valToIndex ? this._textPalette.valToIndex[f] : f, c = this._textPaletterProps.colors[s].color.value(), i.style.textColor = G.generateColor(c, u)) : (c = this.m_study.properties().styles[this.m_plotName].textColor.value(), i.style.textColor = G.generateColor(c, 100))), d && -1 !== h.indexOf(e) && this.m_selectionData.points.push(i), this.m_items.push(i), !1) : void 0)
        }.bind(this)), this._convertItemsToCoordinates())))
      }, r.prototype._getSeriesVal = function (e, t) {
        var i;
        e = e || "close", i = null;
        try {
          i = this.m_series[e](t)
        } catch (e) {}
        return i
      }, r.prototype._getTranspValue = function () {
        var e, t = 0;
        return this.m_study.properties().transparency && (t = this.m_study.properties().transparency.value(), t = isNumber(t) ? t : 50), (e = this.m_study.properties().styles[this.m_plotName]).transparency && (t = e.transparency.value(), t = isNumber(t) ? t : 50), W(t, 0, 100)
      }, r.prototype._createItem = function (e, t, i, n) {
        var o, r, s, a = this.m_study.properties().styles[this.m_plotName].location.value();
        if (!t && a !== Y.Absolute) return null;
        switch (a) {
          case Y.AboveBar:
            if (void 0 === (o = this._getSeriesVal(i, e)) || null == o) return null;
            r = o;
            break;
          case Y.BelowBar:
            if (void 0 === (s = this._getSeriesVal(n, e)) || null == s) return null;
            r = s;
            break;
          case Y.Top:
            r = this._topCoord;
            break;
          case Y.Bottom:
            r = this._bottomCoord;
            break;
          case Y.Absolute:
            r = t;
            break;
          default:
            throw new Error("Bad value: " + a)
        }
        return new p(e, r)
      }, r.prototype._convertItemsToCoordinates = function () {
        var e = this.m_model.timeScale(),
          t = this.m_study.priceScale();
        e.indexesToCoordinates(this.m_items), t.pointsArrayToCoordinates(this.m_items, this.m_study.firstValue())
      }, r.prototype._calculateVerticalOffset = function (e, t) {
        var i = 0;
        switch (e) {
          case Y.AboveBar:
          case Y.Bottom:
            i = -t;
            break;
          case Y.BelowBar:
          case Y.Top:
            i = t
        }
        return this.m_study.priceScale().isInverted() && (i *= -1), i
      }, r.prototype._calculateShapeHeight = function (e, t) {
        var i = e;
        switch (t) {
          case z.Tiny:
            i = .3 * e;
            break;
          case z.Small:
            i = .6 * e;
            break;
          case z.Normal:
            i = e;
            break;
          case z.Large:
            i = 1.5 * e;
            break;
          case z.Huge:
            i = 2 * e
        }
        return i
      }, r.prototype.renderer = function () {
        var e, t, i, n, o, r, s, a, l, c;
        if (this.m_study.properties().styles[this.m_plotName].visible && this.m_study.properties().styles[this.m_plotName].visible.value() && this._scalesReady()) return e = this.m_model.timeScale(), this.m_invalidated && (this._updateImpl(), this.m_invalidated = !1), t = {}, i = this._getTranspValue(), n = e.barSpacing(), o = this._calculateShapeHeight(n), r = this.m_study.properties().styles[this.m_plotName].location.value(), s = this._calculateVerticalOffset(r, o + o / 2), t.barSpacing = n, t.items = this.m_items, t.color = G.generateColor(this.m_study.properties().styles[this.m_plotName].color.value(), i),
          t.height = o, t.vertOffset = s, a = this.m_study.properties().styles[this.m_plotName].plottype.value(), l = U.plotShapesData[a], c = new N, l && c.append(new TradingView[l.paneRendererClass](t)), this.m_model.selection().isSelected(this.m_study) && this._isMarkersEnabled && null !== this.m_selectionData && (this.m_selectionData.vertOffset = s, c.append(new w(this.m_selectionData))), c
      }, inherit(s, r), s.prototype.renderer = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v = this.m_study.properties().styles[this.m_plotName];
        if (v.visible && v.visible.value() && this._scalesReady()) return e = this.m_model.timeScale(), this.m_invalidated && (this._updateImpl(), this.m_invalidated = !1), t = {}, i = this._getTranspValue(), n = e.barSpacing(), v.size ? (r = v.size.value(), o = this._calculateShapeHeight(25, r)) : o = Math.round(n / 2), s = v.location.value(), a = G.generateColor(v.color.value(), i), l = i > 19 ? i - 10 : 0, c = this._calculateVerticalOffset(s, Math.round(1.5 * o)), t.barSpacing = n, t.items = this.items(), t.color = a, t.borderColor = G.generateColor(v.color.value(), l), t.height = o, t.vertOffset = c, u = v.plottype.value(), h = U.plotShapesData[u], d = new N, void 0 !== (p = v.text ? v.text.value() : void 0) && "" !== p.trim() && (f = p.trim().replace(/\\n/gm, "\n"), f = TradingView.cleanButAmpersand(f, !0), _ = !1, m = !1, g = 12, t.textCache = new B(f, _, m, J, g), y = v.textColor ? v.textColor.value() : void 0, t.textColor = y ? G.generateColor(y, i) : a), null != h && d.append(new TradingView[h.paneRendererClass](t)), this.m_model.selection().isSelected(this.m_study) && this._isMarkersEnabled && null !== this.m_selectionData && (this.m_selectionData.vertOffset = c, d.append(new w(this.m_selectionData))), d
      }, inherit(a, s), a.prototype.renderer = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f, _, m = this.m_study.properties().styles[this.m_plotName];
        if (m.visible && m.visible.value() && this._scalesReady()) return e = this.m_model.timeScale(), this.m_invalidated && (this._updateImpl(), this.m_invalidated = !1), t = {}, i = this._getTranspValue(), n = e.barSpacing(), m.size ? (r = m.size.value(), o = this._calculateShapeHeight(50, r)) : o = Math.round(n), s = m.location.value(), a = G.generateColor(m.color.value(), i), l = this._calculateVerticalOffset(s, o), t.items = this.items(), t.char = m.char.value(), t.height = o, t.vertOffset = l, t.color = a, c = new N, void 0 !== (u = m.text ? m.text.value() : void 0) && "" !== u.trim() && (h = u.trim().replace(/\\n/gm, "\n"), h = TradingView.cleanButAmpersand(h, !0), d = !1, p = !1, f = 12, t.textCache = new B(h, d, p, J, f), _ = m.textColor ? m.textColor.value() : void 0, t.textColor = _ ? G.generateColor(_, i) : a), c.append(new M(t)), this.m_model.selection().isSelected(this.m_study) && this._isMarkersEnabled && null !== this.m_selectionData && (this.m_selectionData.vertOffset = l, c.append(new w(this.m_selectionData))), c
      }, inherit(l, r), l.prototype.renderer = function () {
        var e, t, i, n, o, r, s, a, l;
        if (this.m_study.properties().styles[this.m_plotName].visible && this.m_study.properties().styles[this.m_plotName].visible.value() && this._scalesReady()) return this.m_invalidated && (this._updateImpl(), this.m_invalidated = !1), e = {}, t = W(this._getTranspValue(), 0, 100), i = this.m_model.timeScale().barSpacing(), e.items = this.m_items, e.barSpacing = i,
          e.colorup = G.generateColor(this.m_study.properties().styles[this.m_plotName].colorup.value(), t), e.colordown = G.generateColor(this.m_study.properties().styles[this.m_plotName].colordown.value(), t), o = (n = v(e.colorup)) ? 100 * (1 - n[3]) : 0, s = (r = v(e.colordown)) ? 100 * (1 - r[3]) : 0, e.colorBorderUp = G.generateColor("#000000", o), e.colorBorderDown = G.generateColor("#000000", s), e.minHeight = this.m_study.properties().styles[this.m_plotName].minHeight.value(), e.maxHeight = this.m_study.properties().styles[this.m_plotName].maxHeight.value(), (a = new N).append(new O(e)), this.m_model.selection().isSelected(this.m_study) && null !== this.m_selectionData && ((l = this.m_selectionData).barSpacing = i, a.append(new P(l))), a
      }, l.prototype._createItem = function (e, t, i, n) {
        var o, r, s, a;
        if (0 !== t) {
          if (Math.abs(t) > this._maxAbsValue && (this._maxAbsValue = Math.abs(t)), o = t > 0) {
            if (void 0 === (s = this._getSeriesVal(n, e)) || null == s) return null;
            r = s
          } else {
            if (void 0 === (a = this._getSeriesVal(i, e)) || null == a) return null;
            r = a
          }
          return new k(e, r, t, o)
        }
      }, l.prototype._convertItemsToCoordinates = function () {
        var e, t, i, n, o, r, s, a, l = this.m_model.timeScale(),
          c = this.m_study.priceScale();
        for (l.indexesToCoordinates(this.m_items), c.pointsArrayToCoordinates(this.m_items, this.m_study.firstValue()), (e = Math.abs(this.m_study.properties().styles[this.m_plotName].minHeight.value())) > (t = Math.abs(this.m_study.properties().styles[this.m_plotName].maxHeight.value())) && (i = e, e = t, t = i), n = (t - e) / this._maxAbsValue, o = this.m_items, r = 0; r < o.length; r++) s = o[r], a = Math.abs(s.height), s.height = a * n + e
      }, c.prototype.update = function () {
        this._invalidated = !0
      }, c.prototype._updateImpl = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d, f, v, b, w, P;
        if (this.m_bars.length = 0, !this.m_model.timeScale().isEmpty() && !this.m_study.priceScale().isEmpty() && null !== (e = this.m_model.timeScale().visibleBarsStrictRange()) && (t = this.m_series.nearestIndex(e.firstBar(), X.NearestRight), i = this.m_series.nearestIndex(e.lastBar(), X.NearestLeft), !((n = this.m_study.getMinFirstBarIndexForPlot(this.m_plotName)) > i) && (t = Math.max(n, t), o = this.m_study.data(), r = this.m_study.firstValue(), s = o.range(t, i), a = 0, l = this.m_study.properties().ohlcPlots[this.m_plotName], c = {}, u = function (e, t) {
              var i = e + "@" + t;
              return c[i] || (c[i] = G.generateColor(e, t)), c[i]
            }, s.each(function (e, t) {
              var i, n, o, r, s, c, h, d, p, f, v, S, b, w, P;
              for (e = Math.floor(e), i = !0, n = {}, o = TradingView.OPEN_PLOT; o <= TradingView.CLOSE_PLOT; ++o) {
                if (void 0 === (r = t[this._ohlcPlotIndexes[o] + 1]) || null === r) {
                  i = !1;
                  break
                }
                n[o] = r
              }
              return !!i && (s = n[TradingView.OPEN_PLOT], c = n[TradingView.CLOSE_PLOT], h = Math.max(s, n[TradingView.HIGH_PLOT], n[TradingView.LOW_PLOT], c), d = Math.min(s, n[TradingView.HIGH_PLOT], n[TradingView.LOW_PLOT], c), (p = {}).time = Math.round(e), p.open = s, p.high = h, p.low = d, p.close = c, f = l.color.value(), v = void 0 !== t[this._colorer + 1] || this._palette && this._palette.addDefaultColor, this._colorer && v && null != (r = t[this._colorer + 1]) && (S = this._palette.valToIndex ? this._palette.valToIndex[r] : r, f = this._paletterProps.colors[S].color.value()), p.color = u(f, a), w = (b = _(y(f)))[2] > .25 ? b[2] - .26 : b[2] + .75, P = m(b[0], b[1], w), p.borderColor = u(g(P), a), p.hollow = null, this.m_bars.push(p), !1)
            }.bind(this)),
            this.m_study.priceScale().barPricesToCoordinates(this.m_bars, r), this.m_model.timeScale().barIndexesToCoordinates(this.m_bars), this.m_model.selection().isSelected(this.m_study))))
          for (h = F(t, i), this._selectionData = {
              points: [],
              hittestResult: S.REGULAR
            }, d = 0; d < h.length; d++) f = h[d], null !== (v = this.m_study.data().valueAt(f)) && (b = v[this._plotIndex + 1], w = this.m_model.timeScale().indexToCoordinate(Math.floor(f)), P = this.m_study.priceScale().priceToCoordinate(b, r), this._selectionData.points.push(new p(w, P)))
      }, c.prototype.items = function () {
        return this.m_bars
      }, inherit(u, c), u.prototype.renderer = function () {
        var e, t, i = this.m_study.properties().ohlcPlots[this.m_plotName];
        if (i.visible.value()) return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barSpacing = this.m_model.timeScale().barSpacing(), e.dontDrawOpen = this.m_series.properties().barStyle.dontDrawOpen.value(), (t = new N).append(new T(e)), this.m_model.selection().isSelected(this.m_study) && this._isMarkersEnabled && t.append(new w(this._selectionData)), t
      }, inherit(h, c), h.prototype.renderer = function () {
        var e, t, i, n = this.m_study.properties().ohlcPlots[this.m_plotName];
        if (n.visible.value()) return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barSpacing = this.m_model.timeScale().barSpacing(), e.drawWick = n.drawWick.value(), e.drawBorder = n.drawBorder.value(), e.barWidth = $.optimalBarWidth(e.barSpacing), t = n.wickColor.value(), e.borderColor = t, e.wickColor = t, (i = new N).append(new A(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && i.append(new w(this._selectionData)), i
      }, t.StudyPaneView = n, t.StudyBackgroundPaneView = o, t.StudyPlotShapesPaneView = s, t.StudyPlotCharsPaneView = a, t.StudyPlotArrowsPaneView = l, t.StudyPlotCandlesPaneView = h, t.StudyPlotBarsPaneView = u
    },
    IERO: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#ed5565" d="M0 0h18v18H0z"/><path fill="#fff" d="M3 7h12v4H3zm4-4h4v12H7z"/></svg>'
    },
    IVMC: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.default = function (e) {
        return e.reduce(function (e, t, i) {
          return ~e.indexOf(t) || e.push(t), e
        }, [])
      }, e.exports = t.default
    },
    IWXC: function (e, t, i) {
      "use strict";

      function n(e) {
        return void 0 === e && (e = "full"), c[e] || o(e, new l.a(e)), c[e]
      }

      function o(e, t) {
        void 0 === e && (e = "full"), c[e] = t
      }

      function r(e) {
        return void 0 === e && (e = "full"), c[e]
      }

      function s() {
        var e, t;
        for (e in c) c.hasOwnProperty(e) && (void 0 !== (t = c[e]) && t.destroy(), delete c[e])
      }
      var a, l, c;
      i.r(t), i.d(t, "getQuoteSessionInstance", function () {
        return n
      }), i.d(t, "setQuoteSessionInstance", function () {
        return o
      }), i.d(t, "getQuoteSessionNoEnsure", function () {
        return r
      }), i.d(t, "destroyQuoteSessions", function () {
        return s
      }), a = i("hGf4"), l = i.n(a), c = {}
    },
    Ialn: function (e, t, i) {
      "use strict";

      function n(e) {
        return "" !== e && h && void 0 !== e && null !== e ? e.replace(m, "") : e
      }

      function o(e) {
        return "" !== e && h && void 0 !== e && null !== e ? d + e : e
      }

      function r(e) {
        return "" !== e && h && void 0 !== e && null !== e ? p + e + _ : e
      }

      function s(e) {
        return "" !== e && h && void 0 !== e && null !== e ? f + e + _ : e
      }

      function a(e) {
        return Object(u.getNormalizedScrollLeft)(e, "rtl")
      }

      function l(e, t) {
        var i = Object(u.detectScrollType)();
        if ("indeterminate" === i) return 0;
        switch (i) {
          case "negative":
            t = e.clientWidth - e.scrollWidth + t;
            break;
          case "reverse":
            t = e.scrollWidth - e.clientWidth - t
        }
        return t
      }

      function c(e) {
        var t = g.exec(e);
        return t ? y.test(t[0]) ? "rtl" : "ltr" : ""
      }
      var u, h, d, p, f, _, m, g, y;
      i.r(t), i.d(t, "IS_RTL", function () {
        return h
      }), i.d(t, "stripLTRMarks", function () {
        return n
      }), i.d(t, "startWithLTR", function () {
        return o
      }), i.d(t, "forceLTRStr", function () {
        return r
      }), i.d(t, "forceRTLStr", function () {
        return s
      }), i.d(t, "getLTRScrollLeft", function () {
        return a
      }), i.d(t, "getLTRScrollLeftOffset", function () {
        return l
      }), i.d(t, "detectAutoDirection", function () {
        return c
      }), u = i("oYVD"), h = "rtl" === document.dir, d = "â€Ž", p = "â€ª", f = "â€«", _ = "â€¬", m = new RegExp(d + "|" + p + "|" + f + "|" + _, "g"), g = /[^\u0000-\u0040\u005B-\u0060\u007B-\u00BF\u00D7\u00F7\u02B9-\u02FF\u2000-\u200E\u2010-\u2029\u202C\u202F-\u2BFF]/, y = /[\u0590-\u07FF\u200F\u202B\u202E\uFB1D-\uFDFD\uFE70-\uFEFC]/
    },
    IdsS: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "HeaderToolbarComponentIds", function () {
          return n
        }),
        function (e) {
          e.SymbolSearch = "header-toolbar-symbol-search", e.Intervals = "header-toolbar-intervals", e.ChartStyles = "header-toolbar-chart-styles", e.Compare = "header-toolbar-compare", e.Indicators = "header-toolbar-indicators", e.StudyTemplates = "header-toolbar-study-templates", e.Alerts = "header-toolbar-alerts", e.Layouts = "header-toolbar-layouts", e.SaveLoad = "header-toolbar-save-load", e.UndoRedo = "header-toolbar-undo-redo", e.Properties = "header-toolbar-properties", e.Publish = "header-toolbar-publish", e.Fullscreen = "header-toolbar-fullscreen", e.Screenshot = "header-toolbar-screenshot", e.Replay = "header-toolbar-replay"
        }(n || (n = {}))
    },
    IhIr: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = e.icon,
          i = e.href,
          n = e.tag,
          o = e.classes,
          r = e.title,
          s = {
            __html: Object(h.b)(t)
          };
        return n ? c.createElement(n, {
          title: r,
          className: u(o),
          dangerouslySetInnerHTML: s
        }) : c.createElement("a", {
          href: i,
          target: "_blank",
          title: r,
          className: u(o),
          dangerouslySetInnerHTML: s
        })
      }

      function o(e) {
        return c.createElement("span", {
          className: u(e.classes),
          dangerouslySetInnerHTML: {
            __html: Object(h.b)(e.icon)
          }
        })
      }

      function r(e) {
        var t, i = ["tv-badge", "apply-common-tooltip", "common-tooltip-fixed", "unselectable"],
          n = [],
          o = h.a.Top,
          r = !1;
        if (!e.topUserInfo || e.hideTopBadge || e.isModerator && e.forceMod)
          if (e.isModerator && !e.hideModBadge) t = "/house-rules/", i.push("tv-badge--mod"), n.push(window.t("Moderator")), o = h.a.Mod;
          else {
            if (!e.isPro || e.isProLimited) return null;
            switch (t = "/gopro/", i.push("tv-badge--pro"), o = h.a.Pro, r = !0, e.proPlan) {
              case p.ProPlans.ProRealtime:
                i.push("tv-badge--pro_realtime");
                break;
              case p.ProPlans.ProPremium:
                i.push("tv-badge--pro_premium");
                break;
              case p.ProPlans.Limitless:
                i.push("tv-badge--limitless");
                break;
              case p.ProPlans.ProTrial:
              case p.ProPlans.ProRealtimeTrial:
              case p.ProPlans.ProPremiumTrial:
                i.push("tv-badge--trial")
            }
          }
        else {
          switch (i.push("tv-badge--top"), e.topUserInfo.period) {
            case d.Day:
              i.push("tv-badge--top_day");
              break;
            case d.Week:
              i.push("tv-badge--top_week");
              break;
            case d.Month:
              i.push("tv-badge--top_month");
              break;
            case d.All:
              i.push("tv-badge--top_all")
          }
          t = "/people/", n.push(e.topUserInfo.title), e.isPro && !e.isProLimited && (r = !0), e.isModerator && n.push(window.t("Moderator"))
        }
        if (r) switch (e.proPlan) {
          case p.ProPlans.ProRealtime:
            n.push(window.t("Pro Plus"));
            break;
          case p.ProPlans.ProPremium:
          case p.ProPlans.Limitless:
            n.push(window.t("Premium"));
            break;
          case p.ProPlans.ProTrial:
          case p.ProPlans.ProRealtimeTrial:
          case p.ProPlans.ProPremiumTrial:
            n.push(window.t("{0} Trial").format(Object(f.humanizeProPlan)(Object(f.getProductForTrial)(e.proPlan))));
            break;
          default:
            n.push(window.t("Pro"))
        }
        return void 0 !== e.className && i.push(e.className), e.large && (o = h.c[o], i.push("tv-badge--size_large")), e.utm && t && (t += e.utm), {
          icon: o,
          href: t,
          tag: e.tag,
          classes: i,
          title: n.join(" | ")
        }
      }

      function s(e) {
        var t = e.large ? h.a.AdLarge : h.a.Ad,
          i = ["tv-badge", "tv-badge--ad"];
        return e.large && i.push("tv-badge--size_large"), e.withIndent && i.push("tv-badge--with-indent"), {
          classes: i,
          icon: t
        }
      }

      function a(e) {
        if (e.isAd) return c.createElement(o, l.__assign({}, s(e)));
        var t = r(e);
        return t ? c.createElement(n, l.__assign({}, t)) : null
      }
      var l, c, u, h, d, p, f;
      i.r(t), l = i("mrSG"), c = i("q1tI"), u = i("TSYQ"), h = i("fA1Z"),
        function (e) {
          e.All = "all", e.Month = "month", e.Week = "week", e.Day = "day"
        }(d || (d = {})), p = i("KuNA"), f = i("FfBj"), i("q/LD"), i("HbRj"), i.d(t, "buildUserBadgeProps", function () {
          return r
        }), i.d(t, "buildAdBadgeProps", function () {
          return s
        }), i.d(t, "Badge", function () {
          return a
        }), i.d(t, "Period", function () {
          return d
        }), i.d(t, "ProPlan", function () {
          return p.ProPlans
        })
    },
    IjC5: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u;
      i.r(t), i.d(t, "RectangleRenderer", function () {
        return u
      }), n = i("VdBB"), o = i("GEp6"), r = i("f6yo"), s = i("aO4+"), a = i("Tmoa"), l = i("Eyy1"), c = i("jFln"), u = function () {
        function e(e, t, i) {
          this._data = null, this._hitTestResult = e || new n.HitTestResult(n.HitTestResult.MOVEPOINT), this._backHitTestResult = t || new n.HitTestResult(n.HitTestResult.MOVEPOINT_BACKGROUND), this._forceOverrideTransparency = Boolean(i)
        }
        return e.prototype.setData = function (e) {
          this._data = e
        }, e.prototype.draw = function (e) {
          var t, i, n;
          null === this._data || this._data.points.length < 2 || (e.lineCap = "butt", e.strokeStyle = this._data.color, e.lineWidth = this._data.linewidth, void 0 !== this._data.linestyle && Object(c.setLineStyle)(e, this._data.linestyle), i = (t = this._data.points)[0], n = t[1].subtract(i), e.beginPath(), e.rect(i.x, i.y, n.x, n.y), this._data.linewidth > 0 && e.stroke(), this._data.fillBackground && (e.fillStyle = this.getColor(), e.fill()))
        }, e.prototype.hitTest = function (e) {
          var t, i, n, a, l, c, u, h, d;
          return null === this._data || this._data.points.length < 2 || this._data.nohittest ? null : (i = (t = this._data.points)[0], n = t[1], a = new s.Point(n.x, i.y), l = new s.Point(i.x, n.y), Object(o.distanceToSegment)(i, a, e).distance <= 3 ? this._hitTestResult : Object(o.distanceToSegment)(a, n, e).distance <= 3 ? this._hitTestResult : Object(o.distanceToSegment)(n, l, e).distance <= 3 ? this._hitTestResult : Object(o.distanceToSegment)(l, i, e).distance <= 3 ? this._hitTestResult : this._data.fillBackground && (c = Math.min(i.x, n.x), u = Math.max(i.x, n.x), h = Math.min(i.y, n.y), d = Math.max(i.y, n.y), i = new s.Point(c, h), n = new s.Point(u, d),
            Object(r.pointInBox)(e, Object(s.box)(i, n))) ? this._backHitTestResult : null)
        }, e.prototype.getColor = function () {
          var e = Object(l.ensure)(this._data);
          return Object(a.generateColor)(e.backcolor, e.transparency, this._forceOverrideTransparency)
        }, e
      }()
    },
    InMJ: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolFlatBottom";
        var r = t || n.createProperties();
        o.call(this, e, r), this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("gr7S").FlatBottomPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.version = 1, n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Flat Bottom"
      }, n.prototype.name = function () {
        return "Flat Bottom"
      }, n.prototype.addPoint = function (e, t) {
        return t && t.shift() && 2 === this.points().length && this._snapPoint45Degree(e, this.points()[this.points().length - 2]), o.prototype.addPoint.call(this, e)
      }, n.prototype.setLastPoint = function (e, t) {
        return t && t.shift() && 2 === this.points().length && this._snapPoint45Degree(e, this.points()[this.points().length - 2]), o.prototype.setLastPoint.call(this, e)
      }, n.prototype.setPoint = function (e, t, i) {
        if (i && i.shift() && 1 === e) {
          this._snapPoint45Degree(t, this.points()[0])
        }
        e < 3 ? o.prototype.setPoint.call(this, e, t) : this._points[0].index = t.index
      }, n.prototype.canHasAlert = function () {
        return !0
      }, n.prototype._getAlertPlots = function () {
        var e, t, i, n, o, r, s, a, l, c = this._points[0],
          u = this._points[1],
          h = [];
        return c.index <= u.index ? (h.push(c), h.push(u)) : (h.push(u), h.push(c)), (e = this._points[2]).time = u.time, e.index = u.index, t = {
          price: e.price,
          time: c.time,
          index: c.index
        }, i = [], e.index <= t.index ? (i.push(e), i.push(t)) : (i.push(t), i.push(e)), h[0].price > i[0].price ? (n = h, o = i) : i[0].price > h[0].price ? (n = i, o = h) : i[1].price > h[1].price ? (n = i, o = h) : (n = h, o = i), a = this.properties().extendLeft.value(), l = this.properties().extendRight.value(), c.index <= u.index ? (r = a, s = l) : (r = l, s = a), [this._linePointsToAlertPlot(n, "Upper", r, s), this._linePointsToAlertPlot(o, "Lower", a, s)]
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolFlatBottomStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolflatbottom", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolFlatBottom = n
    },
    IpW8: function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "RESULTS", function () {
        return n
      });
      var n = {
        EXTERNAL: "Program Close",
        TIMEOUT: "Timeout Close",
        MANUAL_CLOSE: "User Close",
        BUTTON_DISMISS: "Button Dismiss",
        BUTTON_ACTION: "Button Action"
      }
    },
    IzGk: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = ("" + e).match(/(.*)([DWM])/);
        return t ? t[1] + window.t(t[2], {
          context: "interval_short"
        }) : e
      }
      i.r(t), i.d(t, "translatedIntervalString", function () {
        return n
      });
      i("YFKU")
    },
    "J+KI": function (e, t, i) {
      "use strict";
      var n = function () {
        function e(e) {
          var t = $.Event(r + ":" + e);
          return $(window).trigger(t, {
            AppClipboard: l
          }), t
        }

        function t(t) {
          var i, n;
          if ((document.activeElement === document.body || document.activeElement === document.documentElement) && (n = function (e) {
              switch (e) {
                case "c67":
                case "m67":
                case "c45":
                  return "copy";
                case "c86":
                case "m86":
                case "s45":
                  return "paste";
                case "c88":
                case "m88":
                case "s46":
                  return "cut"
              }
            }(i = function (e) {
              var t = [];
              return e.shiftKey && t.push("s"), e.ctrlKey && t.push("c"), e.metaKey && t.push("m"), e.altKey && t.push("a"), t.push(e.keyCode), t.join("")
            }(t)))) {
            if ("keydown" === t.type) s[i] = !0;
            else if (s[i]) return;
            if (document.getSelection) {
              if (!document.getSelection().isCollapsed) return
            } else if (document.selection && "None" !== document.selection.type) return;
            t.isDefaultPrevented() || e(n).isDefaultPrevented() && t.preventDefault()
          }
        }

        function i(t) {
          (t = t.originalEvent || t).key === o && e("change")
        }

        function n() {
          TVLocalStorage.getItem(o) && (TVLocalStorage.removeItem(o), e("change"))
        }
        var o = "application-clipboard",
          r = "appclip",
          s = {},
          a = !1,
          l = {
            init: function () {
              a || ($(document).on("keypress keydown", t), $(window).on("storage", i), a = !0)
            },
            set: function (t) {
              if (null == t) return n();
              var i = JSON.stringify(t);
              i !== TVLocalStorage.getItem(o) && (TVLocalStorage.setItem(o, i), e("change"))
            },
            get: function () {
              try {
                return JSON.parse(TVLocalStorage.getItem(o))
              } catch (e) {
                return null
              }
            },
            clear: n,
            destroy: function () {
              $(document).off("keypress keydown", t), $(window).off("storage", i), $(window).off(r + ":copy"), $(window).off(r + ":paste"), $(window).off(r + ":cut"), $(window).off(r + ":change"), a = !1
            }
          };
        return l
      }();
      e.exports = n
    },
    J2xC: function (e, t, i) {
      e.exports = {
        "css-value-header-toolbar-height": "38px"
      }
    },
    JOqt: function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "debounce", function () {
        return n
      });
      var n = function (e, t) {
        function i() {
          e.apply(o, n)
        }
        var n, o, r = 0;
        return function () {
          o = this, n = arguments, clearTimeout(r), r = setTimeout(i, t)
        }
      }
    },
    JT5O: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "StudyMarket", function () {
        return s
      }), n = i("aIyQ"), o = i.n(n), r = i("mpWx"), s = function () {
        function e(e, t) {
          this.visibilityChanged = new o.a, this._dialogPromise = null, this._dialog = null, this._chartWidgetCollection = e, this._options = t
        }
        return e.prototype.isVisible = function () {
          return null !== this._dialog && this._dialog.isVisible()
        }, e.prototype.show = function (e) {
          var t = this;
          return null === this._dialog ? this._requestDialog().then(function () {
            return t.show(e)
          }) : this._dialog.show(e)
        }, e.prototype.hide = function () {
          null !== this._dialog && this._dialog.hide()
        }, e.prototype.onCustomScriptModified = function () {
          null !== this._dialog && this._dialog.onCustomScriptModified()
        }, e.prototype.resetAllPages = function () {
          null !== this._dialog && this._dialog.resetAllPages()
        }, e.prototype.updateFavorites = function () {
          null !== this._dialog && this._dialog.updateFavorites()
        }, e.prototype.getDialog = function () {
          return this._dialog
        }, e.prototype._requestDialog = function () {
          var e = this,
            t = function (t, n) {
              Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(85), i.e(86), i.e(280), i.e(3), i.e("study-market")]).then(function (n) {
                var o = i("24k8").StudyMarketDialog;
                t(new o(e._chartWidgetCollection, e._options))
              }.bind(null, i)).catch(n)
            };
          return null === this._dialogPromise && (this._dialogPromise = Object(r.retries)(function () {
            return new Promise(t)
          }, 2).then(function (t) {
            e._dialogPromise = null, e._dialog = t, e._dialog.visibilityChanged.subscribe(null, function (t) {
              e.visibilityChanged.fire(t)
            })
          })), this._dialogPromise
        }, e
      }()
    },
    JUKA: function (e, t) {
      e.exports = [{
        value: "",
        name: "All Exchanges",
        desc: window.t("All Exchanges"),
        flag: "",
        country: "",
        group: "AllExchanges"
      }, {
        value: "BITHUMB",
        name: "Bithumb",
        desc: window.t("Bithumb"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "796",
        name: "796",
        desc: window.t("796"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "COINFLOOR",
        name: "Coinfloor",
        desc: window.t("Coinfloor"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "DFM",
        name: "DFM",
        desc: window.t("DFM â€” Dubai Financial Market"),
        flag: "ae",
        group: "Middle East / Africa",
        country: "ae"
      }, {
        value: "LSE",
        name: "LSE",
        desc: window.t("LSE â€” London Stock Exchange (UK Companies)"),
        flag: "uk",
        group: "Europe",
        country: "uk"
      }, {
        value: "LSIN",
        name: "LSIN",
        desc: window.t("LSIN â€” London Stock Exchange (International Companies)"),
        flag: "uk",
        group: "Europe",
        country: "uk"
      }, {
        value: "EUREX",
        name: "EUREX",
        desc: window.t("EUREX â€” Eurex Exchange"),
        flag: "europe",
        group: "Europe",
        country: "eu"
      }, {
        value: "MGEX",
        name: "MGEX",
        desc: window.t("MGEX â€” Futures"),
        flag: "usa",
        hideInSymbolSearch: !0,
        group: "North America",
        country: "us"
      }, {
        value: "NASDAQ",
        name: "NASDAQ",
        desc: window.t("NASDAQ â€” NASDAQ Stock Market"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 1
      }, {
        value: "NYSE",
        name: "NYSE",
        desc: window.t("NYSE â€” New York Stock Exchange"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 2
      }, {
        value: "AMEX",
        name: "ARCA",
        desc: window.t("ARCA â€” ARCA & MKT"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 3
      }, {
        value: "OTC",
        name: "OTC",
        desc: window.t("OTC â€” OTC Markets"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 4
      }, {
        value: "DJ",
        name: "DJ",
        desc: window.t("DJ â€” Dow Jones Indices"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 5
      }, {
        value: "SP",
        name: "SP",
        desc: window.t("SP â€” S&P Indices"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 6
      }, {
        value: "CBOE",
        name: "CBOE",
        desc: window.t("CBOE â€” Chicago Board Options Exchange"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 7
      }, {
        value: "CBOT",
        name: "CBOT",
        desc: window.t("CBOT â€” Chicago Board of Trade"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 8
      }, {
        value: "CME",
        name: "CME GLOBEX",
        desc: window.t("CME GLOBEX â€” Chicago Mercantile Exchange Globex"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 9
      }, {
        value: "COMEX",
        name: "COMEX",
        desc: window.t("COMEX â€” Commodity Exchange"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 10
      }, {
        value: "NYMEX",
        name: "NYMEX",
        desc: window.t("NYMEX â€” New York Mercantile Exchange"),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 11
      }, {
        value: "ICEUSA",
        name: "ICEUSA",
        desc: window.t("ICEUSA â€” ICE Futures U.S."),
        flag: "usa",
        group: "North America",
        country: "us",
        priorityInGroup: 12
      }, {
        value: "CSE",
        name: "CSE",
        desc: window.t("CSE â€” Canadian Securities Exchange"),
        flag: "canada",
        group: "North America",
        country: "ca",
        priorityInGroup: 13
      }, {
        value: "TSX",
        name: "TSX",
        desc: window.t("TSX â€” Toronto Stock Exchange"),
        flag: "canada",
        group: "North America",
        country: "ca",
        priorityInGroup: 14
      }, {
        value: "TSXV",
        name: "TSXV",
        desc: window.t("TSXV â€” TSX Venture Exchange"),
        flag: "canada",
        group: "North America",
        country: "ca",
        priorityInGroup: 15
      }, {
        value: "MOEX",
        name: "MOEX",
        desc: window.t("MOEX â€” Moscow Exchange"),
        flag: "russia",
        group: "Europe",
        country: "ru"
      }, {
        value: "MYX",
        name: "MYX",
        desc: window.t("MYX â€” Bursa Malaysia Berhad"),
        flag: "malaysia",
        group: "Asia / Pacific",
        country: "my"
      }, {
        value: "FTSEMYX",
        name: "FTSE",
        desc: window.t("FTSE â€” Bursa Malaysia FTSE Indices"),
        flag: "malaysia",
        group: "Asia / Pacific",
        country: "my"
      }, {
        value: "HOSE",
        name: "HOSE",
        desc: window.t("HOSE â€” Ho Chi Minh City Stock Exchange"),
        flag: "vietnam",
        group: "Asia / Pacific",
        country: "vn"
      }, {
        value: "BITSTAMP",
        name: "Bitstamp",
        desc: window.t("Bitstamp"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "FX",
        name: "FXCM",
        desc: window.t("FXCM"),
        flag: "forex",
        group: "Forex",
        country: ""
      }, {
        value: "MERCADO",
        name: "Mercado",
        desc: window.t("Mercado"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BTCE",
        name: "BTC-e",
        desc: window.t("BTC-E"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "GOCIO",
        name: "Gocio",
        desc: window.t("Gocio"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BTCYOU",
        name: "BTCYou",
        desc: window.t("BTCYou"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "HITBTC",
        name: "HitBTC",
        desc: window.t("HitBTC"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BSE",
        name: "BSE",
        desc: window.t("BSE â€” Bombay Stock Exchange"),
        flag: "india",
        group: "Asia / Pacific",
        country: "in"
      }, {
        value: "NYMEX_MINI",
        name: "NYMEX E-mini",
        desc: window.t("NYMEX E-mini â€” New York Mercantile Exchange"),
        flag: "usa",
        group: "North America",
        hideInSymbolSearch: !0,
        country: "us"
      }, {
        value: "COMEX_MINI",
        name: "COMEX E-mini",
        desc: window.t("COMEX E-mini â€” Commodity Exchange"),
        flag: "usa",
        group: "North America",
        hideInSymbolSearch: !0,
        country: "us"
      }, {
        value: "ICEEUR",
        name: "ICEEUR",
        desc: window.t("ICEEUR â€” ICE Futures Europe"),
        flag: "europe",
        group: "Europe",
        country: "eu"
      }, {
        value: "NSE",
        name: "NSE",
        desc: window.t("NSE â€” National Stock Exchange of India"),
        flag: "india",
        group: "Asia / Pacific",
        country: "in"
      }, {
        value: "KCBT",
        name: "KCBT",
        desc: window.t("KCBT Futures"),
        flag: "usa",
        hideInSymbolSearch: !0,
        group: "North America",
        country: "us"
      }, {
        value: "OKCOIN",
        name: "Okcoin",
        desc: window.t("Okcoin"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "CBOT_MINI",
        name: "CBOT E-mini",
        desc: window.t("CBOT E-mini â€” Chicago Board of Trade"),
        flag: "usa",
        group: "North America",
        hideInSymbolSearch: !0,
        country: "us"
      }, {
        value: "KRAKEN",
        name: "Kraken",
        desc: window.t("Kraken"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "CME_MINI",
        name: "CME E-mini",
        desc: window.t("CME GLOBEX E-mini â€” Chicago Mercantile Exchange Globex"),
        flag: "usa",
        group: "North America",
        hideInSymbolSearch: !0,
        country: "us"
      }, {
        value: "DJ",
        name: "DJ",
        desc: window.t("DJ â€” Dow Jones Indexes"),
        flag: "usa",
        hideInSymbolSearch: !0,
        group: "North America",
        country: "us"
      }, {
        value: "SP",
        name: "SP",
        desc: window.t("SP â€” S&P Indexes"),
        flag: "usa",
        hideInSymbolSearch: !0,
        group: "North America",
        country: "us"
      }, {
        value: "BTCCHINA",
        name: "BTC China",
        desc: window.t("BTC China"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "HUOBI",
        name: "Huobi",
        desc: window.t("Huobi"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "KORBIT",
        name: "Korbit",
        desc: window.t("Korbit"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "THEROCKTRADING",
        name: "The Rock Trading",
        desc: window.t("The Rock Trading"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "ANX",
        name: "ANX",
        desc: window.t("ANX"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "MEXBT",
        name: "meXBT",
        desc: window.t("meXBT"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "ITBIT",
        name: "itBit",
        desc: window.t("itBit"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "FOXBIT",
        name: "FoxBit",
        desc: window.t("FoxBit"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "GEMINI",
        name: "Gemini",
        desc: window.t("Gemini"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "XCOIN",
        name: "Xcoin",
        desc: window.t("Xcoin"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BITVC",
        name: "BitVC",
        desc: window.t("BitVC"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "BITYES",
        name: "BitYes",
        desc: window.t("BitYes"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "BNC",
        name: "BNC",
        desc: window.t("BNC"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "BITFLYER",
        name: "bitFlyer",
        desc: window.t("bitFlyer"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BXTH",
        name: "BX.in.th",
        desc: window.t("BX.in.th"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BITMEX",
        name: "BitMEX",
        desc: window.t("BitMEX"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "FOREXCOM",
        name: "FOREX.com",
        desc: window.t("FOREX.com"),
        flag: "forex",
        group: "Forex",
        country: ""
      }, {
        value: "FX_IDC",
        name: "ICE",
        desc: window.t("ICE Data Services"),
        flag: "forex",
        group: "Forex",
        country: ""
      }, {
        value: "CEXIO",
        name: "CEX.IO",
        desc: window.t("CEX.IO"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BITSO",
        name: "Bitso",
        desc: window.t("Bitso"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BITFINEX",
        name: "Bitfinex",
        desc: window.t("Bitfinex"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "MTGOX",
        name: "Mt.Gox",
        desc: window.t("Mt.Gox"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        hideInSymbolSearch: !0,
        country: ""
      }, {
        value: "POLONIEX",
        name: "Poloniex",
        desc: window.t("Poloniex"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BITTREX",
        name: "Bittrex",
        desc: window.t("Bittrex"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "WEX",
        name: "WEX",
        desc: window.t("WEX"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BINANCE",
        name: "Binance",
        desc: window.t("Binance"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "BCBA",
        name: "BYMA",
        desc: window.t("BYMA â€” Argentine Stock Exchanges and Markets"),
        flag: "argentina",
        group: "Mexico and South America",
        country: "ar"
      }, {
        value: "BMFBOVESPA",
        name: "B3",
        desc: window.t("B3 â€” Brasil Bolsa Balcao S.A."),
        flag: "brasil",
        group: "Mexico and South America",
        country: "br"
      }, {
        value: "BMV",
        name: "BMV",
        desc: window.t("BMV â€” Mexican Stock Exchange"),
        flag: "mexico",
        group: "Mexico and South America",
        country: "mx"
      }, {
        value: "BVL",
        name: "BVL",
        desc: window.t("BVL â€” Bolsa de Valores de Lima"),
        flag: "peru",
        group: "Mexico and South America",
        country: "pe"
      }, {
        value: "BCS",
        name: "SSE",
        desc: window.t("SSE â€” Santiago Stock Exchange"),
        flag: "chile",
        group: "Mexico and South America",
        country: "cl"
      }, {
        value: "BVC",
        name: "BVC",
        desc: window.t("BVC â€” Bolsa de Valores de Colombia"),
        flag: "colombia",
        group: "Mexico and South America",
        country: "co"
      }, {
        value: "NAG",
        name: "NSE",
        desc: window.t("NSE â€” Nagoya Stock Exchange"),
        flag: "japan",
        group: "Asia / Pacific",
        country: "jp"
      }, {
        value: "TSE",
        name: "TSE",
        desc: window.t("TSE â€” Tokyo Stock Exchange"),
        flag: "japan",
        group: "Asia / Pacific",
        country: "jp"
      }, {
        value: "TFX",
        name: "TFX",
        desc: window.t("TFX â€” Tokyo Financial Exchange"),
        flag: "japan",
        group: "Asia / Pacific",
        country: "jp"
      }, {
        value: "TOCOM",
        name: "TOCOM",
        desc: window.t("TOCOM â€” Tokyo Commodity Exchange"),
        flag: "japan",
        group: "Asia / Pacific",
        country: "jp"
      }, {
        value: "OSE",
        name: "OSE",
        desc: window.t("OSE â€” Osaka Securities Exchange"),
        flag: "japan",
        group: "Asia / Pacific",
        country: "jp"
      }, {
        value: "SGX",
        name: "SGX",
        desc: window.t("SGX â€” Singapore Stock Exchange"),
        flag: "singapore",
        group: "Asia / Pacific",
        country: "sg"
      }, {
        value: "SAPSE",
        name: "SSE",
        desc: window.t("SSE â€” Sapporo Securities Exchange"),
        flag: "japan",
        group: "Asia / Pacific",
        country: "jp"
      }, {
        value: "FSE",
        name: "FSE",
        desc: window.t("FSE â€” Fukuoka Stock Exchange"),
        flag: "japan",
        group: "Asia / Pacific",
        country: "jp"
      }, {
        value: "TWSE",
        name: "TWSE",
        desc: window.t("TWSE â€” Taiwan Stock Exchange"),
        flag: "taiwan",
        group: "Asia / Pacific",
        country: "tw"
      }, {
        value: "SET",
        name: "SET",
        desc: window.t("SET â€” Stock Exchange of Thailand"),
        flag: "thailand",
        group: "Asia / Pacific",
        country: "th"
      }, {
        value: "KRX",
        name: "KRX",
        desc: window.t("KRX â€” Korea Stock Exchange"),
        flag: "south_korea",
        group: "Asia / Pacific",
        country: "kr"
      }, {
        value: "BAHRAIN",
        name: "BSE",
        desc: window.t("BSE â€” Bahrain Stock Exchange"),
        flag: "bahrain",
        group: "Middle East / Africa",
        country: "bh"
      }, {
        value: "BELEX",
        name: "BELEX",
        desc: window.t("BELEX â€” Belgrade Stock Exchange"),
        flag: "serbia",
        group: "Europe",
        country: "rs"
      }, {
        value: "EGX",
        name: "EGX",
        desc: window.t("EGX â€” Egyptian Exchange"),
        flag: "egypt",
        group: "Middle East / Africa",
        country: "eg"
      }, {
        value: "TADAWUL",
        name: "Tadawul",
        desc: window.t("Tadawul â€” Saudi Stock Exchange"),
        flag: "saudi_arabia",
        group: "Middle East / Africa",
        country: "sa"
      }, {
        value: "IDX",
        name: "IDX",
        desc: window.t("IDX â€” Indonesia Stock Exchange"),
        flag: "indonesia",
        group: "Asia / Pacific",
        country: "id"
      }, {
        value: "HSI",
        name: "HSI",
        desc: window.t("HSI â€” Hang Seng Indices"),
        flag: "hong_kong",
        group: "Asia / Pacific",
        country: "hk"
      }, {
        value: "QSE",
        name: "QSE",
        desc: window.t("QSE â€” Qatar Stock Exchange"),
        flag: "qatar",
        group: "Middle East / Africa",
        country: "qa"
      }, {
        value: "OANDA",
        name: "OANDA",
        desc: window.t("OANDA"),
        flag: "forex",
        group: "Forex",
        country: ""
      }, {
        value: "EURONEXT",
        name: "Euronext",
        desc: window.t("Euronext â€” Euronext NV"),
        flag: "europe",
        group: "Europe",
        country: "eu"
      }, {
        value: "EURONEXTAMS",
        name: "EURONEXTAMS",
        desc: window.t("Euronext â€” Euronext Amsterdam"),
        flag: "netherlands",
        group: "Europe",
        country: "nl"
      }, {
        value: "EURONEXTBRU",
        name: "EURONEXTBRU",
        desc: window.t("Euronext â€” Euronext Brussels"),
        flag: "belgium",
        group: "Europe",
        country: "be"
      }, {
        value: "EURONEXTLIS",
        name: "EURONEXTLIS",
        desc: window.t("Euronext â€” Euronext Lisbon"),
        flag: "portugal",
        group: "Europe",
        country: "pt"
      }, {
        value: "EURONEXTPAR",
        name: "EURONEXTPAR",
        desc: window.t("Euronext â€” Euronext Paris"),
        flag: "france",
        group: "Europe",
        country: "fr"
      }, {
        value: "OMX",
        name: "OMX",
        desc: window.t("OMX â€” Nasdaq OMX Group"),
        flag: "europe",
        group: "Europe",
        country: "eu"
      }, {
        value: "FWB",
        name: "FWB",
        desc: window.t("FWB â€” Frankfurt Stock Exchange"),
        flag: "germany",
        group: "Europe",
        country: "de"
      }, {
        value: "FRA",
        name: "FRA",
        desc: window.t("FRA â€” Frankfurt Stock Exchange"),
        flag: "germany",
        hideInSymbolSearch: !0,
        group: "Europe",
        country: "de"
      }, {
        value: "SWB",
        name: "SWB",
        desc: window.t("SWB â€” Stuttgart Stock Exchange"),
        flag: "germany",
        group: "Europe",
        country: "de"
      }, {
        value: "XETR",
        name: "XETR",
        desc: window.t("XETR â€” Xetra"),
        flag: "germany",
        group: "Europe",
        country: "de"
      }, {
        value: "BME",
        name: "BME",
        desc: window.t("BME â€” Bolsa de Madrid"),
        flag: "spain",
        group: "Europe",
        country: "es"
      }, {
        value: "GPW",
        name: "GPW",
        desc: window.t("GPW â€” Warsaw Stock Exchange"),
        flag: "poland",
        group: "Europe",
        country: "pl"
      }, {
        value: "MIL",
        name: "MIL",
        desc: window.t("MIL â€” Milan Stock Exchange"),
        flag: "italy",
        group: "Europe",
        country: "it"
      }, {
        value: "MILSEDEX",
        name: "MILSEDEX",
        desc: window.t("MILSEDEX â€” Milan Stock Exchange"),
        flag: "italy",
        group: "Europe",
        hideInSymbolSearch: !0,
        country: "it"
      }, {
        value: "OSL",
        name: "OSE",
        desc: window.t("OSE â€” Oslo Stock Exchange"),
        flag: "norway",
        group: "Europe",
        country: "no"
      }, {
        value: "IST",
        name: "IST",
        desc: window.t("IST â€” Istanbul Stock Exchange"),
        flag: "turkey",
        hideInSymbolSearch: !0,
        group: "Europe",
        country: "tr"
      }, {
        value: "BIST",
        name: "BIST",
        desc: window.t("BIST â€” Borsa Istanbul"),
        flag: "turkey",
        group: "Europe",
        country: "tr"
      }, {
        value: "TASE",
        name: "TASE",
        desc: window.t("TASE â€” Tel Aviv Stock Exchange"),
        flag: "israel",
        group: "Middle East / Africa",
        country: "il"
      }, {
        value: "SIX",
        name: "SIX",
        desc: window.t("SIX â€” Swiss Stock Exchange"),
        flag: "switzerland",
        hideInSymbolSearch: !0,
        group: "Europe",
        country: "ch"
      }, {
        value: "SIX",
        name: "SIX",
        desc: window.t("SIX â€” SIX Swiss Exchange"),
        flag: "switzerland",
        group: "Europe",
        country: "ch"
      }, {
        value: "ASX",
        name: "ASX",
        desc: window.t("ASX â€” Australian Securities Exchange"),
        flag: "australia",
        group: "Asia / Pacific",
        country: "au"
      }, {
        value: "NZX",
        name: "NZX",
        desc: window.t("NZX â€” New Zealand Stock Exchange"),
        flag: "new_zealand",
        group: "Asia / Pacific",
        country: "nz"
      }, {
        value: "SSE",
        name: "SSE",
        desc: window.t("SSE â€” Shanghai Stock Exchange"),
        flag: "china",
        group: "Asia / Pacific",
        country: "cn"
      }, {
        value: "SZSE",
        name: "SZSE",
        desc: window.t("SZSE â€” Shenzhen Stock Exchange"),
        flag: "china",
        group: "Asia / Pacific",
        country: "cn"
      }, {
        value: "HKEX",
        name: "HKEX",
        desc: window.t("HKEX â€” Hong Kong Exchange"),
        flag: "hong_kong",
        group: "Asia / Pacific",
        country: "hk"
      }, {
        value: "NSENG",
        name: "NSE",
        desc: window.t("NSE â€” Nigerian Stock Exchange"),
        flag: "nigeria",
        group: "Middle East / Africa",
        country: "ng"
      }, {
        value: "JSE",
        name: "JSE",
        desc: window.t("JSE â€” Johannesburg Stock Exchange"),
        flag: "south_africa",
        group: "Middle East / Africa",
        country: "za"
      }, {
        value: "COINBASE",
        name: "Coinbase",
        desc: window.t("Coinbase"),
        flag: "bitcoin",
        group: "Cryptocurrency",
        country: ""
      }, {
        value: "USI",
        name: "USI",
        desc: window.t("USI"),
        flag: "usa",
        hideInSymbolSearch: !0,
        group: "North America",
        country: "us"
      }, {
        value: "OMXHEX",
        name: "HEX",
        desc: window.t("HEX â€” Nasdaq Helsinki"),
        flag: "finland",
        group: "Europe",
        country: "fi"
      }, {
        value: "OMXICE",
        name: "ICEX",
        desc: window.t("ICEX â€” Nasdaq Iceland"),
        flag: "iceland",
        group: "Europe",
        country: "is"
      }, {
        value: "OMXCOP",
        name: "CSE",
        desc: window.t("CSE â€” Nasdaq Copenhagen"),
        flag: "denmark",
        group: "Europe",
        country: "dk"
      }, {
        value: "OMXSTO",
        name: "STO",
        desc: window.t("STO â€” Nasdaq Stockholm"),
        flag: "sweden",
        group: "Europe",
        country: "se"
      }, {
        value: "OMXVSE",
        name: "VSE",
        desc: window.t("VSE â€” Nasdaq Vilnius"),
        flag: "lithuania",
        group: "Europe",
        country: "lt"
      }, {
        value: "OMXTSE",
        name: "TALSE",
        desc: window.t("TALSE â€” Nasdaq Tallinn"),
        flag: "estonia",
        group: "Europe",
        country: "ee"
      }, {
        value: "OMXRSE",
        name: "OMXR",
        desc: window.t("OMXR â€” Nasdaq Riga"),
        flag: "latvia",
        group: "Europe",
        country: "lv"
      }, {
        value: "OMXNORDIC",
        name: "OMXNORDIC",
        desc: window.t("OMXNORDIC"),
        flag: "europe",
        hideInSymbolSearch: !0,
        group: "Europe",
        country: "eu"
      }, {
        value: "OMXBALTIC",
        name: "OMXBALTIC",
        desc: window.t("OMXBALTIC"),
        flag: "europe",
        hideInSymbolSearch: !0,
        group: "Europe",
        country: "eu"
      }]
    },
    JUkB: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "PaneRendererStepLine", function () {
        return c
      }), n = i("VdBB"), o = i("aO4+"), r = i("jFln"), s = i("Y7w9"), a = i("GEp6"), l = i("Zp/P"), c = function () {
        function e() {
          this._data = null
        }
        return e.prototype.setData = function (e) {
          this._data = e
        }, e.prototype.draw = function (e) {
          var t, i, n, o, s, a, l, c, u, h;
          if (null !== this._data && 0 !== this._data.items.length) {
            for (i = (t = this._data).lineWidth, n = t.lineStyle, o = t.lineColor, s = t.items, e.save(), e.lineCap = "square", e.strokeStyle = o, e.lineWidth = i, i % 2 == 0 && e.translate(-.5, -.5), void 0 !== n && Object(r.setLineStyle)(e, n), e.beginPath(), e.moveTo(s[0].x, s[0].y), a = s.length, l = 0; l < a; l++) c = s[l], e.lineTo(c.x, c.y), (u = s[l + 1]) && (h = Math.round((c.x + u.x) / 2), e.lineTo(h, c.y), e.lineTo(h, u.y));
            e.stroke(), e.restore()
          }
        }, e.prototype.hitTest = function (e) {
          var t, i, r, c, u, h, d, p, f, _, m, g, y;
          if (null === this._data || 0 === this._data.items.length) return null;
          for (i = (t = this._data).items, r = t.lineWidth, c = Object(l.selectionTolerance)(r), u = Object(s.lowerbound)(i, e, function (e, t) {
              return e.x <= t.x
            }), h = Math.max(0, u - 1), d = Math.min(i.length - 1, u + 1), p = h; p < d; p++)
            if (f = i[p], (_ = i[p + 1]) && (m = Math.round((f.x + _.x) / 2), g = new o.Point(m, f.y), y = new o.Point(m, _.y), Math.min(Object(a.distanceToSegment)(f, g, e).distance, Object(a.distanceToSegment)(g, y, e).distance, Object(a.distanceToSegment)(y, _, e).distance) <= c)) return new n.HitTestResult(n.HitTestResult.REGULAR);
          return null
        }, e
      }()
    },
    JZcM: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "AlertNotificationType", function () {
          return n
        }),
        function (e) {
          e.Fired = "fired", e.FireControl = "fire_control"
        }(n || (n = {}))
    },
    JgDS: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = {};
        return l.forEach(function (i) {
          var n = e[i];
          void 0 !== n && null !== n && "string" == typeof n && "" !== n && (t[i] = Object(a.htmlEscape)(n))
        }), t
      }

      function o(e, t) {
        void 0 === t && (t = !1);
        var i = Object(s.createUrlParams)(e);
        return i && t ? "?" + i : i
      }

      function r(e) {
        var t = Object(s.getUrlParams)(),
          i = n(t);
        return o(i, e)
      }
      var s, a, l;
      i.r(t), i.d(t, "UTM_PARAM_NAMES", function () {
        return l
      }), i.d(t, "filterUtmInfo", function () {
        return n
      }), i.d(t, "buildUtmQueryString", function () {
        return o
      }), i.d(t, "buildUtmQueryStringFromUrlParams", function () {
        return r
      }), s = i("B+p7"), a = i("LIFs"), l = ["utm_source", "utm_medium", "utm_campaign"]
    },
    JjUe: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S;
      i.r(t), i.d(t, "OverlayDataWindowView", function () {
        return S
      }), n = i("mrSG"), o = i("ivNn"), r = i("4miz"), s = i("dfhE"), a = i("GH0z"), l = i("k9/m"), c = i("7qT/"), u = i("Ialn"), h = i("qFKp"), d = i("38az"), p = i("e92V"), f = i("mMWL"), _ = h.CheckMobile.any(), m = _ && !1, g = new a.PercentageFormatter, y = window.t("n/a"), v = y + " (" + y + "%)", S = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._invalidated = !0, n._study = t, n._model = i, n._items.push(new r.DataWindowItem(window.t("Open"), "")), n._items.push(new r.DataWindowItem(window.t("High"), "")), n._items.push(new r.DataWindowItem(window.t("Low"), "")), n._items.push(new r.DataWindowItem(window.t("Close"), "")), n._items.push(new r.DataWindowItem("", "")), n._items.push(new r.DataWindowItem("", "")), n._items.push(new r.DataWindowItem(window.t("Change"), "")), n.update(), n
        }
        return n.__extends(t, e), t.prototype.items = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._items
        }, t.prototype.update = function () {
          this._invalidated = !0
        }, t.prototype._updateImpl = function () {
          var e, t, i, n, r, s, a, c, h, d, p, f, _, m, S, b, w, P;
          if (this._header = this._study.title(), this._items[0].setValue(y), this._items[1].setValue(y), this._items[2].setValue(y), this._items[3].setValue(y), this._items[6].setValue(v), !this._model.timeScale().isEmpty() && 0 !== this._study.data().size()) {
            for (e = this._showLastPriceAndChangeOnly(), t = 0, i = this._items; t < i.length; t++) i[t].setVisible(!e);
            if ((n = this._items[4]).setVisible(!1), null !== (r = e ? this._study.data().lastIndex() : this._model.crossHairSource().appliedIndex()) && Object(o.isNumber)(r) && null !== (s = this._study.data().search(r, l.PlotRowSearchMode.NearestLeft, !0)) && (a = s.index, h = (c = s.value)[1], d = c[2], p = c[3], f = c[4], null != h && null != d && null != p && null != f))
              for (_ = this._study.formatter(), void 0 !== (m = this._changesData(f, h, a, e)).values && (S = Object(u.forceLTRStr)(_.format(m.values.change, !0) + " (" + g.format(m.values.percentChange, !0) + ")"), this._items[6].setValue(S)), e ? (this._items[5].setValue(_.format(f)), this._items[5].setVisible(!0), this._items[6].setVisible(!0)) : (this._items[0].setValue(_.format(h)), this._items[1].setValue(_.format(d)), this._items[2].setValue(_.format(p)), this._items[3].setValue(_.format(f)), n.setValue(_.format(this._study.barFunction()(c))), this._items[5].setVisible(!1)), b = this._color(a, m, e), w = 0, P = this._items; w < P.length; w++) P[w].setColor(b)
          }
        }, t.prototype._showLastPriceAndChangeOnly = function () {
          return _ && (null === this._model.crossHairSource().pane || Object(p.a)(f.tool.value()) || null !== this._model.lineBeingEdited())
        }, t.prototype._changesData = function (e, t, i, n) {
          var o, r, s;
          if (n && !m) {
            if (null !== (o = this._study.quotes())) return {
              values: {
                change: o.change,
                percentChange: o.change_percent
              },
              priceDirection: {
                basedOnCurrentBar: o.change >= 0 ? 0 : 1,
                basedOnPrevClose: o.change >= 0 ? 0 : 1
              }
            }
          } else if (null !== (s = (r = this._study.data().search(i - 1, l.PlotRowSearchMode.NearestLeft, !0)) && r.value[4] || null)) return {
            values: {
              change: e - s,
              percentChange: Object(c.a)(s, e)
            },
            priceDirection: {
              basedOnCurrentBar: e >= t ? 0 : 1,
              basedOnPrevClose: e >= s ? 0 : 1
            }
          };
          return {
            priceDirection: {
              basedOnCurrentBar: e >= t ? 0 : 1,
              basedOnPrevClose: e >= t ? 0 : 1
            }
          }
        }, t.prototype._color = function (e, t, i) {
          var n, o, r, a = d.SeriesBarColorer.upColor(this._study.properties()),
            l = d.SeriesBarColorer.downColor(this._study.properties());
          return i && !m ? t.priceDirection ? a : l : (n = this._study.properties().style.value()) === s.STYLE_BASELINE ? null != (o = this._study.barColorer().barStyle(e, !1)).barBorderColor ? o.barBorderColor : o.barColor : (r = !1, n === s.STYLE_BARS ? r = this._study.properties().barStyle.barColorsOnPrevClose.value() : n === s.STYLE_CANDLES ? r = this._study.properties().candleStyle.barColorsOnPrevClose.value() : n === s.STYLE_HOLLOW_CANDLES && (r = !0), r ? 0 === t.priceDirection.basedOnPrevClose ? a : l : 0 === t.priceDirection.basedOnCurrentBar ? a : l)
        }, t
      }(r.DataWindowView)
    },
    JmuD: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.isObject = function (e) {
        var t = typeof e;
        return null !== e && ("object" === t || "function" === t)
      }, t.hasProperty = function (e, t) {
        return t in e
      }
    },
    Jw1H: function (e, t, i) {
      "use strict";

      function n(e) {
        window.addEventListener("beforeunload", function (t) {
          if (e.hasChanges()) return t.returnValue = o, o
        })
      }
      i.r(t), i.d(t, "initBeforeUnloadMessage", function () {
        return n
      });
      var o = window.t("The Chart Layout includes unsaved changes. You will lose your data if you leave the page.")
    },
    K4L1: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var n, o, r, s, a, c, u, h, d;
        if (!e) throw new Error("No studies metainfo");
        if (n = i("EyEd"), this._studiesMetainfo = e, !t) throw new Error("No studies migrations");
        for (this._studiesMigrations = t, this._migrations = {}, o = 0; o < this._studiesMigrations.length; o++)
          for (s = (r = this._studiesMigrations[o]).versFrom, a = r.versTo, c = 0; c < r.studyMigrations.length; c++) h = (u = r.studyMigrations[c]).studyId, 0 !== u.rules.length ? ((d = h in this._migrations ? this._migrations[h] : new n(h)).addMigration(s, a, u.rules), this._migrations[h] = d) : l.logError("Study Migration should have at least one convertion rule");
        this._clientMigrations = [function (e, t) {
          var i, n, o, r, s;
          if (0 === this._studiesMetainfo.length || !e.isTVScript || e.version >= 22) return t;
          for (i = {}, n = 0, o = 0; void 0 !== (r = t[o]);) s = t[r.id], r.isFake && (r.id = "in_" + n++), i[o] = r, i[r.id] = s, o++;
          return i
        }]
      }
      var o = i("Eyy1").assert,
        r = i("ijIX").patchSourceState,
        s = i("nmnj"),
        a = i("lCO3").Version,
        l = i("uOxu").getLogger("Chart.Study.Versioning"),
        c = i("Wt0y"),
        u = i("0YCj"),
        h = i("TcSq").extractPineId,
        d = i("Si3H").migrateMetaInfoAndPropState;
      n.prototype.updateMetaInfo = function (e) {
        var t, i, n;
        if (!e) return e;
        for (o(!e.isTVScript, "This method should update only built-in java indicators metaInfo. For Pine indicators use updateMetaInfoAsync"), t = null, i = this._studiesMetainfo, n = 0; n < i.length; n++)
          if (i[n].id === e.id) {
            t = i[n];
            break
          } return TradingView.clone(t)
      }, n.prototype.updateMetaInfoAsync = function (e) {
        var t, i, n, r, a, l;
        if (!e) return {
          sync: !1,
          result: Promise.reject("No old metaInfo was given")
        };
        if (t = e.isTVScript && e.scriptIdPart && TVScript.pineType(e.scriptIdPart) === TVScript.PineType.Addon, i = u.versionOf(e), e.isTVScript && !e.pine && !t && i < u.VERSION_PINE_PROTECT_TV_4164) return o(TradingView.isExistent(e.scriptIdPart), "scriptIdPart is missing, study " + JSON.stringify(e)), n = e.scriptIdPart, {
          sync: !1,
          result: new Promise(function (t, i) {
            s.processLegacy(n, e.TVScriptSourceCode).done(function (i) {
              u.removeStudyMetaInfo(this._studiesMetainfo, e), i = u.addOrReplaceStudyMetaInfo(this._studiesMetainfo, i), t(i)
            }.bind(this)).fail(function (e, t) {
              i(e)
            })
          }.bind(this))
        };
        if ((e.isTVScript || e.isTVScriptStubToCompile) && e.pine && !t) return (e._serverMetaInfoVersion || i) !== u.CURRENT_METAINFO_FORMAT_VERSION ? {
          sync: !1,
          result: new Promise(function (t, i) {
            s.translateScriptAsync2(e.scriptIdPart, e.pine.version).done(function (e) {
              e = u.addOrReplaceStudyMetaInfo(this._studiesMetainfo, e), t(e)
            }.bind(this)).fail(function (e, t) {
              i(e)
            })
          }.bind(this))
        } : {
          sync: !0,
          result: u.addOrReplaceStudyMetaInfo(this._studiesMetainfo, e)
        };
        for (r = null, a = this._studiesMetainfo, l = 0; l < a.length; l++)
          if (a[l].id === e.id) {
            r = a[l];
            break
          } return {
          sync: !0,
          result: r ? TradingView.clone(r) : null
        }
      }, n.prototype.lastVersionOfStudy = function (e) {
        return u.findStudyMetaInfo(this._studiesMetainfo, e).version
      }, n.prototype.updateStudyInputs = function (e, t, i, n, o) {
        var r, s, c, u, h, d = TradingView.clone(n);
        if (e in this._migrations && (r = a.parse(t), "last" === i ? (c = this.lastVersionOfStudy(e), s = a.parse(c)) : s = a.parse(i), d = this._migrations[e].updateInputs(r, s, d)), null == o) return d;
        for (u in o) u in d || (d[u] = o[u]);
        for (u in d) u in o || (h = d[u], l.logWarn("Extra input detected, studyId=" + e + ", versionFrom=" + t + ", inputId=" + u + ", inputValue=" + h + ", removing it and continue..."), delete d[u]);
        return d
      }, n.prototype.updateStudyState = function (e, t, i) {
        var n, o, r, s, a, c, h, d, p, f, _, m, g;
        if (null == e || null == t || null == i) return e;
        for (e = TradingView.clone(e), t.isTVScript || !!t.pine || t.version === i.version || (n = i && i.defaults.inputs, o = this.updateStudyInputs(t.id, t.version, i.version, e.inputs, n), e.inputs = o), r = 0; r < this._clientMigrations.length; ++r) o = this._clientMigrations[r].call(this, t, e.inputs), Object.keys(o).length === Object.keys(e.inputs).length ? e.inputs = o : l.logWarn("StudyVersioning._clientMigrations application returned bad result. Skipping it...");
        if (s = u.versionOf(t), t.isTVScript && t.TVScriptSourceCode && s >= 12 && s <= 26) {
          for (a = {}, r = 0; r < t.plots.length; ++r) c = t.plots[r], h = i.plots[r], a[c.id] = h.id;
          for (d = Object.keys(e.styles), r = 0; r < d.length; ++r) p = d[r], f = e.styles[p], delete e.styles[p], _ = a[p], e.styles[_] = f;
          for (m = Object.keys(e.plots), r = 0; r < m.length; ++r) g = m[r], p = e.plots[g].id, e.plots[g].id = a[p]
        }
        return e
      }, n.prototype.patchPointsBasedStudyState = function (e) {
        return n._fixInputsMaxValue(e.state, e.metaInfo),
          "LineToolRegressionTrend" === e.type && (e = r(e)), e
      }, n.prototype.patchPointsBasedStudyData = function (e, t) {
        if (!c.isProd()) return t;
        if (!e || !t) return t;
        var i = TradingView.clone(t);
        return "VbPFixed@tv-volumebyprice" === e.id && e.version && e.version <= 4 && n._patchOldVolumeProfiles(0, i), i
      }, n.prototype.patchStudyData = function (e, t, i, o) {
        var r, s, a, l, h, d, p;
        if (!c.isProd()) return {
          data: t,
          nsData: i,
          indexes: o
        };
        if (r = TradingView.clone(t), s = TradingView.clone(i), a = TradingView.clone(o), "VbPVisible@tv-volumebyprice" === e.id && e.version && e.version <= 4 && n._patchOldVolumeProfiles(0, r.graphics), "VbPSessions@tv-volumebyprice" === e.id && e.version && e.version <= 4 && n._patchOldVolumeProfiles(0, r.graphics), l = u.versionOf(e), e.isTVScript && e.TVScriptSourceCode && l >= 12 && l <= 26)
          for (h = r.columns, r.columns = [], d = 0; d < h.length; ++d) p = "plot_" + d, r.columns.push(p);
        return {
          data: r,
          nsData: s,
          indexes: a
        }
      }, n._patchOldVolumeProfiles = function (e, t) {
        var i, n = t.hhists[e].data,
          o = [];
        for (i in n) o = o.concat(n[i]);
        t.hhists[0].data = o
      }, n._fixInputsOrder = function (e, t) {
        var i, o, r, s, a = u.getOrderedInputIds(t),
          l = n.splitInputs(e.inputs),
          c = l.arr,
          h = l.obj,
          d = TradingView.merge({}, h);
        for (i = 0; i < a.length; ++i) o = a[i], null !== (r = n.findInputKeyById(c, o)) && (s = c[r], d[i] = s);
        e.inputs = d
      }, n.INPUT_MAX_VALUE = 1e12, n._verifyInputsMaxValue = function (e) {
        var t, i, o = n.INPUT_MAX_VALUE;
        if (e.inputs)
          for (t = 0; t < e.inputs.length; t++) "integer" === (i = e.inputs[t]).type && i.max && i.max > o && l.logWarn("Bad integer input max value in metaInfo id=" + e.id + " title=" + e.description)
      }, n._fixInputsMaxValue = function (e, t) {
        var i, o, r, s, a, l;
        if (!TradingView.isAbsent(t)) {
          if (i = n.INPUT_MAX_VALUE, t.inputs)
            for (o = 0; o < t.inputs.length; o++) "integer" === (r = t.inputs[o]).type && r.max && r.max > i && (r.max = i);
          if (e && e.inputs) {
            for (l in a = (s = n.splitInputs(e.inputs)).arr) "integer" === (r = a[l]).type && r.max && r.max > i && (r.max = i);
            e.inputs = TradingView.merge(s.obj, s.arr)
          }
        }
      }, n.prototype.patchPropsStateAndMetaInfo = function (e, t, i) {
        var o, r, s, a, l, c, p, f, _, m, g, y, v, S, b, w, P, T, C;
        if ("Script$BOOKER" !== t.productId || t.alerts || delete e.alerts, n._fixInputsOrder(e, t), n._fixInputsMaxValue(e, t), o = n.splitInputs(e.inputs), e.inputs = o.obj, (r = u.versionOf(t)) < u.METAINFO_FORMAT_VERSION_SOS_V2 && t.isChildStudy && (e.isChildStudy = t.isChildStudy), s = 60, t.isTVScript && t.version < s && ("Script$TV_EARNINGS@tv-scripting" !== t.id && "Script$TV_DIVIDENDS@tv-scripting" !== t.id && "Script$TV_SPLITS@tv-scripting" !== t.id || delete t.TVScriptSourceCode), "Volume" !== t.id && "Volume@tv-basicstudies" !== t.id || 0 !== t.inputs.length || (t.inputs = [{
            id: "length",
            type: "integer",
            defval: 20,
            min: 1,
            max: 1e3
          }], t.plots.push({
            id: "vol_ma",
            type: "line"
          })), "Volume@tv-basicstudies" === t.id && t.version && t.version <= 46 && (e.styles.vol.transparency = e.transparency || 87), "PivotPointsStandard@tv-basicstudies" === t.id && (0 === t.inputs.length ? (e.inputs = {
            kind: "Traditional",
            showHistoricalPivots: !0
          }, t.inputs = [{
            defval: "Traditional",
            id: "kind",
            type: "text",
            options: ["Traditional", "Fibonacci", "Woodie", "Classic", "DeMark", "Camarilla"]
          }, {
            id: "showHistoricalPivots",
            type: "bool",
            defval: !0
          }]) : 1 === t.inputs.length && (e.inputs = {
            kind: "Traditional"
          }, t.inputs = [{
            defval: "Traditional",
            id: "kind",
            type: "text",
            options: ["Traditional", "Fibonacci", "Woodie", "Classic", "DeMark", "Camarilla"]
          }, {
            id: "showHistoricalPivots",
            type: "bool",
            defval: !0
          }]), void 0 === e._hardCodedDefaultsVersion && (e._hardCodedDefaultsVersion = 1, a = e.color, delete e.color, e.levelsStyle = {
            colors: {
              P: a,
              "S1/R1": a,
              "S2/R2": a,
              "S3/R3": a,
              "S4/R4": a,
              "S5/R5": a
            }
          })), "CMF" === t.shortId && 2 === t.inputs.length && (e.inputs = {
            length: e.inputs["length fast"]
          }, t.inputs = t.inputs.splice(0, 1), t.inputs[0].id = "length"), t.defaults && void 0 === t.defaults.precision && r < u.VERSION_NEW_STUDY_PRECISION_FORMAT && (-1 !== ["Volume@tv-basicstudies", "VbPVisible@tv-volumebyprice", "VbPSessions@tv-volumebyprice"].indexOf(t.id) ? t.defaults.precision = 0 : t.defaults.precision = 4), l = 60, t.version < l)
          for (c = ["TV_DIVIDENDS", "TV_SPLITS", "TV_EARNINGS"], p = "Script".length, f = 0; f < c.length; f++) t.id.startsWith("Script$" + c[f] + "@tv-scripting") && (t.fullId = "ESD" + t.fullId.substring(p), t.id = "ESD" + t.id.substring(p), t.name = "ESD" + t.name.substring(p), t.shortId = "ESD" + t.shortId.substring(p), t.productId = "ESD" + t.productId.substring(p));
        if (r < u.VERSION_PINE_PROTECT_TV_4164 && (_ = {
            "StrategyScript$STD;Consecutive%1Ups/Downs%1Strategy": {
              pineId: "STD;Consecutive%1Ups%1Downs%1Strategy",
              className: "StrategyScript"
            },
            Script$EDGR_NET_INCOME_FROM_CONTINUING_OPERATIONS_APPLICABLE_TO_COMMON_V2: {
              pineId: "Script$EDGR_NET_INCOME_FROM_CONTINUING_OPS_APPLICABLE_TO_COMMON_V2",
              className: "Script"
            }
          }, t.shortId in _ && (m = _[t.shortId].className + "$" + _[t.shortId].pineId, g = {
            scriptIdPart: _[t.shortId].pineId,
            fullId: t.fullId.replace(t.shortId, m),
            id: t.id.replace(t.shortId, m),
            name: t.name.replace(t.shortId, m),
            shortId: m
          }, TradingView.merge(t, g), TradingView.merge(e, g)), (v = (y = h(t.fullId)) && y.match(/^(USER)(_\d+)(;)(.*)$/)) && (S = v[0], g = {
            scriptIdPart: b = v[1] + v[3] + v[2] + v[4],
            fullId: t.fullId.replace(S, b),
            id: t.id.replace(S, b),
            name: t.name.replace(S, b),
            shortId: t.shortId.replace(S, b)
          }, TradingView.merge(t, g), TradingView.merge(e, g))), "MA" === t.id) {
          switch (w = new u({
            id: "MAExp",
            properties: [{
              id: "is_price_study",
              type: "bool",
              value: "true"
            }],
            inputs: [{
              id: "length",
              type: "integer",
              defval: 20,
              min: 1,
              max: 500
            }, {
              id: "source",
              type: "text",
              defval: "close",
              options: ["open", "high", "low", "close"]
            }],
            plots: [{
              id: "MovAvgExp",
              type: "line"
            }],
            palettes: {}
          }), P = new u({
            id: "MASimple",
            properties: [{
              id: "is_price_study",
              type: "bool",
              value: "true"
            }],
            inputs: [{
              id: "length",
              type: "integer",
              defval: 20,
              min: 1,
              max: 500
            }, {
              id: "source",
              type: "text",
              defval: "close",
              options: ["open", "high", "low", "close"]
            }],
            plots: [{
              id: "MovAvgSimple",
              type: "line"
            }],
            palettes: {}
          }), T = new u({
            id: "MAVolumeWeighted",
            properties: [{
              id: "is_price_study",
              type: "bool",
              value: "true"
            }],
            inputs: [{
              id: "length",
              type: "integer",
              defval: 20,
              min: 1,
              max: 500
            }, {
              id: "source",
              type: "text",
              defval: "close",
              options: ["open", "high", "low", "close"]
            }],
            plots: [{
              id: "MovAvgVolumeWeighted",
              type: "line"
            }],
            palettes: {}
          }), C = new u({
            id: "MAWeighted",
            properties: [{
              id: "is_price_study",
              type: "bool",
              value: "true"
            }],
            inputs: [{
              id: "length",
              type: "integer",
              defval: 20,
              min: 1,
              max: 500
            }, {
              id: "source",
              type: "text",
              defval: "close",
              options: ["open", "high", "low", "close"]
            }],
            plots: [{
              id: "MovAvgWeighted",
              type: "line"
            }],
            palettes: {}
          }), e.inputs.type) {
            case "exp":
              t = w;
              break;
            case "simple":
              t = P;
              break;
            case "weighted":
              t = C;
              break;
            case "volume weighted":
              t = T
          }
          e.styles[t.plots[0].id] = e.styles.MovAvg, delete e.styles.MovAvg, delete e.inputs.type
        }
        return i.oldShowStudyLastValueProperty && (e.oldShowLastValue = e.showLastValue), delete e.showLastValue, delete e.showStudyArguments, d(t, e), {
          propsState: e,
          metaInfo: t
        }
      }, n.mergeInputs = function (e, t) {
        n.mergeInputsArrPart(e, t), n.mergeInputsObjPart(e, t)
      }, n.mergeInputsArrPart = function (e, t) {
        var i, o, r = n.splitInputs(t);
        for (i in r.arr)(o = n.findInputKeyById(e, r.arr[i].id)) ? TradingView.merge(e[o], r.arr[i]) : n.appendInputInfoToArr(e, r.arr[i])
      }, n.mergeInputsObjPart = function (e, t) {
        var i = n.splitInputs(t);
        TradingView.merge(e, i.obj)
      }, n.appendInputInfoToArr = function (e, t) {
        var i, n, o = -1;
        for (i in e) n = parseInt(i, 10), isNumber(n) && n > o && (o = n);
        e[o + 1] = t
      }, n.splitInputs = function (e) {
        var t, i = {},
          n = {};
        for (t in e) isNumber(parseInt(t, 10)) ? i[t] = e[t] : n[t] = e[t];
        return {
          arr: i,
          obj: n
        }
      }, n.findInputKeyById = function (e, t) {
        var i, n = null;
        for (i in e)
          if (isNumber(parseInt(i, 10)) && e[i].id === t) {
            n = i;
            break
          } return n
      }, n.getInputKeyById = function (e, t) {
        var i = n.findInputKeyById(e, t);
        if (!i) throw new Error("Cannot find input with id: " + t);
        return i
      }, e.exports = n
    },
    K8V9: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M13.111 18.5H10.5a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h-8.389z"/><path d="M18.5 20v1.5a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1H8"/></g></svg>'
    },
    KCAb: function (e, t, i) {
      "use strict";
      (function (e) {
        function t(e) {
          var t, i = document.getElementById(Z.Publish);
          i && i.contains(e.target) || (t = TradingView.bottomWidgetBar) && t.turnOffMaximize()
        }

        function n() {
          $(".loading-indicator").remove()
        }

        function o() {
          var e, t;
          return Me("main_chart.LoadToolbars"), e = we.load().then(function () {
            var e;
            ne.addonId && (e = ne.addonId, window.pro.findProduct(e).then(function (e) {
              pro.isProductDefined(e) && window.studyMarket.show().then(function () {
                var t = window.studyMarket.getDialog();
                t.marketPagesReady.then(function () {
                  t.selectPage(e.name)
                })
              })
            }))
          }), t = Pe.load(), {
            headerToolbarPromise: e,
            drawingToolbarPromise: Te.load(),
            widgetbarPromise: Ce.load().then(function (e) {
              window.widgetbar = e
            }),
            bottomWidgetPromise: Ie.load().then(function (e) {
              return function (e, t) {
                t.change().subscribe(null, function (t, i, n) {
                  var o, r;
                  n || (o = function (e, t) {
                    var i = t.map(function (e) {
                      return e.id()
                    });
                    return e.filter(function (e) {
                      return !i.includes(e.id())
                    })
                  }(t, i), r = function (e, t) {
                    var i = e.map(function (e) {
                      return e.id()
                    });
                    return t.filter(function (e) {
                      return !i.includes(e.id())
                    })
                  }(t, i), 0 === o.length && 1 === r.length && e.toggleWidget("backtesting", !0))
                })
              }(e, ve), TradingView.bottomWidgetBar = e, e
            }),
            footerWidgetPromise: Ae.load().then(function (e) {
              return window.footerWidget = e.getComponent(), e.getComponent()
            }),
            topLeftButtonPromise: t
          }
        }
        var r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U, H, j, z, Y, q, G, X, K, J, Q, Z, ee, te, ie, ne, oe, re, se, ae, le, ce, ue, he, de, pe, fe, _e, me, ge, ye, ve, Se, be, we, Pe, Te, Ce, xe, Ee, Ie, Ae, Le, De, ke, Oe, Me = i("b1GK").addPerfMark;
        Me("main_chart.ExecuteStart"), i("zmwC"), i("KVvs"), r = i("s4+V"),
          e.enable("tv_production"), window.setWinMobileMode = function () {}, i("wZIs"), s = i("I4UZ").HeaderToolbarBootloader, a = i("RBZs").FullToolsetBootloader, l = i("9zVu").DrawingToolbarBootloader, c = i("OiSa").isDrawingToolbarVisible, u = i("Lv9E").WidgetbarBootloader, h = i("irjp").BottomWidgetbarBootloader, d = i("dGVi").Dispatcher, p = i("QWsN").FullConfigSetBootloder, f = i("t/D+").FooterWidgetBootloader, _ = i("xsk5").TopLeftButtonBootloader, m = i("/Y2c"), g = i("2rat").SupportTicketData, y = i("3U/I"), v = i("PiKd"), S = i("vPbs").CHART_WIDGET_COLLECTION_SERVICE, b = i("ObRt"), w = i("SKqm"), P = i("g5Qf").createFavoriteDrawingToolbar, T = i("3Tqy").AlertsDispatcher, C = i("RXmj").ChartSaver, x = i("qGsh"), E = i("F58L").StudyTemplates, I = i("54XG").FavoriteStudyTemplateService, A = i("/5ju").SaveChartService, L = i("eGfm").SharingChartService, D = i("lA7n").LoadChartService, k = i("PT1i").linking, O = i("nmnj"), M = i("9nLJ"), R = i("z3gQ"), V = i("xlbu").telemetry, B = i("FBuY").TVXWindowEvents, N = i("JT5O").StudyMarket, F = i("EsvI").restoreTheme, W = i("EsvI").setTheme, U = i("Vdly"), H = i("ZekX").availableTimeFrames, j = i("Ehu7").isSymbolAvailable, z = i("Ehu7").requestFallbackSymbol, Y = i("FQhm"), q = i("htUT").ChartChangesWatcher, G = i("Jw1H").initBeforeUnloadMessage, X = i("ON13").createGoRegisterDialog, K = i("OkvX"), J = i("NP3r").enabled, Q = i("bKsZ").ProductFeatures, Z = i("IdsS").HeaderToolbarComponentIds, ee = i("+GxX").isFeatureEnabled, te = i("qFKp").CheckMobile, ie = i("PC8g").trackEvent, i("uAQo"), ne = window.initData, oe = ne.readOnly, e.enabled("alerts") && (TradingView.alertsDispatcher = new T, ne.block_alert_dispatcher_show_predefined_events(TradingView.alertsDispatcher)), re = i("lW/c").Root, se = i("NsVT").ChartPage, ae = new re(window), le = new se(ae.allocate()), ce = !ee("hide_scale_toolbar_buttons"), ue = new m({
            topOffset: 1,
            resizerBridge: le.allocate({
              areaName: "center"
            }),
            padding: 2,
            edge: parseInt(K["size-main-chart-area-indent"]),
            content: ne.content,
            onfeatures: ne.onfeatures,
            readOnly: ne.readOnly,
            saveChartEnabled: !0,
            takeScreenshotEnabled: !0,
            widgetOptions: {
              defSymbol: ne.defSymbol || (ne.content ? "" : U.getValue("editchart.model.symbol", DEFAULT_SYMBOL)),
              defInterval: ne.defInterval || (ne.content ? "" : U.getValue("editchart.model.interval")),
              defStyle: ne.defStyle || (ne.content ? "" : U.getValue("editchart.model.style")),
              addToWatchlistEnabled: !0,
              propertyPagesEnabled: !0,
              chartEventsEnabled: !0,
              esdEnabled: !0,
              controlBar: !0,
              addVolume: !0,
              handleSessionErrors: !0,
              justCloned: ne.justCloned,
              isDrawingToolbarVisible: c,
              crossHairOptions: {
                menuEnabled: !ne.readOnly
              },
              paneContextMenuEnabled: !ne.readOnly,
              tradeContextMenuEnabled: !ne.readOnly,
              isSymbolAvailable: j,
              requestFallbackSymbol: z,
              marketStatusWidgetEnabled: !0,
              chartWarningWidgetEnabled: !0,
              timeScaleWidget: {
                contextMenuEnabled: !0,
                timezoneMenuEnabled: !0
              },
              timeScale: {
                preserveBarSpacing: !1,
                lockVisibleTimeRangeOnResize: !1
              },
              legendWidgetEnabled: !0,
              legendWidget: {
                contextMenuEnabled: !0,
                sourceSelectionEnabled: !0,
                symbolMarkerEnabled: !ee("hide_chart_flag"),
                alertWidgetEnabled: e.enabled("alerts")
              },
              goToDateEnabled: !0
            },
            seriesControlBarEnabled: !ne.readOnly,
            seriesControlBar: {
              timeFramesWidgetEnabled: !0,
              timeFramesWidget: {
                goToDateEnabled: !0,
                availableTimeFrames: H
              },
              timeWidgetEnabled: !0,
              timeWidget: {
                timezoneMenuEnabled: !0
              },
              adjustForDividendsButtonEnabled: !0,
              extendedHoursButtonEnabled: !0,
              percentageScaleButtonEnabled: ce,
              logScaleButtonEnabled: ce,
              autoScaleButtonEnabled: ce,
              fullscreenButtonEnabled: !0,
              mobileChangeLayoutEnabled: te.any()
            },
            metaInfo: ne.metaInfo,
            globalEvents: !0,
            mobileForceChartMaximizeEnabled: te.any()
          }), he = oe ? null : new Promise(function (e) {
            Promise.all([i.e(187), i.e(131), i.e("trading")]).then(function () {
              var t = i("N22A").TRADING_SERVICE,
                n = i("End0").Trading,
                o = new n(le.allocate({
                  areaName: "tradingpanel"
                }));
              o.setChartWidgetCollection(ue), b.registerService(t, o), e(o)
            }.bind(null, i)).catch(i.oe)
          }), de = "hint.trackingMode", pe = te.any() && !Boolean(U.getBool(de)) ? new Promise(function (e) {
            Promise.all([i.e("vendors"), i.e(6), i.e(8), i.e(9), i.e(10), i.e(17), i.e(292), i.e(7), i.e(15), i.e("tracking-mode-popup-hint")]).then(function () {
              e(i("SEHt"))
            }.bind(null, i)).catch(i.oe)
          }) : null, P(), ue.readOnly() || (window.studyMarket = new N(ue)), b.registerService(S, ue), J(Q.NO_SPONSORED_ADS) || Promise.all([i.e("vendors"), i.e(184), i.e(75), i.e(138), i.e("chart-placement")]).then(function (e) {
            var t = i("zZwV").ChartPlacement;
            ne.ad_data && ne.ad_data.placement === t.TYPE && (ne.ad_data.chartWidgetCollection = ue, new t(ne.ad_data, ne.ad_xhr), ne.ad_data = ne.ad_xhr = void 0)
          }.bind(null, i)).catch(i.oe), k.bindToChartWidgetCollection(ue), g.setChartWidgetCollection(ue), window.scriptUpdater = new y(ue), ne.study_user_scripts && O.setUserScripts(ne.study_user_scripts), window._exposed_chartWidgetCollection = ue, ne.theme ? W(ne.theme) : F(), window.saver = new C(ue), fe = new q(ue.undoHistory, window.saver, Y), _e = new I(B, U), me = new A(ue, window.saver), ge = new L(!!ne.sharing_enabled, ue.metaInfo.uid.value(), ue.metaInfo.id.value()), ye = new D(ue), ve = new d(ue), Se = Modernizr.mobiletouch ? ["full"] : e.enabled("caption_buttons_text_if_possible") ? void 0 : ["medium"], be = new E({
            favoriteStudyTemplatesService: _e,
            chartWidgetCollection: ue
          }), we = new s(new a, {
            resizerBridge: le.allocate({
              areaName: "top"
            }),
            ideas: !0,
            chartSaver: window.saver,
            chartApiInstance: ChartApiInstance,
            availableTimeFrames: H,
            allowedModes: Se,
            chartWidgetCollection: ue,
            studyMarket: window.studyMarket,
            studyTemplates: be,
            favoriteStudyTemplatesService: _e,
            saveChartService: me,
            sharingChartService: ge,
            loadChartService: ye,
            chartChangesWatcher: fe,
            onClick: t
          }), Pe = new _({
            resizerBridge: le.allocate({
              areaName: "topleft"
            }),
            chartChangesWatcher: fe,
            chartWidgetCollection: ue
          }), Te = new l({
            resizerBridge: le.allocate({
              areaName: "left"
            }),
            chartWidgetCollection: ue,
            readOnly: oe,
            onClick: t
          }), Ce = new u({
            chartWidgetCollection: ue,
            resizerBridge: le.allocate({
              areaName: "right"
            }),
            settingsPrefix: "widgetbar",
            showCloseButton: !0,
            showWizardFn: null,
            areShortcutsAvailable: !0,
            widgetConfig: {
              datawindow: {
                ctor: w
              }
            }
          }, null === he ? Promise.resolve() : he.then(function (e) {
            return {
              tradingPanel: e.tradingPanel,
              setDomPanelVisibility: e.setDomPanelVisibility.bind(e),
              setOrderPanelVisibility: e.setOrderPanelVisibility.bind(e)
            }
          })), xe = new p, Ee = le.allocate({
            areaName: "bottom"
          }), Ie = new h({
            resizerBridge: Ee,
            chartWidgetCollection: ue,
            backtestingStrategyDispatcher: ve,
            widgets: ["screener", "text_notes", oe ? null : "scripteditor", "backtesting", oe ? null : "paper_trading"],
            configBootloader: xe
          }), Ae = new f({
            resizerBridge: Ee,
            chartWidgetCollection: ue,
            bottomWidgetbarBootloader: Ie
          }), Promise.all([i.e("vendors"), i.e(45), i.e(46), i.e(63), i.e(81), i.e(86), i.e(168), i.e(245), i.e(39), i.e(38), i.e(56), i.e(74), i.e("line-tools-icons"), i.e(146), i.e(135), i.e("floating-toolbars")]).then(function (e) {
            var t = i("tPkB");
            window.lineToolPropertiesToolbar = new t(ue)
          }.bind(null, i)).catch(i.oe), v.load("chart-messages", function () {
            i.e("chart-messages").then(function (e) {
              var t = i("auSW").OnChartMessages;
              window.onChartMessages = new t({
                readonly: oe
              })
            }.bind(null, i)).catch(i.oe)
          }, 1e3), e.enabled("alerts") && TradingView.alertsDispatcher.setChartWidgetCollection(ue), Le = ue.activeChartWidget.value(), De = null, Le ? (ue.firstWidgetInitialized ? De || (De = o()) : Le.chartWidgetInitialized.subscribe(null, function () {
            De || (De = o())
          }, !0), Le.withModel(Le, function () {
            this.model().mainSeries().dataEvents().completed().subscribe(this, function () {
              TradingView.alertsDispatcher && TradingView.alertsDispatcher.showPredefinedEvents(), null !== pe && (pe.then(function (e) {
                setTimeout(function () {
                  e.render(document.createElement("div"), function () {
                    U.setValue(de, !0, {
                      forceFlush: !0
                    }), ie("GUI", "Tracking Mode")
                  })
                }, 1e3)
              }), pe = null)
            })
          }, !0), new x(ue), window.TradingViewApi = new M(ue, null, me, ye), null !== he && Promise.all([i.e("vendors"), i.e(45), i.e(46), i.e(63), i.e(81), i.e(86), i.e(168), i.e(245), i.e(39), i.e(38), i.e(56), i.e(74), i.e("line-tools-icons"), i.e(146), i.e(135), i.e("floating-toolbars")]).then(function (e) {
            var t = i("Vddd");
            he.then(function (e) {
              new t(e)
            })
          }.bind(null, i)).catch(i.oe), n(), Le.onTagsChanged().subscribe(null, function () {
            Le.model() && (U.setValue("editchart.model.interval", Le.model().mainSeries().properties().interval.value()), U.setValue("editchart.model.style", Le.model().mainSeries().properties().style.value()), U.setValue("editchart.model.symbol", Le.model().mainSeries().properties().symbol.value()))
          }), Le.onDisconnected().subscribe(null, function (e) {
            e && R.showCriticalErrorMessage(function () {
              ChartApiInstance.disconnect(), setTimeout(function () {
                ChartApiInstance.connect(), Le.reconnect()
              }, 500)
            })
          }), Le.onReconnectBailout().subscribe(null, function () {
            R.showDisconnectedMessage(function () {
              setTimeout(function () {
                ChartApiInstance.connect()
              }, 0)
            })
          }), Le.onConnected().subscribe(null, function () {
            Le._disconnectCounter = 0
          }), $(".tv-content").bind("contextmenu", function (e) {
            var t = $(e.originalEvent.target);
            if (!t.is("input") && !t.is("textarea")) return !1
          }), setTimeout(function () {
            n()
          }, 1e4), setTimeout(function () {
            De || (De = o())
          }, 5e3), ke = "count-opened-tabs", Oe = "opened-tabs", B.emit(Oe, 1), B.emit(ke), setTimeout(function () {
            var e = +B.current(Oe);
            B.on(ke, function () {
              B.emit(Oe, +B.current(Oe) + 1)
            }), e > 1 && (oe || user.is_pro || user.is_trial || r.isOpened().then(function (e) {
              e || r.createGoProDialog({
                feature: "severalCharts"
              }).then(function (e) {
                e.open()
              })
            }))
          }, 750), window.is_authenticated || setTimeout(function () {
            window.is_authenticated || X({
              from: "chart"
            })
          }, 9e5)) : n(), document.addEventListener("readystatechange", function () {
            if ("complete" === document.readyState && window.performance && window.performance.timing) {
              var e = window.performance.timing.domInteractive - window.performance.timing.requestStart;
              V.sendChartReport("page_load_time_frame", {
                value: e
              })
            }
          }), G(fe), Me("main_chart.ExecuteEnd")
      }).call(this, i("Kxc7"))
    },
    KEYX: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "CrossHairPriceAxisView", function () {
        return r
      }), n = i("mrSG"), o = i("KcY8"), r = function (e) {
        function t(t, i, n) {
          var o = e.call(this) || this;
          return o._background = "#4c525e", o._source = t, o._priceScale = i, o._valueProvider = n, o
        }
        return n.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          var n, o, r;
          e.visible = !1, o = null !== (n = this._priceScale.mainSource()) ? n.firstValue() : null, this._source.visible && null !== this._source.pane && !this._priceScale.isEmpty() && null !== o && (i.background = this._background, i.color = this.generateTextColor(this._background), r = this._valueProvider(this._priceScale), i.coordinate = r.coordinate, e.text = this._priceScale.formatPrice(r.price, o), e.visible = !0)
        }, t
      }(o.a)
    },
    KEfV: function (e, t, i) {
      "use strict";

      function n(e) {
        return e.isTVScriptStubToCompile
      }

      function o(e, t) {
        var i = e.extra && "strategy" === e.extra.kind || !0 === e.isTVScriptStrategy,
          n = function (e, t, i) {
            var n = i ? "StrategyScript" : "Script",
              o = 0 !== e.length ? "$" + e : "";
            return "" + n + o + "@tv-scripting-" + t
          }(e.scriptIdPart, t, i);
        return {
          isTVScriptStubToCompile: !0,
          id: n,
          metaInfoId: a.a.parseIdString(n).id,
          scriptIdPart: e.scriptIdPart,
          description: e.scriptName,
          TVScriptSourceCode: e.scriptSource,
          is_hidden_study: e.extra && e.extra.is_hidden_study,
          extra: e.extra,
          version: t,
          pine: {
            version: null != e.version ? e.version : -1,
            access: r.Access.MAP_ID_TO_NAME[e.access],
            userHaveAccess: e.userHaveAccess
          },
          isTVScriptStrategy: i
        }
      }
      var r, s, a;
      i.r(t), i.d(t, "isStudyMetaInfoStub", function () {
        return n
      }), i.d(t, "createStudyMetaInfoStub", function () {
        return o
      }), r = i("WqyU"), s = i("0YCj"), a = i.n(s)
    },
    KUek: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p;
      i.r(t), i.d(t, "sessionsPreferencesDefault", function () {
        return d
      }), i.d(t, "Sessions", function () {
        return p
      }), n = i("Eyy1"), o = i("gvrv"), r = i("jenN"), s = i("kcTO"), a = i("Ocx9"), l = i("Kxc7"), c = "Sessions@tv-basicstudies", u = "sessions_", h = new s.PriceFormatter, d = {
        graphics: {
          backgrounds: {
            outOfSession: {
              color: "#ffe599",
              transparency: 60,
              visible: !1
            }
          },
          vertlines: {
            sessBreaks: {
              color: "#4985e7",
              style: 2,
              visible: !1,
              width: 1
            }
          }
        }
      }, p = function () {
        function e(e, t) {
          var i, n = this;
          this._studySource = null, this._paneViews = [], this._metaInfo = null, this._destroyed = !1, this._isStarted = !1, this._loadedGraphics = null, this._model = e, this._doubleClickHandler = t, i = e.mainSeries(), this._properties = new a.DefaultProperty("sessions"), this._properties.subscribe(this, this.updateAllViews), e.studyMetaInfoRepository().findById(c).then(function (t) {
              n._destroyed || null === n._loadedGraphics && (n._setMetaInfo(t), null !== n._metaInfo && (n._studySource = new o.a(e.chartApi(), i, u, n._metaInfo), n._createPaneViews(), n._studySource.dataCleared().subscribe(n, n.updateAllViews), n._studySource.dataUpdated().subscribe(n, n.updateAllViews), n._studySource.setInputs({}), n._isStarted && n._studySource.start()))
            }),
            e.timeScale().onReset().subscribe(this, this._clearData), e.timeScale().logicalRangeChanged().subscribe(this, this.updateAllViews), e.mainSeries().properties().extendedHours.subscribe(this, this._updateVisibleOutOfSessionBackground), this._updateVisibleOutOfSessionBackground(e.mainSeries().properties().extendedHours)
        }
        return e.prototype.start = function () {
            this._isStarted = !0, null !== this._studySource && this._studySource.start()
          }, e.prototype.restart = function () {
            this._clearData(), l.enabled("stop_study_on_restart") && this.stop(), this.start()
          }, e.prototype.isStarted = function () {
            return this._isStarted
          }, e.prototype.stop = function () {
            this._isStarted = !1, null !== this._studySource && this._studySource.stop()
          }, e.prototype.paneViews = function (e) {
            return e.containsMainSeries() ? this._paneViews : []
          }, e.prototype.priceAxisViews = function (e, t) {
            return []
          }, e.prototype.updateAllViews = function () {
            this._paneViews.forEach(function (e) {
              return e.update()
            })
          }, e.prototype.destroy = function () {
            this._destroyed = !0, null !== this._studySource && (this._studySource.dataCleared().unsubscribe(this, this.updateAllViews), this._studySource.dataUpdated().unsubscribe(this, this.updateAllViews), this._studySource.destroy(), this._studySource = null), this._model.timeScale().logicalRangeChanged().unsubscribe(this, this.updateAllViews), this._model.timeScale().onReset().unsubscribe(this, this._clearData), this._model.mainSeries().properties().extendedHours.unsubscribe(this, this._updateVisibleOutOfSessionBackground), this._properties.unsubscribe(this, this.updateAllViews)
          }, e.prototype.series = function () {
            return this._model.mainSeries()
          }, e.prototype.priceScale = function () {
            return this.series().priceScale()
          }, e.prototype.graphics = function () {
            return this._loadedGraphics || Object(n.ensureNotNull)(this._studySource).graphics()
          }, e.prototype.properties = function () {
            return this._properties
          }, e.prototype.graphicsInfo = function () {
            return Object(n.ensureNotNull)(this._metaInfo).graphics
          }, e.prototype.firstValue = function (e) {
            return this._model.mainSeries().firstValue()
          }, e.prototype.formatter = function () {
            return h
          }, e.prototype.state = function (e) {
            var t = {
              properties: this._properties.state()
            };
            return e && null !== this._metaInfo && (t.data = {
              graphics: Object(r.saveStudyGraphics)(this.graphics()),
              metaInfo: this._metaInfo
            }), t
          }, e.prototype.restoreState = function (e, t) {
            this._properties.mergeAndFire(e.properties), this._updateVisibleOutOfSessionBackground(this._model.mainSeries().properties().extendedHours), void 0 !== e.data && t && (this._loadStudyGraphics(e.data.graphics), this._setMetaInfo(e.data.metaInfo), this._createPaneViews())
          }, e.prototype.restoreOldState = function (e, t) {
            var i = {
                graphics: e.state.graphics
              },
              n = {
                properties: i
              };
            void 0 !== e.data && void 0 !== e.metaInfo && t && (n.data = {
              metaInfo: e.metaInfo,
              graphics: e.data.graphics
            }), this.restoreState(n, t)
          }, e.prototype.applyPreferences = function (e) {
            this._properties.mergePreferences(e)
          }, e.prototype._loadStudyGraphics = function (e) {
            if (void 0 !== e.backgrounds) {
              var t = e.backgrounds.findIndex(function (e) {
                return "inSession" === e.styleId
              });
              e.backgrounds.splice(t, 1)
            }
            this._loadedGraphics = Object(r.loadStudyGraphics)(e)
          },
          e.prototype._setMetaInfo = function (e) {
            void 0 !== e.graphics.backgrounds && void 0 !== e.graphics.backgrounds.inSession && delete e.graphics.backgrounds.inSession, this._metaInfo = e
          }, e.prototype._updateVisibleOutOfSessionBackground = function (e) {
            this._properties.childs().graphics.childs().backgrounds.childs().outOfSession.childs().visible.setValue(e.value())
          }, e.prototype._clearData = function () {
            null !== this._studySource && this._studySource.clearData()
          }, e.prototype._createPaneViews = function () {
            var e = this,
              t = {
                mouseDoubleClickHandler: this._doubleClickHandler
              };
            Object(r.createGraphicsPaneViews)(this, this._model, t).then(function (t) {
              e._paneViews = t, e._model.lightUpdate()
            })
          }, e
      }()
    },
    "KVq+": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "TimePoints", function () {
        return r
      }), n = i("uOxu"), o = Object(n.getLogger)("Chart.TimePoints"), r = function () {
        function e() {
          this._zoffset = 0, this._items = []
        }
        return e.prototype.clear = function () {
          this._zoffset = 0, this._items = []
        }, e.prototype.size = function () {
          return this._items.length
        }, e.prototype.firstIndex = function () {
          return this._offsetToIndex(0)
        }, e.prototype.lastIndex = function () {
          return this._offsetToIndex(this._items.length - 1)
        }, e.prototype.merge = function (e, t, i) {
          var n, r, s, a, l, c, u, h;
          if (0 === i.length) return o.logError("merge: 'values' does not contain any time points"), [];
          if (t > this._zoffset && e + t > 0) return o.logError("merge: when the first time point index is updated, we should fill the time points starting from the first one"), [];
          if (0 === this._items.length) return this._items = i, this._zoffset = t, [{
            change: "rebuild",
            index: this._validOffsetToIndex(0)
          }];
          if ((n = e + this._zoffset) < 0) {
            if (r = Math.abs(n), i.length < r) return o.logError("merge: 'values' does not contain enough time points to fill in the new items. 'index': " + e.toString() + ", previous 'zoffset': " + this._zoffset.toString() + ", new 'zoffset': " + t.toString() + ", 'values.length': " + i.length), [];
            for (this._items = new Array(r).concat(this._items), this._zoffset = t, s = 0; s < i.length; ++s) this._items[e + s + t] = i[s];
            return [{
              change: "rebuild",
              index: this._validOffsetToIndex(0)
            }]
          }
          for (a = [], l = n; l < this._items.length && l - n < i.length; ++l) this._items[l] = i[l - n], a.push({
            change: "update",
            index: this._validOffsetToIndex(l),
            value: i[l - n]
          });
          if ((c = n + i.length) > this._items.length)
            for (r = c - this._items.length, u = l; u < l + r; ++u) h = this._items.length, this._items.push(i[u - n]), a.push({
              change: "append",
              index: this._validOffsetToIndex(h),
              value: i[u - n]
            });
          return this._zoffset = t, a
        }, e.prototype.addTail = function (e, t) {
          for (var i = t ? 1 : 0; i < e.length; i++) this._items.push(e[i])
        }, e.prototype.remove = function (e) {
          var t, i, n, o = this._indexToOffset(e);
          if (null === o) return [];
          for (t = this._items.splice(o), i = [], n = 0; n < t.length; n++) i.push({
            change: "remove",
            index: e + n,
            value: t[n]
          });
          return i
        }, e.prototype.valueAt = function (e) {
          var t = this._indexToOffset(e);
          return null !== t ? this._items[t] : null
        }, e.prototype.indexOf = function (e, t) {
          if (this._items.length < 1) return null;
          if (e > this._items[this._items.length - 1]) return t ? this._validOffsetToIndex(this._items.length - 1) : null;
          for (var i = 0; i < this._items.length; ++i) {
            if (e === this._items[i]) return this._validOffsetToIndex(i);
            if (e < this._items[i]) return t ? this._validOffsetToIndex(i) : null
          }
          return null
        }, e.prototype.state = function () {
          return {
            items: this._items,
            zoffset: this._zoffset
          }
        }, e.prototype.restoreState = function (e) {
          null !== e && (this._items = e.items, this._zoffset = e.zoffset)
        }, e.prototype.roughTime = function (e, t) {
          var i, n, o, r, s, a, l, c, u, h;
          return void 0 === t && (t = null), null !== (i = this.valueAt(e)) ? i : !(n = this._items).length || n.length < 2 ? null : (o = 0, r = n.length - 1, s = this._validOffsetToIndex(o), a = this._validOffsetToIndex(r), l = n[o], u = ((c = n[r]) - l) / (a - s), e < s ? l - (h = s - e) * u : e > a ? (h = e - a) < 500 && null != t ? t(c, h) : c + h * u : null)
        }, e.prototype.roughIndex = function (e, t) {
          var i, n, o, r, s, a, l, c, u, h, d, p;
          return void 0 === t && (t = null), !(i = this._items).length || i.length < 2 ? null : (n = 0, o = i.length - 1, r = this._validOffsetToIndex(n), s = this._validOffsetToIndex(o), a = i[n], l = i[o], e >= a && e <= l ? this.closestIndexLeft(e) : (c = (l - a) / (s - r), e < a ? (u = a - e, r - (h = Math.round(u / c))) : (d = 500, e > l ? (u = e - l, (h = Math.trunc(u / c)) < d && null !== t && (p = t(l, e)).success && (h = p.result), s + h) : null)))
        }, e.prototype.closestIndexLeft = function (e) {
          var t, i, n, o, r, s = this._items;
          if (!s.length) return null;
          if (Number.isNaN(e)) return null;
          if (e >= s[t = s.length - 1]) return this._validOffsetToIndex(t);
          if (e < (n = s[i = 0])) return null;
          if (e === n) return this._validOffsetToIndex(i);
          for (; t > i + 1;)
            if ((r = s[o = i + t >> 1]) > e) t = o;
            else {
              if (!(r < e)) return r === e ? this._validOffsetToIndex(o) : null;
              i = o
            } return this._validOffsetToIndex(i)
        }, e.prototype._validOffsetToIndex = function (e) {
          return e - this._zoffset
        }, e.prototype._offsetToIndex = function (e) {
          return 0 <= e && e < this.size() ? this._validOffsetToIndex(e) : null
        }, e.prototype._indexToOffset = function (e) {
          var t = e + this._zoffset;
          return 0 <= t && t < this.size() ? t : null
        }, e
      }()
    },
    KVvs: function (e, t, i) {
      "use strict";

      function n(e) {
        return e && e.__esModule ? e : {
          default: e
        }
      }
      var o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v;
      i("fPdn"), i("rX2x"), i("roqP"), i("9Oxe"), i("PT1i"), i("jHdF"), i("i2mH"), i("S5nF"), i("udDf"), i("ojVW"), i("u4tc"), o = i("PC8g"), r = n(i("Q8Ag")), s = i("dJ3D"), a = n(s), l = n(i("HwbS")), c = i("B+p7"), u = i("uOxu"), h = i("HWna"), d = i("0Vlt"), p = i("M/2X"), f = i("0UyP"), _ = i("ujSL"), m = window.initData || {}, g = (0, u.getLogger)("Chart.Base"), m.lfs && (v = a.default.prototype.disconnect, a.default.prototype.disconnect = function (e) {
          e || v.call(this)
        }),
        function () {
          function e(e) {
            var t = i("swlf");
            t && "function" == typeof t.init ? t.init(e) : console.warn("not loaded module js/expected-language")
          }
          m.language_popup ? e(m.language_popup) : window.is_authenticated || TVLocalStorage.getItem("languagePopupShown") || (0, _.userGeoInfo)().then(function (t) {
            var n;
            !t.locale || (n = i.c.GAqT) && n.exports.TVOldDialogs.modalDialog || e(t.locale), TVLocalStorage.setItem("languagePopupShown", !0)
          })
        }(), r.default.loadWidgetBarModules = function (e) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(5), i.e(6), i.e(8), i.e(9), i.e(10), i.e(16), i.e(17), i.e(20), i.e(21), i.e(23), i.e(32), i.e(43), i.e(45), i.e(46), i.e(60), i.e(61), i.e(62), i.e(64), i.e(87), i.e(109), i.e(114), i.e(119), i.e(122), i.e(151), i.e(169), i.e(174), i.e(175), i.e(185), i.e(186), i.e(190), i.e(195), i.e(7), i.e(13), i.e(15), i.e(18), i.e(22), i.e(30), i.e(28), i.e(29), i.e(27), i.e(40), i.e(36), i.e(38), i.e(42), i.e(50), i.e(52), i.e(51), i.e(53), i.e(68), i.e(78), i.e(94), i.e(92), i.e(101), i.e(97), i.e(99), i.e(91), i.e(127), i.e(133), i.e(142), i.e(156), i.e(164), i.e("widgetbar")]).then(function (t) {
            e(i("zpSA").widgetBarWidgets)
          }.bind(null, i)).catch(i.oe), Promise.all([i.e(110), i.e(140), i.e("screener-alerts")]).then(function (e) {
            new(0, i("CoNv").ScreenerAlertsDispatcher)
          }.bind(null, i)).catch(i.oe)
        }, jQuery.error = function (e) {
          _gaq.push(["_trackEvent", "jQuery Error", e, navigator.userAgent, 0, !0])
        }, loginStateChange.subscribe(window, function (e) {
          user && is_authenticated && TVLocalStorage.getItem("last_username") !== user.username && TVLocalStorage.setItem("last_username", user.username), e || (0, h.reconnectChartApi)()
        }), $(function () {
          "function" == typeof m.block_symbol_autolink && m.block_symbol_autolink(), $(".js-expand").tvExpand(), $(".js-lang-form").each(function () {
            var e = $(this),
              t = e.find('input[name="language"]'),
              i = e.find(".js-lang-form__item");
            i.on("click", function (i) {
              i.preventDefault(), t.val($(this).data("langid")), e.submit()
            })
          }), "#signin" === window.location.hash ? Promise.resolve().then(i.bind(null, "xlKU")).then(function (e) {
            return e.showSignModal({
              source: "Redirect"
            })
          }) : "#signup" === window.location.hash && Promise.resolve().then(i.bind(null, "xlKU")).then(function (e) {
            return e.showSignModal({
              mode: "signup",
              source: "Redirect"
            })
          }), $(".tv-control-material-input, .tv-control-material-textarea").tvControlMaterial(), $(".js-time-upd").timeUpdate(), $('[href^="tel:"]').addClass("i-mobile-link"), m.show_idc_dialog ? i.e("idc-agreement").then(i.bind(null, "y023")).then(function (e) {
            e.showIdcAgreementDialog()
          }) : m.banned_payments && Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(3), i.e("warning-dialog")]).then(function (e) {
            (0, i("eD2p").warningDialog)({
              title: window.t("Notification"),
              content: "<p>" + window.t("Due to suspicious activity in your account, we had to block you from making any new purchases. Please contact our support team to resolve the issue. Thank you for understanding.") + "</p>",
              closeButtonText: window.t("Close", {
                context: "input"
              })
            }).open()
          }.bind(null, i)).catch(i.oe)
        }), TradingView.onChartPage || (g.logNormal("low quality mode is enabled"), ChartApiInstance.enableLowQualityMode()), window.pro = new l.default(window.shopConf), loginStateChange.fire(!0), i.e("conversion").then(function (e) {
          i("gzSH").init()
        }.bind(null, i)).catch(i.oe), (y = (0, c.getUrlParams)().t) && ((0, o.trackEvent)("Affiliate Program", "Referral Visit", y), TVLocalStorage.setItem("_referralSessionId", y)), (0, d.addAutoNoopenerHandler)(document), $(function () {
          var e = p.BrowserTabsCounter.getInstance();
          window.addEventListener("unload", function () {
            return e.unregisterTab()
          })
        }),
        i.e("gdpr-notification").then(i.bind(null, "kRh/")).then(function (e) {
          (new e.GdprNotification).showIfNotAccepted()
        }), (0, f.getTracker)().then(function (e) {
          e && e.trackPageView()
        })
    },
    KcY8: function (e, t, i) {
      "use strict";
      var n, o = i("eJTA"),
        r = i("mrSG"),
        s = i("Tmoa"),
        a = i("Ialn"),
        l = i("8Uy/"),
        c = i("jFln"),
        u = function () {
          function e(e, t) {
            this.setData(e, t)
          }
          return e.prototype.setData = function (e, t) {
            this._data = r.__assign({}, e), this._commonData = r.__assign({}, t)
          }, e.prototype.draw = function (e, t, i, n, o) {
            var r, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A;
            this._data.visible && (r = t.fontSize, e.font = t.font, u = this._data.tickVisible ? t.tickLength : 0, h = this._data.borderVisible ? t.borderSize : 0, d = t.paddingTop, p = t.paddingBottom, f = t.paddingInner, _ = t.paddingOuter, m = this._data.text, g = Math.ceil(i.measureText(e, m)), y = t.baselineOffset, v = t.fontSize + d + p, S = h + g + f + _ + u, b = this._commonData.coordinate, this._commonData.fixedCoordinate && (b = this._commonData.fixedCoordinate), P = (w = b - Math.floor(r / 2) - d - .5) + v, x = C = (T = "right" === o) ? n - h - .5 : .5, e.fillStyle = Object(s.resetTransparency)(this._commonData.background), e.lineWidth = 1, Object(c.setLineStyle)(e, l.LINESTYLE_SOLID), e.lineCap = "butt", m && (T ? (E = C - u, I = (x = C - S) + _) : (x = C + S, E = C + u, I = C + h + u + f), e.beginPath(), e.moveTo(C, w), e.lineTo(x, w), e.lineTo(x, P), e.lineTo(C, P), e.fill(), this._data.tickVisible && (e.beginPath(), e.strokeStyle = this._commonData.color, e.moveTo(C, b), e.lineTo(E, b), e.stroke()), e.textAlign = "left", e.fillStyle = this._commonData.color, e.fillText(Object(a.startWithLTR)(m), I, P - p - y)), this._data.secondLine && (A = Math.ceil(i.measureText(e, this._data.secondLine)) + f + _, e.fillStyle = Object(s.resetTransparency)(this._commonData.background), this._data.text && (w += v + 1, P += v + 1), T ? (C = (x = Math.min(x, n - u)) + A, I = x + _) : (x = (C = Math.max(x - A, h)) + A, I = C + f), e.beginPath(), e.moveTo(C, w), e.lineTo(x, w), e.lineTo(x, P), e.lineTo(C, P), e.fill(), e.textAlign = "left", e.fillStyle = this._commonData.color, e.fillText(Object(a.startWithLTR)(this._data.secondLine), I, P - p - y)))
          }, e.prototype.height = function (e, t) {
            if (!this._data.visible) return 0;
            var i = e.fontSize + e.paddingTop + e.paddingBottom;
            return this._data.secondLine && t ? 2 * i + 1 : i
          }, e
        }();
      i.d(t, "a", function () {
        return n
      }), n = function () {
        function e(e) {
          this._commonRendererData = {
            coordinate: 0,
            color: "#FFF",
            background: "#000"
          }, this._axisRendererData = {
            text: "",
            visible: !1,
            tickVisible: !0,
            borderVisible: !0
          }, this._paneRendererData = {
            text: "",
            visible: !1,
            tickVisible: !1,
            borderVisible: !1
          }, this._invalidated = !0, this._axisRenderer = new(e || u)(this._axisRendererData, this._commonRendererData), this._paneRenderer = new(e || u)(this._paneRendererData, this._commonRendererData)
        }
        return e.prototype.text = function () {
          return this._axisRendererData.text
        }, e.prototype.background = function () {
          return this._commonRendererData.background
        }, e.prototype.color = function () {
          return this.generateTextColor(this.background())
        }, e.prototype.generateTextColor = function (e) {
          return "black" === Object(o.rgbToBlackWhiteString)(Object(o.parseRgb)(e), 160) ? "white" : "black"
        }, e.prototype.coordinate = function () {
          return this._updateRendererDataIfNeeded(), this._commonRendererData.coordinate
        }, e.prototype.floatCoordinate = function () {
          return this._updateRendererDataIfNeeded(), this._commonRendererData.floatCoordinate || this._commonRendererData.coordinate
        }, e.prototype.update = function () {
          this._invalidated = !0
        }, e.prototype.height = function (e, t) {
          return void 0 === t && (t = !1), Math.max(this._axisRenderer.height(e, t), this._paneRenderer.height(e, t))
        }, e.prototype.getFixedCoordinate = function () {
          return this._commonRendererData.fixedCoordinate || 0
        }, e.prototype.setFixedCoordinate = function (e) {
          this._commonRendererData.fixedCoordinate = e
        }, e.prototype.isVisible = function () {
          return this._updateRendererDataIfNeeded(), this._axisRendererData.visible || this._paneRendererData.visible
        }, e.prototype.isAxisLabelVisible = function () {
          return this._updateRendererDataIfNeeded(), this._axisRendererData.visible
        }, e.prototype.isPaneLabelVisible = function () {
          return this._updateRendererDataIfNeeded(), this._paneRendererData.visible
        }, e.prototype.renderer = function () {
          return this._updateRendererDataIfNeeded(), this._axisRenderer.setData(this._axisRendererData, this._commonRendererData), this._paneRenderer.setData(this._paneRendererData, this._commonRendererData), this._axisRenderer
        }, e.prototype.paneRenderer = function () {
          return this._updateRendererDataIfNeeded(), this._axisRenderer.setData(this._axisRendererData, this._commonRendererData), this._paneRenderer.setData(this._paneRendererData, this._commonRendererData), this._paneRenderer
        }, e.prototype._updateRendererDataIfNeeded = function () {
          this._invalidated && (this._updateRendererData(this._axisRendererData, this._paneRendererData, this._commonRendererData), this._invalidated = !1)
        }, e
      }()
    },
    Kdr6: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "HHistLegendView", function () {
        return r
      }), n = i("mrSG"), o = i("TG9i"), r = function (e) {
        function t(t, i) {
          var n = e.call(this, t, i) || this;
          return n._showStudyValues = i.properties().paneProperties.legendProperties.showStudyValues, n
        }
        return n.__extends(t, e), t.prototype.isValuesVisible = function () {
          return this._showStudyValues.value()
        }, t.prototype.additional = function () {
          return null
        }, t.prototype.destroy = function () {}, t
      }(o.HHistDataWindowView)
    },
    Ke3L: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "ProjectionSeriesPriceAxisView", function () {
        return c
      }), n = i("mrSG"), o = i("Eyy1"), r = i("k9/m"), s = i("TQMj"), a = i("dfhE"), l = i("oXaB"), c = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype.lastPrice = function () {
          return this._getSource().data().lastProjectionPrice
        }, t.prototype._updateRendererData = function (e, t, i) {
          var n, s, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I;
          e.visible = !1, t.visible = !1, n = this._getData().model, c = (s = this._getSource()).priceScale(), u = n.timeScale(), h = this.lastPrice(), u.isEmpty() || c.isEmpty() || void 0 === h || null !== (d = u.visibleBarsStrictRange()) && (p = d.firstBar(), f = d.lastBar(), null !== (m = (_ = s.data()).search(f, r.PlotRowSearchMode.NearestLeft)) && void 0 !== (g = s.nearestIndex(p, r.PlotRowSearchMode.NearestRight)) && (y = s.model().properties().scalesProperties, v = Object(o.ensureNotNull)(_.valueAt(g))[TradingView.CLOSE_PLOT], S = i.background, b = y.showSeriesLastValue.value(), w = !1, P = !1, T = !1,
            C = s.lastValueData(TradingView.CLOSE_PLOT, !1), (x = s.properties()).style.value() === a.STYLE_HEIKEN_ASHI && x.haStyle.showRealLastPrice.value() ? ((E = s.lastValueData(TradingView.CLOSE_PLOT, !0)).noData || E.color === i.background || (S = E.color), E.noData || C.noData || (w = (I = E.index === C.index) && y.showSymbolLabels.value(), P = y.seriesLastValueMode.value() === l.PriceAxisLastValueMode.LastPriceAndPercentageValue, b = b && I, T = I && this._isCountdownEnabled() && x.showCountdown.value())) : S = s.barColorer().barStyle(m.index, !0).barColor, i.background = S, i.color = this.generateTextColor(S), i.coordinate = c.priceToCoordinate(h, v), e.visible = b || T, C.noData || (C.text = c.formatPrice(h, v), C.formattedPriceAbsolute = c.formatPriceAbsolute(h), C.formattedPricePercentage = c.formatPricePercentage(h, v), e.text = this._axisFirstLineText(C, b, P), e.secondLine = T ? this._countdownText() : "", t.text = this._paneText(C, b, w, P)), t.visible = w || b && P))
        }, t
      }(s.SeriesPriceAxisView)
    },
    KnF9: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "EnvironmentState", function () {
        return o
      }), n = i("qFKp"), o = function () {
        function e(e) {
          this._shift = !1, this._control = !1, this._alt = !1, void 0 !== e && (this._shift = Boolean(e.shiftKey), this._control = Boolean(Object(n.isMac)() ? e.metaKey : e.ctrlKey), this._alt = Boolean(e.altKey))
        }
        return e.prototype.shift = function () {
          return this._shift
        }, e.prototype.control = function () {
          return this._control
        }, e.prototype.alt = function () {
          return this._alt
        }, e.prototype.shiftOnly = function () {
          return this._shift && !this._control && !this._alt
        }, e.prototype.controlOnly = function () {
          return this._control && !this._shift && !this._alt
        }, e.prototype.altOnly = function () {
          return this._alt && !this._shift && !this._control
        }, e.prototype.controlShift = function () {
          return this._shift && this._control && !this._alt
        }, e
      }()
    },
    KtbP: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "PanePriceAxisView", function () {
        return r
      }), n = i("u+0B"), o = function () {
        function e(e) {
          this._priceAxisViewRenderer = null, this._rendererOptions = null, this._align = "right", this._width = 0, this._textWidthCache = e
        }
        return e.prototype.setParams = function (e, t, i, n) {
          this._priceAxisViewRenderer = e, this._rendererOptions = t, this._width = i, this._align = n
        }, e.prototype.draw = function (e) {
          null !== this._rendererOptions && null !== this._priceAxisViewRenderer && this._priceAxisViewRenderer.draw(e, this._rendererOptions, this._textWidthCache, this._width, this._align)
        }, e.prototype.hitTest = function (e) {
          return null
        }, e
      }(), r = function () {
        function e(e, t, i) {
          this._priceAxisView = e, this._textWidthCache = new n.TextWidthCache(50), this._dataSource = t, this._chartModel = i, this._fontSize = -1, this._renderer = new o(this._textWidthCache)
        }
        return e.prototype.update = function () {
          this._priceAxisView.update()
        }, e.prototype.renderer = function (e, t) {
          var i, n, o, r = this._chartModel.paneForSource(this._dataSource);
          return null === r ? null : null === (i = this._dataSource.priceScale()) ? null : ("overlay" === (n = r.priceScalePosition(i)) && (n = r.priceScalePosition(r.defaultPriceScale())), "overlay" === n ? null : ((o = this._chartModel.priceAxisRendererOptions()).fontSize !== this._fontSize && (this._fontSize = o.fontSize, this._textWidthCache.reset()),
            this._renderer.setParams(this._priceAxisView.paneRenderer(), o, t, n), this._renderer))
        }, e
      }()
    },
    Ktlt: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(t, i) {
          var n, s, a, c = this;
          o.call(this), this._series = t, this._clickedId = null, this._clickedHoverItemIndex = null, i && i.fixedData ? (this._distribution = i.fixedData, (n = t.model().properties().chartEventsSourceProperties.state()).visible = !0, this._properties = new e(n)) : (this._chartEvents = new r({
            minImportance: 1
          }), this._properties = t.model().properties().chartEventsSourceProperties), this.setOwnerSource(t), s = function (e) {
            var i, n, o, r, s, a, l, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M;
            if (c._coordinates || c._recalcCoordinates(), (i = c._coordinates) && i.length) {
              if (c._series.model().hoveredSource() !== c && (c._hoverGroupIndex = void 0), c._createTemplates(), n = c._paneHeight, o = null, s = (r = c._LOLLIPOP_LINE_WIDTH) / 2, a = c._LOLLIPOP_LINE_HEIGHT, u = -(l = c._LOLLIPOP_CIRCLE_DIAMETER) / 2, h = c._LOLLIPOP_COUNTER_SIZE, d = c._LOLLIPOP_COUNTER_OFFSET, f = (p = c.properties().breaks).visible.value())
                for (e.strokeStyle = p.color.value(), e.lineWidth = p.width.value(), CanvasEx.setLineStyle(e, p.style.value()), _ = 0; _ < i.length; _++) CanvasEx.drawLine(e, i[_].x, 0, i[_].x, n - a - l * i[_].items.length);
              for (c._importanceByIndex || (c._importanceByIndex = {}), m = c._importanceByIndex, _ = i.length; _--;)
                for (e.drawImage(c._templatesCache.line, i[_].x - s + .5, n - a - .5, r, a), m[g = i[_].index] || (m[g] = []), y = i[_].items.length; y--;) {
                  if (v = i[_].items[y], y in m[g]) S = m[g][y];
                  else {
                    for (S = -1, b = v.length; b--;) v[b].importance > S && (S = v[b].importance);
                    m[g][y] = S
                  }
                  w = n - a - l * (y + 1) - .5, P = i[_].x, T = v.length, C = v[0].currency, x = c._hoverGroupIndex === i[_].index && c._hoverItemIndex === y, c._clickedId !== i[_].index || c._clickedHoverItemIndex !== y ? (E = x ? "hovered" : S < -.5 ? "low" : S < .5 ? "mid" : "hi", I = c._templatesCache[E][C], e.drawImage(I, P + u, w, l, l), T > 1 && (A = c._amountImage(T), e.drawImage(A, 0, 0, A.width, A.height, P + d, w - d, h, h))) : o = {
                    y: w,
                    x: P,
                    count: T,
                    currency: C,
                    currencyGroup: v,
                    maxImportance: S,
                    hovered: !0
                  }
                }!f && o && (w = 0, null !== (L = t.bars().valueAt(c._hoverGroupIndex)) && (D = L[TradingView.LOW_PLOT], k = t.priceScale(), isFinite(D) && k && (O = t.firstValue(), w = k.priceToCoordinate(D, O))), e.strokeStyle = c.color, e.lineWidth = 1, CanvasEx.setLineStyle(e, CanvasEx.LINESTYLE_DASHED), CanvasEx.drawLine(e, o.x, 0, o.x, n - a - l * (o.count - 1))), o && (I = (M = o.hovered ? c._templatesCache.hovered : c._templatesCache[S] || c._templatesCache[-1])[o.currency] || M[""], e.drawImage(I, o.x + u, o.y, l, l), o.count > 1 && (A = c._amountImage(o.count), e.drawImage(A, 0, 0, A.width, A.height, o.x + d, o.y - d, h, h))), o ? c._showTooltip(o.currencyGroup, o.x, o.y, e) : c._hideTooltip()
            } else c._hideTooltip()
          }, a = function (e) {
            var t, i, n, o, r, s, a, u, h, d, p, f, _, m, g;
            if (c._hoverGroupIndex = void 0, c._hoverItemIndex = void 0, t = e.x, i = e.y, c._coordinates || c._recalcCoordinates(), !(n = c._coordinates) || !n.length) return null;
            if (o = c._paneHeight, r = c._LOLLIPOP_CIRCLE_DIAMETER, s = c._LOLLIPOP_LINE_HEIGHT, u = o - (a = Math.floor((o - s - i) / r)) * r - s - r / 2 - i, h = Math.sqrt(r * r / 4 - u * u), !isFinite(h)) return null;
            for (d = t - h, p = 0, f = n.length - 1; f - p > 1;) n[_ = p + f >> 1].x >= d && (f = _), n[_].x <= d && (p = _);
            for (m = p; m < n.length && !((g = n[m].x - t) > h); m++)
              if (!(g < -h) && n[m].items[a]) return c._hoverGroupIndex === n[m].index && c._hoverItemIndex === a || (c._hoverGroupIndex = n[m].index, c._hoverItemIndex = a, c._invalidate()), new l(l.CUSTOM, {
                mouseClickHandler: c._lollipopMouseClickHandler.bind(c, n[m].index)
              });
            return null
          }, this._paneView = {
            renderer: function (e, t) {
              return c._paneHeight = e, {
                hitTest: a,
                draw: s
              }
            }
          }, this._series.model().timeScale().tickMarks().changed.subscribe(this, this._recalcDistribution), this._chartEvents && this._chartEvents.changed.subscribe(this, this._recalcDistribution), this._properties.subscribe(this, this._recalcDistribution), this._recalcDistribution()
        }
        var o = i("fgLi").DataSource,
          r = i("0h28"),
          s = i("LxhU").Interval,
          a = i("LxhU").ResolutionKind,
          l = i("VdBB").HitTestResult,
          c = i("jCNj"),
          u = i("j1f4"),
          h = i("6xeX").Tooltip,
          d = 2,
          p = ["EUR", "USD", "JPY", "GBP", "CHF", "AUD", "CAD", "NZD", "CNY"];
        inherit(n, o), n.prototype.color = u.color.black80, n.prototype.bgcolor = "white", n.prototype._tooltipShown = !1, n.prototype._$tooltip = null, n.prototype._$content = null, n.prototype._tooltipX = void 0, n.prototype._tooltipY = void 0, n.prototype._tooltipItems = null, n.prototype._distribution = null, n.prototype._colorsByIndex = null, n.prototype._coordinates = null, n.prototype._hoverGroupIndex = void 0, n.prototype._hoverItemIndex = void 0, n.prototype._LOLLIPOP_LINE_WIDTH = 2, n.prototype._LOLLIPOP_LINE_HEIGHT = 2, n.prototype._LOLLIPOP_CIRCLE_DIAMETER = 24, n.prototype._LOLLIPOP_COUNTER_OFFSET = 2, n.prototype._LOLLIPOP_COUNTER_SIZE = 14, n.prototype.title = function () {
          return "Chart Events"
        }, n.prototype.showInObjectTree = function () {
          return !1
        }, n.prototype.onClickOutside = function () {
          this._clickedId = null
        }, n.prototype._constructor = "ChartEventsSource", n.prototype.properties = function () {
          return this._properties
        }, n.prototype.updateAllViews = function () {
          var e, t = this._series.model().timeScale();
          t && this._coordinates && (e = {
            width: t.width(),
            barSpacing: t.barSpacing(),
            rightOffset: t.rightOffset()
          }, this._cachedTimescaleState && this._cachedTimescaleState.width === e.width && this._cachedTimescaleState.barSpacing === e.barSpacing && this._cachedTimescaleState.rightOffset === e.rightOffset || (this._cachedTimescaleState = e, this._coordinates = null))
        }, n.prototype.paneViews = function () {
          if (!this._properties.visible.value()) return null;
          var e = this._series.symbolInfo();
          return !e || "bitcoin" !== e.type && "crypto" !== e.type ? [this._paneView] : null
        }, n.prototype._recalcDistribution = function () {
          var e, t, i, n, o, r, l, u, h, d, f, _, m, g, y, v, S, b, w, P, T, C, x = this._series.model().timezone();
          if (x && "exchange" !== x || (x = (e = this._series.symbolInfo()) && e.timezone), x && (this._timeOffset = c.get_timezone(x).offset_utc(new Date)), isFinite(this._timeOffset))
            if (this._chartEvents) {
              if (this._coordinates = null, this._distribution = null, this._importanceByIndex = null, !this._properties.visible.value()) return this._hideTooltip(), void(this._clickedId = null);
              if ((e = this._series.symbolInfo()) && e.name && !(e.name.length < 6) && ("forex" === e.type || "cfd" === e.type || "bitcoin" === e.type || "crypto" === e.type)) {
                for (t = null, i = e.name, n = 0,
                  o = 0; o < 2; o++) "bitcoin" !== e.type && "crypto" !== e.type || "DOGE" !== i.substr(n, 4).toUpperCase() ? (r = i.substr(n, 3).toUpperCase(), n += 3) : (r = "DOGE", n += 4), -1 !== p.indexOf(r) && (t || (t = {}), t[r] = !0);
                if (t && (u = new s(this._series.interval())).isValid()) {
                  switch (h = NaN, u.kind()) {
                    case a.Weeks:
                      h = 168 * u.multiplier();
                      break;
                    case a.Days:
                      h = 24 * u.multiplier();
                      break;
                    case a.Hours:
                      h = u.multiplier();
                      break;
                    case a.Minutes:
                      h = u.multiplier() / 60;
                      break;
                    case a.Seconds:
                      h = u.multiplier() / 3600;
                      break;
                    default:
                      return
                  }
                  if (h < 4) l = -1;
                  else if (h < 48) l = 0;
                  else {
                    if (!(h < 672)) return;
                    l = 1
                  }
                  if (this._minImportance === l && this._symbolName === i || (this._chartEvents.reset({
                      minImportance: l,
                      currencyFilter: Object.keys(t)
                    }), this._minImportance = l, this._symbolName = i), this._createTemplates(), d = this._chartEvents.items(), _ = (f = this._series.model().timeScale()).tickMarks(), m = {}, this._distribution = m, g = +_.minIndex, this._properties.futureOnly.value() && (g = Math.max(g, f.baseIndex())), isFinite(g)) {
                    if (y = +_.maxIndex, v = d.length, S = 0, b = _.indexToTime(y))
                      for (w = +b - this._timeOffset; S < d.length && !(d[S].timestamp <= w); S++);
                    for (P = y; P >= g; P--)
                      if (b = _.indexToTime(P))
                        for (w = +b - this._timeOffset;; S++) {
                          if (S >= v) return void(this._chartEvents.minObtainedTimestamp > _.indexToTime(g) && this._chartEvents.requestMore({
                            from: _.indexToTime(g)
                          }));
                          if (T = d[S], !t || t[T.currency]) {
                            if (T.timestamp < w) break;
                            for (m[P] || (m[P] = []), C = m[P].length; C--;)
                              if (m[P][C][0].currency === T.currency) {
                                m[P][C].push(T);
                                break
                              } C < 0 && m[P].push([T])
                          }
                        }
                  }
                }
              }
            } else this.distibution && this._createTemplates()
        }, n.prototype._recalcCoordinates = function () {
          var e, t, i, n, o, r, s;
          if (this._distribution || this._recalcDistribution(), e = [], this._coordinates = e, (t = this._distribution) && null !== (n = (i = this._series.model().timeScale()).visibleBarsStrictRange()))
            for (o = n.lastBar(), r = n.firstBar(), this._coordinates = e, s = r; s <= o; s++) t[s] && e.push({
              x: i.indexToCoordinate(s) + 1,
              items: t[s],
              index: s
            })
        }, n.prototype._onNewItems = function () {
          this._recalcDistribution(), this._series.model().updateSource(this)
        }, n.prototype._createTemplates = function () {
          var e, t;
          if (!this._templatesCache)
            for (this._templatesCache = {
                line: null,
                hovered: {},
                numbers: {}
              }, this._createTemplateLine(), e = 0; e < p.length; e++) t = p[e], this._createTemplateCircle(t, "low", u.color.attention), this._createTemplateCircle(t, "mid", u.color.attention50), this._createTemplateCircle(t, "hi", u.color.danger), this._createTemplateCircle(t, "hovered", u.color.brandHover)
        }, n.prototype._createTemplateLine = function () {
          var e, t, i, n = document.createElement("canvas");
          n.width = this._LOLLIPOP_LINE_WIDTH, n.height = this._LOLLIPOP_LINE_HEIGHT, (e = n.getContext("2d")).strokeStyle = this.color, CanvasEx.setLineStyle(e, CanvasEx.LINESTYLE_DASHED), (t = this._templatesCache).line = n, (i = new Image).onload = function () {
            t.line = i
          }, i.src = n.toDataURL()
        }, n.prototype._createTemplateCircle = function (e, t, n) {
          function o() {
            var i = new Image;
            i.onload = function () {
              a[t][e] = i
            }, i.src = m.toDataURL()
          }

          function r() {
            s.beginPath(), s.arc(l, l, g / 2 - c / 2, 0, 2 * Math.PI), s.closePath(), s.lineWidth = c, s.strokeStyle = n, s.stroke()
          }
          var s, a, l, c, u, h, p, f, _ = this,
            m = document.createElement("canvas"),
            g = _._LOLLIPOP_CIRCLE_DIAMETER * d,
            y = 2.5 * d;
          switch (m.width = g, m.height = g, s = m.getContext("2d"),
            (a = this._templatesCache)[t] || (a[t] = {}), a[t][e] = m, l = Math.floor(g / 2), u = g - 2 * (c = 1.5 * d) - 2 * y, h = this.bgcolor, p = "", e) {
            case "EUR":
              p = i("YUej");
              break;
            case "USD":
              p = i("9RhJ");
              break;
            case "JPY":
              p = i("C85F");
              break;
            case "GBP":
              p = i("Ngz3");
              break;
            case "CHF":
              p = i("IERO");
              break;
            case "AUD":
              p = i("tHq3");
              break;
            case "CAD":
              p = i("koRH");
              break;
            case "NZD":
              p = i("r4gg");
              break;
            case "CNY":
              p = i("EEWc")
          }
          p ? ((f = new Image).onload = function () {
            ! function (e) {
              e.width = u, e.height = u, s.drawImage(e, l - u / 2, l - u / 2, u, u), s.globalCompositeOperation = "destination-in", s.beginPath(), s.arc(l, l, u / 2, 0, 2 * Math.PI), s.closePath(), s.fillStyle = h, s.fill(), s.globalCompositeOperation = "source-over"
            }(f), r(), o(), _._invalidate()
          }, /\b(MSIE|Trident)\b/.test(navigator && navigator.appVersion) ? f.src = this._fallbackImages[e] : f.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(p)) : (r(), o())
        }, n.prototype._amountImage = function (e) {
          var t, i, n, o, r;
          return e = String(e), this._templatesCache.numbers[e] ? this._templatesCache.numbers[e] : (t = document.createElement("canvas"), i = this._LOLLIPOP_COUNTER_SIZE * d, n = 10 * d, t.width = i, t.height = i, r = i / 2, (o = t.getContext("2d")).font = n + "px sans-serif", o.textBaseline = "middle", o.textAlign = "center", o.fillStyle = "white", o.arc(r, r, i / 2, 0, 2 * Math.PI), o.fill(), o.fillStyle = "black", o.fillText(e, r, r), this._templatesCache.numbers[e] = t, t)
        }, n.prototype._createTooltipLayout = function () {
          this._$tooltip = new h
        }, n.prototype._showTooltip = function (e, t, i, n) {
          var o = n.canvas.parentNode;
          o && (this._$tooltip || this._createTooltipLayout(), this._$tooltip.show({
            items: e,
            x: t,
            y: i,
            wrapElement: o,
            timeOffset: this._timeOffset
          }))
        }, n.prototype._hideTooltip = function () {
          this._$tooltip && this._$tooltip.hide()
        }, n.prototype._invalidate = function () {
          this._series.model().updateSource(this)
        }, n.prototype._dateStr = function (e) {
          var t = new Date(e + this._timeOffset),
            i = Math.round(Math.abs(this._timeOffset) / 6e4),
            n = "UTC";
          return 0 !== i && (this._timeOffset > 0 ? n += "+" : n += "-", n += Math.floor(i / 60), i % 60 && (n += ":" + i % 60)), t.getUTCFullYear() + "-" + ("0" + (t.getUTCMonth() + 1)).slice(-2) + "-" + ("0" + t.getUTCDate()).slice(-2) + " " + ("0" + t.getUTCHours()).slice(-2) + ":" + ("0" + t.getUTCMinutes()).slice(-2) + " (" + n + ")"
        }, n.prototype._fallbackImages = {
          AUD: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAtFBMVEUAAABHV6hGV6hIWKdGV6lGV6mjrNVba6/MoLvXrcJdarOGg7man8+dptF4hcDhtsXhtsRndbhHWKn0lJ5SYq74v8X2qbG3vt6Ml8mXoc+AjMT1z9bd4O9pd7nGy+ROX63///9ebbP1pK3vY3HpnKrbt8mutdnc3+/yipXuXm339/vl6PPyprCjrNTfmKv09fqOmcp9icLZscTxdIGvttnglqitia/o6vTl5/Ogk771nKXR1uok/dPkAAAAEnRSTlMAkNAgz4/kQ/D0l1Q146P+/tdT9Ek9AAAAl0lEQVQYGU3ABRLCMAAEwEtS3C9CCxR3d/3/vwhMkcVLJl1dM0gpJLJXq+v0UngbOqtbHTIe9wJ4uenssDydyUbXMA8Umv3BvTm6kYaGjyJKVjtrJx0aemEZFT13C2vrpr2iF0Bvtm7Xcnu2I76A/46GkPwT9iQEGfNHQDG6RPxSgGh0Q34IeDUTMyHxJpgQSCghSSkUvCcoxxGR2DVB1AAAAABJRU5ErkJggg==",
          CAD: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAWlBMVEUAAADyna7wnqf19/v19/n09/rvipX09vr09/ruXm3udYPte4fue4j09/rvj5nwkJv0+vr39//tVWXtXm307PD04uf02N7uaHf19/rzztTxpq/udIHuX27uc4Cmg02WAAAAEnRSTlMAPFd/gL/A7/D+8OfmwK+tMCDHCHMKAAAAfElEQVR4AWWPRQLEIAwAU6GuBFL//ze3kfU5wcSBmTJXli6bwBhWpRxBaP1q+E7i/i38AJD6T1GnUIgI+x5Y+AIaEdF7EtEAsjgP74+TRa1i8TcXC9SScJslSIk1pW0ja5qijI1RxmLyv9jX6q0dV+m/GsCY8r6q+nzm9wN3vQ/0RJj4yQAAAABJRU5ErkJggg==",
          CHF: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAxElEQVR4AWNAB+9DUw3ehqTUvwlJ2Q+k34MwlF0PkmPAB4CKCt6Gpv7HhUGGAel8rJqBtmyAKCSM34SmrifKZgKuKYD7GZuCD6VN/6EAxMbqHZBekO0N2Az4WN8N0w9i43JFAwPQPwfQbAZr+DJvOUw/iA0Sw3AJSC8DkPEBWZAAwPAGRQaA9OL2wvwVMD0gNk4vUByIsGj8QGo0gvS8D8hQoCghkZ2UQWrxZaYPeDR/QLcZV3ZugMbOBxAGsUFiYD+jAQBm1lU4Y8LtqgAAAABJRU5ErkJggg==",
          CNY: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAbFBMVEUAAADvVGTtVGTsVWXtVGTvUGDvUGjtVGTtVWXsU2PtVWXsVGTsVWXtVGTsVGTvWmHuWmLtVWXwhVDtVWXuW2L2u0LylE7yjlHxgVXzmkzvdVn1tUT0p0fvaF7vblvxe1jxiFP1rUb0oUr0m0w7gi5vAAAAE3RSTlMAQIDA7xAg4JBQ8L9gf7CT4N95YlMWdQAAAIZJREFUGBlVwAcSgjAURdGX0LF7A0q37H+PfjOMg0df+WGXprtDrtU+hQlIK0UnIDQzppRx9x7oQ8A4KTs/uwCEcQEuma6NaYF5wjj5sWnemMeM8Upew3DDtAvmqOQWwp2pm4iO8kRtIPKq+OOUFWwUmeTYcDIlP6WifU1UV1rlPqmLxOcyH/tmDpsy+r2pAAAAAElFTkSuQmCC",
          EUR: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAYFBMVEUAAABIWKdFVapHV6hHV6hGWKlGWKlGV6lHV6hHWKhGWKlGV6lGV6lHWKlSX6JeZpxpbZd1dJCAe4uMgoWXiX+ikHqjkHmvl3LFpGfGpWfcslzds1voulXoulbzwFD/yEoW9yMBAAAADXRSTlMAIDBvcH+Ar7C/wO/wuFJj1gAAAJdJREFUeAE9z4UBxDAIQFHqxk+pe9l/y/N7cSfyEmdV01RZLF8pH00ibyVA1wEU//XhPAeA9Hke+mnEnXHqaWLJYfDTnk4fIJcahm2Ab1OLEgIBILx6jShcBy8cJ6jULH4bgN0+U0sOS9sGCG27QC6xQlj3ed7XABq9AsMuN/PLIP2GvvRm/QLl93PKC5rKV5zXqnUevfoPfJIMWKgHm2UAAAAASUVORK5CYII=",
          JPY: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAP1BMVEUAAAD39//0+vr2+Pr2+Pr19/v19/n19vn19vn09/r09/r09vr09/rxpa/yw8r19/rxpq/zxMvvh5PtVWXviJT5Un0aAAAADXRSTlMAIDBvcH+Ar7C/wO/wuFJj1gAAAGpJREFUeAFljoMBRDEMQFMrxcf+s16D8ytiAGFDaa0EC4qfQnNi5/kiafyN3/WsjLUOrrIQSZ7X5iYtQqX4xYytVsD9d3F0qvl14H/Ju+kpTS2SHL0Pkmj+FvtePQPjUUz0oNhYEWs0pD8AMW8Lpf/OkoMAAAAASUVORK5CYII=",
          NZD: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAn1BMVEUAAABGV6lHV6hGWKlGWKlFVaqQgrRGV6lIWKfmmaimqdFHV6hGWKlGV6nTqb/e2ed1gb/TqL50gb/d2OZHWKhRVqRHV6j2qbH+9PX83+Lxf4tHWKn1o6v0maJmV5yFV49RV6TuXWxod7n0mqOMl8lcV6DOVXG5VXn2qrJGWKnuXm2vVn7yiZR6VpOPVouZVoelVoKkqNCDe7KaVobuX26RZHfdAAAAF3RSTlMA8HDAgDBq7yD++29/r/D90/DT/b/wsEIK9MUAAACcSURBVBgZTcAFEsIwAATAixR3S5MrLTXc4f9vI80wDItGazY/9xaDCF9TEztbkO0+gm6SOFsd6A3hjcr3sdzvn2xIoGWSPE+MebLRjjCJ3Xrt4uqQZvQ0xs4aY11c7LYkawVnK2Mq6x7phjxtlxD8c8kEFIPrjYGCZnDfMdCIBBsbelktOoDkzyuV8Fb8kQikYCAkviKthFC6A+8Dc4QUp0+PRNwAAAAASUVORK5CYII=",
          GBP: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABsElEQVR4AaVTA6+dURA8P6Fx+i/6D2rbttu4tm3HtS6fbdv2u7ated+W15zkaHd2ksVh4Zi3Tjxr6dYfa3M+1uQP33hrokV3srFEWLyZN2fJ1p+dS7f9xFB+E/SbD9P6dScb+YgTPXgbbx+RaEUVCPIRlwWDlzWw9eaTOiQr8OV7J3786NnMCHfu1MweaBm1mbsG0d48iVW7+DEFjp4pgkqih62hHZMTOjsjLNnyc93xc8XQyIywN3bA6/biybvmCAFRVj8sU0qYOwfR3TaNNXsEWLbt+zxWz29oIAItdV0X3F0DcLV2wZFb+k/AlVcKV3MnvP3DkFZ14C+/XtjQwNRn7niJFLE2HYp6D14Um7lAcAq0zM09cLV1w5VT8pfI3Yvh7uyHhksxmEuxjIpIFb7zogGBAGCra4VJY8F0Wds/ATmXt9/v54rcDq3CiJMXSqgrv4tIqCgf0Zu46lqmlRBy1Y7WxmXbf6K1YRzmnhGYxuXg8bqV7C++va7YouT6e+R0YcJBuvqwFh6nB19flW/OfJSjf6YfXbEEyEcclghU2OwPtQWjN9+aaNGdbNG4M6B0Sa2MTP3yAAAAAElFTkSuQmCC",
          USD: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAn1BMVEUAAAD19/n2+Prte4f09/rvipXuXm3wnqf0+vrvj5nudYOtlb5+jsu81PLwipbwkJvAutjue4judIKSib99i8d5hMPvkJusyu339/+GsOZznNv09vr00dfyna5KidztVWWCrudVkN7tXm319/q70/Jsn+KlxO6wy/Bgl+DS4veOtel3puWZvevvfYrM2/Pzz9XH2vRUhtVyhsfp8fvd6fm1RKu9AAAAHnRSTlMAgHDn8MD+VzCv8Hb7cr6t4ubv3vb45NIgr/PvyzyfYTeeAAAAkElEQVR4XlXLVQ7DMBBF0ReGMvMYwlDu/tfW2I6q9Gh+7pMGymg1ftJyGqA3r8UnJcb8melN3RDPiHUWqg9UkrpEsYFJLd45VYUZTiF2JbUNtZwSzcKRFEF01864cVFx8ciJaT7SjAquXswgsX71rtoWVvLHQugO290D9nCw0XHYjwMtkiZlhF7gxVLG3kXFF0FcGmdRqkNIAAAAAElFTkSuQmCC"
        }, n.prototype.isSavedInChart = function (e) {
          return !!e
        }, n.prototype.state = function (e) {
          var t, i, n, o, r, s, a, l, c, u, h, d, p, f, _ = 300,
            m = 400;
          if (this._distribution || this._recalcDistribution(), !this._distribution) return null;
          if (t = {
              type: "ChartEventsSource",
              id: this.id(),
              state: null,
              zorder: this.zorder()
            }, e) {
            for (i = {}, n = Object.keys(this._distribution).map(Number).filter(isFinite).sort(function (e, t) {
                return t - e
              }), o = 1 / 0, null !== (r = this._series.model().timeScale().visibleBarsStrictRange()) && (o = r.firstBar()), s = 0, a = 0; a < n.length && !(s > _) && !((l = n[a]) < o); a++)
              for (i[l] = [], c = this._distribution[l], u = 0; u < c.length && !(s > m); u++)
                for (i[l][u] = [], h = this._distribution[l][u], d = 0; d < h.length && !(s > m); d++) f = {
                  timestamp: (p = h[d]).timestamp,
                  currency: p.currency
                }, p.actual && (f.actual = p.actual), p.forecast && (f.forecast = p.forecast), p.previous && (f.previous = p.previous), p.title && (f.title = p.title), isFinite(p.importance) && (f.importance = p.importance), i[l][u][d] = f, s++;
            t.state = {
              distribution: i
            }
          }
          return t
        }, n.createFromState = function (e, t, i) {
          var o, r;
          return t && (o = i.mainSeries()) && (r = e && e.state && e.state.distribution) ? new n(o, {
            fixedData: r
          }) : null
        }, n.prototype._lollipopMouseClickHandler = function (e) {
          this._clickedId = this._clickedId === e ? null : e, this._clickedHoverItemIndex = this._hoverItemIndex
        }, TradingView.ChartEventsSource = n, t.ChartEventsSource = n
      }).call(this, i("tc+8"))
    },
    KuNA: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "ProPlans", function () {
          return n
        }),
        function (e) {
          e.Free = "free", e.Pro = "pro", e.ProTrial = "pro_trial", e.ProRealtime = "pro_realtime", e.ProRealtimeTrial = "pro_realtime_trial", e.ProPremium = "pro_premium", e.ProPremiumTrial = "pro_premium_trial", e.ProMiniAlerts = "pro_mini_alerts", e.ProMiniAds = "pro_mini_ads", e.ProMiniLayouts = "pro_mini_layouts", e.ProEdu = "pro_edu", e.Limitless = "limitless"
        }(n || (n = {}))
    },
    "L/Ed": function (e, t, i) {
      "use strict";
      var n;
      i.r(t),
        i.d(t, "ToolboxType", function () {
          return n
        }),
        function (e) {
          e[e.Delete = 0] = "Delete"
        }(n || (n = {}))
    },
    LAp3: function (e, t, i) {
      "use strict";

      function n(e, t) {
        return new a(e, t)
      }
      var o, r, s, a;
      i.d(t, "a", function () {
        return n
      }), o = i("mrSG"), r = i("ogJP"), s = i("5rJj"), a = function (e) {
        function t(t, i) {
          return e.call(this, t, i, !1, {
            names: ["width", "color", "visible"]
          }) || this
        }
        return o.__extends(t, e), t.prototype._iterateLevels = function (e, t) {
          var i, n, o;
          for (i in e.levels)
            if (e.levels[i] && Object(r.isSameType)(e.levels[i], t.typecheck())) {
              for (o in n = t.tpl(), this._map.names) this._map.names.hasOwnProperty(o) && (n = t.fill(o, this._map.names[o], e.levels[i], n));
              e.levels[i] = n
            } return e
        }, t
      }(i.n(s).a)
    },
    LBej: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e, i) {
          var n, o, s = TVSettings.getValue("PublishedChartsTimeline.filter", l.None);
          is_authenticated || (s = l.None), n = new t({
            filter: s
          }), r.call(this, e, n), this._currentRange = null, this._properties.visible.listeners().subscribe(this, function (e) {
            this._getData(this._currentRange)
          }), this._properties.filter.listeners().subscribe(this, function (e) {
            TVSettings.setValue("PublishedChartsTimeline.filter", e.value()), this.clearMarks(), this._getData(this._currentRange)
          }), o = e._undoModel._chartWidget, this._containsData = o._containsData, this._containsData && this._properties.visible.setValue(!0), this.setUserEditEnabled(!1), this._onIdeaClickedHandler = i
        }

        function o(e) {
          a.call(this)
        }
        var r = i("fTGZ").BarsMarksContainer,
          s = i("BOPY").BarsMarksContainerRenderer,
          a = i("BOPY").BarMarkTooltip,
          l = i("hPwr").PublishedChartsFilter,
          c = i("TxTq"),
          u = i("IVMC"),
          h = i("PC8g").trackEvent,
          d = i("uOxu").getLogger("Chart.PublishedChartsTimeLine"),
          p = i("BHQF").fetch;
        inherit(n, r), n.prototype._initialize = function (e) {
          c && (this._boundOnMessage = this._onMessage.bind(this), c.on("ideas", this._boundOnMessage), c.on("ideas.post", this._boundOnMessage))
        }, n.prototype._constructor = "PublishedChartsTimeline", n.prototype._plateViewData = function (e) {
          return {
            title: e.title,
            user_id: e.user__id,
            username: e.username,
            suggested: e.is_hot,
            mine: null != window.user && e.user__id === window.user.id,
            public: e.is_public
          }
        }, n.prototype.paneViews = function () {
          return this._model.isInReplay() ? [] : r.prototype.paneViews.call(this)
        }, n.prototype.showIdea = function (e, t) {
          var i, n = this._marks[e];
          if (n) {
            if (h("GUI", "View published idea"), t && h("GUI", "Ideas navigation arrow"), TradingView.onWidget() || this._containsData) return i = n.published_chart_url || "/v/" + n.image_url + "/", i = this._getBaseUrl() + i, void window.open(i);
            this._onIdeaClickedHandler({
              chartId: n.image_url,
              chartName: n.name,
              publishedUrl: n.published_chart_url,
              shortSymbol: n.short_name
            })
          } else d.logDebug("PublishedChartsTimeline.showIdea: unexpected published chart id")
        }, n.prototype._getBaseUrl = function () {
          var e, t;
          return TradingView.onWidget() && window.locale_domains ? (e = window.locale || "en", (t = window.locale_domains[e] ? window.locale_domains[e] : window.locale_domains.en) ? document.location.protocol + "//" + t : "") : ""
        }, n.prototype.onClicked = function (e) {
          this.showIdea(e.id)
        }, n.prototype.state = function (e) {
          var t = {
            type: "BarsMarksContainer",
            id: this.id(),
            zorder: this._zOrder,
            pinnedTooltips: this.pinnedTooltips
          };
          return e && (t.marks = this.getPublishedPlates()), t
        }, n.prototype.asyncState = function (e) {
          var t = this;
          return new Promise(function (i) {
            !t._properties.visible.value() && e ? t._getData(t._currentRange, !0).then(function () {
              i(t.state(e))
            }) : i(t.state(e))
          })
        }, n.prototype.restoreData = function (e, t) {
          null != this.pinnedTooltips && (this.pinnedTooltips = e.pinnedTooltips), t && null != e.marks && (this._marks = e.marks)
        }, n.prototype._getData = function (e, t) {
          var i, n, o, r, s = this._model.mainSeries().properties(),
            a = this._model.mainSeries().symbolInfo();
          if (this._currentRange = e, a && (this._properties.visible.value() || t)) return i = a.base_name.length > 1 ? a.base_name : [a.pro_name], n = this.roundRange(this._rangeDifference(e)), i = (i = u(i)).sort(function (e, t) {
            return e - t
          }), o = {
            interval: s.interval.value(),
            legs: JSON.stringify(i),
            startTickmark: n.start,
            endTickmark: n.end,
            filter: this._properties.filter.value()
          }, r = $.ajax("/charttimeline/", {
            type: "POST",
            data: o,
            dataType: "json"
          }).done(function (t) {
            t.forEach(function (e) {
              this._marks[e.id] = e
            }, this), this._loadedRange = this._rangeUnion(e, this._loadedRange);
            var i = this._requests.indexOf(r);
            ~i && this._requests.splice(i, 1), this.onNeedRepaint.fire()
          }.bind(this)), this._requests.push(r), r
        }, n.prototype._onMessage = function (e) {
          var t, i, n, o;
          this._containsData || (n = (i = (t = this._model.mainSeries()).symbolInfo()) && i.base_name) && (o = t.properties(), e.interval === o.interval.value() && ~n.indexOf(e.pro_symbol) && (this._marks[e.id] = e, this.onNeedRepaint.fire()))
        }, n.prototype._createTooltip = function () {
          return new o
        }, n.prototype.updateDotData = function (e, t) {
          return t.mine = e.mine, t.public = e.public, t.direction = e.direction, t
        }, n.prototype.updatePlateData = function (e, t) {
          return t.title = e.title, t.user_id = e.user_id, t.username = e.username, t.barWidth = this.barWidth(), t
        }, n.prototype.destroy = function () {
          this._onIdeaClickedHandler = null, this._boundOnMessage && (c.off("ideas", this._boundOnMessage), c.off("ideas.post", this._boundOnMessage), this._boundOnMessage = void 0), r.prototype.destroy.call(this)
        }, inherit(o, a), o.prototype._createLayout = function () {
          this._layout = $('<div class="published-charts-tooltip"></div>'), this._layout_avatar = $('<div class="avatar"><img></div>').appendTo(this._layout), this._layout_text = $('<div class="text"></div>').appendTo(this._layout), this._layout_username = $('<div class="username">' + $.t("by __username__", {
            username: "<b></b>"
          }) + "</div>").appendTo(this._layout), this._layout_pin = $('<div class="pin"></div>').appendTo(this._layout), this._picture_fetched = !1;
          var e = this;
          this._layout_pin.click(function () {
            e.plateData.pinned = !e.plateData.pinned, e.source.pinTooltip(e.plateData.id, e.plateData.pinned), e._layout_pin.toggleClass("pinned", e.plateData.pinned)
          }), this._layout_text.click(function () {
            e.source.showIdea(e.plateData.id)
          })
        }, o.prototype._updatePlate = function (e) {
          this.plateData = e, this._layout.removeClass(s.THEMES.join(" ")).addClass(e.themeName), this._layout_text.text(e.title), this._layout_username.find("b").text(e.username), this._layout_pin.toggleClass("pinned", e.pinned), this._picture_fetched || (this._picture_fetched = !0, p("/user-info-json/{0}/".format(e.user_id)).then(function (e) {
            return e.json()
          }).then(function (t) {
            this._layout_avatar.find("img").attr("alt", e.username), this._layout_avatar.find("img").attr("src", t.user_data.mid_picture_url)
          }.bind(this)))
        }, e.exports = n
      }).call(this, i("tc+8"))
    },
    LIFs: function (e, t, i) {
      "use strict";

      function n(e) {
        return e.replace(r, s)
      }

      function o(e) {
        return void 0 === e && (e = ""), e.replace(/(<([^>]+)>)/gi, "")
      }
      var r, s;
      i.r(t), i.d(t, "htmlEscape", function () {
        return n
      }), i.d(t, "removeTags", function () {
        return o
      }), r = /[<"'&>]/g, s = function (e) {
        return "&#" + e.charCodeAt(0) + ";"
      }
    },
    LZ3H: function (e, t, i) {},
    LdoW: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M6.5 15A8.5 8.5 0 1 0 15 6.5H8.5"/><path d="M12 10L8.5 6.5 12 3"/></g></svg>'
    },
    Ltzl: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "SaveLineToolStateUndoCommand", function () {
        return s
      }), n = i("mrSG"), o = i("Eyy1"), r = i("RDU5"), s = function (e) {
        function t(t, i, n, o) {
          void 0 === o && (o = !0);
          var r = e.call(this, n, o) || this;
          return r._model = t, r._savedState = i.state(!0), r
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          this._toggleState()
        }, t.prototype.undo = function () {
          this._toggleState()
        }, t.prototype._getSource = function () {
          return Object(o.ensureNotNull)(this._model.dataSourceForId(this._savedState.id))
        }, t.prototype._toggleState = function () {
          var e = this._getSource(),
            t = this._savedState;
          this._savedState = e.state(!0), this._model.restoreLineToolState(e, t)
        }, t
      }(r.UndoCommand)
    },
    Lv9E: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u;
      i.r(t), i.d(t, "WidgetbarBootloader", function () {
        return u
      }), n = i("mrSG"), o = i("/BH3"), r = i("YuHv"), s = i("Vdly"), a = i.n(s), l = i("Kxc7"), c = i("cZRT"), u = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._opts = t, n._opts.resizerBridge.negotiateWidth(n._calcWidgetBarWidth()), n._opts.resizerBridge.body.value()[0].appendChild(Object(r.a)()), n._tradingPanelAccessorPromise = i, n
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          var e = this;
          return Promise.all([this._loadWidgetBar(), this._tradingPanelAccessorPromise]).then(function (t) {
            var i = t[0],
              n = t[1];
            return new i({
              resizerBridge: e._opts.resizerBridge,
              showCloseButton: e._opts.showCloseButton,
              showWizardFn: e._opts.showWizardFn,
              areShortcutsAvailable: e._opts.areShortcutsAvailable,
              chartWidgetCollection: e._opts.chartWidgetCollection,
              settingsPrefix: e._opts.settingsPrefix,
              customization: e._opts.customization,
              widgetConfig: e._opts.widgetConfig,
              tradingPanelAccessor: n
            })
          })
        }, t.prototype._loadWidgetBar = function () {
          return Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(5), i.e(6), i.e(8), i.e(9), i.e(10), i.e(16), i.e(17), i.e(20), i.e(21), i.e(23), i.e(32), i.e(43), i.e(45), i.e(46), i.e(60), i.e(61), i.e(62), i.e(64), i.e(87), i.e(109), i.e(114), i.e(119), i.e(122), i.e(151), i.e(169), i.e(174), i.e(175), i.e(185), i.e(186), i.e(190), i.e(195), i.e(7), i.e(13), i.e(15), i.e(18), i.e(22), i.e(30), i.e(28), i.e(29), i.e(27), i.e(40), i.e(36), i.e(38), i.e(42), i.e(50), i.e(52), i.e(51), i.e(53), i.e(68), i.e(78), i.e(94), i.e(92), i.e(101), i.e(97), i.e(99), i.e(91), i.e(127), i.e(133), i.e(142), i.e(156), i.e(164), i.e("widgetbar")]).then(i.t.bind(null, "BH4H", 7)).then(function (e) {
            return e.WidgetBar
          })
        }, t.prototype._calcWidgetBarWidth = function () {
          var e = a.a.getJSON(this._opts.settingsPrefix + "." + o.layoutKeyName, {
              settings: Object(o.getDefaultState)()
            }),
            t = l.enabled("widgetbar_tabs") ? o.tabsWidth : 0;
          return e.settings.minimized ? t : t + e.settings.width + o.borderWidth
        }, t
      }(c.a)
    },
    LxhU: function (e, t, i) {
      "use strict";

      function n(e) {
        return 0 === e.length ? 1 : parseInt(e, 10)
      }

      function o(e) {
        return e >= 60 && !(e % 60)
      }
      var r, s, a, l, c, u;
      i.r(t), i.d(t, "ResolutionKind", function () {
          return a
        }), i.d(t, "Interval", function () {
          return u
        }), i.d(t, "isHour", function () {
          return o
        }), r = /^(\d*)([SHDWMR])$/, s = /^(\d+)$/,
        function (e) {
          e.Seconds = "seconds", e.Minutes = "minutes", e.Hours = "hours", e.Days = "days", e.Weeks = "weeks", e.Months = "months", e.Range = "range", e.Invalid = "invalid"
        }(a || (a = {})), (l = {})[a.Seconds] = 1e3, l[a.Minutes] = 60 * l[a.Seconds], l[a.Hours] = 60 * l[a.Minutes], l[a.Days] = 24 * l[a.Hours], l[a.Weeks] = 7 * l[a.Days], c = {
          S: a.Seconds,
          H: a.Hours,
          D: a.Days,
          W: a.Weeks,
          M: a.Months,
          R: a.Range
        }, u = function () {
          function e(t, i) {
            if (this._kind = a.Invalid, void 0 === i && t !== a.Invalid) return e.parse(t);
            this._kind = this._validateResolutionKind(t), this._multiplier = this._kind !== a.Invalid ? i : void 0, 0 === this._multiplier && (this._kind = a.Invalid, this._multiplier = void 0)
          }
          return e.prototype.kind = function () {
            return this._kind
          }, e.prototype.multiplier = function () {
            return this._multiplier
          }, e.prototype.isValid = function () {
            return this.kind() !== a.Invalid
          }, e.prototype.isDWM = function () {
            return this.isValid() && !this.isRange() && !this.isIntraday()
          }, e.prototype.isIntraday = function () {
            var e = -1 !== [a.Seconds, a.Minutes, a.Hours].indexOf(this.kind());
            return this.isValid() && !this.isRange() && e
          }, e.prototype.isSeconds = function () {
            return this.kind() === a.Seconds
          }, e.prototype.isMinutes = function () {
            return this.kind() === a.Minutes
          }, e.prototype.isHours = function () {
            return this.kind() === a.Hours
          }, e.prototype.isDays = function () {
            return this.kind() === a.Days
          }, e.prototype.isWeeks = function () {
            return this.kind() === a.Weeks
          }, e.prototype.isMonths = function () {
            return this.kind() === a.Months
          }, e.prototype.isRange = function () {
            return this.kind() === a.Range
          }, e.prototype.isTimeBased = function () {
            return !this.isRange()
          }, e.prototype.letter = function () {
            return this.isValid() && this.kind() !== a.Minutes ? this.kind()[0].toUpperCase() : ""
          }, e.prototype.value = function () {
            return this.isValid() ? this.kind() === a.Minutes ? this.multiplier() + "" : this.multiplier() + this.letter() : ""
          }, e.prototype.isEqualTo = function (t) {
            if (!(t instanceof e)) throw new Error("Argument is not an Interval");
            return !(!this.isValid() || !t.isValid()) && (this.kind() === t.kind() && this.multiplier() === t.multiplier())
          }, e.prototype.inMilliseconds = function (e) {
            var t, i;
            return void 0 === e && (e = Date.now()), !this.isValid() || this.isRange() ? NaN : this.isMonths() ? ((t = new Date(e)).setUTCMonth(t.getUTCMonth() + (this.multiplier() || 1)), +t - e) : void 0 === (i = this.multiplier()) ? NaN : l[this.kind()] * i
          }, e.prototype.tryConvertToHighestKind = function () {
            var t = this.kind(),
              i = this.multiplier();
            return t === a.Minutes && i && o(i) ? new e(a.Hours, i / 60) : new e(this.kind(), this.multiplier())
          }, e.isEqual = function (t, i) {
            return e.parse(t).isEqualTo(e.parse(i))
          }, e.parse = function (t) {
            t = (t + "").toUpperCase().split(",")[0];
            var i = r.exec(t);
            return null !== i ? new e(c[i[2]], n(i[1])) : null !== (i = s.exec(t)) ? new e(a.Minutes, n(i[1])) : new e(a.Invalid)
          }, e.kind = function (t) {
            return e.parse(t).kind()
          }, e.isValid = function (t) {
            return e.parse(t).isValid()
          }, e.isDWM = function (t) {
            return e.parse(t).isDWM()
          }, e.isIntraday = function (t) {
            return e.parse(t).isIntraday()
          }, e.isSeconds = function (t) {
            return e.parse(t).isSeconds()
          }, e.isMinutes = function (t) {
            return e.parse(t).isMinutes()
          }, e.isHours = function (t) {
            return e.parse(t).isHours()
          }, e.isDays = function (t) {
            return e.parse(t).isDays()
          }, e.isWeeks = function (t) {
            return e.parse(t).isWeeks()
          }, e.isMonths = function (t) {
            return e.parse(t).isMonths()
          }, e.isRange = function (t) {
            return e.parse(t).isRange()
          }, e.isTimeBased = function (t) {
            return e.parse(t).isTimeBased()
          }, e.normalize = function (t) {
            var i = new e(t);
            return i.isValid() ? i.value() : null
          }, e.prototype._validateResolutionKind = function (e) {
            return e !== a.Seconds && e !== a.Minutes && e !== a.Hours && e !== a.Days && e !== a.Weeks && e !== a.Months && e !== a.Range && e !== a.Invalid ? a.Invalid : e
          }, e
        }()
    },
    "M/2X": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h;
      i.r(t), i.d(t, "BrowserTabsCounter", function () {
        return h
      }), n = i("VVxS"), o = i("xlbu"), r = i("0waE"), s = i("JOqt"), a = "activeBrowserTabsCounter", l = null, c = 1e4, u = 2e4, h = function () {
        function e() {
          var e = this;
          this._isMasterTab = !1, this._lastState = {
            tabs: [],
            ts: 0
          }, this._sendReport = Object(s.debounce)(function (t, i) {
            e._isMasterTab && (o.telemetry.sendReport("site", "browsers_tabs_ratio_frame", {
              value: t
            }), o.telemetry.sendReport("site", "browsers_tabs_count_frame", {
              value: i
            }))
          }, u), this._guid = Object(r.guid)(), this._initTimer()
        }
        return e.prototype.unregisterTab = function () {
          var e, t = this;
          clearInterval(this._timerId), (e = this._getState()).tabs = e.tabs.filter(function (e) {
            return e[0] !== t._guid
          }), e.ts = Date.now(), this._setState(e)
        }, e.getInstance = function () {
          return null === l && (l = new e), l
        }, e.prototype._checkIsMaster = function (e) {
          var t = 0 === e.tabs.length,
            i = Date.now() - e.ts > u;
          return t || i || e.tabs[0][0] === this._guid
        }, e.prototype._countVisibleTabsRatio = function (e) {
          var t = e.reduce(function (e, t) {
            return e + ("visible" === t[1] ? 1 : 0)
          }, 0);
          return Math.round(t / e.length * 100)
        }, e.prototype._getState = function () {
          var e = n.TVLocalStorage.getItem(a),
            t = null !== e ? JSON.parse(e) : this._lastState;
          return this._lastState = t, t
        }, e.prototype._setState = function (e) {
          n.TVLocalStorage.setItem(a, JSON.stringify(e))
        }, e.prototype._pulse = function () {
          var e, t, i = this,
            n = this._lastState.tabs,
            o = document.visibilityState,
            r = this._getState(),
            s = r.tabs.find(function (e) {
              return e[0] === i._guid
            }),
            a = this._isMasterTab;
          this._isMasterTab = this._checkIsMaster(r), e = !a && this._isMasterTab, void 0 !== s && s[1] !== o && (s[1] = o), e ? (r.tabs = [
            [this._guid, o]
          ], r.ts = Date.now(), this._isMasterTab = !0, this._sendReport(100, 1)) : this._isMasterTab ? (r.ts = Date.now(), this._countVisibleTabsRatio(n) !== (t = this._countVisibleTabsRatio(r.tabs)) && this._sendReport(t, r.tabs.length)) : void 0 === s && r.tabs.push([this._guid, o]), this._setState(r)
        }, e.prototype._initTimer = function () {
          var e = this;
          this._pulse(), this._timerId = setInterval(function () {
            return e._pulse()
          }, c)
        }, e
      }()
    },
    "M7/j": function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i;
        if (0 === e.length) return !1;
        if (-1 === (t = e.findIndex(function (e) {
            return Object(l.coordinateIsValid)(e.y)
          }))) return !1;
        for (i = e.length - 1; i > t && !Object(l.coordinateIsValid)(e[i].y);) i--;
        return !(t >= i)
      }

      function o(e, t) {
        var i, n, o, a, c, u = [],
          h = [],
          d = null;
        for (i = 0; i < e.length; i++) {
          if (n = e[i], o = e[i + 1] || {}, Object(l.coordinateIsValid)(n.y)) n.y <= t && u.push(n), n.y >= t && h.push(n), d = n;
          else {
            if (null === d) continue;
            n = d
          }
          Object(l.coordinateIsValid)(o.y) && ((n.y > t && o.y < t || n.y < t && o.y > t) && (Math.abs(n.x - o.x) < 1 ? (a = new r.Point(n.x, t), u.push(a), h.push(a)) : null !== (c = Object(s.intersectLineSegments)(n, o, new r.Point(n.x, t), new r.Point(o.x, t))) && (a = n.add(o.subtract(n).scaled(c)), u.push(a), h.push(a))))
        }
        return {
          topItems: u,
          bottomItems: h
        }
      }
      var r, s, a, l, c, u, h;
      i.r(t), i.d(t, "itemsRangeIsValid", function () {
        return n
      }), i.d(t, "splitItems", function () {
        return o
      }), i.d(t, "PaneRendererBaseline", function () {
        return h
      }), r = i("aO4+"), s = i("hBTJ"), a = i("GEp6"), l = i("Zp/P"), c = i("Y7w9"), u = i("VdBB"), h = function () {
        function e() {
          this._data = null
        }
        return e.prototype.setData = function (e) {
          this._data = e
        }, e.prototype.draw = function (e) {
          var t, i, r, s, a, l, c, u, h, d, p, f, _, m, g;
          null !== this._data && (i = (t = this._data).items, r = t.baseLevelCoordinate, s = t.bottom, a = t.bottomFillColor1, l = t.bottomFillColor2, c = t.topFillColor1, u = t.topFillColor2, h = t.topLineColor, d = t.bottomLineColor, p = t.topLineWidth, f = t.bottomLineWidth, n(i) && (m = (_ = o(i, r)).topItems, g = _.bottomItems, e.lineCap = "round", e.lineJoin = "round", e.translate(.5, .5), 0 !== m.length && (e.beginPath(), e.moveTo(m[0].x, r), this._makeLine(e, m, !0, 0), e.closePath(), e.fillStyle = this._makeLinearGradient(e, c, u, r - s, r), e.fill(), e.beginPath(), this._makeLine(e, m, !1, 0), e.lineWidth = p, e.strokeStyle = h, e.stroke()), 0 !== g.length && (e.beginPath(), e.moveTo(g[0].x, r), this._makeLine(e, g, !0, 1), e.closePath(), e.fillStyle = this._makeLinearGradient(e, a, l, r, r + s), e.fill(), e.beginPath(), this._makeLine(e, g, !1, 1), e.lineWidth = f, e.strokeStyle = d, e.stroke())))
        }, e.prototype.hitTest = function (e) {
          var t, i, n, o, s, h, d, p, f, _, m;
          if (null === this._data) return null;
          for (i = (t = this._data).items, n = t.topLineWidth, o = t.bottomLineWidth, s = Object(l.selectionTolerance)((n + o) / 2), h = Object(c.lowerbound)(i, e, function (e, t) {
              return e.x <= t.x
            }), d = Math.max(1, h - 1), p = Math.min(i.length - 1, h + 1), f = d; f <= p; ++f)
            if (_ = i[f - 1], m = i[f],
              Object(a.distanceToSegment)(new r.Point(_.x, _.y), new r.Point(m.x, m.y), new r.Point(e.x, e.y)).distance <= s) return new u.HitTestResult(u.HitTestResult.REGULAR);
          return null
        }, e.prototype._makeLine = function (e, t, i, n) {
          var o, r, s, a, c, u, h, d, p, f;
          if (null !== this._data && -1 !== (o = t.findIndex(function (e) {
              return Object(l.coordinateIsValid)(e.y)
            })))
            for (s = (r = this._data).barSpacing, a = r.baseLevelCoordinate, c = .25 * s, h = t.length, d = o; d < h; d++)
              if (p = t[d], f = t[d + 1] || {}, Object(l.coordinateIsValid)(p.y)) {
                if (0 === n) {
                  if (u && u.y >= a && p.y >= a) {
                    e.moveTo(p.x, p.y);
                    continue
                  }
                } else if (u && u.y <= a && p.y <= a) {
                  e.moveTo(p.x, p.y);
                  continue
                }
                if (u && Object(l.coordinateIsValid)(u.y)) e.lineTo(p.x, p.y), i && !Object(l.coordinateIsValid)(f.y) && e.lineTo(p.x, a);
                else if (f && Object(l.coordinateIsValid)(f.y)) i ? (d !== o && e.lineTo(p.x, a), e.lineTo(p.x, p.y)) : e.moveTo(p.x, p.y);
                else if (i) {
                  if (0 === d) continue;
                  d !== o && e.lineTo(p.x - c, a), e.lineTo(p.x - c, p.y), e.lineTo(p.x + c, p.y), e.lineTo(p.x + c, a)
                } else e.moveTo(p.x - c, p.y), e.lineTo(p.x + c, p.y);
                u = p
              }
        }, e.prototype._makeLinearGradient = function (e, t, i, n, o) {
          var r = e.createLinearGradient(0, n, 0, o);
          return r.addColorStop(0, t), r.addColorStop(1, i), r
        }, e
      }()
    },
    MA5A: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "LineToolCrossLine", function () {
        return c
      }), n = i("mrSG"), o = i("Ocx9"), r = i("p1SQ"), s = i("GmZZ"), a = i("Ss5c"), l = i("hayr"), (c = function (e) {
        function t(n, o) {
          var a = e.call(this, n, o || t.createProperties()) || this;
          return a._constructor = "LineToolCrossLine", a._priceAxisView = new r.LineToolHorzLinePriceAxisView(a), a._timeAxisView = new s.LineToolVertLineTimeAxisView(a, n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("amUF").CrossLinePaneView;
            a._setPaneViews([new t(a, a._model)])
          }.bind(null, i)).catch(void 0), a
        }
        return n.__extends(t, e), t.prototype.pointsCount = function () {
          return 1
        }, t.prototype.title = function () {
          return "Cross Line"
        }, t.prototype.name = function () {
          return "Cross Line"
        }, t.prototype.priceAxisViews = function (e, t) {
          return this.isSourceHidden() ? null : t === this.priceScale() && this.properties().showPrice.value() && this._model.paneForSource(this) === e ? [this._priceAxisView] : null
        }, t.prototype.timeAxisViews = function () {
          return this.isSourceHidden() ? null : this.properties().showTime.value() ? [this._timeAxisView] : null
        }, t.prototype.updateAllViews = function () {
          e.prototype.updateAllViews.call(this), this._priceAxisView.update(), this._timeAxisView.update()
        }, t.prototype.canHasAlert = function () {
          return !1
        }, t.prototype.getInputsPropertyPage = function () {
          return l.propertyPages.LineToolCrossLineInputsPropertyPage
        }, t.prototype.getStylesPropertyPage = function () {
          return l.propertyPages.LineToolCrossLineStylesPropertyPage
        }, t.prototype.lineColor = function () {
          return this.properties().linecolor.value()
        }, t.prototype.lineWidth = function () {
          return this.properties().linewidth.value()
        }, t.prototype.lineStyle = function () {
          return this.properties().linestyle.value()
        }, t.createProperties = function (e) {
          var i = new o.DefaultProperty("linetoolcrossline", e);
          return t._configureProperties(i), i
        }, t._configureProperties = function (e) {
          a.LineDataSource._configureProperties(e)
        }, t
      }(a.LineDataSource)).prototype.superclass = a.LineDataSource
    },
    MROS: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "ModelSelection", function () {
        return o
      }), n = i("CW80"), o = function () {
        function e() {
          this._items = [], this._set = new Set
        }
        return e.prototype.isEmpty = function () {
          return 0 === this._items.length
        }, e.prototype.add = function (e) {
          this._items.length > 0 && !Object(n.isLineTool)(this._items[0]) && this.clear(), Object(n.isLineTool)(e) || this.clear(), this._items.push(e), this._set.add(e)
        }, e.prototype.isSelected = function (e) {
          return this._set.has(e)
        }, e.prototype.sources = function () {
          return this._items.slice(0)
        }, e.prototype.checkLineToolSelection = function () {
          this._items.forEach(function (e) {
            return Object(n.isLineTool)(e) && e.calcIsActualSymbol()
          }), this._items = this._items.filter(function (e) {
            return !Object(n.isLineTool)(e) || e.isActualSymbol()
          })
        }, e.prototype.remove = function (e) {
          this._items = this._items.filter(function (t) {
            return t !== e
          }), this._set.delete(e)
        }, e.prototype.clear = function () {
          this._items = [], this._set.clear()
        }, e.prototype.notFixedSources = function () {
          return this._items.filter(function (e) {
            return !Object(n.isLineTool)(e) || !e.isFixed()
          })
        }, e
      }()
    },
    MSvv: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P;
      i.r(t), n = i("mrSG"), o = i("Eyy1"), r = i("ogJP"), s = i("k9/m"), a = i("Ss5c"), l = i("0YCj"), c = i.n(l), u = i("jenN"), h = i("aB9a"), d = i("8Uy/"), p = i("a7Ha"), f = i("Zy3/"), _ = i("z+cS"), m = i("pJOz"), g = function (e) {
        function t() {
          var t = null !== e && e.apply(this, arguments) || this;
          return t._lineRenderer1 = new _.VerticalLineRenderer, t._lineRenderer2 = new _.VerticalLineRenderer, t._medianRenderer = new m.TrendLineRenderer, t._renderer = null, t
        }
        return n.__extends(t, e), t.prototype.renderer = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._renderer
        }, t.prototype._updateImpl = function () {
          var t, i, n, r, s;
          e.prototype._updateImpl.call(this), this._renderer = null, this._getPoints().length < 2 || (i = (t = this._getPoints())[0], n = t[1], r = this._getModel().timeScale().width(), s = Object(o.ensureNotNull)(this._getSource().priceScale()).height(), this._lineRenderer1.setData({
            width: r,
            height: s,
            points: [i],
            color: "#808080",
            linewidth: 1,
            linestyle: d.LINESTYLE_SOLID
          }), this._lineRenderer2.setData({
            width: r,
            height: s,
            points: [n],
            color: "#808080",
            linewidth: 1,
            linestyle: d.LINESTYLE_SOLID
          }), this._medianRenderer.setData({
            width: r,
            height: s,
            points: [i, n],
            color: "#808080",
            linewidth: 1,
            linestyle: d.LINESTYLE_SOLID,
            extendleft: !1,
            extendright: !1,
            leftend: p.LineEnd.Normal,
            rightend: p.LineEnd.Normal
          }), this._renderer = new f.CompositeRenderer, this._renderer.append(this._lineRenderer1), this._renderer.append(this._lineRenderer2), this._renderer.append(this._medianRenderer))
        }, t
      }(h.LineSourcePaneView), y = i("1mZ4"), v = i("hayr"), S = i("gvrv"), b = i("w4Ji"), i.d(t, "StudyLineDataSource", function () {
        return w
      }), (w = function (e) {
        function t(t, i, n, o, r) {
          var s = e.call(this, t, o) || this;
          return s._indexes = null, s._inputs = null, s._pointsetPoints = null, s._loadedPlots = null, s._loadedGraphics = null, s._beingCreatedPaneView = new g(s, t), s._anchorsPaneView = new P(s, t), s._constructor = r, s._metaInfo = i, s._dataSource = new S.a(t.chartApi(), t.mainSeries(), n, i),
            s._dataSource.dataCleared().subscribe(s, s._onDataCleared), s._dataSource.dataUpdated().subscribe(s, s._onDataUpdated), s
        }
        return n.__extends(t, e), t.prototype.destroy = function () {
          this._dataSource.dataUpdated().unsubscribe(this, this._onDataUpdated), this._dataSource.dataCleared().unsubscribe(this, this._onDataCleared), this._dataSource.destroy(), e.prototype.destroy.call(this)
        }, t.prototype.stop = function () {
          this._dataSource.stop(), e.prototype.stop.call(this)
        }, t.prototype.metaInfo = function () {
          return this._metaInfo
        }, t.prototype.graphicsInfo = function () {
          return this._metaInfo.graphics
        }, t.prototype.series = function () {
          return this._model.mainSeries()
        }, t.prototype.title = function () {
          return this._metaInfo.description
        }, t.prototype.name = function () {
          return this._metaInfo.description
        }, t.prototype.studyId = function () {
          return this._metaInfo.id
        }, t.prototype.setPoint = function (t, i, n) {
          this.clearData(), e.prototype.setPoint.call(this, t, this._preparePoint(i, n))
        }, t.prototype.move = function (e) {}, t.prototype.clearData = function () {
          this._pointsetPoints = null, this._inputs = null, this._dataSource.clearData(), this._loadedPlots = null, this._indexes = null, this._loadedGraphics = null, this.updateAllViews()
        }, t.prototype.data = function () {
          return this.plots()
        }, t.prototype.plots = function () {
          return this._loadedPlots || this._dataSource.plots()
        }, t.prototype.graphics = function () {
          return this._loadedGraphics || this._dataSource.graphics()
        }, t.prototype.firstValue = function () {
          return this._model.mainSeries().firstValue()
        }, t.prototype.state = function (t) {
          var i, o, s = e.prototype.state.call(this, t);
          return this.metaInfo() instanceof c.a ? i = this.metaInfo().state() : (i = Object(r.clone)(this.metaInfo())).id = c.a.parseIdString(i.id + (i.version ? "-" + i.version : "")).fullId, o = n.__assign({}, s, {
            metaInfo: i
          }), t && (o.data = this.plots().state(), o.nonseriesindexes = this._indexes, o.graphics = Object(u.saveStudyGraphics)(this.graphics())), o
        }, t.prototype.restoreData = function (e) {
          void 0 !== e.data && (this._loadedPlots = new s.PlotList(Object(b.studyPlotFunctionMap)(this._metaInfo)), this._loadedPlots.restoreState(e.data)), this._indexes = e.nonseriesindexes ? e.nonseriesindexes : null, this._loadedGraphics = e.graphics ? Object(u.loadStudyGraphics)(e.graphics) : null
        }, t.prototype.getMinFirstBarIndexForPlot = function () {
          return -1 / 0
        }, t.prototype.getInputsPropertyPage = function () {
          return v.propertyPages.StudyLineDataSourcePropertyPage
        }, t.prototype.getStylesPropertyPage = function () {
          return v.propertyPages.StudyStylesPropertyPage
        }, t.prototype.paneViews = function () {
          var t, i = [];
          return this.isSourceHidden() ? i : (this._isReady() ? null !== (t = e.prototype.paneViews.call(this)) && (i = i.concat(t)) : i.push(this._beingCreatedPaneView), i.push(this._anchorsPaneView), i)
        }, t.prototype.propertiesChanged = function () {
          e.prototype.propertiesChanged.call(this), this._processHibernate(), this._onStudyInputsMayChange()
        }, t.prototype._isReady = function () {
          return !0
        }, t.prototype._onPointsetUpdated = function (t) {
          e.prototype._onPointsetUpdated.call(this, t), this._pointsetPoints = this._points.map(function (e) {
            return {
              price: e.price,
              index: e.index
            }
          }), this._onStudyInputsMayChange()
        }, t.prototype._onDataCleared = function () {
          this.updateAllViews(), this._model.updateSource(this)
        }, t.prototype._onDataUpdated = function (e, t, i) {
          this.updateAllViews(), this._model.updateSource(this)
        }, t.prototype._onStudyInputsMayChange = function () {
          var e = null !== this._pointsetPoints && this._pointsetPoints.length === this.pointsCount() ? this._studyInputs(this._pointsetPoints) : null;
          this._areInputsEqual(this._inputs, e) || this._applyStudyInputs(e)
        }, t.prototype._preparePoint = function (t, i) {
          var n = Object(o.ensureNotNull)(this._model.mainSeries().bars().firstIndex()),
            r = Object(o.ensureNotNull)(this._model.mainSeries().bars().lastIndex());
          return t.index = Math.max(t.index, n), t.index = Math.min(t.index, r), e.prototype._preparePoint.call(this, t, i)
        }, t._configureProperties = function (e) {
          a.LineDataSource._configureProperties(e)
        }, t.prototype._processHibernate = function () {
          this.isSourceHidden() ? this._dataSource.isStarted() && this._dataSource.stop() : this._dataSource.isStarted() || null === this._inputs || this._dataSource.start()
        }, t.prototype._areInputsEqual = function (e, t) {
          return null === t ? null === e : null !== e && function (e, t, i) {
            var n, o, r;
            for (n = 0, o = e; n < o.length; n++)
              if (t[(r = o[n]).id] !== i[r.id]) return !1;
            return !0
          }(this._metaInfo.inputs, e, t)
        }, t.prototype._applyStudyInputs = function (e) {
          var t = this._inputs;
          this._inputs = e, null !== e ? (this._dataSource.setInputs(e), null !== t || this.isSourceHidden() || this._dataSource.isStarted() || this._dataSource.start()) : this.clearData(), this.properties().lastUpdateTime.setValue((new Date).valueOf())
        }, t
      }(a.LineDataSource)).prototype.superclass = a.LineDataSource, P = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype.renderer = function () {
          this._invalidated && (this._updateImpl(), this._invalidated = !1);
          var e = new f.CompositeRenderer;
          return this.isAnchorsRequired() && (e.append(new y.SelectionRenderer({
            points: this._getPoints()
          })), e.append(this.createLineAnchor({
            points: this._getPoints()
          }))), e
        }, t
      }(h.LineSourcePaneView)
    },
    MWAT: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = Object(s.ensureDefined)(p.find(function (t) {
          return t.name === e
        }));
        return new t.ctor(t)
      }

      function o() {
        return p
      }
      var r, s, a, l, c, u, h, d, p;
      i.r(t), i.d(t, "PriceScaleSelectionStrategyEvenly", function () {
        return u
      }), i.d(t, "PriceScaleSelectionStrategyAllRight", function () {
        return h
      }), i.d(t, "PriceScaleSelectionStrategyAllLeft", function () {
        return d
      }), i.d(t, "createPriceScaleSelectionStrategy", function () {
        return n
      }), i.d(t, "allPriceScaleSelectionStrategyInfo", function () {
        return o
      }), r = i("mrSG"), s = i("Eyy1"), a = i("GVHu"), l = i("3ClC"), u = function (e) {
        function t(t) {
          return e.call(this, t) || this
        }
        return r.__extends(t, e), t.prototype.apply = function (e) {
          var t, i;
          for (e.containsMainSeries() && (t = Object(s.ensureNotNull)(Object(s.ensureNotNull)(e.mainDataSource()).priceScale()), e.movePriceScale(t, "right", 0)), i = e.model(); e.leftPriceScales().length > e.rightPriceScales().length;) t = e.leftPriceScales()[e.leftPriceScales().length - 1], e.movePriceScale(t, "right", this._targetPriceScaleIndex(t, i));
          for (; e.rightPriceScales().length - e.leftPriceScales().length > 1;) t = e.rightPriceScales()[e.rightPriceScales().length - 1],
            e.movePriceScale(t, "left", this._targetPriceScaleIndex(t, i))
        }, t.prototype.createNewPriceScaleIfPossible = function (e) {
          if (!this.canCreateNewPriceScale(e)) return e.createPriceScaleAtPosition("overlay");
          var t = e.leftPriceScales().length < e.rightPriceScales().length ? "left" : "right";
          return e.createPriceScaleAtPosition(t)
        }, t
      }(c = function () {
        function e(e) {
          this._priceScalesLimit = 8, this._metaInfo = e
        }
        return e.prototype.metaInfo = function () {
          return this._metaInfo
        }, e.prototype.findSuitableScale = function (e, t, i, n) {
          var o, r, s, a;
          if (void 0 !== n) return this._tryToGetDesiredPriceScale(e, t, n, i);
          if (Object(l.isStudy)(t)) {
            if ("Volume@tv-basicstudies" === (o = t.metaInfo()).id) return (r = e.createPriceScaleAtPosition("overlay")).setTopMargin(.75), r.setBottomMargin(0), r;
            if (null !== (s = t.desiredPriceScalePosition())) return this._tryToGetDesiredPriceScale(e, t, s, i);
            if (void 0 !== i && (Object(l.isStudy)(i) || e.isMainPane()) && o.is_price_study) return this._getPriceScaleTheSameAsForSource(i, e)
          }
          return a = !1, Object(l.isStudy)(t) ? a = Boolean(t.metaInfo().is_price_study) : t === e.model().mainSeries() && (a = !0), a && null !== (r = this._findFirstScaleForPriceStudy(e)) ? r : this.createNewPriceScaleIfPossible(e)
        }, e.prototype.canCreateNewPriceScale = function (e) {
          return e.leftPriceScales().length + e.rightPriceScales().length < this._priceScalesLimit
        }, e.prototype._getPriceScaleTheSameAsForSource = function (e, t) {
          return t.isOverlay(e) ? t.createPriceScaleAtPosition("overlay") : Object(s.ensureNotNull)(e.priceScale())
        }, e.prototype._priceScaleIsPrice = function (e, t) {
          var i = e.mainSource();
          return !!i && (i === t.mainSeries() || i instanceof a.Study && Boolean(i.metaInfo().is_price_study))
        }, e.prototype._findFirstScaleForPriceStudy = function (e) {
          var t, i = e.model();
          for (t = 0; t < this._priceScalesLimit; t++) {
            if (e.rightPriceScales().length > t && this._priceScaleIsPrice(e.rightPriceScales()[t], i)) return e.rightPriceScales()[t];
            if (e.leftPriceScales().length > t && this._priceScaleIsPrice(e.leftPriceScales()[t], i)) return e.leftPriceScales()[t]
          }
          return null
        }, e.prototype._targetPriceScaleIndex = function (e, t) {
          if (e.mainSource() === t.mainSeries()) return 0
        }, e.prototype._tryToGetDesiredPriceScale = function (e, t, i, n) {
          switch (i) {
            case "left":
              return this.canCreateNewPriceScale(e) ? e.createPriceScaleAtPosition("left") : e.createPriceScaleAtPosition("overlay");
            case "right":
              return this.canCreateNewPriceScale(e) ? e.createPriceScaleAtPosition("right") : e.createPriceScaleAtPosition("overlay");
            case "as-series":
              return void 0 !== n ? Object(s.ensureNotNull)(n.priceScale()) : e.isMainPane() ? Object(s.ensureNotNull)(Object(s.ensureNotNull)(e.mainDataSource()).priceScale()) : this.createNewPriceScaleIfPossible(e);
            case "overlay":
              return e.createPriceScaleAtPosition("overlay")
          }
        }, e
      }()), h = function (e) {
        function t(t) {
          return e.call(this, t) || this
        }
        return r.__extends(t, e), t.prototype.apply = function (e) {
          var t = this,
            i = e.model();
          e.leftPriceScales().slice(0).forEach(function (n) {
            return e.movePriceScale(n, "right", t._targetPriceScaleIndex(n, i))
          })
        }, t.prototype.createNewPriceScaleIfPossible = function (e) {
          return this.canCreateNewPriceScale(e) ? e.createPriceScaleAtPosition("right") : e.createPriceScaleAtPosition("overlay")
        }, t
      }(c), d = function (e) {
        function t(t) {
          return e.call(this, t) || this
        }
        return r.__extends(t, e), t.prototype.apply = function (e) {
          var t = this,
            i = e.model();
          e.rightPriceScales().slice(0).forEach(function (n) {
            return e.movePriceScale(n, "left", t._targetPriceScaleIndex(n, i))
          })
        }, t.prototype.createNewPriceScaleIfPossible = function (e) {
          return this.canCreateNewPriceScale(e) ? e.createPriceScaleAtPosition("left") : e.createPriceScaleAtPosition("overlay")
        }, t
      }(c), p = [{
        name: "left",
        title: window.t("Stack On The Left"),
        ctor: d
      }, {
        name: "right",
        title: window.t("Stack On The Right"),
        ctor: h
      }, {
        name: "auto",
        title: window.t("Auto"),
        ctor: u
      }]
    },
    MXV9: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(4 4)"><path d="M.5 10.992c0 .287.226.508.505.508H2.65c.19.93.55 1.82 1.09 2.63L2.577 15.3a.5.5 0 0 0-.007.71l1.42 1.42a.5.5 0 0 0 .71-.007l1.17-1.163c.81.54 1.71.9 2.63 1.09v1.645c0 .284.227.505.508.505h1.984c.28 0 .508-.221.508-.505V17.35a7.46 7.46 0 0 0 2.63-1.09l1.17 1.163a.5.5 0 0 0 .71.007l1.42-1.42a.5.5 0 0 0-.007-.71l-1.163-1.17c.54-.81.9-1.7 1.09-2.63h1.645a.502.502 0 0 0 .505-.508V9.008a.503.503 0 0 0-.505-.508H17.35c-.19-.93-.55-1.82-1.09-2.63l1.163-1.17a.5.5 0 0 0 .007-.71l-1.42-1.42a.5.5 0 0 0-.71.007L14.13 3.74a7.46 7.46 0 0 0-2.63-1.09V1.005A.504.504 0 0 0 10.992.5H9.008a.504.504 0 0 0-.508.505V2.65c-.92.19-1.82.55-2.63 1.09L4.7 2.577a.5.5 0 0 0-.71-.007L2.57 3.99a.5.5 0 0 0 .007.71L3.74 5.87c-.54.81-.9 1.7-1.09 2.63H1.005a.503.503 0 0 0-.505.508v1.984z"/><circle cx="10" cy="10" r="2.5"/></g></svg>'
    },
    MY2c: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "UndoStack", function () {
        return l
      }), n = i("RDU5"), o = i("aIyQ"), r = i.n(o), s = i("uOxu"), a = Object(s.getLogger)("Common.UndoStack"), l = function () {
        function e() {
          this._commands = [], this._onChange = new r.a
        }
        return e.prototype.onChange = function () {
          return this._onChange
        }, e.prototype.isEmpty = function () {
          return 0 === this._commands.length
        }, e.prototype.clear = function () {
          this._commands.length = 0, this._onChange.fire()
        }, e.prototype.push = function (e) {
          if (!(e instanceof n.UndoCommand)) throw new TypeError("argument must be an instance of UndoCommand");
          this._commands.push(e), this._onChange.fire()
        }, e.prototype.pop = function () {
          if (!this.isEmpty()) {
            var e = this._commands.pop();
            return this._onChange.fire(), e
          }
          a.logDebug("pop: undo stack is empty")
        }, e.prototype.head = function () {
          if (!this.isEmpty()) return this._commands[this._commands.length - 1]
        }, e
      }()
    },
    MbIA: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "DateTimeFormatter", function () {
        return s
      }), n = i("4kQX"), o = i("gQ5K"), r = {
        dateFormat: "yyyy-MM-dd",
        timeFormat: "%h:%m:%s",
        dateTimeSeparator: " "
      }, s = function () {
        function e(e) {
          void 0 === e && (e = {});
          var t = Object.assign({}, r, e);
          this._dateFormatter = new o.DateFormatter(t.dateFormat), this._timeFormatter = new n.TimeFormatter(t.timeFormat), this._separator = t.dateTimeSeparator
        }
        return e.prototype.format = function (e) {
          return "" + this._dateFormatter.format(e) + this._separator + this._timeFormatter.format(e)
        }, e.prototype.formatLocal = function (e) {
          return "" + this._dateFormatter.formatLocal(e) + this._separator + this._timeFormatter.formatLocal(e)
        }, e
      }()
    },
    Mx6j: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        r.call(this, e, t, i), this._symbolIntervalChanged = !1, this._model.mainSeries().onSymbolIntervalChanged().subscribe(this, this.onSymbolIntervalChanged)
      }
      var o = i("Eyy1").assert,
        r = i("Txy0").LineStudyMtp;
      inherit(n, r), n.prototype._mtpStudyId = function () {
        return "mtp_decisionpoint"
      }, n.prototype.onSymbolIntervalChanged = function () {
        this._symbolIntervalChanged = !0
      }, n.prototype.pointsCount = function () {
        return 1
      }, n.prototype._studyInputs = function (e) {
        var t, i;
        return o(1 === e.length, "all the line tool points should be defined"), t = e[0].index, null === (i = this._model.mainSeries().bars().valueAt(t)) ? null : {
          displayZoneLabels: this.properties().inputs.displayZoneLabels.value(),
          symbolIntervalChanged: this._symbolIntervalChanged,
          bar: 1e3 * i[TradingView.TIME_PLOT]
        }
      }, n.prototype.onData = function (e) {
        r.prototype.onData.call(this, e), this._symbolIntervalChanged = !1
      }, e.exports = n
    },
    "N+BX": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolBezierCubic";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("a6on").BezierCubicPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Double Curve"
      }, n.prototype.name = function () {
        return "Double Curve"
      }, n.prototype.controlPoints = function () {
        var e = this.pointToScreenPoint(this.points()[0])[0],
          t = this.pointToScreenPoint(this.points()[1])[0],
          i = t.subtract(e).scaled(.5),
          n = i.transposed().scaled(.3),
          o = e.add(t).scaled(.33),
          r = e.add(t).scaled(.67),
          s = o.add(n),
          a = r.subtract(n);
        return [this.screenPointToPoint(s), this.screenPointToPoint(a)]
      }, n.prototype.setLastPoint = function (e, t) {
        o.prototype.setLastPoint.call(this, e, t), this._controlPoints = this.controlPoints()
      }, n.prototype.addPoint = function (e, t, i) {
        var n, r = o.prototype.addPoint.call(this, e, t, !0);
        return r && (n = this.controlPoints(), delete this._controlPoints, this._points.push(n[0]), this._points.push(n[1]), i || (this.normalizePoints(), this.createServerPoints()), this._createPointProperty(2), this._createPointProperty(3)), r
      }, n.prototype.restorePoints = function (e, t, i) {
        o.prototype.restorePoints.call(this, e, t, i), this._createPointProperty(2), this._createPointProperty(3)
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolBezierStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolbeziercubic", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolBezierCubic = n
    },
    N22A: function (e, t, i) {
      "use strict";

      function n() {
        return Object(r.hasService)(s) ? Object(r.service)(s) : null
      }

      function o() {
        return Object(r.waitServiceRegistered)(s)
      }
      var r, s;
      i.r(t), i.d(t, "TRADING_SERVICE", function () {
          return s
        }), i.d(t, "tradingService", function () {
          return n
        }), i.d(t, "waitTradingService", function () {
          return o
        }),
        r = i("ObRt"), s = {
          id: "TradingService"
        }
    },
    N7ud: function (e, t, i) {
      "use strict";

      function n(e) {
        this._data = e
      }
      n.prototype._drawShackle = function (e) {
        var t = this._data.width - 3,
          i = t / 2,
          n = this._data.height - this._data.bodyHeight;
        e.moveTo(1.5, i), e.arc(this._data.width / 2, i, i, Math.PI, 2 * Math.PI), n > i && (e.moveTo(1.5, i), e.lineTo(1.5, n), e.moveTo(this._data.width - 1.5, i), e.lineTo(this._data.width - 1.5, n))
      }, n.prototype.draw = function (e) {
        var t, i, n, o;
        e.translate(this._data.x - this._data.width / 2, this._data.y - this._data.height / 2), t = "rgba(153,153,153,.3)", i = "rgba(153,153,153,.7)", n = "#777", o = "rgba(255,255,255,.7)", e.strokeStyle = t, e.lineWidth = 2, e.beginPath(), this._drawShackle(e), e.stroke(), e.closePath(), e.strokeStyle = i, e.lineWidth = 1, e.beginPath(), e.rect(0, this._data.height - this._data.bodyHeight + .5, this._data.width, this._data.bodyHeight), e.closePath(), e.stroke(), e.translate(0, -1), e.strokeStyle = n, e.beginPath(), this._drawShackle(e), e.stroke(), e.closePath(), e.fillStyle = o, e.beginPath(), e.rect(1, this._data.height - this._data.bodyHeight + 1.5, this._data.width - 2, this._data.bodyHeight - 2), e.fill(), e.beginPath(), e.rect(.5, this._data.height - this._data.bodyHeight + 1, this._data.width - 1, this._data.bodyHeight - 1), e.stroke(), e.closePath(), e.fillStyle = n, e.fillRect(this._data.width / 2 - .5, this._data.height - this._data.bodyHeight / 2, 1, 2)
      }, t.PaneRendererCrossHairLock = TradingView.PaneRendererCrossHairLock = n
    },
    NA7W: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "QuoteSessionPriceFormatter", function () {
        return o
      }), n = i("kcTO"), o = function () {
        function e(e) {
          this.type = "quoteSessionPrice", this.reset(e)
        }
        return e.prototype.state = function () {
          return this._priceFormatter.state()
        }, e.prototype.reset = function (e) {
          this._priceFormatter = e || new n.PriceFormatter(100, 1, !1)
        }, e.prototype.update = function (e, t) {
          var i = null != t.pricescale || null != t.minmov || null != t.fractional || null != t.minmove2,
            o = null != e.pricescale && null != e.minmov && null != e.fractional && null != e.minmove2;
          i && o && (this._priceFormatter = new n.PriceFormatter(e.pricescale, e.minmov, e.fractional || !1, e.minmove2))
        }, e.prototype.format = function (e, t, i) {
          return this._priceFormatter.format(e, t, i)
        }, e.prototype.hasForexAdditionalPrecision = function () {
          return this._priceFormatter.hasForexAdditionalPrecision()
        }, e.serialize = function (e) {
          return e.state()
        }, e.deserialize = function (t) {
          return new e(new n.PriceFormatter(t.priceScale, t.minMove, t.fractional, t.minMove2))
        }, e
      }()
    },
    NAul: function (e, t, i) {
      "use strict";

      function n(e, t) {
        return t - o(e, t)
      }

      function o(e, t) {
        var i = new Date(t);
        return function (e, t) {
          var i = t.multiplier() || 0;
          switch (t.kind()) {
            case a.ResolutionKind.Months:
              ! function (e, t) {
                r(e, Math.floor(t / 12));
                var i = e.getUTCMonth() - t % 12;
                i < 0 && (r(e, 1), i += 12);
                e.setUTCMonth(i);
                for (; e.getUTCMonth() !== i;) s(e, 1)
              }(e, i);
              break;
            case a.ResolutionKind.Weeks:
              ! function (e, t) {
                s(e, 7 * t)
              }(e, i);
              break;
            case a.ResolutionKind.Days:
              s(e, i);
              break;
            default:
              throw new Error("Unsupported resolution type")
          }
        }(i, e), i.getTime()
      }

      function r(e, t) {
        var i = e.getUTCMonth();
        e.setUTCFullYear(e.getUTCFullYear() - t), e.getUTCMonth() !== i && s(e, 1)
      }

      function s(e, t) {
        e.setTime(e.getTime() - 864e5 * t)
      }
      i.r(t), i.d(t, "periodBackInMsecs", function () {
          return n
        }),
        i.d(t, "subtractPeriod", function () {
          return o
        });
      var a = i("LxhU")
    },
    NGnh: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.lite = {
        safari: "9"
      }, t.hard = {
        msie: "11",
        chrome: "17",
        chromium: "17",
        msedge: "13",
        firefox: "12",
        safari: "8",
        ios: "8",
        opera: "16"
      }, t.iosSupported = "6.1"
    },
    NJRZ: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineTool5PointsPattern";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("6MfG").Pattern5PaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 5
      }, n.prototype.title = function () {
        return "XABCD Pattern"
      }, n.prototype.name = function () {
        return "XABCD Pattern"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolLineTool5PointsPatternStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetool5pointspattern", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineTool5PointsPattern = n
    },
    NP3r: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = o(e);
        return !!t && !(t[l.ProductFeatures.DISABLE_ON_TRIAL] && (!window.user || window.user.is_trial))
      }

      function o(e, t) {
        var i, n = s[t || function () {
          var e = window.user && window.user.pro_plan || l.ProductFeatures.FREE_PRODUCT_ID,
            t = /_trial$/,
            i = e !== l.ProductFeatures.FREE_PRODUCT_ID && !t.test(e);
          return i || (e = e.replace(t, "")), i && window.user && !window.user.is_pro_limited && !window.user.new_pro_product_line && (e = "__legacy_" + e), e
        }()];
        return n ? ((i = window.TradingView.widgetCustomer) && a[i] && (n = Object.assign({}, n, a[i])), n[e] || null) : null
      }
      var r, s, a, l;
      i.r(t), i.d(t, "enabled", function () {
        return n
      }), i.d(t, "getConfig", function () {
        return o
      }), r = i("bSeV"), s = i("+lbv"), a = i("FwoV"), l = i("bKsZ")
    },
    NWpC: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "RequestCache", function () {
        return o
      }), n = i("P5fv"), o = function () {
        function e(e) {
          this._url = "", this._cachedData = null, this._cacheComplete = !1, this._requestSend = !1, this._url = e
        }
        return e.prototype.getCachedData = function () {
          return this._cachedData
        }, e.prototype.requestData = function (e) {
          var t = this;
          if (!this._cacheComplete && !this._requestSend) return this._requestSend = !0, void $.getJSON(this._url, function (i) {
            t._requestSend = !1, t._cacheComplete = !0, t._cachedData = i, e && e(t._cachedData)
          });
          this._cachedData && e && e(this._cachedData)
        }, e.prototype.invalidate = function () {
          this._cachedData = null, this._cacheComplete = !1
        }, e
      }()
    },
    Ngz3: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#4758a9" d="M0 0h18v18H0z"/><path fill="#fff" d="M0 0v3.5L4 7H0v4h3l-3 2.5V18h.5L7 12v6h4v-5.5l6 5.5h1v-3.5L14 11h4V7h-3l3-2.5V0h-.5L11 6V0H7v5.5L1 0H0z"/><path fill="#ed5565" d="M8 0v8H0v2h8v8h2v-8h8V8h-8V0H8zm10 .6L11 7h2l5-4.5v-2zM0 .8v2L5 7h2L0 .8zM5 11l-5 4.3v2L7 11H5zm6 0l7 6v-1.8L13 11h-2z"/></svg>'
    },
    NhhI: function (e, t, i) {},
    NhkU: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolPitchfan";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("l5Au").PitchfanLinePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("5rJj"),
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Pitchfan"
      }, n.prototype.name = function () {
        return "Pitchfan"
      }, n.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolPitchfanStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolpitchfan", e, !1, {
          range: [0, 8]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolPitchfan = n
    },
    NsVT: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = c.enabled("side_toolbar_in_fullscreen_mode");
        return "center" === e || "left" === e && t
      }
      var o, r, s, a, l, c, u, h;
      i.r(t), i.d(t, "ChartPage", function () {
        return h
      }), o = i("P5fv"), r = i("hY0g"), s = i.n(r), a = i("HySD"), l = i("t7cu"), c = i("Kxc7"), u = c.enabled("no_min_chart_width"), h = function () {
        function e(e) {
          var t = this;
          if (this._processVisibility = function (e) {
              return t._affectsLayout(e.name) ? (e.body.value().toggleClass("js-hidden", !1), !0) : (e.body.value().toggleClass("js-hidden", !0), !1)
            }, this._setWidth = function (e, i) {
              var n = i;
              return t._fullscreenArea !== e.name && (e.availWidth.setValue(i), e.canNegotiate.width && (n = Object(l.a)(i, e.negotiations.width))), e.body.value().css({
                width: n
              }), e.width.setValue(n), n
            }, this._setHeight = function (e, i) {
              var n = i;
              return t._fullscreenArea !== e.name && (e.availHeight.setValue(i), e.canNegotiate.height && (n = Object(l.a)(i, e.negotiations.height))), e.body.value().css({
                height: n
              }), e.height.setValue(n), n
            }, this._setOffsets = function (e, i) {
              var n = {};
              i.indexOf("left") > -1 && (n.left = 0, t._affectsLayout("left") && (n.left += t._areas.left.width.value())), i.indexOf("top") > -1 && (n.top = 0, t._affectsLayout("top") && (n.top += t._areas.top.height.value())), i.indexOf("right") > -1 && (n.right = 0, t._affectsLayout("right") && (n.right += t._areas.right.width.value())), e.body.value().css(n)
            }, this._$body = $(e.body.value()), 0 === this._$body.size()) throw new Error("bridge.body.value() must be an element or not empty jQuery object");
          this._availableAreas = ["left", "tradingpanel", "right", "top", "bottom", "center", "topleft"], this._areas = {}, this._bridge = e, this._width = e.width, this._height = e.height, this._width.subscribe(function () {
            return t.recalculate()
          }), this._height.subscribe(function () {
            return t.recalculate()
          }), this._bridge.visible.subscribe(function () {
            return t._updateVisibility()
          }), this._bridge.fullscreen.subscribe(function () {
            return t._onParentFullscreenChange()
          }), this.recalculate()
        }
        return e.prototype.allocate = function (e) {
          var t, i, n = this,
            o = e && e.areaName;
          if (-1 === this._availableAreas.indexOf(o)) throw new Error("unknown options.areaName");
          return this.free(o), t = this._createDOM(o), (i = {
            name: o,
            canNegotiate: {
              width: "left" === o || "right" === o || "tradingpanel" === o || "topleft" === o,
              height: "top" === o || "bottom" === o || "topleft" === o
            },
            negotiations: {
              width: [],
              height: []
            },
            remove: function () {
              for (var e in n._areas) n._areas[e] === i && n.free(e)
            },
            negotiateWidth: function (e) {
              if (i.canNegotiate.width) {
                var t = Object(l.c)(e);
                Object(l.b)(i.negotiations.width, t) || (i.negotiations.width = t, n.recalculate())
              }
            },
            negotiateHeight: function (e) {
              if (i.canNegotiate.height) {
                var t = Object(l.c)(e);
                Object(l.b)(i.negotiations.height, t) || (i.negotiations.height = t, n.recalculate())
              }
            },
            requestFullscreen: function () {
              n._fullscreenArea || ("right" !== o && "center" !== o || (n._fullscreenArea = o), "center" === o && n._bridge.requestFullscreen(), n._updateFullscreen())
            },
            exitFullscreen: function () {
              o === n._fullscreenArea && (n._fullscreenArea = void 0, "center" === o && n._bridge.exitFullscreen(), n._updateFullscreen())
            },
            width: new s.a,
            height: new s.a,
            availWidth: new s.a,
            availHeight: new s.a,
            alive: new s.a(!0),
            body: new s.a(t),
            visible: new s.a(!0),
            fullscreen: new s.a(!0),
            rdState: new a.ResizerDetacherState
          }).rdState.pushOwner(i), this._areas[o] = i, i.rdState.owner.subscribe(function (e) {
            var t, r, s, a = i.body.value();
            if (e !== i) a.empty().detach();
            else {
              for (t = null, r = n._availableAreas.indexOf(o); r--;)
                if (s = n._availableAreas[r], n._affectsLayout(s)) {
                  t = n._areas[s].body.value();
                  break
                } t ? a.insertAfter(t) : a.appendTo(n._$body)
            }
            n.recalculate()
          }, {
            callWithLast: !0
          }), i.rdState.bridge()
        }, e.prototype.free = function (e) {
          var t = this._areas[e];
          t && (this._areas[e] = void 0, $(t.body.value()).remove(), t.alive.setValue(!1))
        }, e.prototype.recalculate = function () {
          var e, t, i, n, o, r, s, a, l, c, h, d, p, f, _, m, g, y, v, S, b, w, P = {};
          this._recalcSingleRunToken = P, e = this._areas.topleft, t = this._areas.left, i = this._areas.tradingpanel, n = this._areas.right, o = this._areas.top, r = this._areas.bottom, s = this._areas.center, a = this._width.value(), l = this._height.value(), c = 0, h = 0, d = 0, p = 0, f = 0, _ = 0, m = 0, P === this._recalcSingleRunToken && e && this._processVisibility(e) && (m = this._setHeight(e, l), _ = this._setWidth(e, a)), P === this._recalcSingleRunToken && t && this._processVisibility(t) && (g = this._affectsLayout("topleft") ? m : 0, t.body.value().css({
            top: g
          }), this._setHeight(t, l - m), d = this._setWidth(t, a)), P === this._recalcSingleRunToken && i && this._processVisibility(i) && (this._setHeight(i, l), y = a - d, u || (y -= 300), f = this._setWidth(i, y)), P === this._recalcSingleRunToken && n && this._processVisibility(n) && (this._setHeight(n, l), y = a - d - f, u || (y -= 300), p = this._setWidth(n, y)), P === this._recalcSingleRunToken && o && this._processVisibility(o) && (v = 0, this._affectsLayout("topleft") ? v = _ : this._affectsLayout("left") && (v = d), o.body.value().css({
            left: v
          }), y = a - v - f - p, this._setWidth(o, y), c = this._setHeight(o, l)), S = 0, b = a - d - f - p, P === this._recalcSingleRunToken && r && this._processVisibility(r) && (this._setOffsets(r, ["left"]), this._setWidth(r, b), w = l - c, S = Math.min(300, w - 0), h = this._setHeight(r, w)), P === this._recalcSingleRunToken && s && this._processVisibility(s) && (this._setOffsets(s, ["left", "top"]), this._setWidth(s, b), w = l - c - h, this._setHeight(s, Math.max(w, S))), P === this._recalcSingleRunToken && i && this._affectsLayout("tradingpanel") && this._setOffsets(i, ["right"])
        }, e.prototype._affectsLayout = function (e) {
          var t = this._areas[e];
          return !!t && (t.rdState.owner.value() === t && (this._fullscreenArea && this._fullscreenArea !== e ? n(e) : !((this._width.value() <= 567 || this._height.value() <= 445) && !["center", "top", "left", "topleft"].includes(e))))
        }, e.prototype._updateVisibility = function () {
          var e, t, i, n = this._bridge.visible.value();
          for (e = 0; e < this._availableAreas.length; e++) t = this._availableAreas[e], (i = this._areas[t]) && (n && this._affectsLayout(t) ? i.visible.setValue(!0) : i.visible.setValue(!1))
        }, e.prototype._onParentFullscreenChange = function () {
          this._bridge.fullscreen.value() || (this._fullscreenArea = void 0, this._updateFullscreen())
        }, e.prototype._updateFullscreen = function () {
          var e, t, i, o = void 0 !== this._fullscreenArea;
          for (e = 0; e < this._availableAreas.length; e++) t = this._availableAreas[e], (i = this._areas[t]) && (t !== this._fullscreenArea ? i.body.value().toggleClass("js-hidden", o && !n(t)) : i.fullscreen.setValue(!0));
          this._updateVisibility(), this.recalculate()
        }, e.prototype._createDOM = function (e) {
          var t = $("<div>").addClass("layout__area--" + e).css("position", "absolute");
          return "bottom" === e ? t.css("bottom", 0) : t.css("top", 0), "right" === e || "tradingpanel" === e ? t.css("right", 0) : t.css("left", 0), t
        }, e
      }()
    },
    Nu4p: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "plotShapesData", function () {
        return n
      }), i("YFKU"), n = {
        shape_arrow_down: {
          guiName: window.t("Arrow Down"),
          id: "shape_arrow_down",
          paneRendererClass: "PaneRendererArrowDown",
          pineName: "shape.arrowdown",
          icon: "arrow_down"
        },
        shape_arrow_up: {
          guiName: window.t("Arrow Up"),
          id: "shape_arrow_up",
          paneRendererClass: "PaneRendererArrowUp",
          pineName: "shape.arrowup",
          icon: "arrow_up"
        },
        shape_circle: {
          guiName: window.t("Circle"),
          id: "shape_circle",
          paneRendererClass: "PaneRendererCircleShape",
          pineName: "shape.circle",
          icon: "circle"
        },
        shape_cross: {
          guiName: window.t("Cross"),
          id: "shape_cross",
          paneRendererClass: "PaneRendererCrossShape",
          pineName: "shape.cross",
          icon: "cross"
        },
        shape_diamond: {
          guiName: window.t("Diamond"),
          id: "shape_diamond",
          paneRendererClass: "PaneRendererDiamond",
          pineName: "shape.diamond",
          icon: "diamond"
        },
        shape_flag: {
          guiName: window.t("Flag"),
          id: "shape_flag",
          paneRendererClass: "PaneRendererFlagShape",
          pineName: "shape.flag",
          icon: "flag"
        },
        shape_label_down: {
          guiName: window.t("Label Down"),
          id: "shape_label_down",
          paneRendererClass: "PaneRendererLabelDown",
          pineName: "shape.labeldown",
          icon: "label_down"
        },
        shape_label_up: {
          guiName: window.t("Label Up"),
          id: "shape_label_up",
          paneRendererClass: "PaneRendererLabelUp",
          pineName: "shape.labelup",
          icon: "label_up"
        },
        shape_square: {
          guiName: window.t("Square"),
          id: "shape_square",
          paneRendererClass: "PaneRendererSquare",
          pineName: "shape.square",
          icon: "square"
        },
        shape_triangle_down: {
          guiName: window.t("Triangle Down"),
          id: "shape_triangle_down",
          paneRendererClass: "PaneRendererTriangleApexDown",
          pineName: "shape.triangledown",
          icon: "triangle_down"
        },
        shape_triangle_up: {
          guiName: window.t("Triangle Up"),
          id: "shape_triangle_up",
          paneRendererClass: "PaneRendererTriangleApexUp",
          pineName: "shape.triangleup",
          icon: "triangle_up"
        },
        shape_xcross: {
          guiName: window.t("X Cross"),
          id: "shape_xcross",
          paneRendererClass: "PaneRendererXCross",
          pineName: "shape.xcross",
          icon: "x_cross"
        }
      }
    },
    OH2X: function (e, t, i) {
      "use strict";
      t.LineToolFibRetracement = i("t2ex").LineToolFibRetracement, t.LineToolFibChannel = i("xnA2").LineToolFibChannel, t.LineToolFibSpeedResistanceArcs = i("Yjuu").LineToolFibSpeedResistanceArcs, t.LineToolProjection = i("68at").LineToolProjection, t.LineToolTrendBasedFibExtension = i("ZtA1").LineToolTrendBasedFibExtension, t.LineToolElliott = i("xz+e").LineToolElliott, t.LineToolFibCircles = i("4bfY").LineToolFibCircles, t.LineToolVertLine = i("n40Z").LineToolVertLine, t.LineToolCrossLine = i("MA5A").LineToolCrossLine, t.LineToolBarsPattern = i("2bPF").LineToolBarsPattern, t.LineToolTrendBasedFibTime = i("yUly").LineToolTrendBasedFibTime, t.LineToolFibTimeZone = i("FsE7").LineToolFibTimeZone, t.LineToolCircleLines = i("tG6Q").LineToolCircleLines, t.LineToolDateRange = i("WkYF").LineToolDateRange, t.LineToolPriceRange = i("RDDl").LineToolPriceRange, t.LineToolDateAndPriceRange = i("UCMi").LineToolDateAndPriceRange, t.LineToolParallelChannel = i("qcGP").LineToolParallelChannel, t.LineToolTrendAngle = i("nW7S").LineToolTrendAngle, t.LineToolTrendLine = i("WPQD").LineToolTrendLine, t.LineToolInfoLine = i("yi8X").LineToolInfoLine, t.LineToolArrowMark = i("TohL").LineToolArrowMark, t.LineToolExecution = i("704P").LineToolExecution, t.LineToolPitchfan = i("NhkU").LineToolPitchfan, t.LineToolGannSquare = i("Z0Sh").LineToolGannSquare, t.LineToolFibSpeedResistanceFan = i("zZ5f").LineToolFibSpeedResistanceFan, t.LineToolGannComplex = i("nd9+").LineToolGannComplex, t.LineToolGannFixed = i("TBaH").LineToolGannFixed, t.LineToolGannFan = i("4u8j").LineToolGannFan, t.LineToolFibWedge = i("9QkW").LineToolFibWedge, t.LineToolPitchfork = i("aDyP").LineToolPitchfork, t.LineToolDisjointAngle = i("0xda").LineToolDisjointAngle, t.LineToolFlatBottom = i("InMJ").LineToolFlatBottom, t.LineToolIcon = i("icPo").LineToolIcon, t.LineToolRotatedRectangle = i("Az04").LineToolRotatedRectangle, t.LineToolFibSpiral = i("i80N").LineToolFibSpiral, t.LineToolHeadAndShoulders = i("aILO").LineToolHeadAndShoulders, t.LineToolTriangle = i("isVH").LineToolTriangle, t.LineToolTrianglePattern = i("lNN+").LineToolTrianglePattern, t.LineTool5PointsPattern = i("NJRZ").LineTool5PointsPattern, t.LineToolThreeDrivers = i("PYn8").LineToolThreeDrivers, t.LineToolABCD = i("pKDv").LineToolABCD, t.LineToolPolyline = i("hP9j").LineToolPolyline, t.LineToolPrediction = i("Wh6B").LineToolPrediction, t.LineToolPriceLabel = i("zqZp").LineToolPriceLabel, t.LineToolNote = i("gLxC").LineToolNote, t.LineToolNoteAbsolute = i("gLxC").LineToolNoteAbsolute, t.LineToolBrush = i("+hLl").LineToolBrush, t.LineToolArc = i("0Pxc").LineToolArc, t.LineToolCallout = i("odCa").LineToolCallout, t.LineToolBalloon = i("me8f").LineToolBalloon, t.LineToolText = i("V3Oj").LineToolText, t.LineToolHorzLine = i("/DxK").LineToolHorzLine, t.LineToolHorzRay = i("CJIV").LineToolHorzRay, t.LineToolRectangle = i("7qI1").LineToolRectangle, t.LineToolEllipse = i("V086").LineToolEllipse, t.LineToolTimeCycles = i("kIXa").LineToolTimeCycles, t.LineToolSineLine = i("bv/X").LineToolSineLine, t.LineToolGhostFeed = i("XUCF").LineToolGhostFeed, t.LineToolBezierQuadro = i("Xyly").LineToolBezierQuadro, t.LineToolBezierCubic = i("N+BX").LineToolBezierCubic, t.LineToolArrow = i("QQu0").LineToolArrow,
        t.LineToolRay = i("5ZUI").LineToolRay, t.LineToolExtended = i("CHw2").LineToolExtended, t.LineToolSchiffPitchfork = i("v5F8").LineToolSchiffPitchfork, t.LineToolSchiffPitchfork2 = i("XFad").LineToolSchiffPitchfork2, t.LineToolInsidePitchfork = i("EqoR").LineToolInsidePitchfork, t.LineToolTextAbsolute = i("V3Oj").LineToolTextAbsolute, t.LineToolArrowMarkLeft = i("TohL").LineToolArrowMarkLeft, t.LineToolArrowMarkRight = i("TohL").LineToolArrowMarkRight, t.LineToolArrowMarkUp = i("TohL").LineToolArrowMarkUp, t.LineToolArrowMarkDown = i("TohL").LineToolArrowMarkDown, t.LineToolFlagMark = i("aIha").LineToolFlagMark, t.LineToolCypherPattern = i("bTqm").LineToolCypherPattern, t.LineToolElliottImpulse = i("xz+e").LineToolElliottImpulse, t.LineToolElliottTriangle = i("xz+e").LineToolElliottTriangle, t.LineToolElliottTripleCombo = i("xz+e").LineToolElliottTripleCombo, t.LineToolElliottCorrection = i("xz+e").LineToolElliottCorrection, t.LineToolElliottDoubleCombo = i("xz+e").LineToolElliottDoubleCombo, t.LineToolRiskRewardLong = i("tDUI").LineToolRiskRewardLong, t.LineToolRiskRewardShort = i("tDUI").LineToolRiskRewardShort, t.LineToolPosition = i("ziJ5").LineToolPosition, t.LineToolOrder = i("B4/o").LineToolOrder
    },
    "OK+B": function (e, t, i) {
      "use strict";
      var n, o = i("Eyy1").assert,
        r = i("eJTA"),
        s = r.rgba,
        a = r.rgbaToString,
        l = r.parseRgb,
        c = i("+GxX").isFeatureEnabled,
        u = i("cWHH"),
        h = i("1Wlv").PriceScale,
        d = i("8sOK").StudyStub,
        p = i("CW80"),
        f = p.createLineTool,
        _ = p.createLineToolProperties,
        m = p.isLineToolName,
        g = p.isStudyLineToolName,
        y = i("Ss5c").LineDataSource,
        v = i("OH2X").LineToolBarsPattern,
        S = i("OH2X").LineToolCallout,
        b = i("HLXm"),
        w = i("GVHu"),
        P = w.Study,
        T = w.prepareStudyPropsStateForLoadChart,
        C = w.prepareStudyPropertiesForLoadChart,
        x = i("3ClC").createStudy,
        E = i("qJq3").Series,
        I = i("dfhE"),
        A = i("n5al"),
        L = i("Ocx9").DefaultProperty,
        D = i("0YCj"),
        k = i("Kxc7"),
        O = i("uOxu").getLogger("Chart.Serialization"),
        M = i("1gmO").AlertLabel,
        R = i("nmnj"),
        V = i("NP3r").getConfig,
        B = i("bKsZ").ProductFeatures,
        N = i("s4+V"),
        F = i("OH2X").LineToolParallelChannel,
        W = i("OH2X").LineToolTrendAngle,
        U = i("OH2X").LineToolGhostFeed,
        H = i("OH2X").LineToolElliott,
        j = i("7ktv").PriceDataSource,
        z = i("iDOr").Pane,
        Y = i("HvwJ"),
        q = i("Tmoa"),
        G = i("jofe").createDeferredPromise,
        X = i("ApcL").preferencesByWhiteList;
      O = i("uOxu").getLogger("Chart.Serialization"), u.version = 2, u.prototype.state = function (e, t) {
        var i, n, o, r = {
          panes: []
        };
        for (i = 0; i < this.panes().length; i++) r.panes.push(this.panes()[i].state(!0, e, !1, t));
        return r.timeScale = this.m_timeScale.state(e), n = null, n = this.publishedChartsTimelineSource(), o = this.properties(), r.chartProperties = {
          paneProperties: o.paneProperties.state(),
          scalesProperties: o.scalesProperties.state(),
          publishedChartsTimelineProperties: n ? n.state(e) : void 0,
          chartEventsSourceProperties: o.chartEventsSourceProperties.state(),
          priceScaleSelectionStrategyName: o.priceScaleSelectionStrategyName.value()
        }, o.chartEventsSourceProperties && (r.chartProperties.chartEventsSourceProperties = o.chartEventsSourceProperties.state()), r.version = u.version, r.timezone = this.timezone(), r.sessions = this.sessions().state(e), r
      }, u.prototype.asyncState = function (e) {
        var t = this.publishedChartsTimelineSource();
        return t ? t.asyncState(e).then(function (e) {
          var t = {};
          return t.chartProperties = {
            publishedChartsTimelineProperties: e
          }, t
        }) : Promise.resolve({})
      }, u.prototype.chartPropertiesTransparencyMigrate = function (e) {
        var t, i, n;
        e.chartProperties.paneProperties.crossHairProperties && (n = e.chartProperties.paneProperties.crossHairProperties, q.isHexColor(n.color) && (i = n.transparency / 100, t = l(n.color), n.color = a(s(t, i)))), e.chartProperties.paneProperties.dataWindowProperties && (n = e.chartProperties.paneProperties.dataWindowProperties, q.isHexColor(n.color) && (i = n.transparency / 100, t = l(n.color), n.color = a(s(t, i))))
      }, u.prototype.resetDeferredStudies = function () {
        new n(this).reset()
      }, u.prototype._getExceedingChildStudies = function (e) {
        var t, i, n, o, r, s, a, l, c = [];
        for (t = 0; t < e.length; ++t) c = c.concat(e[t].sources || []);
        for (i = 0, n = 1, n = V(B.STUDY_ON_STUDY).child_limit, o = [], r = {}, s = 0, a = 1e6; c.length && --a;)((l = c[s]).ownerSource && r[l.ownerSource] || !l.ownerSource) && (r[l.id] = l, c.splice(c.indexOf(l), 1), l.ownerSource && "Study" === l.type && l.state && l.state.isChildStudy && ++i > n && o.push(l)), s = (s + 1) % c.length;
        return o
      }, u.prototype.restoreState = function (e, t) {
        var i, o, r, s, a, l, c, u, h, d, p, f, _, m;
        if (new n(this).reset(), i = {}, e.panes)
          if (Array.isArray(e.panes)) {
            if (!(e.panes.length < 1)) {
              if (e.chartProperties && !e.chartProperties.timezone && (e.chartProperties.timezone = e.timezone), e.chartProperties && (o = TradingView.factoryDefaults("chartproperties").scalesProperties, TradingView.merge(o, e.chartProperties.scalesProperties), !("showLastValue" in o) || "showSeriesLastValue" in o || "showStudyLastValue" in o || (o.showSeriesLastValueProperty = o.showLastValue, o.showStudyLastValueProperty = o.showLastValue), "showSeriesLastValue" in o && (i.showSeriesLastValueProperty = !0), "showStudyLastValue" in o && (i.showStudyLastValueProperty = !0), e.chartProperties.paneProperties.vertGridProperties = e.chartProperties.paneProperties.vertGridProperties || TradingView.clone(e.chartProperties.paneProperties.gridProperties), e.chartProperties.paneProperties.horzGridProperties = e.chartProperties.paneProperties.horzGridProperties || TradingView.clone(e.chartProperties.paneProperties.gridProperties), this._properties.paneProperties.merge(e.chartProperties.paneProperties), this._properties.scalesProperties.merge(o), e.chartProperties.timezone && this._properties.timezone.setValue(e.chartProperties.timezone), e.chartProperties.chartEventsSourceProperties && this._properties.chartEventsSourceProperties && this._properties.chartEventsSourceProperties.merge(e.chartProperties.chartEventsSourceProperties), this.m_timeScale.restoreState(e.timeScale, t), this._updateDateTimeFormatter()), e.timeScale && this.m_timeScale.restoreState(e.timeScale, t), !this.readOnly() && (r = this._getExceedingChildStudies(e.panes)).length) {
                for (s = e.panes.length - 1; s >= 0; --s) {
                  for (l = (a = e.panes[s]).sources.length - 1; l >= 0; --l) c = a.sources[l], ~r.indexOf(c) && a.sources.splice(l, 1);
                  a.sources.length || e.panes.splice(s, 1)
                }
                setTimeout(function () {
                  N.createGoProDialog({
                    feature: "studyOnStudy"
                  }).then(function (e) {
                    e.open()
                  })
                }, 500)
              }
              for (u = e.panes, this.panes()[0].restoreState(u[0], t, e.version, i), h = 1,
                s = 1; s < e.panes.length; s++) 0 !== (d = e.panes[s]).sources.length ? ((a = this.panes()[h] || this.createPane()).restoreState(d, t, e.version, i), h += 1) : O.logWarn("Empty pane detected - restoring is skipped. idx=" + s + ", state=" + JSON.stringify(d));
              for (e.chartProperties && e.chartProperties.publishedChartsTimelineProperties && (c = this.publishedChartsTimelineSource()) && c.restoreData(e.chartProperties.publishedChartsTimelineProperties, t), this._invalidateBarColorerCaches(), p = this.dataSources(), f = 0, s = 0; s < p.length; s++) _ = p[s], TradingView.isInherited(_.constructor, y) && (f++, _.calcIsActualSymbol());
              return this._version = e.version, this.updateTimeScaleBaseIndex(), this.recalculateAllPanes(), this.invalidate(new Y(Y.FULL_UPDATE)), m = TVLocalStorage.getItem("linetools_limit") || 1e3, window.is_authenticated && window.user && window.user.settings && (m = window.user.settings.linetools_limit || m), f > m && f % 100 == 0 ? {
                lines_limit_exceeded: !0,
                line_tools_count: f
              } : (e.sessions && this.sessions().restoreState(e.sessions, t), {})
            }
            O.logDebug("ChartModel.restoreState: invalid state")
          } else O.logDebug("ChartModel.restoreState: invalid state");
        else O.logDebug("ChartModel.restoreState: invalid state")
      }, z.prototype.state = function (e, t, i, n) {
        function o(e) {
          var o, r;
          return u.has(e) ? u.get(e) : (o = null, r = i && !e.isSavedInStudyTemplates() || e instanceof M || !e.state || !(o = e.state(t)) || !e.isSavedInChart(t) || n && e.isActualSymbol && !e.isActualSymbol() ? null : o, u.set(e, r), r)
        }

        function r(e) {
          return null !== u.get(e)
        }
        var s, a, l, c = {},
          u = new Map;
        if (e)
          for (c.sources = [], s = 0; s < this.m_dataSources.length; s++) null !== (a = o(this.m_dataSources[s])) && c.sources.push(a);
        for (c.leftAxisesState = this._leftPriceScales.map(function (e) {
            var t = {};
            return t.state = e.state(), t.sources = e.dataSources().filter(r).map(function (e) {
              return e.id()
            }), t
          }), c.rightAxisesState = this._rightPriceScales.map(function (e) {
            var t = {};
            return t.state = e.state(), t.sources = e.dataSources().filter(r).map(function (e) {
              return e.id()
            }), t
          }), c.overlayPriceScales = {}, s = 0; s < this.m_dataSources.length; s++) l = this.m_dataSources[s], this.isOverlay(l) && l.isSavedInChart(t) && (c.overlayPriceScales[l.id()] = l.priceScale().state());
        return c.stretchFactor = this._stretchFactor, this.m_mainDataSource && (c.mainSourceId = this.m_mainDataSource.id()), c.priceScaleRatio = this._currentPriceScaleRatio, c
      }, z.prototype.sourceById = function (e) {
        for (var t = 0; t < this.m_dataSources.length; t++)
          if (this.m_dataSources[t].id() === e) return this.m_dataSources[t];
        return null
      }, z.prototype.isESDStudy = function (e) {
        return "Script$TV_EARNINGS@tv-scripting" === e.id || "Script$TV_DIVIDENDS@tv-scripting" === e.id || "Script$TV_SPLITS@tv-scripting" === e.id || "ESD$TV_EARNINGS@tv-scripting" === e.id || "ESD$TV_DIVIDENDS@tv-scripting" === e.id || "ESD$TV_SPLITS@tv-scripting" === e.id
      }, z.prototype.isStudyToSkip = function (e) {
        return !!this.isESDStudy(e)
      }, z.prototype.restoreState = function (e, t, i, n) {
        function o(e) {
          var t = defaults("chartproperties").paneProperties.axisProperties,
            i = new h(v.model().properties().scalesProperties, t);
          return i.restoreState(e.state), e.sources.forEach(function (e) {
            var n = v.dataSourceForId(e);
            n && function (e, t, i) {
              g.add(e),
                void 0 !== i.m_showSymbolLabels && e instanceof E && v.model().properties().scalesProperties.showSymbolLabels.setValue(i.m_showSymbolLabels), e.setPriceScale(t), t.addDataSource(e)
            }(n, i, t)
          }), 0 === i.dataSources().length ? null : i
        }
        var r, s, a, l, c, u, d, p, f, _, m, g, v, S, b, w, T, C, x, I, A, L;
        if (n = n || {}, e.stretchFactor && (this._stretchFactor = e.stretchFactor), r = {}, e.sources) {
          for (s = e.sources.filter(function (e) {
              return !!e && ("MainSeries" === e.type || (!e.points || !e.points.some(function (e) {
                return null === e.time_t || !isFinite(e.time_t)
              }) || (O.logNormal("Dropped invalid " + e.type + ". Reason: non-numeric point time"), !1)))
            }), a = -1 !== this.m_dataSources.indexOf(this._model.mainSeries()), this.clearSeries(), this.m_mainDataSource = null, a && this.m_dataSources.push(this._model.mainSeries()), c = (l = this.getZOrderMinMax()).minZOrder, u = l.maxZOrder, function () {
              var t, i, n, o, r, a = s.find(function (t) {
                return t.id === e.mainSourceId
              });
              if (void 0 !== a)
                if (TradingView.isInherited(TradingView[a.type], y)) {
                  for (t = null, i = 0; i < s.length; i++)
                    if (n = s[i], !TradingView.isInherited(TradingView[n.type], y)) {
                      if (null !== t) return void O.logWarn("Pane contains more than 1 possibly main sources - auto fix cannot be applied");
                      t = n
                    } null !== t ? (o = e.mainSourceId, r = 0, e.mainSourceId = t.id, s.forEach(function (e) {
                    e.ownerSource === o && (e.ownerSource = t.id, r += 1)
                  }), O.logNormal("Auto fix broken pane is applied, changed line tools=" + r + ", changed from=" + o + " to=" + t.id)) : O.logWarn("Pane contains only line tools - possible we need to remove this pane?")
                } else O.logNormal("The type of main source is not line tool - fix is unnecessary");
              else O.logWarn("There is no main source with id " + e.mainSourceId + ", total sources=" + s.length)
            }(), d = 0; d < s.length; d++)
            if ("study_Sessions" === (f = (p = s[d]).type)) {
              this.model().sessions().restoreOldState(p, t);
              break
            } for (d = 0; d < e.sources.length; d++) "study_Sessions" !== (f = (p = e.sources[d]).type) && (Math.abs(p.zorder) > 1e200 ? (_ = c - 1, O.logWarn("Datasource zorder has bad value: " + p.zorder + " Resetting it to " + _), p.zorder = _) : this.isZOrderAvailable(p.zorder) || a && "MainSeries" === f && this._model.mainSeries().zorder() === p.zorder || (p.zorder = u + 1), r[m = p.id] = p.ownerSource, f && ("MainSeries" === f ? this._restoreMainSeries(p, t, a, n) : f.toLowerCase().startsWith("study") ? this._restoreStudy(p, t, n) : TradingView.isInherited(TradingView[f], y) ? this._restoreLineTool(p, t) : TradingView[f] && TradingView[f].createFromState && this._restoreSpecialSource(p, t)), c = Math.min(c, p.zorder), u = Math.max(u, p.zorder))
        }
        for (g = new Set, v = this, S = e.leftAxisesState ? e.leftAxisesState.map(o).filter(function (e) {
            return null !== e
          }) : null !== (b = o({
            state: e.leftAxisState,
            sources: e.leftAxisSources
          })) ? [b] : [], this._leftPriceScales.slice().forEach(function (e) {
            this.removePriceScale(e)
          }.bind(this)), this._leftPriceScales = [], S.forEach(function (e) {
            v._placePriceScale(e, "left")
          }), w = e.rightAxisesState ? e.rightAxisesState.map(o).filter(function (e) {
            return null !== e
          }) : null !== (T = o({
            state: e.rightAxisState,
            sources: e.rightAxisSources
          })) ? [T] : [], this._rightPriceScales.forEach(function (e) {
            this.removePriceScale(e)
          }.bind(this)), this._rightPriceScales = [], w.forEach(function (e) {
            v._placePriceScale(e, "right")
          }),
          this._currentPriceScaleRatio = e.priceScaleRatio || e.leftPriceScaleRatio || e.rightPriceScaleRatio || null, d = 0; d < this.m_dataSources.length; d++) C = this.m_dataSources[d], g.has(C) || ((x = new h(this._model.properties().scalesProperties)).setHeight(this.m_height), x.addDataSource(C), e.overlayPriceScales && e.overlayPriceScales[C.id()] && ((I = e.overlayPriceScales[C.id()]).m_isAutoScale = !0, I.m_isLog = !1, I.m_isPercentage = !1, I.m_isLockScale = !1, x.restoreState(I)), C.setPriceScale(x));
        for (m in r)(A = r[m]) && (C = this.sourceById(m)) && this.sourceById(m).setOwnerSource(this.sourceById(A));
        if (e.mainSourceId && !this.m_mainDataSource && (this.m_mainDataSource = this.dataSourceForId(e.mainSourceId)), !this.m_mainDataSource)
          for (d = 0; d < this.m_dataSources.length; d++)
            if (C = this.m_dataSources[d], TradingView.isInherited(C.constructor, j)) {
              this.m_mainDataSource = C;
              break
            } for (d = 0; d < this.m_dataSources.length; d++) C = this.m_dataSources[d], TradingView.isInherited(C.constructor, y) ? (C.ownerSource() || C.setOwnerSource(this.mainDataSource()), C.isFixed() && C.restoreFixedPoints(), C.fixAfterRestorePriceAxis && C.fixAfterRestorePriceAxis()) : TradingView.isInherited(C.constructor, P) && (L = C.properties()).linkedToSeries && L.linkedToSeries.value() && (C.ownerSource() || C.setOwnerSource(this.model().mainSeries()));
        this._updateMargins(), this._cachedOrderedSoruces = null, this._cachedHitTestSources = null
      }, z.prototype._restoreMainSeries = function (e, t, i, n) {
        var o, r, s, a, l, u, h, d, p, f, _, m, g, y, v = e.id,
          S = e.state,
          b = e.zorder;
        if (S && S.style === I.STYLE_HILO && !c("chart_style_hilo") && (S.style = I.STYLE_CANDLES), S && ["candleStyle", "hollowCandleStyle", "haStyle"].forEach(function (e) {
            S[e] && (S[e].wickUpColor = S[e].wickUpColor || S[e].wickColor, S[e].wickDownColor = S[e].wickDownColor || S[e].wickColor)
          }), S && (S.statusViewStyle = S.statusViewStyle || {}, S.statusViewStyle.symbolTextSource || (o = !!S.statusViewStyle.showSymbolAsDescription, S.statusViewStyle.symbolTextSource = o ? "ticker" : "description")), i || (this._model.paneForSource(this._model.mainSeries()).removeDataSource(this._model.mainSeries()), this.m_dataSources.push(this._model.mainSeries())), this.m_mainDataSource = this._model.mainSeries(), (r = S && S.style ? S.style : void 0) === E.STYLE_PNF && "ATR" === this._model.mainSeries().properties().pnfStyle.inputs.style.value() ? this._model.mainSeries().properties().pnfStyle.inputs.style._value = "Traditional" : r === E.STYLE_RENKO && "ATR" === this._model.mainSeries().properties().renkoStyle.inputs.style.value() && (this._model.mainSeries().properties().renkoStyle.inputs.style._value = "Traditional"), S && !S.hasOwnProperty("showSessions") && (S.showSessions = !1), S && !S.extendedHours && (S.extendedHours = !1), S && t && (S.showCountdown = !1), S && (t && !("showSeriesLastValueProperty" in n) && "showLastValue" in S && this._model.properties().scalesProperties.showSeriesLastValue.setValue(S.showLastValue), delete S.showLastValue), S)
          for (s = {
              haStyle: A.chartStyleStudyId(E.STYLE_HEIKEN_ASHI, !0),
              renkoStyle: A.chartStyleStudyId(E.STYLE_RENKO, !0),
              pbStyle: A.chartStyleStudyId(E.STYLE_PB, !0),
              kagiStyle: A.chartStyleStudyId(E.STYLE_KAGI, !0),
              pnfStyle: A.chartStyleStudyId(E.STYLE_PNF, !0),
              rangeStyle: A.chartStyleStudyId(E.STYLE_RANGE, !0)
            }, a = this._model.studyVersioning(), l = this._model.mainSeries().styleStudyInfos(), u = Object.keys(I.SYMBOL_STRING_DATA), h = 0; h < u.length; h++) r = u[h], p = (d = I.STYLE_SHORT_NAMES[r] + "Style") in e ? e[d].studyId : s[d], null != (r = S[d]) && (f = r.inputs, _ = D.parseIdString(p), m = l[d].studyId, g = D.parseIdString(m), y = a.updateStudyInputs(_.id, _.version, g.version, f, null), r.inputs = y);
        this._model.mainSeries().restoreState(e, t), this._model.mainSeries().setId(v), void 0 !== b && this._model.mainSeries().setZorder(b), this._model.mainSeries().properties().extendedHours.listeners().fire(this._model.mainSeries().properties().extendedHours), this._model.mainSeries().symbolInfo() && this._model.mainSeries().dataEvents().fireSymbolResolved(this._model.mainSeries().symbolInfo())
      }, z.prototype._restoreStudy = function (e, t, i) {
        function o(i) {
          function o(n) {
            var o, a = C(c, i, u, null, h, n),
              l = x(_._model, a, n || _._model.mainSeries(), s);
            l.setId(r), t && (o = h.patchStudyData(c, e.data, e.nonSeriesData, e.indexes), l.restoreData(o.data, o.nsData, o.indexes)), _._model.replaceStudyStub(f, l) || (f = l), d.add(r, l)
          }
          var s, a, d;
          f.setStatus(""), (s = i || new D(c)).isTVScript && !t && D.versionOf(s) < D.VERSION_PINE_PROTECT_TV_4164 && (a = D.parseIdString(s.fullId || s.id).productId, pro.hasPackage(a) || (s = R.createScriptStubNoSrc("Error: '" + s.shortDescription + "' is not authorized", s.scriptIdPart), Object.assign(s, D.parseIdString(s.id)), c = s, i = s, u = {})), d = new n(_._model), l && e.state.isChildStudy ? d.get(l).then(o) : o()
        }
        var r, s, a, l, c, u, h, p, f, _, m;
        if (t && void 0 === e.data && void 0 === e.nonSeriesData && void 0 === e.indexes) O.logError("Cannot restore (skipping) study without data " + e.id + ", " + e.metaInfo.id);
        else {
          if (r = e.id, s = e.state, a = e.zorder, l = e.ownerSource, c = TradingView.clone(e.metaInfo), Object.assign(c, D.parseIdString(c.id)), !this.isStudyToSkip(c) || t) return u = s, p = (h = this._model.studyVersioning()).patchPropsStateAndMetaInfo(u, c, {
            oldShowStudyLastValueProperty: t && !i.showStudyLastValueProperty
          }), u = p.propsState, c = p.metaInfo, (f = new d(this._model, e, c.shortDescription)).setId(r), _ = this, t ? o(null) : (m = h.updateMetaInfoAsync(c)).sync ? o(m.result) : m.result.then(function (e) {
            o(e)
          }).catch(function (e) {
            f.setStatus("error: " + e), f.setFailed(!0)
          }), f && this.m_dataSources.push(f), delete this._cachedOrderedSoruces, delete this._cachedHitTestSources, f && void 0 !== a && f.setZorder(a), f;
          O.logNormal("Skipping study " + c.id)
        }
      }, z.prototype._restoreLineTool = function (e, t, i) {
        var n, r, s, a, l, c, u, h, p, y, w, P, C, x, E, I, A;
        if (i = void 0 === i || i, H.migrateState(e), b.migrateState(e), n = e.type, r = e.id, s = e.state, a = i ? e.zorder : this._newZOrderForLineTool(), o(m(n), "invalid data source type:" + n + " (expected to be a Line Tool)"), l = null, g(n)) {
          if (h = (e = (l = this._model.studyVersioning()).patchPointsBasedStudyState(e)).metaInfo, Object.assign(h, D.parseIdString(h.fullId)), !t && (p = h.productId, !pro.hasPackage(p))) return (y = new d(this._model, e, h.shortDescription)).setId(r), this.m_dataSources.push(y), void 0 !== a && y.setZorder(a), y.setStatus(window.t("not authorized")), void y.setFailed(!0);
          w = l.updateMetaInfo(h) || h, P = TradingView.factoryDefaults("linetool"), TradingView.merge(P, s),
            P = T(h, w, P, null, l), t ? TradingView.merge(P, {
              fixedSize: !1
            }) : TradingView.merge(P, {
              fixedSize: !0
            }), u = new L("study_" + w.id, P, !0), c = f(n, this._model, u, w, this.mainDataSource())
        } else u = _(n, s), t ? u.merge({
          fixedSize: !1
        }) : u.merge({
          fixedSize: !0
        }), c = new TradingView[n](this._model, u, !0);
        return c.setId(r), c.linkKey = e.linkKey, (C = e.alertId) && "function" == typeof c.setAlert && k.enabled("alerts") && !this._model.readOnly() && !this._model.isJustClonedChart() && c.setAlert(C, {
          noChartSave: !0
        }), x = (x = e.indexes ? e.indexes : []).slice(0, e.points.length), c.isFixed() ? c.restorePositionPercents(e.positionPercents) : c.restorePoints(e.points, x, t), c instanceof v || c instanceof S || c instanceof W || c instanceof U || c instanceof F ? c.restoreData(e) : t && c.restoreData && (E = e, l && (E.graphics = l.patchPointsBasedStudyData(E.metaInfo, E.graphics)), c.restoreData(E)), (I = null == e.version ? 1 : e.version) !== (A = null == c.version ? 1 : c.version) && "function" == typeof c.migrateVersion && c.migrateVersion(I, A, {
          pane: this,
          model: this._model,
          properties: u
        }), this.m_dataSources.push(c), delete this._cachedOrderedSoruces, delete this._cachedHitTestSources, void 0 !== a && c.setZorder(a), c
      }, z.prototype._restoreSpecialSource = function (e, t) {
        var i, n = TradingView[e.type];
        n && n.createFromState && (i = n.createFromState(e, t, this._model)) && (i.setId(e.id), this.m_dataSources.push(i), i.zorder && i.setZorder(i.zorder))
      }, u.prototype.studyTemplate = function (e) {
        var t, i, n, o, r = {
          panes: []
        };
        for (t = 0; t < this.panes().length; t++) i = !0, n = !1, o = !0, r.panes.push(this.panes()[t].state(i, n, o));
        return e && (r.interval = this.mainSeries().interval()), r.version = u.version, r
      }, u.prototype.restoreStudyTemplate = function (e, t) {
        this._undoModel.studyLoadTemplate(this._undoModel, this.studyTemplate(), e, t)
      }, u.prototype.theme = function () {
        var e = {};
        return e.chartProperties = {
          paneProperties: this.properties().paneProperties.state(),
          scalesProperties: this.properties().scalesProperties.state()
        }, e.mainSourceProperties = this.mainSeries().state().state, delete e.mainSourceProperties.symbol, delete e.mainSourceProperties.interval, delete e.chartProperties.paneProperties.topMargin, delete e.chartProperties.paneProperties.bottomMargin, e.version = u.version, e
      }, u.prototype.restoreTheme = function (e, t) {
        var i, n, o = {
          hollowCandle: {
            related: "candle"
          }
        };
        for (i in o) e.mainSourceProperties[i + "Style"] || (n = e.mainSourceProperties[o[i].related + "Style"], e.mainSourceProperties[i + "Style"] = TradingView.clone(n));
        this._undoModel.chartLoadTheme(this, e, t)
      }, u.prototype.preferences = function () {
        return X(this, this.mainSeries())
      }, n = function () {
        function e(n) {
          var o = t.indexOf(n);
          return ~o ? i[o] : this instanceof e ? (this._source = n, this._studies = {}, this._deferreds = {}, t.push(n), void i.push(this)) : new e(n)
        }
        var t = [],
          i = [];
        return e.prototype.add = function (e, t) {
          this._deferreds[e] && (this._deferreds[e].resolve(t), delete this._deferreds[e]), this._studies[e] = t
        }, e.prototype.get = function (e) {
          return this._studies[e] ? Promise.resolve(this._studies[e]) : (this._deferreds[e] || (this._deferreds[e] = G()), this._deferreds[e].promise)
        }, e.prototype.reset = function () {
          var e = t.indexOf(this._source);
          ~e && (t.splice(e, 1), i.splice(e, 1))
        }, e
      }(), e.exports = u
    },
    OKab: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "FormattersSerializer", function () {
          return c
        }), n = i("kcTO"), o = i("nEwK"), r = i("GH0z"), s = i("NA7W"), a = i("Eyy1"), l = {
          price: n.PriceFormatter,
          volume: o.VolumeFormatter,
          percentage: r.PercentageFormatter,
          quoteSessionPrice: s.QuoteSessionPriceFormatter
        },
        function (e) {
          e.serialize = function (e) {
            var t = Object(a.ensureDefined)(l[e.type]);
            return {
              type: e.type,
              state: t.serialize(e)
            }
          }, e.deserialize = function (e) {
            return Object(a.ensureDefined)(l[e.type]).deserialize(e.state)
          }
        }(c || (c = {}))
    },
    ON13: function (e, t, i) {
      "use strict";

      function n(e) {
        return new Promise(function (t) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(3), i.e("go-register-dialog")]).then(function (n) {
            t(i("lbD0").createGoRegisterDialog(e))
          }.bind(null, i)).catch(void 0)
        })
      }
      i.r(t), i.d(t, "createGoRegisterDialog", function () {
        return n
      })
    },
    ObRt: function (e, t, i) {
      "use strict";

      function n(e, t) {
        if (r(e)) throw new Error("Service already registered");
        c[e.id] = t;
        var i = u.get(e.id);
        void 0 !== i && (u.delete(e.id), i.resolve(t))
      }

      function o(e) {
        if (!r(e)) throw new Error("Service not found");
        c[e.id] = void 0
      }

      function r(e) {
        return void 0 !== c[e.id]
      }

      function s(e) {
        var t = c[e.id];
        if (void 0 === t) throw new Error("ServiceLocator: Service " + e.id + " not found");
        return t
      }

      function a(e) {
        if (r(e)) return Promise.resolve(s(e));
        var t = u.get(e.id);
        return void 0 === t && (t = Object(l.createDeferredPromise)(), u.set(e.id, t)), t.promise
      }
      var l, c, u;
      i.r(t), i.d(t, "registerService", function () {
        return n
      }), i.d(t, "unregisterService", function () {
        return o
      }), i.d(t, "hasService", function () {
        return r
      }), i.d(t, "service", function () {
        return s
      }), i.d(t, "waitServiceRegistered", function () {
        return a
      }), l = i("jofe"), c = {}, u = new Map
    },
    Ocx9: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e, t, i, n) {
          var r = e ? s.defaults : s.factoryDefaults,
            a = t.startsWith("study_") ? TradingView.clone(r("study")) : {},
            l = TradingView.clone(r(t, n));
          return t.startsWith("study_") && l.inputs && delete l.inputs.symbol, "linetoolicon" === t && e && (l.icon = s.defaults(t).icon), l = o(l, i), TradingView.merge(a, l), a
        }

        function o(e, t) {
          var i, n = {};
          for (i in e) t.indexOf(i) < 0 && (n[i] = e[i]);
          return n
        }

        function r(t, i, o, s) {
          var l;
          void 0 === s && (s = !0), this._defaultName = t, o ? l = i : (l = n(s, t, [], null), i && TradingView.merge(l, i)), a.call(this, l), this._defaultName = t, this._useUserPreferences = s, this.listeners().subscribe(this, r.prototype.onPropertyChanged), this._exclusions = [], this._restoreFactoryDefaultsEvent = new e
        }
        var s = i("wZIs"),
          a = i("tc+8");
        inherit(r, a), r._saveDefaults = !1, r.prototype.preferences = function () {
          return this.state(this._exclusions)
        }, r.prototype.mergePreferences = function (e) {
          this.mergeAndFire(o(e, this._exclusions))
        }, r.prototype.addExclusion = function (e) {
          this._exclusions.indexOf(e) < 0 && this._exclusions.push(e)
        }, r.prototype.restoreFactoryDefaults = function () {
          var e = n(!1, this._defaultName, this._exclusions, null);
          this.mergeAndFire(e), this._defaultName.startsWith("study_") || this.saveDefaults(), this._restoreFactoryDefaultsEvent.fire()
        }, r.prototype.onRestoreFactoryDefaults = function () {
          return this._restoreFactoryDefaultsEvent
        }, r.prototype.onPropertyChanged = function () {
          r._saveDefaults && !this._defaultName.startsWith("study_") && this.saveDefaults()
        }, r.prototype.saveDefaults = function () {
          this._useUserPreferences && s.saveDefaults(this._defaultName, this.preferences())
        }, r.prototype.clone = function (e) {
          var t, i = new r(this._defaultName, this.state(), e && e.replaceByState, this._useUserPreferences);
          for (t = 0; t < this._exclusions.length; ++t) i.addExclusion(this._exclusions[t]);
          return i
        }, t.DefaultProperty = r, t.saveDefaultProperties = function (e) {
          r._saveDefaults = e
        }
      }).call(this, i("aIyQ"))
    },
    OekH: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u;
      i.r(t), i.d(t, "CONNECTSTATUSES", function () {
          return n
        }), i.d(t, "ORDERTYPE", function () {
          return o
        }), i.d(t, "SIDE", function () {
          return r
        }), i.d(t, "ORDERSTATUS", function () {
          return s
        }), i.d(t, "ORDERSTATUSFILTER", function () {
          return a
        }), i.d(t, "PARENTTYPE", function () {
          return l
        }), i.d(t, "TICKETFOCUS", function () {
          return c
        }), i.d(t, "NOTIFICATION", function () {
          return u
        }),
        function (e) {
          e[e.CONNECTED = 1] = "CONNECTED", e[e.CONNECTING = 2] = "CONNECTING", e[e.DISCONNECTED = 3] = "DISCONNECTED", e[e.ERROR = 4] = "ERROR"
        }(n || (n = {})),
        function (e) {
          e[e.LIMIT = 1] = "LIMIT", e[e.MARKET = 2] = "MARKET", e[e.STOP = 3] = "STOP", e[e.STOPLIMIT = 4] = "STOPLIMIT"
        }(o || (o = {})),
        function (e) {
          e[e.BUY = 1] = "BUY", e[e.SELL = -1] = "SELL"
        }(r || (r = {})),
        function (e) {
          e[e.CANCELED = 1] = "CANCELED", e[e.FILLED = 2] = "FILLED", e[e.INACTIVE = 3] = "INACTIVE", e[e.PLACING = 4] = "PLACING", e[e.REJECTED = 5] = "REJECTED", e[e.WORKING = 6] = "WORKING"
        }(s || (s = {})),
        function (e) {
          e[e.ALL = 0] = "ALL", e[e.CANCELED = 1] = "CANCELED", e[e.FILLED = 2] = "FILLED", e[e.INACTIVE = 3] = "INACTIVE", e[e.REJECTED = 5] = "REJECTED", e[e.WORKING = 6] = "WORKING"
        }(a || (a = {})),
        function (e) {
          e[e.ORDER = 1] = "ORDER", e[e.POSITION = 2] = "POSITION"
        }(l || (l = {})),
        function (e) {
          e[e.LIMITPRICE = 1] = "LIMITPRICE", e[e.STOPPRICE = 2] = "STOPPRICE", e[e.TAKEPROFIT = 3] = "TAKEPROFIT", e[e.STOPLOSS = 4] = "STOPLOSS"
        }(c || (c = {})),
        function (e) {
          e[e.ERROR = 0] = "ERROR", e[e.SUCCESS = 1] = "SUCCESS"
        }(u || (u = {}))
    },
    OiSa: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "isDrawingToolbarVisible", function () {
        return c
      }), n = i("Vdly"), o = i("Kxc7"), r = i("hY0g"), s = i.n(r), a = !o.enabled("hide_left_toolbar_by_default"), l = n.getBool("ChartDrawingToolbarWidget.visible", a), c = new s.a(l)
    },
    OkvX: function (e) {
      e.exports = {
        dur: "350ms",
        "dur-fast": "60ms",
        "ease-in-like": "cubic-bezier(0.33, 0, 0.11, 1)",
        "ease-out-like": "cubic-bezier(0.89, 0, 0.67, 1)",
        "size-layout-horzpadding": "20px",
        "size-drawings-toolbar-item-height": "36px",
        "size-header-linkindent": "15px",
        "size-collapse-tabs-height": "56px",
        "size-no-scroll-choicer-height": "56px",
        "size-main-chart-area-indent": "4px",
        "size-main-chart-area-radius": "0",
        "media-notebook": "screen and (max-width: 1539px)",
        "media-tablet": "screen and (max-width: 1019px)",
        "media-phone": "screen and (max-width: 767px)",
        "media-phone-vertical": "screen and (max-width: 479px)",
        "media-extreme-thin": "screen and (max-width: 329px)",
        "media-mf-phone-vertical": "screen and (min-width: 330px)",
        "media-mf-phone": "screen and (min-width: 480px)",
        "media-mf-tablet": "screen and (min-width: 768px)",
        "media-mf-notebook": "screen and (min-width: 1020px)",
        "media-desktop": "screen and (min-width: 1020px)",
        "media-mf-desktop": "screen and (min-width: 1540px)",
        "media-mf-desktop-hd": "screen and (min-width: 1920px)",
        "media-widgetbar-breakpoint": "screen and (max-width: 1064px)",
        "media-ie": "screen and (-ms-high-contrast: none), (-ms-high-contrast: active)",
        "z-index-content-page": 1,
        "z-index-dropdown": 99,
        "z-index-toolbar-popup-menu": 100,
        "z-index-copyright-button": 900,
        "z-index-tooltip": 1e3
      }
    },
    OsWk: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15" fill="none"><path d="M3.00004 7.50008C3.00004 6.25729 3.50318 5.13298 4.31807 4.31809L3.61097 3.61098C2.6162 4.60574 2.00004 5.98143 2.00004 7.50008H3.00004ZM4.31807 4.31809C5.13296 3.50321 6.25727 3.00008 7.50004 3.00008V2.00008C5.98141 2.00008 4.60572 2.61623 3.61097 3.61098L4.31807 4.31809ZM4.31808 3.61098L2.55033 1.84323L1.84322 2.55033L3.61097 4.31809L4.31808 3.61098ZM7.50004 3.00008C8.74283 3.00008 9.86715 3.50321 10.682 4.31811L11.3891 3.611C10.3944 2.61624 9.01869 2.00008 7.50004 2.00008V3.00008ZM10.682 4.31811C11.4969 5.13299 12 6.2573 12 7.50008H13C13 5.98144 12.3839 4.60576 11.3891 3.611L10.682 4.31811ZM11.3891 4.31811L13.1569 2.55033L12.4498 1.84322L10.682 3.611L11.3891 4.31811ZM12 7.50008C12 8.74285 11.4969 9.86716 10.682 10.682L11.3891 11.3892C12.3839 10.3944 13 9.01872 13 7.50008H12ZM10.682 10.682C9.86715 11.4969 8.74283 12.0001 7.50004 12.0001V13.0001C9.01869 13.0001 10.3944 12.3839 11.3891 11.3892L10.682 10.682ZM10.682 11.3892L12.4498 13.1569L13.1569 12.4498L11.3891 10.682L10.682 11.3892ZM7.50004 12.0001C6.25727 12.0001 5.13296 11.497 4.31807 10.6821L3.61097 11.3892C4.60572 12.3839 5.98141 13.0001 7.50004 13.0001V12.0001ZM4.31807 10.6821C3.50318 9.86718 3.00004 8.74286 3.00004 7.50008H2.00004C2.00004 9.01873 2.6162 10.3944 3.61097 11.3892L4.31807 10.6821ZM2.55033 13.1569L4.31808 11.3892L3.61097 10.6821L1.84322 12.4498L2.55033 13.1569ZM8.00004 2.50007L8 -8.77353e-06L7 8.77353e-06L7.00004 2.50009L8.00004 2.50007ZM12.5001 8.00008L15 8L15 7L12.5 7.00008L12.5001 8.00008ZM2.50006 7.00008L1.564e-05 7L-1.564e-05 8L2.50003 8.00008L2.50006 7.00008ZM7.00004 12.5001L7 15L8 15L8.00004 12.5001L7.00004 12.5001Z"/></svg>'
    },
    P7QH: function (e, t, i) {
      "use strict";

      function n(e) {
        return e ? r[e] || "flag-" + e : ""
      }
      var o = {
          ae: "flag-ae",
          argentina: "flag-ar",
          canada: "flag-ca",
          colombia: "flag-co",
          bitcoin: "flag-btc",
          brasil: "flag-br",
          uk: "flag-uk",
          gb: "flag-uk",
          usa: "flag-us",
          egypt: "flag-eg",
          europe: "flag-eu",
          russia: "flag-ru",
          japan: "flag-jp",
          indonesia: "flag-id",
          india: "flag-in",
          forex: "flag-fx",
          luxembourg: "flag-lu",
          mexico: "flag-mx",
          germany: "flag-de",
          ireland: "flag-ie",
          italy: "flag-it",
          qatar: "flag-qa",
          peru: "flag-pe",
          spain: "flag-es",
          saudi_arabia: "flag-sa",
          serbia: "flag-rs",
          south_africa: "flag-za",
          sweden: "flag-se",
          switzerland: "flag-ch",
          turkey: "flag-tr",
          norway: "flag-no",
          austria: "flag-at",
          australia: "flag-au",
          new_zealand: "flag-nz",
          hong_kong: "flag-hk",
          taiwan: "flag-tw",
          thailand: "flag-th",
          singapore: "flag-sg",
          south_korea: "flag-kr",
          poland: "flag-pl",
          israel: "flag-il",
          chile: "flag-cl",
          china: "flag-cn",
          malaysia: "flag-my",
          bahrain: "flag-bh",
          nigeria: "flag-ng",
          finland: "flag-fi",
          iceland: "flag-is",
          denmark: "flag-dk",
          lithuania: "flag-lt",
          estonia: "flag-ee",
          latvia: "flag-lv",
          vietnam: "flag-vn",
          netherlands: "flag-nl",
          belgium: "flag-be",
          portugal: "flag-pt",
          france: "flag-fr",
          greece: "flag-gr",
          korea: "flag-kr"
        },
        r = {
          gb: "flag-uk"
        },
        s = {
          FXCM: !0,
          OANDA: !0,
          FOREXCOM: !0,
          "FOREX.com": !0,
          FX_IDC: !0,
          FX: !0
        };
      e.exports.supportedFlags = function () {
        return Object.keys(o)
      }, e.exports.getFlagIdByName = function (e) {
        return e && o[e] ? o[e] : ""
      }, e.exports.getFlagIdBySymbolInfo = function (e) {
        var t;
        return e ? (t = "", e.country ? t = n(e.country && e.country.toLowerCase()) : e.rootItem ? t = n(e.rootItem.country && e.rootItem.country.toLowerCase()) : "forex" === e.type || !0 === s[e.exchange] ? t = "flag-fx" : "bitcoin" === e.type && (t = "flag-btc"), t) : ""
      }
    },
    PC8g: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "trackEvent", function () {
        return c
      }), n = i("FQhm"), o = i("Kxc7"), r = i("uOxu"), s = Object(r.getLogger)("Common.TrackEvent"), a = [/Study_(Drawing)_(.*)/, /(Study)_(.*)@tv-basicstudies/, /(Study)_(.*)/, /(Chart Style) (.*)/], l = function (e, t, i) {
        var o, r, s;
        for (t = t || e || i || "", o = "", r = 0; r < a.length; r++)
          if ((s = t.match(a[r])) && 3 === s.length) {
            t = s[1], o = s[2];
            break
          } Object(n.emit)(t.toLowerCase().replace(" ", "_"), {
          category: e,
          label: i,
          value: o
        })
      }, c = function (e, t, i) {
        var n, r, a;
        o.enabled("charting_library_base") ? l(e, t, i) : (n = (e ? e + ":" : "") + t, i && (n += " " + i), s.logNormal(n), o.enabled("widget") || (r = window._gaq, window._UNIT_TESTS || void 0 === r || (a = ["_trackEvent", e, t], void 0 !== i && a.push(i), r.push(a))))
      }, "undefined" != typeof window && (window.TradingView = window.TradingView || {}, window.TradingView.trackEvent = c)
    },
    PFI7: function (e, t, i) {
      "use strict";

      function n(e) {
        return e.offsetWidth + s < e.scrollWidth
      }
      var o, r, s;
      i.r(t), o = i("P5fv"), r = i("glKZ"), s = $.browser.msie || /\btrident\b/i.test(navigator.userAgent) ? 1 : 0, $(function () {
        $(document).on("mouseenter", ".apply-overflow-title", function () {
          var e;
          e = this, $(e).attr("title") || e.offsetWidth + s >= e.scrollWidth || $(e).attr("title", $(e).text())
        }), $(document).on("mouseenter", ".apply-overflow-tooltip", function () {
          var e, t, i, o, s = $(this);
          if (s.is(".apply-overflow-tooltip--check-children")) {
            for (e = !1, t = s.children(), i = 0; i < t.length; i++)
              if (n(t[i])) {
                e = !0;
                break
              } if (!e) return
          } else if (!n(s[0])) return;
          o = "", o = s.is(".apply-overflow-tooltip--allow-text") ? s.text() : s.clone().children().remove().end().text().trim(), Object(r.showOnElement)(s[0], {
            text: o
          }), s.on("mouseleave mousedown", function e() {
            Object(r.hide)(), s.off("mouseleave mousedown", e)
          })
        })
      })
    },
    PJXJ: function (e, t, i) {
      "use strict";

      function n(e) {
        return void 0 === e && (e = 0), e < 1e3 ? e : e / 1e3
      }
      i.r(t), i.d(t, "ensureDurationInSeconds", function () {
        return n
      })
    },
    PT1i: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "Linking", function () {
          return l
        }), i.d(t, "linking", function () {
          return c
        }), n = i("hY0g"), o = i.n(n), r = i("Kxc7"), s = i("0UyP"),
        function (e) {
          e[e.NotBound = 0] = "NotBound", e[e.BoundToWidget = 1] = "BoundToWidget", e[e.BoundToModel = 2] = "BoundToModel"
        }(a || (a = {})), l = function () {
          function e() {
            this._watchedSymbol = new o.a, this._seriesShortSymbol = new o.a, this._proSymbol = new o.a, this._watchedInterval = new o.a, this._watchedIntraday = new o.a, this._watchedSupportedResolutions = new o.a, this._symbolNamesList = new o.a,
              this._chartWidgetBindingState = a.NotBound, this._activeChartWidget = null, this._watchedSymbolListenerBound = this._watchedSymbolListener.bind(this), this._watchedIntervalListenerBound = this._watchedIntervalListener.bind(this), this._onSymbolLinkBound = this._onSymbolLink.bind(this), this._searchCharts = null, this._selfEmit = !1, this._preventFeedBySymbol = !1
          }
          return Object.defineProperty(e.prototype, "symbol", {
            get: function () {
              return this._watchedSymbol
            },
            enumerable: !0,
            configurable: !0
          }), Object.defineProperty(e.prototype, "proSymbol", {
            get: function () {
              return this._proSymbol
            },
            enumerable: !0,
            configurable: !0
          }), Object.defineProperty(e.prototype, "symbolNamesList", {
            get: function () {
              return this._symbolNamesList
            },
            enumerable: !0,
            configurable: !0
          }), Object.defineProperty(e.prototype, "seriesShortSymbol", {
            get: function () {
              return this._seriesShortSymbol.readonly()
            },
            enumerable: !0,
            configurable: !0
          }), Object.defineProperty(e.prototype, "interval", {
            get: function () {
              return this._watchedInterval
            },
            enumerable: !0,
            configurable: !0
          }), Object.defineProperty(e.prototype, "intraday", {
            get: function () {
              return this._watchedIntraday.readonly()
            },
            enumerable: !0,
            configurable: !0
          }), Object.defineProperty(e.prototype, "supportedResolutions", {
            get: function () {
              return this._watchedSupportedResolutions.readonly()
            },
            enumerable: !0,
            configurable: !0
          }), Object.defineProperty(e.prototype, "preventFeedBySymbol", {
            get: function () {
              return this._preventFeedBySymbol
            },
            enumerable: !0,
            configurable: !0
          }), e.prototype.bindToChartWidget = function (e) {
            var t, i;
            this.unbindFromChartWidget(), this._activeChartWidget = e, (t = e.model()) ? this._onChartModelCreated(t) : (e.modelCreated().subscribe(this, this._onChartModelCreated), this._chartWidgetBindingState = a.BoundToWidget, i = e.properties().mainSeriesProperties, this._watchedSymbol.setValue(i.symbol.value()), this._watchedInterval.setValue(i.interval.value()))
          }, e.prototype.unbindFromChartWidget = function () {
            switch (this._chartWidgetBindingState) {
              case a.BoundToWidget:
                if (!this._activeChartWidget) throw new Error("ChartWidget is undefined");
                this._activeChartWidget.modelCreated().unsubscribe(this, this._onChartModelCreated);
                break;
              case a.BoundToModel:
                this._symbolProperty().unsubscribe(this, this._onSymbolPropertyChange), this._watchedSymbol.unsubscribe(this._watchedSymbolListenerBound), this._mainSeries().dataEvents().symbolResolved().unsubscribe(this, this._updateSeriesSymbolInfo), this._mainSeries().dataEvents().symbolError().unsubscribe(this, this._updateSeriesSymbolInfo), this._intervalProperty().unsubscribe(this, this._onIntervalPropertyChange), this._watchedInterval.unsubscribe(this._watchedIntervalListenerBound), delete this._watchedSymbol.hook, delete this._watchedSymbol.writeLock
            }
            this._activeChartWidget = null, this._chartWidgetBindingState = a.NotBound
          }, e.prototype.getChartWidget = function () {
            return this._activeChartWidget
          }, e.prototype.bindToChartWidgetCollection = function (e) {
            var t = this;
            this._chartWidgetCollection = e, this.unbindFromChartWidget(), e.activeChartWidget.subscribe(function (e) {
              t.unbindFromChartWidget(), t.bindToChartWidget(e)
            }, {
              callWithLast: !0
            })
          }, e.prototype.bindToSearchCharts = function (e) {
            this.unbindFromSearchCharts(), this._searchCharts = e, e.onSearchBySymbol.subscribe(this, this._onSearchBySymbol), this._watchedSymbol.subscribe(this._onSymbolLinkBound)
          }, e.prototype.unbindFromSearchCharts = function () {
            this._searchCharts && (this._searchCharts.onSearchBySymbol.unsubscribe(this, this._onSearchBySymbol), this._watchedSymbol.unsubscribe(this._onSymbolLinkBound), this._searchCharts = null)
          }, e.prototype.setPreventFeedBySymbol = function (e) {
            this._preventFeedBySymbol = e
          }, e.prototype._onSearchBySymbol = function (e) {
            if (!e.resolved_symbol) throw new Error("no resolved_symbol");
            this._selfEmit = !0, this._watchedSymbol.setValue(e.resolved_symbol), this._selfEmit = !1
          }, e.prototype._onSymbolLink = function (e) {
            if (!this._selfEmit) {
              if (!this._searchCharts) throw new Error("No search charts defined");
              this._preventFeedBySymbol || this._searchCharts.feedBySymbol(e)
            }
          }, e.prototype._mainSeries = function () {
            if (!this._activeChartWidget) throw new Error("ChartWidget is undefined");
            return this._activeChartWidget.model().mainSeries()
          }, e.prototype._properties = function () {
            return this._mainSeries().properties()
          }, e.prototype._symbolProperty = function () {
            return this._properties().symbol
          }, e.prototype._intervalProperty = function () {
            return this._properties().interval
          }, e.prototype._watchedSymbolListener = function (e) {
            (r.enabled("same_data_requery") || this._symbolProperty().value() !== e) && (this._chartWidgetCollection.setSymbol(e), this._sendSnowplowAnalytics())
          }, e.prototype._sendSnowplowAnalytics = function () {
            var e, t, i, n = this;
            window.user.do_not_track || (e = this._mainSeries(), t = function () {
              e.dataEvents().symbolResolved().unsubscribe(n, i)
            }, i = function (i) {
              Object(s.getTracker)().then(function (e) {
                var t, o;
                null !== e && (t = n._chartWidgetCollection.layout.value(), o = n._chartWidgetCollection.metaInfo.uid.value() || "", e.trackChartSymbols(i.pro_name, i.type, t, o))
              }), e.dataEvents().symbolError().unsubscribe(n, t)
            }, e.dataEvents().symbolResolved().subscribe(this, i, !0), e.dataEvents().symbolError().subscribe(this, t, !0))
          }, e.prototype._onSymbolPropertyChange = function () {
            var e = this._symbolProperty().value() !== this._watchedSymbol.value();
            this._watchedSymbol.setValue(this._symbolProperty().value()), e && this._chartWidgetCollection.setSymbol(this._symbolProperty().value())
          }, e.prototype._onSymbolResolved = function (e) {
            var t = this._mainSeries().symbolInfo();
            t && this._applyValuesFromSymbolInfo(t)
          }, e.prototype._applyValuesFromSymbolInfo = function (e) {
            var t = e.pro_name || r.enabled("trading_terminal") && (e.full_name || e.name) || "";
            this._proSymbol.setValue(t), e.aliases && this._symbolNamesList.setValue(e.aliases)
          }, e.prototype._updateSeriesSymbolInfo = function () {
            this._seriesShortSymbol.setValue(this._properties().shortName.value());
            var e = this._mainSeries().symbolInfo();
            e ? (this._applyValuesFromSymbolInfo(e), e.hasOwnProperty("supported_resolutions") ? this._watchedSupportedResolutions.setValue(e.supported_resolutions) : this._watchedSupportedResolutions.setValue(void 0), this._watchedIntraday.setValue(!!e.has_intraday)) : (this._watchedIntraday.deleteValue(), this._proSymbol.deleteValue())
          }, e.prototype._watchedIntervalListener = function (e) {
            (r.enabled("same_data_requery") || this._intervalProperty().value() !== e) && this._chartWidgetCollection.setResolution(e)
          }, e.prototype._onIntervalPropertyChange = function () {
            var e = this._intervalProperty().value() !== this._watchedInterval.value();
            this._watchedInterval.setValue(this._intervalProperty().value()), e && this._chartWidgetCollection.setResolution(this._intervalProperty().value())
          }, e.prototype._onChartModelCreated = function (e) {
            var t, i, n;
            if (!this._activeChartWidget) throw new Error("ChartWidget is undefined");
            this._chartWidgetBindingState = a.BoundToModel, this._activeChartWidget.modelCreated().unsubscribe(this, this._onChartModelCreated), (t = this._symbolProperty()).subscribe(this, this._onSymbolPropertyChange), this._watchedSymbol.setValue(t.value()), this._watchedSymbol.subscribe(this._watchedSymbolListenerBound), (i = this._mainSeries()).dataEvents().symbolResolved().subscribe(this, this._onSymbolResolved), this._watchedSymbol.hook = function (e) {
              return i.symbolSameAsCurrent(e) && (e = i.symbol()), e
            }, i.dataEvents().symbolResolved().subscribe(this, this._updateSeriesSymbolInfo), i.dataEvents().symbolError().subscribe(this, this._updateSeriesSymbolInfo), i.dataEvents().symbolNotPermitted().subscribe(this, this._updateSeriesSymbolInfo), i.dataEvents().symbolGroupNotPermitted().subscribe(this, this._updateSeriesSymbolInfo), i.dataEvents().extendedHoursNotPermitted().subscribe(this, this._updateSeriesSymbolInfo), this._updateSeriesSymbolInfo(), (n = this._intervalProperty()).subscribe(this, this._onIntervalPropertyChange), this._watchedInterval.setValue(n.value()), this._watchedInterval.subscribe(this._watchedIntervalListenerBound), this._activeChartWidget.readOnly() && (this._watchedSymbol.writeLock = !0)
          }, e
        }(), window.TradingView = window.TradingView || {}, c = new l, window.TradingView.Linking = c
    },
    PYn8: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolThreeDrivers";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("S6aM").LineToolThreeDrivesPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 7
      }, n.prototype.title = function () {
        return "Three Drives Pattern"
      }, n.prototype.name = function () {
        return "Three Drives Pattern"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolABCDPatternStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolthreedrivers", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolThreeDrivers = n
    },
    Pb0m: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._model = e, this._source = t, this._waves = [], this._highlights = [], this._retracements = [], this._invalidated = !0
      }

      function o(e, t, i, n) {
        l.call(this, e, t, i, n)
      }
      var r = i("Eyy1").ensureNotNull,
        s = i("aO4+").Point,
        a = i("qgcf").TextRenderer,
        l = i("Qq0B").NonSeriesStudy,
        c = i("pJOz").TrendLineRenderer,
        u = i("VdBB").HitTestResult,
        h = i("Zy3/").CompositeRenderer,
        d = i("Tmoa"),
        p = i("hayr").propertyPages,
        f = i("a7Ha").LineEnd,
        _ = i("zDbI").CHART_FONT_FAMILY;
      n._wave5Labels = [
        ["i", "ii", "iii", "iv", "v"],
        ["(i)", "(ii)", "(iii)", "(iv)", "(v)"],
        ["((i))", "((ii))", "((iii))", "((iv))", "((v))"],
        ["1", "2", "3", "4", "5"],
        ["(1)", "(2)", "(3)", "(4)", "(5)"],
        ["((1))", "((2))", "((3))", "((4))", "((5))"],
        ["I", "II", "III", "IV", "V"],
        ["(I)", "(II)", "(III)", "(IV)", "(V)"],
        ["((I))", "((II))", "((III))", "((IV))", "((V))"]
      ], n._wave3Labels = [
        ["a", "b", "c"],
        ["A", "B", "C"]
      ], n._fontSizes = [10, 10, 10, 11, 11, 11, 12, 12, 12], n.prototype.update = function () {
        this._invalidated = !0
      }, n.prototype.updateImpl = function () {
        var e, t, i, o, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F;
        if (this._waves = [], this._highlights = [], this._retracements = [], this._source.customData() && this._source.properties().visible.value() && (e = this._source.customData().waves, t = this._source._indexes, i = this._model.timeScale(), o = this._source.priceScale(), l = (a = this._model.mainSeries()).firstBar(), o && !o.isEmpty() && !i.isEmpty() && l && e)) {
          for (u = (c = i.visibleBarsStrictRange()).lastBar(), h = c.firstBar(), d = ["m0StartIndex", "startIndex", "endIndex", "m2EndIndex", "m3EndIndex"], p = a.firstValue(), f = 0; f < e.length; f++)
            if (e[f]) {
              for (_ = [], m = 0; m < 5 && (g = t[e[f][d[m]]], isFinite(g)); m++) _.push(g);
              if (0 !== _.length && !(_[0] > u || _[_.length - 1] < h) && (y = +e[f].size, isFinite(y) && (v = "level" + y, (S = this._source.properties()[v]).visible.value()))) {
                for (b = parseInt(e[f].direction, 10), (w = []).dir = b, w.prices = [], w.orig_prices = [], P = 0; P < _.length; P++) {
                  if (void 0 !== _[P]) {
                    if (T = {}, (C = _[P]) < (l = r(a.bars().first())).index) continue;
                    if (T.x = i.indexToCoordinate(C), null === (x = a.bars().valueAt(C))) {
                      w.push(void 0), w.prices.push(void 0), w.orig_prices.push(void 0), b = -b;
                      continue
                    }
                    E = 1 === b ? x[TradingView.HIGH_PLOT] : x[TradingView.LOW_PLOT], w.orig_prices.push(E), w.prices.push(E), T.y = o.priceToCoordinate(E, p), T.label = n._wave5Labels[y][P], T.align = -1 === b ? "top" : "bottom", T.color = S.color.value(), delete T.backgroundColor, w.id = "wave_" + f, this._source === this._model.hoveredSource() && (I = this._model.lastHittestData()) && I.wave && I.wave.id === w.id && (T.color = "#FFFFFF", T.backgroundColor = S.color.value()), T.fontsize = n._fontSizes[y], T._textCache = {
                      widths: []
                    }, T.wave = w, w.push(T)
                  } else w.push(void 0), w.prices.push(void 0);
                  b = -b
                }
                w.inds = _, w.dir = b, w.color = S.color.value(), this._waves.push(w)
              }
            } if (this._source === this._model.hoveredSource() && (I = this._model.lastHittestData())) {
            for (_ = I.wave.inds, b = -I.wave.dir, A = I.backgroundColor ? I.backgroundColor : I.color, L = I.wave.orig_prices, D = null, P = 0; P < _.length; P++) {
              if (void 0 !== _[P]) {
                if (C = _[P], k = i.indexToCoordinate(C), null === (x = a.bars().valueAt(C))) {
                  b = -b;
                  continue
                }
                E = L[P], O = o.priceToCoordinate(E, p), M = new s(k, O), D && this._highlights.push({
                  points: [D, M],
                  color: A
                }), D = M
              }
              b = -b
            }
            void 0 !== L[1] && void 0 !== L[2] && (R = L[1], V = L[2], B = L[3], N = L[0], this._retracements.push({
                y: o.priceToCoordinate(R, p),
                x: 0,
                extendLeft: !0,
                extendRight: !0,
                color: A,
                text: "",
                style: CanvasEx.LINESTYLE_SOLID
              }),
              this._retracements.push({
                y: o.priceToCoordinate(R, p),
                x: 0,
                extendLeft: !0,
                extendRight: !0,
                color: A,
                text: "",
                style: CanvasEx.LINESTYLE_SOLID
              }), b = V - R, void 0 !== L[0] && (E = R + (F = (N - R) / b) * b, k = i.indexToCoordinate(_[0]), this._retracements.push({
                y: o.priceToCoordinate(E, p),
                x: k,
                extendLeft: !1,
                extendRight: !0,
                color: A,
                text: "" + F.toFixed(3),
                style: CanvasEx.LINESTYLE_DASHED
              })), void 0 !== B && (E = V - (F = (V - B) / b) * b, k = i.indexToCoordinate(_[3]), this._retracements.push({
                y: o.priceToCoordinate(E, p),
                x: k,
                extendLeft: !0,
                extendRight: !1,
                color: A,
                text: "" + F.toFixed(3),
                style: CanvasEx.LINESTYLE_DASHED
              })))
          }
        }
      }, n.prototype.CIRCLE_SIZE = 16, n.prototype.renderer = function () {
        var e, t, i, n, o, r, l, p, m, g, y, v, S, b, w, P;
        for (this._invalidated && (this.updateImpl(), this._invalidated = !1), e = new h, t = this.CIRCLE_SIZE, i = {}, n = 0; n < this._waves.length; n++)
          for (o = this._waves[n], r = 0; r < o.length; r++) void 0 !== (l = o[r]) && ("top" === l.align ? (p = l.y + 4, i["top_" + l.x] ? (p += i["top_" + l.x] * t, i["top_" + l.x] = i["top_" + l.x] + 1) : i["top_" + l.x] = 1, m = p + t) : (p = l.y - t - 4, i["bottom_" + l.x] ? (p -= i["bottom_" + l.x] * t, i["bottom_" + l.x] = i["bottom_" + l.x] + 1) : i["bottom_" + l.x] = 1, m = p + t), (g = {}).points = [new s(l.x, (p + m) / 2)], g.text = l.label, g.color = l.color, g.backgroundColor = l.backgroundColor, g.font = "Verdana", g.bold = !0, g.offsetX = 0, g.offsetY = 0, g.vertAlign = "middle", g.horzAlign = "center", g.fontsize = l.fontsize, y = new u(u.REGULAR, l), e.append(new a(g, y)));
        for (n = 0; n < this._highlights.length; n++) S = {
          points: (v = this._highlights[n]).points,
          width: this._model.timeScale().width(),
          height: this._source.priceScale().height(),
          color: d.generateColor(v.color, 50),
          linewidth: 3,
          linestyle: CanvasEx.LINESTYLE_SOLID,
          extendleft: !1,
          extendright: !1,
          leftend: f.Circle,
          rightend: f.Circle
        }, (b = new c).setData(S), e.append(b);
        for (n = 0; n < this._retracements.length; n++) w = this._retracements[n], S = {
          points: [new s(w.x + 1, w.y), new s(w.x, w.y)],
          width: this._model.timeScale().width(),
          height: this._source.priceScale().height(),
          color: d.generateColor(w.color, 50),
          linewidth: 1,
          linestyle: w.style,
          extendleft: w.extendLeft,
          extendright: w.extendRight,
          leftend: f.Normal,
          rightend: f.Normal
        }, (b = new c).setData(S), e.append(b), P = {
          points: [new s(w.x, w.y)],
          text: this._retracements[n].text,
          backgroundColor: "#606060",
          color: "#FFFFFF",
          vertAlign: "middle",
          horzAlign: "center",
          font: _,
          offsetX: w.extendRight ? -50 : 50,
          offsetY: -2,
          fontsize: 12
        }, e.append(new a(P));
        return e
      }, inherit(o, l), o.prototype.margins = function () {
        return [.1, .1]
      }, o.prototype.isVisible = function () {
        if (!this.properties().visible.value()) return !1;
        for (var e = 0; e <= 8; e++)
          if (this.properties()["level" + e].visible.value()) return !0;
        return !1
      }, o.prototype.getInputsPropertyPage = function () {
        return p.StudyElliottInputsPropertyPage
      }, o.prototype.createViews = function () {
        l.prototype.createViews.call(this), this._setPaneViews([new n(this.model(), this)])
      }, t.study_ElliottWave = o
    },
    PfBM: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "ConnectionStatus", function () {
          return n
        }),
        function (e) {
          e[e.Closed = 0] = "Closed", e[e.Connecting = 1] = "Connecting", e[e.Open = 2] = "Open"
        }(n || (n = {}))
    },
    PgQx: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M7.5 8.5h12v12a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3v-12z"/><path fill="currentColor" d="M17 6l-1-1h-5l-1 1H7v1h13V6z"/><path stroke="currentColor" stroke-linecap="square" d="M10.5 11.5v8m3-8v8m3-8v8"/></g></svg>'
    },
    PiKd: function (e, t, i) {
      "use strict";

      function n(e) {
        return s.filter(function (t) {
          return t.m === e
        })[0]
      }

      function o(e) {
        var t = n(e);
        t && t.cb && $.when(t.cb()).done(function () {
          t.state = "loaded", t.args = Array.prototype.slice.call(arguments), delete t.cb, r(t.m)
        })
      }

      function r(e) {
        var t = n(e),
          i = function e(i) {
            i && !i.length || (i.shift().apply(null, t.args), e(i))
          },
          o = a[e];
        o && i(o)
      }
      var s, a, l;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.isExists = function (e) {
        return !!n(e)
      }, t.load = function (e, t, i) {
        if (t) {
          var r = n(e);
          r ? r.cb = t : s.push({
            m: e,
            cb: t
          })
        }(void 0 !== i || l) && function (e, t) {
          "number" == typeof t ? setTimeout(function () {
            return o(e)
          }, t) : (!0 === t || l) && o(e)
        }(e, i)
      }, t.isLoaded = function (e) {
        var t = n(e);
        return t && "loaded" === t.state
      }, t.onReady = function (e, t) {
        var i = n(e);
        a[e] = a[e] || [], a[e].push(t), i && "loaded" === i.state && r(e)
      }, s = [], a = {}, l = !1, setTimeout(function () {
        var e;
        for (l = !0, e = 0; e < s.length; e += 1) o(s[e].m)
      }, 5e3)
    },
    PlME: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = "create_alert" === e ? window.t("Cannot create alert when offline") : window.t("Cannot edit alert when offline");
        Object(c.showNoticeDialog)({
          content: t,
          title: window.t("Oops!")
        })
      }

      function o(e) {
        var t, i;
        return !(e = e || TradingView.alertsDispatcher && TradingView.alertsDispatcher.chartWidget()) || (i = (t = e.model()) ? t.mainSeries().status() : u.STATUS_OFFLINE, !h.includes(i))
      }

      function r(e) {
        return e.chartWidget || TradingView.alertsDispatcher && TradingView.alertsDispatcher.chartWidget()
      }

      function s(e) {
        return e.alert ? e.type || "edit_alert" : "create_alert"
      }

      function a(e) {
        return !(!e || !e.model()) && "ATR" === e.model().mainSeries().stateForAlert().styleInputs.style
      }

      function l() {
        d || (d = !0, Object(c.createNoticeDialog)({
          title: window.t("Alert cannot be set on an ATR-based chart"),
          content: window.t("Your alert won't trigger the way you expect it to! Inputs for ATR-based charts are recalculated each time you open a chart and are generally dependent on time. Please use the traditional chart type to set an alert with a static box size.")
        }).then(function (e) {
          e.on("beforeClose", function () {
            return d = !1
          }), e.open()
        }))
      }
      var c, u, h, d;
      i.r(t), i.d(t, "openOfflineDialog", function () {
        return n
      }), i.d(t, "isAlertsOnline", function () {
        return o
      }), i.d(t, "getChartWidget", function () {
        return r
      }), i.d(t, "getAlertDialogType", function () {
        return s
      }), i.d(t, "isAlertBasedOnATR", function () {
        return a
      }), i.d(t, "openATRWarningDialog", function () {
        return l
      }), i("YFKU"), c = i("brCa"), u = i("dfhE"), h = [u.STATUS_OFFLINE, u.STATUS_RESOLVING, u.STATUS_LOADING], d = !1
    },
    PoSe: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.default = function (e, t, i) {
        var n, o, r, s, a = null,
          l = 0;
        return i = i || {}, s = function () {
            l = !1 === i.leading ? 0 : Date.now(), a = null, r = e.apply(n, o), a || (n = o = null)
          },
          function () {
            var c, u = Date.now();
            return l || !1 !== i.leading || (l = u), n = this, o = arguments,
              (c = t - (u - l)) <= 0 || c > t ? (a && (clearTimeout(a), a = null), l = u, r = e.apply(n, o), a || (n = o = null)) : a || !1 === i.trailing || (a = setTimeout(s, c)), r
          }
      }, e.exports = t.default
    },
    Q19o: function (e, t, i) {
      "use strict";
      (function (t, n) {
        var o = i("Eyy1").ensureNotNull,
          r = i("QrSB").SelectionApi,
          s = i("mf9N").PaneApi,
          a = i("3mf1").availableIcons,
          l = i("ufy5"),
          c = i("LxhU").Interval,
          u = i("jCNj"),
          h = i("2jXJ").supportedLineTools,
          d = (i("7MZv").showTooManyStudiesNotice, i("ogJP").isNumber),
          p = i("vu5c").onSeriesCompletedOrErrorReceived,
          f = i("CW80").createLineToolProperties,
          _ = function (e, i) {
            this._chartWidget = e, this._panes = new WeakMap, this._studies = new WeakMap, this._lineDataSources = new WeakMap, this._activateChart = i, this._selectionApi = null, this._visibleBarsChanged = new t, this._chartWidget.onAboutToBeDestroyed().subscribe(this, this._destroy, !0), this._chartWidget.withModel(this, function () {
              this._chartWidget.model().timeScale().visibleBarsStrictRangeChanged().subscribe(this, this._onVisibleBarsChanged)
            })
          };
        _.prototype._getPaneApi = function (e) {
            var t = this._panes.get(e);
            return void 0 === t && (t = new s(e, this._chartWidget), this._panes.set(e, t)), t
          }, _.prototype._getStudyApi = function (e) {
            var t = this._studies.get(e);
            return void 0 === t && (t = new StudyApi(e, this._chartWidget.model().model()), this._studies.set(e, t)), t
          }, _.prototype._getLineDataSourceApi = function (e) {
            var t = this._lineDataSources.get(e);
            return void 0 === t && (t = new LineDataSourceApi(e, this._chartWidget.model().model(), {
              apiPointsToDataSource: this._convertUserPointsToDataSource.bind(this),
              dataSourcePointsToPriced: function (e) {
                var t = this._chartWidget.model().mainSeries().syncModel(),
                  i = this._chartWidget.model().timeScale();
                return e.map(function (e) {
                  var n = i.normalizeBarIndex(e.index);
                  return {
                    price: e.price,
                    time: t.projectTime(n.time_t, n.offset)
                  }
                })
              }.bind(this)
            }), this._lineDataSources.set(e, t)), t
          }, _.prototype._makeSubscriptionFromDelegate = function (e) {
            return {
              subscribe: e.subscribe.bind(e),
              unsubscribe: e.unsubscribe.bind(e),
              unsubscribeAll: e.unsubscribeAll.bind(e)
            }
          }, _.prototype.executeActionById = function (e) {
            this._chartWidget.executeActionById(e)
          }, _.prototype.getCheckableActionState = function (e) {
            return this._chartWidget.getCheckableActionState(e)
          }, _.prototype.setZoomEnabled = function (e) {
            this._chartWidget.model().model().setZoomEnabled(e)
          }, _.prototype.setScrollEnabled = function (e) {
            this._chartWidget.model().model().setScrollEnabled(e)
          }, _.prototype.refreshMarks = function () {
            this._chartWidget.refreshMarks()
          }, _.prototype.clearMarks = function () {
            this._chartWidget.clearMarks()
          }, _.prototype.symbol = function () {
            return this._chartWidget.getSymbol()
          }, _.prototype.symbolExt = function () {
            var e = this._chartWidget.model().mainSeries().symbolInfo();
            return e ? {
              symbol: e.name,
              full_name: e.full_name,
              exchange: e.exchange,
              description: e.description,
              type: e.type
            } : null
          }, _.prototype.resolution = function () {
            return this._chartWidget.model().mainSeries().properties().interval.value()
          }, _.prototype.setSymbol = function (e, t) {
            if (e !== this.symbol() || n.enabled("same_data_requery")) {
              var i = this._chartWidget.model().mainSeries().dataEvents();
              t && p(i, function (e) {
                e || t()
              }), this._activateChart(), this._chartWidget.setSymbol(e)
            }
          },
          _.prototype.resetData = function () {
            this._chartWidget.model().mainSeries().rerequestData()
          }, _.prototype.setResolution = function (e, t) {
            if ((e = e.toUpperCase()) !== this.resolution()) {
              var i = this._chartWidget.model().mainSeries().dataEvents();
              t && p(i, function (e) {
                e || t()
              }), this._activateChart(), this._chartWidget.setResolution(e)
            }
          }, _.prototype.setEntityVisibility = function (e, t) {
            var i, n;
            console.warn("`setEntityVisibility` is deprecated. Use shape/study API instead"), (i = this._chartWidget.model().model().dataSourceForId(e)) && (n = i.properties()) && n.visible && n.visible.setValue(t)
          }, _.prototype.getAllStudies = function () {
            return this._chartWidget.model().model().allStudies().map(function (e) {
              return {
                id: e.id(),
                name: e._metaInfo.description
              }
            })
          }, _.prototype.showPropertiesDialog = function (e) {
            var t = this._chartWidget.model().model().dataSourceForId(e);
            if (null === t) throw new Error("Study or shape " + e + " does not exist");
            this._chartWidget.showChartPropertiesForSource(t)
          }, _.prototype.getAllShapes = function () {
            return this._chartWidget.model().model().allLineTools().map(function (e) {
              return {
                id: e.id(),
                name: function (e) {
                  var t, i, n = Object.keys(h),
                    o = n.length;
                  for (t = 0; t < o; ++t)
                    if (i = n[t], h[i].name === e) return i;
                  return null
                }(e.toolname)
              }
            }).filter(function (e) {
              return null !== e.name
            })
          }, _.prototype.removeAllShapes = function () {
            this._chartWidget.removeAllDrawingTools()
          }, _.prototype.removeAllStudies = function () {
            this._chartWidget.removeAllStudies()
          }, _.prototype.removeEntity = function (e) {
            var t = this._chartWidget.model().chartModel().dataSourceForId(e);
            t ? this._chartWidget.model().chartModel().removeSource(t, !0) : console.warn("Can't find a source with id: " + e)
          }, _.prototype.selection = function () {
            return null === this._selectionApi && (this._selectionApi = new r(chartWidget.model().model())), this._selectionApi
          }, _.prototype.createStudyTemplate = function (e) {
            return this._chartWidget.model().model().studyTemplate(e.saveInterval)
          }, _.prototype.applyStudyTemplate = function (e) {
            this._chartWidget.model().model().restoreStudyTemplate(e, "" + 1e3 * Math.random())
          }, _.prototype.getVisibleRange = function () {
            var e, t, i, n, r, s = {
                from: 0,
                to: 0
              },
              a = this._chartWidget.model().timeScale(),
              l = a.visibleBarsStrictRange();
            return null === l ? s : null === (t = (e = this._chartWidget.model().mainSeries()).syncModel()) ? s : (i = o(e.data().last()), r = (n = l.lastBar() - i.index) <= 0 ? a.indexToTimePoint(l.lastBar()) : t.projectTime(i.value[TradingView.TIME_PLOT], n), s.from = +a.indexToTimePoint(Math.max(0, l.firstBar())) || 0, s.to = +r || 0, s)
          }, _.prototype.getTimeScaleLogicalRange = function () {
            return this._chartWidget.model().timeScale().logicalRange()
          }, _.prototype.getVisiblePriceRange = function () {
            return this._chartWidget.model().mainSeries() ? this._chartWidget.model().mainSeries().priceScale().priceRangeInPrice() : null
          }, _.prototype._createTradingPrimitive = function (e, t) {
            var i, n, r, s, a = this,
              l = this._chartWidget.model().model(),
              c = l.paneForSource(l.mainSeries()),
              u = t ? l : this._chartWidget.model(),
              h = u.createLineTool(c, (i = TradingView.CLOSE_PLOT, n = o(a._chartWidget.model().mainSeries().bars().last()), r = n.index, s = n.value[i], {
                index: r,
                price: s
              }), e);
            return h._adapter
          },
          _.prototype.createOrderLine = function (e) {
            e = e || {};
            return this._createTradingPrimitive("LineToolOrder", e.disableUndo)
          }, _.prototype.createPositionLine = function (e) {
            e = e || {};
            return this._createTradingPrimitive("LineToolPosition", e.disableUndo)
          }, _.prototype.createExecutionShape = function (e) {
            e = e || {};
            return this._createTradingPrimitive("LineToolExecution", e.disableUndo)
          }, _.prototype.createShape = function (e, t) {
            return this.createMultipointShape([e], t)
          }, _.prototype._alignPoints = function (e) {
            var t, i, n = this._chartWidget.model().model(),
              o = n.mainSeries(),
              r = o.symbolInfo(),
              s = u.get_timezone(r.timezone);
            return n.timeScale().isEmpty() ? e : (t = (new l.Session).init(s, r.session), null === (i = l.createDWMAligner(o.interval(), t)) ? e : e.map(function (e) {
              return e ? (i.moveTo(1e3 * e), i.startOfBar(0) / 1e3) : e
            }))
          }, _.prototype._convertUserPointsToDataSource = function (e) {
            var t, i, o, r, s, a, l, u, h, p, f, _, m, g = this._chartWidget.model().model(),
              y = g.mainSeries(),
              v = g.timeScale().points(),
              S = y.data();
            if (g.timeScale().isEmpty()) return null;
            for (t = e.map(function (e) {
                return e.time
              }), i = c.isDWM(y.interval()) && !n.enabled("disable_resolution_rebuild") ? this._alignPoints(t) : t, o = [], r = 0; r < e.length; r++) s = e[r], o.push((a = i[r], l = s.price, u = s.channel, h = void 0, p = void 0, f = void 0, _ = void 0, m = void 0, f = v.closestIndexLeft(a) || 0, _ = {
              index: f
            }, m = v.valueAt(f), a > m && (h = y.syncModel().distance(m, a)).success && (_.index = _.index + h.result), d(l) ? _.price = l : ((p = u ? ["open", "high", "low", "close"].indexOf(u) + 1 : 1) <= 0 && (p = 1), _.price = S.valueAt(f)[p]), _));
            return o
          }, _.prototype.createMultipointShape = function (e, t, i) {
            var n, o, r, s, l, c, u, d = t.disableUndo ? this._chartWidget.model().model() : this._chartWidget.model(),
              p = this._chartWidget.model().model(),
              _ = p.mainSeries();
            if (!p.timeScale().isEmpty()) {
              if (n = p.paneForSource(_), o = this._convertUserPointsToDataSource(e), (r = h[t.shape] || h.flag).onlySelectable) throw new Error('Cannot create "' + t.shape + '" shape');
              if ("LineToolPolyline" === r.name) o[0].price === o[o.length - 1].price && o[0].index === o[o.length - 1].index || o.push(o[0]);
              else if ("LineToolIcon" === r.name) {
                if (t.icon = t.icon || t.overrides && t.overrides.icon, !t.hasOwnProperty("icon")) throw new Error("icon must be specified in options");
                if (-1 === a.indexOf(t.icon)) throw new Error("icon value must be valid");
                t.overrides = t.overrides || {}, t.overrides.icon = t.icon
              }
              if (s = f(r.name), t.overrides)
                for (l in t.overrides) s[l] ? s[l].setValue(t.overrides[l]) : ("LineToolRiskRewardLong" === (m = r.name) || "LineToolRiskRewardShort" === m) && -1 !== ["profitLevel", "stopLevel"].indexOf(l) && s.addProperty(l, t.overrides[l]);
              var m;
              if (r.supportsText && t.text && s.text.setValue(t.text), (c = d.createLineTool(n, o[0], r.name, s)).pointsCount() !== o.length && -1 !== c.pointsCount()) throw Error("Wrong points count for " + t.shape + ". Required " + c.pointsCount());
              for (u = 1; u < o.length && this._chartWidget.model().lineBeingCreated(); u++) d.coninueCreatingLine(o[u], null, u < o.length - 1);
              return t.lock && c.setUserEditEnabled(!1), t.disableSelection && (c.customization.disableSelection = !0), t.disableSave && (c.customization.disableSave = !0), t.hasOwnProperty("showInObjectsTree") && (c.customization.showInObjectsTree = t.showInObjectsTree),
                t.zOrder && ("top" === t.zOrder ? d.bringToFront([c]) : "bottom" === t.zOrder && d.sendToBack([c])), c.id()
            }
          }, _.prototype.chartType = function () {
            return this._chartWidget.model().mainSeries().properties().style.value()
          }, _.prototype.setChartType = function (e) {
            this._chartWidget.model().mainSeries().properties().style.setValue(e)
          }, _.prototype.priceFormatter = function () {
            return this._chartWidget.model().mainSeries().priceScale().formatter()
          }, _.prototype.onDataLoaded = function () {
            return this._makeSubscriptionFromDelegate(this._chartWidget.model().mainSeries().dataEvents().completed())
          }, _.prototype.onSymbolChanged = function () {
            return this._makeSubscriptionFromDelegate(this._chartWidget.model().mainSeries().dataEvents().symbolResolved())
          }, _.prototype.onIntervalChanged = function () {
            return this._makeSubscriptionFromDelegate(this._chartWidget.model().mainSeries().onIntervalChanged())
          }, _.prototype.onVisibleRangeChanged = function () {
            return this._makeSubscriptionFromDelegate(this._visibleBarsChanged)
          }, _.prototype.dataReady = function (e) {
            var t = !this._chartWidget.model() || !this._chartWidget.model().mainSeries() || this._chartWidget.model().mainSeries().data().isEmpty();
            return e && (t ? this.onDataLoaded().subscribe(null, e, !0) : e()), !t
          }, _.prototype.crossHairMoved = function (e) {
            this._makeSubscriptionFromDelegate(this._chartWidget.model().chartModel().crossHairMoved()).subscribe(null, e)
          }, _.prototype._onVisibleBarsChanged = function () {
            var e = this._chartWidget.model().mainSeries(),
              t = e.data().isEmpty(),
              i = this._chartWidget.model().timeScale().visibleBarsStrictRange();
            null !== i && t ? e.dataEvents().completed().subscribe(this, this._onVisibleBarsChanged, !0) : this._visibleBarsChanged.fire(this.getVisibleRange())
          }, _.prototype._destroy = function () {
            var e = this._chartWidget.model();
            null !== e && e.timeScale().visibleBarsStrictRangeChanged().unsubscribe(this, this._onVisibleBarsChanged)
          }, _.prototype.setTimezone = function (e) {
            this._chartWidget.setTimezone(e)
          }, _.prototype.getPanes = function () {
            return this._chartWidget.model().chartModel().panes().map(function (e) {
              return this._getPaneApi(e)
            }, this)
          }, _.prototype.canZoomOut = function () {
            return !this._chartWidget.model().zoomStack().isEmpty()
          }, _.prototype.zoomOut = function () {
            this.canZoomOut() && this._chartWidget.model().zoomFromViewport()
          }, _.prototype.sessions = function () {
            return this._chartWidget.model().model().sessions()
          }, e.exports = _
      }).call(this, i("aIyQ"), i("Kxc7"))
    },
    Q1r3: function (e, t, i) {
      e.exports = {
        errorDialog: "errorDialog-1NguAJjj-"
      }
    },
    Q8Ag: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      t.default = {}, e.exports = t.default
    },
    QIuV: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this.customization = {
          forcePriceAxisLabel: !0,
          disableSelection: !0,
          disableErasing: !0
        }, o.call(this, e, t)
      }
      var o = i("Ss5c").LineDataSource;
      inherit(n, o), n.POINTS_COUNT = 1, n.prototype.pointsCount = function () {
        return n.POINTS_COUNT
      }, n.prototype.hasContextMenu = function () {
        return !1
      }, n.prototype.state = function () {
        return null
      }, n.prototype.startMoving = function () {
        o.prototype.startMoving.apply(this, arguments), this._cursorMoved = !1
      }, n.prototype.endMoving = function () {
        o.prototype.endMoving.apply(this, arguments), this._cursorMoved = !1
      }, n.prototype.correctPoints = function (e) {
        var t, i, n;
        for (this._currentMovingPoint && this._startMovingPoint ? this._currentMovingPoint.price - this._startMovingPoint.price && (this._cursorMoved = !0) : this._cursorMoved = !1, t = 1 / this.priceScale().mainSource().base(), i = 0; i < e.length; i++) n = e[i], this._cursorMoved && (n.price = this._currentMovingPoint.price), n.price = t * Math.round(n.price / t), e[i] = n
      }, n.prototype.userEditEnabled = function () {
        return !0
      }, n.prototype.canBeHidden = function () {
        return !1
      }, n.prototype.isUserDeletable = function () {
        return !1
      }, n.prototype.showInObjectTree = function () {
        return !1
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.doesMovingAffectsUndo = function () {
        return !1
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, e.exports = n
    },
    QQu0: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolArrow";
        var i = t || n.createProperties();
        o.call(this, e, i)
      }
      var o = i("WPQD").LineToolTrendLine,
        r = i("Ocx9").DefaultProperty;
      inherit(n, o), n.prototype.title = function () {
        return "Arrow"
      }, n.prototype.name = function () {
        return "Arrow"
      }, n.createProperties = function (e) {
        var t = new r("linetoolarrow", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolArrow = n
    },
    QTwd: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "RestoreDefaultsPreferencesUndoCommand", function () {
        return c
      }), n = i("mrSG"), o = i("RDU5"), r = i("ApcL"), s = i("ZZnO"), a = i("N22A"), l = "Apply All Chart Properties", c = function (e) {
        function t(t) {
          var i, n = e.call(this, l) || this;
          return n._trading = null, n._oldHideFloatingPanel = null, n._oldNoConfirmEnabled = null, n._oldShowOnlyRejectionNotifications = null, n._oldShowPricesWithZeroVolume = null, n._oldOrderExecutedSoundEnabled = null, n._prevWatermarkPreferences = null, n._model = t, n._trading = Object(a.tradingService)(), null !== n._trading && (n._oldHideFloatingPanel = n._trading.hideFloatingPanel.value(), n._oldNoConfirmEnabled = n._trading.noConfirmEnabled.value(), n._oldShowOnlyRejectionNotifications = n._trading.showOnlyRejectionNotifications.value(), n._oldShowPricesWithZeroVolume = n._trading.showPricesWithZeroVolume.value(), n._oldOrderExecutedSoundEnabled = n._trading.orderExecutedSoundParams.enabled.value()), n._defaultsPreferences = Object(r.defaultsPreferencesByWhiteList)(n._model, n._model.mainSeries()), n._oldPreferences = t.preferences(), n._prevDateFormat = s.dateFormatProperty.value(), null !== (i = n._model.watermarkSource()) && (n._prevWatermarkPreferences = i.properties().state()), n
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          null !== this._trading && (this._trading.hideFloatingPanel.setValue(!1), this._trading.noConfirmEnabled.setValue(!1), this._trading.showOnlyRejectionNotifications.setValue(!1), this._trading.showPricesWithZeroVolume.setValue(!0), this._trading.orderExecutedSoundParams.enabled.setValue(!1)), this._model.applyPreferences(this._defaultsPreferences), this._model.mainSeries().onChartStyleChanged(), this._model.updateScales(), Object(s.removeSettingsValue)();
          var e = this._model.watermarkSource();
          null !== e && e.restorePropertiesDefaults()
        }, t.prototype.undo = function () {
          null !== this._trading && (this._trading.hideFloatingPanel.setValue(this._oldHideFloatingPanel), this._trading.noConfirmEnabled.setValue(this._oldNoConfirmEnabled), this._trading.showOnlyRejectionNotifications.setValue(this._oldShowOnlyRejectionNotifications), this._trading.showPricesWithZeroVolume.setValue(this._oldShowPricesWithZeroVolume), this._trading.orderExecutedSoundParams.enabled.setValue(this._oldOrderExecutedSoundEnabled)), this._model.applyPreferences(this._oldPreferences), this._model.mainSeries().onChartStyleChanged(), this._model.updateScales(), s.dateFormatProperty.setValue(this._prevDateFormat);
          var e = this._model.watermarkSource();
          null !== e && null !== this._prevWatermarkPreferences && e.properties().mergeAndFire(this._prevWatermarkPreferences)
        }, t
      }(o.UndoCommand)
    },
    QWsN: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "FullConfigSetBootloder", function () {
        return r
      }), n = i("mrSG"), o = i("cZRT"), r = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          return Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(14), i.e(21), i.e(23), i.e(26), i.e(32), i.e(35), i.e(45), i.e(61), i.e(82), i.e(85), i.e(109), i.e(114), i.e(115), i.e(152), i.e(176), i.e(177), i.e(181), i.e(190), i.e(198), i.e(12), i.e(18), i.e(22), i.e(30), i.e(31), i.e(27), i.e(39), i.e(38), i.e(71), i.e(67), i.e(94), i.e(108), i.e(101), i.e(91), i.e(139), i.e("pinereferencedata"), i.e(133), i.e(155), i.e("full-configset")]).then(i.bind(null, "oZdu")).then(function (e) {
            return e.getFullConfigSet()
          })
        }, t
      }(o.a)
    },
    Qb4w: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "PriceRange", function () {
        return s
      }), n = i("ogJP"), o = i("uOxu"), r = Object(o.getLogger)("Chart.PriceRange"), s = function () {
        function e(e, t) {
          var i, n;
          null !== e && "object" == typeof e ? (i = e, this._minValue = i.m_minValue, this._maxValue = i.m_maxValue) : (n = e, this._minValue = n, void 0 !== t && (this._maxValue = t))
        }
        return e.prototype.equals = function (e) {
          return this._minValue === e._minValue && this._maxValue === e._maxValue
        }, e.prototype.clone = function () {
          return new e(this._minValue, this._maxValue)
        }, e.prototype.minValue = function () {
          return this._minValue
        }, e.prototype.setMinValue = function (e) {
          this._minValue = e
        }, e.prototype.maxValue = function () {
          return this._maxValue
        }, e.prototype.setMaxValue = function (e) {
          this._maxValue = e
        }, e.prototype.length = function () {
          return this._maxValue - this._minValue
        }, e.prototype.isEmpty = function () {
          return this._maxValue === this._minValue || this._maxValue != this._maxValue || this._minValue != this._minValue
        }, e.prototype.serialize = function () {
          return {
            m_maxValue: this._maxValue,
            m_minValue: this._minValue
          }
        }, e.prototype.state = function () {
          return {
            max: this._maxValue,
            min: this._minValue
          }
        }, e.prototype.merge = function (t) {
          return new e(Math.min(this.minValue(), t.minValue()), Math.max(this.maxValue(), t.maxValue()))
        }, e.prototype.apply = function (e, t) {
          this._minValue = Math.min(this._minValue, e), this._maxValue = Math.max(this._maxValue, t)
        }, e.prototype.set = function (e, t) {
          this._minValue = e, this._maxValue = t
        }, e.prototype.scaleAroundCenter = function (e) {
          var t, i, o;
          Object(n.isNumber)(e) ? 0 !== this._maxValue - this._minValue && (t = .5 * (this._maxValue + this._minValue), i = this._maxValue - t, o = this._minValue - t, i *= e, o *= e, this._maxValue = t + i, this._minValue = t + o) : r.logDebug("PriceRange.scaleAroundCenter: invalid coeff")
        }, e.prototype.shift = function (e) {
          Object(n.isNumber)(e) ? (this._maxValue += e, this._minValue += e) : r.logDebug("PriceRange.shift: invalid coeff")
        }, e.prototype.containsStrictly = function (e) {
          return e.minValue() > this._minValue && e.maxValue() < this._maxValue
        }, e
      }()
    },
    QcGJ: function (e, t, i) {
      "use strict";

      function n() {
        return new Promise(function (e) {
          Promise.all([i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(20), i.e(87), i.e(99), i.e("send-message-dialog")]).then(function (t) {
            return e(i("WpOi"))
          }.bind(null, i)).catch(i.oe)
        })
      }
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.noteForAuthor = function (e, t, i) {
        n().then(function (n) {
          return n.noteForAuthor(e, t, i)
        })
      }, t.openPMDialog = function (e, t) {
        n().then(function (i) {
          return i.openPMDialog(e, t)
        })
      }, t.newPrivateChatDialog = function () {
        n().then(function (e) {
          return e.newPrivateChatDialog()
        })
      }
    },
    Qf4T: function (e, t, i) {
      "use strict";
      var n, o, r;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.default = function (e, t) {
        o.default.trackGoPro("Gopro Features", e, t)
      }, n = i("6XW3"), o = (r = n) && r.__esModule ? r : {
        default: r
      }, e.exports = t.default
    },
    QloM: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "TabPriority", function () {
          return n
        }), i.d(t, "TabNames", function () {
          return o
        }), i.d(t, "TabOpenFrom", function () {
          return r
        }),
        function (e) {
          e[e.Coordinates = 100] = "Coordinates", e[e.Display = 100] = "Display", e[e.Style = 200] = "Style", e[e.Inputs = 300] = "Inputs", e[e.Properties = 250] = "Properties"
        }(n || (n = {})),
        function (e) {
          e.background = "Background", e.coordinates = "Coordinates", e.drawings = "Drawings", e.events = "Events", e.eventsAndAlerts = "Events & Alerts", e.inputs = "Inputs", e.properties = "Properties", e.scales = "Scales", e.sourceCode = "Source Code", e.style = "Style", e.timezoneSessions = "Timezone/Sessions", e.trading = "Trading", e.visibility = "Visibility"
        }(o || (o = {})),
        function (e) {
          e[e.Default = 100] = "Default", e[e.UserSave = 200] = "UserSave", e[e.Override = 300] = "Override"
        }(r || (r = {}))
    },
    Qq0B: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "NonSeriesStudy", function () {
        return l
      }), n = i("mrSG"), o = i("Eyy1"), r = i("GVHu"), s = i("HvwJ"), a = i.n(s), (l = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype.clearData = function () {
          this._customData = null, this._indexes = null
        }, t.prototype.restoreData = function (e, t, i) {
          r.Study.prototype.restoreData.call(this, e), this._customData = t, this._indexes = i
        }, t.prototype.state = function (t) {
          var i = e.prototype.state.call(this, t);
          return t && (i.nonSeriesData = this._customData, i.indexes = this._indexes), i
        }, t.prototype.customData = function () {
          return this._customData
        }, t.prototype._setPaneViews = function (e) {
          this._paneViews = e, this.model().invalidate(new a.a(a.a.LIGHT_UPDATE))
        }, t.prototype._onDataUpdated = function (t, i, n) {
          null !== i && (i.indexes_replace ? (Object(o.assert)("nochange" !== n), this._indexes = n) : (this._customData = i.data, "nochange" !== n && (this._indexes = n))), e.prototype._onDataUpdated.call(this, t, i, n)
        }, t
      }(r.Study)).prototype.superclass = r.Study
    },
    QrSB: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = e.dataSourceForId(t);
        if (null === i) throw new Error('Chart has no study or shape with id "' + t + '"');
        return i
      }
      i.r(t), i.d(t, "SelectionApi", function () {
        return o
      });
      var o = function () {
        function e(e) {
          this._model = e
        }
        return e.prototype.add = function (e) {
          Array.isArray(e) ? this._model.selectionMacro(function (t) {
            e.map(n.bind(null, t)).forEach(function (e) {
              return t.addSourceToSelection(e)
            })
          }) : this.add([e])
        }, e.prototype.set = function (e) {
          Array.isArray(e) ? this._model.selectionMacro(function (t) {
            t.clearSelection(), e.map(n.bind(null, t)).forEach(function (e) {
              return t.addSourceToSelection(e)
            })
          }) : this.set([e])
        }, e.prototype.remove = function (e) {
          Array.isArray(e) ? this._model.selectionMacro(function (t) {
            e.map(n.bind(null, t)).forEach(function (e) {
              return t.removeSourceFromSelection(e)
            })
          }) : this.remove([e])
        }, e.prototype.contains = function (e) {
          var t = n(this._model, e);
          return this._model.selection().isSelected(t)
        }, e.prototype.allSources = function () {
          return this._model.selection().sources().map(function (e) {
            return e.id()
          })
        }, e.prototype.isEmpty = function () {
          return this._model.selection().isEmpty()
        }, e.prototype.clear = function () {
          this._model.selectionMacro(function (e) {
            e.clearSelection()
          })
        }, e.prototype.onChanged = function () {
          return this._model.onSelectedSourceChanged()
        }, e
      }()
    },
    Qtjj: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "TimeSynchronizer", function () {
        return l
      }), n = i("LxhU"), o = i("jCNj"), r = i.n(o), s = i("ufy5"), a = null, l = function () {
        function e(e, t) {
          var i, o;
          this._sourceTargetBarBuilder = null, this._cache = new Map, this._source = e, this._target = t, this._isResolutionTheSame = n.Interval.isEqual(e.getResolution(), t.getResolution()), this._isSessionTheSame = (i = e.getSymbolInfo(), o = t.getSymbolInfo(), i.timezone === o.timezone && i.session === o.session), this._shouldCorrectTradingDay = n.Interval.isDWM(e.getResolution()) && !this._isSessionTheSame
        }
        return e.prototype.sourceTimeToTargetTime = function (e) {
          var t, i, n, o, s, a;
          return this._isSessionTheSame && this._isResolutionTheSame ? e : this._source.isValid() && this._target.isValid() ? (void 0 === (t = this._cache.get(e)) && (i = 1e3 * e, this._shouldCorrectTradingDay && (n = r.a.utc_to_cal(this._source.getSession().timezone, i), n = this._source.getSession().spec.correctTradingDay(n, this._source.getSession().timezone), o = new Date(n), r.a.set_hms(o, 0, 0, 0, 0, this._source.getSession().timezone), i = o.valueOf()), (s = this._sourceTargetBuilder()).moveTo(i), a = s.indexOfBar(i), t = s.startOfBar(Math.max(0, a)) / 1e3, this._cache.set(e, t)), t) : e
        }, e.prototype._sourceTargetBuilder = function () {
          if (null === this._sourceTargetBarBuilder) {
            var e = this._isSessionTheSame ? this._target.getSession() : (null === a && (a = new s.Session).init("Etc/UTC", "24x7"), a);
            this._sourceTargetBarBuilder = Object(s.newBarBuilder)(this._target.getResolution(), this._target.getSession(), e)
          }
          return this._sourceTargetBarBuilder
        }, e
      }()
    },
    QwKQ: function (e, t, i) {
      "use strict";
      (function (n) {
        var o, r, s, a, l, c;
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), o = function () {
          function e(e, t) {
            var i, n;
            for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0,
              "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
          }
          return function (t, i, n) {
            return i && e(t.prototype, i), n && e(t, n), t
          }
        }(), r = i("29gu"), i("b6p+"), s = i("uOxu").getLogger("Ui.TvControlCheckbox"), a = {
          labelWrapper: '{{#hasLabel}}<label>{{#labelLeft}}<span class="tv-control-checkbox__label {{#labelAddClass}}{{labelAddClass}}{{/labelAddClass}}">{{labelLeft}}</span>{{/labelLeft}}{{> inputWrapper }}{{#labelRight}}<span class="tv-control-checkbox__label {{#labelAddClass}}{{labelAddClass}}{{/labelAddClass}}">{{labelRight}}</span>{{/labelRight}}</label>{{/hasLabel}}{{^hasLabel}}{{> inputWrapper }}{{/hasLabel}}',
          inputWrapper: '<{{ tag }} class="{{ customClass }}{{#disabled}} i-disabled{{/disabled}}">{{^hasCheckbox}}{{> checkbox }}{{/hasCheckbox}}{{> box }}{{> ripple }}</{{ tag }}>',
          checkbox: '<input{{#id}} id="{{ id }}"{{/id}} class="{{> checkboxClass }}" type="checkbox"{{#name}} name="{{ name }}"{{/name}}{{#checked}} checked{{/checked}}{{#disabled}} disabled{{/disabled}}>',
          checkboxClass: "{{ customClass }}__input",
          box: '<span class="{{ customClass }}__box {{#boxAddClass}}{{boxAddClass}}{{/boxAddClass}}">' + i("aLUT") + "</span>",
          ripple: '<span class="{{ customClass }}__ripple js-ripple"></span>'
        }, l = "i-inited", c = function () {
          function e(t) {
            var i, n = t.customClass,
              o = void 0 === n ? "tv-control-checkbox" : n,
              r = t.$checkbox,
              a = t.tag,
              c = t.id,
              u = t.name,
              h = t.checked,
              d = t.disabled,
              p = t.labelLeft,
              f = t.labelRight,
              _ = t.labelAddClass,
              m = t.boxAddClass;
            if (function (e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
              }(this, e), this.$el = null, void 0 === a && (a = p || f ? "span" : "label"), i = r instanceof $ && !!r.length) {
              if (!r.is("input[type=checkbox]")) return void s.logError("`$checkbox` need to be input[type=checkbox]");
              if (r.hasClass(l)) return;
              this._setInputId(r, c), this._setInputClass(r, o), this._setInputName(r, u), this._setInputChecked(r, h), this._setInputDisabled(r, d), h = !!r.prop("checked"), d = !!r.attr("disabled")
            }
            this.$el = this.render({
              $checkbox: r,
              hasCheckbox: i,
              customClass: o,
              tag: a,
              id: c,
              name: u,
              checked: h,
              disabled: d,
              labelLeft: p,
              labelRight: f,
              hasLabel: p || f,
              labelAddClass: _,
              boxAddClass: m
            }), this.$checkbox = i ? r : this.$el.find("input[type=checkbox]")
          }
          return o(e, [{
            key: "_setInputId",
            value: function (e, t) {
              void 0 !== t && e.attr("id", t)
            }
          }, {
            key: "_setInputClass",
            value: function (e, t) {
              var i = n.render(a.checkboxClass, {
                customClass: t
              });
              e.addClass(i)
            }
          }, {
            key: "_setInputName",
            value: function (e, t) {
              void 0 !== t && e.attr("name", t)
            }
          }, {
            key: "_setInputChecked",
            value: function (e, t) {
              void 0 !== t && e.prop("checked", !!t)
            }
          }, {
            key: "_setInputDisabled",
            value: function (e, t) {
              void 0 !== t && (t ? e.setAttribute("disabled", "disabled") : e.removeAttr("disabled"))
            }
          }, {
            key: "render",
            value: function (e) {
              var t = e.$checkbox,
                i = $(n.render(a.labelWrapper, e, a));
              return e.hasCheckbox && (i.insertBefore(t), i.find("." + e.customClass).andSelf().filter("." + e.customClass).eq(0).prepend(t.detach()), t.addClass(l)), i
            }
          }, {
            key: "checked",
            set: function (e) {
              this._setInputChecked(this.$checkbox, !!e)
            },
            get: function () {
              return !!this.$checkbox.prop("checked")
            }
          }]), e
        }(), $.fn.tvControlCheckbox = (0, r.createTvBlockWithInstance)("tv-control-checkbox", function (e) {
          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new c(TradingView.mergeObj(t, {
            $checkbox: e
          }))
        }), t.default = c, e.exports = t.default
      }).call(this, i("OiQe"))
    },
    Qymm: function (e, t, i) {
      "use strict";

      function n(e) {
        this.items = e.items, this.barSpacing = e.barSpacing, this.lineColor = e.lineColor || e.color, this.radius = e.lineWidth || e.height / 2, this.vertOffset = e.vertOffset || 0
      }
      var o = i("aO4+").Point,
        r = i("Zp/P").selectionTolerance,
        s = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        var t, i, n, o, r, s, a, l = 2 * Math.PI,
          c = !1;
        for (n = 0; n < this.items.length; ++n) r = (o = this.items[n]).x, s = o.y + this.vertOffset, TradingView.isNaN(r) || TradingView.isNaN(s) || (null != o.style ? (a = o.style.color, t = o.style.width) : (a = this.lineColor, t = this.radius), a !== i && (i = a, c && e.fill(), e.beginPath(), e.fillStyle = a), e.moveTo(r + t, s), e.arc(r, s, t, 0, l, !1), c = !0);
        c && e.fill()
      }, n.prototype.hitTest = function (e) {
        var t, i, n = 2 * this.radius,
          a = this.vertOffset,
          l = r(n);
        for (t = 0; t < this.items.length; ++t)
          if ((i = this.items[t]) && new o(i.x, i.y + a).subtract(e).length() + this.radius <= l) return new s(s.REGULAR);
        return null
      }, t.PaneRendererCircles = TradingView.PaneRendererCircles = n
    },
    RBZs: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "FullToolsetBootloader", function () {
        return r
      }), n = i("mrSG"), o = i("cZRT"), r = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          return Promise.all([i.e("vendors"), i.e(6), i.e(8), i.e(9), i.e(10), i.e(14), i.e(17), i.e(19), i.e(26), i.e(47), i.e(65), i.e(80), i.e(82), i.e(123), i.e(136), i.e(221), i.e(7), i.e(12), i.e(15), i.e(71), i.e(125), i.e("full-toolset")]).then(i.bind(null, "xpFj")).then(function (e) {
            return e.getToolSet()
          })
        }, t
      }(o.a)
    },
    RDDl: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolPriceRange";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("VghZ").PriceRangePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Price Range"
      }, n.prototype.name = function () {
        return "Price Range"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolDateRangeStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolpricerange", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolPriceRange = n
    },
    RDU5: function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "UndoCommand", function () {
        return n
      });
      var n = function () {
        function e(e, t) {
          void 0 === t && (t = !0), this._customFlags = {}, this._text = e, this._executeOnPush = t
        }
        return e.prototype.text = function () {
          return this._text
        }, e.prototype.executeOnPush = function () {
          return this._executeOnPush
        }, e.prototype.customFlag = function (e) {
          return this._customFlags[e]
        }, e.prototype.setCustomFlag = function (e, t) {
          this._customFlags[e] = t
        }, e
      }()
    },
    RTYN: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "PositionAveragePriceAxisView", function () {
          return r
        }),
        n = i("mrSG"), o = i("4TVt"), r = function (e) {
          function t() {
            return null !== e && e.apply(this, arguments) || this
          }
          return n.__extends(t, e), t.prototype._formatPrice = function (e, t) {
            return this._source.formatter().format(e)
          }, t
        }(o.LineToolPriceAxisView)
    },
    RXmj: function (e, t, i) {
      "use strict";
      (function (e, n) {
        function o(t) {
          this._chartWidgetCollection = t, this._chartAboutToBeSavedDelegate = new e, this._chartSavedDelegate = new e, this._prevChartState = null, this._chartHasBeenModified = new e, this._chartSizeLimitExceededDelegate = new e, this._savingToken = null, this._requestLastChartModifiedRequired = !1, this._lastPushStreamStatus = p.statusPrivate(), this._pushStreamConnectingTimeout = setTimeout(function () {
            this._pushStreamConnectingTimeout = null, g.logNormal("PushStream is not connected in some time - force request last modified date is required"), this._requestLastChartModifiedRequired = !0
          }.bind(this), 5e3), p.on("chart.storage", this._checkChartLastModified.bind(this)), p.onPrivateStatus(this._onPushstreamStatusChanged.bind(this))
        }

        function r(e, t) {
          e.content = JSON.stringify(t)
        }
        var s = i("nmnj"),
          a = i("wnZ+").PinePerm,
          l = i("/Qlx").record,
          c = i("PC8g").trackEvent,
          u = i("B+p7"),
          h = i("s4+V"),
          d = i("SNmj"),
          p = i("TxTq"),
          f = i("PfBM").ConnectionStatus,
          _ = i("BHQF").fetch,
          m = i("+GxX").isFeatureEnabled,
          g = i("uOxu").getLogger("Chart.ChartSaver"),
          y = i("FIi8").deepExtend,
          v = i("ogJP").deepEquals,
          S = i("lhgw"),
          b = window.t("The publication preview could not be loaded. Please disable your browser extensions and try again.");
        o.prototype.chartHasBeenModified = function () {
          return this._chartHasBeenModified
        }, o.prototype.chartSizeLimitExceeded = function () {
          return this._chartSizeLimitExceededDelegate
        }, o.prototype._checkChartLastModified = function (e) {
          null !== this._savingToken && this._savingToken === e.savingToken || this._chartWidgetCollection.metaInfo.id.value() === e.id && this._checkChartIsChanged(e.lastModified, "chart.storage")
        }, o.prototype._checkChartIsChanged = function (e, t) {
          var i = this._chartWidgetCollection.metaInfo.lastModified.value();
          i !== e && g.logNormal(t + ", local lastModified " + i + ", server lastModified " + e), i < e ? m("chart_changed_notification") ? this._chartHasBeenModified.fire() : g.logNormal("Emitting event about changed chart is skipped due disabled feature toggle state") : i > e && g.logWarn("Emitting event about changed chart is skipped due to received the old version")
        }, o.prototype._onPushstreamStatusChanged = function (e) {
          var t, i = this._lastPushStreamStatus;
          if (this._lastPushStreamStatus = e, i === f.Open && e !== f.Open && (this._requestLastChartModifiedRequired = !0), e === f.Open && (null !== this._pushStreamConnectingTimeout && (clearTimeout(this._pushStreamConnectingTimeout), this._pushStreamConnectingTimeout = null), this._requestLastChartModifiedRequired)) {
            if (this._requestLastChartModifiedRequired = !1, g.logNormal("PushStream is connected and request last modified date to detect changes is required"), !(t = this._chartWidgetCollection.metaInfo.uid.value())) return;
            _("/api/v1/charts/" + t + "/", {
              method: "HEAD"
            }).then(function (e) {
              var i;
              e.ok ? (i = new Date(e.headers.get("last-modified")).valueOf() / 1e3,
                this._checkChartIsChanged(i, "Force request after PushStream is reconnected")) : g.logWarn("Cannot fetch last modified date for chart (" + t + "), status=" + e.status)
            }.bind(this))
          }
        }, o.prototype.chartAboutToBeSaved = function () {
          return this._chartAboutToBeSavedDelegate
        }, o.prototype.chartSaved = function () {
          return this._chartSavedDelegate
        }, o.prototype.whenReadyToSave = function (e) {
          var t, i, n = this._chartWidgetCollection,
            o = n.activeChartWidget.value(),
            r = o.model().mainSeries();
          r.symbolInfo() && !r.hasDelayedSymbolIntervalChange() ? e() : (t = null, i = null, t = function () {
            r.dataEvents().symbolError().unsubscribe(null, i, !0), e()
          }, i = function () {
            r.dataEvents().symbolResolved().unsubscribe(null, t, !0)
          }, r.dataEvents().symbolResolved().subscribe(null, t, !0), r.dataEvents().symbolError().subscribe(null, i, !0))
        }, o.prototype.saveToJSON = function () {
          var e = this._getCommonSavingInfo(!1);
          return r(e, this._getChartWidgetCollectionState(!1, !0)), e
        }, o.prototype._fillAsyncInfo = function (e, t, i) {
          var n = JSON.parse(e.content),
            o = this._chartWidgetCollection;
          return t || (i = !0), (i ? o.asyncState(!!t) : o.activeChartWidget.value().asyncState(!!t)).then(function (t) {
            return e.content = JSON.stringify(y(n, t)), e
          })
        }, o.prototype._getChartWidgetCollectionState = function (e, t, i) {
          return e || (t = !0), t ? this._chartWidgetCollection.state(!!e, i) : this._chartWidgetCollection.activeChartWidget.value().state(!!e, i)
        }, o.prototype._getCommonSavingInfo = function (e) {
          var t, i, n, o, r, s = {
              publish_request_id: Math.random().toString(36).substring(2)
            },
            a = this._chartWidgetCollection,
            l = a.activeChartWidget.value(),
            c = a.metaInfo,
            u = l.model().mainSeries(),
            h = u.properties(),
            d = u.symbolInfo();
          if (c.id.value() && (s.id = c.id.value()), s.name = c.name.value() || "", s.description = c.description.value() || "", s.resolution = u.properties().interval.value(), s.symbol_type = null !== d && d.type || "", s.exchange = null !== d && d.exchange || "", s.listed_exchange = null !== d && d.listed_exchange || "", null !== d && u.isSpread() ? (t = d.legs[0], i = (i = d.base_name[0]).split(":")[1], s.symbol = t, s.short_name = i, s.expression = d.full_name) : (s.symbol = null !== d && d.ticker || h.symbol.value(), s.short_name = h.shortName.value()), null !== d) {
            for (n = [], o = 0, r = d.legs.length; o < r; o++) n.push({
              symbol: d.legs[o],
              pro_symbol: d.base_name[o]
            });
            s.legs = JSON.stringify(n)
          } else s.legs = JSON.stringify([]);
          return s.is_realtime = e ? "0" : "1", s
        }, o.prototype.publishChart = function (e) {
          var t, n, o, r, s, a, u, h;
          c("GUI", "Publish Chart"), l("Chart", "Publish Chart Start"), t = this, n = (e = e || {}).isPrivate || TVSettings.getBool("publishchart.private", !1), o = {
              accessType: n ? 0 : 1,
              publishSource: e.publishSource,
              videoFilename: e.videoFilename,
              videoDuration: e.videoDuration,
              videoCam: e.videoCam
            }, r = $(".publish-dropdown-container"), s = $(".publish-chart-button"), a = {
              savePrivacySetting: !e.doNotSavePrivacySetting,
              onWidget: e.onWidget,
              ideaUrl: e.ideaUrl
            }, u = e.onPublishUrl, h = e.onPublishError,
            t._ideaPublisher ? t._ideaPublisher.openPublication(o, a) : Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(9), i.e(10), i.e(11), i.e(19), i.e(23), i.e(24), i.e(32), i.e(34), i.e(44), i.e(58), i.e(59), i.e(84), i.e(95), i.e(113), i.e(166), i.e(22), i.e(27), i.e(48), i.e(66), i.e(67), i.e(93), i.e(129), i.e(213)]).then(function (e) {
              var n = i("M+sa").IdeaPublisher,
                l = i("MRHJ").IdeasProvider,
                c = i("4AJk").ChartInfoProvider,
                d = i("fT+7").CategoriesProvider,
                p = new c({
                  chartWidgetCollection: t._chartWidgetCollection
                }),
                f = new l({
                  publish: function (e, i) {
                    return new Promise(function (n, o) {
                      var r = {
                        closeForm: function () {
                          n()
                        },
                        showError: function (e) {
                          o(e)
                        },
                        onPublishUrl: u,
                        onPublishError: h
                      };
                      try {
                        t.onPublish(e, Object.assign({}, i, r))
                      } catch (e) {
                        o(b)
                      }
                    })
                  }
                }),
                _ = new d;
              t._ideaPublisher = new n({
                chartInfoProvider: p,
                ideasProvider: f,
                categoriesProvider: _,
                onOpenEditor: function () {
                  r.addClass("disabled")
                },
                onMinimizeEditor: function () {
                  r.removeClass("disabled"), s.addClass("inprogress")
                },
                onCloseEditor: function () {
                  r.removeClass("disabled"), s.removeClass("inprogress")
                }
              }), t._ideaPublisher.openPublication(o, a)
            }.bind(null, i)).catch(i.oe)
        }, o.prototype.publishScript = function (e, t, i) {
          var n, o, r, s, a = this;
          a._scriptPublisher ? a._scriptPublisher.openPublication(e, t) : (n = i.ScriptPublisher, o = i.ScriptsProvider, r = i.CategoriesProvider, s = new o({
            publish: function (e) {
              return new Promise(function (t, i) {
                var n = {
                  closeForm: function () {
                    if (e && e.scriptPublication && e.scriptPublication.updateScriptIdPart) {
                      var i = e.scriptPublication.updateScriptIdPart;
                      d.invalidateCache([i]), window.studyMarket && (window.studyMarket.resetAllPages(), window.studyMarket.updateFavorites())
                    }
                    t()
                  },
                  showError: function (e) {
                    i(e)
                  }
                };
                try {
                  a.onPublish(e, n)
                } catch (e) {
                  i(b)
                }
              })
            }
          }), a._scriptPublisher = new n({
            scriptsProvider: s,
            categoriesProvider: new r
          }), a._scriptPublisher.openPublication(e, t))
        }, o.prototype.onPublish = function (e, t) {
          function i(e) {
            return e.returnValue = window.t("Script may be not updated if you leave the page."), e.returnValue
          }

          function o(o) {
            var r, s, a, c, u, h;
            window.removeEventListener("beforeunload", i), f.publishInProgress = !1, "ok:" === (r = o.responseText || o).substr(0, 3) ? (s = !1, t.savePrivacySetting && (s = !e.is_public, TVSettings.setValue("publishchart.private", s)), l("Chart", "{0} Published".format(void 0 === e.script_type ? "Chart" : "Script"), {
              is_private: s
            }), a = r.substr(3), c = JSON.parse(a), f._chartWidgetCollection.metaInfo.id.value() || f._chartWidgetCollection.metaInfo.id.setValue(c.id), t.closeForm && t.closeForm(), t.onPublishUrl && t.onPublishUrl(c.publishUrl), f._lastPublishUrl = c.publishUrl, f.hWnd && (u = c.publishUrl, t.ideaUrl && (u = n.render(t.ideaUrl, {
              idea: c.idea
            })), f.hWnd.location = u)) : ((413 === o.status || /^[\d\s]*request.+large/i.test(r.trim())) && (r = window.t("This Chart Layout has a lot of objects and can't be published. Please remove the unused objects (drawings/indicators) through the Object Tree to continue publishing.")), h = r || window.t("Error occurred while publishing"), t.showError && t.showError(h, {
              html: !0
            }), t.onPublishError && t.onPublishError(h), f.hWnd && (f.hWnd.close(), f.hWnd = null))
          }
          var h, d, p, f = this;
          f.publishInProgress || (h = t && t.publishAllLayout,
            r(d = f._getCommonSavingInfo(!0), this._getChartWidgetCollectionState(!0, h, !0)), d.image = JSON.stringify(this._chartWidgetCollection.images({
              onlyActiveChart: !h
            })), f._fillAsyncInfo(d, !0, t && t.publishAllLayout).then(function (t) {
              var n = e.scriptPublication,
                r = !(!n || !n.updateScriptIdPart),
                l = new Promise(function (e, t) {
                  var o;
                  n ? (r ? (window.addEventListener("beforeunload", i), o = s.publishNext(n.scriptSource, n.updateScriptIdPart)) : o = s.publishNew(n.scriptSource, n.scriptProtection), o.done(function (t) {
                    r || n.scriptProtection !== TVScript.Access.ACCESS_CLOSED_NEEDS_AUTH || a.add(window.user.username, t.pineId), e(t.publishedstudyscript_id)
                  }).fail(t)) : e()
                });
              r ? l.then(function (i) {
                var n = {
                  publishedstudyscript_id: i,
                  description: e.description,
                  tags: e.tags
                };
                $.ajax({
                  url: "/script-update/",
                  type: "post",
                  dataType: "text",
                  data: $.extend({}, t, n),
                  complete: o
                })
              }, o) : l.then(function (i) {
                var n, r, s, a, l, u, h, d;
                for (i && (e.publishedstudyscript_id = i), n = e.tags.split(","), r = e.scriptPublication ? "Script" : "Idea", s = 0; s < n.length; s++) c(r + " Publication", r + " Tag", n[s]);
                e.scriptPublication ? (a = {
                  open_no_auth: "Open",
                  closed_no_auth: "Protected",
                  closed_needs_auth: "Invite Only"
                }, l = e.scriptPublication.scriptProtection, c("Script Publication", "Script Visibility", a[l])) : (u = e.is_education ? "Education" : "Analysis", h = ["Neutral", "Long", "Short"], d = e.is_public ? "Public" : "Private", c("Idea Publication", "Idea Type", u), c("Idea Publication", "Idea Strategy", h[e.direction]), c("Idea Publication", "Idea Privacy", d)), $.ajax({
                  url: "/publishchart/",
                  type: "post",
                  dataType: "text",
                  data: $.extend({}, t, e),
                  complete: o
                })
              }, o)
            }), f.publishInProgress = !0, t.onWidget && !t.ideaUrl || "" !== e.name && "" !== e.description && e.description.length <= 7e4 && e.name.length <= 64 && ($.cookie("publish_request_id", d.publish_request_id, {
              path: "/"
            }), p = "/loading/", t.ideaUrl && (p = "/loading?" + u.createUrlParams({
              ideaUrl: t.ideaUrl
            })), f.hWnd = window.open(p, "_blank")))
        }, o.prototype._saveChart = function (e, t, i, n, o) {
          var r = i,
            s = n;
          return this._savingToken = String(Math.random()), e.savingToken = this._savingToken, r = function (e) {
            var r, s;
            if (this._savingToken = null, "ok:" === e.substr(0, 3)) r = e.substr(3), s = JSON.parse(r), t.id.value() || (t.id.setValue(s.id), t.uid.setValue(s.uid)), t.lastModified.setValue(s.lastModified), "function" == typeof i && i({
              uid: t.uid.value()
            }, s.count || 0);
            else if ("saved_chart_limit_reached" === e || "" === e) {
              if ("function" == typeof n && n(), o.noDefaultOnFail) return;
              h.createGoProDialog({
                feature: "savedChartsLimit"
              }).then(function (e) {
                e.open()
              })
            } else "function" == typeof n && n(), $("#error").html(e);
            $(window).off("beforeunload.savechart")
          }, s = function (r) {
            if (this._savingToken = null, r && 413 === r.status) return this._chartSizeLimitExceededDelegate.fire(), void("function" == typeof n && n.apply(null, arguments));
            o.retry ? "function" == typeof n && n.apply(null, arguments) : (o.retry = !0, this._saveChart(e, t, i, n, o))
          }, S.saveChart(e.name, e.short_name, e.resolution, e, t, r.bind(this), s.bind(this))
        }, o.prototype.saveChartSilently = function (e, t, i) {
          var n, o, s = this._getChartWidgetCollectionState(!1);
          v(this._prevChartState, s)[0] ? this._chartSavedDelegate.fire(!0) : (n = this._chartWidgetCollection.metaInfo, r(o = this._getCommonSavingInfo(!1), s),
            (i = i || {}).chartName && (o.name = i.chartName), o.name && 0 !== o.name.length || !i.defaultChartName || (o.name = i.defaultChartName), o.name ? ($(window).on("beforeunload.savechart", function () {
              return window.t("Your chart is being saved, please wait a moment before you leave this page.")
            }), this._isSaveInProcess = !0, this._chartAboutToBeSavedDelegate.fire(), this._saveChart(o, n, function () {
              this._chartWidgetCollection.metaInfo.name.setValue(o.name), this._prevChartState = s, this._chartSavedDelegate.fire(!0), this._isSaveInProcess = !1, e && e(n)
            }.bind(this), function () {
              this._chartSavedDelegate.fire(!1), this._isSaveInProcess = !1, t && t.apply(null, arguments)
            }.bind(this), i), $(window).off("beforeunload.savechart")) : console.warn("Saving chart with empty name is not allowed"))
        }, o.prototype.isSaveInProcess = function () {
          return this._isSaveInProcess
        }, t.ChartSaver = o
      }).call(this, i("aIyQ"), i("OiQe"))
    },
    RjiR: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        this.enabled = !0, this._symbol = e, this._symbolOriginal = null, this._options = (0, r.deepExtend)({}, y, i), !1 !== this._options.signNegative && !0 !== this._options.signNegative && delete this._options.signNegative, i.customPriceFormatter && (this._customPriceFormatter = i.customPriceFormatter), i.customTimeFormatter && (void 0 !== i.customTimeFormatter.lastPrice || void 0 !== i.customTimeFormatter.rtc ? this._timeFormatter = i.customTimeFormatter : this._timeFormatter = {
          lastPrice: i.customPriceFormatter,
          rtc: i.customPriceFormatter
        }), this._percentFormatter = new l.PercentageFormatter, this._priceFormatter = this._customPriceFormatter || new u.PriceFormatter(100), this._volumeFormatter = new h.VolumeFormatter, this._cache = {}, this._lastPrice = null, this._elements = {}, this._textNodes = {}, this._setElements(t), this._highlighters = {}, this._initHighlighters(), this._options.setStateHook && this.setStateHook(this._options.setStateHook), this.quoteSession = this._options.quoteSession || (0, _.getQuoteSessionInstance)("simple"), this._quoteSessionEventHandler = this.onData.bind(this), setTimeout(this.connect.bind(this), 0)
      }

      function o(e, t, i, n, o) {
        function r() {
          var r;
          if (s && (clearTimeout(s), s = void 0), i || t)
            for (r = 0; r < e.length; r++) e[r].style.background = "";
          if (!i || !t)
            for (r = 0; r < e.length; r++) e[r].classList.remove(o, n)
        }
        var s, a = null;
        return {
          show: function (l) {
            var c, u = 0;
            if (l !== a) {
              if (null !== a && null !== l && (u = l - a), r(), s = setTimeout(r, 750), 0 < u)
                if (t)
                  for (c = 0; c < e.length; c++) e[c].style.background = t;
                else
                  for (c = 0; c < e.length; c++) e[c].classList.add(n);
              else if (u < 0)
                if (i)
                  for (c = 0; c < e.length; c++) e[c].style.background = i;
                else
                  for (c = 0; c < e.length; c++) e[c].classList.add(o);
              null !== l && (a = l)
            }
          },
          hide: r
        }
      }
      var r = i("FIi8"),
        s = i("uOxu"),
        a = i("ogJP"),
        l = i("GH0z"),
        c = i("RoXi"),
        u = i("kcTO"),
        h = i("nEwK"),
        d = i("oNU6"),
        p = i("Wc1E"),
        f = i("RqCd"),
        _ = i("IWXC"),
        m = i("y8Ih"),
        g = (0, s.getLogger)("QuoteTicker"),
        y = {
          addDescriptionTitle: !0,
          changeDirectionDownClass: "down",
          changeDirectionUpClass: "up",
          changeInBrackets: !1,
          changePercentInBrackets: !1,
          lastPriceTimeInBrackets: !0,
          rtcTimeInBrackets: !0,
          clientName: "quote-ticker",
          dontDyePrice: !1,
          fallingBg: null,
          growingBg: null,
          lastFallingClass: "falling",
          lastGrowingClass: "growing",
          quoteSession: null,
          signNegative: !0,
          signPositive: !1,
          customPriceFormatter: null,
          customTimeFormatter: null,
          sessionStatusClassSuffix: "--for-ticker",
          dataModeClassSuffix: "--for-ticker",
          showInvalidSymbolStatus: !1,
          indicatorsTooltipType: "custom",
          initedHook: void 0,
          setStateHook: void 0,
          sfPermissionDeniedHook: void 0,
          noSuchSymbolHook: void 0
        },
        v = ["aboard", "about", "above", "abreast", "abroad", "absent", "across", "adjacent", "after", "against", "along", "alongside", "amid", "among", "an", "apropos", "apud", "around", "as", "astride", "at", "atop", "bar", "before", "behind", "below", "beneath", "beside", "besides", "between", "beyond", "but", "by", "chez", "circa", "come", "despite", "down", "during", "except", "for", "from", "in", "inside", "into", "less", "like", "minus", "near", "notwithstanding", "of", "off", "on", "onto", "ontop", "opposite", "out", "outside", "over", "pace", "past", "per", "post", "pre", "pro", "qua", "re", "sans", "save", "short", "since", "than", "through", "throughout", "to", "toward, towards", "under", "underneath", "unlike", "until", "up", "upon", "upside", "versus", "via", "vice", "with", "within", "without", "worth"];
      n.prototype._setElements = function (e) {
        this._container = e, this._elements.change = this._findElements(e, ["js-symbol-change", "symbol-change"]), this._elements.changeDirection = this._findElements(e, ["js-symbol-change-direction", "symbol-change-direction"]), this._elements.extHrsChangeDirection = this._findElements(e, ["js-symbol-ext-hrs-change-direction"]), this._elements.changePercent = this._findElements(e, ["js-symbol-change-pt", "symbol-change-pt"]), this._elements.description = this._findElements(e, ["js-symbol-description-name", "symbol-description-name"]), this._elements.extHrsChange = this._findElements(e, "js-symbol-ext-hrs-change"), this._elements.extHrsChangePercent = this._findElements(e, "js-symbol-ext-hrs-change-pt"), this._elements.extHrsClose = this._findElements(e, "js-symbol-ext-hrs-close"), this._elements.industry = this._findElements(e, ["js-symbol-industry", "symbol-industry"]), this._elements.last = this._findElements(e, ["js-symbol-last", "symbol-last"]), this._elements.sector = this._findElements(e, ["js-symbol-sector", "symbol-sector"]), this._elements.sessionStatus = this._findElements(e, "js-symbol-session-status"), this._elements.shortName = this._findElements(e, ["js-symbol-short-name", "symbol-short-name"]), this._elements.updateMode = this._findElements(e, "js-data-mode"), this._elements.updateMode.forEach(function (e) {
            return e.classList.add("i-hidden")
          }), this._textNodes.change = this._getOrCreateTextNodes(this._elements.change), this._textNodes.changePercent = this._getOrCreateTextNodes(this._elements.changePercent), this._textNodes.extHrsChange = this._getOrCreateTextNodes(this._elements.extHrsChange), this._textNodes.extHrsChangePercent = this._getOrCreateTextNodes(this._elements.extHrsChangePercent), this._textNodes.extHrsClose = this._getOrCreateTextNodes(this._elements.extHrsClose), this._textNodes.last = this._getOrCreateTextNodes(this._elements.last), this._textNodes.open = this._findTextNodes(e, "js-symbol-open"), this._textNodes.eps = this._findTextNodes(e, "js-symbol-eps"),
          this._textNodes.marketCap = this._findTextNodes(e, "js-symbol-market-cap"), this._textNodes.prevClose = this._findTextNodes(e, "js-symbol-prev-close"), this._textNodes.dividends = this._findTextNodes(e, "js-symbol-dividends"), this._textNodes.priceEarnings = this._findTextNodes(e, "js-symbol-pe"), this._textNodes.volume = this._findTextNodes(e, "js-symbol-volume"), this._textNodes.high = this._findTextNodes(e, "js-symbol-high"), this._textNodes.low = this._findTextNodes(e, "js-symbol-low"), this._textNodes.currency = this._findTextNodes(e, "js-symbol-currency"), this._textNodes.lastPriceTime = this._findTextNodes(e, "js-symbol-lp-time"), this._textNodes.rtcTime = this._findTextNodes(e, "js-symbol-rtc-time")
      }, n.prototype._findElements = function (e, t) {
        var i = (0, a.isArray)(t) ? t : [t];
        return Array.prototype.concat.apply([], i.map(function (t) {
          return Array.prototype.slice.call(e.getElementsByClassName(t))
        }))
      }, n.prototype._findTextNodes = function (e, t) {
        return this._getOrCreateTextNodes(this._findElements(e, t))
      }, n.prototype._getOrCreateTextNodes = function (e) {
        var t = this;
        return e.map(function (e) {
          var i = t._getFirstTextNode(e);
          return i || (i = e.ownerDocument.createTextNode(""), e.appendChild(i)), i
        })
      }, n.prototype._getFirstTextNode = function (e) {
        var t, i = e.childNodes;
        for (t = i.length - 1; t >= 0; t--)
          if (3 === i.item(t).nodeType) return i.item(t);
        return null
      }, n.prototype.connect = function (e) {
        this._subscribed || (this._subscribedSymbol = e || this._symbol, this.quoteSession.subscribe(this._options.clientName, this._subscribedSymbol, this._quoteSessionEventHandler), this._subscribed = !0)
      }, n.prototype.disconnect = function () {
        this._subscribed && (this.quoteSession.unsubscribe(this._options.clientName, this._subscribedSymbol, this._quoteSessionEventHandler), this._subscribed = !1)
      }, n.prototype.onData = function (e, t) {
        if (this.enabled) switch (e.status) {
          case "ok":
            this.successData(e, t);
            break;
          case "permission_denied":
            this.onPermissionDenied(e);
            break;
          case "error":
            this.errorData(e)
        }
      }, n.prototype.successData = function (e, t) {
        e.values && this.setState(e.values, e, t)
      }, n.prototype.onPermissionDenied = function (e) {
        (0, m.isSfQuoteData)(e) ? this._options.sfPermissionDeniedHook ? this._options.sfPermissionDeniedHook(e, this._symbolOriginal || this._symbol) : this.errorData(e): this.downgradeData(e)
      }, n.prototype.errorData = function (e) {
        var t = this;
        this._options.showInvalidSymbolStatus && (this.setShortName(this._symbol), this._elements.sessionStatus.map(function (e) {
          return new d.MarketStatusIndicator({
            classSuffix: t._options.sessionStatusClassSuffix,
            el: e,
            data: {
              values: {
                current_session: "invalid"
              }
            },
            tooltipType: t._options.indicatorsTooltipType
          })
        })), this._options.noSuchSymbolHook ? (this._symbolOriginal && this.setShortName(this._symbolOriginal), this._options.noSuchSymbolHook.call(this, e, this._symbolOriginal || this._symbol)) : g.logWarn("No data for: " + this._symbol)
      }, n.prototype.downgradeData = function (e) {
        var t = e && e.values && e.values.alternative,
          i = this._symbol === t,
          n = t && -1 !== t.indexOf(":");
        n && !i ? (this._symbolOriginal = this._symbol, this._symbol = t, this._subscribed = !1, this.connect()) : this.errorData(e)
      }, n.prototype.setState = function (e, t, i) {
        var n, o, r, s, a, l, c, _, m, y, v, S, b, w, P, T = this,
          C = i.values;
        if (null == C.pricescale && null == C.minmov && null == C.fractional && null == C.minmove2 || (this._priceFormatter = this._customPriceFormatter || new u.PriceFormatter(e.pricescale || 100, e.minmov || 1, e.fractional, e.minmove2)), n = this._options, o = this._percentFormatter, r = this._priceFormatter, s = this._volumeFormatter, C.timezone && this._timeFormatter && (this._timeFormatter.lastPrice && this._timeFormatter.lastPrice.setTimezone(C.timezone), this._timeFormatter.rtc && this._timeFormatter.rtc.setTimezone(C.timezone)), a = function (e) {
            return !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1] ? "(" + e + ")" : e
          }, l = function (e) {
            return null == e ? h.PLACE_HOLDER : o.format(e, n.signPositive, void 0, n.signNegative)
          }, c = void 0 !== n.signPositiveChange ? n.signPositiveChange : n.signPositive, _ = function (e) {
            var t = r.format(e, c, void 0, n.signNegative);
            return a(t, n.changeInBrackets)
          }, m = function (e) {
            var t = o.format(e, c, void 0, n.signNegative);
            return a(t, n.changePercentInBrackets)
          }, y = r.format.bind(r), v = s.format.bind(s), S = function (e) {
            return null == e ? h.PLACE_HOLDER : y(e)
          }, this._setNodesValue(this._textNodes.change, C.change, _), this._setNodesValue(this._textNodes.changePercent, C.change_percent, m), null != C.change && (n.dontDyePrice || this._setChangeFontColor([].concat(this._elements.change, this._elements.changePercent), C.change, n.changeUpFontColor, n.changeDownFontColor, n.changeNeutralFontColor), this._setChangeDirection(this._elements.changeDirection, C.change)), this._setNodesValue(this._textNodes.extHrsChange, C.rch, _), this._setNodesValue(this._textNodes.extHrsChangePercent, C.rchp, m), null != C.rch && (n.dontDyePrice || this._setChangeFontColor([].concat(this._elements.extHrsChange, this._elements.extHrsChangePercent), C.rch, n.changeUpFontColor, n.changeDownFontColor, n.changeNeutralFontColor), this._setChangeDirection(this._elements.extHrsChangeDirection, C.rch)), this._setNodesValue(this._textNodes.prevClose, C.prev_close_price, y), this._setNodesValue(this._textNodes.dividends, e.dividends_yield, l, !0), (b = (0, f.getTranslatedSymbolDescription)(C)) && (b = this._prepareSymbolDescription(b), this._setTextsContent(this._elements.description, b), this._options.addDescriptionTitle))
          for (w = 0; w < this._elements.description.length; w++) this._elements.description[w].setAttribute("title", b);
        if (null == C.short_name && null == C.exchange || e.short_name && (P = e.short_name, "QUANDL" === e.exchange && void 0 !== e.short_name.split("/")[1] && (P = e.short_name.split("/")[1] + ", " + e.short_name.split("/")[0]), this.setShortName(P)), this._setNodesValue(this._textNodes.last, C.last_price, y), this._setNodesValue(this._textNodes.extHrsClose, C.rtc, y), C.rtc && this._highlighters.extHrsClose.show(C.rtc), C.industry && this._setTextsContent(this._elements.industry, e.industry, function (e) {
            return e
          }), C.sector && this._setTextsContent(this._elements.sector, e.sector), this._elements.sessionStatus && C.current_session && (this._sessionStatusInstances ? this._sessionStatusInstances.forEach(function (e) {
            return e.setStatus(C.current_session)
          }) : this._sessionStatusInstances = this._elements.sessionStatus.map(function (t) {
            return new d.MarketStatusIndicator({
              classSuffix: T._options.sessionStatusClassSuffix,
              el: t,
              short: !0,
              data: {
                values: C
              },
              quoteSession: T.quoteSession,
              symbol: e.original_name,
              manualUpdate: !0,
              tooltipType: T._options.indicatorsTooltipType
            })
          })), this._setNodesValue(this._textNodes.open, C.open_price, y), this._setNodesValue(this._textNodes.high, C.high_price, y), this._setNodesValue(this._textNodes.low, C.low_price, y), this._setNodesValue(this._textNodes.eps, e.earnings_per_share_basic_ttm, S, !0), this._setNodesValue(this._textNodes.priceEarnings, e.price_earnings_ttm, S, !0), this._setNodesValue(this._textNodes.marketCap, e.market_cap_basic, v, !0), this._setNodesValue(this._textNodes.volume, e.volume, v, !0), this._setNodesValue(this._textNodes.currency, e.currency_code, null, !0), (C.lp_time || C.timezone && e.lp_time) && this._textNodes.lastPriceTime.length && (this._timeFormatter && this._timeFormatter.lastPrice ? this._setNodesValue(this._textNodes.lastPriceTime, a(this._timeFormatter.lastPrice.format(e.lp_time), this._options.lastPriceTimeInBrackets)) : g.logError("last price time field requested with no formatter provided")), (C.rtc_time || C.timezone && e.rtc_time) && this._textNodes.rtcTime.length && (this._timeFormatter && this._timeFormatter.rtc ? this._setNodesValue(this._textNodes.rtcTime, a(this._timeFormatter.rtc.format(e.rtc_time), this._options.rtcTimeInBrackets)) : g.logError("rtc time field requested with no formatter provided")), null != C.last_price)
          for (w = 0; w < this._elements.updateMode.length; w++) this._elements.updateMode[w].classList.remove("i-hidden");
        this._elements.updateMode && (C.update_mode || C.update_mode_seconds) && (this._updateModeInstances ? this._updateModeInstances.forEach(function (t) {
          return t.update({
            values: e
          })
        }) : this._updateModeInstances = this._elements.updateMode.map(function (t) {
          return new p.DataModeIndicator({
            classSuffix: T._options.dataModeClassSuffix,
            el: t,
            data: {
              values: e
            },
            modeInterval: e.update_mode_seconds,
            short: !0,
            tooltipType: T._options.indicatorsTooltipType
          })
        })), this._setStateHook && this._setStateHook(t.values, i.values), this._lastPrice ? this._highlighters.last.show(e.last_price) : null === this._lastPrice && (this._container.classList.add("quote-ticker-inited"), "function" == typeof this._options.initedHook && this._options.initedHook("last_price" in e)), this._lastPrice = e.last_price
      }, n.prototype._setNodesValue = function (e, t, i, n) {
        var o, r;
        if (null != t || n)
          for (o = "function" == typeof i ? i(t) : t, r = 0; r < e.length; r++) e[r].nodeValue = o
      }, n.prototype._setTextsContent = function (e, t, i) {
        var n, o;
        if (e && e.length && t)
          for (n = "function" == typeof i ? i(t) : t, o = 0; o < e.length; o++) e[o].textContent = n
      }, n.prototype._setChangeFontColor = function (e, t, i, n, o) {
        var r, s = c.PriceColorer.formatSign(t, {
          up: i,
          down: n,
          neutral: o
        });
        for (r = 0; r < e.length; r++) e[r].style.color = s
      }, n.prototype._setChangeDirection = function (e, t) {
        var i, n;
        for (i = 0; i < e.length; i++)(n = e[i].classList).toggle(this._options.changeDirectionUpClass, t > 0), n.toggle(this._options.changeDirectionDownClass, t < 0)
      }, n.prototype.setShortName = function () {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        this._setTextsContent(this._elements.shortName, e)
      }, n.prototype._prepareSymbolDescription = function (e) {
        function t(e) {
          return e.charAt(0).toUpperCase() + e.substr(1)
        }
        var i, n = this._getCache("symbol-description:" + e);
        return n || (n = t(n = (n = (i = e) === i.toUpperCase() ? e.toLowerCase() : e).replace(/[^\s]\S*/g, function (e) {
          return function (e) {
            return 1 !== e.length && !~v.indexOf(e)
          }(e) ? t(e) : e
        })), this._setCache("symbol-description:" + e, n), n)
      }, n.prototype._initHighlighters = function () {
        this._highlighters.last = new o(this._elements.last, this._options.growingBg, this._options.fallingBg, this._options.lastGrowingClass, this._options.lastFallingClass), this._highlighters.extHrsClose = new o(this._elements.extHrsClose, this._options.growingBg, this._options.fallingBg, this._options.lastGrowingClass, this._options.lastFallingClass)
      }, n.prototype.disable = function () {
        this.enabled = !1, this.disconnect()
      }, n.prototype.enable = function () {
        this.enabled = !0, this.connect()
      }, n.prototype.setStateHook = function (e) {
        null === e && this._setStateHook ? delete this._setStateHook : "function" == typeof e && (this._setStateHook = e)
      }, n.prototype._setCache = function (e, t) {
        void 0 === t || null === t ? delete this._cache[e] : this._cache[e] = t
      }, n.prototype._getCache = function (e) {
        return this._cache && this._cache[e]
      }, e.exports.QuoteTicker = n
    },
    RjxO: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.d(t, "a", function () {
        return l
      }), n = i("PfBM"), o = i("hY0g"), r = i.n(o), s = i("uOxu"), a = Object(s.getLogger)("PersistentWebsocketTransport"), l = function () {
        function e(e) {
          var t = this;
          this._url = "", this._socket = null, this._reconnectCount = 0, this._onlineCancellationToken = null, this._connectionStatus = new r.a(n.ConnectionStatus.Closed), this._socketCloseHandler = this._onCloseCallback.bind(this), this._socketErrorHandler = this._onErrorCallback.bind(this), this._socketOpenHandler = this._onOpenCallback.bind(this), this._socketMessageHandler = this._onMessageCallback.bind(this), this._shouldReconnect = !0, this._messageHandler = e, window.addEventListener("unload", function () {
            a.logNormal("Unload event comes - disconnecting without reconnect after that..."), t._shouldReconnect = !1, t.disconnect()
          }, !1)
        }
        return e.prototype.setUrl = function (e) {
          if (this._url !== e) {
            var t = this._connectionStatus.value() !== n.ConnectionStatus.Closed;
            t && this.disconnect(), this._url = e, t && this.connect()
          }
        }, e.prototype.connect = function () {
          this._connectionStatus.value() === n.ConnectionStatus.Closed ? (this._socket && (a.logError("Something went wrong - code 0x2"), this.disconnect()), this._onlineCancellationToken && (this._onlineCancellationToken(), this._onlineCancellationToken = null), a.logNormal("Connecting to " + this._url), this._socket = new WebSocket(this._url), this._socket.addEventListener("error", this._socketErrorHandler), this._socket.addEventListener("close", this._socketCloseHandler), this._socket.addEventListener("open", this._socketOpenHandler), this._socket.addEventListener("message", this._socketMessageHandler), this._connectionStatus.setValue(n.ConnectionStatus.Connecting)) : a.logNormal("Attempt to open connection but it is not closed")
        }, e.prototype.connectionStatus = function () {
          return this._connectionStatus.readonly()
        }, e.prototype.disconnect = function () {
          if (this._connectionStatus.value() !== n.ConnectionStatus.Closed)
            if (this._socket) {
              a.logNormal("Closing connection to: " + this._socket.url + ", currentStatus: " + n.ConnectionStatus[this._connectionStatus.value()]), this._socket.removeEventListener("error", this._socketErrorHandler), this._socket.removeEventListener("close", this._socketCloseHandler), this._socket.removeEventListener("open", this._socketOpenHandler), this._socket.removeEventListener("message", this._socketMessageHandler);
              var e = this._socket;
              this._socket = null, this._connectionStatus.setValue(n.ConnectionStatus.Closed), e.readyState !== WebSocket.CLOSED && e.close()
            } else a.logError("Something went wrong - code 0x1");
          else a.logNormal("Attempt to close connection but it is closed already")
        }, e.prototype.sendMessage = function (e) {
          this._connectionStatus.value() === n.ConnectionStatus.Open ? this._socket ? this._socket.send(e) : a.logError("Something went wrong - code 0x3") : a.logWarn("Attempt to send message but connection is not opened")
        }, e.prototype._onErrorCallback = function () {
          a.logInfo("Connection is closed by error"), this._tryReconnect()
        }, e.prototype._onCloseCallback = function (e) {
          a.logInfo("Connection is closed - code=" + e.code + " msg=" + e.reason), this._tryReconnect()
        }, e.prototype._tryReconnect = function () {
          this.disconnect();
          var e = this._getReconnectTimeout();
          a.logNormal("Sleeping some time before reconnect " + e + "ms"), setTimeout(this._tryReconnectImpl.bind(this), e)
        }, e.prototype._tryReconnectImpl = function () {
          var e = this;
          if (this._shouldReconnect) {
            if (this._reconnectCount += 1, a.logInfo("Reconnecting count: " + this._reconnectCount), navigator.onLine) return a.logInfo("Network status: online - trying to connect"), void this.connect();
            var t, i;
            a.logInfo("Network status: offline - wait until online"), this._onlineCancellationToken = (t = function () {
              a.logInfo("Network status changed to online - trying to connect"), e.connect()
            }, i = function () {
              window.removeEventListener("online", i), t && t()
            }, window.addEventListener("online", i), function () {
              t = null
            })
          } else a.logNormal("Skip reconnecting because of shouldReconnect state")
        }, e.prototype._onOpenCallback = function () {
          a.logNormal("Connection opened"), this._reconnectCount = 0, this._connectionStatus.setValue(n.ConnectionStatus.Open)
        }, e.prototype._onMessageCallback = function (e) {
          this._messageHandler(e.data)
        }, e.prototype._getReconnectTimeout = function () {
          return this._reconnectCount < 5 ? 300 : 5e3
        }, e
      }()
    },
    RoXi: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "PriceColorer", function () {
          return o
        }), n = i("j1f4"),
        function (e) {
          function t(e, t) {
            return 0 === e ? t && void 0 !== t.neutral ? t.neutral : n.color.black70 : e > 0 ? t && void 0 !== t.up ? t.up : n.color.success : t && void 0 !== t.down ? t.down : n.color.danger
          }
          e.formatSign = t, e.formatDiff = function (e, i) {
            return t(i - e)
          }, e.domDifference = function (e, t, i, n, o) {
            function r(e) {
              var t = document.createElement("span");
              return t.innerHTML = e, t
            }
            var s, a, l, c, u, h;
            if (void 0 === i && (i = 0), void 0 === n && (n = ""), void 0 === o && (o = ""), !i) return $(r(e));
            if (l = null, (s = e + "").length === (a = t + "").length) {
              for (c = 0; c < s.length; c++)
                if (s.charAt(c) !== a.charAt(c)) {
                  l = c;
                  break
                }
            } else l = Number("0");
            return null === l ? $(r(s)) : (u = r(s.substr(0, l)), (h = document.createElement("span")).className = i < 0 ? n : o,
              h.appendChild(r(s.substr(l))), $(u).add(h))
          }
        }(o || (o = {}))
    },
    RqCd: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = "#" + e + "-symbol-description",
          i = window.t(t);
        return i === t ? null : i
      }

      function o(e) {
        var t, i;
        if (void 0 !== e.local_description && e.language === window.language) return e.local_description;
        if (void 0 !== e.pro_name && void 0 !== e.short_name) {
          if (null !== (t = n(e.pro_name))) return t;
          if (null !== (i = n(e.short_name))) return i
        }
        return s && void 0 !== e.short_description ? e.short_description : e.description || ""
      }
      var r, s;
      i.r(t), i.d(t, "getTranslatedSymbolDescription", function () {
        return o
      }), i("YFKU"), r = i("+GxX"), s = Object(r.isFeatureEnabled)("short_descriptions")
    },
    "Ru+e": function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i, r, s, a, l, c = e.metaInfo();
        if (!0 === c.historyCalculationMayChange) return o.DataSourceDangerReason.PineRepainting;
        for (t = 0, i = c.inputs.filter(function (e) {
            return "symbol" === e.type
          }).map(function (e) {
            return e.id
          }); t < i.length; t++)
          if (r = i[t], s = e.properties().inputs[r].value(), a = e.resolvedSymbolInfoBySymbol(s)) {
            if ("spread" === a.type) return o.DataSourceDangerReason.Spread;
            if ("CRYPTOCAP" === a.exchange) return o.DataSourceDangerReason.CryptoCap
          } return l = e.ownerSource(), e.isChildStudy() && l ? n(l) : null
      }
      i.r(t), i.d(t, "getStudyDangerReason", function () {
        return n
      });
      var o = i("0N6F")
    },
    S5nF: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i = "";
        for (t in e) e.hasOwnProperty(t) && (i += t + ":" + e[t] + ";");
        return i
      }

      function o(e) {
        var t = function (e) {
          var t, i;
          if (!1 === a.allowEvent(e)) return null;
          for (t = null, i = e.target || e.srcElement; null != i.parentElement;) {
            if (!(i instanceof SVGElement || -1 === i.className.indexOf("tv-ripple"))) {
              t = i;
              break
            }
            if (!(i instanceof SVGElement) && -1 !== i.className.indexOf("js-ripple")) {
              t = i;
              break
            }
            i = i.parentElement
          }
          return t
        }(e);
        null !== t && (s.show(e, t), "ontouchstart" in window && (t.addEventListener("touchend", s.hide, !1), t.addEventListener("touchcancel", s.hide, !1)), t.addEventListener("mouseup", s.hide, !1), t.addEventListener("mouseleave", s.hide, !1))
      }
      var r, s, a, l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
      } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
      };
      i("/toF"), r = i("29gu"), s = {
        duration: 500,
        show: function (e, t) {
          var i, o, r, a, c, u, h, d, p, f, _, m;
          if (2 === e.button) return !1;
          i = t || this, (o = document.createElement("div")).className = "tv-ripple", i.appendChild(o), f = {
              top: 0,
              left: 0
            }, _ = (d = i) && d.ownerDocument, m = _.documentElement, "undefined" !== l(d.getBoundingClientRect) && (f = d.getBoundingClientRect()), p = function (e) {
              return null !== (t = e) && t === t.window ? e : 9 === e.nodeType && e.defaultView;
              var t
            }(_), r = {
              top: f.top + p.pageYOffset - m.clientTop,
              left: f.left + p.pageXOffset - m.clientLeft
            }, a = e.pageY - r.top, c = e.pageX - r.left, u = "scale(" + i.clientWidth / 100 * 10 + ")", "touches" in e && (a = e.touches[0].pageY - r.top, c = e.touches[0].pageX - r.left), o.setAttribute("data-hold", Date.now()), o.setAttribute("data-scale", u), o.setAttribute("data-x", c), o.setAttribute("data-y", a), h = {
              top: a + "px",
              left: c + "px"
            }, o.className = o.className + " tv-ripple--notransition", o.setAttribute("style", n(h)), o.className = o.className.replace("tv-ripple--notransition", ""),
            h.opacity = "1", h["-webkit-transform"] = h["-moz-transform"] = h["-ms-transform"] = h["-o-transform"] = h.transform = u, h["-webkit-transition-duration"] = h["-moz-transition-duration"] = h["-o-transition-duration"] = h["transition-duration"] = s.duration + "ms", h["-webkit-transition-timing-function"] = h["-moz-transition-timing-function"] = h["-o-transition-timing-function"] = h["transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)", o.setAttribute("style", n(h))
        },
        hide: function (e) {
          var t, i, o, r, l, c, u;
          if (a.touchup(e), i = null, !((o = (t = this).getElementsByClassName("tv-ripple")).length > 0)) return !1;
          i = o[o.length - 1], r = i.getAttribute("data-x"), l = i.getAttribute("data-y"), c = i.getAttribute("data-scale"), (u = 350 - (Date.now() - Number(i.getAttribute("data-hold")))) < 0 && (u = 0), setTimeout(function () {
            var e = {
              top: l + "px",
              left: r + "px",
              opacity: "0",
              "-webkit-transition-duration": s.duration + "ms",
              "-moz-transition-duration": s.duration + "ms",
              "-o-transition-duration": s.duration + "ms",
              "transition-duration": s.duration + "ms",
              "-webkit-transform": c,
              "-moz-transform": c,
              "-ms-transform": c,
              "-o-transform": c,
              transform: c
            };
            i.setAttribute("style", n(e)), setTimeout(function () {
              try {
                t.removeChild(i)
              } catch (e) {
                return !1
              }
            }, s.duration)
          }, u)
        }
      }, a = {
        touches: 0,
        allowEvent: function (e) {
          var t = !0;
          return "touchstart" === e.type ? a.touches += 1 : "touchend" === e.type || "touchcancel" === e.type ? setTimeout(function () {
            a.touches > 0 && (a.touches -= 1)
          }, 500) : "mousedown" === e.type && a.touches > 0 && (t = !1), t
        },
        touchup: function (e) {
          a.allowEvent(e)
        }
      }, $.fn.tvRipple = (0, r.createTvBlockWithInstance)("tv-ripple", function (e) {
        arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return e[0].addEventListener("mousedown", o, !1), e
      }), $(function () {
        $(document.body).tvRipple()
      })
    },
    S8xo: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "MouseEventHandler", function () {
        return a
      }), n = i("bf9a"), o = i("69Qn"), r = i("Eyy1"), s = !1, a = function () {
        function e(e, t, i, n) {
          this._clickCount = 0, this._clickTimeoutId = null, this._longTapTimeoutId = null, this._lastTouchPosition = {
            x: 0,
            y: 0
          }, this._mouseMoveStartPosition = null, this._moveExceededManhattanDistance = !1, this._cancelClick = !1, this._hammerManager = null, this._unsubscribeOutsideEvents = null, this._unsubscribeMousemove = null, this._unsubscribeRoot = null, this._isDestroyed = !1, this._target = e, this._handler = t, this._originalPreventDefault = i, this._preventDefault = !n && i, this._verticalTouchScroll = n, this._init()
        }
        return e.prototype.destroy = function () {
          null !== this._hammerManager && (this._hammerManager.destroy(), this._hammerManager = null), null !== this._unsubscribeOutsideEvents && (this._unsubscribeOutsideEvents(), this._unsubscribeOutsideEvents = null), null !== this._unsubscribeMousemove && (this._unsubscribeMousemove(), this._unsubscribeMousemove = null), null !== this._unsubscribeRoot && (this._unsubscribeRoot(), this._unsubscribeRoot = null), this._isDestroyed = !0
        }, e.prototype._mouseEnterHandler = function (e) {
          var t, i, n = this;
          this._unsubscribeMousemove && this._unsubscribeMousemove(), t = this._mouseMoveHandler.bind(this), this._unsubscribeMousemove = function () {
              n._target.removeEventListener("mousemove", t)
            }, this._target.addEventListener("mousemove", t),
            Modernizr.mobiletouch && this._mouseMoveHandler(e), i = this._makeCompatEvent(e), this._processEvent(i, this._handler.mouseEnterEvent), this._preventDefaultIfNeeded(e)
        }, e.prototype._resetClickTimeout = function () {
          null !== this._clickTimeoutId && clearTimeout(this._clickTimeoutId), this._clickCount = 0, this._clickTimeoutId = null
        }, e.prototype._mouseMoveHandler = function (e) {
          if (!s || Modernizr.mobiletouch) {
            var t = this._makeCompatEvent(e);
            this._processEvent(t, this._handler.mouseMoveEvent), this._preventDefaultIfNeeded(e)
          }
        }, e.prototype._mouseMoveWithDownHandler = function (e) {
          var t, i, n, o, s, a;
          "button" in e && 0 !== e.button || (t = !1, i = this._makeCompatEvent(e), (n = Modernizr.mobiletouch || e.touches) && (this._verticalTouchScroll && (Math.abs(.5 * (i.pageX - this._lastTouchPosition.x)) <= Math.abs(i.pageY - this._lastTouchPosition.y) ? (t = !0, this._preventDefault = !1) : this._preventDefault = this._originalPreventDefault), this._lastTouchPosition.x = i.pageX, this._lastTouchPosition.y = i.pageY), o = Object(r.ensure)(this._mouseMoveStartPosition), s = Math.abs(o.x - i.pageX), a = Math.abs(o.y - i.pageY), this._moveExceededManhattanDistance = this._moveExceededManhattanDistance || s + a > 5, this._moveExceededManhattanDistance ? (this._cancelClick = !0, n && this._clearLongTapTimeout()) : n && (t = !0), t || this._processEvent(i, this._handler.pressedMouseMoveEvent), this._preventDefaultIfNeeded(e))
        }, e.prototype._mouseUpHandler = function (e) {
          if (!("button" in e && 0 !== e.button)) {
            var t = this._makeCompatEvent(e);
            Modernizr.mobiletouch && this._clearLongTapTimeout(), this._mouseMoveStartPosition = null, s = !1, this._unsubscribeRoot && (this._unsubscribeRoot(), this._unsubscribeRoot = null), (Modernizr.mobiletouch || "touches" in e) && this._mouseLeaveHandler(e), this._processEvent(t, this._handler.mouseUpEvent), ++this._clickCount, this._clickTimeoutId && this._clickCount > 1 ? (this._processEvent(t, this._handler.mouseDoubleClickEvent), this._resetClickTimeout()) : this._cancelClick || this._processEvent(t, this._handler.mouseClickEvent), this._preventDefaultIfNeeded(e), Modernizr.mobiletouch && this._mouseLeaveHandler(e)
          }
        }, e.prototype._clearLongTapTimeout = function () {
          null !== this._longTapTimeoutId && (clearTimeout(this._longTapTimeoutId), this._longTapTimeoutId = null)
        }, e.prototype._mouseDownHandler = function (e) {
          var t, i, n, o;
          if (!("button" in e && 0 !== e.button) && (t = this._makeCompatEvent(e), this._cancelClick = !1, this._moveExceededManhattanDistance = !1, Modernizr.mobiletouch && (this._lastTouchPosition.x = t.pageX, this._lastTouchPosition.y = t.pageY, this._mouseEnterHandler(e)), this._mouseMoveStartPosition = {
              x: t.pageX,
              y: t.pageY
            }, this._unsubscribeRoot && (this._unsubscribeRoot(), this._unsubscribeRoot = null), i = this._mouseMoveWithDownHandler.bind(this), n = this._mouseUpHandler.bind(this), o = this._target.ownerDocument.documentElement, this._unsubscribeRoot = function () {
              o.removeEventListener("touchmove", i), o.removeEventListener("touchend", n), o.removeEventListener("mousemove", i), o.removeEventListener("mouseup", n)
            }, o.addEventListener("touchmove", i), o.addEventListener("touchend", n), Modernizr.mobiletouch ? (this._clearLongTapTimeout(),
              this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, e), 240)) : (o.addEventListener("mousemove", i), o.addEventListener("mouseup", n)), s = !0, this._processEvent(t, this._handler.mouseDownEvent), this._clickTimeoutId || (this._clickCount = 0, this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), 500)), this._preventDefaultIfNeeded(e), this._preventDefault)) try {
            window.focus()
          } catch (e) {}
        }, e.prototype._init = function () {
          var e, t, i = this;
          this._target.addEventListener("mouseenter", this._mouseEnterHandler.bind(this)), this._target.addEventListener("touchcancel", this._clearLongTapTimeout.bind(this)), e = this._target.ownerDocument, t = function (e) {
            i._handler.mouseDownOutsideEvent && (e.target && i._target.contains(e.target) || i._handler.mouseDownOutsideEvent())
          }, this._unsubscribeOutsideEvents = function () {
            e.removeEventListener("mousedown", t), e.removeEventListener("touchstart", t)
          }, e.addEventListener("mousedown", t), e.addEventListener("touchstart", t), this._target.addEventListener("mouseleave", this._mouseLeaveHandler.bind(this)), this._target.addEventListener("contextmenu", this._longTapHandler.bind(this)), this._target.addEventListener("touchstart", this._mouseDownHandler.bind(this)), Modernizr.mobiletouch || this._target.addEventListener("mousedown", this._mouseDownHandler.bind(this)), Modernizr.touch && this._initGestureEvents()
        }, e.prototype._mouseLeaveHandler = function (e) {
          this._unsubscribeMousemove && this._unsubscribeMousemove();
          var t = this._makeCompatEvent(e);
          this._processEvent(t, this._handler.mouseLeaveEvent), this._preventDefaultIfNeeded(e)
        }, e.prototype._longTapHandler = function (e) {
          var t = this._makeCompatEvent(e);
          this._processEvent(t, this._handler.longTapEvent), this._processEvent(t, this._handler.contextMenuEvent), this._preventDefaultIfNeeded(e), this._cancelClick = !0
        }, e.prototype._processEvent = function (e, t) {
          t && t.call(this._handler, e)
        }, e.prototype._preventDefaultIfNeeded = function (e) {
          this._preventDefault && e.preventDefault()
        }, e.prototype._initGestureEvents = function () {
          var e = this,
            t = [this._handler.gestureStartEvent, this._handler.gestureChangeEvent, this._handler.gestureEndEvent];
          t.some(Boolean) && (new o.HammerJSLoader).load().then(function (t) {
            e._isDestroyed || (e._hammerManager = new t(e._target), e._hammerManager.get("pinch").set({
              enable: !0
            }), e._hammerManager.on("pinchstart", function (t) {
              e._handler.gestureStartEvent && e._handler.gestureStartEvent(t), e._clearLongTapTimeout()
            }), e._hammerManager.on("pinchmove", function (t) {
              e._handler.gestureChangeEvent && e._handler.gestureChangeEvent(t)
            }), e._hammerManager.on("pinchend pinchcancel", function (t) {
              e._handler.gestureEndEvent && e._handler.gestureEndEvent(t)
            }))
          })
        }, e.prototype._makeCompatEvent = function (e) {
          var t, i;
          return t = "touches" in e && e.touches.length ? e.touches[0] : "changedTouches" in e && e.changedTouches.length ? e.changedTouches[0] : e, i = this._target.getBoundingClientRect() || {
            left: 0,
            top: 0
          }, {
            clientX: t.clientX,
            clientY: t.clientY,
            pageX: t.pageX,
            pageY: t.pageY,
            screenX: t.screenX,
            screenY: t.screenY,
            localX: t.clientX - i.left,
            localY: t.clientY - i.top,
            ctrlKey: e.ctrlKey,
            altKey: e.altKey,
            shiftKey: e.shiftKey,
            metaKey: e.metaKey,
            target: t.target,
            view: e.view,
            preventDefault: function () {
              e.preventDefault()
            }
          }
        }, e
      }()
    },
    SKqm: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e) {
          this._charWidgetCollection = e.getChartWidgetCollection(), this._chartWidget = this._charWidgetCollection && this._charWidgetCollection.activeChartWidget && this._charWidgetCollection.activeChartWidget.value() || null, this._views = [], this._headerBinding = [], this._boxesBinding = [], this.$container = $('<div class="chart-data-window"></div>').appendTo(e.$body), this._scroll = new p(e.$body, this.$container), this.visible = e.visible.value(), this._updateChartWidget(), this._updateSource(), this._upadateLayout(), this._charWidgetCollection.activeChartWidget.subscribe(this.fullUpdate.bind(this)), e.visible.subscribe(this._onVisibilityChange.bind(this)), this._charWidgetCollection.selectedSources.subscribe(function (e) {
            var t = e[0];
            t && this.updateHighlight({
              source: t,
              updateScroll: !0
            })
          }.bind(this)), e.setTitle($.t("Data Window"))
        }
        var o = i("eJTA"),
          r = o.parseRgb,
          s = o.rgbToGrayscale,
          a = i("YmeR").ActionBinder,
          l = i("cXAR").SeriesDataWindowView,
          c = i("JjUe").OverlayDataWindowView,
          u = i("it7y").StudyDataWindowView,
          h = i("7KDR").Action,
          d = i("5VQP").ContextMenuManager,
          p = i("sFgq").SidebarCustomScroll;
        n.prototype._updateChartWidget = function () {
          var e = this._chartWidget,
            t = this._charWidgetCollection.activeChartWidget.value();
          e && e.removeDataWindowWidget(), t && (this._chartWidget = t, t.setDataWindowWidget(this))
        }, n.prototype._updateSource = function () {
          var e, t, i, n;
          if (this.visible && (this._views = [], e = this._chartWidget && this._chartWidget.model()))
            for (t = e.model().dataSources(), i = 0; i < t.length; i++)(n = t[i].dataWindowView()) && this._views.push(n)
        }, n.prototype._upadateLayout = function () {
          var e, t, i, n = this;
          if (this.visible) {
            for (this.$container.empty(), this._headerBinding = [], i = this._boxesBinding.length - 1; i >= 0; i--)(e = this._boxesBinding[i]).src.properties().visible.unsubscribe(n, e.visibilityHandler);
            for (this._boxesBinding = [], i = 0; i < this._views.length; ++i)(t = this._views[i]).items().length && t.header() && n._bindView(t);
            this.updateHighlight(), this.updateValues(), this._scroll.resize()
          }
        }, n.prototype._bindView = function (e) {
          function t(e) {
            return e ? $.t("Hide data") : $.t("Show data")
          }

          function n(e) {
            r.toggleClass("hidden", !e.value()).find(".toggle-source-icon").attr("title", t(e))
          }
          var o, r, s, a = this;
          if (e instanceof l) o = e._series;
          else {
            if (!(e instanceof u || e instanceof c)) return;
            o = e._study
          }
          s = (r = $('<div class="box"><div class="chart-data-window-header"><span class="text"></span><div class="hover-source-icon"></div></div><div class="chart-data-window-body"></div></div>').appendTo(a.$container).addClass("with-actions").toggleClass("hidden", !o.properties().visible.value()).on("click", function (e) {
            e.preventDefault(), a.setSelectedSource(o)
          }).on("contextmenu", function (e) {
            e.preventDefault(), a._chartWidget.readOnly() || a.showContextMenuForSource(o, e)
          })).find(".chart-data-window-header").on("dblclick", function () {
            a._chartWidget.showChartPropertiesForSource(o)
          }).append($('<div class="toggle-source-icon">').html(i("Wh/o")).attr("title", t(o.properties().visible.value())).on("click", function (e) {
            e.stopPropagation();
            var t = o.properties().visible.value();
            a._chartWidget.model().setProperty(o.properties().visible, !t, (t ? $.t("Hide") : $.t("Show")) + " " + o.title())
          })), o.properties().visible.subscribe(a, n), a._headerBinding.push({
            value: e,
            $el: s.find(".text")
          }), a._boxesBinding.push({
            view: e,
            src: o,
            $el: r,
            $body: r.find(".chart-data-window-body"),
            visibilityHandler: n
          })
        }, n.prototype.update = function () {
          this.visible && (this.updateHighlight(), this.updateValues())
        }, n.prototype.updateHighlight = function (e) {
          var t, i, n, o, r, s, a, l = this,
            c = (e || {}).source,
            u = !!(e || {}).updateScroll;
          if (l.visible && l._chartWidget && l._chartWidget.model()) {
            for (t = l._chartWidget.model().hoveredSource(), i = c || l._charWidgetCollection.selectedSources.value()[0], o = 0; o < l._boxesBinding.length; ++o) r = l._boxesBinding[o].src, s = l._boxesBinding[o].$el, r && (a = !(!i || r !== i), l._boxesBinding[o].$el.toggleClass("hover", !(!t || r !== t)).toggleClass("active", a), a && (n = s));
            n && u && l._scroll.scrollTo(n)
          }
        }, n.prototype.updateValues = function () {
          function e(e) {
            return e.visible()
          }

          function i(e) {
            return {
              value: e.value(),
              title: TradingView.clean(e.title(), !0),
              color: e.color(),
              showColorInBox: r._showColorInBox(e.color())
            }
          }
          var n, o, r = this;
          if (this.visible) {
            for (o = 0; o < this._boxesBinding.length; ++o)(n = this._boxesBinding[o]).$body.html(t.render('{{# items }}<div class="chart-data-window-item"><div class="chart-data-window-item-title">{{ title }}</div><div class="chart-data-window-item-value">{{# showColorInBox }}<div class="real-color" title="' + $.t("Color line") + '" style="background-color:{{ color }}"></div>{{ value }}{{/ showColorInBox }}{{^ showColorInBox }}<span style="color:{{ color }}">{{ value }}</span>{{/ showColorInBox }}</div></div>{{/ items }}', {
              items: $.map(n.view.items().filter(e), i)
            }));
            for (o = 0; o < this._headerBinding.length; o++) this._headerBinding[o].$el.html(this._headerBinding[o].value.header()).attr("title", this._headerBinding[o].value.title())
          }
        }, n.prototype.fullUpdate = function () {
          this._updateChartWidget(), this._updateSource(), this._upadateLayout()
        }, n.prototype._onVisibilityChange = function (e) {
          this.visible = !!e, e && this.fullUpdate()
        }, n.prototype._showColorInBox = function (e) {
          var t = 20,
            i = 255;
          return !!(e && i - s(r(e)) < t)
        }, n.prototype.setSelectedSource = function (e) {
          this._chartWidget.model().selectionMacro(function (t) {
            t.addSourceToSelection(e)
          })
        }, n.prototype.showContextMenuForSource = function (e, t) {
          e.hasContextMenu() && (this.setSelectedSource(e), e.constructor === TradingView.Series ? this._seriesContextMenu(e).then(function (e) {
            e.show(t)
          }) : TradingView.isInherited(e.constructor, TradingView.Study) && this._studyContextMenu(e).then(function (e) {
            e.show(t)
          }))
        }, n.prototype._seriesContextMenu = function (e, t) {
          var i = this,
            n = i._chartWidget.actions(),
            o = e.properties().visible.value(),
            r = [n.format, o ? n.seriesHide : i.createActionShow(e)];
          return e !== i._chartWidget.model().mainSeries() && r.push(n.seriesRemove), d.createMenu(r)
        }, n.prototype._studyContextMenu = function (e, t) {
          var i = this,
            n = i._chartWidget.actions(),
            o = e.properties().visible.value();
          return d.createMenu([n.format, o ? n.studyHide : i.createActionShow(e), n.studyRemove])
        }, n.prototype.createActionShow = function (e) {
          var t = new h({
            label: window.t("Show"),
            icon: i("6ctS"),
            checkable: !0
          });
          return t._binding = new a(t, e.properties().visible, this._chartWidget.model(), t.getLabel()), t._binding.setValue(e.properties().visible.value()), t
        }, e.exports = n
      }).call(this, i("OiQe"))
    },
    SNmj: function (e, t, i) {
      "use strict";
      var n = i("FBuY").TVXWindowEvents,
        o = i("+h+m").protectedFetch,
        r = function () {
          function e() {
            l = TVSettings.getJSON(h, []), c = TVSettings.getJSON(d, {})
          }

          function t() {
            l && (TVSettings.setJSON(h, l), TVSettings.setJSON(d, c))
          }

          function i(t) {
            l || e();
            var i = "Script$" + t + "@tv-scripting";
            return -1 !== l.indexOf(i)
          }

          function s() {
            e(), a()
          }

          function a() {
            $(".pubscript-button").each(function () {
              var e = this,
                t = $(e).data("script-id-part");
              t && function (e, t) {
                var i = $(e),
                  n = i.hasClass("active");
                t = 1 in arguments ? !!t : !n;
                if (t === n) return;
                i.toggleClass("active", t)
              }(e, !!i(t))
            })
          }
          var l = null,
            c = {},
            u = {},
            h = "studyMarket.favorites",
            d = "studyMarket.favorites.extra",
            p = !1;
          return {
            initButtons: function () {
              p || ($(document.body).on("click", ".pubscript-button", function (s) {
                var u, h;
                s.preventDefault(), (h = (u = $(this)).data("script-id-part")) && (i(h) ? function (i) {
                  var o, r;
                  l || e(), o = "Script$" + i + "@tv-scripting", -1 !== (r = l.indexOf(o)) && (l.splice(r, 1), delete c[o], t(), n.emit("StudyFavoritesChanged", JSON.stringify({
                    favorites: l,
                    favoritesExtra: c
                  })))
                }(h) : function (i, s) {
                  var a;
                  l || e(), a = "Script$" + i + "@tv-scripting", -1 === l.indexOf(a) && (l.push(a), null != s && (c[a] = s), t(), n.emit("StudyFavoritesChanged", JSON.stringify({
                    favorites: l,
                    favoritesExtra: c
                  })), window.is_authenticated && r.info([i]).done(function (e) {
                    var t, i;
                    e && e[0] && e[0].imageUrl && (t = e[0].imageUrl, i = !1, $(".agree").each(function () {
                      var e, n = $(this),
                        o = n.data("image_url");
                      o === t && (e = n.data("controller")) && (e.setAgree(), i = !0)
                    }), i || o("/vote-for-chart/", {
                      image_url: e[0].imageUrl,
                      vote: 1
                    }, "vote"))
                  }))
                }(h, u.data()), a())
              }), n.on("StudyFavoritesChanged", function (e) {
                var t = JSON.parse(e);
                l = t.favorites || t, c = t.favoritesExtra || {}, a()
              }), loginStateChange.subscribe(null, s), p = !0), l || e(), a()
            },
            suggest: function (e) {
              var t = $.ajax({
                url: "/pubscripts-suggest-json/",
                type: "GET",
                data: {
                  search: e
                },
                dataType: "json"
              });
              return t.done(function (e) {
                if (e && e.results)
                  for (var t = 0; t < e.results.length; t++) u[e.results[t].scriptIdPart] = TradingView.clone(e.results[t])
              }), t
            },
            info: function (e) {
              var t, i, n = $.Deferred(),
                o = [],
                r = [];
              for (t = 0; t < e.length; t++) i = e[t], u[i] ? o.push(TradingView.clone(u[i])) : r.push(i);
              return r.length ? ($.ajax({
                url: "/pubscripts-get/",
                type: "POST",
                data: {
                  scriptIdPart: r.join(",")
                },
                dataType: "json"
              }).done(function (e) {
                var t, i;
                for (t in e = e || []) i = e[t], u[i.scriptIdPart] = TradingView.clone(i), o.push(i);
                n.resolve(o)
              }).fail(function () {
                n.reject()
              }), n) : n.resolve(o).promise()
            },
            invalidateCache: function (e) {
              e.forEach(function (e) {
                delete u[e]
              })
            },
            cleanCache: function () {
              u = []
            }
          }
        }();
      e.exports = r
    },
    SXwY: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.default = function (e, t) {
        var i = function i(n) {
          var o = i.cache,
            r = "" + (t ? t.apply(this, arguments) : n);
          return o.hasOwnProperty(r) || (o[r] = e.apply(this, arguments)), o[r]
        };
        return i.cache = {}, i
      }, e.exports = t.default
    },
    SdZO: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        r.call(this, e, t, i)
      }
      var o = i("Eyy1").assert,
        r = i("Txy0").LineStudyMtp;
      inherit(n, r), n.prototype._mtpStudyId = function () {
        return "mtp_tsanalysis"
      }, n.prototype.pointsCount = function () {
        return 1
      }, n.prototype._studyInputs = function (e) {
        var t, i;
        return o(1 === e.length, "all the line tool points should be defined"), t = e[0].index, null === (i = this._model.mainSeries().bars().valueAt(t)) ? null : {
          displayZoneLabels: this.properties().inputs.displayZoneLabels.value(),
          bar: 1e3 * i[TradingView.TIME_PLOT],
          account_size: this.properties().inputs.account_size.value(),
          percent_risk: this.properties().inputs.percent_risk.value(),
          tickEntryOffset: this.properties().inputs.tickEntryOffset.value(),
          tickStopOffset: this.properties().inputs.tickStopOffset.value(),
          minRRRatio: this.properties().inputs.minRRRatio.value(),
          shouldFilterWPTZones: this.properties().inputs.shouldFilterWPTZones.value(),
          shouldFilterSTFTrends: this.properties().inputs.shouldFilterSTFTrends.value()
        }
      }, e.exports = n
    },
    Si3H: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n;
        e.isTVScriptStubToCompile || (i = s.a.versionOf(e), void 0 === (n = e)._serverMetaInfoVersion && (n._serverMetaInfoVersion = i), c.forEach(function (n) {
          i < 0 || i >= n.targetMetaInfoVersion() || (n.migrateMetaInfo(e), void 0 !== t && n.migratePropState(t), Object(o.assert)(e._metainfoVersion === n.targetMetaInfoVersion()))
        }))
      }
      var o, r, s, a, l, c;
      i.r(t), o = i("Eyy1"), r = i("0YCj"), s = i.n(r), a = i("ogJP"), l = function () {
        function e() {}
        return e.prototype.targetMetaInfoVersion = function () {
          return 47
        }, e.prototype.migrateMetaInfo = function (e) {
          var t, i, n = e,
            o = e;
          o._metainfoVersion = 47, n.defaults && void 0 !== n.defaults.precision ? (t = n.defaults && n.defaults.precision, 0 === (i = Object(a.isNumber)(t) ? t : parseInt(t)) ? o.format = {
            type: "volume"
          } : isFinite(i) ? o.format = {
            type: "price",
            precision: i
          } : o.format = {
            type: "inherit"
          }, delete n.defaults.precision) : o.format = {
            type: "inherit"
          }
        }, e.prototype.migratePropState = function (e) {}, e
      }(), i.d(t, "migrateMetaInfoAndPropState", function () {
        return n
      }), (c = [new l]).sort(function (e, t) {
        return e.targetMetaInfoVersion() - t.targetMetaInfoVersion()
      })
    },
    Ss5c: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e, t) {
          l.call(this), this._linetool = e, this._pointindex = t, this._model = e._model, this._text = "", this._coordinate = 0, this._background = "#5592C9", this._activeBackground = "#0F6DBF", this._borderColor = "#2E84A6", this._color = "white", this._visible = !1, this._invalidated = !0, this._renderer = new c
        }

        function o(t, i) {
          var r, s;
          if (u.call(this), this._model = t, this._properties = i, this._pointAdded = new v, this._pointChanged = new v, this._onTemplateApplying = new v, this._onTemplateApplied = new v, this._paneViews = [], this._points = [], this._fixedPoints = [], this._timePoint = [], this._currentPointsetId = null, this._properties.hasChild("symbol") || this._properties.addChild("symbol", new e(t.mainSeries().symbol())), this._properties.hasChild("interval") || this._properties.addChild("interval", new e(t.mainSeries().interval())), this.calcIsActualSymbol(), this._properties.intervalsVisibilities.listeners().subscribe(this, o.prototype.calcIsActualSymbol), this._properties.listeners().subscribe(this, this.propertiesChanged), this._createPointsProperties(), this.m_priceAxisViews = [],
            this.m_timeAxisViews = [], this.pointsCount() > 0)
            for (r = 0; r < this.pointsCount(); r++) this.m_priceAxisViews.push(this.createPriceAxisView(r)), this.m_timeAxisViews.push(new n(this, r));
          s = this, this._properties.visible.listeners().subscribe(this, function (e) {
            var t = !1 === h.hideAllDrawings().value();
            e.value() ? e.value() && t && y.emit("drawing_event", this._id, "show") : (s._model.selection().isSelected(this) && s._model.selectionMacro(function () {
              s._model.removeSourceFromSelection(s)
            }), t && y.emit("drawing_event", this._id, "hide"))
          }), this.customization = this.customization || {
            forcePriceAxisLabel: !1,
            disableSelection: !1,
            disableErasing: !1,
            disableSave: !1,
            showInObjectsTree: !0
          }, this._syncStateExclusions = []
        }
        var r = i("Eyy1").ensureDefined,
          s = i("aO4+").Point,
          a = i("4TVt").LineToolPriceAxisView,
          l = i("cgFQ").TimeAxisView,
          c = i("sWfm").TimeAxisViewRenderer,
          u = i("fgLi").DataSource,
          h = i("mMWL"),
          d = i("LxhU"),
          p = d.Interval,
          f = d.ResolutionKind,
          _ = i("pPtI").getServerInterval,
          m = i("HvwJ"),
          g = i("uOxu").getLogger("Chart.LineDataSource"),
          y = i("FQhm"),
          v = i("aIyQ"),
          S = i("hayr").propertyPages,
          b = i("WkOR").areEqualSymbols,
          w = i("s4+V"),
          P = 10;
        inherit(n, l), n.prototype.setActive = function (e) {
            this._active = e
          }, n.prototype.update = function () {
            this._invalidated = !0
          }, n.prototype.updateImpl = function () {
            var e, t, i;
            this._visible = !1, this._model.timeScale().isEmpty() || (e = this._linetool.axisPoints()).length <= this._pointindex || this._model.selection().isSelected(this._linetool) && (this._text = "", t = e[this._pointindex].index, this._coordinate = this._model.timeScale().indexToCoordinate(t), (i = this._model.timeScale().indexToUserTime(t)) && (this._text = this._model.dateTimeFormatter().format(i)), this._visible = !0, this._invalidated = !1)
          }, n.prototype.renderer = function () {
            this._invalidated && (this.updateImpl(), this._invalidated = !1);
            var e = {
              text: this._text,
              coordinate: this._coordinate,
              color: this._color,
              background: this._active ? this._activeBackground : this._background,
              borderColor: this._borderColor,
              visible: this._visible
            };
            return this._renderer.setData(e), this._renderer
          }, n.prototype.coordinate = function () {
            return this._invalidated && (this.updateImpl(), this._invalidated = !1), this._coordinate
          }, inherit(o, u), o.prototype.pointAdded = function () {
            return this._pointAdded
          }, o.prototype.pointChanged = function () {
            return this._pointChanged
          }, o.PointPriceProperty = function (t, i) {
            e.call(this), this._lineSource = t, this._pointIndex = i, t.pointAdded().subscribe(this, function (e) {
              this._pointIndex === e && this._listeners.fire(this)
            }), t.pointChanged().subscribe(this, function (e) {
              this._pointIndex === e && this._listeners.fire(this)
            })
          }, inherit(o.PointPriceProperty, e), o.PointPriceProperty.prototype.value = function () {
            var e = this._lineSource.points()[this._pointIndex].price,
              t = this._lineSource.ownerSource().formatter(),
              i = t.parse(t.format(e));
            return null != i.price ? i.price : i.value
          }, o.PointPriceProperty.prototype.setValue = function (e) {
            var t = this._lineSource.points()[this._pointIndex];
            t.price = parseFloat(e), this._lineSource.setPoint(this._pointIndex, t), this._lineSource._model.updateSource(this._lineSource), this._listeners.fire(this), this._lineSource.endChanging(!0), this._lineSource._syncMultichartState(),
              this._lineSource._properties.lastUpdateTime.setValue((new Date).valueOf())
          }, o.prototype.enableCurrentIntervalVisibility = function () {
            var e, t, i, n, o, r, s, a = p.parse(this._model.mainSeries().interval());
            a.isSeconds() && (a.multiplier() < 60 ? (this.properties().intervalsVisibilities.seconds.setValue(!0), e = Math.min(this.properties().intervalsVisibilities.secondsFrom.value(), a.multiplier()), this.properties().intervalsVisibilities.secondsFrom.setValue(e), t = Math.max(this.properties().intervalsVisibilities.secondsTo.value(), a.multiplier()), this.properties().intervalsVisibilities.secondsTo.setValue(t)) : a = new p(f.Minutes, a.multiplier() / 60)), a.isMinutes() && (a.multiplier() < 60 ? (this.properties().intervalsVisibilities.minutes.setValue(!0), e = Math.min(this.properties().intervalsVisibilities.minutesFrom.value(), a.multiplier()), this.properties().intervalsVisibilities.minutesFrom.setValue(e), t = Math.max(this.properties().intervalsVisibilities.minutesTo.value(), a.multiplier()), this.properties().intervalsVisibilities.minutesTo.setValue(t)) : (i = Math.floor(a.multiplier() / 60), this.properties().intervalsVisibilities.hours.setValue(!0), n = Math.min(this.properties().intervalsVisibilities.hoursFrom.value(), i), this.properties().intervalsVisibilities.hoursFrom.setValue(n), o = Math.max(this.properties().intervalsVisibilities.hoursTo.value(), i), this.properties().intervalsVisibilities.hoursTo.setValue(o))), a.isDays() && (this.properties().intervalsVisibilities.days.setValue(!0), r = Math.min(this.properties().intervalsVisibilities.daysFrom.value(), a.multiplier()), this.properties().intervalsVisibilities.daysFrom.setValue(r), s = Math.max(this.properties().intervalsVisibilities.daysTo.value(), a.multiplier()), this.properties().intervalsVisibilities.daysTo.setValue(s)), a.isWeeks() && this.properties().intervalsVisibilities.weeks.setValue(!0), a.isMonths() && this.properties().intervalsVisibilities.months.setValue(!0)
          }, o.prototype.getType = function () {
            return TradingView.className(this.constructor)
          }, o.prototype.getConstructor = function () {
            return this._constructor || null
          }, o.prototype.isActualSymbol = function () {
            return this._isActualSymbol
          }, o.prototype.isActualInterval = function () {
            return this._isActualInterval
          }, o.prototype.isSavedInChart = function (e) {
            return !this.customization.disableSave
          }, o.prototype.setSavingInChartEnabled = function (e) {
            this.customization.disableSave = !e
          }, o.prototype.showInObjectTree = function () {
            return this.customization.showInObjectsTree
          }, o.prototype.setShowInObjectsTreeEnabled = function (e) {
            this.customization.showInObjectsTree = e
          }, o.prototype.isSelectionEnabled = function () {
            return !this.customization.disableSelection
          }, o.prototype.setSelectionEnabled = function (e) {
            this.customization.disableSelection = !e
          }, o.prototype.visibilityKeyByInterval = function (e) {
            var t, i = p.parse(e);
            return o.IntervalsVisibilities.forEach(function (e) {
              e.kind === i.kind() && e.from <= i.multiplier() && e.to >= i.multiplier() && (t = e.key)
            }), t
          }, o.prototype.calcIsActualSymbol = function () {
            var e, t = this._properties.symbol,
              i = this._model.mainSeries(),
              n = t.value();
            this._isActualSymbol = i.symbolSameAsCurrent(n),
              this._isActualSymbol && (e = i.symbol(), b(n, e) || (g.logWarn('Possible drawing "migrating" detected from "' + n + '" to "' + e + '"'), g.logWarn("Series symbolInfo: " + JSON.stringify(i.symbolInfo())), g.logWarn((new Error).stack)), t.setValue(e)), this.calcIsActualInterval()
          }, o.prototype.calcIsActualInterval = function () {
            var e, t, i, n, o, r, s = this._properties,
              a = this._model.mainSeries(),
              l = p.parse(a.interval()),
              c = s.intervalsVisibilities;
            this._isActualInterval = !1, l.isSeconds() && l.multiplier() < 60 && (e = c.seconds.value(), t = c.secondsFrom.value(), i = c.secondsTo.value(), this._isActualInterval = e && l.multiplier() >= t && l.multiplier() <= i), l.isSeconds() && l.multiplier() >= 60 && (n = Math.floor(l.multiplier() / 60), e = c.minutes.value(), t = c.minutesFrom.value(), i = c.minutesTo.value(), this._isActualInterval = e && n >= t && n <= i), l.isMinutes() && l.multiplier() < 60 && (e = c.minutes.value(), t = c.minutesFrom.value(), i = c.minutesTo.value(), this._isActualInterval = e && l.multiplier() >= t && l.multiplier() <= i), l.isMinutes() && l.multiplier() >= 60 && (o = Math.floor(l.multiplier() / 60), e = c.hours.value(), t = c.hoursFrom.value(), i = c.hoursTo.value(), this._isActualInterval = e && o >= t && o <= i), l.isHours() && (e = c.hours.value(), t = c.hoursFrom.value(), i = c.hoursTo.value(), this._isActualInterval = e && l.multiplier() >= t && l.multiplier() <= i), l.isDays() && (e = c.days.value(), t = c.daysFrom.value(), i = c.daysTo.value(), this._isActualInterval = e && l.multiplier() >= t && l.multiplier() <= i), l.isWeeks() && (this._isActualInterval = c.weeks.value()), l.isMonths() && (this._isActualInterval = c.months.value()), l.isRange() && (this._isActualInterval = c.ranges.value()), !this._isActualInterval && this._model.selection().isSelected(this) && (r = this, this._model.selectionMacro(function () {
              r._model.removeSourceFromSelection(r)
            }))
          }, o.PointIndexProperty = function (t, i) {
            e.call(this), this._lineSource = t, this._pointIndex = i
          }, inherit(o.PointIndexProperty, e), o.PointIndexProperty.prototype.value = function () {
            return this._lineSource.points()[this._pointIndex].index
          }, o.PointIndexProperty.prototype.setValue = function (e) {
            var t = this._lineSource.points()[this._pointIndex];
            t.index = e, this._lineSource.setPoint(this._pointIndex, t), this._lineSource._model.updateSource(this._lineSource), this._listeners.fire(this), this._lineSource.endChanging(!0), this._lineSource._syncMultichartState(), this._lineSource._properties.lastUpdateTime.setValue((new Date).valueOf())
          }, o.prototype._syncMultichartState = function () {
            var e = {
              points: this._timePoint,
              interval: this._model.mainSeries().interval()
            };
            this.linkKey && !this.properties().singleChartOnly && h.finishChangingLineTool({
              model: this._model,
              linkKey: this.linkKey,
              symbol: this._model.mainSeries().symbol(),
              finalState: e
            })
          }, o.prototype._createPointProperty = function (e) {
            var t, i = this._properties.points;
            i.addProperty(e), (t = i[e]).addChild("price", new o.PointPriceProperty(this, e)), t.addChild("bar", new o.PointIndexProperty(this, e))
          }, o.prototype._createPointsProperties = function () {
            this._properties.addProperty("points");
            for (var e = 0; e < this.pointsCount(); e++) this._createPointProperty(e)
          }, o.prototype.priceScale = function () {
            return this._ownerSource ? this._ownerSource.m_priceScale : null
          },
          o.prototype.symbol = function () {
            return this._properties.symbol.value()
          }, o.prototype.properties = function () {
            return this._properties
          }, o.prototype.isSavedInStudyTemplates = function () {
            return !1
          }, o.prototype.state = function (e) {
            var t = TradingView.className(this.constructor),
              i = {
                type: t,
                id: this.id(),
                state: this.properties().state(),
                points: this._timePoint,
                zorder: this.zorder(),
                linkKey: this.linkKey
              };
            return delete i.state.points, e && (i.indexes = this._points), this.ownerSource() && (i.ownerSource = this.ownerSource().id()), this.isFixed() && (i.positionPercents = this._positionPercents || this.calcPositionPercents()), "version" in this && 1 !== this.version && (i.version = this.version), this.hasAlert.value() && (i.alertId = this._alertId), i
          }, o.prototype.template = function () {
            return this.properties().preferences()
          }, o.prototype.applyTemplate = function (e) {
            this._onTemplateApplying.fire(e), this._applyTemplateImpl(e), this.calcIsActualSymbol(), this.updateAllViews(), this.model().invalidate(new m(m.LIGHT_UPDATE)), this._onTemplateApplied.fire()
          }, o.prototype._applyTemplateImpl = function (e) {
            var t = this.properties();
            t.mergePreferences(e), t.saveDefaults(), this.propertiesChanged()
          }, o.prototype.clearData = function () {
            this._points = []
          }, o.prototype.currentPointsetId = function () {
            return "pointset_" + this._currentPointsetId
          }, o.prototype.stop = function () {
            this.clearServerPoints(), this.hasAlert.value() && TradingView.alertsDispatcher && TradingView.alertsDispatcher.deleteAlert(this._alertId)
          }, o.prototype.isStarted = function () {
            return null !== this._currentPointsetId
          }, o.prototype.restart = function () {
            this.isFixed() || (this._currentPointsetId = null, this.createServerPoints())
          }, o.prototype.tryCreateServerPoints = function () {
            this.isFixed() || null === this._currentPointsetId && this.createServerPoints()
          }, o.prototype.normalizePoint = function (e) {
            var t = this._model.timeScale().normalizeBarIndex(e.index);
            return t.price = e.price, t
          }, o.prototype.normalizePoints = function () {
            var e, t;
            for (this._timePoint = [], e = 0; e < this._points.length; e++) {
              if (!(t = this._model.timeScale().normalizeBarIndex(this._points[e].index)).time_t) {
                this._timePoint = [];
                break
              }
              t.price = this._points[e].price, this._timePoint.push(t)
            }
          }, o.prototype.denormalizeTimePoints = function () {
            var e, t, i = [];
            for (e = 0; e < this._timePoint.length; e++) {
              if (void 0 === (t = this._model.timeScale().denormalizeTimePoint(this._timePoint[e]))) {
                i = [];
                break
              }
              i.push({
                index: t,
                price: this._timePoint[e].price
              })
            }
            i.length > 0 && (this._points = i)
          }, o.prototype.restorePoints = function (e, t, i) {
            this._timePoint = e, this._points = t, i || this.denormalizeTimePoints()
          }, o.prototype.restoreExternalPoints = function (e) {
            this.properties().interval.setValue(e.interval), this._timePoint = e.points, this.denormalizeTimePoints(), this.isActualSymbol() ? this.createServerPoints() : this.clearServerPoints()
          }, o.prototype.restorePositionPercents = function (e) {
            this._positionPercents = e
          }, o.prototype.updateAllViewsAndRedraw = function () {
            this.updateAllViews(), this._model.updateSource(this)
          }, o.prototype.propertiesChanged = function () {
            if (this.calcIsActualInterval(), this.updateAllViewsAndRedraw(), this.linkKey) {
              var e = this.properties().state(this._syncStateExclusions);
              delete e.interval, h.changeLineStyle({
                linkKey: this.linkKey,
                state: e,
                model: this._model
              })
            }
          }, o.prototype.points = function () {
            var e, t, i = [];
            for (e = 0; e < this._points.length; e++) t = this._points[e], i.push({
              index: t.index,
              price: t.price,
              time: t.time
            });
            return this._lastPoint && i.push({
              index: this._lastPoint.index,
              price: this._lastPoint.price,
              time: this._lastPoint.time
            }), this._currentMovingPoint && this._startMovingPoint && this.correctPoints(i), i
          }, o.prototype.normalizedPoints = function () {
            return this._timePoint
          }, o.prototype.axisPoints = function () {
            return this.points()
          }, o.prototype.fixedPoints = function () {
            var e, t, i, n, o = [];
            if (this._positionPercents && !this.priceScale().isEmpty())
              for (e = 0; e < this._positionPercents.length; e++) t = this._positionPercents[e], i = this._model.timeScale().width() * t.x, n = this.priceScale().height() * t.y, o.push(new s(i, n));
            else
              for (e = 0; e < this._fixedPoints.length; e++) o.push(this._fixedPoints[e].clone());
            return this._lastPoint && o.push(this._lastPoint.clone()), this._currentMovingPoint && this._startMovingPoint && this.correctFixedPoints(o), o
          }, o.prototype._preparePoint = function (e, t) {
            var i = e;
            return t && t.shift() && this.points().length >= 2 && this._properties.snapTo45Degrees && this._snapPoint45Degree(i, this.points()[this.points().length - 2]), i
          }, o.prototype.addPoint = function (e, t, i) {
            var n = this._preparePoint(e, t);
            return this._addPointIntenal(n, t, i)
          }, o.prototype._addPointIntenal = function (e, t, i) {
            this._points.push(e);
            var n = this._points.length === this.pointsCount();
            return n ? (this._lastPoint = null, i || (this.normalizePoints(), this.createServerPoints())) : this._lastPoint = e, this._pointAdded.fire(this._points.length - 1), n
          }, o.prototype.addFixedPoint = function (e) {
            this._fixedPoints.push(e);
            var t = this._fixedPoints.length === this.pointsCount();
            return t && this.calcPositionPercents(), t
          }, o.prototype.calcPositionPercents = function () {
            var e, t, i, n;
            if (!this.priceScale() || this.priceScale().isEmpty()) return [];
            for (this._positionPercents = [], e = 0; e < this._fixedPoints.length; e++) i = (t = this._fixedPoints[0]).x / this._model.timeScale().width(), n = t.y / this.priceScale().height(), this._positionPercents.push({
              x: i,
              y: n
            });
            return this._positionPercents
          }, o.prototype.calcMiddlePoint = function (e, t) {
            return new s((e.x + t.x) / 2, (e.y + t.y) / 2)
          }, o.prototype.getPointByPosition = function (e, t, i, n) {
            return [t, i, n][e]
          }, o.prototype.restoreFixedPoints = function () {
            this._fixedPoints = this.fixedPoints()
          }, o.prototype.onData = function (e) {
            e.params.customId === this.currentPointsetId() && this._onPointsetUpdated(e.params.plots)
          }, o.prototype._onPointsetUpdated = function (e) {
            var t, i, n, o;
            if (0 !== e.length) {
              for (t = 0; t < e.length; t++) i = e[t], n = this._timePoint[i.index], o = {
                index: i.value[0],
                time: new Date(1e3 * i.value[1]),
                price: n.price
              }, this._points.length <= i.index ? (this._points.push(o), this._pointAdded.fire(this._points.length - 1)) : (this._points[i.index] = o, this._pointChanged.fire(i.index));
              this.checkAlert && this.checkAlert(), this.updateAllViewsAndRedraw()
            }
          }, o.prototype.startChanging = function (e, t) {
            e < this.m_priceAxisViews.length && this.m_priceAxisViews[e].setActive(!0), e < this.m_timeAxisViews.length && this.m_timeAxisViews[e].setActive(!0),
              this._properties.lastUpdateTime.setValue((new Date).valueOf())
          }, o.prototype.setPoint = function (e, t, i) {
            if (i && i.shift() && this._properties.snapTo45Degrees) {
              var n = 0 === e ? 1 : e - 1;
              this._snapPoint45Degree(t, this.points()[n])
            }
            this._points[e] = t, this._pointChanged.fire(e), this.normalizePoints()
          }, o.prototype.startMoving = function (e, t, i) {
            this.isFixed() && this.restoreFixedPoints(), this._startMovingPoint = this.isFixed() ? e.screen : e.logical, this._properties.lastUpdateTime.setValue((new Date).valueOf())
          }, o.prototype.move = function (e, t, i) {
            var n;
            n = i && (i.shiftOnly() || i.controlShift()) ? this.isFixed() ? this._alignScreenPointHorizontallyOrVertically(e.screen) : this._alignPointHorizontallyOrVertically(e.logical) : this.isFixed() ? e.screen : e.logical, this._currentMovingPoint = n, this.updateAllViews()
          }, o.prototype._alignPointHorizontallyOrVertically = function (e) {
            var t = this.pointToScreenPoint(e)[1],
              i = this.pointToScreenPoint(this._startMovingPoint)[1],
              n = Math.abs(i.x - t.x),
              o = Math.abs(i.y - t.y),
              r = n < P && o < P;
            return r ? e : {
              index: n < o ? this._startMovingPoint.index : e.index,
              price: n < o ? e.price : this._startMovingPoint.price
            }
          }, o.prototype._alignScreenPointHorizontallyOrVertically = function (e) {
            var t = Math.abs(this._startMovingPoint.x - e.x),
              i = Math.abs(this._startMovingPoint.y - e.y),
              n = t < P && i < P;
            return n ? e : t < i ? new s(this._startMovingPoint.x, e.y) : new s(e.x, this._startMovingPoint.y)
          }, o.prototype.startMovingPoint = function () {
            return this._startMovingPoint ? TradingView.clone(this._startMovingPoint) : null
          }, o.prototype.currentMovingPoint = function () {
            return this._currentMovingPoint ? TradingView.clone(this._currentMovingPoint) : null
          }, o.prototype.correctPoints = function (e) {
            var t, i, n = this._currentMovingPoint.index - this._startMovingPoint.index,
              o = this._currentMovingPoint.price - this._startMovingPoint.price;
            if (0 === n && 0 === o) return !1;
            for (t = 0; t < e.length; t++)(i = e[t]).index += n, i.price += o, e[t] = i;
            return !0
          }, o.prototype.correctFixedPoints = function (e) {
            var t, i = this._currentMovingPoint.subtract(this._startMovingPoint);
            for (t = 0; t < e.length; t++) e[t] = e[t].add(i)
          }, o.prototype.endMoving = function (e) {
            var t, i, n;
            if (this._properties.interval.setValue(this._model.mainSeries().interval()), t = !1, i = !1, this._currentMovingPoint && this._startMovingPoint) {
              if (t = this._currentMovingPoint.index !== this._startMovingPoint.index, i = this._currentMovingPoint.price !== this._startMovingPoint.price, this.isFixed()) this.correctFixedPoints(this._fixedPoints);
              else if (this.correctPoints(this._points))
                for (y.emit("drawing_event", this._id, "move"), n = 0; n < this._points.length; n++) this._pointChanged.fire(n);
              this._startMovingPoint = null, this._currentMovingPoint = null
            }
            if (this.isFixed()) return this.calcPositionPercents(), void this.updateAllViews();
            this.normalizePoints(), this.updateAllViews(), t && !e && this.createServerPoints(), (i || t) && this.synchronizeAlert(!this._alertUndoMode)
          }, o.prototype.endChanging = function (e, t) {
            var i;
            for (this._properties.interval.setValue(this._model.mainSeries().interval()), t || (this.normalizePoints(), this.createServerPoints()), i = 0; i < this.m_priceAxisViews.length; i++) this.m_priceAxisViews[i].setActive(!1);
            for (i = 0; i < this.m_timeAxisViews.length; i++) this.m_timeAxisViews[i].setActive(!1);
            this.synchronizeAlert(!e)
          }, o.prototype.paneViews = function () {
            var e, t;
            if (this.isSourceHidden()) return null;
            if (1 === this._paneViews.length) return [this._paneViews[0]];
            for (e = [], t = this._paneViews.length - 1; t >= 0; --t) e.push(this._paneViews[t]);
            return e
          }, o.prototype._setPaneViews = function (e) {
            this._paneViews = e, this._model.invalidate(new m(m.LIGHT_UPDATE))
          }, o.prototype.dataWindowView = function () {
            return null
          }, o.prototype.statusView = function () {
            return null
          }, o.prototype.isSourceHidden = function () {
            return !this._properties.visible.value() || h.hideAllDrawings().value() && this.canBeHidden() || !this._isActualInterval || !this._isActualSymbol
          }, o.prototype.priceAxisViews = function (e, t) {
            var i, n, o;
            return t !== this.priceScale() || this.isSourceHidden() ? null : this._model.lineBeingEdited() === this && (i = this._model.linePointBeingEdited()) < this.m_priceAxisViews.length ? (o = (n = this.m_priceAxisViews.slice())[i], n.splice(i, 1), n.push(o), n) : this.m_priceAxisViews
          }, o.prototype.timeAxisViews = function () {
            var e, t, i;
            return this.isSourceHidden() ? null : this._model.lineBeingEdited() === this && (e = this._model.linePointBeingEdited()) < this.m_timeAxisViews.length ? (i = (t = this.m_timeAxisViews.slice())[e], t.splice(e, 1), t.push(i), t) : this.m_timeAxisViews
          }, o.prototype.updateAllViews = function () {
            var e, t, i;
            if (!this._isActualSymbol) return null;
            if (!this._properties.visible.value()) return null;
            if (null !== (e = this.paneViews()))
              for (t = e, i = 0; i < t.length; i++) t[i].update();
            for (t = this.m_priceAxisViews, i = 0; i < t.length; i++) t[i].update();
            for (t = this.m_timeAxisViews, i = 0; i < t.length; i++) t[i].update()
          }, o.prototype.setLastPoint = function (e, t) {
            this._lastPoint = this._preparePoint(e, t), this.updateAllViews()
          }, o.prototype.lastPoint = function () {
            return this._lastPoint
          }, o.prototype.setLastFixedPoint = function (e) {
            this._lastFixedPoint = e, this.updateAllViews()
          }, o.prototype.title = function () {
            return "Line Tool"
          }, o.prototype.name = function () {
            return "Line Tool"
          }, o._pointSetId = 1, o.prototype.start = function () {
            this.createServerPoints()
          }, o.prototype.createServerPoints = function () {
            var e, t, i, n, r, s;
            if (!this._recursiveGuard && this._isActualSymbol && this._model.chartApi().connected() && (this.clearServerPoints(), !this._model.timeScale().isEmpty() && (0 === this._timePoint.length && this.normalizePoints(), 0 !== this._timePoint.length))) {
              for (this._currentPointsetId = ++o._pointSetId, e = this._model.mainSeries().symbolId(), t = [], i = 0; i < this._timePoint.length; i++) n = this._timePoint[i], t.push([n.time_t, n.offset]);
              r = _(this.properties().interval.value()), s = this, this._model.chartApi().createPointset(this.currentPointsetId(), "turnaround", e, r, t, function (e) {
                s.onData(e)
              })
            }
          }, o.prototype.clearServerPoints = function () {
            null !== this._currentPointsetId && (this._model.chartApi().removePointset(this.currentPointsetId()), this._currentPointsetId = null)
          }, o.prototype.isBeingEdited = function () {
            return this === this._model.lineBeingEdited() || this === this._model.sourceBeingMoved
          }, o.prototype.isFixed = function () {
            return !1
          }, o.prototype.isLocked = o.prototype.isFrozen = function () {
            return this.properties().frozen && this.properties().frozen.value()
          }, o.prototype.pointToScreenPoint = function (e) {
            var t, i, n, o, r = this._model.timeScale(),
              a = this.priceScale(),
              l = this.ownerSource().firstValue();
            return !a || a.isEmpty() || r.isEmpty() || null == l ? [new s(0, 0), new s(0, 0)] : (t = r.indexToCoordinate(e.index, !0), i = e.price, n = a.priceToCoordinate(i, l, !0), o = new s(t, n), t = r.indexToCoordinate(e.index, !1), n = a.priceToCoordinate(i, l, !1), [o, new s(t, n)])
          }, o.prototype.screenPointToPoint = function (e) {
            var t = this._model.timeScale(),
              i = this.priceScale(),
              n = t.coordinateToIndex(e.x),
              o = this.ownerSource().firstValue();
            if (null !== o && isFinite(o)) return {
              price: i.coordinateToPrice(e.y, o),
              index: n
            }
          }, o.prototype.tags = function () {
            return [this._constructor]
          }, o.prototype._snapPoint45Degree = function (e, t, i) {
            var n, o, r, s, a, l, c, u = this._model.timeScale(),
              h = u.indexToCoordinate(t.index),
              d = u.indexToCoordinate(e.index) - h,
              p = this.m_priceScale,
              f = t.price,
              _ = e.price,
              m = this.ownerSource().firstValue(),
              g = p.priceToCoordinate(f, m),
              y = p.priceToCoordinate(_, m) - g,
              v = Math.round(Math.atan2(d, y) / Math.PI * 4);
            2 === Math.abs(v) ? i || (e.price = f) : 0 === Math.abs(v) || 4 === Math.abs(v) ? i || (e.index = t.index) : 0 === Math.abs(v) || 4 === Math.abs(v) ? i || (e.index = t.index) : (n = Math.sqrt(d * d + y * y), o = d < 0 ? -1 : 1, r = y < 0 ? -1 : 1, s = Math.max(Math.abs(y), Math.abs(d)), s /= s * Math.sqrt(2) / n, a = Math.round(u.coordinateToIndex(h + s * o)), l = Math.abs(u.indexToCoordinate(a) - h), c = p.coordinateToPrice(g + l * r, m), e.index = a, e.price = c)
          }, o.prototype.createPriceAxisView = function (e) {
            return new a(this, {
              pointIndex: e
            })
          }, o.prototype.version = 1, o.prototype.alertId = function () {
            return this._alertId
          }, o.prototype.setAlert = function (e, t) {
            function i() {
              !t.noChartSave && window.saver && window.saver.saveChartSilently(null, function (e) {
                e && 413 === e.status || w.createGoProDialog({
                  feature: "savedChartsForAlertLimit"
                }).then(function (e) {
                  e.open()
                })
              }, {
                noDefaultOnFail: !0
              })
            }
            var n, o, r = this;
            if (t = t || {}, n = r._model.hoveredSource() === r, o = r._model.selection().isSelected(r), this.canHasAlert() && (r._alertId = parseInt(e), r.hasAlert.setValue(!0), TradingView.alertsDispatcher)) return r.getAlert().done(function (e) {
              r._processAlertHandlers("unsubscribe"), r._processAlertHandlers("subscribe"), e.set("hovered", n), e.set("selected", o), setTimeout(i, 0)
            }).fail(function (e) {
              r._processAlertHandlers("unsubscribe"), "not_exists" === e && r.removeAlert()
            })
          }, o.prototype.removeAlert = function () {
            delete this._alertId, delete this._alert, this.hasAlert.setValue(!1)
          }, o.prototype._processAlertHandlers = function (e) {
            var t, i, n, o = this;
            ("unsubscribe" !== (e = "subscribe" === e ? "subscribe" : "unsubscribe") || o._alertCallbacks) && (i = "subscribe" === e ? "on" : "off", t = o.properties(), n = o._alertCallbacks || {
              remove: o.removeAlert.bind(o),
              hovered: function (e, t) {
                t ? o._model.setHoveredSource(o) : o._model.hoveredSource() === o && o._model.setHoveredSource(null)
              },
              selected: function (e, t) {
                t && o._model.selectionMacro(function () {
                  o._model.addSourceToSelection(o)
                })
              },
              synchronizeSilently: function (e) {
                o.synchronizeAlert(!1)
              }
            }, o._alertCallbacks || (o._alertCallbacks = n), o.getAlert().done(function (r) {
              r && (r[i]("destroy", n.remove), r[i]("change:hovered", n.hovered), r[i]("change:selected", n.selected),
                t.extendLeft && t.extendLeft[e](o, n.synchronizeSilently), t.extendRight && t.extendRight[e](o, n.synchronizeSilently))
            }))
          }, o.prototype.editAlert = function () {
            var e = this;
            e.hasAlert.value() && TradingView.alertsDispatcher.openEditDialog(this.alertId(), {
              error: function (t) {
                "not_exists" === t && e.removeAlert()
              }
            })
          }, o.prototype.getAlert = function (e) {
            var t, i = this;
            return e = e || {}, t = $.Deferred(), TradingView.alertsDispatcher ? TradingView.alertsDispatcher.requestAlert(i._alertId, {
              success: t.resolve.bind(t),
              error: t.reject.bind(t),
              fromCache: e.fromCache
            }) : g.logError("[Alerts] Can't get alert without alerts dispatcher"), t.promise()
          }, o.prototype.synchronizeAlert = function (e) {
            var t = this;
            t.hasAlert.value() && setTimeout(function () {
              function i() {
                t._alertUndoMode = !0, o.undoToCheckpoint(t._undoCheckpointAlert), setTimeout(function () {
                  t._alertUndoMode = !1, t.localAndServerAlersMismatch = !1
                }, 0)
              }
              var n, o = t._getUndoHistory();
              t._undoCheckpointAlert || t._alertUndoMode || (n = o.undoStack().pop(), t._undoCheckpointAlert = o.createUndoCheckpoint(), n && o.undoStack().push(n)), t.getAlert().done(function (n) {
                ! function (e) {
                  var i = e.get("description") !== e.defaultDescription(),
                    n = e.get("extra"),
                    o = n.alertSeries(),
                    r = t._model.mainSeries().stateForAlert();
                  "MainSeries" === o.type && r.actualSymbol === o.actualSymbol && (n.mainSeries(r), n.alertSeries(r)), e.set("resolution", t.stateForAlert().interval), n.drawing(t), i || e.setDefaultDescription(), t.localAndServerAlersMismatch = !0
                }(n), e && function (e) {
                  TradingView.alertsDispatcher.restartAlert(e, {
                    success: function () {
                      t.localAndServerAlersMismatch = !1
                    },
                    error: i,
                    complete: function () {
                      delete t._undoCheckpointAlert
                    }
                  })
                }(n)
              }).fail(i)
            }, 0)
          }, o.prototype._getUndoHistory = function () {
            return this._model._undoModel.undoHistory
          }, o.prototype.stateForAlert = function () {
            var e, t;
            return this.canHasAlert() ? ((e = this.state()).id = this.idForAlert(), e.uniqueId = this.idForAlert(), e.title = this.title(), e.interval = this._model.mainSeries().interval(), (t = this._getAlertPlots()) && (e.plots = t), e) : null
          }, o.prototype._getAlertPlots = function () {
            return null
          }, o.prototype._linePointsToAlertPlot = function (e, t, i, n) {
            if (2 !== e.length) return g.logError("[Drawing Alert] Wrong points"), null;
            var o = this._model.timeScale();
            return !o || o.isEmpty() ? null : {
              type: "LinePlot",
              title: t || this.title(),
              timestamp: o.indexToTimePoint(0),
              offset1: e[0].index,
              offset2: e[1].index,
              price1: e[0].price,
              price2: e[1].price,
              extendBackward: i || !1,
              extendForward: n || !1
            }
          }, o.prototype.getAlertIsActive = function (e) {
            this.getAlert({
              fromCache: !0
            }).done(function (t) {
              e(!!t && t.get("active"))
            }).fail(function () {
              e(!1)
            })
          }, o.prototype.geometry = function () {
            var e = this,
              t = function (t) {
                var i = t.x / e._model.timeScale().width(),
                  n = t.y / e.priceScale().height();
                return new s(i, n)
              },
              i = this.points().map(function (i) {
                var n = e.pointToScreenPoint(i)[0];
                return t(n)
              });
            return i
          }, o.prototype.onlyYMoving = function () {
            return !1
          }, o.prototype.model = function () {
            return this._model
          }, o.prototype.isForcedDrawPriceAxisLabel = function () {
            return this.customization.forcePriceAxisLabel
          }, o.prototype.getInputsPropertyPage = function () {
            return S.LineToolInputsPropertyPage
          }, o.prototype.getVisibilitiesPropertyPage = function () {
            return S.LineToolVisibilitiesPropertyPage
          }, o.prototype.getSourceIcon = function () {
            return {
              type: "loadSvg",
              svgId: "linetool." + this.getType()
            }
          }, o.prototype.destroy = function () {
            this.stop()
          }, o.prototype.setOwnerSource = function (e) {
            u.prototype.setOwnerSource.call(this, e), e && this.setPriceScale(e.priceScale())
          }, o.prototype.getOrderTemplate = function () {
            return null
          }, o._configureProperties = function (t) {
            var i, n, o = defaults("linetool");
            if (t.hasChild("visible") || t.addChild("visible", new e(o.visible)), t.addExclusion && t.addExclusion("visible"), t.hasChild("frozen") || t.addChild("frozen", new e(o.frozen)), t.hasChild("intervalsVisibilities"))
              for (n in i = r(t.child("intervalsVisibilities")), o.intervalsVisibilities) i.hasChild(n) || i.addChild(n, new e(o.intervalsVisibilities[n]));
            else t.addChild("intervalsVisibilities", new e(o.intervalsVisibilities));
            t.addExclusion && (t.addExclusion("symbol"), t.addExclusion("symbolInfo"), t.addExclusion("points"), t.addExclusion("interval")), t.hasChild("lastUpdateTime") || (t.addChild("lastUpdateTime", new e(0)), t.addExclusion && t.addExclusion("lastUpdateTime"))
          }, t.LineToolPriceAxisView = a, t.LineDataSource = o
      }).call(this, i("tc+8"))
    },
    SwaV: function (e, t, i) {
      "use strict";

      function n(e) {
        return h[e] ? h[e] : null
      }
      var o, r, s, a, l, c, u, h;
      i.d(t, "a", function () {
          return s
        }), i.d(t, "b", function () {
          return n
        }), i("HbRj"), o = i("YFKU"),
        function (e) {
          e.DjEod = "dj_eod", e.SpEod = "sp_eod", e.MilIndices = "mil_indices"
        }(s || (s = {})), a = o.t("Data is not available"), l = o.t("As per exchange regulations, S&P and Dow Jones indexes can be shown ONLY to users who are NOT logged in, or who are logged in and have paid for a real-time package. We cannot show them to all registered users. We do not understand this policy, but must follow it regardless. So, if you want to see real-time S&P and delay Dow Jones index data, either log out of your account, or purchase the package through your {user_settings_link}."), c = o.t("Purchase"), u = '<a href="/u/#billing" target="_blank" class="i-no-break">' + o.t("User Settings") + "</a>", (r = {})[s.SpEod] = {
          title: a,
          description: l.format({
            user_settings_link: u
          }),
          actions: [{
            type: "buy",
            text: c,
            handler: function () {
              window.open("/gopro/#markets", "_blank")
            }
          }]
        }, r[s.DjEod] = {
          title: a,
          description: l.format({
            user_settings_link: u
          }),
          actions: [{
            type: "buy",
            text: c,
            handler: function () {
              window.open("/gopro/#markets", "_blank")
            }
          }]
        }, r[s.MilIndices] = {
          title: o.t("FTSE Italia Index Series data is no longer available"),
          description: o.t("Borsa Italiana transferred distribution of this data to FTSE International Limited, as per their announcement on Jan 3, 2019, which means itâ€™s no longer included in the Borsa Italiana exchange subscription. We may add the new data source in the future, and data will be part of a new subscription in that case. We'll notify the community when that happens.")
        }, h = r
    },
    SzKR: function (e, t, i) {},
    T6Of: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "LimitedPrecisionNumericFormatter", function () {
        return o
      }), n = i("ogJP"), o = function () {
        function e(e) {
          void 0 === e && (e = 1), this._precision = e
        }
        return e.prototype.format = function (e) {
          var t, i;
          return Object(n.isNumber)(e) || (e = parseFloat(e)),
            t = e.toFixed(this._precision), i = Math.pow(10, -this._precision), Math.max(parseFloat(t), i) + ""
        }, e.prototype.parse = function (e) {
          var t = parseFloat(e);
          return isNaN(t) ? {
            res: !1
          } : {
            res: !0,
            price: t,
            suggest: this.format(t)
          }
        }, e
      }()
    },
    TAAP: function (e, t, i) {
      "use strict";

      function n(e, t) {
        l.call(this, e), this._isUp = t, this._stepX = Math.round(this.height / 2 * .65) + .5, this._stepY = Math.round(this.height / 2) + .5, this._textCache ? (this._padding = this._stepX / 2, this._shapeWidth = this._textImageWidth + 2 * this._stepX, this._shapeHeight = this._textImageHeight + 2 * this._padding + this._stepY, 0 === this._vertOffset ? this._isUp ? this._textVertOffset = this._stepY + this._padding + this._textImageHeight : this._textVertOffset = -this._stepY - this._padding : this._textVertOffset = this._vertOffset > 0 ? this._stepY + this._padding : -this._stepY - this._padding) : (this._padding = 0, this._shapeWidth = 2 * this._stepX, this._shapeHeight = 2.5 * this._stepY)
      }

      function o(e) {
        n.call(this, e, !0)
      }

      function r(e) {
        n.call(this, e, !1)
      }
      var s = i("aO4+").Point,
        a = i("VdBB").HitTestResult,
        l = i("c0/O").PaneRendererAbstractShape;
      inherit(n, l), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c = !1,
          u = this._isUp ? 1 : -1,
          h = Math.round(this._shapeWidth / 2) - .5,
          d = Math.round(this._shapeHeight) - .5,
          p = 0;
        for (0 !== this._vertOffset && this._vertOffset < 0 === this._isUp && (p = -u * Math.round(d + this._stepY)), i = 0, n = this.items.length; i < n; i++) r = (o = this.items[i]).x + .5, s = o.y + this._vertOffset + p + .5, o.style && null != o.style.color ? (a = o.style.color, l = o.style.borderColor) : (a = this._color, l = this._borderColor), a !== t && (t = a, c && (e.fill(), e.stroke()), e.beginPath(), e.fillStyle = a, e.strokeStyle = l), e.translate(r, s), e.moveTo(0, 0), e.lineTo(this._stepX, this._stepY * u), e.lineTo(h, this._stepY * u), e.lineTo(h, d * u), e.lineTo(-h, d * u), e.lineTo(-h, this._stepY * u), e.lineTo(-this._stepX, this._stepY * u), e.lineTo(0, 0), e.translate(-r, -s), c = !0;
        c && (e.fill(), e.stroke())
      }, n.prototype.hitTest = function (e, t) {
        var i, n, o, r, l, c, u, h, d, p, f, _, m = this._stepY / 2,
          g = this._vertOffset,
          y = this._isUp ? 1 : -1;
        for (i = 0; i < this.items.length; ++i)
          if (n = this.items[i]) {
            if (o = y * m, 0 !== this._vertOffset && this._vertOffset < 0 === this._isUp && (o = -y * (this._shapeHeight + m)), new s(n.x, n.y + g + o).subtract(e).length() <= m) return new a(a.REGULAR);
            if (r = this._shapeWidth / 2, o = 0, 0 !== this._vertOffset && this._vertOffset < 0 === this._isUp && (o = -y * (this._shapeHeight + this._stepY)), l = n.y + g + o, c = this._isUp ? this._stepY : -this._shapeHeight, u = this._isUp ? this._shapeHeight : -this._stepY, h = e.x, d = e.y, p = n.x - r, f = l + c, _ = n.x + r, h > p && h < _ && d > f && d < l + u) return new a(a.REGULAR)
          } return null
      }, inherit(o, n), inherit(r, n), t.PaneRendererLabelBase = TradingView.PaneRendererLabelBase = n, t.PaneRendererLabelUp = TradingView.PaneRendererLabelUp = o, t.PaneRendererLabelDown = TradingView.PaneRendererLabelDown = r
    },
    TBaH: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "LineToolGannFixed", function () {
        return l
      }), n = i("mrSG"), o = i("aO4+"), r = i("Ss5c"), s = i("LAp3"), a = i("hayr"), (l = function (e) {
        function t(n, o) {
          var r = e.call(this, n, o || t.createProperties()) || this;
          return r._constructor = "LineToolGannFixed", Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("wdUH").GannFixedPaneView;
            r._setPaneViews([new t(r, r.model())])
          }.bind(null, i)).catch(void 0), r.properties().reverse.subscribe(r, r._reversePoints), r
        }
        return n.__extends(t, e), t.prototype.pointsCount = function () {
          return 2
        }, t.prototype.title = function () {
          return "Gann Square Fixed"
        }, t.prototype.name = function () {
          return "Gann Square Fixed"
        }, t.prototype.getStylesPropertyPage = function () {
          return a.propertyPages.LineToolGannFixedStylesPropertyPage
        }, t.prototype.axisPoints = function () {
          var e = this.points(),
            t = this.getScreenPoints();
          return e.length < 2 || t.length < 2 ? [] : [e[0], this.screenPointToPoint(t[1])]
        }, t.prototype.getScreenPoints = function () {
          var e, t, i, n, r, s, a, l, c, u, h = this.points();
          return h.length < 2 ? [] : null === (e = this._calcAngle()) ? [] : (t = h[0], i = h[1], n = this.pointToScreenPoint(t)[0], r = this.pointToScreenPoint(i)[0], s = Math.sqrt(Math.pow(n.x - r.x, 2) + Math.pow(n.y - r.y, 2)), c = (l = (a = new o.Point(Math.cos(e), -Math.sin(e))).normalized()).x < 0 ? -1 : 1, u = l.y < 0 ? -1 : 1, [n.addScaled(a, s), n.add(new o.Point(5 * s * c, 5 * s * u))])
        }, t.prototype.levelsCount = function () {
          return this.properties().levels.childCount()
        }, t.prototype.levels = function () {
          var e, t, i = [],
            n = this.properties(),
            o = n.levels.childCount();
          for (e = 0; e < o; e++) t = n.levels[e], i.push({
            index: e,
            visible: t.visible.value(),
            color: t.color.value(),
            width: t.width.value()
          });
          return i
        }, t.prototype.fanLinesCount = function () {
          return this.properties().fanlines.childCount()
        }, t.prototype.fanLines = function () {
          var e, t, i = [],
            n = this.properties(),
            o = n.fanlines.childCount();
          for (e = 0; e < o; e++) t = n.fanlines[e], i.push({
            index: e,
            visible: t.visible.value(),
            x: t.x.value(),
            y: t.y.value(),
            color: t.color.value(),
            width: t.width.value()
          });
          return i
        }, t.prototype.arcsCount = function () {
          return this.properties().arcs.childCount()
        }, t.prototype.arcs = function () {
          var e, t, i = [],
            n = this.properties(),
            o = n.arcs.childCount();
          for (e = 0; e < o; e++) t = n.arcs[e], i.push({
            index: e,
            visible: t.visible.value(),
            x: t.x.value(),
            y: t.y.value(),
            color: t.color.value(),
            width: t.width.value()
          });
          return i
        }, t.prototype.arcsBackgroundTransparency = function () {
          return this.properties().arcsBackground.transparency.value()
        }, t.prototype.isArcsBackgroundFilled = function () {
          return this.properties().arcsBackground.fillBackground.value()
        }, t.createProperties = function (e) {
          var i = Object(s.a)("linetoolgannfixed", e);
          return t._configureProperties(i), i
        }, t._configureProperties = function (e) {
          r.LineDataSource._configureProperties(e)
        }, t.prototype._calcAngle = function () {
          var e, t, i, n, o, r = this.points();
          return r.length < 2 ? null : (e = r[0], t = r[1], i = this.pointToScreenPoint(e)[0], (n = this.pointToScreenPoint(t)[0].subtract(i)).length() <= 0 ? null : (n = n.normalized(), o = Math.acos(n.x), n.y > 0 && (o = -o), o))
        }, t.prototype._reversePoints = function () {
          var e = this._points,
            t = e[0],
            i = e[1];
          this._points[0] = i, this._points[1] = t, this.normalizePoints(), this.restart()
        }, t
      }(r.LineDataSource)).prototype.superclass = r.LineDataSource
    },
    TG9i: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d;
      i.r(t), i.d(t, "HHistDataWindowView", function () {
        return d
      }), n = i("mrSG"), o = i("Eyy1"), r = i("ivNn"), s = i("4miz"), a = i("qFKp"), l = i("e92V"), c = i("mMWL"), u = a.CheckMobile.any(), h = window.t("n/a"), d = function (e) {
        function t(t, i) {
          var n, r, a, l, c, u = e.call(this) || this;
          if (u._invalidated = !0, u._study = t, u._model = i, u._header = u._study.title(), void 0 === (n = u._study.metaInfo().graphics.hhists)) return u;
          for (a in r = 0, n) n.hasOwnProperty(a) && (l = Object(o.ensureDefined)(n[a])).titles.length > r && (r = l.titles.length);
          for (r > 1 && r++, c = 0; c < r; c++) u._items.push(new s.DataWindowItem(u._header, ""));
          return u
        }
        return n.__extends(t, e), t.prototype.items = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._items
        }, t.prototype.update = function () {
          this._invalidated = !0
        }, t.prototype._hideValues = function () {
          return u && (null === this._model.crossHairSource().pane || Object(l.a)(c.tool.value()) || null !== this._model.lineBeingEdited())
        }, t.prototype._setNa = function () {
          var e, t, i, n = this._hideValues(),
            o = this._study.isVisible() && !n ? h : "";
          for (e = 0, t = this._items; e < t.length; e++)("" !== (i = t[e]).value() || n) && i.setValue(o)
        }, t.prototype._updateImpl = function () {
          var e, t, i, n, o, s, a, l, c = this._study.priceScale(),
            u = this._model.timeScale();
          null === c || c.isEmpty() || u.isEmpty() ? this._setNa() : (t = (e = this._model.crossHairSource()).appliedIndex(), i = e.price, n = "histBars", void 0 !== (o = this._study.graphics().hhistsByTimePointIndex().get(n)) && null !== (s = function (e, t, i) {
            var n, o;
            return 0 === e.size ? null : null === (n = function (e, t) {
              var i = null;
              return e.forEach(function (e, n) {
                n <= t && (null === i || n > i) && (i = n)
              }), i
            }(e, t)) ? null : (o = e.get(n)) && 0 !== o.items.length ? function (e, t) {
              var i, n, o;
              for (i = 0, n = e; i < n.length; i++)
                if ((o = n[i]).priceLow <= t && t < o.priceHigh) return o;
              return null
            }(o.items, i) : null
          }(o, t, i)) ? (a = this._study.formatter(), l = this._study.properties().child("graphics").child("hhists").child(s.styleId), this._items.forEach(function (e, t, i) {
            var n, o;
            return t < l.colors.childCount() ? (n = s.rate[t], e.setValue(Object(r.isNumber)(n) ? a.format(n) : ""), void e.setColor(l.colors[t].value())) : s.rate.length > 1 && t === l.colors.childCount() ? (o = s.rate.reduce(function (e, t) {
              return e + t
            }, 0), e.setValue(a.format(o)), void e.setColor(l.valuesColor.value())) : void e.setValue("")
          })) : this._setNa())
        }, t
      }(s.DataWindowView)
    },
    TMWk: function (e, t, i) {
      "use strict";

      function n(e, t, i, n) {
        s.call(this, e, t, i, n), this._underlyingData = new a(l(n))
      }
      var o = i("Eyy1").assert,
        r = i("ogJP").clone,
        s = i("GVHu").Study,
        a = i("k9/m").PlotList,
        l = i("w4Ji").studyPlotFunctionMap;
      inherit(n, s), n.prototype.clearData = function () {
        s.prototype.clearData.call(this), this._underlyingData.clear()
      }, n.prototype._mergeData = function (e) {
        var t, i;
        this._invalidateLastNonEmptyPlotRowCache(), t = this._underlyingData.firstIndex(), this._underlyingData.merge(e), t !== this._underlyingData.firstIndex() && (this.m_data = new a(l(this._metaInfo))), i = this.m_data.lastIndex(), this._underlyingData.range(i, this._underlyingData.lastIndex()).each(function (e, t) {
          return this.m_data.add(e, r(t)), !1
        }.bind(this)), this._plotsForStrategyProcessing().forEach(function (e) {
          this._createStrategy(e.strategy, e.strategyIndex, e.targetIndex, i).rebuildData(this.m_data)
        }, this)
      }, n.prototype._plotsForStrategyProcessing = function () {
        var e = ["dataoffset"],
          t = [];
        return this._metaInfo.plots.forEach(function (i, n) {
          var r, s, a = e.indexOf(i.type) > -1;
          a && (r = null, this._metaInfo.plots.forEach(function (e, t) {
            e.id === i.target && (r = t)
          }), o(r >= 0, "target plot not found for strategy plot " + i.id), s = {
            strategy: i.type,
            strategyIndex: n,
            targetIndex: r
          }, t.push(s))
        }, this), t
      }, n.prototype._createStrategy = function (e, t, i, o) {
        return new n["Strategy_" + e](t, i, o)
      }, n.Strategy_dataoffset = function (e, t, i) {
        this._strategyPlotIndex = e, this._targetPlotIndex = t, this._startIndex = i
      }, n.Strategy_dataoffset.prototype.rebuildData = function (e) {
        var t = this._targetPlotIndex + 1,
          i = this._strategyPlotIndex + 1,
          n = null,
          o = null;
        e.range(this._startIndex || e.firstIndex(), e.lastIndex()).each(function (r, s) {
          var a, l, c, u = s[t],
            h = s[i] ? Math.round(s[i]) : null;
          return s[t] = null, s[i] = null, !(!h || h > 0) && (l = {
            pointIndex: a = r + h,
            value: u
          }, o ? o.pointIndex !== l.pointIndex && (a >= 0 && (e.valueAt(a)[t] = u), c = !1, n && (c = n.value <= o.value && o.value <= u || n.value >= o.value && o.value >= u), c ? o.pointIndex >= 0 && (e.valueAt(o.pointIndex)[t] = null) : n = o, o = l) : o = l, !1)
        })
      }, t.study_ScriptWithDataOffset = n
    },
    TQMj: function (e, t, i) {
      "use strict";

      function n(e) {
        return ("0" + e).slice(-2)
      }
      var o, r, s, a, l, c, u, h, d, p, f, _;
      i.r(t), i.d(t, "SeriesPriceAxisView", function () {
        return _
      }), o = i("mrSG"), r = i("Eyy1"), s = i("LxhU"), a = i("KcY8"), l = i("Kxc7"), c = i("oXaB"), u = i("dfhE"), h = l.enabled("countdown"), d = l.enabled("price_scale_always_last_bar_value"), p = [u.STYLE_BARS, u.STYLE_CANDLES, u.STYLE_LINE, u.STYLE_AREA, u.STYLE_HOLLOW_CANDLES, u.STYLE_HEIKEN_ASHI], f = l.enabled("force_exchange_as_title"), _ = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._source = t, n._data = i, n
        }
        return o.__extends(t, e), t.prototype._getSource = function () {
          return this._source
        }, t.prototype._getData = function () {
          return this._data
        }, t.prototype._isCountdownEnabled = function () {
          return h
        }, t.prototype._countdownText = function () {
          var e, t, i, o, a, l, c, u, h;
          return this._source.isDWM() ? "" : (e = 1e3 * Object(r.ensure)(Object(r.ensureNotNull)(this._source.data().bars().last()).value[0]), t = 1e3 * this._source.serverTimeOffset(), i = s.Interval.parse(this._source.interval()).inMilliseconds(), o = e.valueOf() + i, a = (new Date).valueOf() + t, (l = Math.round((o - a) / 1e3)) <= 0 ? "" : (c = null, (l = Math.min(l, i / 1e3)) >= 3600 && (c = n(Math.floor(l / 3600))), l %= 3600, u = n(Math.floor(l / 60)), l %= 60, h = n(Math.floor(l)), null !== c ? c + ":" + u + ":" + h : u + ":" + h))
        }, t.prototype._updateRendererData = function (e, t, i) {
          var n, o, r, s, a, l, f, _, m, g, y, v;
          e.visible = !1, t.visible = !1, (n = this._source.properties()).style.value() !== u.STYLE_HILO && (r = (o = this._data.model.properties().scalesProperties).showSeriesLastValue.value(), s = h && -1 !== p.indexOf(n.style.value()) && n.showCountdown.value(), a = o.showSymbolLabels.value(), l = o.seriesLastValueMode.value() === c.PriceAxisLastValueMode.LastPriceAndPercentageValue, (f = this._source.lastValueData(void 0, d)).noData || (_ = n.style.value() === u.STYLE_HEIKEN_ASHI, (r || s || a) && _ && n.haStyle.showRealLastPrice.value() && (m = this._source.lastValueData(void 0, !1), g = this._source.lastValueData(void 0, !0), m.noData || g.noData || m.index !== g.index || (r = !1, s = !1, a = !1)), (r || s) && (y = this._axisFirstLineText(f, r, l), v = s ? this._countdownText() : "", 0 === y.length ? (e.text = v, e.secondLine = "") : (e.text = y, e.secondLine = v), 0 === y.length && 0 === v.length || (e.visible = !0)), (a || l) && (t.text = this._paneText(f, r, a, l),
            t.visible = t.text.length > 0), i.background = this._source.priceLineColor(f.color), i.color = this.generateTextColor(i.background), i.coordinate = f.coordinate, i.floatCoordinate = f.floatCoordinate))
        }, t.prototype._paneText = function (e, t, i, n) {
          var o, r = "";
          return f ? r += (o = this._source.symbolInfo()) ? o.exchange + " " : "" : i && (r += this._source.firstShortName() + " "), t && n && (r += this._source.priceScale().isPercentage() ? e.formattedPriceAbsolute : e.formattedPricePercentage), r.trim()
        }, t.prototype._axisFirstLineText = function (e, t, i) {
          return t ? i ? this._source.priceScale().isPercentage() ? e.formattedPricePercentage : e.formattedPriceAbsolute : e.text : ""
        }, t
      }(a.a)
    },
    TYzu: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 15" width="14" height="15"><path fill="none" stroke="currentcolor" stroke-linejoin="round" d="m.5 14.5a5 5 0 0 1 5-5h3a5 5 0 0 1 5 5zm6.5-7a1 1 0 0 1 0-7 1 1 0 0 1 0 7z"/></svg>'
    },
    TcSq: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = e.indexOf("$"),
          i = e.indexOf("@");
        return t < 0 && i >= 0 ? null : e.substring(Math.max(t + 1, 0), i >= 0 ? i : e.length)
      }
      i.r(t), i.d(t, "extractPineId", function () {
        return n
      })
    },
    TmNs: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "PriceLineAxisView", function () {
        return s
      }), i.d(t, "SeriesPriceLineAxisView", function () {
        return a
      }), i.d(t, "StudyPriceLineAxisView", function () {
        return l
      }), n = i("mrSG"), o = i("KcY8"), r = i("HL4j"), s = function (e) {
        function t() {
          return e.call(this, r.PriceLineAxisRenderer) || this
        }
        return n.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          if (t.visible = !1, e.visible = !1, this._isVisible()) {
            var n = this._value();
            n.noData || (i.background = "", i.color = this._priceLineColor(n.color), i.coordinate = n.coordinate, i.floatCoordinate = n.floatCoordinate, e.linewidth = this._lineWidth(), e.visible = !0)
          }
        }, t
      }(o.a), a = function (e) {
        function t(t) {
          var i = e.call(this) || this;
          return i._series = t, i
        }
        return n.__extends(t, e), t.prototype._value = function () {
          return this._series.lastValueData(void 0, !0)
        }, t.prototype._priceLineColor = function (e) {
          return this._series.priceLineColor(e)
        }, t.prototype._lineWidth = function () {
          return this._series.properties().priceLineWidth.value()
        }, t.prototype._isVisible = function () {
          var e = this._series.model().properties().scalesProperties,
            t = e.showSeriesLastValue.value();
          return this._series.properties().showPriceLine.value() && t
        }, t
      }(s), l = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._study = t, n._plotname = i, n
        }
        return n.__extends(t, e), t.prototype._value = function () {
          return this._study.lastValueData(this._plotname, !0)
        }, t.prototype._lineWidth = function () {
          return this._study.properties().styles[this._plotname].linewidth.value()
        }, t.prototype._priceLineColor = function (e) {
          return e
        }, t.prototype._isVisible = function () {
          var e = this._study.model().properties().scalesProperties,
            t = e.showStudyLastValue.value();
          return this._study.properties().styles[this._plotname].trackPrice.value() && t
        }, t
      }(s)
    },
    Tmoa: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        var n, o, s, a, u;
        return t = t || 0, l(e) ? (o = (n = Object(c.parseRgb)(e))[0], s = n[1], a = n[2], u = Object(c.normalizeAlphaComponent)(r(t)),
          Object(c.rgbaToString)([o, s, a, u])) : i ? Object(c.rgbaToString)(Object(c.rgba)(Object(c.parseRgb)(e), Object(c.normalizeAlphaComponent)(r(t)))) : e
      }

      function o(e) {
        return 100 * (1 - e)
      }

      function r(e) {
        if (e < 0 || e > 100) throw new Error("invalid transparency");
        return 1 - e / 100
      }

      function s(e) {
        return l(e) ? e : Object(c.rgbaToString)(Object(c.rgba)(Object(c.parseRgb)(e), Object(c.normalizeAlphaComponent)(1)))
      }

      function a(e) {
        var t = Object(c.parseRgb)(e).map(function (e) {
          return (e /= 255) <= .03928 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4)
        });
        return Number((.2126 * t[0] + .7152 * t[1] + .0722 * t[2]).toFixed(3))
      }

      function l(e) {
        return 0 === e.indexOf("#")
      }
      var c;
      i.r(t), i.d(t, "generateColor", function () {
        return n
      }), i.d(t, "alphaToTransparency", function () {
        return o
      }), i.d(t, "transparencyToAlpha", function () {
        return r
      }), i.d(t, "resetTransparency", function () {
        return s
      }), i.d(t, "getLuminance", function () {
        return a
      }), i.d(t, "isHexColor", function () {
        return l
      }), c = i("eJTA")
    },
    TohL: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var o = t || n.createProperties();
        l.call(this, e, o), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (t) {
          var n = i("mr3a").TextPaneView,
            o = i("5Dp4").MarkPaneView,
            r = [new o(this, e, this.image, this.width, this.height, this.offsetX, this.offsetY)],
            s = this._createTextPaneView(n);
          null !== s && r.push(s), this._setPaneViews(r)
        }.bind(this).bind(null, i)).catch(i.oe)
      }

      function o(e, t) {
        this._constructor = "LineToolArrowMarkLeft", n.call(this, e, t)
      }

      function r(e, t) {
        this._constructor = "LineToolArrowMarkUp", n.call(this, e, t)
      }

      function s(e, t) {
        this._constructor = "LineToolArrowMarkRight", n.call(this, e, t)
      }

      function a(e, t) {
        this._constructor = "LineToolArrowMarkDown", n.call(this, e, t)
      }
      var l = i("Ss5c").LineDataSource,
        c = i("tc+8"),
        u = i("Ocx9").DefaultProperty,
        h = i("hayr").propertyPages;
      inherit(n, l), n.prototype.width = 21, n.prototype.height = 21, n.prototype.offsetX = 0, n.prototype.offsetY = 0, n.prototype.paneViews = function () {
          var e = l.prototype.paneViews.call(this);
          return null !== e && this._textPaneView && e.push(this._textPaneView), e
        }, n.prototype.pointsCount = function () {
          return 1
        }, n.prototype.title = function () {
          return "Arrow Mark"
        }, n.prototype.name = function () {
          return "Arrow Mark"
        }, n.prototype.getStylesPropertyPage = function () {
          return h.LineToolArrowMarkStylesPropertyPage
        }, n.prototype.template = function () {
          var e = l.prototype.template.call(this);
          return e.text = this.properties().childs().text.value(), e
        }, n.prototype._applyTemplateImpl = function (e) {
          l.prototype._applyTemplateImpl.call(this, e), this.properties().childs().text.setValue(e.text)
        }, n.prototype._createTextPaneView = function (e) {
          return null
        }, n.createProperties = function (e) {
          var t = new u("linetoolarrowmark", e);
          return n._configureProperties(t), t
        }, n._configureProperties = function (e) {
          l._configureProperties(e), e.hasChild("text") || e.addChild("text", new c("")), e.addExclusion("text")
        }, inherit(o, n), o.prototype.image = new Image,
        o.prototype.image.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB50lEQVR4AWMgETAKKAgIAGkQ5mCgAmCWdtTWV4yxvgFkWwKxOKUGssr5Gccrx9t+Vk6w+w/kxwKxIrmGMTKIivIohFvONKsI+e/cl/ofamgGECuTYyCTqJ2mqlK01Vnr+uj/HjNy/1v1J8AMzSTHUBYZP6MgpTjb97bNsf9dpmf9N++J/W/UEQEztAiIbUEGo2EpIObE8C4oVuVDzLuBmv869aT8t5+c+t+0K/q/YXs4GGsWeIAMRscwy/yhBiO8K2ijJKcYZXXYuj7qv/u0nP/W/Yn/jTsjQYYRwliDhUXKy8BVKdbmuW1T7H+3Gdn/LXrjQN4FaSDLUBa5MItyoOAvp67k/45T0pC9S56hSrHWhY4tif9D5pUDXZjz36w7Blkx+S5VDLNoBUWMY3fKfwdExMAw+WEq7Wvkoxhn+waUhFwRSYhcQxGxL26jpqQYbX3CBpjY3aeDYj+BothHpFNxcW75cIvJpmXB/516Uv/bT0r5b9IVRUY6xQSssr6GkcAc9dGuNe6/y7RMMnMUJmCWcNTSBgbHZeuG6P+eM/P+W/VRlPcRwSGoJMgvH265yKIq/L9LfzqKoZSXp0Em6cDy9BvU0Dhyy1PM4PAwMFWKs7kFZFsBsQQDlQAjr4a0MJAWxFdHAQAcI3sGHsO1dgAAAABJRU5ErkJggg==", o.prototype.offsetX = 1, o.prototype.offsetY = -10, o.prototype.title = function () {
          return "Arrow Mark Left"
        }, o.prototype.name = function () {
          return "Arrow Mark Left"
        }, o.prototype._createTextPaneView = function (e) {
          var t = new e(this, this._model, 22, -3, "middle", "left");
          return t.disableSelection(), t
        }, o.createProperties = function (e) {
          return n.createProperties(e)
        }, inherit(r, n), r.prototype.image = new Image, r.prototype.image.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAACBklEQVR4AWMgErAoxVoXgmgGKgEWxTCLVseWxP9yYRbl1DCYSdrXyEc5we5vyLzy/0D6l5SXgStInFwDGcVt1JQU42zfOHan/HebkfPfqSv5v1KszXNBGyU5kDzpRoqLcytGW5+wbY797zA59b9Zd8x/xylp/22bYv8rRlkdBqrgINVIVvlwi8k29dH/Xadn/Tftiv5v2B4Opt1mZP+3ro/6Lx9i3k1K+DLL+hpGmpYF/3efnvPfvCcWZCAcW/TG/XeflvMfFM4yfkZBxIQvo4SjlrZSnO1Hp57U/9b9Cf+NOiKQDQXxgeKJ/516Uv4D1b0XtdNUxRu+gkqC/MBwvGzXGvffflLKf+POSISBCAwWtweGMyi8laKtzjKIivLgCUfLRdYN0f9dpmX+N+mKghiCieHh6wIMb2tguCuEW84E6ccIR7kgk3SLqvD/njPzYOFICIPVeczI/W9WEfJfzs84HmQOIhw9DEyV422/ufSn/7fqg4cjIQxWZwUMd+e+1P9A/Z+lHbX1weHLqyEtrBRncwsYm/+RsWaBBz4DwfLoehRjrG8IKAgIgOMHiK2AOA6IM6G4CKgIr6EgeZA6qPoMII4FYksgFmCA5gwJIFYEYmUotiXSUFuYHqh+cXw5TZlIQ5WxaR4mhuLBZBkqBcT+oJjFg/3B6kgAnFANyniwFEQdJgAAOuN7Bp7MBuYAAAAASUVORK5CYII=", r.prototype.offsetX = -9, r.prototype.offsetY = 0, r.prototype.title = function () {
          return "Arrow Mark Up"
        }, r.prototype.name = function () {
          return "Arrow Mark Up"
        }, r.prototype._createTextPaneView = function (e) {
          var t = new e(this, this._model, 0, 18, "top", "center");
          return t.disableSelection(), t
        }, r.createProperties = function (e) {
          return n.createProperties(e)
        }, inherit(s, n), s.prototype.image = new Image,
        s.prototype.image.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB60lEQVR4AWPAAziAWJBXQ1oYSDMyUAlIALGVUpzNLQkPA1Mgm5kahioCcZxygt1/5Xjbb3JBJulAPiulhioDcSbIUJf+9P8WVeH/5cMtFwkqCfKDgoNiQ636Ev57zsz7b90Q/V8x2vqyhKOWNqHg4ARiKZAhaNgWiItAhhp1RPw374n97zIt879da9x/pTjbj7K+hpE4gwNqoD9IMzasWeDx37A9HIxNuqL+209K+e/Uk/rftCwYGBwWkxnExbkRwYHpTZBGgti4M/K/dX/Cf/fpOf9t6sHBcULcRk0JaAYT6YYiMDw4XKdn/bdtjv2vGGf7RtrXyAdoDguZhiKwaVf0f4fJqf8du1NAQfVXMcyiFWQwmYYisFl3zH+3GTn/Q+aV/3dsSfyvFGtdSLFLHaek/XfqSga59JdcmEU5yKVkh6lFbxzQhdn/bZtiga6zeS7lZeAKMpCC2E/87z4t5791fdR/xSirw4I2SnKg2CcxnSK8aw+MGKceSMTIh5h3Q0szRvJzFCQJgXLUexk/oyCQd8nP+8DE7jEjF+jd6P9K0VZnRe00VWHeJcfQDJChzn2p/80qQv4rhFvOZBAV5QF5l5LyNBZann6W8zOOp0Z5Kg7Eloox1jekHbX1qVLyQ2NVQEBBQIBU7wIAOFZ7BmG7RzYAAAAASUVORK5CYII=", s.prototype.offsetX = -19, s.prototype.offsetY = -10, s.prototype.title = function () {
          return "Arrow Mark Right"
        }, s.prototype.name = function () {
          return "Arrow Mark Right"
        }, s.prototype._createTextPaneView = function (e) {
          var t = new e(this, this._model, -22, -3, "middle", "right", !0);
          return t.disableSelection(), t
        }, s.createProperties = function (e) {
          return n.createProperties(e)
        }, inherit(a, n), a.prototype.image = new Image, a.prototype.image.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB/UlEQVR4AWPAATj3Wij8J4RB6hhIAFIgTS9a8nBhmKFSpBiqDNJ0P80PF4YZqkyyobfD7HDh4WJolaKY+G5zhXvoMXva2xifoWB5dD07zeTvFKvxioDMFY6RFUgEGvzzQVk8OGafVib9v5fkhc9QkDxIHVj9vaKY/7vM5b+HS/JFA80TAhnKA8TGZSoiS057GYFiFqzhTpQTPkNB8iB1YPUnPQz+5ykKzQGaYwjE3CBDmUCuBWKHabqSZ0656oI0EY1B6idoSx4F6reDupIJFrTMQCwtxsYcvNZY5uU5T0OiDDwLdOFKI9knvMzM/kD9kmBz0AAbEKs6iHAX7zSX/3nF3xyvgZd8Tf9vM5P/ZiXAmQdNBazYEgIjEHOBwiVHXmjWcSctnAbeDLH5f8xR83+SjNBEoHo9sD4owGWwIBDb9mtJHMIVviDxDg3x3UB11kDMD9ZHADCDwkeAmdlvhZHMI2C4oRh4xl3//1IDmbvszAxeQHXiUPWEATR8lE0EubJB4QYMP7CBF31M/m82k/usy8uRCpRXAKsjEXCCwiteVqD/qIPG/+tBVv/3WCj8C5Pi7wCKawMxBwMZgBEaXlbtGuI7T7ro/G9QFdsI5JsDMR/+cCQcvuLsLAzubRoSa4FsJyAWBSdwsgEifKVBXoYmcBYGagCoQZzEGggAoyq6zKXuV5gAAAAASUVORK5CYII=", a.prototype.offsetX = -9, a.prototype.offsetY = -18, a.prototype.title = function () {
          return "Arrow Mark Down"
        }, a.prototype.name = function () {
          return "Arrow Mark Down"
        }, a.prototype._createTextPaneView = function (e) {
          var t = new e(this, this._model, 0, -23, "bottom", "center");
          return t.disableSelection(), t
        }, a.createProperties = function (e) {
          return n.createProperties(e)
        }, s.prototype.version = o.prototype.version = a.prototype.version = r.prototype.version = 2, t.LineToolArrowMark = n, t.LineToolArrowMarkLeft = o, t.LineToolArrowMarkRight = s, t.LineToolArrowMarkUp = r, t.LineToolArrowMarkDown = a
    },
    TrvT: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "CompareDataWindowView", function () {
        return c
      }), n = i("mrSG"), o = i("it7y"), r = i("e92V"), s = i("mMWL"), a = i("qFKp"), l = a.CheckMobile.any(), c = function (e) {
        function t(t, i) {
          var n = e.call(this, t, i) || this;
          return n._studyCompare = t, n
        }
        return n.__extends(t, e), t.prototype._updateImpl = function () {
          e.prototype._updateImpl.call(this), this._items[0].setTitle(this._studyCompare.guiPlotName(""))
        }, t.prototype._hideValues = function () {
          return !1
        }, t.prototype._currentIndex = function () {
          return l && (null === this._model.crossHairSource().pane || Object(r.a)(s.tool.value()) || null !== this._model.lineBeingEdited()) ? this._study.data().lastIndex() : this._model.crossHairSource().appliedIndex()
        }, t
      }(o.StudyDataWindowView)
    },
    TxTq: function (e, t, i) {
      "use strict";
      var n = i("0waE"),
        o = i("FBuY").TVXWindowEvents,
        r = i("PC8g").trackEvent,
        s = i("VVxS").TVLocalStorage,
        a = i("a4Nd").PushStream,
        l = i("PfBM").ConnectionStatus,
        c = i("xlbu").telemetry,
        u = i("uOxu").getLogger,
        h = u("PushStreamMultiplexer"),
        d = function () {
          var e, t = null,
            i = null,
            u = {},
            d = {},
            p = [],
            f = null,
            _ = "multiplexer-",
            m = "pushStreamMultiplexer.",
            g = "private_",
            y = l.Closed,
            v = l.Closed,
            S = !1,
            b = {
              _codeParams: function (e) {
                return (e = Array.prototype.slice.call(e)).push((new Date).getTime()), JSON.stringify(e)
              },
              _decodeParams: function (e) {
                var t = JSON.parse(e);
                return t.pop(), t
              },
              guid: n.guid(),
              _init: function () {
                if (this._needInstantiating()) this._instantiatePushStream();
                else {
                  var e = this._decodeConnectionStatus(o.current(b._xEventConnectionStatus));
                  y = e[0], v = e[1]
                }
              },
              _instantiatePushStream: function (e) {
                this._setMark(), t && (r("PushstreamDoublePublic", window.user && window.user.username || "Guest", navigator.userAgent), t.disconnect()), (t = new a(this._dispatchMessage.bind(this), {
                  url: window.PUSHSTREAM_URL,
                  urlPath: "message-pipe-ws"
                })).connectionStatus().subscribe(function (e) {
                  this._dispatchStatusChange(e, v)
                }.bind(this)), i && (r("PushstreamDoublePrivate", window.user && window.user.username || "Guest", navigator.userAgent), i.disconnect()), (i = new a(this._dispatchMessage.bind(this), {
                  url: window.PUSHSTREAM_URL,
                  urlPath: "message-pipe-ws"
                })).connectionStatus().subscribe(function (e) {
                  this._dispatchStatusChange(y, e)
                }.bind(this)), this.on("pushstream_set_user_channel", function (e) {
                  this._setUserChannel(e)
                }.bind(this)), this._connectChannels()
              },
              _destructPushStream: function () {
                var e = t;
                t = null, e.disconnect(), e = i, i = null, e.disconnect(), this._dispatchStatusChangeFromOther(o.current(b._xEventConnectionStatus))
              },
              _activityTimeout: 5e3,
              _delayTimeout: 2e4,
              _pulseActivity: function () {
                this.ownPushStream() ? this._lostOwn() ? (h.logNormal("Lost own pushstream connection"), c.sendReport("site", "pushstream_lost_own"), this._destructPushStream()) : this._setMark() : this._needInstantiating() && !S && (h.logNormal("Creating pushstream connection, because other tab lost it"), c.sendReport("site", "pushstream_pick_up"), this._instantiatePushStream())
              },
              _markName: m + "mark",
              _lostOwn: function () {
                var e = s.getItem(this._markName);
                return !!e && (e = this._decodeParams(e))[0] !== this.guid
              },
              _getMark: function () {
                return this._decodeParams(s.getItem(this._markName))
              },
              _setMark: function () {
                s.setItem(this._markName, this._codeParams([this.guid, (new Date).getTime()]))
              },
              _unsetMark: function () {
                s.setItem(this._markName, "")
              },
              _needInstantiating: function () {
                var e, t = s.getItem(this._markName);
                return !t || (e = (t = this._decodeParams(t))[1], (new Date).getTime() - e > this._delayTimeout)
              },
              _onRequestRecreate: function (e) {
                if (!this.ownPushStream() && this._needInstantiating()) {
                  var t = this._decodeParams(e)[0];
                  h.logNormal("Creating pushstream connection after recreate request"), this._instantiatePushStream(t)
                }
              },
              _onUnload: function () {
                this.ownPushStream() && (this._unsetMark(), this._sendRecreateRequest())
              },
              _getChannels: function () {
                return t.getChannels().concat(i.getChannels())
              },
              _channelsName: m + "channels",
              _getChannelsFromStorage: function () {
                var e = s.getItem(this._channelsName);
                return e ? JSON.parse(e) : []
              },
              getChannels: function () {
                return this.ownPushStream() ? this._getChannels() : this._getChannelsFromStorage()
              },
              _storeChannels: function () {
                s.setItem(this._channelsName, JSON.stringify(this._getChannels()))
              },
              _sendRecreateRequest: function () {
                var e = this._getChannels();
                o.emit(this._xEventRecreate, this._codeParams([e]))
              },
              ownPushStream: function () {
                return !!t
              },
              pushStream: function () {
                if (!this.ownPushStream()) throw new Error("Not own PushStream");
                return t
              },
              isConnected: function () {
                return y > 0
              },
              status: function () {
                return y || l.Closed
              },
              statusPrivate: function () {
                return v || l.Closed
              },
              _userChannel: function (e) {
                return g + e
              },
              userChannel: function () {
                if (!f) throw new Error("No user channel");
                return this._userChannel(f)
              },
              _xEventRecreate: _ + "recreate",
              _xEventSend: _ + "send",
              _xEventChannelAdd: _ + "channelAdd",
              _xEventChannelRemove: _ + "channelRemove",
              _xEventRequiredChannels: _ + "requirech",
              _xEventConnectionStatus: _ + "connectionStatus",
              _xEventReconnectCommand: _ + "reconnectCommand",
              _addChannel: function (e) {
                var n = e.startsWith(g) ? i : t;
                n.hasChannel(e) || (n.addChannel(e), this._storeChannels())
              },
              addChannel: function (e) {
                this.ownPushStream() ? this._addChannel(e) : o.emit(this._xEventChannelAdd, this._codeParams([e]))
              },
              _addChannelFromOther: function (e) {
                var t = this._decodeParams(e)[0];
                this.ownPushStream() && this._addChannel(t)
              },
              _removeChannel: function (e) {
                var n = e.startsWith(g) ? i : t;
                n.hasChannel(e) && (n.removeChannel(e), this._storeChannels())
              },
              removeChannel: function (e) {
                this.ownPushStream() ? this._removeChannel(e) : o.emit(this._xEventChannelRemove, this._codeParams([e]))
              },
              _removeChannelFromOther: function (e) {
                var t = this._decodeParams(e)[0];
                this.ownPushStream() && this._removeChannel(t)
              },
              _connectChannels: function () {
                t.addChannel("public"), "is_authenticated" in window ? this._connectUserChannelInitial(!0) : window.loginStateChange && loginStateChange.subscribe(this, this._connectUserChannelInitial), t.connect()
              },
              _connectUserChannelInitial: function (e) {
                e && (is_authenticated ? (f = user.private_channel, i.addChannel(this.userChannel()), i.connect()) : f = null)
              },
              _changeLoginState: function (e) {
                e || (is_authenticated ? (f = user.private_channel, this.ownPushStream() && (this._addChannel(this.userChannel()), i.connect())) : (this.ownPushStream() && (this._removeChannel(this.userChannel()), i.disconnect()), f = null))
              },
              _setUserChannel: function (e) {
                h.logNormal("Set user channel " + e), e !== f && (this.ownPushStream() && f && this._removeChannel(this.userChannel()), f = e, this.ownPushStream() && f && this._addChannel(this.userChannel()))
              },
              _dispatchStatusChange: function (e, t) {
                this._dispatchStatusChangeToOthers(e, t), this._dispatchStatusChangeToSelf(e, t)
              },
              _dispatchStatusChangeToSelf: function (e, t) {
                e !== y && (y = e, this._callStatusHandlers(e, !1)), t !== v && (v = t, this._callStatusHandlers(t, !0))
              },
              _callStatusHandlers: function (e, t) {
                h.logNormal("Connection status change: " + e + ", private " + t),
                  c.sendReport("site", "pushstream_status_change"), p.forEach(function (i) {
                    i.isPrivate === t && i.handler(e)
                  })
              },
              _decodeConnectionStatus: function (e) {
                var t = parseInt(e, 10);
                return isNaN(t) ? this._decodeParams(e) : [t, t]
              },
              _dispatchStatusChangeFromOther: function (e) {
                var t = this._decodeConnectionStatus(e),
                  i = t[0],
                  n = t[1];
                this.ownPushStream() || this._dispatchStatusChangeToSelf(i, n)
              },
              _dispatchStatusChangeToOthers: function (e, t) {
                this.ownPushStream() && o.emit(this._xEventConnectionStatus, this._codeParams([e, t]))
              },
              _dispatchMessage: function (e, t, i) {
                this._dispatchMessageToOthers(e, t, i), this._dispatchMessageToSelf(e, t, i, !1)
              },
              _dispatchMessageToSelf: function (e, t, i, n) {
                i = e.channel, e = e.content, this._emit(e, t, i, n)
              },
              _dispatchMessageToOthers: function (e, t, i) {
                var n = [e, t, i, (new Date).getTime()];
                o.emit(this._xEventSend, this._codeParams(n))
              },
              _dispatchMessageFromOther: function (e) {
                var t, i, n, o;
                this.ownPushStream() || (i = (t = this._decodeParams(e))[0], n = t[1], o = t[2], this._dispatchMessageToSelf(i, n, o, !0))
              },
              _isSpecialChannel: function (e) {
                return /\*/.test(e)
              },
              _emit: function (e, t, i, n) {
                function o(o) {
                  o.call(this, e, t, i, n)
                }
                var r, s;
                for (r in u[i] && u[i].forEach(o, this), d) s = "^" + r.replace(/\*/g, ".*?") + "$", new RegExp(s).test(i) && d[r].forEach(o, this)
              },
              on: function (e, t) {
                var i = this._isSpecialChannel(e) ? d : u;
                i[e] || (i[e] = []), i[e].push(t)
              },
              off: function (e, t) {
                var i, n = this._isSpecialChannel(e) ? d : u;
                switch (arguments.length) {
                  case 0:
                    u = {}, d = {};
                    break;
                  case 1:
                    n[e] && delete n[e];
                    break;
                  default:
                    n[e] && ~(i = n[e].indexOf(t)) && n[e].splice(i, 1)
                }
              },
              onStatus: function (e) {
                p.push({
                  handler: e,
                  isPrivate: !1
                }), setTimeout(function () {
                  e(y)
                }, 0)
              },
              onPrivateStatus: function (e) {
                p.push({
                  handler: e,
                  isPrivate: !0
                }), setTimeout(function () {
                  e(v)
                }, 0)
              },
              offStatus: function (e) {
                p = p.filter(function (t) {
                  return t.handler !== e
                })
              },
              forceConnect: function () {
                S = !1, h.logNormal("Creating pushstream connection after force connect"), this.ownPushStream() ? (t.disconnect(), i.disconnect(), this._instantiatePushStream()) : this._needInstantiating() ? this._instantiatePushStream() : o.emit(this._xEventReconnectCommand, {})
              },
              disconnect: function () {
                this.ownPushStream() && (this._destructPushStream(), this._unsetMark(), S = !0)
              },
              _dispatchReconnectCommandFromOther: function () {
                this.ownPushStream() && this.forceConnect()
              }
            };
          return b._init(), window.addEventListener("unload", b._onUnload.bind(b)), o.on(b._xEventRecreate, b._onRequestRecreate.bind(b)), o.on(b._xEventSend, b._dispatchMessageFromOther.bind(b)), o.on(b._xEventChannelAdd, b._addChannelFromOther.bind(b)), o.on(b._xEventChannelRemove, b._removeChannelFromOther.bind(b)), o.on(b._xEventConnectionStatus, b._dispatchStatusChangeFromOther.bind(b)), o.on(b._xEventReconnectCommand, b._dispatchReconnectCommandFromOther.bind(b)), e = function () {
            window.loginStateChange && loginStateChange.subscribe(b, b._changeLoginState)
          }, "loading" !== document.readyState ? e() : document.addEventListener("DOMContentLoaded", e), setInterval(b._pulseActivity.bind(b), b._activityTimeout), b._pulseActivity(), b
        }();
      e.exports = d
    },
    Txy0: function (e, t, i) {
      "use strict";

      function n(e, t, o) {
        var c = this._mtpStudyId() + "@mtp-mtpredictor",
          u = o || l.findStudyMetaInfo(e.studiesMetaData(), c),
          h = t || n._createProperties(u, e.studyVersioning()),
          d = s(c);
        r.call(this, e, u, this._mtpStudyId(), h, d), Promise.all([i.e(69), i.e(106), i.e(165), i.e("study-pane-views")]).then(function (t) {
          var n = i("Kt0C").LinePaneView,
            o = i("BJvp").PolygonPaneView,
            r = i("292E").TextMarkPaneView;
          this._setPaneViews([new r(this, e), new o(this, e), new n(this, e)])
        }.bind(this).bind(null, i)).catch(i.oe), this._formatter = new a
      }
      var o = i("MSvv"),
        r = o.StudyLineDataSource,
        s = i("cBZt").lineToolNameForPointsBasedStudy,
        a = i("nEwK").VolumeFormatter,
        l = i("0YCj");
      inherit(n, r), n.prototype.formatter = function () {
        return this._formatter
      }, n.prototype.series = function () {
        return TradingView.isInherited(this._ownerSource.constructor, TradingView.Series) ? this._ownerSource : this._ownerSource.series()
      }, n._createProperties = function (e, t) {
        var o = i("GVHu"),
          r = o.prepareStudyProperties(e, null, null, t);
        return n._configureProperties(r), r
      }, n._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineStudyMtp = n
    },
    TzTt: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n;
        return i = null == t ? document.documentElement : 9 === t.nodeType ? t.documentElement : t, r && (n = r.get(i)), n || ((n = i.ownerDocument.createRange()).selectNodeContents(i), r && r.set(i, n)), n.createContextualFragment(e)
      }

      function o(e, t) {
        var i, o, r, s = n(e, t);
        if ("firstElementChild" in s) i = s.firstElementChild;
        else
          for (i = null, o = 0; o < s.childNodes.length; o++)
            if (1 === (r = s.childNodes[o]).nodeType) {
              i = r;
              break
            } return null !== i && s.removeChild(i), i
      }
      var r;
      i.r(t), i.d(t, "parseHtml", function () {
        return n
      }), i.d(t, "parseHtmlElement", function () {
        return o
      }), "WeakMap" in window && (r = new WeakMap)
    },
    "U/gD": function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n, r;
        return void 0 === t && (t = Date.now()), n = "", (r = (i = Object(o.get_timezone)(e).offset_utc(t)) / 1e3 / 60 / 60) % 1 && (n = ":" + r % 1 * 60), "", {
          offset: i,
          string: "UTC" + (r > 0 ? "+" + (r - r % 1) + n : 0 === r ? "" : String(r - r % 1 + n))
        }
      }
      var o;
      i.d(t, "a", function () {
        return n
      }), o = i("jCNj")
    },
    "U0+/": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d;
      i.r(t), i.d(t, "StudyMetaInfoRepository", function () {
        return d
      }), i("YFKU"), n = i("Eyy1"), o = i("0YCj"), r = i.n(o), s = i("nmnj"), a = i("K4L1"), l = i.n(a), c = i("KEfV"), u = i("uOxu"), h = Object(u.getLogger)("Chart.Studies.StudyMetaInfoRepository", {
        color: "#606"
      }), d = function () {
        function e(e) {
          this._nextRequestNumber = 1, this._rawStudiesMetaInfo = [], this._metaInfoStubs = [], this._metaInfoReceived = !1, this._onRawMetaReceivedDfd = null, this._tvScriptsRequestDfd = null, this._isReady = !1, this._metaInfoQueryQueue = [], this._fullMetaInfoQueryQueue = [], this._studiesMetaInfo = [], this._studiesMigrations = [], this._studyScriptingPkgVers = null, this._gateway = e
        }
        return e.prototype.getStudyScriptingPkgVers = function () {
          return this._studyScriptingPkgVers
        }, e.prototype.requestMetaInfo = function () {
          var e, t = this;
          return this._requestStarted(), e = this._makeNextRequestId(), h.logNormal("Requesting metainfo #" + e), h.logNormal("Requesting pine metainfo #" + e), this._tvScriptsRequestDfd = Object(s.requestBuiltinAndUserScripts)(), this._tvScriptsRequestDfd.then(function () {
            return h.logNormal("Requesting pine metainfo #" + e + " finished")
          }).catch(function () {
            return h.logNormal("Requesting pine metainfo #" + e + " failed")
          }), new Promise(function (i) {
            h.logNormal("Requesting studies metadata #" + e), t._gateway.requestMetadata(e, function (n) {
              var o, r;
              h.logNormal("Requesting studies metadata #" + e + " finished"), o = n.params[1].metainfo.slice(), r = n.params[1].migrations.slice(), t._processSiteMetaInfo(o, r).then(function () {
                h.logNormal("Requesting metainfo #" + e + " finished"), i()
              })
            })
          })
        }, e.prototype.requestAlertsMetaInfo = function () {
          var e = this;
          return this._metaInfoReceived ? Promise.resolve(this._rawStudiesMetaInfo) : new Promise(function (t) {
            e._onRawMetaReceivedDfd = t
          })
        }, e.prototype.findById = function (e) {
          var t, i;
          if (!this._isReady) return this._enqueueMetaInfoQuery(e);
          if (null !== (t = this._findStudyMetaInfo(e))) return Promise.resolve(t);
          if (void 0 !== (i = this._metaInfoStubs.find(function (t) {
              return t.metaInfoId === e
            }))) return this._compileStub(i);
          throw new ReferenceError("unexpected study id:" + e)
        }, e.prototype.findStubByPineId = function (e) {
          return this._metaInfoStubs.find(function (t) {
            return t.scriptIdPart === e
          }) || null
        }, e.prototype.compileStub = function (e) {
          return this._compileStub(e)
        }, e.prototype.isReady = function () {
          return this._isReady
        }, e.prototype.findAll = function () {
          return this._isReady ? Promise.resolve(this._studiesMetaInfo) : this._enqueueFullMetaInfoQuery()
        }, e.prototype.getAllStubs = function () {
          return this._metaInfoStubs
        }, e.prototype.getInternalMetaInfoArray = function () {
          return this._studiesMetaInfo
        }, e.prototype.getMigrations = function () {
          return this._studiesMigrations
        }, e.prototype._processMigrations = function (e) {
          this._studiesMigrations = [];
          for (var t = 0; e && t < e.length; t++) this._studiesMigrations.push(e[t])
        }, e.prototype._addPineMetaInfo = function (e) {
          var t, i, n, o, s, a, l, u;
          for (h.logDebug("Processing pine metainfo"), t = null, i = 0; i < this._rawStudiesMetaInfo.length; ++i)
            if ((n = this._rawStudiesMetaInfo[i]).id.startsWith("Script@tv-scripting-")) {
              t = r.a.parseIdString(n.id).version;
              break
            } if (null !== t) {
            for (this._studyScriptingPkgVers = t, o = 0, s = 0, i = 0; i < e.length; ++i) {
              l = (a = e[i]) && a.scriptName, o++;
              try {
                u = Object(c.createStudyMetaInfoStub)(a, t), this._metaInfoStubs.push(u)
              } catch (e) {
                h.logError("Could not process script (skipped): " + l + " (" + e.message + ")"), s++
              }
            }
            h.logDebug("User's Pine Scripts loaded " + o + ", skipped " + s)
          } else h.logError("Could not find tv-scripting package in metadata response");
          for (i = 0; i < this._rawStudiesMetaInfo.length; i++) r.a.addOrReplaceStudyMetaInfo(this._studiesMetaInfo, this._rawStudiesMetaInfo[i]);
          r.a.overrideDefaults(this._studiesMetaInfo), this._requestFinished()
        }, e.prototype._processSiteMetaInfo = function (t, i) {
          for (var n = 0; n < t.length; n++) l.a._verifyInputsMaxValue(t[n]), e._applyLocalizationToMetadata(t[n]);
          return this._rawStudiesMetaInfo = t, this._metaInfoReceived = !0, null !== this._onRawMetaReceivedDfd && (this._onRawMetaReceivedDfd(this._rawStudiesMetaInfo), this._onRawMetaReceivedDfd = null), this._processMigrations(i), this._tvScriptsRequestDfd.then(this._addPineMetaInfo.bind(this), this._addPineMetaInfo.bind(this, []))
        }, e.prototype._processLibraryMetaInfo = function (e) {}, e.prototype._requestStarted = function () {
          this._isReady = !1,
            this._studiesMetaInfo = [], this._metaInfoStubs = [], this._studiesMigrations = [], this._studyScriptingPkgVers = null, this._tvScriptsRequestDfd = null, this._rawStudiesMetaInfo = [], this._metaInfoReceived = !1
        }, e.prototype._requestFinished = function () {
          this._isReady = !0, this._processPendingMetaInfoQueries(), this._processPendingFullMetaInfoQueries()
        }, e.prototype._enqueueMetaInfoQuery = function (e) {
          var t = this;
          return new Promise(function (i) {
            t._metaInfoQueryQueue.push({
              studyId: e,
              resolver: i
            })
          })
        }, e.prototype._enqueueFullMetaInfoQuery = function () {
          var e = this;
          return new Promise(function (t) {
            e._fullMetaInfoQueryQueue.push({
              resolver: t
            })
          })
        }, e.prototype._processPendingMetaInfoQueries = function () {
          for (; this._metaInfoQueryQueue.length;) {
            var e = this._metaInfoQueryQueue.shift();
            this.findById(e.studyId).then(e.resolver)
          }
        }, e.prototype._processPendingFullMetaInfoQueries = function () {
          for (; this._fullMetaInfoQueryQueue.length;) {
            this._fullMetaInfoQueryQueue.shift().resolver(this._studiesMetaInfo)
          }
        }, e.prototype._findStudyMetaInfo = function (e) {
          for (var t = 0; t < this._studiesMetaInfo.length; t += 1)
            if (this._studiesMetaInfo[t].id === e) return this._studiesMetaInfo[t];
          return null
        }, e.prototype._makeNextRequestId = function () {
          return "metadata_" + this._nextRequestNumber++
        }, e.prototype._compileStub = function (e) {
          var t, i = this;
          try {
            if (null !== (t = this._findStudyMetaInfo(e.metaInfoId)) && !Object(c.isStudyMetaInfoStub)(t) && e.pine.version === t.pine.version) return Promise.resolve(t)
          } catch (e) {}
          return h.logNormal("Compiling " + e.scriptIdPart + " script"), Promise.resolve(Object(s.translateScriptAsync2)(e.scriptIdPart, e.pine.version)).then(function (t) {
            return h.logNormal("Compiling " + e.scriptIdPart + " is successful"), Object(n.ensureDefined)(t)
          }).catch(function () {
            h.logNormal("Compiling " + e.scriptIdPart + " is failed");
            var t = "Error: couldn't compile script '" + e.description + "'";
            return Object(s.createScriptStubNoSrc)(t, e.scriptIdPart)
          }).then(function (t) {
            var n = i._metaInfoStubs.findIndex(function (t) {
              return t.metaInfoId === e.metaInfoId
            });
            return -1 !== n && i._metaInfoStubs.splice(n, 1), r.a.addOrReplaceStudyMetaInfo(i._studiesMetaInfo, t)
          })
        }, e._applyLocalizationToMetadata = function (e) {
          return e.description_localized = window.t(e.description, {
            context: "study"
          }), e
        }, e
      }()
    },
    UCMi: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolDateAndPriceRange";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("UcQu").DateAndPriceRangePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
          return 2
        }, n.prototype.title = function () {
          return "Date and Price Range"
        }, n.prototype.name = function () {
          return "Date and Price Range"
        }, n.prototype.getStylesPropertyPage = function () {
          return s.LineToolDateAndPriceRangeStylesPropertyPage
        }, n.createProperties = function (e) {
          var t = new r("linetooldateandpricerange", e);
          return n._configureProperties(t), t
        }, n._configureProperties = function (e) {
          o._configureProperties(e)
        },
        t.LineToolDateAndPriceRange = n
    },
    UJLt: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.SaveRenameDialog = void 0, n = function () {
        function e(e, t) {
          var i, n;
          for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
        }
        return function (t, i, n) {
          return i && e(t.prototype, i), n && e(t, n), t
        }
      }(), i("/mDy"), o = i("oNDq"), r = "yes", s = "close", a = 0, t.SaveRenameDialog = function () {
        function e() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            i = t.fields,
            n = t.confirm,
            o = t.title,
            r = void 0 === o ? "" : o,
            s = t.destroyOnClose,
            a = void 0 === s || s,
            l = t.modal,
            c = void 0 !== l && l;
          ! function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
          }(this, e), this._$form = $("<div></div>"), this._fields = i, this._appendFieldsToForm(), this._title = r, this._destroyOnClose = a, this._modal = c, this._isConfirmDialogOpened = !1, n && (this._needCheckConfirm = !0, this._shouldShowConfirm = n.shouldShowDialog, this._getConfirmMessage = n.getMessage)
        }
        return n(e, [{
          key: "setField",
          value: function (e, t) {
            this._fields.find(function (t) {
              return t.name === e
            }).value = t
          }
        }, {
          key: "show",
          value: function () {
            var e = this,
              t = this._createDialog(),
              i = new Promise(function (i) {
                t.then(function (t) {
                  t.on("action:submit", function (t) {
                    return e._onSubmit(t, i)
                  }), t.open(), t.on("beforeClose", e._unmountFields.bind(e)), e._fields[a].select()
                })
              });
            return i
          }
        }, {
          key: "_appendFieldsToForm",
          value: function () {
            var e = this;
            this._fields.forEach(function (t) {
              t.appendTo(e._$form)
            })
          }
        }, {
          key: "_createDialog",
          value: function () {
            var e = this,
              t = 470,
              n = 13;
            return new Promise(function (o) {
              Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(3), i.e("create-dialog")]).then(function (r) {
                var s = i("YDhE").createDialog;
                o(s({
                  type: e._modal ? "modal" : "popup",
                  title: e._title,
                  content: e._$form,
                  actionsWrapTemplate: '<div class="tv-dialog__section tv-dialog__section--actions i-align_right tv-dialog__section--no-border">',
                  width: t,
                  destroyOnClose: e._destroyOnClose,
                  isClickOutFn: function () {
                    if (e._isConfirmDialogOpened) return !1
                  },
                  actions: [{
                    name: "submit",
                    type: "primary",
                    text: $.t("Save"),
                    key: n,
                    addClass: "js-submit-button"
                  }, {
                    name: "cancel",
                    type: "default",
                    text: $.t("Cancel"),
                    method: "close",
                    addClass: "js-cancel-button"
                  }]
                }))
              }.bind(null, i)).catch(i.oe)
            })
          }
        }, {
          key: "_onSubmit",
          value: function (e, t) {
            var i = this,
              n = this._validate();
            if (n) e.error(n.error), n.focus();
            else {
              if (!this._needCheckConfirm) return t(this._collectValues(), e), void e.close();
              Promise.resolve(this._shouldShowConfirm(this._collectValues())).then(function (n) {
                if (!n) return t(i._collectValues(), e), void e.close();
                i._showConfirmDialog().then(function (n) {
                  n === s && (e.focus(), i._fields[a].focus()), n === r && (t(i._collectValues(), e), e.close())
                })
              })
            }
          }
        }, {
          key: "_showConfirmDialog",
          value: function () {
            var e = this;
            return new Promise(function (t) {
              Promise.resolve(e._getConfirmMessage(e._collectValues())).then(function (i) {
                e._isConfirmDialogOpened = !0, (0, o.createConfirmDialog)({
                  type: "modal",
                  content: i
                }).then(function (i) {
                  i.on("action:yes", function (e) {
                    t(r), e.close()
                  }), i.on("afterClose", function () {
                    t(s),
                      e._isConfirmDialogOpened = !1
                  }), i.open()
                })
              })
            })
          }
        }, {
          key: "_validate",
          value: function () {
            return this._fields.find(function (e) {
              return !e.valid
            })
          }
        }, {
          key: "_collectValues",
          value: function () {
            return this._fields.reduce(function (e, t) {
              return e[t.name] = t.value, e
            }, {})
          }
        }, {
          key: "_unmountFields",
          value: function () {
            this._fields.forEach(function (e) {
              e.unmount && e.unmount()
            })
          }
        }]), e
      }()
    },
    USzt: function (e, t, i) {
      "use strict";

      function n(e, t, o, r) {
        var a, l = "VbPFixed@tv-volumebyprice",
          u = c(l);
        o = o || p.findStudyMetaInfo(e.studiesMetaData(), l), a = t || n._createProperties(o, e.studyVersioning()), s.call(this, e, o, "vbpfixed_", a, u), this._plotOffsets = {}, this._plotOffsetsMetaInfoOverride = {}, Promise.all([i.e(69), i.e(106), i.e(165), i.e("study-pane-views")]).then(function (t) {
          var n, s, a, l = i("Gj0v").HHistPaneView,
            c = i("1sos").HorizLinePaneView,
            u = i("BJvp").PolygonPaneView,
            d = this,
            p = new l(d, e),
            f = new c(d, e),
            _ = new u(d, e),
            m = [p, f, _];
          r = e.mainSeries(), o.plots.length > 0 && (n = new h(d, r, e, o.plots[0].id), m.push(n)), o.plots.length > 1 && (s = new h(d, r, e, o.plots[1].id), m.push(s)), o.plots.length > 2 && (a = new h(d, r, e, o.plots[2].id), m.push(a)), this._setPaneViews(m)
        }.bind(this).bind(null, i)).catch(i.oe), this.clearData(), this._formatter = new d
      }
      var o = i("Eyy1").assert,
        r = i("MSvv"),
        s = r.StudyLineDataSource,
        a = i("GVHu"),
        l = a.Study,
        c = i("cBZt").lineToolNameForPointsBasedStudy,
        u = a.prepareStudyProperties,
        h = i("I9zs").StudyPaneView,
        d = i("nEwK").VolumeFormatter,
        p = i("0YCj"),
        f = i("hayr").propertyPages,
        _ = i("jenN").isStudyGraphicsEmpty;
      inherit(n, s), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype._studyInputs = function (e) {
        var t, i, n, r, s, a, l, c;
        return o(2 === e.length, "all the line tool points should be defined"), t = e[0], i = e[1], n = Math.min(t.index, i.index), r = Math.max(t.index, i.index), s = this._model.mainSeries().bars().lastIndex(), n === r ? null : (a = this._model.mainSeries().bars().valueAt(n), l = this._model.mainSeries().bars().valueAt(r), null === a || null === l ? null : (c = {
          rowsLayout: this.properties().inputs.rowsLayout.value(),
          rows: this.properties().inputs.rows.value(),
          volume: this.properties().inputs.volume.value(),
          vaVolume: this.properties().inputs.vaVolume.value(),
          first_bar_time: 1e3 * a[TradingView.TIME_PLOT],
          last_bar_time: 1e3 * l[TradingView.TIME_PLOT]
        }, null != this.properties().inputs.subscribeRealtime && (c.subscribeRealtime = s === r), c))
      }, n.prototype._onDataUpdated = function (e, t, i) {
        this._correctPoints(), s.prototype._onDataUpdated.call(this, e, t, i)
      }, n.prototype._correctPoints = function () {
        var e = null,
          t = null;
        this.graphics().hhists().forEach(function (i) {
          var n, o, r, s, a;
          if (0 !== i.length && 0 !== (n = i[0]).indexes.length)
            for (o = n.items, r = 0; r < o.length; ++r) s = o[r].priceLow, a = o[r].priceHigh, (!e || s < e) && (e = s), (!t || a > t) && (t = a)
        }), this._points[0].price = t, this._points[1].price = e
      }, n.prototype.calcIsActualSymbol = function () {
        this._isActualSymbol = !0, this.calcIsActualInterval()
      }, n.prototype.formatter = function () {
        return this._formatter
      }, n.prototype.isSelfColorerPlot = function (e) {
        return l.isSelfColorerPlot(this, e)
      }, n.prototype.offset = function (e) {
        return l.offset(this, e)
      }, n.prototype.getStylesPropertyPage = function () {
        return f.LinetoolVolumeProfilePropertyPage
      }, n.prototype._isReady = function () {
        return this.graphics() && !_(this.graphics())
      }, n._createProperties = function (e, t) {
        var i = u(e, null, null, t);
        return n._configureProperties(i), i
      }, n._configureProperties = function (e) {
        s._configureProperties(e)
      }, t.LineToolVbPFixed = n
    },
    UgcK: function (e, t, i) {},
    Uwl4: function (e, t, i) {
      "use strict";
      i.r(t);
      var n = i("CCKn");
      i.d(t, "convertToBadgeProps", function () {
        return n.b
      }), i.d(t, "badge", function () {
        return n.a
      })
    },
    UxRM: function (e, t, i) {
      "use strict";

      function n(e) {
        this.items = e.items, this.barSpacing = e.barSpacing, this.lineColor = e.lineColor, this.lineWidth = e.lineWidth, this.lineStyle = e.lineStyle
      }
      var o = i("aO4+").Point,
        r = i("GEp6").distanceToSegment,
        s = i("Zp/P").selectionTolerance,
        a = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        var t, i, n, o, r, s, a, l, c = !1;
        for (n = 0; n < this.items.length; ++n) r = (o = this.items[n]).x, s = o.y, TradingView.isNaN(r) || TradingView.isNaN(s) || (null != o.style ? (a = o.style.color, t = o.style.width) : (a = this.lineColor, t = this.lineWidth), a !== i && (i = a, c && e.fill(), e.beginPath(), e.fillStyle = a), l = 3 * t, e.rect(r - l / 2, s - t / 2, l, t), e.rect(r - t / 2, s - l / 2, t, l), c = !0);
        c && e.fill()
      }, n.prototype.hitTest = function (e) {
        var t, i, n, l, c, u = s(this.lineWidth);
        for (c = 1; c < this.items.length; ++c)
          if (t = this.items[c - 1], i = this.items[c], n = t.x, l = i.x, r(new o(n, t.y), new o(l, i.y), new o(e.x, e.y)).distance <= u) return new a(a.REGULAR);
        return null
      }, t.PaneRendererCross = TradingView.PaneRendererCross = n
    },
    V086: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolEllipse";
        var o = t || n.createProperties();
        s.call(this, e, o), this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("obU/").EllipsePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("aO4+").Point,
        r = i("GEp6").distanceToLine,
        s = i("Ss5c").LineDataSource,
        a = i("Ocx9").DefaultProperty,
        l = i("hayr").propertyPages;
      inherit(n, s), n.prototype.startChanging = function (e, t) {
        var i, n, o;
        s.prototype.startChanging.call(this, e, t), 0 !== e && 1 !== e || (i = this.pointToScreenPoint(this._points[0])[0], n = this.pointToScreenPoint(this._points[1])[0], o = this.pointToScreenPoint(this._points[2])[0], this._dist = r(i, n, o).distance || 0)
      }, n.prototype._preparePoint = function (e, t) {
        var i = this._preparePointInternal(e, t, !1);
        return t && t.shift() && this._points[0].index === this._points[1].index && this._fixVerticalDiameterPoints(this._points[1], this._points[0], i), i
      }, n.prototype._preparePointInternal = function (e, t, i) {
        var n, r, a, l, c, u, h, d, p, f, _ = Object.assign({}, e);
        if (t && t.shift()) {
          if (n = this.points().length, !this._fakePointAdded && 3 === n && !i) return _;
          (this._fakePointAdded || 2 === n || i) && (this._snapPoint45Degree(e, this._points[0]), this._fakePointAdded ? this._points[1] = e : i || (this._fakePointAdded = !0, s.prototype._addPointIntenal.call(this, e)), r = this.pointToScreenPoint(this._points[0])[0], l = (a = this.pointToScreenPoint(this._points[1])[0]).x - r.x, c = a.y - r.y, u = Math.sqrt(l * l + c * c) / 2, h = a.subtract(r), d = r.add(a).scaled(.5), p = (p = new o(-h.y, h.x)).normalized(), f = d.add(p.scaled(u)), _ = this.screenPointToPoint(f), (TradingView.isNaN(_.price) || TradingView.isNaN(_.index)) && (_ = this.screenPointToPoint(d)))
        } else this._fakePointAdded && (this._points.splice(1, 1), this._fakePointAdded = !1);
        return _
      }, n.prototype._fixVerticalDiameterPoints = function (e, t, i) {
        var n = this.pointToScreenPoint(e)[0],
          o = this.pointToScreenPoint(t)[0],
          r = this._model.timeScale(),
          s = r.indexToCoordinate(e.index),
          a = r.indexToCoordinate(i.index),
          l = 2 * Math.abs(s - a);
        l *= t.price > e.price ? 1 : -1, e.price = this.screenPointToPoint({
          x: n.x,
          y: o.y + l
        }).price
      }, n.prototype.addPoint = function (e, t, i) {
        var n = s.prototype.addPoint.call(this, e, t, i);
        return n && (this._fakePointAdded = !1), n
      }, n.prototype.setPoint = function (e, t, i) {
        var n, s, a, l, c = Object.assign({}, t),
          u = this.pointToScreenPoint(this._points[0])[0],
          h = this.pointToScreenPoint(this._points[1])[0],
          d = this.pointToScreenPoint(this._points[2])[0];
        switch (e) {
          case 0:
            if (i && i.shift()) {
              this._snapPoint45Degree(c, this._points[1]), this._points[0] = c, this._points[2] = this._preparePointInternal(this._points[2], i, !0), this._points[0].index === this._points[1].index && this._fixVerticalDiameterPoints(this._points[0], this._points[1], this._points[2]);
              break
            }
            u = this.pointToScreenPoint(c)[0], n = h.subtract(u), s = u.add(h).scaled(.5), a = (a = new o(-n.y, n.x)).normalized(), d = s.add(a.scaled(this._dist)), d = this.screenPointToPoint(d), this._points[0] = c, this._points[2] = d;
            break;
          case 1:
            if (i && i.shift()) {
              this._snapPoint45Degree(c, this._points[0]), this._points[1] = c, this._points[2] = this._preparePointInternal(this._points[2], i, !0), this._points[0].index === this._points[1].index && this._fixVerticalDiameterPoints(this._points[1], this._points[0], this._points[2]);
              break
            }
            n = (h = this.pointToScreenPoint(c)[0]).subtract(u), s = u.add(h).scaled(.5), a = (a = new o(-n.y, n.x)).normalized(), d = s.add(a.scaled(this._dist)), d = this.screenPointToPoint(d), this._points[1] = c, this._points[2] = d;
            break;
          case 2:
          case 3:
            c = this.pointToScreenPoint(c)[0], l = r(u, h, c).distance, n = h.subtract(u), s = u.add(h).scaled(.5), a = (a = new o(-n.y, n.x)).normalized(), d = s.add(a.scaled(l)), d = this.screenPointToPoint(d), this._points[2] = d
        }
        this.normalizePoints()
      }, n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Ellipse"
      }, n.prototype.name = function () {
        return "Ellipse"
      }, n.version = 2, n.prototype.migrateVersion = function (e, t, i) {
        var n, o, r;
        1 === e && 2 === this._points.length && (n = this._points[0].price, o = .5 * (this._points[0].price + this._points[1].price), this._points[0] = {
          price: o,
          index: this._points[0].index
        }, this._points[1] = {
          price: o,
          index: this._points[1].index
        }, this._points.push({
          price: n,
          index: this._points[0].index
        })), 1 === e && 2 === this._timePoint.length && (n = this._timePoint[0].price, o = .5 * (this._timePoint[0].price + this._timePoint[1].price), this._timePoint[0].price = o, this._timePoint[1].price = o, r = {
          price: n,
          offset: this._timePoint[0].offset,
          time_t: this._timePoint[0].time_t
        }, this._timePoint.push(r))
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return l.LineToolEllipseStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new a("linetoolellipse", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        s._configureProperties(e)
      }, t.LineToolEllipse = n
    },
    "V14+": function (e, t, i) {},
    V3Oj: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolText";
        var o = t || n.createProperties();
        r.call(this, e, o), this._timeScale = e.timeScale(), this._barSpacing = e.timeScale().barSpacing(), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("mr3a").TextPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }

      function o(e, t) {
        var i = t || o.createProperties();
        n.call(this, e, i)
      }
      var r = i("Ss5c").LineDataSource,
        s = i("fgLi").DataSource,
        a = i("tc+8"),
        l = i("Ocx9").DefaultProperty,
        c = i("hayr").propertyPages;
      inherit(n, r), n.MIN_WIDTH = 100, n.prototype.setPoint = function (e, t) {
        var i, o, r = this.properties();
        if (0 === e && r.wordWrapWidth && r.wordWrapWidth.value()) {
          if (i = this.isFixed() ? this.fixedPoints()[0].x : this._timeScale.indexToCoordinate(this.points()[0].index), o = this._timeScale.indexToCoordinate(t.index) - i - ~~(r.fontsize.value() / 6), !isFinite(o)) return;
          r.wordWrapWidth.setValue(Math.max(n.MIN_WIDTH, o))
        }
      }, n.prototype.pointsCount = function () {
        return 1
      }, n.prototype.title = function () {
        return window.t("Text", {
          context: "tool"
        })
      }, n.prototype.name = function () {
        return "Text"
      }, n.prototype.setPriceScale = function (e) {
        s.prototype.setPriceScale.call(this, e), e && e.priceRange() && (this._priceDencity = e.height() / e.priceRange().length(), this._isPriceDencityLog = e.isLog())
      }, n.prototype.restoreSize = function () {
        this._barSpacing = this._model.timeScale().barSpacing(), this._priceDencity = this.priceScale().height() / this.priceScale().priceRange().length(), this.updateAllViews(), this._model.updateSource(this)
      }, n.prototype.template = function () {
        var e = r.prototype.template.call(this);
        return e.text = this.properties().childs().text.value(), e
      }, n.prototype._applyTemplateImpl = function (e) {
        r.prototype._applyTemplateImpl.call(this, e), this.properties().childs().text.setValue(e.text)
      }, n.createProperties = function (e) {
        var t = new l("linetooltext", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        r._configureProperties(e), e.hasChild("text") || e.addChild("text", new a(window.t("Text"))), e.addExclusion("text")
      }, inherit(o, n), o.prototype.title = function () {
        return window.t("Anchored Text")
      }, o.prototype.name = function () {
        return "Anchored Text"
      }, o.prototype.isFixed = function () {
        return !0
      }, o.createProperties = function (e) {
        var t = new l("linetooltextabsolute", e);
        return o._configureProperties(t), t
      }, o._configureProperties = function (e) {
        n._configureProperties(e)
      }, n.prototype.state = function (e) {
        var t = r.prototype.state.call(this, e);
        return e && (t.state.fixedSize = !1), t
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return c.LineToolTextStylesPropertyPage
      }, t.LineToolText = n, t.LineToolTextAbsolute = o
    },
    V9Ec: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.trialMessageSuccessDialog = function () {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        return new Promise(function (t) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(285), i.e(3), i.e("trial-message-success-dialog")]).then(function (n) {
            t(i("qNxe").trialMessageSuccessDialog(e))
          }.bind(null, i)).catch(i.oe)
        })
      }
    },
    VNzU: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i, o, r, s, a, l, c, u, h = new Set;
        if ("number" == typeof e) return h.add(e), {
          indices: h,
          smallestIndex: e,
          sizer: function (e) {
            return e
          }
        };
        for (t = e[0], o = 1 / 0, r = 0, s = i = e.slice(1).map(n); r < s.length; r++)
          for (a = s[r], l = 0, c = Array.from(a.indices); l < c.length; l++)(u = c[l]) < o && (o = u), h.add(u);
        return {
          indices: h,
          smallestIndex: o,
          sizer: function (e, n, o, r) {
            var s, a, l, c, u, h, d, p, f, _, m = 0;
            for (l = 0, c = i; l < c.length; l++)(u = c[l]).smallestIndex >= o || (u.indices.has(n) && (s = u, a = m), m++);
            return d = a * ((h = (("h" === t ? e.width : e.height) - (m - 1) * r) / m) + r), p = Math.round(d), f = Math.round(d + h) - p, _ = "h" === t ? {
              top: e.top,
              left: e.left + p,
              height: e.height,
              width: f
            } : {
              top: e.top + p,
              left: e.left,
              height: f,
              width: e.width
            }, s.sizer(_, n, o, r)
          }
        }
      }

      function o(e, t) {
        var i = n(e);
        return {
          title: t,
          count: i.indices.size,
          sizer: i.sizer
        }
      }

      function r(e) {
        return "s" === e
      }

      function s(e) {
        return !r(e)
      }
      var a, l, c, u, h;
      i.r(t), a = i("mrSG"), l = i("Dq3s"), i.d(t, "layouts", function () {
        return h
      }), i.d(t, "isSingleLayout", function () {
        return r
      }), i.d(t, "isMultipleLayout", function () {
        return s
      }), c = {
        s: {
          title: "1 chart",
          count: 1,
          sizer: function (e, t) {
            if (0 !== t) throw new RangeError("invalid index");
            return e
          }
        }
      }, u = {
        "2h": o(l["2h"], "2-up Horizontal"),
        "2v": o(l["2v"], "2-up Vertical"),
        "2-1": o(l["2-1"], "2 at top and 1 at bottom"),
        "1-2": o(l["1-2"], "1 at top and 2 at bottom"),
        "3s": o(l["3s"], "3-up Stacked"),
        "3r": o(l["3r"], "3-up Stacked Left"),
        "3h": o(l["3h"], "3-up Horizontal"),
        "3v": o(l["3v"], "3-up Vertical"),
        4: o(l[4], "4-up"),
        "4h": o(l["4h"], "4-up Horizontal"),
        "4v": o(l["4v"], "4-up Vertical"),
        "4s": o(l["4s"], "4-up Stacked"),
        "2-2": o(l["2-2"], "2 at top and 2 at bottom"),
        "1-3": o(l["1-3"], "1 at top and 3 at bottom"),
        "1-4": o(l["1-4"], "1 at top and 4 at bottom"),
        "5s": o(l["5s"], "5-up Stacked"),
        6: o(l[6], "6-up"),
        "6c": o(l["6c"], "6-up in two columns"),
        8: o(l[8], "8-up"),
        "8c": o(l["8c"], "8-up in two columns")
      }, h = a.__assign({}, c, u)
    },
    VVxS: function (e, t, i) {
      "use strict";
      var n, o = function () {
        try {
          this.isAvailable = !0, this.localStorage = window.localStorage, this.localStorage.setItem("tvlocalstorage.available", "true")
        } catch (e) {
          delete this.isAvailable, delete this.localStorage
        }
        this._updateLength()
      };
      o.prototype.length = 0, o.prototype.isAvailable = !1, o.prototype.localStorage = {
          "tvlocalstorage.available": "false"
        }, o.prototype._updateLength = function () {
          var e, t;
          if (this.isAvailable) this.length = this.localStorage.length;
          else {
            for (t in e = 0, this.localStorage) this.localStorage.hasOwnProperty(t) && e++;
            this.length = e
          }
        }, o.prototype.key = function (e) {
          return this.isAvailable ? this.localStorage.key(e) : Object.keys(this.localStorage)[e]
        }, o.prototype.getItem = function (e) {
          return this.isAvailable ? this.localStorage.getItem(e) : this.localStorage[e]
        }, o.prototype.setItem = function (e, t) {
          this.isAvailable ? this.localStorage.setItem(e, t) : this.localStorage[e] = t, this._updateLength()
        }, o.prototype.removeItem = function (e) {
          this.isAvailable ? this.localStorage.removeItem(e) : delete this.localStorage[e], this._updateLength()
        }, o.prototype.clear = function () {
          this.isAvailable ? this.localStorage.clear() : this.localStorage = {}, this._updateLength()
        },
        (n = function (e) {
          this.storage = e
        }).prototype.getItem = function (e) {
          return Promise.resolve(this.storage.getItem(e))
        }, n.prototype.setItem = function (e, t) {
          return Promise.resolve(this.storage.setItem(e, t))
        }, window.TVLocalStorage = new o, window.TVLocalStorageAsync = new n(window.TVLocalStorage), e.exports = {
          TVLocalStorage: window.TVLocalStorage,
          TVLocalStorageAsync: window.TVLocalStorageAsync
        }
    },
    VdBB: function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "HitTestResult", function () {
        return n
      });
      var n = function () {
        function e(e, t, i) {
          this._result = e, this._data = t, this._eraseMarker = i
        }
        return e.prototype.result = function () {
          return this._result
        }, e.prototype.data = function () {
          return this._data
        }, e.prototype.eraseMarker = function () {
          return this._eraseMarker
        }, e.MOVEPOINT_BACKGROUND = 1, e.REGULAR = 2, e.MOVEPOINT = 3, e.CHANGEPOINT = 4, e.CUSTOM = 5, e.CUSTOM_MOVE = 6, e
      }()
    },
    Vdly: function (e, t, i) {
      "use strict";
      (function (e, t) {
        var n, o, r, s, a, l;
        i("qFKp"), n = i("dTSQ").regExpEscape, o = i("FBuY").TVXWindowEvents, r = i("VVxS").TVLocalStorage, s = i("aIyQ"), a = ["s.tradingview.com", "betacdn.tradingview.com"], l = window.TVSettings = function () {
          function t(e) {
            return w + "." + e
          }

          function i(e, t) {
            var i;
            return i = P[e], window.is_authenticated && !L || null != i || (i = P[e]), null == i ? t : i
          }

          function c(e, t, i) {
            i = i || {};
            var n = "" + t;
            return P[e] !== n && (P[e] = n, d(e)), i.forceFlush && !x && (x = setTimeout(function () {
              x = void 0, p()
            }, b)), l
          }

          function u(e, t) {
            return t = t || {}, null != P[e] && (delete P[e], d(e)), t.forceFlush && p(), l
          }

          function h() {
            C = void 0, T.length && p()
          }

          function d(e) {
            if (D) null == P[e] ? D.removeValue(e) : D.setValue(e, P[e]);
            else if (!window.is_authenticated || L) try {
              null == P[e] ? r.removeItem(t(e)) : r.setItem(t(e), P[e])
            } catch (e) {} else T.push(e), C || (C = setTimeout(h, S));
            o.emit("settings", JSON.stringify({
              key: e,
              value: P[e]
            }))
          }

          function p(t) {
            var i, n, o, r, s;
            if (!e.enabled("widget") && window.is_authenticated && !L && 0 !== T.length) {
              for (i = T, T = [], n = {}, o = i.length; o--;) r = i[o], void 0 === (s = P[r]) && (s = null), n[r] = s;
              $.ajax({
                url: "/savesettings/",
                type: "POST",
                data: {
                  delta: JSON.stringify(n)
                },
                async: !t
              })
            }
          }

          function f() {
            return Object.keys(P)
          }

          function _(e) {
            for (var t = 0; t < E.length; ++t)
              if (E[t].exec(e)) return !0;
            return !1
          }

          function m(e) {
            var t, i, n, o;
            for (P = {}, t = 0 === Object.keys(e).length, i = w + ".", n = r.length; n--;)(o = r.key(n)) && o.substring(0, i.length) === i && (t && c(o.substring(i.length), r.getItem(o)), r.removeItem(o));
            Object.keys(e).forEach(function (t) {
              P[t] = e[t] + ""
            })
          }
          var g, y, v, S, b, w, P, T, C, x, E, I, A = !1,
            L = e.enabled("cqg_terminal"),
            D = null;
          try {
            A = !TradingView.onWidget() && parent && parent !== window && !!parent.IS_DEMO_PAGE
          } catch (e) {}
          return A ? (g = {
            "widgetbar.layout-settings": {
              widgets: {},
              settings: {
                minimized: !0
              }
            },
            notShowMainWizard: !0
          }, {
            loaded: !1,
            loadedModel: !1,
            getValue: y = function (e, t, i) {
              var n = g[e];
              return null == n ? t : n
            },
            getJSON: y,
            getBool: y,
            getFloat: y,
            getInt: y,
            setValue: v = function () {},
            setJSON: v,
            remove: v,
            keys: function () {
              return Object.keys(g)
            },
            keysMask: function () {
              return []
            },
            sync: v,
            onSync: {
              subscribe: function () {}
            }
          }) : (S = 12e4, b = 10, "local" === window.environment && (S = 5e3), w = TradingView.onWidget() ? "tradingview-widget" : "tradingview", P = {}, T = [],
            E = [/^widgetbar\.widget\.watchlist.+/, /.+quicks$/, /^widgetbar\.layout-settings$/, /^ChartSideToolbarWidget\.visible$/, /^onwidget\.watchlist$/, /^domepanel.visible$/, /^orderpanel.visible$/, /^chart\.favoriteDrawings$/, /^chart\.favoriteDrawingsPosition$/, /^loadChartDialog.favorites$/, /^ChartFavoriteDrawingToolbarWidget\.visible/, /^trading\.chart\.proterty$/, /^trading_floating_toolbar\.position$/, /^trading\.orderWidgetMode\./], o.on("settings", function (e) {
              var t = JSON.parse(e);
              null == t.value ? delete P[t.key] : P[t.key] = t.value
            }), I = new s, document.addEventListener("visibilitychange", function () {
              "hidden" !== document.visibiltyState && !0 !== document.hidden || p()
            }), window.addEventListener("unload", function () {
              p(!0)
            }), {
              loaded: !1,
              loadedModel: !1,
              getValue: i,
              getJSON: function (e, t) {
                var n = i(e, void 0);
                if (null == n) return t;
                try {
                  return JSON.parse(n)
                } catch (i) {
                  return u(e), t
                }
              },
              getBool: function (e, t) {
                var n = i(e);
                return null == n ? t : !(!n || "false" === n || 0 == +n)
              },
              getFloat: function (e, t, n) {
                var o, r = i(e, void 0);
                if (null == r) return t;
                if (o = parseFloat(r), !isFinite(o)) throw new TypeError('"' + r + '" is not float (key: "' + e + '")');
                return o
              },
              getInt: function (e, t, n) {
                var o, r = i(e, void 0);
                if (null == r) return t;
                if (o = parseInt(r, 10), !isFinite(o)) throw new TypeError('"' + r + '" is not int (key: "' + e + '")');
                return o
              },
              setValue: c,
              setJSON: function (e, t, i) {
                return c(e, JSON.stringify(t), i), l
              },
              remove: u,
              keys: f,
              keysMask: function (e, t) {
                var i, o = f(),
                  r = [];
                for (e = new RegExp("^" + n(e).replace(/\\\*\\\*/gi, ".+").replace(/\\\*/gi, "[^.]+") + "$", "gi"), i = o.length - 1; i >= 0; i--) e.test(o[i]) && r.push(o[i]), e.lastIndex = 0;
                return r
              },
              sync: function (t) {
                D ? m(D.initialSettings || {}) : window.is_authenticated && !L ? m(t || {}) : (function () {
                  var e, t, i, n;
                  if (TradingView.onWidget() && a.includes(window.location.host))
                    for (e = "tradingview.", t = r.length; t--;) 0 === (i = r.key(t)).indexOf(e) && (n = i.replace(e, w + "."), r.setItem(n, r.getItem(i)), r.removeItem(i))
                }(), function () {
                  var t, i, n, o, s;
                  for (P = {}, t = w + ".", i = !e.enabled("save_chart_properties_to_local_storage"), n = r.length; n--;)(o = r.key(n)) && o.substring(0, t.length) === t && (s = o.substring(t.length), i && !_(s) || (P[s] = r.getItem(o)))
                }()), I.fire()
              },
              onSync: I,
              setSettingsAdapter: function (e) {
                D = e
              }
            })
        }(), setTimeout(function () {
          i.e("clear-old-settings").then(function (e) {
            i("FwaW").clearOldSettings()
          }.bind(null, i)).catch(i.oe)
        }, 3e4), t && t.exports && (t.exports = l)
      }).call(this, i("Kxc7"), i("YuTi")(e))
    },
    VfPj: function (e, t, i) {
      "use strict";

      function n(e) {
        this._items = e.items, this._y = e.y, this._h = e.h, this._w = e.w
      }
      n.prototype.draw = function (e) {}, n.prototype.drawBackground = function (e) {
        var t, i, n;
        for (e.save(), e.translate(-.5, -.5), t = 0; t < this._items.length; ++t) null != (i = this._items[t]).color && (e.fillStyle = i.color, n = t === this._items.length - 1 ? this._w : this._items[t + 1].x - i.x, e.fillRect(i.x, this._y, n, this._h));
        e.restore()
      }, n.prototype.hitTest = function (e) {
        return null
      }, t.PaneRendererBackground = TradingView.PaneRendererBackground = n
    },
    VgjZ: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "PriceAxisRendererOptionsProvider", function () {
        return r
      }), n = i("XlJ7"), o = i("zDbI"), r = function () {
        function e(e) {
          this._rendererOptions = {
            borderSize: 1,
            tickLength: 4,
            offsetSize: 1,
            fontSize: NaN,
            font: "",
            color: "",
            paddingBottom: 0,
            paddingInner: 0,
            paddingOuter: 0,
            paddingTop: 0,
            baselineOffset: 0
          }, this._chartModel = e
        }
        return e.prototype.options = function () {
          var e = this._rendererOptions,
            t = this._fontSize();
          return e.fontSize !== t && (e.fontSize = t, e.font = Object(n.makeFont)(t, o.CHART_FONT_FAMILY, ""), e.paddingTop = Math.floor(t / 3.5), e.paddingBottom = e.paddingTop, e.paddingInner = Math.max(Math.ceil(t / 2 - e.tickLength / 2), 0), e.paddingOuter = Math.ceil(t / 2 + e.tickLength / 2), e.baselineOffset = Math.round(t / 5)), e.color = this._textColor(), this._rendererOptions
        }, e.prototype._textColor = function () {
          return this._chartModel.properties().scalesProperties.textColor.value()
        }, e.prototype._fontSize = function () {
          return this._chartModel.properties().scalesProperties.fontSize.value()
        }, e
      }()
    },
    VuJ3: function (e, t, i) {
      "use strict";

      function n(e) {
        this.bars = e.bars, this.barSpacing = e.barSpacing, this.barWidth = o.optimalBarWidth(e.barSpacing), this.barLineWidth = e.thinBars ? 1 : Math.max(1, Math.round(this.barWidth)), this.dontDrawOpen = e.dontDrawOpen, this._thinBars = e.thinBars
      }
      var o = i("Zp/P"),
        r = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        var t, i, n, o, r, s;
        for (e.save(), e.translate(.5, .5), i = this.barLineWidth, n = this._thinBars ? 1 : Math.round(this.barWidth), o = this._thinBars ? 1 : n / 2, r = 0; r < this.bars.length; ++r) t !== (s = this.bars[r]).color && (e.fillStyle = s.color, t = s.color), e.fillRect(Math.round(s.time - i / 2), Math.round(s.high - o), Math.round(i), Math.round(s.low - s.high + n)), i < this.barSpacing - 1 && (this.dontDrawOpen || e.fillRect(Math.round(s.time - 1.5 * this.barWidth), Math.floor(s.open - o), Math.round(1.5 * this.barWidth), n), e.fillRect(Math.round(s.time), Math.floor(s.close - o), Math.round(1.5 * this.barWidth), n));
        e.restore()
      }, n.prototype.hitTest = function (e) {
        var t, i, n, s, a, l, c = this.bars,
          u = .5 * this.barSpacing;
        if (0 === c.length) return null;
        if (e.x < c[0].time - u) return null;
        if (e.x > c[c.length - 1].time + u) return null;
        for (t = null, i = 0; i < c.length; ++i)
          if (n = c[i], e.x <= n.time + u) {
            t = n;
            break
          } return t ? (s = o.selectionTolerance(this.barLineWidth), a = Math.min(t.high, t.low), l = Math.max(t.high, t.low), a - s <= e.y && e.y <= l + s ? new r(r.REGULAR) : null) : null
      }, t.PaneRendererBars = TradingView.PaneRendererBars = n
    },
    W5mg: function (e, t, i) {
      "use strict";

      function n(e) {
        return !e.groupId && "time" !== e.type && !e.isHidden && !o.includes(e.id)
      }
      i.d(t, "a", function () {
        return n
      });
      var o = ["first_visible_bar_time", "last_visible_bar_time"]
    },
    WPQD: function (e, t, i) {
      "use strict";

      function n() {
        var e, t, i;
        this._registeredSources = {}, this._sourcesToRow = {}, this._rowsToSources = {}, this._currentSymbol = "", this._actualCapacity = 0, this._actualWidth = 0, this._canvas = document.createElement("canvas"), this._cache = this._canvas.getContext("2d"), this._currentWidth = 400, this._canvas.width = this._currentWidth, this._canvas.height = 1, this._canvas.style.position = "absolute", this._canvas.style.top = "0", this._canvas.style.zIndex = "1000", this._canvas.style.left = "0", this._ctx = this._canvas.getContext("2d"), this._ctx.font = h.fontSize + "px" + d, t = h.fontSize + (e = h.lineSpacing), i = 3, this._padding = 8, this._rowHeight = t * i - e + 2 * this._padding + 2
      }

      function o(e, t) {
        this._constructor = "LineToolTrendLine";
        var r = t || o.createProperties();
        s.call(this, e, r),
          e._trendLineStatsCache || (e._trendLineStatsCache = new n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("ocVb").TrendLinePaneView;
            this._setPaneViews([new t(this, this._model)])
          }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("aO4+").Point,
        s = i("Ss5c").LineDataSource,
        a = i("Ocx9").DefaultProperty,
        l = i("hayr").propertyPages,
        c = i("uOxu").getLogger("Chart.LineToolTrendLine"),
        u = i("5/lF").TrendLineStatsRenderer,
        h = i("8xAY").LabelSettings,
        d = i("zDbI").CHART_FONT_FAMILY;
      n.prototype.canvas = function () {
        return this._canvas
      }, n.prototype.topByRow = function (e) {
        return e * this._rowHeight
      }, n.prototype.rowHeight = function (e) {
        return this._rowHeight
      }, n.prototype.rowWidth = function (e) {
        var t = this._rowsToSources[e];
        return this._sourcesToRow[t].width
      }, n.prototype.currentWidth = function () {
        return this._currentWidth
      }, n.prototype._findEmptyRow = function (e) {
        for (var t = 0; this._rowsToSources[t];) t++;
        return this._rowsToSources[t] = e, t >= this._actualCapacity && (this._actualCapacity++, TradingView.resizeCanvas(this._canvas, this._currentWidth, this._rowHeight * this._actualCapacity), this._ctx = this._canvas.getContext("2d"), c.logDebug("TrendLineCache. Expanging cache to " + this._actualCapacity + " items")), t
      }, n.prototype._effectiveState = function (e) {
        var t, i = {};
        return i.p1 = Object.assign({}, e.points()[0]), i.p2 = Object.assign({}, e.points()[1]), t = e.properties(), i.showBars = t.showBarsRange.value(), i.showTimeRange = t.showDateTimeRange.value(), i.showDistance = t.showDistance.value(), i.showPriceRange = t.showPriceRange.value(), i.showAngle = t.showAngle.value(), i.color = t.textcolor.value(), i.showAngle && (i.priceRange = e.priceScale().priceRange().state(), i.barSpacing = e._model.timeScale().barSpacing()), i
      }, n.prototype._effectiveStatesEquals = function (e, t) {
        var i = function (e, t) {
          return !(!e && !t) && (!(!e || t) || (!(e || !t) || (e.index !== t.index || e.price !== t.price)))
        };
        if (e && !t) return !1;
        if (!e && t) return !1;
        if (i(e.p1, t.p1)) return !1;
        if (i(e.p2, t.p2)) return !1;
        if (e.color !== t.color) return !1;
        if (e.showBars !== t.showBars) return !1;
        if (e.showTimeRange !== t.showTimeRange) return !1;
        if (e.showDistance !== t.showDistance) return !1;
        if (e.showPriceRange !== t.showPriceRange) return !1;
        if (e.showAngle !== t.showAngle) return !1;
        if (e.showAngle) {
          if (e.priceRange.min !== t.priceRange.min) return !1;
          if (e.priceRange.max !== t.priceRange.max) return !1;
          if (e.barSpacing !== t.barSpacing) return !1
        }
        return !0
      }, n.prototype.removeSource = function (e) {
        if (this._sourcesToRow[e]) {
          var t = this._sourcesToRow[e].row;
          this._ctx.save(), this._ctx.clearRect(0, this.topByRow(t), this._currentWidth, this.rowHeight(t)), this._ctx.restore(), delete this._sourcesToRow[e], delete this._rowsToSources[t]
        }
      }, n.prototype._repaintSource = function (e, t, i) {
        var n;
        this._ctx.save(), this._ctx.translate(0, this.topByRow(t) + .5), i.points[0] = new r(0, 0), i.offsetX = 0, i.offsetY = 0, delete i.horzAlign, delete i.vertAlign, this._ctx.clearRect(0, 0, this._currentWidth, this.rowHeight(t)), n = new u(i, {}).draw(this._ctx), this._sourcesToRow[e].width = n.width, this._ctx.restore()
      }, n.prototype.updateSource = function (e, t) {
        var i, n, o, r, s, a = e.properties().symbol.value();
        return this._currentSymbol !== a && (c.logDebug("TrendLineCache. Clearing canvas because of changing symbol from " + this._currentSymbol + " to " + a), this._currentSymbol = a, this._sourcesToRow = {}, this._rowsToSources = {}), i = e.id(), this._sourcesToRow[i] || (n = this._findEmptyRow(i), this._sourcesToRow[i] = {
          effectiveState: null,
          row: n
        }), o = this._sourcesToRow[e.id()].effectiveState, r = this._effectiveState(e), this._effectiveStatesEquals(o, r) || (n = this._sourcesToRow[e.id()], s = t(), this._repaintSource(i, n.row, s), this._sourcesToRow[i].effectiveState = r), this._sourcesToRow[i]
      }, inherit(o, s), o.prototype.stop = function () {
        s.prototype.stop.call(this), this._model._trendLineStatsCache.removeSource(this.id())
      }, o.prototype.pointsCount = function () {
        return 2
      }, o.prototype.title = function () {
        return "Trend Line"
      }, o.prototype.name = function () {
        return "Trend Line"
      }, o.prototype.canHasAlert = function () {
        return !0
      }, o.prototype._getAlertPlots = function () {
        return [this._linePointsToAlertPlot(this._points, null, this.properties().extendLeft.value(), this.properties().extendRight.value())]
      }, o.prototype.getStylesPropertyPage = function () {
        return l.LineToolTrendLineStylesPropertyPage
      }, o.createProperties = function (e) {
        var t = new a("linetooltrendline", e);
        return o._configureProperties(t), t
      }, o._configureProperties = function (e) {
        s._configureProperties(e)
      }, t.LineToolTrendLine = o
    },
    WPwS: function (e, t, i) {},
    Wc1E: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d;
      i.r(t), i.d(t, "DataModeIndicator", function () {
        return d
      }), n = i("mrSG"), i("YFKU"), i("HbRj"), o = i("quTg"), r = i("r8Gw"), s = {
        connecting: "tv-data-mode--connecting",
        delayed: "tv-data-mode--delayed",
        delayed_streaming: "tv-data-mode--delayed",
        endofday: "tv-data-mode--endofday",
        forbidden: "tv-data-mode--forbidden",
        realtime: "tv-data-mode--realtime",
        snapshot: "tv-data-mode--snapshot",
        loading: "tv-data-mode--loading",
        replay: "tv-data-mode--replay"
      }, a = {
        connecting: window.t("Connecting"),
        delayed: window.t("Delayed"),
        delayed_streaming: window.t("Delayed"),
        endofday: window.t("End of Day"),
        forbidden: window.t("Instrument is not allowed"),
        realtime: window.t("Real-time"),
        snapshot: window.t("Snapshot"),
        loading: "",
        replay: window.t("Replay Mode")
      }, l = {
        connecting: window.t("C", {
          context: "data_mode_connecting_letter"
        }),
        delayed: window.t("D", {
          context: "data_mode_delayed_letter"
        }),
        delayed_streaming: window.t("D", {
          context: "data_mode_delayed_streaming_letter"
        }),
        endofday: window.t("E", {
          context: "data_mode_end_of_day_letter"
        }),
        forbidden: window.t("F", {
          context: "data_mode_forbidden_letter"
        }),
        realtime: window.t("R", {
          context: "data_mode_realtime_letter"
        }),
        snapshot: window.t("S", {
          context: "data_mode_snapshot_letter"
        }),
        loading: "",
        replay: window.t("R", {
          context: "data_mode_replay_letter"
        })
      }, u = {
        streaming: "realtime"
      }, h = {
        classMap: s,
        classSuffix: "",
        data: {
          values: {
            update_mode: "connecting"
          }
        },
        labelMap: a,
        modeInterval: c = 600,
        short: !1,
        shortLabelMap: l,
        showTooltip: !0,
        tooltipType: "custom"
      }, d = function (e) {
        function t(t) {
          var i = e.call(this, t) || this;
          return i._quoteSessionPrefix = "data-mode-indicator", i._componentClass = "tv-data-mode", i._init(t), i
        }
        return n.__extends(t, e), t.prototype.getLabel = function () {
          return !0 === this._shortMode ? this._shortLabelMap[this._value] || "" : e.prototype.getLabel.call(this)
        }, t.prototype.setMode = function (e, t) {
          this.update({
            values: {
              update_mode: e,
              update_mode_seconds: t
            }
          })
        }, t.prototype.hide = function () {
          this._el.classList.add("i-hidden")
        }, t.prototype.show = function () {
          this._el.classList.remove("i-hidden")
        }, t.prototype.getTooltipText = function () {
          var e = "",
            t = this.getValue();
          if ("" === t) return e;
          switch (t) {
            case "delayed":
              e = window.t("Quotes are delayed by {0} min and updated every 30 seconds");
              break;
            case "delayed_streaming":
              e = window.t("Quotes are delayed by {0} min");
              break;
            default:
              e = this._labelMap[t] || e
          }
          return ["delayed", "delayed_streaming"].includes(t) && (e = e.format(Math.round(this._modeInterval / 60))), e
        }, t.prototype._init = function (t) {
          void 0 === t && (t = {});
          var i = Object.assign({}, h, t);
          this._modeInterval = i.modeInterval || c, this._shortLabelMap = i.shortLabelMap || l, e.prototype._init.call(this, i), this._render()
        }, t.prototype._getValueFromData = function (e) {
          var t;
          return t = void 0 !== e.values && void 0 !== e.values.update_mode ? e.values.update_mode : this.getValue(), u[t] || t
        }, t.prototype._updateValue = function (t, i) {
          void 0 !== t.values && void 0 !== t.values.update_mode_seconds && (this._modeInterval = t.values.update_mode_seconds), e.prototype._updateValue.call(this, t, i)
        }, t
      }(r.a)
    },
    "Wh/o": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 16" width="23px" height="16px"><path d="M11.404 15.2c6.298 0 11.404-7.6 11.404-7.6S17.702 0 11.404 0 0 7.6 0 7.6s5.106 7.6 11.404 7.6zm-3.8-7.6c0-2.11 1.688-3.8 3.8-3.8s3.8 1.69 3.8 3.8-1.72 3.8-3.8 3.8c-2.112 0-3.8-1.69-3.8-3.8z"/></svg>'
    },
    Wh6B: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolPrediction";
        var o = t || n.createProperties();
        r.call(this, e, o), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("Ay2m").PredictionPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Eyy1").ensureNotNull,
        r = i("Ss5c").LineDataSource,
        s = i("Ocx9").DefaultProperty,
        a = i("hayr").propertyPages,
        l = i("08i5");
      inherit(n, r), n.prototype.status = function () {
          return this._properties.status.value()
        }, n.prototype.setStatus = function (e) {
          return this._properties.status.setValue(e)
        }, n.prototype.pointsCount = function () {
          return 2
        }, n.prototype.title = function () {
          return "Forecast"
        }, n.prototype.name = function () {
          return "Forecast"
        }, n.prototype.restorePoints = function (e, t, i) {
          r.prototype.restorePoints.call(this, e, t, i), this.checkAlert()
        }, n.prototype.checkAlert = function () {
          var e, t, i, n;
          this._points.length < 2 || this._model.mainSeries().bars().isEmpty() || (e = this._points[1], this.status() ? e.index > this._model.timeScale().baseIndex() && this.setStatus(l.AlertStatus.Waiting) : null !== (t = this._model.mainSeries().bars().valueAt(e.index)) && ((i = this.direction()) === l.Direction.Up && t[TradingView.HIGH_PLOT] >= e.price ? this.setStatus(l.AlertStatus.Success) : i === l.Direction.Down && t[TradingView.LOW_PLOT] <= e.price ? this.setStatus(l.AlertStatus.Success) : (n = o(this._model.mainSeries().bars().lastIndex()), e.index !== n && this.setStatus(l.AlertStatus.Failure))))
        },
        n.prototype.addPoint = function (e) {
          var t = r.prototype.addPoint.call(this, e);
          return t && this.checkAlert(), t
        }, n.prototype.endChanging = function () {
          r.prototype.endChanging.call(this), this.setStatus(l.AlertStatus.Waiting), this.checkAlert()
        }, n.prototype.onData = function (e) {
          r.prototype.onData.call(this, e), this.checkAlert()
        }, n.prototype.endMoving = function () {
          r.prototype.endMoving.call(this), this.setStatus(l.AlertStatus.Waiting), this.checkAlert()
        }, n.prototype.direction = function () {
          var e;
          return this.points().length < 2 ? l.Direction.Up : (e = this.points()[0], this.points()[1].price > e.price ? l.Direction.Up : l.Direction.Down)
        }, n.prototype.getStylesPropertyPage = function () {
          return a.LineToolPredictionStylesPropertyPage
        }, n.createProperties = function (e) {
          var t = new s("linetoolprediction", e);
          return n._configureProperties(t), t
        }, n._configureProperties = function (e) {
          r._configureProperties(e), e.merge({
            status: l.AlertStatus.Waiting
          })
        }, t.LineToolPrediction = n
    },
    Wh9f: function (e, t, i) {
      "use strict";

      function n(e) {
        return r(s(e), o(e))
      }

      function o(e) {
        var t, i = {
          shortName: e.shortName,
          exchange: e.exchange,
          proName: e.proName,
          type: e.type
        };
        return e.proName && e.proName.includes(":") && (t = e.proName.split(":"), i.exchange = t[0], i.shortName = t[1]), i
      }

      function r(e, t) {
        return e.replace("{tvexchange}", t.exchange || "").replace("{tvsymbol}", t.shortName || "").replace("{tvprosymbol}", t.proName || "")
      }

      function s(e) {
        var t = e.type && ["spread", "expression"].includes(e.type);
        return t ? e.proName ? "/symbols/spread/{tvprosymbol}/" : "/" : void 0 === e.shortName && void 0 === e.proName ? (console.warn("Params missed"), "/") : e.type && ["forex", "bitcoin", "crypto"].includes(e.type) ? e.exchange ? "/symbols/{tvsymbol}/?exchange={tvexchange}" : "/symbols/{tvsymbol}/" : e.exchange || e.proName ? "/symbols/{tvexchange}-{tvsymbol}/" : "/symbols/{tvsymbol}/"
      }

      function a(e, t) {
        var i, n, s = e;
        if (/{tvsymbol}|{tvexchange}|{tvprosymbol}/.test(e) || (i = "tvprosymbol", void 0 === t.proName && (i = "tvsymbol"), s = e + "?tvwidgetsymbol={" + i + "}"), n = r(s, o(t)), !Object(f.isSafeUrl)(n)) throw new Error("The symbol URL " + n + " is not allowed.");
        return n
      }

      function l(e, t, i, n) {
        var s = window.locale_domains ? Object(p.determineBaseUrl)(window.locale_domains, n) : window.location.origin,
          a = r(e, o(t)),
          l = s + a;
        return i ? Object(p.addUtmToUrl)(l, i) : l
      }

      function c(e, t, i) {
        return l(s(e), e, t, i)
      }

      function u(e, t) {
        return l("/chart/?symbol={tvprosymbol}", e, t)
      }

      function h(e, t, i) {
        return l(s(e) + "technicals/", e, t, i)
      }
      var d, p, f;
      i.r(t), i.d(t, "getSymbolPagePath", function () {
        return n
      }), i.d(t, "makeSymbolInfoWithSymbolInfoPriority", function () {
        return o
      }), i.d(t, "renderTemplate", function () {
        return r
      }), i.d(t, "makeSymbolPagePathTemplate", function () {
        return s
      }), i.d(t, "makeTemplateSymbolUrl", function () {
        return a
      }), i.d(t, "makeTemplatedSymbolPageUrl", function () {
        return l
      }), i.d(t, "makeSymbolPageUrl", function () {
        return c
      }), i.d(t, "makeSymbolChartUrl", function () {
        return u
      }), i.d(t, "makeSymbolTechnicalsPageUrl", function () {
        return h
      }), d = i("bSeV"), p = i("E1RQ"), f = i("wuAJ")
    },
    WkOR: function (e, t, i) {
      "use strict";

      function n(e, t) {
        return void 0 === e ? void 0 === t : void 0 !== t && (s ? e.toUpperCase() === t.toUpperCase() : e === t)
      }

      function o(e, t) {
        return e.some(function (e) {
          return n(t, e)
        })
      }
      var r, s;
      i.r(t), i.d(t, "areEqualSymbols", function () {
        return n
      }), i.d(t, "includesEqualSymbol", function () {
        return o
      }), r = i("Kxc7"), s = r.enabled("uppercase_instrument_names")
    },
    WkYF: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolDateRange";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("3xLB").DateRangePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Date Range"
      }, n.prototype.name = function () {
        return "Date Range"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolDateRangeStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetooldaterange", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolDateRange = n
    },
    Wo0S: function (e, t, i) {
      e.exports = {
        "common-tooltip": "common-tooltip-s2GEoMlT-",
        "common-tooltip--hidden": "common-tooltip--hidden-Z0EAvXgv-",
        "common-tooltip--horizontal": "common-tooltip--horizontal-13imOC5w-",
        "common-tooltip--farther": "common-tooltip--farther-2yXMAkHF-",
        "common-tooltip--vertical": "common-tooltip--vertical-mcRoucek-",
        "common-tooltip-farther": "common-tooltip-farther-XoKytD99-",
        "common-tooltip--no-pointer-events": "common-tooltip--no-pointer-events-3nL0Vygu-",
        "common-tooltip--direction_normal": "common-tooltip--direction_normal-3u9ejKM2-",
        "common-tooltip__body": "common-tooltip__body-356XFpBj-",
        "common-tooltip__button-container": "common-tooltip__button-container-3EjyKV3s-",
        "common-tooltip__body--no-buttons": "common-tooltip__body--no-buttons-3quqi1Sv-",
        "common-tooltip__button": "common-tooltip__button-1rnQgujz-",
        "common-tooltip--direction_reversed": "common-tooltip--direction_reversed-XN-JUTdr-",
        "common-tooltip__ear-holder": "common-tooltip__ear-holder-yIJjpvgu-",
        "common-tooltip__ear-holder--below": "common-tooltip__ear-holder--below-1rmzWejA-",
        "common-tooltip__ear-holder--above": "common-tooltip__ear-holder--above-1D8FkNkw-",
        "common-tooltip__ear-holder--before": "common-tooltip__ear-holder--before-oXq5sFXr-",
        "common-tooltip__ear-holder--after": "common-tooltip__ear-holder--after-BnAcuW1N-",
        "common-tooltip__body--with-hotkey": "common-tooltip__body--with-hotkey-2wXRtgYZ-",
        "common-tooltip__body--width_wide": "common-tooltip__body--width_wide-3oG604Li-",
        "common-tooltip__body--width_narrow": "common-tooltip__body--width_narrow-34hrFTFo-",
        "common-tooltip__body--no-padding": "common-tooltip__body--no-padding-2vVe6Xco-",
        "common-tooltip__hotkey-block": "common-tooltip__hotkey-block-2gS_uAOl-",
        "common-tooltip__hotkey-block--divider": "common-tooltip__hotkey-block--divider-rQ38KmpQ-",
        "common-tooltip__hotkey-text": "common-tooltip__hotkey-text-1eb7dyCg-",
        "common-tooltip__hotkey-button": "common-tooltip__hotkey-button-1XJ40e4D-",
        "common-tooltip__plus-sign": "common-tooltip__plus-sign-3CKSupKp-"
      }
    },
    WoPS: function (e, t, i) {
      "use strict";

      function n(e) {
        this.bars = e.bars, this.barSpacing = e.barSpacing, this.barLineWidth = Math.max(1, o.optimalBarWidth(e.barSpacing))
      }
      var o = i("Zp/P"),
        r = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        var t, i, n;
        for (e.save(), e.lineCap = "square", e.translate(.5, .5), t = 0; t < this.bars.length; ++t) i = this.bars[t], n = Math.round(.5 * this.barLineWidth), i.isTwoColorBar ? (e.fillStyle = i.upColor, e.fillRect(Math.round(i.exactTime - n), Math.round(i.high - n), Math.round(2 * n), Math.round(i.additionalPrice - i.high + n)), e.fillStyle = i.downColor, e.fillRect(Math.round(i.exactTime - n), Math.round(i.additionalPrice), Math.round(2 * n), Math.round(i.low - i.additionalPrice + n))) : (e.fillStyle = i.color, e.fillRect(Math.round(i.exactTime - n), Math.round(i.high - n), Math.round(2 * n), Math.round(i.low - i.high) + 2 * n)), i.combinedWithProjection || (i.isTwoColorBar ? e.fillStyle = i.isUp ? i.downColor : i.upColor : e.fillStyle = i.color, e.fillRect(Math.round(i.exactTime - this.barSpacing + n), Math.round(i.open - n), Math.round(this.barSpacing - 2 * n + 1), Math.round(2 * n)));
        e.restore()
      }, n.prototype.hitTest = function (e) {
        var t, i, n, s, a, l, c = this.bars,
          u = .5 * this.barLineWidth;
        if (0 === c.length) return null;
        if (e.x < c[0].time - u) return null;
        if (e.x > c[c.length - 1].time + u) return null;
        for (t = null, i = 0; i < c.length; ++i)
          if (n = c[i], e.x <= n.time + u) {
            t = n;
            break
          } return t ? (s = o.selectionTolerance(.5 * this.barLineWidth), a = Math.min(t.high, t.low), l = Math.max(t.high, t.low), a - s <= e.y && e.y <= l + s ? new r(r.REGULAR) : null) : null
      }, t.PaneRendererKagi = TradingView.PaneRendererKagi = n
    },
    WqyU: function (e, t, i) {
      (function (e) {
        var t;
        "undefined" != typeof window && (t = window.TVScript = window.TVScript || {}), (t = t || {}).Access = {}, t.Access.ACCESS_OPEN_NO_AUTH = "open_no_auth", t.Access.ACCESS_CLOSED_NO_AUTH = "closed_no_auth", t.Access.ACCESS_CLOSED_NEEDS_AUTH = "closed_needs_auth", t.Access.MAP_ID_TO_NAME = {
          1: t.Access.ACCESS_OPEN_NO_AUTH,
          2: t.Access.ACCESS_CLOSED_NO_AUTH,
          3: t.Access.ACCESS_CLOSED_NEEDS_AUTH
        }, t.Access.MAP_NAME_TO_ID = {}, Object.keys(t.Access.MAP_ID_TO_NAME).forEach(function (e) {
          t.Access.MAP_NAME_TO_ID[t.Access.MAP_ID_TO_NAME[e]] = e
        }), t.Kinds = {}, t.Kinds.STUDY = "study", t.Kinds.STRATEGY = "strategy", t.PinePrefix = {}, t.PinePrefix.USER = "USER;", t.PinePrefix.PUB = "PUB;", t.PinePrefix.STD = "STD;", t.PinePrefix.TV = "TV_", t.PinePrefix.EDGR = "EDGR_", t.PineType = {}, t.PineType.UserSaved = "PineType_UserSaved", t.PineType.UserPublished = "PineType_UserPublished", t.PineType.BuiltIn = "PineType_BuiltIn", t.PineType.Addon = "PineType_Addon", t.Type = t.Type || function () {}, t.Type.VOID = "void", t.Type.INTEGER = "integer", t.Type.FLOAT = "float", t.Type.STRING = "string", t.Type.BOOL = "bool", t.Type.COLOR = "color", t.Type.SERIES = "series", t.Type.PLOT = "plot", t.Type.HLINE = "hline", t.Type.BARCOLOR = "barcolor", t.Type.BGCOLOR = "bgcolor", t.Type.PLOTSHAPES = "plotshape", t.Type.PLOTCHARS = "plotchar", t.Type.PLOTARROWS = "plotarrow", t.Type.NA = "na", t.Type.ARRAY = "array", t.TranslatorDefaultVersion = 1, t.TranslatorMinSupportedVersion = 3, t.TranslatorLastVersion = 3, t.pineType = function (e) {
          return e.startsWith(t.PinePrefix.USER) ? t.PineType.UserSaved : e.startsWith(t.PinePrefix.PUB) ? t.PineType.UserPublished : e.startsWith(t.PinePrefix.STD) || e.startsWith(t.PinePrefix.TV) || e.startsWith(t.PinePrefix.EDGR) ? t.PineType.BuiltIn : t.PineType.Addon
        }, t.patchILTemplate = function (e, i, n) {
          var o = n || {},
            r = /<(in_\d+)>/g;
          return t._patchTemplate(r, e, i, o)
        }, t.decorateQuotes = function (e) {
          var t, i, n;
          return e ? (t = /([^\\']+?)(')[^']*?/g, i = "$1\\$2", "'" == (n = e).charAt(0) && "'" == n.charAt(n.length - 1) ? "'" + (n = n.substr(1, n.length - 2)).replace(t, i) + "'" : n.replace(t, i)) : e
        }, t.patchInputs = function (e, t) {
          var i, n, o, r = {};
          for (i in e) e.hasOwnProperty(i) && (o = (n = e[i]).isFake ? {
            v: t[n.id],
            f: !0,
            t: n.type
          } : t[n.id], r[n.id] = o);
          return r
        }, t._patchTemplate = function (e, i, n, o) {
          var r = o || {},
            s = i.replace(e, function (e, i) {
              var o, s, a = i in r ? r[i] : n.defaults.inputs[i];
              for (o = 0; o < n.inputs.length; ++o) n.inputs[o].id === i && ("bool" === n.inputs[o].type ? a = a ? "1.0" : "0.0" : ["text", "symbol", "resolution", "session"].indexOf(n.inputs[o].type) >= 0 ? a = "'" + t.decorateQuotes(a) + "'" : "source" === n.inputs[o].type && ((s = a.split("$"))[0] = "'" + s[0] + "'", a = "source(" + s.join(",") + ")"));
              return a
            });
          return s
        }, t.isStrategy = function (e) {
          return /^\s*strategy\s*\(/m.test(e)
        }, e && e.exports && (e.exports = t)
      }).call(this, i("YuTi")(e))
    },
    Wt0y: function (e, t, i) {
      "use strict";

      function n(e) {
        var t;
        return void 0 === e && (e = location.host), t = ["d33t3vvu2t2yu5.cloudfront.net", "dwq4do82y8xi7.cloudfront.net", "s.tradingview.com", "s3.tradingview.com"], -1 !== ["i18n.tradingview.com", "partial.tradingview.com", "www.tradingview.com", "wwwcn.tradingview.com"].indexOf(e) || -1 !== t.indexOf(e) || e.match(/^[a-z]{2}\.tradingview\.com/) || e.match(/prod-[^.]+.tradingview.com/) ? "battle" : -1 !== e.indexOf("tradingview.com") ? "staging" : e.match(/webcharts/) ? "staging_local" : (e.match(/^localhost(:\d+)?$/), "local")
      }

      function o() {
        return "local" === n()
      }

      function r() {
        return "battle" === n()
      }

      function s() {
        return !r()
      }
      i.r(t), i.d(t, "environment", function () {
        return n
      }), i.d(t, "isLocal", function () {
        return o
      }), i.d(t, "isProd", function () {
        return r
      }), i.d(t, "isDebug", function () {
        return s
      })
    },
    X2bh: function (e, t, i) {
      "use strict";

      function n() {
        return new Promise(function (e) {
          Object(o.createConfirmDialog)({
            type: "modal",
            content: window.t("This drawing is used in alert. If you remove the drawing, the alert will be also removed. Do you want to remove the drawing anyway?")
          }).then(function (t) {
            t.on("action:yes", function (t) {
              t.close(), e()
            }), t.open()
          })
        })
      }
      i.r(t), i.d(t, "confirmDatasourceRemoving", function () {
        return n
      });
      var o = i("oNDq")
    },
    XAms: function (e, t, i) {
      "use strict";

      function n(e) {
        e.preventDefault()
      }

      function o(e) {
        var t = e.target;
        t && !t.closest(r.join(", ")) && e.preventDefault()
      }
      i.d(t, "a", function () {
        return n
      }), i.d(t, "b", function () {
        return o
      });
      var r = ["input:not([type])", 'input[type="text"]', 'input[type="email"]', 'input[type="password"]', 'input[type="search"]', 'input[type="number"]', 'input[type="url"]', "textarea", "a[href]", '*[contenteditable="true"]']
    },
    XFad: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = t || n.createProperties();
        r.call(this, e, i), this._constructor = "LineToolSchiffPitchfork2"
      }
      var o = i("5rJj"),
        r = i("aDyP").LineToolPitchfork;
      inherit(n, r), n.prototype.title = function () {
        return window.t("Schiff Pitchfork")
      }, n.prototype.name = function () {
        return "Schiff Pitchfork"
      }, n.createProperties = function (e) {
        var t = new o("linetoolschiffpitchfork2", e, !1, {
          range: [0, 8]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineToolSchiffPitchfork2 = n
    },
    XHTO: function (e, t, i) {
      e.exports = {
        indicator: "indicator-2-4D_4No-",
        visible: "visible-3nLICWKx-",
        attention: "attention-1Awiiwh2-",
        "data-warning-indicator-blinking": "data-warning-indicator-blinking-3FHh-Q2h-",
        "data-warning-indicator-blinking-reverse": "data-warning-indicator-blinking-reverse-26mzlDwj-"
      }
    },
    "XMe/": function (e, t, i) {
      "use strict";
      var n, o, r;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
      } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
      }, t.sortedStringify = function (e, t) {
        var i, s, a, l, c, u;
        return t || (t = {}), "function" == typeof t && (t = {
            cmp: t
          }), "number" == typeof (i = t.space || "") && (i = Array(i + 1).join(" ")), s = "boolean" == typeof t.cycles && t.cycles, a = t.replacer || function (e, t) {
            return t
          }, l = t.cmp && (u = t.cmp, function (e) {
            return function (t, i) {
              var n = {
                  key: t,
                  value: e[t]
                },
                o = {
                  key: i,
                  value: e[i]
                };
              return u(n, o)
            }
          }), c = [],
          function e(t, u, h, d) {
            var p, f, _, m, g, y, v = i ? "\n" + new Array(d + 1).join(i) : "",
              S = i ? ": " : ":";
            if (h && h.toJSON && "function" == typeof h.toJSON && (h = h.toJSON()), void 0 !== (h = a.call(t, u, h))) {
              if ("object" !== (void 0 === h ? "undefined" : n(h)) || null === h) return JSON.stringify(h);
              if (o(h)) {
                for (p = [], f = 0; f < h.length; f++) _ = e(h, f, h[f], d + 1) || JSON.stringify(null), p.push(v + i + _);
                return "[" + p.join(",") + v + "]"
              }
              if (-1 !== c.indexOf(h)) {
                if (s) return JSON.stringify("__cycle__");
                throw new TypeError("Converting circular structure to JSON")
              }
              for (c.push(h), m = r(h).sort(l && l(h)), p = [], f = 0; f < m.length; f++)(g = e(h, u = m[f], h[u], d + 1)) && (y = JSON.stringify(u) + S + g, p.push(v + i + y));
              return c.splice(c.indexOf(h), 1), "{" + p.join(",") + v + "}"
            }
          }({
            "": e
          }, "", e, 0)
      }, o = Array.isArray || function (e) {
        return "[object Array]" === {}.toString.call(e)
      }, r = Object.keys || function (e) {
        var t, i = Object.prototype.hasOwnProperty || function () {
            return !0
          },
          n = [];
        for (t in e) i.call(e, t) && n.push(t);
        return n
      }
    },
    XPit: function (e, t, i) {
      "use strict";

      function n() {
        var e = new Map;
        return c.forEach(function (t, i) {
          e.set(t, o(t))
        }), e
      }

      function o(e) {
        return l[e]
      }
      var r, s, a, l, c, u;
      i.r(t), i.d(t, "TimePointIndexSearchMode", function () {
          return a
        }), i.d(t, "seriesPlotFunctionMap", function () {
          return n
        }), i.d(t, "barFunction", function () {
          return o
        }), i.d(t, "SeriesData", function () {
          return u
        }), r = i("Eyy1"), s = i("k9/m"),
        function (e) {
          e[e.FromLeft = -1] = "FromLeft", e[e.FromRight = 1] = "FromRight"
        }(a || (a = {})), l = {
          open: function (e) {
            return e[1]
          },
          high: function (e) {
            return e[2]
          },
          low: function (e) {
            return e[3]
          },
          close: function (e) {
            return e[4]
          },
          hl2: function (e) {
            return (e[2] + e[3]) / 2
          },
          hlc3: function (e) {
            return (e[2] + e[3] + e[4]) / 3
          },
          ohlc4: function (e) {
            return (e[1] + e[2] + e[3] + e[4]) / 4
          }
        }, c = ["open", "high", "low", "close", "hl2", "hlc3", "ohlc4"], u = function () {
          function e() {
            this.m_bars = new s.PlotList(n()), this.m_nsBars = new s.PlotList(n())
          }
          return e.prototype.bars = function () {
            return this.m_bars
          }, e.prototype.nsBars = function () {
            return this.m_nsBars
          }, e.prototype.size = function () {
            return this.m_bars.size() + this.m_nsBars.size()
          }, e.prototype.each = function (e) {
            this.m_bars.each(e), this.m_nsBars.each(e)
          }, e.prototype.clear = function () {
            this.m_bars.clear(), this.m_nsBars.clear(), this.lastProjectionPrice = void 0
          }, e.prototype.isEmpty = function () {
            return this.m_bars.isEmpty() && this.m_nsBars.isEmpty()
          }, e.prototype.first = function () {
            return this.m_bars.isEmpty() ? this.m_nsBars.first() : this.m_bars.first()
          }, e.prototype.last = function () {
            return this.m_nsBars.isEmpty() ? this.m_bars.last() : this.m_nsBars.last()
          }, e.prototype.search = function (e, t) {
            return this.nsBars().isEmpty() ? this.bars().search(e, t) : this.bars().isEmpty() ? this.nsBars().search(e, t) : Object(r.ensureNotNull)(this.nsBars().firstIndex()) <= e ? this.nsBars().search(e, t) : this.bars().search(e, t)
          }, e.prototype.valueAt = function (e) {
            var t = this.search(e);
            return null !== t ? t.value : null
          }, e.prototype.plotValueToTimePointIndex = function (e, t, i) {
            var n, o, r, s;
            if (i === a.FromRight) return n = function (i, n) {
              var o = n[t];
              return void 0 !== o && null !== o && e >= o
            }, null !== (o = this.m_bars.findLast(n)) ? o.index : null !== (r = this.m_nsBars.findLast(n)) ? r.index : this.m_bars.firstIndex();
            if (i === a.FromLeft) return s = function (i, n) {
              var o = n[t];
              return void 0 !== o && null !== o && e <= o
            }, null !== (o = this.m_bars.findFirst(s)) ? o.index : null !== (r = this.m_nsBars.findFirst(s)) ? r.index : this.m_bars.lastIndex();
            throw new Error("plotValueToTimePointIndex: unsupported search mode")
          }, e
        }()
    },
    XUCF: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        this._source = e, this._index = t, this._bars = i || []
      }

      function o(e, t, n) {
        var r, a;
        this._constructor = "LineToolGhostFeed", (r = t || o.createProperties())._source = this, n || (a = Math.round(this.calculateATR(e)), r.averageHL.setValue(a)), s.call(this, e, r), this._segments = [], r.averageHL.listeners().subscribe(this, o.prototype.regenerate), r.variance.listeners().subscribe(this, o.prototype.regenerate), r.points || r.addProperty("points"), this._currentAverageHL = this._properties.averageHL.value(), this._currentVariance = this._properties.variance.value(), this._currentInterval = e.mainSeries().interval(), this.properties().onRestoreFactoryDefaults().subscribe(this, this._handleRestoringFactoryDefaults), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("dMkl").GhostFeedPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("Hr11").sign,
        s = i("Ss5c").LineDataSource,
        a = i("Ocx9").DefaultProperty,
        l = i("hayr").propertyPages;
      n.prototype.setBars = function (e) {
        this._bars = e || []
      }, n.prototype.clone = function (e) {
        return new n(e, this._index, TradingView.clone(this._bars))
      }, n.prototype.createBar = function () {
        var e, t, i, n = this._source.properties().averageHL.value(),
          o = this._source.properties().variance.value() / 100,
          r = this._source._model.mainSeries().base(),
          s = Math.random(),
          a = n * (1 - 2 * s) * o;
        return i = (t = a - (e = n * (1 + (.5 - (s = Math.random())) * o)) / 2) + e, {
          o: (t + Math.random() * e) / r,
          h: i / r,
          l: t / r,
          c: (t + Math.random() * e) / r
        }
      }, n.prototype.generate = function () {
        var e, t, i, n, o, s;
        if (this._bars = [],
          t = (e = this._source.points())[this._index], i = e[this._index + 1], t && i && t.index !== i.index)
          for (this._avgHL = this._source.properties().averageHL.value(), this._variance = this._source.properties().variance.value() / 100, n = this._index ? t.index + 1 : t.index, o = r(i.index - t.index), s = n; s !== i.index; s += o) this._bars.push(this.createBar())
      }, n.prototype.bars = function () {
        return this._bars
      }, n.prototype.setSize = function (e) {
        if (e < this._bars.length) this._bars.splice(e, this._bars.length - e);
        else
          for (; this._bars.length < e;) this._bars.push(this.createBar())
      }, inherit(o, s), o.prototype._handleRestoringFactoryDefaults = function () {
        var e = Math.round(this.calculateATR());
        this.properties().averageHL.setValue(e)
      }, o.prototype.destroy = function () {
        this.properties().onRestoreFactoryDefaults().unsubscribe(this, this._handleRestoringFactoryDefaults), s.prototype.destroy.call(this)
      }, o.prototype.regenerate = function () {
        this._currentAverageHL = this._properties.averageHL.value(), this._currentVariance = this._properties.variance.value(), this._segments.forEach(function (e) {
          e.generate()
        }), this.updateAllViews(), this._model.updateSource(this)
      }, o.prototype.propertiesChanged = function () {
        s.prototype.propertiesChanged.call(this), this._currentAverageHL === this._properties.averageHL.value() && this._currentVariance === this._properties.variance.value() || this.regenerate()
      }, o.prototype.pointsCount = function () {
        return -1
      }, o.prototype.title = function () {
        return "Ghost Feed"
      }, o.prototype.name = function () {
        return "Ghost Feed"
      }, o.prototype.segmentBars = function (e) {
        return this._segments[e].bars()
      }, o.prototype.segments = function () {
        return this._segments
      }, o.prototype.generateBars = function (e) {
        this._segments.length <= e && this._segments.push(new n(this, e)), this._segments[e].generate()
      }, o.prototype.addPoint = function (e) {
        var t, i;
        if (this._points.length > 0 && this._points[this._points.length - 1].index === e.index) {
          for (this._lastPoint = null, this.normalizePoints(), this.createServerPoints(), t = 0; t < this._points.length; t++) this._createPointProperty(t);
          return !0
        }
        return i = s.prototype.addPoint.call(this, e), this._finished && (this._lastPoint = null), this._points.length > 1 && this.generateBars(this._points.length - 2), i || this._finished
      }, o.prototype.finish = function () {
        this._finished = !0, this._lastPoint = null, this.normalizePoints(), this.createServerPoints()
      }, o.prototype.setPoint = function (e, t, i) {
        var n, o;
        s.prototype.setPoint.call(this, e, t, i), e > 0 && (n = this.points()[e - 1], o = t.index - n.index, this._segments[e - 1].setSize(Math.abs(o))), e < this.points().length - 1 && (o = this.points()[e + 1].index - t.index, this._segments[e].setSize(Math.abs(o)))
      }, o.prototype.state = function (e) {
        var t = s.prototype.state.call(this, e);
        return t.segments = this._segments.map(function (e) {
          return {
            bars: e.bars()
          }
        }), t
      }, o.prototype.restoreData = function (e) {
        var t = this;
        e.segments && (this._segments = e.segments.map(function (e, i) {
          return new n(t, i, [].concat(e.bars))
        })), this._currentAverageHL = this._properties.averageHL.value(), this._currentVariance = this._properties.variance.value()
      }, o.prototype.onData = function (e) {
        if (s.prototype.onData.call(this, e),
          0 === this.properties().points._childs.length)
          for (var t = 0; t < this._points.length; t++) this._createPointProperty(t);
        this._currentInterval !== this._model.mainSeries().interval() && (this.regenerate(), this._currentInterval = this._model.mainSeries().interval())
      }, o.prototype.cloneData = function (e) {
        var t = this;
        this._segments = e._segments.map(function (e) {
          return e.clone(t)
        })
      }, o.prototype.calculateATR = function (e) {
        var t, i = (void 0 !== e ? e : this._model).mainSeries(),
          n = [];
        return i.bars().each(function (e, t) {
          n.push(t[TradingView.HIGH_PLOT] - t[TradingView.LOW_PLOT])
        }), t = 0 === n.length ? 0 : n.reduce(function (e, t) {
          return e + t
        }, 0) / n.length, t *= i.base()
      }, o.prototype.getInputsPropertyPage = function () {
        return l.LineToolGhostFeedInputsPropertyPage
      }, o.prototype.getStylesPropertyPage = function () {
        return l.LineToolGhostFeedStylesPropertyPage
      }, o.createProperties = function (e) {
        var t = new a("linetoolghostfeed", e);
        return o._configureProperties(t), t
      }, o._configureProperties = function (e) {
        s._configureProperties(e)
      }, t.LineToolGhostFeed = o
    },
    XlJ7: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        return i && (i += " "), (i || "") + e + "px " + t
      }
      i.r(t), i.d(t, "makeFont", function () {
        return n
      })
    },
    XuOW: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "InsertionErrorCode", function () {
          return n
        }),
        function (e) {
          e.StudyCannotBeChild = "cannot_be_child", e.StubWasRemoved = "stub_was_removed"
        }(n || (n = {}))
    },
    Xyly: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolBezierQuadro";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("4Ptp").BezierQuadroPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Curve"
      }, n.prototype.name = function () {
        return "Curve"
      }, n.prototype.controlPoint = function () {
        var e = this.pointToScreenPoint(this.points()[0])[0],
          t = this.pointToScreenPoint(this.points()[1])[0],
          i = t.subtract(e).scaled(.5),
          n = i.transposed().scaled(.3),
          o = e.add(t).scaled(.5),
          r = o.add(n),
          s = this.screenPointToPoint(r);
        return s
      }, n.prototype.setLastPoint = function (e, t) {
        o.prototype.setLastPoint.call(this, e, t), this._controlPoint = this.controlPoint()
      }, n.prototype.addPoint = function (e, t, i) {
        var n, r = o.prototype.addPoint.call(this, e, t, !0);
        return r && (n = this.controlPoint(), this._points.push(n), delete this._controlPoint, i || (this.normalizePoints(), this.createServerPoints()), this._createPointProperty(2)), r
      }, n.prototype.restorePoints = function (e, t, i) {
        o.prototype.restorePoints.call(this, e, t, i), this._createPointProperty(2)
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolBezierStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolbezierquadro", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolBezierQuadro = n
    },
    XzZr: function (e, t, i) {
      "use strict";

      function n() {}
      var o = i("ogJP").declareClassAsPureInterface;
      TradingView.WEB_SOCKET_WAS_CONNECTED = !1,
        n.REBIND_STUDY_STANDALONE_TO_CHILD = 1, n.REBIND_STUDY_CHILD_TO_STANDALONE = 2, n.prototype.defaultWatchlistSymbols = function () {}, n.prototype.defaultResolutions = function () {}, n.prototype.supportedSymbolsTypes = function () {}, n.prototype.supportedExchangesList = function () {}, n.prototype.futuresRegex = function () {}, n.prototype.quoteCreateSession = function (e) {}, n.prototype.quoteDeleteSession = function (e) {}, n.prototype.quoteSetFields = function (e, t) {}, n.prototype.quoteAddSymbols = function (e, t) {}, n.prototype.quoteRemoveSymbols = function (e, t) {}, n.prototype.quoteFastSymbols = function (e, t) {}, n.prototype.depthCreateSession = function (e, t, i) {}, n.prototype.depthDeleteSession = function (e) {}, n.prototype.depthSetSymbol = function (e, t) {}, n.prototype.depthClearSymbol = function (e) {}, n.prototype.depthSetScale = function (e, t) {}, n.prototype.chartCreateSession = function (e, t) {}, n.prototype.chartDeleteSession = function (e) {}, n.prototype.createSession = function (e, t) {}, n.prototype.removeSession = function (e) {}, n.prototype.connected = function () {}, n.prototype.connect = function () {}, n.prototype.disconnect = function () {}, n.prototype.switchTimezone = function (e, t) {}, n.prototype.resolveSymbol = function (e, t, i, n, o) {}, n.prototype.createSeries = function (e, t, i, n, o, r, s) {}, n.prototype.removeSeries = function (e, t, i) {}, n.prototype.modifySeries = function (e, t, i, n, o, r) {}, n.prototype.requestMoreData = function (e, t, i, n) {}, n.prototype.requestMetadata = function (e, t, i) {}, n.prototype.isCanCreateStudy = function (e, t) {}, n.prototype.createStudy = function (e, t, i, n, o, r, s) {}, n.prototype.rebindStudy = function (e, t, i, n, o, r, s, a) {}, n.prototype.removeStudy = function (e, t, i) {}, n.prototype.modifyStudy = function (e, t, i, n, o) {}, n.prototype.createPointset = function (e, t, i, n, o, r, s) {}, n.prototype.modifyPointset = function (e, t, i, n, o) {}, n.prototype.removePointset = function (e, t, i) {}, n.prototype.requestMoreTickmarks = function (e, t, i, n) {}, n.prototype.requestFirstBarTime = function (e, t, i, n) {}, n.prototype._invokeHandler = function (e, t) {}, n.prototype._sendRequest = function (e, t) {}, n.prototype._onMessage = function (e) {}, n.prototype._convertTimescaleResponse = function (e) {}, n.prototype._dispathNotification = function (e) {}, n.prototype._invokeNotificationHandler = function (e, t, i) {}, n.prototype._notifySessions = function (e) {}, n.prototype.unpack = function (e) {}, n.prototype.searchSymbols = function (e, t, i, n, o, r, s, a, l, c) {}, n.prototype.serverTimeOffset = function () {}, n.prototype.getMarks = function (e, t, i, n, o) {}, n.prototype.getTimescaleMarks = function (e, t, i, n, o) {}, o(n, "ChartApiInterface"), e.exports.HandlerInfo = function (e, t) {
          this.handler = e, this.customId = t
        }, e.exports.ChartApiInterface = n
    },
    Y5iK: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "MainSeriesScaleRatioProperty", function () {
        return r
      }), n = i("aIyQ"), o = i.n(n), r = function () {
        function e(e) {
          this._changed = new o.a, this._model = e
        }
        return e.prototype.getStepChangeValue = function () {
          return .1
        }, e.prototype.getMinValue = function () {
          return 1e-7
        }, e.prototype.getMaxValue = function () {
          return 9999
        }, e.prototype.value = function () {
          return this._model.mainSeriesScaleRatio()
        }, e.prototype.setValue = function (e, t) {
          (e !== this.value() || t) && (this._model.setMainSeriesScaleRatio(e), this._onChanged())
        }, e.prototype.state = function () {
          return null
        }, e.prototype.clone = function () {
          return new e(this._model)
        }, e.prototype.listeners = function () {
          return this._changed
        }, e.prototype.subscribe = function (e, t) {
          this._changed.subscribe(e, t)
        }, e.prototype.unsubscribe = function (e, t) {
          this._changed.unsubscribe(e, t)
        }, e.prototype.unsubscribeAll = function (e) {
          this._changed.unsubscribeAll(e)
        }, e.prototype._onChanged = function () {
          this._changed.fire(this)
        }, e
      }()
    },
    Y7w9: function (e, t, i) {
      "use strict";

      function n(e, t) {
        return e < t
      }

      function o(e, t, i, n, o) {
        var r, s, a;
        for (void 0 === n && (n = 0), void 0 === o && (o = e.length), r = o - n; 0 < r;) i(e[a = n + (s = r >> 1)], t) ? (n = a + 1, r -= s + 1) : r = s;
        return n
      }

      function r(e, t, i, r) {
        return void 0 === i && (i = 0), void 0 === r && (r = e.length), o(e, t, n, i, r)
      }

      function s(e, t, i, n, o) {
        var r, s, a;
        for (void 0 === n && (n = 0), void 0 === o && (o = e.length), r = o - n; 0 < r;) i(t, e[a = n + (s = r >> 1)]) ? r = s : (n = a + 1, r -= s + 1);
        return n
      }

      function a(e, t, i, o) {
        return void 0 === i && (i = 0), void 0 === o && (o = e.length), s(e, t, n, i, o)
      }

      function l(e, t) {
        return e.filter(function (e) {
          return !t.includes(e)
        })
      }

      function c(e, t) {
        var i = e.indexOf(t);
        return i < 0 ? e.slice() : [t].concat(e.slice(0, i)).concat(e.slice(i + 1))
      }
      i.r(t), i.d(t, "lowerbound", function () {
        return o
      }), i.d(t, "lowerbound_int", function () {
        return r
      }), i.d(t, "upperbound", function () {
        return s
      }), i.d(t, "upperbound_int", function () {
        return a
      }), i.d(t, "subtract", function () {
        return l
      }), i.d(t, "moveToHead", function () {
        return c
      })
    },
    YCFM: function (e, t, i) {},
    YFkB: function (e, t, i) {
      "use strict";

      function n(e, t) {
        return o.__awaiter(this, void 0, void 0, function () {
          var i, n, a, c, u, h, d, p, f;
          return o.__generator(this, function (_) {
            switch (_.label) {
              case 0:
                return i = NaN, n = NaN, a = "", c = e.proSymbol(), u = (e.symbolInfo() || {
                  name: null
                }).name || c, h = e.priceScale(), t ? (d = e.firstValue(), i = null !== d ? h.coordinateToPrice(t, d) : null, [4, function (e, t) {
                  return o.__awaiter(this, void 0, void 0, function () {
                    var i, n, a, c;
                    return o.__generator(this, function (o) {
                      switch (o.label) {
                        case 0:
                          return null === t ? [2, null] : null === (i = Object(r.ensureNotNull)(Object(s.tradingService)()).activeBroker()) || 1 !== i.connectionStatus() ? [2, t] : (n = i) ? [4, i.isTradable(e)] : [3, 2];
                        case 1:
                          n = o.sent(), o.label = 2;
                        case 2:
                          if (!n) return [2, t];
                          o.label = 3;
                        case 3:
                          return o.trys.push([3, 5, , 6]), [4, i.symbolInfo(e)];
                        case 4:
                          return a = o.sent(), c = a.minTick, [2, Math.round(t / c) * c];
                        case 5:
                          return o.sent(), l.logError("Unable to resolve symbol: " + e), [2, t];
                        case 6:
                          return [2]
                      }
                    })
                  })
                }(c, i)]) : [3, 2];
              case 1:
                i = _.sent(), a = e.formatter().format(i), _.label = 2;
              case 2:
                return null !== (p = e.bars().last()) && (n = Object(r.ensure)(p.value[TradingView.CLOSE_PLOT])), f = !!(e.symbolInfo() || {
                  is_tradable: !1
                }).is_tradable, [2, {
                  symbol: c,
                  displaySymbol: u,
                  value: i,
                  formattedValue: a,
                  last: n,
                  symbolInfoTradable: f
                }]
            }
          })
        })
      }
      var o, r, s, a, l;
      i.r(t), i.d(t, "createTradeContext", function () {
        return n
      }), o = i("mrSG"), r = i("Eyy1"), s = i("N22A"), a = i("uOxu"), l = Object(a.getLogger)("Chart.TradeContext")
    },
    YJLw: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.default = function (e) {
          var t, i = 0;
          if (0 === e.length) return i;
          for (t = 0; t < e.length; t++) i = (i << 5) - i + e.charCodeAt(t), i &= i;
          return i
        },
        e.exports = t.default
    },
    YUej: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#4758a9" d="M0 0h18v18H0z"/><path fill="#ffda44" d="M9 2l.3 1.1h1.2l-1 .7L10 5l-1-.7L8 5l.4-1.2-1-.7h1.3zM4 4l1.1.6.8-.9L5.8 5l1 .6-1.2.1-.1 1.2-.6-1-1.2.2.9-.9zM2 9l1.1-.4V7.4l.7 1L5 8l-.7 1 .7 1-1.1-.4-.7 1V9.2zm2 4.9l.6-1.1-.9-.9 1.2.2.5-1 .2 1.1 1.2.2-1 .6.1 1.2-.8-.9zm5 2l-.4-1.1H7.4l1-.7-.4-1.2 1 .7 1-.7-.4 1.2 1 .7H9.2zm4.8-2l-1-.6-.9.9.2-1.2-1-.6 1.1-.1.2-1.2.6 1L14 12l-.8.8zm2-5l-1 .4v1.2l-.8-1-1 .4.6-1-.7-1 1.1.4.8-1v1.3zm-2-4.9l-.5 1.1.9.8-1.2-.1-.6 1-.1-1.2-1.2-.1 1-.6-.2-1.2.9.9z"/></svg>'
    },
    "Ye2/": function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "LineToolBarsPatternMode", function () {
          return n
        }),
        function (e) {
          e[e.Bars = 0] = "Bars", e[e.Line = 1] = "Line", e[e.OpenClose = 2] = "OpenClose", e[e.LineOpen = 3] = "LineOpen", e[e.LineHigh = 4] = "LineHigh", e[e.LineLow = 5] = "LineLow", e[e.LineHL2 = 6] = "LineHL2"
        }(n || (n = {}))
    },
    Yjuu: function (e, t, i) {
      "use strict";

      function n() {
        a.call(this)
      }

      function o(e, t) {
        this._constructor = "LineToolFibSpeedResistanceArcs";
        var s = t || o.createProperties();
        r.call(this, e, s), e._fibSpeedResistanceArcsLabelsCache || (e._fibSpeedResistanceArcsLabelsCache = new n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("bcXK").FibSpeedResistanceArcsPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("Ss5c").LineDataSource,
        s = i("5rJj"),
        a = i("xUGI"),
        l = i("hayr").propertyPages;
      inherit(n, a), n.prototype.levelsCount = function () {
        return o.LevelsCount
      }, inherit(o, r), o.LevelsCount = 11, o.prototype.levelsCount = function () {
        return o.LevelsCount
      }, o.prototype.pointsCount = function () {
        return 2
      }, o.prototype.title = function () {
        return "Fib Speed Resistance Arcs"
      }, o.prototype.name = function () {
        return "Fib Speed Resistance Arcs"
      }, o.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, o.prototype.getStylesPropertyPage = function () {
        return l.LineToolFibSpeedResistanceArcsStylesPropertyPage
      }, o.createProperties = function (e) {
        var t = new s("linetoolfibspeedresistancearcs", e, !1, {
          range: [1, 11]
        });
        return o._configureProperties(t), t
      }, o._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineToolFibSpeedResistanceArcs = o
    },
    YlKu: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "ApplyLineToolTemplateUndoCommand", function () {
        return r
      }), n = i("mrSG"), o = i("RDU5"), r = function (e) {
        function t(t, i, n) {
          var o = e.call(this, n) || this;
          return o._source = t, o._newState = i, o._oldState = t.properties().state(), o
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          this._source.applyTemplate(this._newState)
        }, t.prototype.undo = function () {
          this._source.applyTemplate(this._oldState)
        }, t
      }(o.UndoCommand)
    },
    YmeR: function (e, t, i) {
      function n(e, t, i, n, s) {
        i ? (o.call(this, e, t, !0, i, n), s ? e.update({
          onExecute: s.bind(this)
        }) : e.update({
          onExecute: this.onActionCallback.bind(this)
        })) : r.logDebug("Missed undo model")
      }
      var o = i("2h0C").Binding,
        r = i("uOxu").getLogger("Chart.PropertyPage.ActionBinder");
      inherit(n, o), n.prototype.onActionCallback = function (e) {
        this._undoModel.setProperty(this._property, this.value(), this._undoText)
      }, n.prototype.value = function () {
        return this.control().isChecked()
      }, n.prototype.setValue = function (e) {
        this.control().update({
          checked: Boolean(e)
        })
      }, t.ActionBinder = n
    },
    YuHv: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n;
        return void 0 === e && (e = []), void 0 === t && (t = []), i = document.createElement("div"), n = document.createElement("div"), i.appendChild(n), i.classList.add(o.container), n.classList.add(o.inner), e.forEach(function (e) {
          i.classList.add(o[e])
        }), t.forEach(function (e) {
          i.classList.add(o[e])
        }), i
      }
      var o;
      i.d(t, "a", function () {
        return n
      }), o = i("AWC/")
    },
    Z0Sh: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolGannSquare";
        var o = t || n.createProperties();
        s.call(this, e, o), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("eg8N").GannSquarePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o, r, s = i("Ss5c").LineDataSource,
        a = i("5rJj"),
        l = i("hayr").propertyPages;
      inherit(n, s), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Gann Box"
      }, n.prototype.name = function () {
        return "Gann Box"
      }, o = [4.5, 9, 11.25, 18, 22.5, 36, 45], r = function () {
        for (var e = [], t = 1e10, i = o.length - 1, n = 1, r = 0, s = 0; s < t;) s = o[r] * n, e.push(Math.round(s)), e.push(Math.ceil(-s)), r === i - 1 && (n *= 10), r = (r + 1) % i;
        return e.sort(function (e, t) {
          return e < t ? -1 : e > t ? 1 : 0
        }), e
      }(), n.prototype._alignPriceOnPattern = function (e, t) {
        var i, n, r, s, a, l, c = Math.round(1e6 * (e.price - t.price)) / 1e6;
        if (0 === c) return t.price;
        for (i = o[0], n = o[o.length - 1], r = 1, s = Math.abs(c); s < i * r || n * r < s;) s < i * r ? r *= .1 : n * r < s && (r *= 10);
        for (a = n * r, l = o.length - 2; l >= 0 && !(o[l] * r < s); --l) a = o[l] * r;
        return e.price = t.price + (c >= 0 ? a : -a), e
      }, n.prototype._alignTimeOnPattern = function (e, t) {
        var i, n = e.index - t.index;
        if (0 === n) return 0;
        for (i = r.length - 2; i >= 0 && !(r[i] < n); --i);
        return i += n > 0 ? 1 : 0, e.index = t.index + r[i], e
      }, n.prototype._alignPointsFixedIncrement = function (e, t) {
        return this._alignTimeOnPattern(e, t), this._alignPriceOnPattern(e, t), e
      }, n.prototype._preparePoint = function (e, t) {
        return t && t.shift() && 0 !== this._points.length && this._alignPointsFixedIncrement(e, this._points[0]), s.prototype._preparePoint.call(this, e, t)
      }, n.prototype.setPoint = function (e, t, i) {
        if (i && i.shift()) {
          var n = 0 === e ? this._points[1] : this._points[0];
          this._alignPointsFixedIncrement(t, n)
        }
        s.prototype.setPoint.call(this, e, t, i)
      }, n.prototype.getStylesPropertyPage = function () {
        return l.LineToolGannSquareStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new a("linetoolgannsquare", e, !1, {
          range: [1, 7],
          prefixes: ["h", "v"],
          names: ["coeff", "color", "visible"]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        s._configureProperties(e)
      }, t.LineToolGannSquare = n
    },
    Z8aO: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "SeriesPriceLinePaneView", function () {
        return l
      }), n = i("mrSG"), o = i("aO4+"), r = i("k4w6"), s = i("8Uy/"), a = i("dfhE"), l = function (e) {
        function t(t) {
          var i = e.call(this, t) || this;
          return i._lineRendererData.linestyle = s.LINESTYLE_DOTTED, i
        }
        return n.__extends(t, e), t.prototype._updateImpl = function () {
          if (this._lineRendererData.visible = !1, this._series.properties().showPriceLine.value() && this._series.properties().style.value() !== a.STYLE_HILO) {
            var e = this._series.lastValueData(void 0, !0);
            e.noData || (this._lineRendererData.visible = !0, this._lineRendererData.points = [new o.Point(0, e.coordinate)], this._lineRendererData.color = this._series.priceLineColor(e.color), this._lineRendererData.width = this._model.timeScale().width(), this._lineRendererData.height = this._series.priceScale().height(), this._lineRendererData.linewidth = this._series.properties().priceLineWidth.value())
          }
        }, t
      }(r.a)
    },
    Z9Tc: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e, t) {
          var i = TVSettings.getBool("_phone_verif_dlg_initial", !0);
          TVSettings.setValue("_phone_verif_dlg_initial", !1), (0, a.trackEvent)("Phone verification", e + (i ? " initial" : ""), t)
        }

        function o(e) {
          var t = $.Deferred();
          return Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(20), i.e(21), i.e(35), i.e(259), i.e(3), i.e(18), i.e(31), i.e(196)]).then(function (o) {
            i("EqOO").phoneDialog(e).on("afterOpen", function () {
              return n("Show dialog", e.source)
            }).on("verification:success", function (i) {
              t.resolve(i), n("Verified", e.source)
            }).on("verification:cancel", function () {
              t.reject(), n("Cancelled", e.source)
            }).on("verification:codeExpired", function () {
              return n("Show dialog", e.source)
            }).open()
          }.bind(null, i)).catch(i.oe), t
        }

        function r() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return new Promise(function (i) {
            if (!window.is_authenticated || user.is_staff || user.is_superuser || user.is_pro) return i([!1]);
            if (t.customPhoneCheck) return t.customPhoneCheck(l) ? i([!0, "date-joined"]) : i([!1]);
            if (!e.enabled("phone_verification") || user.has_phone && user.phone_verified) return i([!1]);
            if (!0 !== t.doNotCheckSocialActivity && new Date(user.date_joined) > l) i([!0, "date-joined"]);
            else {
              if (!0 !== t.doNotCheckSuspicious) return i([user.is_suspicious, "suspicious"]);
              i([!0, "default"])
            }
          })
        }
        var s, a, l, c;
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), s = function () {
          return function (e, t) {
            if (Array.isArray(e)) return e;
            if (Symbol.iterator in Object(e)) return function (e, t) {
              var i, n, o = [],
                r = !0,
                s = !1,
                a = void 0;
              try {
                for (i = e[Symbol.iterator](); !(r = (n = i.next()).done) && (o.push(n.value), !t || o.length !== t); r = !0);
              } catch (e) {
                s = !0, a = e
              } finally {
                try {
                  !r && i.return && i.return()
                } finally {
                  if (s) throw a
                }
              }
              return o
            }(e, t);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
          }
        }(), t.getDialogDfd = o, t.verificationIsRequired = r, t.whenVerified = function () {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            t = $.Deferred();
          return r({
            doNotCheckSuspicious: e.doNotCheckSuspicious,
            doNotCheckSocialActivity: e.doNotCheckSocialActivity,
            customPhoneCheck: e.customPhoneCheck
          }).then(function (i) {
            var n, r = s(i, 2),
              a = r[0],
              l = r[1];
            return a ? e.showDialog ? (n = {
              source: e.source,
              messages_sms: e.messages_sms,
              messages_phone: e.messages_phone,
              successful_message: e.successful_message
            }, "suspicious" !== l && (n.topMessage = window.t("Verify your phone number and get access to more tools on TradingView.")), void o(n).done(function () {
              return t.resolve()
            }).always(function () {
              return t.reject()
            })) : c.done(function () {
              return t.resolve()
            }) : (c.resolve(), t.resolve())
          }), t.promise()
        }, t.requestPhoneNumber = function () {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return new Promise(function (t, i) {
            o({
              source: e.source,
              messages_sms: e.messages_sms,
              messages_phone: e.messages_phone,
              successful_message: e.successful_message
            }).done(t).always(i)
          })
        }, a = i("PC8g"), l = new Date(2018, 3, 24), c = $.Deferred(), window.loginStateChange && loginStateChange.subscribe(null, function () {
          window.is_authenticated && (c = $.Deferred(), r().then(function (e) {
            var t = s(e, 2),
              i = t[0];
            t[1];
            i || c.resolve()
          }))
        })
      }).call(this, i("Kxc7"))
    },
    ZAbA: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "SeriesDataEvents", function () {
        return r
      }), n = i("aIyQ"), o = i.n(n), r = function () {
        function e() {
          this._completed = new o.a, this._error = new o.a, this._symbolError = new o.a, this._symbolResolved = new o.a, this._seriesError = new o.a, this._symbolNotPermitted = new o.a, this._symbolGroupNotPermitted = new o.a, this._extendedHoursNotPermitted = new o.a, this._chartTypeNotPermitted = new o.a, this._intradaySpreadNotPermitted = new o.a, this._intradayExchangeNotPermitted = new o.a, this._customIntervalNotPermitted = new o.a, this._tickMarksRangeChanged = new o.a, this._barReceived = new o.a, this._messageReceived = new o.a
        }
        return e.prototype.completed = function () {
            return this._completed
          }, e.prototype.error = function () {
            return this._error
          }, e.prototype.symbolError = function () {
            return this._symbolError
          }, e.prototype.symbolResolved = function () {
            return this._symbolResolved
          }, e.prototype.seriesError = function () {
            return this._seriesError
          }, e.prototype.symbolNotPermitted = function () {
            return this._symbolNotPermitted
          }, e.prototype.symbolGroupNotPermitted = function () {
            return this._symbolGroupNotPermitted
          }, e.prototype.extendedHoursNotPermitted = function () {
            return this._extendedHoursNotPermitted
          }, e.prototype.chartTypeNotPermitted = function () {
            return this._chartTypeNotPermitted
          }, e.prototype.intradaySpreadNotPermitted = function () {
            return this._intradaySpreadNotPermitted
          }, e.prototype.intradayExchangeNotPermitted = function () {
            return this._intradayExchangeNotPermitted
          }, e.prototype.customIntervalNotPermitted = function () {
            return this._customIntervalNotPermitted
          }, e.prototype.tickMarksRangeChanged = function () {
            return this._tickMarksRangeChanged
          }, e.prototype.barReceived = function () {
            return this._barReceived
          }, e.prototype.messageReceived = function () {
            return this._messageReceived
          }, e.prototype.fireCompleted = function () {
            this._completed.fire()
          }, e.prototype.fireError = function () {
            this._error.fire()
          }, e.prototype.fireSymbolError = function (e) {
            this._symbolError.fire(e), this.fireError()
          }, e.prototype.fireSymbolResolved = function (e) {
            this._symbolResolved.fire(e)
          }, e.prototype.fireSeriesError = function (e) {
            this._seriesError.fire(e), this.fireError()
          }, e.prototype.fireSymbolNotPermitted = function (e) {
            this._symbolNotPermitted.fire(e), this.fireError()
          }, e.prototype.fireSymbolGroupNotPermitted = function (e) {
            this._symbolGroupNotPermitted.fire(e), this.fireError()
          }, e.prototype.fireExtendedHoursNotPermitted = function () {
            this._extendedHoursNotPermitted.fire(), this.fireError()
          },
          e.prototype.fireChartTypeNotPermitted = function (e) {
            this._chartTypeNotPermitted.fire(e), this.fireError()
          }, e.prototype.fireIntradaySpreadNotPermitted = function () {
            this._intradaySpreadNotPermitted.fire(), this.fireError()
          }, e.prototype.fireIntradayExchangeNotPermitted = function () {
            this._intradayExchangeNotPermitted.fire(), this.fireError()
          }, e.prototype.fireCustomIntervalNotPermitted = function () {
            this._customIntervalNotPermitted.fire(), this.fireError()
          }, e.prototype.fireTickMarksRangeChanged = function (e) {
            this._tickMarksRangeChanged.fire(e)
          }, e.prototype.fireBarReceived = function (e) {
            this._barReceived.fire(e)
          }, e.prototype.fireMessageReceived = function (e) {
            this._messageReceived.fire(e)
          }, e
      }()
    },
    ZJKN: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "BarsRange", function () {
        return o
      }), n = i("Eyy1"), o = function () {
        function e(e, t) {
          Object(n.assert)(e <= t, "The last bar in the bars range should be greater than or equal to the first bar"), this._firstBar = e, this._lastBar = t
        }
        return e.prototype.firstBar = function () {
          return this._firstBar
        }, e.prototype.lastBar = function () {
          return this._lastBar
        }, e.prototype.count = function () {
          return this._lastBar - this._firstBar + 1
        }, e.prototype.contains = function (e) {
          return this._firstBar <= e && e <= this._lastBar
        }, e.prototype.equals = function (e) {
          return this._firstBar === e.firstBar() && this._lastBar === e.lastBar()
        }, e.compare = function (e, t) {
          return null === e || null === t ? e === t : e.equals(t)
        }, e
      }()
    },
    ZPGM: function (e, t, i) {
      "use strict";
      (function (t, n) {
        var o = i("uOxu").getLogger("Common.CollectionObserver"),
          r = t.Collection.extend({
            initialize: function (e) {
              if (this._observableCollection = e.observableCollection, this._validator = e.validator, this._syncEvents = n.isArray(e.syncEvents) ? e.syncEvents : [], this._syncEvents.push("reset"), this._syncEvents = n.uniq(this._syncEvents), this._observableCollection)
                if (this._observableCollection instanceof t.Collection) {
                  "function" == typeof e.comparator && (this.comparator = e.comparator), this.comparator || "function" != typeof this._observableCollection.comparator || (this.comparator = this._observableCollection.comparator), this._observableCollection.on("add", this.onAdd, this), this._observableCollection.on("remove", this.remove, this);
                  for (var i = this._syncEvents.length - 1; i >= 0; i--) this._observableCollection.on(this._syncEvents[i], this.syncCollections, this)
                } else o.logError("'observableCollection' need to be Backbone.Collection");
              else o.logError("'observableCollection' option required")
            },
            syncCollections: function () {
              var e = this._validator;
              e && this.reset(n.filter(this._observableCollection.models, e))
            },
            onAdd: function (e, t) {
              var i = this._validator;
              i && !i(e) || this.add.apply(this, arguments)
            },
            destroy: function () {
              this._observableCollection.off("add", this.onAdd, this), this._observableCollection.off("remove", this.remove, this);
              for (var e = this._syncEvents.length - 1; e >= 0; e--) this._observableCollection.off(this._syncEvents[e], this.syncCollections, this)
            }
          });
        e.exports = r
      }).call(this, i("q1z7"), i("F/us"))
    },
    ZTvj: function (e, t, i) {
      e.exports = {
        toast: "toast-12K1jRDo-",
        isShifting: "isShifting-2UjSKZ__-",
        body: "body-2o_Wje8v-",
        isDismissing: "isDismissing-3RjjQJ5U-",
        closeButtonAdv: "closeButtonAdv-2pjmC0Yh-",
        main: "main-ia8PV28N-",
        textInfo: "textInfo-39tIOCnC-",
        textInfoNoAd: "textInfoNoAd-3XhCjIv6-",
        preview: "preview-3XtYuf9S-",
        closeButton: "closeButton-10VUlhi4-",
        badge: "badge-2HLZCdqj-",
        title: "title-3HdyG5Ws-",
        checkboxLabel: "checkboxLabel-3AbDosEb-",
        link: "link-20I_3GI5-",
        text: "text-28Tbt8W--",
        actions: "actions-1tBSFr16-",
        footerContainer: "footerContainer-8tPgC5Yv-",
        footerContent: "footerContent-2XyjdIBm-",
        floatingImage: "floatingImage-2CZdTbfe-",
        logoBottomOffset: "logoBottomOffset-1JhCy_p1-",
        logoPng: "logoPng-3IoORapI-",
        resizableLogo: "resizableLogo-3e68w7Ik-",
        frameBorder: "frameBorder-2o1NHAY4-",
        overflowOpaquer: "overflowOpaquer-2eMts1pQ-",
        resizeControl: "resizeControl-1Tyht26U-",
        type_info: "type_info-24ZpAIdB-",
        type_danger: "type_danger-ibonUDCI-",
        type_success: "type_success-3PT-YsXU-",
        type_attention: "type_attention-tAvOWRQd-",
        type_da: "type_da-2mw7g5Rq-"
      }
    },
    ZZnO: function (e, t, i) {
      "use strict";

      function n() {
        return r.getValue(l, a.defaultDateFormat)
      }

      function o() {
        c.setValue(a.defaultDateFormat), r.remove(l)
      }
      var r, s, a, l, c;
      i.r(t), i.d(t, "dateFormatProperty", function () {
        return c
      }), i.d(t, "removeSettingsValue", function () {
        return o
      }), r = i("Vdly"), s = i("m/cY"), a = i("e1ZQ"), l = "date_format", c = Object(s.a)(n()), r.onSync.subscribe(null, function () {
        return c.setValue(n())
      }), c.listeners().subscribe(null, function () {
        return r.setValue(l, c.value())
      })
    },
    ZbcA: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e) {
          var t, i;
          if (e && e.__esModule) return e;
          if (t = {}, null != e)
            for (i in e) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
          return t.default = e, t
        }
        var o, r, s, a, l, c, u, h, d, p, f, _;
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.tvToasts = void 0, o = function () {
          function e(e, t) {
            var i, n;
            for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
          }
          return function (t, i, n) {
            return i && e(t.prototype, i), n && e(t, n), t
          }
        }(), r = i("33OQ"), s = (_ = r) && _.__esModule ? _ : {
          default: _
        }, a = i("j1f4"), l = n(a), c = i("ZTvj"), u = n(c), h = i("IpW8"), d = i("9+gJ"), p = i("69Qn"), i("QwKQ"), f = function () {
          function t() {
            ! function (e, t) {
              if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t),
            this.template = '<div class="' + u.toast + ' {{ typeClass }}">\n\t\t\t\t<div class="' + u.body + "{{#preview}} " + u.preview + '{{/preview}}">\n\t\t\t\t\t<div class="' + u.main + '">\n\t\t\t\t\t\t<div class="' + u.textInfo + " {{^adv}} " + u.textInfoNoAd + ' {{/adv}}">\n\t\t\t\t\t\t\t<div class="' + u.closeButton + " {{#adv}} " + u.closeButtonAdv + ' {{/adv}} js-toast__close">' + i("BhuR") + '</div>\n\t\t\t\t\t\t\t{{# title }}\n\t\t\t\t\t\t\t\t<div class="' + u.title + '">\n\t\t\t\t\t\t\t\t\t{{{ title }}}\n\t\t\t\t\t\t\t\t\t{{# badge }}\n\t\t\t\t\t\t\t\t\t\t<div class="' + u.badge + '">\n\t\t\t\t\t\t\t\t\t\t\t{{{ titleLastWord }}} {{{ badge }}}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{{/ badge }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/ title }}\n\t\t\t\t\t\t\t{{# text }}\n\t\t\t\t\t\t\t\t<div class="' + u.text + '">{{{ text }}}</div>\n\t\t\t\t\t\t\t{{/ text }}\n\t\t\t\t\t\t\t{{# actions.length }}\n\t\t\t\t\t\t\t\t<div class="' + u.actions + '">\n\t\t\t\t\t\t\t\t\t{{# actions}}\n\t\t\t\t\t\t\t\t\t\t{{#isCheckbox}}\n\t\t\t\t\t\t\t\t\t\t<label class="js-toast__action" data-index="{{ index }}">\n\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" class="js-control-checkbox">\n\t\t\t\t\t\t\t\t\t\t\t<span class="' + u.checkboxLabel + '">{{{ text }}}</span>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t{{/isCheckbox}}\n\t\t\t\t\t\t\t\t\t\t{{^isCheckbox}}\n\t\t\t\t\t\t\t\t\t\t<a class="' + u.link + ' {{#align}}i-align_{{ align }}{{/align}} js-toast__action" href="{{ url }}{{^ url }}#{{/ url }}" {{# url }} target="blank"{{/ url }} {{# noFollow }}rel="nofollow"{{/ noFollow }} data-index="{{ index }}">{{{ text }}}</a>\n\t\t\t\t\t\t\t\t\t\t{{/isCheckbox}}\n\t\t\t\t\t\t\t\t\t{{/ actions }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/ actions.length }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{# image }}\n\t\t\t\t\t\t\t<span class="' + u.floatingImage + ' js-toast__logo-wr">\n\t\t\t\t\t\t\t{{# link }}<a href="{{ link }}" target="blank" rel="nofollow">{{/ link }}\n\t\t\t\t\t\t\t\t{{#src}}<img src="{{ src }}">{{/src}}\n\t\t\t\t\t\t\t{{# link }}</a>{{/ link }}\t\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{{/ image }}\n\t\t\t\t\t</div>\n\t\t\t\t\t{{# footerInfo }}\n\t\t\t\t\t\t<div class="' + u.footerContainer + '">\n\t\t\t\t\t\t\t<div class="' + u.footerContent + '">{{ footerInfo }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/ footerInfo }}\n\t\t\t\t</div>\n\t\t\t</div>', this.adjustToastContainerPosition = this.adjustToastContainerPosition.bind(this), this.RESULTS = h.RESULTS
          }
          return o(t, [{
            key: "setToastContainerPosition",
            value: function (e) {
              var t = $(e);
              this.$container = t.find("#tv-toasts"), this.$container.length || (this.$container = $('<div id="tv-toasts">').appendTo(t), s.default.on("changeDevice", this.adjustToastContainerPosition), this.adjustToastContainerPosition())
            }
          }, {
            key: "adjustToastContainerPosition",
            value: function () {
              "phone-vertical" !== s.default.device && "phone" !== s.default.device ? this.$container.css({
                left: 18,
                bottom: TradingView.onChartPage ? 66 : 28,
                position: "absolute"
              }) : this.$container.css({
                left: 0,
                bottom: 0,
                position: TradingView.onChartPage ? "fixed" : "absolute"
              })
            }
          }, {
            key: "destroy",
            value: function () {
              s.default.off("changeDevice", this.adjustToastContainerPosition)
            }
          }, {
            key: "escapeOptions",
            value: function (e) {
              if (e.title && (e.title = TradingView.clean(e.title)), e.text && (e.text = TradingView.clean(e.text)), e.actions && e.actions.length)
                for (var t = 0; t < e.actions.length; t += 1) e.actions[t].text = TradingView.clean(e.actions[t].text);
              return e
            }
          }, {
            key: "render",
            value: function (t) {
              var i, n;
              return t.actions && (t.actions = t.actions.map(function (e, t) {
                return e.index = t, e
              }), t.typeClass = u["type_" + t.type]), t.title && t.badge && (i = t.title.trim().split(" "), t.titleLastWord = i.pop(), t.title = i.join(" ") || " "), t.type && "da" === t.type && (t.adv = !0), (n = $(e.render(this.template, t))).find(".js-control-checkbox").tvControlCheckbox({
                tag: "span"
              }), n
            }
          }, {
            key: "toast",
            value: function (e) {
              var t = this,
                i = e.title,
                n = e.badge,
                o = e.text,
                r = e.time,
                a = void 0 === r ? 1e4 : r,
                l = e.type,
                c = void 0 === l ? "default" : l,
                p = e.actions,
                f = void 0 === p ? [] : p,
                _ = e.image,
                m = e.footerInfo,
                g = e.prerender,
                y = $.Deferred(),
                v = {
                  $el: this.render({
                    title: i,
                    badge: n,
                    text: o,
                    type: c,
                    actions: f,
                    image: _,
                    footerInfo: m
                  }),
                  dismiss: function () {
                    var e, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : h.RESULTS.EXTERNAL,
                      i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                      n = $.Deferred();
                    return v.$el ? (e = v.$el, delete v.$el, e.trigger("mouseout"), e.find(u.body).addClass(u.isDismissing), (0, d.lazyVelocity)().then(function () {
                      $.Velocity.animate(e[0], {
                        height: 0
                      }, {
                        queue: !1,
                        easing: "easeInOutCubic",
                        duration: 125,
                        delay: i ? 0 : 125,
                        complete: function () {
                          e.remove(), n.resolve()
                        }
                      })
                    }), function (e) {
                      e === h.RESULTS.BUTTON_ACTION ? y.resolve({
                        result: e,
                        goalReached: !0,
                        resultMsg: e
                      }) : y.reject({
                        result: e,
                        resultMsg: e,
                        goalReached: !1
                      })
                    }(t), n.promise()) : (window.clearTimeout(v.dismissTimeout), n.resolve().promise())
                  },
                  dfd: y.promise()
                };
              return "phone-vertical" !== s.default.device && v.$el.css("opacity", 0), !1 !== a && (v.dismissTimeout = setTimeout(v.dismiss.bind(this, h.RESULTS.TIMEOUT), a)), v.$el.on("click", ".js-toast__close", v.dismiss.bind(this, h.RESULTS.MANUAL_CLOSE)), v.$el.on("click", ".js-toast__action", function (e) {
                var t = f[+e.currentTarget.getAttribute("data-index")];
                if (t.action) t.action.call(t, e), t.doNotPrevent && e.preventDefault();
                else if (t.dismissButton) v.dismiss(h.RESULTS.BUTTON_DISMISS, !0);
                else if (!t.url) throw new Error("Toast: action is missed for button.");
                t.doNotDismiss || v.dismiss(h.RESULTS.BUTTON_ACTION, !0)
              }), g ? g(v.$el).then(function () {
                t._displayAnimated(v)
              }) : this._displayAnimated(v), v
            }
          }, {
            key: "_displayAnimated",
            value: function (e) {
              var t, i = this;
              this.$container.append(e.$el), t = e.$el.height(), this.$container.css({
                "-webkit-transform": "translateY(" + t + "px)",
                "-moz-transform": "translateY(" + t + "px)",
                "-ms-transform": "translateY(" + t + "px)",
                "-o-transform": "translateY(" + t + "px)",
                transform: "translateY(" + t + "px)"
              }), setTimeout(function () {
                i.$container.addClass(u.isShifting), setTimeout(function () {
                  if (i.$container.css({
                      "-webkit-transform": "",
                      "-moz-transform": "",
                      "-ms-transform": "",
                      "-o-transform": "",
                      transform: ""
                    }), "phone-vertical" !== s.default.device) {
                    var t = e.$el;
                    t && (0, d.lazyVelocity)().then(function () {
                      $.Velocity.animate(t[0], {
                        opacity: 1
                      }, {
                        queue: !1,
                        easing: "easeOutCubic",
                        duration: 350,
                        complete: function () {
                          t.prop("style", "")
                        }
                      })
                    })
                  }
                  setTimeout(function () {
                    i.$container.removeClass(u.isShifting)
                  }, l.dur / 2)
                }, 20)
              }, 20), Modernizr.mobiletouch && (new p.HammerJSLoader).load().then(function (t) {
                var i = new t(e.$el[0], {
                    prevent_default: !1
                  }),
                  n = 80;
                i.on("pan", function (t) {
                  var i = 1 - Math.abs(t.deltaX / n);
                  (0, d.lazyVelocity)().then(function () {
                    $.Velocity.animate(e.$el[0], {
                      left: t.deltaX,
                      opacity: i >= 0 ? i : 0
                    }, {
                      duration: 50,
                      queue: !1,
                      easing: "easeOutQuad"
                    })
                  })
                }), i.on("panend", function (t) {
                  Math.abs(t.deltaX) > n ? e.dismiss(!0) : (0, d.lazyVelocity)().then(function () {
                    $.Velocity.animate(e.$el[0], {
                      left: 0,
                      opacity: 1
                    }, {
                      duration: 300,
                      easing: "easeOutExpo",
                      queue: !1
                    })
                  })
                })
              })
            }
          }]), t
        }(), t.tvToasts = new f
      }).call(this, i("OiQe"))
    },
    Zdjc: function (e, t, i) {
      "use strict";

      function n() {
        return Object(r.createGoProDialog)({
          feature: "alertsTrueSms",
          goOnMarkets: !1,
          isTrialAvailable: !0,
          upgradeMessage: window.t("Upgrade now"),
          visitPaymentPage: {
            product_name: "pro_premium",
            billing_cycle: "2y",
            options: {
              newWindow: !0
            }
          }
        })
      }

      function o() {
        n().then(function (e) {
          e.open()
        })
      }
      var r;
      i.r(t), i.d(t, "createGoProAlertsTrueSmsDialog", function () {
        return n
      }), i.d(t, "showGoProAlertsTrueSmsDialog", function () {
        return o
      }), i("YFKU"), r = i("s4+V")
    },
    ZekX: function (e, t, i) {
      "use strict";

      function n(e, t) {
        return t === o.STATUS_DELAYED_STREAMING && (t = o.STATUS_READY), t === o.STATUS_EOD && (t = o.STATUS_DELAYED), a[t] || []
      }
      var o, r, s, a;
      i.r(t), i.d(t, "availableTimeFrames", function () {
        return n
      }), i("YFKU"), o = i("dfhE"), r = i("ljrM"), (s = {})[o.STATUS_DELAYED] = [r.timeFrames.ytd, r.timeFrames["12m"], r.timeFrames["60m"], r.timeFrames.all], s[o.STATUS_READY] = [r.timeFrames["1d"], r.timeFrames["5d"], r.timeFrames["1m"], r.timeFrames["3m"], r.timeFrames["6m"], r.timeFrames.ytd, r.timeFrames["12m"], r.timeFrames["60m"], r.timeFrames.all], a = s
    },
    "Zo2/": function (e, t, i) {
      "use strict";
      (function (t, n) {
        function o(e) {
          var i, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w;
          this._options = Object.assign({}, Me, e), i = this, this._guid = me(), this._startSpinner(this._options.body.value()), o = this._options.content, r = this._options.readOnly, this._backgroundBasedTheme = new t("light"), this._removeMaximizeHotkey = null, r || (G.init(), s = function (e, t, i) {
              var n = t.mainSeries().syncModel(),
                o = e.mainSeries().syncModel(),
                r = i;
              return n && o && (r = e._createSyncPoint(n, o).sourceTimeToTargetTime(i)), e.timeScale().points().roughIndex(r, o && o.distance.bind(o))
            }, G.createdLineTool.subscribe(null, function (e) {
              var t, n, o;
              i._model && (t = i._model.model(), e.model !== t && (n = t.paneForSource(i._model.model().mainSeries()), o = {
                index: s(t, e.model, e.point.timeStamp),
                price: e.point.price
              }, i._model.createLineTool(n, o, e.linetool, e.properties, e.linkKey)))
            }), G.continuedLineTool.subscribe(null, function (e) {
              var t, n, o;
              i._model && (t = i._model.model(), e.model !== t && (n = {
                index: s(t, e.model, e.point.timeStamp),
                price: e.point.price
              }, (o = i._model.lineBeingCreated()) && i._model.model().coninueCreatingLine(n, e.envState, !!e.finalState) && e.finalState && o.restoreExternalPoints(e.finalState)))
            }), G.cancelledLineTool.subscribe(null, function (e) {
              if (i._model) {
                var t = i._model.model();
                e.model !== t && i._model.model().cancelCreatingLine()
              }
            }), G.beenSetLineToolLastPoint.subscribe(null, function (e) {
              var t, n, o;
              i._model && (t = i._model.model(),
                e.model !== t && (n = t.lineBeingCreated()) && n.linkKey === e.linkKey && (o = {
                  index: s(t, e.model, e.point.timeStamp),
                  price: e.point.price
                }, n.setLastPoint(o), n.updateAllViews(), t.invalidate(new ne(ne.LIGHT_UPDATE))))
            }), G.startedMovingLineTool.subscribe(null, function (e) {
              var t, n, o, r;
              i._model && (t = i._model.model(), e.model !== t && (n = function (e) {
                return t.dataSources().filter(function (t) {
                  return t.linkKey === e
                })[0]
              }, (o = e.linkKeys.map(function (e) {
                return n(e)
              }).filter(function (e) {
                return !!e
              })).length && (r = {
                index: s(t, e.model, e.point.timeStamp),
                price: e.point.price
              }, i._model.model().startMovingSources(o, {
                logical: r
              }, null, e.envState))))
            }), G.movedLineTool.subscribe(null, function (e) {
              var t, n, o;
              i._model && (t = i._model.model(), e.model !== t && (n = function (t) {
                return e.linkKeys.some(function (e) {
                  return t.linkKey === e
                })
              }, t.sourcesBeingMoved().filter(function (e) {
                return n(e)
              }).length && (o = {
                index: s(t, e.model, e.point.timeStamp),
                price: e.point.price
              }, i._model.model().moveSources({
                logical: o
              }, e.envState))))
            }), G.finishedMovingLineTool.subscribe(null, function (e) {
              var t, n, o;
              i._model && (t = i._model.model(), e.model !== t && (n = t.sourcesBeingMoved()).length && (o = function (t) {
                for (var i = 0; i < e.linkKeys.length; i++)
                  if (e.linkKeys[i] === t.linkKey) return e.finalStates[i];
                return null
              }, n.forEach(function (e) {
                var t = o(e);
                i._model.model().endMovingSources(!!t), t && e.restoreExternalPoints(t)
              })))
            }), G.startedChangingLineTool.subscribe(null, function (e) {
              var t, n, o;
              i._model && (t = i._model.model(), e.model !== t && (n = t.dataSources().filter(function (t) {
                return t.linkKey === e.linkKey
              })[0]) && (o = {
                index: s(t, e.model, e.point.timeStamp),
                price: e.point.price
              }, i._model.model().startChangingLinetool(n, o, e.pointIndex, e.envState)))
            }), G.changedLineTool.subscribe(null, function (e) {
              var t, n;
              i._model && (t = i._model.model(), e.model !== t && t.lineBeingEdited() && t.lineBeingEdited().linkKey === e.linkKey && (n = {
                index: s(t, e.model, e.point.timeStamp),
                price: e.point.price
              }, i._model.model().changeLinePoint(n, e.envState)))
            }), G.finishedChangingLineTool.subscribe(null, function (e) {
              var t, n;
              i._model && (t = i._model.model(), e.model !== t && (n = t.dataSources().filter(function (t) {
                return t.linkKey === e.linkKey
              })[0], t.lineBeingEdited() && i._model.model().endChangingLinetool(!!e.finalState), n && e.finalState && n.restoreExternalPoints(e.finalState)))
            }), G.removedLineTool.subscribe(null, function (e) {
              var t, n;
              i._model && (t = i._model.model(), e.model !== t && (n = t.dataSources().filter(function (t) {
                return t.linkKey === e.linkKey
              })[0]) && i._model.model().removeSource(n))
            }), G.finishedLineTool.subscribe(null, function (e) {
              var t;
              i._model && (t = i._model.model(), e.model !== t && t.dataSources().filter(function (t) {
                return t.linkKey === e.linkKey
              })[0] && i._model.model().finishLineTool())
            }), G.changedLineStyle.subscribe(null, function (e) {
              var t, n;
              i._model && (t = i._model.model(), e.model !== t && (n = t.dataSources().filter(function (t) {
                return t.linkKey === e.linkKey
              })[0]) && (n.properties().merge(e.state), n.propertiesChanged()))
            }), G.restoredLineToolState.subscribe(null, function (e) {
              var t, n, o;
              i._model && (t = i._model.model(), e.model !== t && (n = t.dataSources().filter(function (t) {
                return t.linkKey === e.linkKey
              })[0]) && ((o = Object.assign({}, e.state)).indexes = o.points.map(function (i) {
                return {
                  index: s(t, e.model, i.time_t),
                  price: i.price
                }
              }), t.restoreLineToolState(n, o)))
            }), G.restoredLineTool.subscribe(null, function (e) {
              if (i._model) {
                var t = i._model.model();
                e.model !== t && t.restoreSource(e.state.restorePane, e.state.paneIndex, e.state.paneState, e.state.sourceState)
              }
            }), G.copiedLineTool.subscribe(null, function (e) {
              var t, n, o, r, a, l;
              if (i._model && (t = i._model.model(), e.model !== t && (n = t.paneForSource(t.mainSeries()), 0 !== (o = e.points.map(function (i) {
                  return {
                    index: s(t, e.model, i.timeStamp),
                    price: i.price
                  }
                })).length))) {
                if (r = o[0], a = t.createLineTool(n, r, e.linetool, null, e.linkKey), t.lineBeingCreated())
                  for (l = 1; l < o.length; l++) l !== o.length - 1 || "LineToolBrush" !== e.linetool && "LineToolGhostFeed" !== e.linetool || t.finishLineTool(!0), t.coninueCreatingLine(o[l], new Ee, l < o.length - 1, !0);
                a.properties().interval.setValue(e.state.interval), a.properties().merge(e.state), a.restoreData && a.restoreData(e), a.propertiesChanged(), a && e.finalState && (a.calcIsActualSymbol(), a.restoreExternalPoints(e.finalState))
              }
            })), a = this._options.containsData, l = this._options.onWidget, (c = this._options.onCmeWidget) && we.logWarn("[ChartWidget] 'onCmeWidget' option is depricated"), u = this._options.widgetCustomer, h = this._options.timezone, d = this._options.hideSymbolSearch, p = this._options.defSymbol, f = X.isValid(this._options.defInterval) ? this._options.defInterval : void 0, _ = parseInt(this._options.defStyle), m = Z.isValidStyle(_) ? _ : void 0, g = this._options.defExtendedHours, y = this._options.defTimeframe, this._chartWidgetCollection = this._options.chartWidgetCollection || null, this._content = o, this._readOnly = r, this._containsData = a, this._showChartEvents = !a && this._options.chartEventsEnabled, this._defSymbol = p, this._defInterval = f, this._defTimeframe = y, this._defStyle = m, this._onWidget = !!l, this._onWidget && (c ? this._widgetCustomer = "cme" : u && (this._widgetCustomer = u)), this._hideSymbolSearch = d, this._paneWidgets = [], this._maximizedPaneWidget = null, this._timeAxisSeparator = null, this._paneSeparators = [], this._timeAxisWidget = null, this._frameTime = 30, this._model = null, this._metaInfo = {}, this._drawRafId = 0, (v = this._contentSeriesProperties()) && (p = v.symbol, f = v.interval), void 0 === this._options.useUserChartPreferences && (this._options.useUserChartPreferences = !0), this._properties = new le("chartproperties", void 0, void 0, this._options.useUserChartPreferences), S = "chartproperties.mainSeriesProperties", b = this._options.useUserChartPreferences ? be.defaults(S) : be.factoryDefaults(S), this._properties.mainSeriesProperties.merge(b), f = f || b.interval || "D", Z.isValidStyle(m) || (m = Z.isValidStyle(b.style) ? b.style : te(X.isRange(f))), this._properties.mainSeriesProperties.merge({
              visible: !0,
              symbol: p || DEFAULT_SYMBOL,
              shortName: "",
              timeframe: "",
              onWidget: this._onWidget,
              interval: f,
              style: m,
              extendedHours: g,
              lineStyle: {
                styleType: be.factoryDefaults("chartproperties.mainSeriesProperties.lineStyle.styleType")
              }
            }), this._containsData && this._properties.mainSeriesProperties.merge({
              showCountdown: !1
            }), h && he(h) && this._properties.timezone.setValue(h), this._tagsChanged = new n, this._modelCreated = new n,
            this._disconnected = new n, this._reconnectBailout = new n, this._connected = new n, this._redrawPanes = new n, this._onScroll = new n, this.chartWidgetInitialized = new n, this._chartSession = new de(ChartApiInstance), this._metaInfoRepository = new Te(this._chartSession), this.lhsPriceAxisWidthChanged = new n, this.rhsPriceAxisWidthChanged = new n, this._timingsMeter = null, this._isActive = this._options.isActive, this._options.body.subscribe(function (e) {
              i._setElement(e)
            }, {
              callWithLast: !0
            }), w = function () {
              i.resize()
            }, this._options.width.subscribe(w), this._options.height.subscribe(w), this._options.visible.subscribe(this._updateTimingsMeterState.bind(this)), this._properties.paneProperties.background.listeners().subscribe(this, this._updateThemedColor), this._aboutToBeDestroyed = new n, this._actions = null, this._definitionsViewModel = null
        }
        var r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U, H, j, z, Y, q, G, X, K, J, Q, Z, ee, te, ie, ne, oe, re, se, ae, le, ce, ue, he, de, pe, fe, _e, me, ge, ye, ve, Se, be, we, Pe, Te, Ce, xe, Ee, Ie, Ae, Le, De, ke, Oe, Me, Re;
        i("YCFM"), i("YFKU"), r = i("Y7w9").moveToHead, s = i("mkn5").PaneWidget, a = i("sw9I"), l = i("mNEU"), c = i("1IXQ").PriceAxisWidget, u = i("uPb3").TimeAxisWidget, h = i("fTGZ").BarsMarksContainer, d = i("qJq3").Series, p = i("Kxc7"), f = i("+GxX").isFeatureEnabled, _ = i("YmeR").ActionBinder, m = i("mKT+").resolveAndShowEditObjectDialog, g = i("Vdly").setValue, y = i("QloM").TabNames, v = i("cdbK").showGoToDateDialog, S = i("GoHH").CustomEvent, b = i("/3z9"), w = i("Ktlt").ChartEventsSource, P = i("dJ3D"), T = i("Ai40"), C = T.ESDStudyBase, x = i("oGYm"), E = i("lCO3").Version, I = i("Qf4T"), A = i("2VXZ"), L = i("w6b9").DataWarningIndicator, D = i("dfhE"), k = i("aBGL").AvailableOnTVPopup, O = i("s4+V"), M = i("brCa").showNoticeDialog, R = i("XuOW").InsertionErrorCode, V = i("oNDq").createConfirmDialog, B = i("X2bh").confirmDatasourceRemoving, N = i("GVHu").Study, F = i("8sOK").StudyStub, W = i("Ss5c").LineDataSource, U = i("CW80").isLineToolName, H = i("CW80").isLineTool, j = i("7KDR"), z = j.Action, Y = j.Separator, q = i("L/Ed").ToolboxType, G = i("mMWL"), X = i("LxhU").Interval, K = i("pPtI"), J = K.setLastUsedResolution, Q = K.getDefaultResolution, Z = i("n5al"), ee = Z.isRangeStyle, te = Z.getDefaultStyle, ie = i("pvsv").showSymbolInfoDialog, ne = i("HvwJ"), oe = i("PT1i").linking, re = i("mYjs").showChangeIntervalDialog, se = i("u5Q5").showDialog, ae = i("u5Q5").activateKeyPressHandler, le = i("Ocx9").DefaultProperty, ce = i("+6ja"), ue = ce.availableTimezones, he = ce.timezoneIsAvailable, de = i("0F0w").ChartSession, pe = i("0YCj"), fe = i("c2JX").Spinner, _e = i("PC8g").trackEvent, me = i("0waE").guid, ge = i("Tmoa"), ye = i("ikwP").Size, ve = i("oNU6").MarketStatusIndicator, Se = i("Wc1E").DataModeIndicator, be = i("wZIs"), we = i("uOxu").getLogger("ChartWidget", {
            color: "#606"
          }), Pe = i("Ialn").IS_RTL, Te = i("U0+/").StudyMetaInfoRepository, Ce = i("VNzU").isMultipleLayout, xe = i("b1GK").addPerfMark, Ee = i("KnF9").EnvironmentState, Ie = i("zDbI").CHART_FONT_FAMILY, Ae = i("qFKp").CheckMobile.any(), Le = window.t("On The Left"), De = window.t("On The Right"), ke = window.t("Move Scale To Left"), Oe = window.t("Move Scale To Right"), Me = {
            addToWatchlistEnabled: !0,
            sourceSelectionEnabled: !0,
            propertyPagesEnabled: !0,
            paneContextMenuEnabled: !0,
            priceScaleContextMenuEnabled: !0,
            tradeContextMenuEnabled: !1,
            verticalTouchScroll: !1,
            goToDateEnabled: !1,
            marketStatusWidgetEnabled: !0,
            chartWarningWidgetEnabled: !0,
            paneControlsEnabled: !0,
            isSymbolAvailable: function (e) {
              return Promise.resolve(!0)
            },
            legendWidgetEnabled: !0,
            chartEventsEnabled: !0,
            esdEnabled: !1,
            noMouseWheelScroll: !1,
            crossHairMenuForMainSourceOnly: !1
          }, Re = .5, o.prototype._getChartPropertyDefinitionsViewModel = function () {
            if (null === this._definitionsViewModel) {
              var e = this;
              return new Promise(function (t, n) {
                i.e("general-property-page").then(function (o) {
                  if (e._isDestroyed) n("Chart widget already destroyed");
                  else {
                    var r = i("5lPo").ChartPropertyDefinitionsViewModel;
                    e.withModel(e, function () {
                      null === e._definitionsViewModel && (e._definitionsViewModel = new r(e.model(), e.properties())), t(e._definitionsViewModel)
                    })
                  }
                }.bind(null, i)).catch(i.oe)
              })
            }
            return Promise.resolve(this._definitionsViewModel)
          }, o.prototype._initMaximizeHotkey = function (e) {
            function t(e) {
              e.defaultPrevented || b.modifiersFromEvent(e) === b.Modifiers.Alt && e.stopPropagation()
            }

            function i(e) {
              e.defaultPrevented || b.modifiersFromEvent(e) === b.Modifiers.Alt && (e.preventDefault(), e.stopPropagation(), n.toggleFullscreen())
            }
            var n = this;
            return e.addEventListener("mousedown", t, !0), e.addEventListener("click", i, !0),
              function () {
                e.removeEventListener("mousedown", t, !0), e.removeEventListener("click", i, !0)
              }
          }, o.prototype.toggleFullscreen = function () {
            var e = this.getResizerDetacher();
            e.fullscreenable.value() && (e.fullscreen.value() ? e.exitFullscreen() : e.requestFullscreen())
          }, o.prototype.backgroundBasedTheme = function () {
            return this._backgroundBasedTheme
          }, o.prototype._updateThemedColor = function () {
            var e, t = this._properties.paneProperties.background.value(),
              i = ge.getLuminance(t),
              n = i < Re;
            for (this._jqMainDiv.toggleClass("chart-widget--themed-dark", n), this._jqMainDiv.toggleClass("chart-widget--themed-light", !n), this._backgroundBasedTheme.setValue(n ? "dark" : "light"), this._model.model().isPropertyDefault("chartProperties.paneProperties.background", t, this._backgroundBasedTheme.value()) && (t = null), e = 0; e < this._paneWidgets.length; e++) this._paneWidgets[e].updateThemedColors(t)
          }, o.prototype._isLineToolModeExceptBrush = function () {
            var e = G.tool.value();
            return U(e) && "LineToolBrush" !== e && !this.selectBarMode().value()
          }, o.prototype.updateCrossHairPositionIfNeeded = function () {
            var e, t, i, n;
            this._model && (e = G.tool.value(), this._model.model().setCurrentTool(e), TradingView.isMobile.any() && (t = this._maximizedPaneWidget || this._paneWidgets[0], this._isLineToolModeExceptBrush() || Ae && this.selectBarMode().value() ? (i = .5 * this._model.model().timeScale().width(), n = .5 * t._state.defaultPriceScale().height(), this._model.model().setAndSaveCurrentPosition(i, n, t._state), t._updateTooltip(i, n)) : t._hideTooltip()), this._model && TradingView.isMobile.any() && this._model.model().crossHairSource().updateAllViews())
          }, o.prototype.exitTrackingMode = function () {
            Ae && (this._paneWidgets.forEach(function (e) {
              e.exitTrackingMode()
            }), this._model.model().clearCurrentPosition())
          }, o.prototype.onToolChanged = function () {
            this.selectBarMode().value() && this.toggleSelectBarMode(),
              this.exitTrackingMode()
          }, o.prototype.trackingModePaneWidget = function () {
            if (!Ae) return null;
            for (var e = 0; e < this._paneWidgets.length; ++e)
              if (this._paneWidgets[e].trackingModeEnabled()) return this._paneWidgets[e];
            return null
          }, o.prototype._setElement = function (e) {
            this._jqMainDiv && (this._jqMainDiv.remove(), this._jqParent.empty()), this._controlBarNavigation && (this._controlBarNavigation.destroy(), this._controlBarNavigation = null), null !== this._removeMaximizeHotkey && this._removeMaximizeHotkey(), this._removeMaximizeHotkey = this._initMaximizeHotkey(e[0]);
            var t = e.prop("ownerDocument");
            this._jqParent = $(t.createElement("div")).addClass("chart-container-border").prependTo(e), this._jqMainDiv = $('<div class="chart-widget"/>', t), this._elTooltipDiv = t.createElement("div"), this._elTooltipDiv.className = "tooltip-wrapper", this._jqMainDiv.append(this._elTooltipDiv), this._elMainTable = t.createElement("table"), this._elMainTable.className = "chart-markup-table", this._elMainTable.setAttribute("cellpading", "0"), this._elMainTable.setAttribute("cellspacing", "0"), this._jqMainDiv.append(this._elMainTable), (this._options.controlBar || p.enabled("control_bar")) && Promise.all([i.e("vendors"), i.e(109), i.e(119), i.e(297), i.e(97), i.e("chart-widget-gui")]).then(function (e) {
              if (!this._isDestroyed) {
                this._controlBarNavigation && this._controlBarNavigation.destroy();
                var t = i("TGRH").ControlBarNavigation;
                this._controlBarNavigation = new t(this, this._jqMainDiv[0]), this._model && this._adjustSize()
              }
            }.bind(this).bind(null, i)).catch(i.oe), this._containsData || this.createIndicatorImage(), this._options.noMouseWheelScroll || (this._jqMainDiv.mousewheel(this._onMousewheel.bind(this)), $.data(this._jqMainDiv[0], "mousewheel-page-height", 100)), this.resize(), this._justActivated = !1, this.withModel(this, function () {
              this._jqParent.append(this._jqMainDiv), this._jqMainDiv.on("mousedown", this._beginRequestActive.bind(this)), this._jqMainDiv.on("mouseup", this._endRequestActive.bind(this)), this._jqMainDiv.on("touchstart", this._beginRequestActive.bind(this)), this._jqMainDiv.on("touchmove", this._endRequestActive.bind(this)), this._jqMainDiv.on("touchend", this._endRequestActive.bind(this)), this._jqParent.on("click", this._requestActive.bind(this))
            }), this._inited && (null !== this._timeAxisWidget && (this._timeAxisWidget.destroy(), this._timeAxisWidget = null), this._paneWidgets.length = 0, this._paneSeparators.length = 0, this._update(new ne(ne.FULL_UPDATE)))
          }, o.prototype._beginRequestActive = function () {
            var e = !1;
            this._chartWidgetCollection && (e = this._chartWidgetCollection.activeChartWidget.value() !== this, this._chartWidgetCollection.activeChartWidget.setValue(this)), e && (TradingView.isMobile.any() && this._isLineToolModeExceptBrush() && this.updateCrossHairPositionIfNeeded(), this._justActivated = !0)
          }, o.prototype._endRequestActive = function () {
            var e = this;
            this._justActivated && setTimeout(function () {
              e._justActivated = !1
            }, 0)
          }, o.prototype._requestActive = function () {
            this._beginRequestActive(), this._endRequestActive()
          }, o.prototype.justActivated = function () {
            return this._justActivated
          }, o.prototype._onMousewheel = function (e) {
            var t, i, n, o, r, s, a, l;
            if (this.model().model().zoomEnabled() && (TradingView.onWidget() || !parent || parent === window || !parent.IS_DEMO_PAGE) && this.model() && !this.noScroll && !this.model().timeScale().isEmpty()) return t = e.deltaFactor || 100, i = e.deltaX * (t / 100), n = e.deltaY * (t / 100), o = e.pageX - 5, r = this._paneWidgets[0].leftPriceAxisesContainer().getWidth(), s = this._timeAxisWidget.size.w, r && (o = Math.max(0, o - r)), o = Math.min(o, s), a = p.enabled("right_bar_stays_on_scroll") ? 1 : 2 * (o / s - .5), l = Math.min(1, Math.abs(n)), n > 0 ? this.model().zoomIn(a, l) : n < 0 && this.model().zoomOut(a, l), i && this.model().scrollChart(-80 * i), !1
          }, o.prototype.getStudyScriptingPkgVers = function () {
            return this._metaInfoRepository.getStudyScriptingPkgVers()
          }, o.prototype.setTimezone = function (e) {
            e && he(e) ? this._properties.timezone.setValue(e) : console.warn("Incorrect timezone: " + JSON.stringify(e))
          }, o.prototype.refreshMarks = function () {
            this.model().barsMarksSources().forEach(function (e) {
              e.refreshData()
            })
          }, o.prototype.clearMarks = function () {
            this.model().barsMarksSources().forEach(function (e) {
              e.clearMarks()
            })
          }, o.prototype.metaInfoRepository = function () {
            return this._metaInfoRepository
          }, o.prototype._init = function () {
            var e, t, i = this;
            this.model() && this.model().mainSeries().clearData(), this.initColors(), this._makeDefaultGui(), e = function () {
              i._checkObsoleteTimezone(), i._chartSession && i._chartSession.connected() && this._model.restart(), this._content && (this.initColors(), this._updateGui(), this.update());
              var e = i._model.mainSeries();
              e.marketStatus.subscribe(function (t) {
                i.indicatorImage && i._updateDataAndMarketStatus(t, e.status())
              }, {
                callWithLast: !0
              }), this._resizeHandler = function () {
                this._adjustSize(), this._model && this._model.mainSeries().requestMoreData(), this.paint(), this.checkCompactMode(), this.resizeIndicator()
              }.bind(this), this._resizeHandler(), this._jqParent.append(this._jqMainDiv), this._spinner && (this._spinner.stop(), delete this._spinner), f("chrome_canvas_fix") && navigator.userAgent.match(/windows.+chrome/i) && $(window).on("visibilitychange:chart_" + this._guid, function (e, t) {
                if (t) {
                  for (var n = 0; n < i._paneWidgets.length; n++) i._paneWidgets[n].hardResetCanvas();
                  i._timeaxiswidget && i._timeaxiswidget.hardResetCanvas(), i.paint(new ne(ne.LIGHT_UPDATE))
                }
              }), $(window).on("keydown:chart_" + this._guid, function (e) {
                27 === e.which && e.preventDefault()
              }), this._initBarsMarksSources(), this._options.esdEnabled && this.initESDTimelineWidget(), this._showChartEvents && this._createChartEventsSource(), this._activateSymbolSearchHotkeys(), this.model().timeScale().onScroll().subscribe(this, function () {
                this._onScroll.fire()
              }), this._inited = !0
            }.bind(this), void 0 === (t = this._makeDefaultModel()) ? e() : t.then(e)
          }, o.prototype._activateSymbolSearchHotkeys = function () {
            this.readOnly() || this._hideSymbolSearch || ae()
          }, o.prototype._checkObsoleteTimezone = function () {
            var e = this._properties.timezone.value();
            he(e) || this._properties.timezone.setValue({
              UTC: "Etc/UTC",
              EST: "America/New_York",
              CST: "America/Chicago",
              PST: "America/Los_Angeles"
            } [e] || "exchange")
          }, o.prototype._initBarsMarksSources = function () {
            var e = this;
            this.withModel(this, function () {
              this.model().barsMarksSources().forEach(function (t) {
                t.onNeedRepaint.subscribe(e, e.paint)
              })
            })
          }, o.prototype.initESDTimelineWidget = function () {
            new x(this)
          }, o.prototype.initColors = function () {
            this._properties.paneProperties.background.listeners().subscribe(this, o.prototype.setBackgroundColor), this._properties.paneProperties.vertGridProperties.color.listeners().subscribe(this, o.prototype.redrawPanes), this._properties.paneProperties.horzGridProperties.color.listeners().subscribe(this, o.prototype.redrawPanes), this._properties.scalesProperties.lineColor.listeners().subscribe(this, o.prototype.setScaleLineColor), this._properties.scalesProperties.textColor.listeners().subscribe(this, o.prototype.setScaleTextColor)
          }, o.prototype.paneWidgets = function () {
            return this._paneWidgets
          }, o.prototype.paneByCanvas = function (e) {
            for (var t = 0; t < this._paneWidgets.length; t++)
              if (this._paneWidgets[t].canvas === e || this._paneWidgets[t].top_canvas === e) return this._paneWidgets[t];
            return null
          }, o.prototype.paneByState = function (e) {
            for (var t = 0; t < this._paneWidgets.length; t++)
              if (this._paneWidgets[t]._state === e) return this._paneWidgets[t];
            return null
          }, o.prototype.timeAxisByCanvas = function (e) {
            return e === this._timeAxisWidget.canvas || e === this._timeAxisWidget.top_canvas ? this._timeAxisWidget : null
          }, o.prototype.properties = function () {
            return this._properties
          }, o.prototype.emulateCriticalError = function () {
            this._chartSession.removeSeries("-1", null)
          }, o.prototype.readOnly = function () {
            return this._readOnly
          }, o.prototype.onDisconnected = function () {
            return this._disconnected
          }, o.prototype.onReconnectBailout = function () {
            return this._reconnectBailout
          }, o.prototype.onConnected = function () {
            return this._connected
          }, o.prototype.onRedrawPanes = function () {
            return this._redrawPanes
          }, o.prototype.onScroll = function () {
            return this._onScroll
          }, o.prototype.modelCreated = function () {
            return this._modelCreated
          }, o.prototype.setResolution = function (e) {
            var t, i;
            this._model ? (t = this._model.mainSeries().properties(), i = window.t("Change Resolution"), this._model.setResolutionProperty(t.interval, e, this, i)) : this._properties.mainSeriesProperties.merge({
              interval: e
            })
          }, o.prototype.getResolution = function () {
            return this._model ? this._model.mainSeries().properties().interval.value() : this._properties.mainSeriesProperties.interval.value()
          }, o.prototype.addOverlayStudy = function (e, t) {
            var i = this.model();
            return this._options.isSymbolAvailable(e).then(function (n) {
              var o, r;
              return n ? (o = i.createStudyInserter("Overlay@tv-basicstudies"), p.enabled("use_overrides_for_overlay") && (r = be.factoryDefaults("study_Overlay@tv-basicstudies.style"), o.setPropertiesState({
                style: r
              })), o.setForceOverlay(t), o.insert(function () {
                return Promise.resolve({
                  symbol: e
                })
              })) : null
            })
          }, o.prototype.addCompareStudy = function (e) {
            var t = this.model();
            return this._options.isSymbolAvailable(e).then(function (i) {
              return i ? t.createStudyInserter("Compare@tv-basicstudies").insert(function () {
                return Promise.resolve({
                  symbol: e
                })
              }) : null
            })
          }, o.prototype.updateActions = function () {
            var e, t, n, o, r, s, a = this,
              l = this.actions(),
              c = this._model.dataSources(),
              u = !1,
              h = !1;
            for (e = 0, t = c.length; e < t; e++) n = c[e],
              TradingView.isInherited(n.constructor, W) && n.isUserDeletable() && (u = !0), TradingView.isInherited(n.constructor, N) && n.removeByRemoveAllStudies() && (h = !0), TradingView.isInherited(n.constructor, F) && (h = !0);
            this._readOnly || (l.paneRemoveAllStudies && l.paneRemoveAllStudies.update({
              disabled: !h
            }), l.paneRemoveAllDrawingTools && l.paneRemoveAllDrawingTools.update({
              disabled: !u
            }), l.paneRemoveAllStudiesDrawingTools && l.paneRemoveAllStudiesDrawingTools.update({
              disabled: !h && !u
            })), Promise.all([i.e(64), i.e(229)]).then(function (e) {
              function t(e) {
                var t, o = [],
                  r = n.getStdThemeNames(),
                  s = n.getCurrentTheme().name;
                r.forEach(function (e) {
                  var t = new z({
                    name: "theme-switch-to-" + e,
                    label: TradingView.clean(n.translateStdThemeName(e)),
                    checkable: !0,
                    checked: s === e,
                    onExecute: function (t) {
                      t.update({
                        checked: !0
                      }), n.loadTheme(e, !0, !1, a._chartWidgetCollection).then(function () {
                        window.saver.saveChartSilently(), _e("GUI", "Themes", "Switch to " + e + " theme")
                      })
                    }
                  });
                  o.push(t)
                }), o.sort(function (e, t) {
                  return e.getLabel() > t.getLabel() ? -1 : 1
                }), window.is_authenticated && (o.push(new Y), t = new z({
                  name: "theme-save-as",
                  label: window.t("Save As..."),
                  onExecute: function () {
                    (0, i("KeOl").showThemeSaveDialog)(a._model.model().theme())
                  }
                }), o.push(t)), e && e.length && window.is_authenticated && (o.push(new Y), e.forEach(function (e, t) {
                  var i = new z({
                    label: TradingView.clean(n.translateStdThemeName(e)),
                    checkable: !1,
                    onExecute: function (t) {
                      n.loadTheme(e, !1, !1, a._chartWidgetCollection).then(function () {
                        window.saver.saveChartSilently(), _e("GUI", "Switch to custom theme")
                      })
                    },
                    toolbox: {
                      type: q.Delete,
                      action: function () {
                        var t = window.t("Do you really want to delete Color Theme '{0}' ?").format(e);
                        t = TradingView.clean(t), V({
                          type: "modal",
                          content: t
                        }).then(function (t) {
                          t.on("action:yes", function (t) {
                            n.removeTheme(e), t.close()
                          }), t.open()
                        })
                      }
                    },
                    showToolboxOnHover: !0
                  });
                  o.push(i)
                })), l.applyColorTheme.update({
                  subItems: o
                })
              }
              var n = i("EsvI");
              window.is_authenticated ? n.getThemeNames().then(t) : t()
            }.bind(null, i)).catch(i.oe), o = this, r = [], s = function (e) {
              return e.id === o.model().model().properties().timezone.value()
            }, ue.forEach(function (e) {
              if (!e.separator) {
                var t = new z({
                  label: e.title,
                  checkable: !0,
                  checked: s(e),
                  statName: "SetTimeZone",
                  onExecute: function () {
                    o.model().setProperty(o.model().model().properties().timezone, e.id, "Changed Time Zone")
                  }
                });
                r.push(t)
              }
            }, this), l.applyTimeZone.update({
              subItems: r
            }), l.addToWatchlist && l.addToWatchlist.update({
              label: window.t("Add to Watchlist {0}").format(this.getSymbol(!0))
            }), l.addToTextNotes && l.addToTextNotes.update({
              label: window.t("Add Text Note for {0}").format(this.getSymbol(!0))
            }), l.moveChartAction && l.moveChartAction.update({
              disabled: !this._chartWidgetCollection.activeChartCanBeMoved()
            })
          }, o.prototype.applyTheme = function (e) {
            var t = this;
            Promise.resolve().then(function (e) {
              var n = i("EsvI"),
                o = o || n.getCurrentTheme().name;
              n.loadTheme(o, !0, !0, t._chartWidgetCollection)
            }.bind(null, i)).catch(i.oe)
          }, o.prototype.actions = function () {
            return null === this._actions && this._setActions(), this._actions
          }, o.prototype._setActions = function () {
            var e, t, n, o, r, s, a, l, c, u, h, d, f, m, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U, H, j, q, X, K, $, Q, Z, ee, te, ae, le, ce, ue, he, de, pe, fe, me, ge, ye, ve, Se = this,
              be = [];
            if (!this._readOnly) {
              for (be = [new z({
                  label: window.t("Eraser"),
                  payload: "eraser",
                  statName: "Eraser"
                }), new Y, new z({
                  label: window.t("Trend Line"),
                  payload: "LineToolTrendLine",
                  statName: "LineToolTrendLine"
                }), new z({
                  label: window.t("Horizontal Line"),
                  payload: "LineToolHorzLine",
                  statName: "LineToolHorzLine"
                }), new z({
                  label: window.t("Vertical Line"),
                  payload: "LineToolVertLine",
                  statName: "LineToolVertLine"
                }), new z({
                  label: window.t("Arrow"),
                  payload: "LineToolArrow",
                  statName: "LineToolArrow"
                }), new z({
                  label: window.t("Ray"),
                  payload: "LineToolRay",
                  statName: "LineToolRay"
                }), new z({
                  label: window.t("Extended"),
                  payload: "LineToolExtended",
                  statName: "LineToolExtended"
                }), new z({
                  label: window.t("Parallel Channel"),
                  payload: "LineToolParallelChannel",
                  statName: "LineToolParallelChannel"
                }), new Y, new z({
                  label: window.t("Pitchfork"),
                  payload: "LineToolPitchfork",
                  statName: "LineToolPitchfork"
                }), new z({
                  label: window.t("Schiff Pitchfork"),
                  payload: "LineToolSchiffPitchfork",
                  statName: "LineToolSchiffPitchfork"
                }), new z({
                  label: window.t("Pitchfan"),
                  payload: "LineToolPitchfan",
                  statName: "LineToolPitchfan"
                }), new z({
                  label: window.t("Gann Square"),
                  payload: "LineToolGannSquare",
                  statName: "LineToolGannSquare"
                }), new z({
                  label: window.t("Gann Fan"),
                  payload: "LineToolGannFan",
                  statName: "LineToolGannFan"
                }), new z({
                  label: window.t("Fib Retracement"),
                  payload: "LineToolFibRetracement",
                  statName: "LineToolFibRetracement"
                }), new z({
                  label: window.t("Trend-Based Fib Extension"),
                  payload: "LineToolTrendBasedFibExtension",
                  statName: "LineToolTrendBasedFibExtension"
                }), new z({
                  label: window.t("Fib Speed Resistance Fan"),
                  payload: "LineToolFibSpeedResistanceFan",
                  statName: "LineToolFibSpeedResistanceFan"
                }), new z({
                  label: window.t("Fib Time Zone"),
                  payload: "LineToolFibTimeZone",
                  statName: "LineToolFibTimeZone"
                }), new z({
                  label: window.t("Circle Lines"),
                  payload: "LineToolCircleLines",
                  statName: "LineToolCircleLines"
                }), new z({
                  label: window.t("Fib Circles"),
                  payload: "LineToolFibCircles",
                  statName: "LineToolFibCircles"
                }), new z({
                  label: window.t("Fib Speed Resistance Arcs"),
                  payload: "LineToolFibSpeedResistanceArcs",
                  statName: "LineToolFibSpeedResistanceArcs"
                }), new Y, new z({
                  label: window.t("Rectangle"),
                  payload: "LineToolRectangle",
                  statName: "LineToolRectangle"
                }), new z({
                  label: window.t("Ellipse"),
                  payload: "LineToolEllipse",
                  statName: "LineToolEllipse"
                }), new z({
                  label: window.t("Triangle"),
                  payload: "LineToolTriangle",
                  statName: "LineToolTriangle"
                }), new z({
                  label: window.t("Polyline"),
                  payload: "LineToolPolyline",
                  statName: "LineToolPolyline"
                }), new z({
                  label: window.t("Arc"),
                  payload: "LineToolArc",
                  statName: "LineToolArc"
                }), new Y, new z({
                  label: window.t("Text", {
                    context: "tool"
                  }),
                  payload: "LineToolText",
                  statName: "LineToolText"
                }), new z({
                  label: window.t("Anchored Text"),
                  payload: "LineToolTextAbsolute",
                  statName: "LineToolTextAbsolute"
                }), new z({
                  label: window.t("Balloon"),
                  payload: "LineToolBalloon",
                  statName: "LineToolBalloon"
                }), new z({
                  label: window.t("Price Label"),
                  payload: "LineToolPriceLabel",
                  statName: "LineToolPriceLabel"
                }), new Y, new z({
                  label: window.t("Elliott Wave Subminuette"),
                  payload: "LineToolElliottSubminuette",
                  statName: "LineToolElliottSubminuette"
                }), new z({
                  label: window.t("Elliott Wave Minor"),
                  payload: "LineToolElliottMinor",
                  statName: "LineToolElliottMinor"
                }), new z({
                  label: window.t("Elliott Wave Circle"),
                  payload: "LineToolElliottCircle",
                  statName: "LineToolElliottCircle"
                }), new z({
                  label: window.t("Elliott Minor Retracement"),
                  payload: "LineToolElliottMinorRetr",
                  statName: "LineToolElliottMinorRetr"
                }), new z({
                  label: window.t("Elliott Major Retracement"),
                  payload: "LineToolElliottMajorRetr",
                  statName: "LineToolElliottMajorRetr"
                }), new Y, new z({
                  label: window.t("Brush"),
                  payload: "LineToolBrush",
                  statName: "LineToolBrush"
                }), new Y, new z({
                  label: window.t("Forecast"),
                  payload: "LineToolPrediction",
                  statName: "LineToolPrediction"
                })], t = function (e) {
                  G.tool.setValue(e.getPayload())
                }, n = 0; n < be.length; n++) be[n] instanceof z && be[n].update({
                onExecute: t
              });
              e = new z({
                label: window.t("Settings..."),
                icon: i("MXV9"),
                statName: "ScalesProperties",
                onExecute: function () {
                  Se.showGeneralChartProperties(y.scales)
                }
              })
            }
            o = new z({
                label: window.t("Reset Chart"),
                icon: i("LdoW"),
                shortcut: "Alt+R",
                shortcutHint: "Alt + R",
                doNotBindShortcut: !this._isActive,
                statName: "ResetChart",
                onExecute: this.GUIResetScales.bind(this)
              }), r = new z({
                label: window.t("Invert Scale"),
                shortcut: "Alt+I",
                shortcutHint: "Alt + I",
                doNotBindShortcut: !this._isActive,
                statName: "Invert Scale",
                checkable: !0,
                onExecute: function () {
                  Se._model.invertPriceScale(Se._model.mainSeries().priceScale())
                }
              }), s = new z({
                label: window.t("Auto (Fits Data To Screen)"),
                checkable: !0,
                onExecute: function () {
                  var e = Se._model.mainSeries().priceScale();
                  Se._model.togglePriceScaleAutoScaleMode(e), s.update({
                    checked: e.isAutoScale()
                  })
                }
              }), a = new z({
                label: window.t("Lock Price To Bar Ratio"),
                checkable: !0,
                statName: "ToggleLockScale",
                onExecute: function () {
                  Se._model.togglePriceScaleLockScaleMode(Se._model.mainSeries().priceScale())
                }
              }), l = new z({
                label: window.t("Regular"),
                checkable: !0,
                statName: "ToggleRegularScale",
                onExecute: function () {
                  var e = Se._model.mainSeries().priceScale();
                  Se._model.setPriceScaleRegularScaleMode(e), l.update({
                    checked: e.isRegular()
                  })
                }
              }), c = new z({
                label: window.t("Percent"),
                shortcut: "Alt+P",
                shortcutHint: "Alt + P",
                checkable: !0,
                statName: "TogglePercantage",
                onExecute: function () {
                  Se._model.togglePriceScalePercentageScaleMode(Se._model.mainSeries().priceScale())
                }
              }), u = new z({
                label: window.t("Indexed to 100"),
                checkable: !0,
                statName: "ToggleIndexedTo100",
                onExecute: function () {
                  Se._model.togglePriceScaleIndexedTo100ScaleMode(Se._model.mainSeries().priceScale())
                }
              }), h = new z({
                label: window.t("Logarithmic"),
                shortcut: "Alt+L",
                shortcutHint: "Alt + L",
                statName: "ToggleLogScale",
                checkable: !0,
                onExecute: function () {
                  Se._model.togglePriceScaleLogScaleMode(Se._model.mainSeries().priceScale())
                }
              }), d = new z({
                label: window.t("Undo"),
                shortcut: "ctrl+z",
                doNotBindShortcut: !this._isActive,
                onExecute: function () {
                  _e("GUI", "Undo"), Se._model.undoHistory.undo()
                },
                disabled: !0
              }), f = new z({
                label: window.t("Redo"),
                shortcut: "ctrl+y",
                doNotBindShortcut: !this._isActive,
                onExecute: function () {
                  _e("GUI", "Redo"), Se._model.undoHistory.redo()
                },
                disabled: !0
              }),
              Se.withModel(null, function () {
                Se._model.undoHistory.undoStack().onChange().subscribe(Se, Se.updateUndoRedo), Se._model.undoHistory.redoStack().onChange().subscribe(Se, Se.updateUndoRedo)
              }), m = [new z({
                label: window.t("Loading")
              })], S = new z({
                name: "apply-color-theme",
                label: window.t("Color Theme"),
                icon: i("opke"),
                subItems: m,
                statName: "ColorTheme"
              }), b = new z({
                label: window.t("Time Zone"),
                statName: "TimeZone"
              }), w = new z({
                label: window.t("Change Symbol..."),
                shortcut: window.t("Any Symbol"),
                doNotBindShortcut: !0,
                statName: "ChangeSymbol",
                onExecute: function () {
                  se({
                    callback: this.setSymbol.bind(this),
                    ownerDocument: this._jqParent.prop("ownerDocument")
                  })
                }
              }), g("symboledit.dialog_last_entry", ""), P = new z({
                label: window.t("Change Interval..."),
                shortcut: window.t("Any Number"),
                doNotBindShortcut: !0,
                statName: "ChangeInterval",
                onExecute: function () {
                  re({
                    callback: function (e) {
                      J(e), oe.interval.setValue(e)
                    },
                    ownerDocument: Se._jqParent.prop("ownerDocument")
                  })
                }
              }), TradingView.onWidget() || (this._options.addToWatchlistEnabled && (T = new z({
                label: window.t("Add To Watchlist"),
                icon: i("a9Kt"),
                shortcut: "Alt+W",
                shortcutHint: "Alt + W",
                doNotBindShortcut: !this._isActive,
                statName: "AddToWatchlist",
                onExecute: function () {
                  var e, t, i;
                  if (window.widgetbar) {
                    for (e = window.widgetbar.setPage("base"), i = 0; i < e.widgets.length; i++)
                      if ("watchlist" === e.widgets[i].type) {
                        t = e.widgets[i].widgetObject;
                        break
                      } if (!t) return;
                    t.addHighlight(Se.getSymbol())
                  }
                }
              })), C = new z({
                label: window.t("Add To Text Notes"),
                shortcut: "Alt+N",
                shortcutHint: "Alt + N",
                doNotBindShortcut: !this._isActive,
                statName: "AddToTextNotes",
                onExecute: function () {
                  runOrSignIn(function () {
                    TradingView.bottomWidgetBar && (TradingView.bottomWidgetBar.toggleWidget("text_notes", !0), TradingView.bottomWidgetBar._widgets.text_notes.addNote(null, Se.getSymbol(!0), Se.getSymbol()))
                  }, {
                    source: "Add text note in chart context menu"
                  })
                }
              })), x = new z({
                shortcut: "Ctrl+Alt+Q",
                shortcutHint: "Ctrl + Alt + Q",
                doNotBindShortcut: !this._isActive,
                label: window.t("Reset Time Scale"),
                icon: i("LdoW"),
                statName: "ResetScale",
                onExecute: function () {
                  Se.model().resetTimeScale()
                }
              }), E = new z({
                label: window.t("Insert Drawing Tool"),
                subItems: be,
                statName: "InsertDravingTool"
              }), I = new z({
                label: window.t("Remove All Indicators"),
                statName: "RemoveAllIndicators",
                onExecute: this.removeAllStudies.bind(this)
              }), A = new z({
                label: window.t("Remove All Drawing Tools"),
                statName: "RemoveAllDrawingTools",
                onExecute: this.removeAllDrawingTools.bind(this)
              }), L = new z({
                label: window.t("All Indicators And Drawing Tools"),
                statName: "RemoveAllIndicatorsAndDrawingTools",
                onExecute: this.removeAllStudiesDrawingTools.bind(this)
              }), D = new z({
                label: window.t("Insert Indicator..."),
                shortcut: "/",
                doNotBindShortcut: !this._isActive,
                statName: "InsertIndicator",
                onExecute: this.showIndicators.bind(this)
              }), k = new z({
                label: window.t("Compare or Add Symbol..."),
                statName: "CompareOrAddSymbol",
                onExecute: this.showCompareOrAdd.bind(this)
              }), O = new z({
                label: window.t("Compare..."),
                statName: "Compare",
                onExecute: this.showCompareOrAdd.bind(this)
              }), M = new z({
                label: window.t("Object Tree..."),
                statName: "ObjectsTree",
                onExecute: this.showObjectsTreeDialog.bind(this)
              }), R = new z({
                label: window.t("Settings..."),
                icon: i("MXV9"),
                statName: "ChartProperties",
                onExecute: function () {
                  Se.showGeneralChartProperties()
                }
              }), V = new z({
                label: window.t("Lock/Unlock"),
                statName: "ToggleLockSelectedObject",
                onExecute: this.toggleLockSelectedObject.bind(this)
              }), B = new z({
                label: window.t("Hide"),
                icon: i("DYI2"),
                statName: "HideSelectedObject",
                onExecute: this.hideSelectedObject.bind(this)
              }), p.enabled("property_pages") && (N = new z({
                label: window.t("Settings..."),
                icon: i("MXV9"),
                statName: "EditSelectedObject",
                onExecute: function () {
                  Se.showSelectedSourceProperties()
                }
              })), F = new z({
                label: window.t("Source Code..."),
                statName: "OpenSelectedObjectSource",
                onExecute: this.openSelectedObjectSource.bind(this)
              }), this.withModel(null, function () {
                Se.model().mainSeries().properties().priceAxisProperties.subscribe(Se, Se._updateScalesActions)
              }), (W = new z({
                label: window.t("Scale Price Chart Only"),
                checkable: !0,
                statName: "ScalePriceChartOnly"
              })).binder = new _(W, this._properties.scalesProperties.scaleSeriesOnly, this.model(), window.t("Scale Price Chart Only")), U = this.model().model(), this._properties.scalesProperties.scaleSeriesOnly.listeners().subscribe(null, function () {
                U.recalculateAllPanes(), U.invalidate(new ne(ne.FULL_UPDATE))
              }), H = new z({
                label: window.t("Drawings Toolbar"),
                checkable: !0,
                statName: "ToggleDrawingToolbar"
              }), (j = this._options.isDrawingToolbarVisible) && (j.subscribe(function (e) {
                H.update({
                  checked: e
                })
              }, {
                callWithLast: !0
              }), H.update({
                onExecute: function () {
                  j.setValue(!j.value())
                }
              })), (q = new z({
                label: window.t("Stay in Drawing Mode"),
                checkable: !0,
                statName: "ToggleStayInDrawingMode"
              })).binder = new _(q, G.properties().stayInDrawingMode, this.model(), window.t("Stay In Drawing Mode")), (X = new z({
                label: window.t("Sync drawings to all charts"),
                checkable: !0,
                statName: "ToggleSyncDrawings"
              })).binder = new _(X, G.properties().drawOnAllCharts, this.model(), "SyncDrawings"), (K = new z({
                label: window.t("Lock All Drawing Tools"),
                checkable: !0,
                statName: "ToggleLockDrawings"
              })).binder = new _(K, G.lockDrawings(), this.model(), window.t("Lock drawings"), function () {
                G.lockDrawings().setValue(this.value())
              }), ($ = new z({
                label: window.t("Hide All Drawing Tools"),
                checkable: !0,
                statName: "ToggleHideAllDrawingTools"
              })).binder = new _($, G.hideAllDrawings(), this.model(), window.t("Hide All Drawing Tools"), function () {
                G.hideAllDrawings().setValue(this.value())
              }), (Q = new z({
                label: window.t("Hide Marks On Bars"),
                checkable: !0,
                statName: "ToggleHideMarksOnBars"
              })).binder = new _(Q, G.hideMarksOnBars(), this.model(), window.t("Hide Marks On Bars"), function () {
                G.hideMarksOnBars().setValue(this.value())
              }), (Z = new z({
                label: window.t("Extended Trading Hours"),
                checkable: !0,
                statName: "ToggleExtendedHours"
              })).binder = new _(Z, this.model().mainSeries().properties().extendedHours, this.model(), window.t("Change Extended Hours")), (ee = new z({
                label: window.t("Symbol Last Value Label"),
                checkable: !0,
                checked: !1,
                statName: "ToggleSymbolLastValue"
              })).binder = new _(ee, this.properties().scalesProperties.showSeriesLastValue, this.model(), window.t("Show Symbol Last Value")), (te = new z({
                label: window.t("Symbol Previous Day Close Value Label"),
                checkable: !0,
                checked: !1,
                statName: "ToggleSymbolPrevCloseValue"
              })).binder = new _(te, this.properties().scalesProperties.showSeriesPrevCloseValue, this.model(), window.t("Show Symbol Previous Close Value")), this.model().mainSeries().onRestarted().subscribe(this, function () {
                this.updateActionForIntradayOnly(te)
              }), (ae = new z({
                label: window.t("Symbol Name Label"),
                checkable: !0,
                checked: !1,
                statName: "ToggleSymbolLabels"
              })).binding = new _(ae, this.properties().scalesProperties.showSymbolLabels, this.model(), "Undo Show Symbol Labels"), (le = new z({
                label: window.t("Indicator Last Value Label"),
                checkable: !0,
                checked: !1,
                statName: "ToggleStudyLastValue"
              })).binder = new _(le, this.properties().scalesProperties.showStudyLastValue, this.model(), window.t("Show Indicator Last Value")), (ce = new z({
                label: window.t("Indicator Name Label"),
                checkable: !0,
                checked: !1,
                statName: "ToggleIndicatorsLabels"
              })).binding = new _(ce, this.properties().scalesProperties.showStudyPlotLabels, this.model(), "Undo Show Indicator Labels"), (ue = new z({
                label: window.t("Countdown To Bar Close"),
                checkable: !0,
                checked: !1,
                statName: "ToggleCountdown"
              })).binder = new _(ue, this.model().mainSeries().properties().showCountdown, this.model(), ue.getLabel()), he = null, this._options.goToDateEnabled && (he = new z({
                label: window.t("Go to Date..."),
                shortcut: "Alt+G",
                shortcutHint: "Alt + G",
                doNotBindShortcut: !this._isActive,
                statName: "GoToDate",
                onExecute: function () {
                  var e = Se._chartWidgetCollection.activeChartWidget.value();
                  v(e.model())
                }
              })), de = new z({
                label: window.t("Symbol Info..."),
                icon: i("1pHB"),
                checkable: !1,
                statName: "SymbolInfo",
                onExecute: function () {
                  var e = Se.model().mainSeries().symbol(),
                    t = Se.model().mainSeries().symbolInfo();
                  ie(e, {
                    symbolInfo: t
                  })
                }
              }), pe = new z({
                label: Le,
                statName: "MergeAllScalesToLeft",
                onExecute: function () {
                  Se.model().mergeAllScales("left")
                }
              }), fe = new z({
                label: De,
                statName: "MergeAllScalesToRight",
                onExecute: function () {
                  Se.model().mergeAllScales("right")
                }
              }), me = new z({
                label: ke,
                statName: "MoveScaleToLeft",
                onExecute: function () {
                  Se.model().mergeAllScales("left")
                }
              }), ge = new z({
                label: Oe,
                statName: "MoveScaleToRight",
                onExecute: function () {
                  Se.model().mergeAllScales("right")
                }
              }), ye = new z({
                label: window.t("Move Chart"),
                subItems: [new z({
                  label: window.t("Forward"),
                  statName: "MoveChartRight",
                  onExecute: function () {
                    Se._chartWidgetCollection.moveActiveChartWithUndo(!1)
                  }
                }), new z({
                  label: window.t("Back"),
                  statName: "MoveChartLeft",
                  onExecute: function () {
                    Se._chartWidgetCollection.moveActiveChartWithUndo(!0)
                  }
                })]
              }), this._actions = {
                chartProperties: R,
                timeScaleReset: x,
                chartReset: o,
                invertSeriesScale: r,
                logSeriesScale: h,
                autoSeriesScale: s,
                lockSeriesScale: a,
                regularSeriesScale: l,
                percentSeriesScale: c,
                indexedTo100SeriesScale: u,
                compareOrAdd: k,
                compare: O,
                paneObjectTree: M,
                insertIndicator: D,
                insertDrawingTool: E,
                applyColorTheme: S,
                symbolSearch: w,
                showSymbolInfoDialog: de,
                changeInterval: P,
                seriesHide: B,
                studyHide: B,
                lineToggleLock: V,
                lineHide: B,
                scaleSeriesOnly: W,
                drawingToolbarAction: H,
                stayInDrawingModeAction: q,
                syncModeAction: X,
                lockDrawingsAction: K,
                hideAllDrawingsAction: $,
                hideAllMarks: Q,
                applyTimeZone: b,
                extendedHours: Z,
                showCountdown: ue,
                showSeriesLastValue: ee,
                showSeriesPrevCloseValue: te,
                showSymbolLabelsAction: ae,
                showStudyLastValue: le,
                showStudyPlotNamesAction: ce,
                undo: d,
                redo: f,
                mergeLeftScalesAction: pe,
                mergeRightScalesAction: fe,
                moveScaleToLeft: me,
                moveScaleToRight: ge,
                viewSourceCode: F,
                moveChartAction: ye
              }, e && (this._actions.scalesProperties = e), T && (this._actions.addToWatchlist = T), !TradingView.onWidget() && p.enabled("text_notes") && (this._actions.addToTextNotes = C), null !== he && (this._actions.gotoDate = he), this.createSessionBreaksActions(), this.readOnly() || (ve = new z({
                label: window.t("Remove"),
                icon: i("PgQx"),
                shortcut: "Del",
                doNotBindShortcut: !this._isActive,
                statName: "RemoveSelectedObject",
                onExecute: function () {
                  var e;
                  this._chartWidgetCollection && (e = this._chartWidgetCollection.activeChartWidget.value()), e || (e = this), e.removeSelectedSources()
                }.bind(this)
              }), this._actions.insertDrawingTool = E, this._actions.paneRemoveAllStudies = I, this._actions.paneRemoveAllDrawingTools = A, this._actions.paneRemoveAllStudiesDrawingTools = L, this._actions.seriesRemove = ve, this._actions.studyRemove = ve, this._actions.lineRemove = ve, p.enabled("property_pages") && (this._actions.format = N), this._actions.lockDrawingsAction = K, this._actions.hideAllDrawingsAction = $, this._actions.hideAllMarks = Q), this._actions.showPriceLine = new z({
                label: window.t("Price Line"),
                checkable: !0,
                statName: "TogglePriceLine"
              }), this._actions.showPriceLine.binding = new _(this._actions.showPriceLine, this.model().mainSeries().properties().showPriceLine, this.model(), "Undo Toggle Price Line"), this._updateScalesActions()
          }, o.prototype.executeActionById = function (e) {
            if ("takeScreenshot" === e) return console.warn('Action "takeScreenshot" is deprecated. Use method "takeScreenshot" instead'), void this._chartWidgetCollection.takeScreenshot();
            "lockDrawingsAction" === e && console.warn('Action "lockDrawingsAction" is deprecated. Use method "lockAllDrawingTools" instead'), "hideAllDrawingsAction" === e && console.warn('Action "hideAllDrawingsAction" is deprecated. Use method "hideAllDrawingTools" instead'), e in this._actions ? this._actions[e] instanceof z && this._actions[e].execute() : console.warn("Unknown action id: " + e)
          }, o.prototype.getCheckableActionState = function (e) {
            if ("lockDrawingsAction" === e) return console.warn('Action "lockDrawingsAction" is deprecated. Use method "lockAllDrawingTools" instead'), null;
            if ("hideAllDrawingsAction" === e) return console.warn('Action "hideAllDrawingsAction" is deprecated. Use method "hideAllDrawingTools" instead'), null;
            if (e in this._actions) {
              var t = this._actions[e];
              if (t instanceof z && t.isCheckable()) return t.isChecked();
              console.warn("Action " + e + " has no state")
            } else console.warn("Unknown action id: " + e);
            return null
          }, o.prototype._updateScalesActions = function () {
            var e, t, i, n, o;
            null !== this._actions && (t = (e = this.model().mainSeries()).priceScale(), i = e.properties(), n = t.isLockScale(), o = i.style.value() === d.STYLE_PNF, this._actions.percentSeriesScale.update({
              disabled: n || o,
              checked: t.isPercentage()
            }), this._actions.logSeriesScale.update({
              disabled: n || o,
              checked: t.isLog()
            }), this._actions.regularSeriesScale.update({
              disabled: n || o,
              checked: t.isRegular()
            }), this._actions.indexedTo100SeriesScale.update({
              disabled: n || o,
              checked: t.isIndexedTo100()
            }), this._actions.invertSeriesScale.update({
              checked: t.isInverted()
            }), this._actions.lockSeriesScale.update({
              checked: t.isLockScale()
            }), this._actions.autoSeriesScale.update({
              checked: t.isAutoScale(),
              disabled: t.properties().autoScaleDisabled.value()
            }))
          }, o.prototype.removeAllStudies = function () {
            this._model.removeAllStudies()
          }, o.prototype.removeAllDrawingTools = function () {
            this._model.removeAllDrawingTools()
          }, o.prototype.removeAllStudiesDrawingTools = function () {
            this._model.removeAllStudies(), this._model.removeAllDrawingTools()
          }, o.prototype.model = function () {
            return this._model
          }, o.prototype.defaultSymbol = function () {
            return this._defSymbol
          }, o.prototype.connect = function () {
            this._handler = function (e) {
              this._onData(e)
            }.bind(this), this._boundOnChartSessionIsConnectedChanged = this._onChartSessionIsConnectedChanged.bind(this), this._chartSession.isConnected().subscribe(this._boundOnChartSessionIsConnectedChanged), this._chartSession.criticalError().subscribe(this, this._onChartSessionCriticalError), this._chartSession.connect(this._handler)
          }, o.prototype.finishInitWithoutConnect = function () {
            this._chartSession.disable(), this._init(), this.chartWidgetInitialized.fire()
          }, o.prototype.reconnect = function () {
            this._chartSession.disconnect(), this._chartSession.connect()
          }, o.prototype.update = function () {
            if (this._model) {
              for (var e = 0; e < this._paneWidgets.length; e++) this._paneWidgets[e].update();
              this._timeAxisWidget.update()
            }
          }, o.prototype.paint = function (e) {
            e || (e = new ne(ne.FULL_UPDATE));
            for (var t = 0; t < this._paneWidgets.length; t++) this._paneWidgets[t].paint(e.invalidateForPane(t), !1);
            this._timeAxisWidget && this._timeAxisWidget.paint(e.fullInvalidation()), this._redrawPanes.fire()
          }, o.prototype._makeDefaultGui = function () {
            this._makeChartWidget(), this._makeLoadingScreen(), this.onWidget() && this._makeAvailableOnTVPopup(), this._model && (this._makeTimeAxisWidget(), this._makePaneWidgetsAndSeparators()), this._adjustSize(), this._updateScalesActions(), $(this._elMainTable).selectable(!1), this.update(), this.paint()
          }, o.prototype.widget = function () {
            return this._jqMainDiv
          }, o.prototype.restoreState = function (e, t) {
            this._adjustSize();
            var n = this._model.restoreState(this._content, t);
            this._setActions(), n && n.lines_limit_exceeded && !this.readOnly() && Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(3), i.e("linetools-limit-exceeded-dialog")]).then(function (e) {
              (0, i("uFqk").showLinetoolsLimitExceededDialog)(this)
            }.bind(this).bind(null, i)).catch(i.oe)
          }, o.prototype.redrawPanes = function (e) {
            for (var t = 0; t < this._paneWidgets.length; t++) this._paneWidgets[t].paint();
            this._redrawPanes.fire()
          }, o.prototype.setBackgroundColor = function (e) {
            this.scaleBackgroundColor = e.value();
            for (var t = 0; t < this._paneWidgets.length; t++) this._paneWidgets[t].paint(), this._paneWidgets[t].setCursorForTool();
            this.update(), this.paint()
          }, o.prototype.setScaleLineColor = function (e) {
            this.scaleLineColor = e.value(), this._paneSeparators.forEach(function (e) {
              e.update()
            }), this.update(), this.paint()
          }, o.prototype.setScaleTextColor = function (e) {
            this.scaleTextColor = e.value(), this.update(), this.paint()
          },
          o.prototype.setTimingsMeter = function (e) {
            this._timingsMeter = e, this._updateTimingsMeterState()
          }, o.prototype._updateTimingsMeterState = function () {
            var e = this._options.visible.value();
            null !== this._timingsMeter && (e ? this._timingsMeter.startCollect() : this._timingsMeter.stopCollect())
          }, o.prototype._update = function (e) {
            var t, i = e ? e.fullInvalidation() : ne.FULL_UPDATE;
            if (null !== this._timingsMeter && this._timingsMeter.startDraw(i), i === ne.FULL_UPDATE) {
              for (this._model ? this._updateGui() : this._adjustSize(), this._timeAxisWidget.update(), t = 0; t < this._paneWidgets.length; t++) this._paneWidgets[t]._state = this._model.panes()[t], null !== this._paneWidgets[t].statusWidget() && this._paneWidgets[t].statusWidget().updateLayout();
              this._dataWindowWidget && this._dataWindowWidget.fullUpdate()
            } else if (i === ne.LIGHT_UPDATE) {
              for (this._timeAxisWidget.update(), t = 0; t < this._paneWidgets.length; t++) null !== this._paneWidgets[t].statusWidget() && this._paneWidgets[t].statusWidget().update();
              this._dataWindowWidget && this._dataWindowWidget.update()
            } else if (i === ne.UPDATE_CURSOR_ONLY) {
              for (t = 0; t < this._paneWidgets.length; t++) null !== this._paneWidgets[t].statusWidget() && this._paneWidgets[t].statusWidget().update();
              this._dataWindowWidget && this._dataWindowWidget.update()
            }
            this.paint(e), null !== this._timingsMeter && this._timingsMeter.stopDraw()
          }, o.prototype._createVolumeIfNeeded = function () {
            var e = p.enabled("create_volume_indicator_by_default") && this._options.addVolume,
              t = !this._content,
              i = p.enabled("charting_library_base"),
              n = p.enabled("create_volume_indicator_by_default_once"),
              o = this._content && !this._content.loading;
            e && (t || i && o && !n) && this._model.mainSeries().dataEvents().symbolResolved().subscribe(this, function () {
              var e = this;
              setTimeout(function () {
                var t, i, n, o, r = e._model.model().mainSeries().symbolInfo();
                r && (t = !r.has_no_volume, !e.containsVolume() && t ? (i = be.factoryDefaults("chartproperties.volumePaneSize"), (n = e._model.model().createStudyInserter("Volume@tv-basicstudies")).setForceOverlay(p.enabled("volume_force_overlay")), n.setPaneSize(i), p.enabled("hide_volume_ma") && n.setPropertiesState({
                  styles: {
                    vol_ma: {
                      visible: !1
                    }
                  }
                }), n.insert()) : !t && e.containsVolume() && (o = e.model().dataSources().filter(function (e) {
                  return e instanceof N && "Volume" === e.metaInfo().shortId
                })[0], e._model.model().removeSource(o)))
              }, 0)
            }, n)
          }, o.prototype._createSessions = function (e) {
            var t = this.showGeneralChartProperties.bind(this, y.timezoneSessions);
            e.createSessions(t)
          }, o.prototype._createChartEventsSource = function () {
            var e, t, i, n;
            p.enabled("chart_events") && (e = this._model.mainSeries(), t = new w(e), n = (i = this._model.paneForSource(e)).createPriceScaleAtPosition("overlay"), i.insertDataSource(t, n))
          }, o.prototype._makeDefaultModel = function () {
            function e() {
              var e, i = {
                readOnly: c.readOnly(),
                isSnapshot: !!c._containsData,
                timeScale: c._options.timeScale,
                crossHairOptions: c._options.crossHairOptions
              };
              return void 0 !== c._options.watermarkEnabled && (i.watermarkEnabled = c._options.watermarkEnabled), e = l(c._chartSession, function (e) {
                if (!(e instanceof ne)) throw new Error("Invalid mask");
                c._invalidateMask ? c._invalidateMask.merge(e) : c._invalidateMask = e,
                  c._draw_planned || (c._draw_planned = !0, c._options.visible.when(function () {
                    var e = !document.hidden,
                      i = c.screen && c.screen.isShown();
                    null !== c._timingsMeter && e && !i && c._timingsMeter.startWaitingDraw(), c._drawRafId = c._jqParent.prop("ownerDocument").defaultView.requestAnimationFrame(t)
                  }))
              }, c._properties, n, c._metaInfoRepository, c, c._options.undoHistory, c._options.barsMarksContainersFactory, i), c._createSessions(e.chartModel()), e
            }

            function t() {
              c._draw_planned = !1, c._drawRafId = 0, c._inLoadingState || c._invalidateMask && (c._invalidateMask = c._update(c._invalidateMask))
            }
            var i, n, r, s, a, c = this;
            if (this._content && this._content.timeScale.points && (i = this._content.timeScale.points.items[0], n = {
                startDate: i
              }), !this._metaInfoRepository.getInternalMetaInfoArray()) throw new Error("Cannot create chart model: studies metainfo is absent");
            if (p.enabled("lean_chart_load") ? this._model = this._model || e() : this._model = e(), this._createVolumeIfNeeded(), r = function () {
                var e, t;
                this._model.onTagsChanged().subscribe(this, o.prototype.onModelTagsChanged), this._updateGui(), this._modelCreated.fire(this._model), this._tagsChanged.fire(), e = this._model.mainSeries(), this._defTimeframe && e.setDefaultTimeframe(this._defTimeframe), this._model.lineCancelled().subscribe(this, this.onLineCancelled), e.dataEvents().symbolNotPermitted().subscribe(null, function (t) {
                  e.properties().symbol.setValue(t)
                }), e.dataEvents().symbolResolved().subscribe(this, function (t) {
                  var i = t.pro_name;
                  i && this._options.isSymbolAvailable(i).then(function (t) {
                    t || e.properties().symbol.setValue(DEFAULT_SYMBOL)
                  })
                }), void 0 !== this._options.requestFallbackSymbol && e.dataEvents().symbolGroupNotPermitted().subscribe(this, function (t) {
                  this._options.requestFallbackSymbol(e.properties().symbol.value(), {
                    type: "group_not_permitted",
                    symbolGroup: t
                  }).then(function (t) {
                    t && e.properties().symbol.setValue(t)
                  })
                }), e.onInReplayStateChanged().subscribe(this.screen, this.screen.show), e.properties().style.unsubscribe(this, this._onChartStyleChanged), e.properties().style.subscribe(this, this._onChartStyleChanged), e.dataEvents().completed().subscribe(this, function () {
                  this._addPerfMark("SeriesCompleted")
                }, !0), e.dataEvents().barReceived().subscribe(this, function () {
                  this._addPerfMark("SeriesFirstDataReceived")
                }, !0), (t = this._options).handleSessionErrors && (e.dataEvents().chartTypeNotPermitted().subscribe(null, function () {
                    e.properties().interval.setValue("D"), O.isOpened().then(function (e) {
                      t.muteSessionErrors || e || (I("kagiRenko"), O.createGoProDialog({
                        feature: "kagiRenko"
                      }).then(function (e) {
                        e.open()
                      }))
                    })
                  }), e.dataEvents().intradaySpreadNotPermitted().subscribe(null, function () {
                    e.properties().interval.setValue("D"), O.isOpened().then(function (e) {
                      t.muteSessionErrors || e || O.createGoProDialog({
                        feature: "intradaySpread"
                      }).then(function (e) {
                        e.open()
                      })
                    })
                  }), e.dataEvents().customIntervalNotPermitted().subscribe(null, function () {
                    e.properties().interval.setValue(Q(ee(e.properties().style.value()))), O.isOpened().then(function (e) {
                      t.muteSessionErrors || e || O.createGoProDialog({
                        feature: "customIntervals"
                      }).then(function (e) {
                        e.open()
                      })
                    })
                  }),
                  e.dataEvents().intradayExchangeNotPermitted().subscribe(null, function () {
                    e.properties().interval.setValue("D"), O.isOpened().then(function (i) {
                      if (!t.muteSessionErrors && !i) {
                        var n = e.symbolInfo().listed_exchange;
                        P.prototype.supportedExchangesList().forEach(function (e) {
                          e.value === n && (n = e.name)
                        }), O.createGoProDialog({
                          feature: "intradayExchange"
                        }).then(function (e) {
                          e.open()
                        })
                      }
                    })
                  }), c._options.muteSessionErrors || e.dataEvents().extendedHoursNotPermitted().subscribe(null, function () {
                    O.isOpened().then(function (e) {
                      t.muteSessionErrors || e || (I("extendedHours"), O.createGoProDialog({
                        feature: "extendedHours"
                      }).then(function (e) {
                        e.open()
                      }))
                    })
                  })), this._options.handleSessionErrors && (e.requestingIntradayWhenNotSupported.subscribe(null, function () {
                  var t, i, n;
                  e.properties().interval.setValue("D"), c._options.muteSessionErrors || (t = window.t("Interval is not applicable"), i = $("<div></div>"), n = window.t("{p_start}Only {b_start}D, W, M{b_end} intervals are supported for this symbol/exchange. You will be automatically switched to a D interval. Intraday intervals are not available because of exchange policies.{p_end}").format({
                    p_start: "<p>",
                    p_end: "</p>",
                    b_start: "<b>",
                    b_end: "</b>"
                  }), i.append(n), M({
                    title: t,
                    content: i
                  }))
                }), e.requestingResolutionWhenNotSupported.subscribe(null, function (t) {
                  e.properties().interval.setValue(t)
                }))
              }.bind(this), this._content) {
              if (this.restoreState(this._content, this._containsData), p.enabled("chart_content_overrides_by_defaults")) return this._defSymbol && (s = this.setSymbol(this._defSymbol), this.model().model().setPriceAutoScaleForAllMainSources()), a = function () {
                return this._defInterval && this.setResolution(this._defInterval), void 0 !== this._defStyle && this.setSeriesStyle(this._model.mainSeries(), this._defStyle), r()
              }.bind(this), void 0 === s ? a() : s.then(a)
            } else this._setActions();
            return r()
          }, o.prototype._onChartStyleChanged = function () {
            _e("Chart", "Chart Style " + this._model.mainSeries().getStyleShortName().toUpperCase())
          }, o.prototype._updateGui = function () {
            this._model && (this._makeTimeAxisWidget(), this._makePaneWidgetsAndSeparators(), $(this._elMainTable).selectable(!1), this._adjustSize())
          }, o.prototype._makeChartWidget = function () {}, o.prototype._makeLoadingScreen = function () {
            if (p.enabled("lean_chart_load")) {
              if (this.screen) return;
              this.screen = new o.LoadingScreen(this, this._jqParent)
            } else this.screen = new o.LoadingScreen(this, this._jqMainDiv)
          }, o.prototype._makeAvailableOnTVPopup = function () {
            this.available_screen || (this.available_screen = new k(this))
          }, o.prototype._setSymbol = function (e, t) {
            if (this._model) {
              var i = this._model.mainSeries();
              if (!t && i.symbolSameAsCurrent(e) && !p.enabled("same_data_requery")) return;
              this._model.selectionMacro(function (e) {
                e.clearSelection()
              }), this._model.setScreenChartProperty(i.properties().symbol, e, this, "Change Symbol", p.enabled("same_data_requery"))
            } else this._properties.mainSeriesProperties.merge({
              symbol: e
            })
          }, o.prototype.setSymbol = function (e, t) {
            return this._setSymbol.apply(this, arguments)
          }, o.prototype.loadRange = function (e) {
            this._model && (this.screen.show(), this._model.loadRange(e))
          }, o.prototype.getSymbol = function (e) {
            var t;
            return (t = this._model ? this._model.mainSeries().properties() : this._properties.mainSeriesProperties) ? e && t.shortName && t.shortName.value() ? t.shortName.value() : t.symbol.value() : ""
          }, o.LoadingScreen = function (e, t) {
            this._cw = e, this.$element = $('<div class="chart-loading-screen">'), this.$shield = $('<div class="chart-loading-screen-shield">').appendTo(this.$element), this.$element.appendTo(t), this._showed = !1, this._cw.withModel(this, this._connectToModel)
          }, o.LoadingScreen.prototype._connectToModel = function () {
            this._cw.model().mainSeries().dataEvents().messageReceived().subscribe(this, function (e) {
              switch (e.method) {
                case "symbol_error":
                  e.params[1] !== d.PERMISSION_DENIED && this.hide();
                  break;
                case "series_error":
                  p.enabled("hide_loading_screen_on_series_error") && this.hide();
                  break;
                case "series_completed":
                  this.hide()
              }
            })
          }, o.LoadingScreen.prototype.show = function () {
            this._cw._inLoadingState = !0, this._showed || (this._showed = !0, this._show())
          }, o.LoadingScreen.prototype._show = function () {
            var e = this._cw.properties().paneProperties.background.value();
            this.$shield.css("background", e), this.$element.addClass("fade")
          }, o.LoadingScreen.prototype.hide = function () {
            delete this._cw._inLoadingState, this._showed && this._hide()
          }, o.LoadingScreen.prototype._hide = function () {
            this._showed = !1, this.$element.removeClass("fade")
          }, o.LoadingScreen.prototype.$canvas = null, o.LoadingScreen.prototype.context = null, o.LoadingScreen.prototype.isShown = function () {
            return this._showed
          }, o.prototype.unsetActivePaneWidget = function () {
            this.activePaneWidget = !1
          }, o.prototype.setActivePaneWidget = function (e) {
            this.activePaneWidget = e
          }, o.prototype.maximizedPaneWidget = function () {
            return this._maximizedPaneWidget
          }, o.prototype.isMaximizedPane = function () {
            return null !== this._maximizedPaneWidget
          }, o.prototype.toggleMaximizePane = function (e) {
            if (!(this._paneWidgets.length < 2)) {
              this._maximizedPaneWidget ? (this._maximizedPaneWidget.state().setMaximized(!1), this._maximizedPaneWidget = null, this._paneSeparators.forEach(function (e) {
                e.show()
              })) : (this._maximizedPaneWidget = e, this._maximizedPaneWidget.state().setMaximized(!0), this._paneSeparators.forEach(function (e) {
                e.hide()
              }));
              for (var t = this._paneWidgets.length; t--;) this._paneWidgets[t].updateControls(), this._paneWidgets[t].updatePriceAxisWidgets();
              this._timeAxisWidget.updatePriceAxisStubs(), this._adjustSize(), this.updateIndicatorImagePosition(), this.updateCrossHairPositionIfNeeded()
            }
          }, o.prototype._makePaneWidgetsAndSeparators = function () {
            var e, t, i, n, o = this._model.panes(),
              r = o.length,
              l = this._paneWidgets.length;
            for (e = r; e < l; e++)(t = this._paneWidgets.pop()).destroy(), (i = this._paneSeparators.pop()) && i.destroy();
            for (e = l; e < r; e++)(t = new s(this, o[e], {
              contextMenuEnabled: this._options.paneContextMenuEnabled,
              verticalTouchScroll: this._options.verticalTouchScroll,
              priceScaleContextMenuEnabled: this._options.priceScaleContextMenuEnabled,
              tradeContextMenuEnabled: this._options.tradeContextMenuEnabled,
              symbolMarkerEnabled: this._options.symbolMarkerEnabled,
              legendWidgetEnabled: this._options.legendWidgetEnabled,
              legendWidget: this._options.legendWidget,
              propertyPagesEnabled: this._options.propertyPagesEnabled,
              sourceSelectionEnabled: this._options.sourceSelectionEnabled,
              controlsEnabled: this._options.paneControlsEnabled
            })).onMouseLeave = this.unsetActivePaneWidget.bind(this), t.onMouseEnter = this.setActivePaneWidget.bind(this), this._paneWidgets.push(t), e > 0 && (i = new a(this, e - 1, e), this._paneSeparators.push(i), this._timeAxisWidget ? i.jqRow.insertBefore(this._timeAxisWidget.getElement()) : i.jqRow.appendTo(this._elMainTable)), this._timeAxisWidget ? t.jqRow.insertBefore(this._timeAxisWidget.getElement()) : t.jqRow.appendTo(this._elMainTable);
            for (null !== this._timeAxisSeparator && this._timeAxisSeparator.destroy(), this._timeAxisSeparator = new a(this, this._paneWidgets.length - 1, 0, !0), this._timeAxisSeparator.jqRow.insertBefore(this._timeAxisWidget.getElement()), e = 0; e < r; e++) n = o[e], (t = this._paneWidgets[e]).state() !== n ? t.setState(n) : t.updatePriceAxisWidgets();
            for (e = r; e--;) this._paneWidgets[e].updateControls();
            this._updateThemedColor()
          }, o.prototype._titlesProvider = function (e, t) {
            var i, n = this.model(),
              o = this._maximizedPaneWidget ? this._maximizedPaneWidget.state() : n.paneForSource(n.mainSeries()),
              s = "right" === e ? o.rightPriceScales() : o.leftPriceScales();
            return s.length < t + 1 ? [] : ((i = s[t].orderedSources().filter(function (e) {
              return e === n.mainSeries() || e instanceof N
            })).reverse(), (i = r(i, n.mainSeries())).map(function (e) {
              return e.title(!0, void 0, !1)
            }))
          }, o.prototype._menuItemsProvider = function (e, t) {
            var i, n, o, r = this.model(),
              s = this._maximizedPaneWidget ? this._maximizedPaneWidget.state() : r.paneForSource(r.mainSeries()),
              a = "right" === e ? s.visibleRightPriceScales() : s.visibleLeftPriceScales();
            return a.length < t + 1 ? [] : (i = a[t], n = r.panes().indexOf(s), o = this._paneWidgets[n], ("right" === e ? o.rightPriceAxisesContainer() : o.leftPriceAxisesContainer()).findAxisWidgetForScale(i).getContextMenuActions())
          }, o.prototype._makeTimeAxisWidget = function () {
            if (this._timeAxisWidget) this._timeAxisWidget.updatePriceAxisStubs();
            else {
              var e = this.model();
              this._timeAxisWidget = new u(this, this._options.timeScaleWidget, this._titlesProvider.bind(this), this._menuItemsProvider.bind(this), this._backgroundBasedTheme), this._elMainTable.appendChild(this._timeAxisWidget.getElement()), this._timeAxisWidget.updatePriceAxisStubs(), this._timeAxisWidget.onLabelHovered().subscribe(this, function (t, i) {
                var n = this._maximizedPaneWidget ? this._maximizedPaneWidget.state() : e.paneForSource(e.mainSeries()),
                  o = this.paneByState(n);
                o.highlightedPriceAxis().setValue(i ? t : null), this.model().model().lightUpdate()
              })
            }
          }, o.prototype.insertStudy = function (e, t, i) {
            var n = this;
            return new Promise(function (o) {
              t ? window.runOrSignIn(function () {
                o(n._insertStudy(e, t, i))
              }, {
                source: "study on study"
              }) : o(n._insertStudy(e, t, i))
            })
          }, o.prototype._insertStudy = function (e, t, n) {
            var o, r, s = this._model.createStudyInserter(e, t, n);
            return null === s ? Promise.resolve(null) : (s.setForceOverlay("Volume@tv-basicstudies" === e), o = this, (r = s.insert(function (e, t, n) {
              return new Promise(function (e, r) {
                var s;
                o.isSymbolicStudy(n) ? (_e("GUI", "Confirmation dialogs", "Symbol confirmation dialog"), s = be.defaults("study_" + n.id).description,
                  Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(3), i.e("confirm-symbol-input-dialog")]).then(function (t) {
                    (0, i("kzGG").showConfirmSymbolInputDialog)(function (t) {
                      var i = {};
                      i[n.symbolInputId()] = t, e(i)
                    }, s, r)
                  }.bind(null, i)).catch(i.oe)) : o.hasConfirmInputs(t) ? (_e("GUI", "Confirmation dialogs", "Inputs confirmation dialog"), s = be.defaults("study_" + n.id).description, Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(16), i.e(46), i.e(63), i.e(81), i.e(118), i.e(3), i.e(39), i.e(56), i.e(74), i.e(145), i.e("confirm-inputs-dialog")]).then(function () {
                  i("wv8n").show(o, n, {
                    title: s,
                    callback: e
                  })
                }.bind(null, i)).catch(i.oe)) : e({})
              })
            })).catch(function (e) {
              e === R.StudyCannotBeChild && M({
                type: "modal",
                title: window.t("Oops!"),
                content: window.t("This indicator cannot be applied to another indicator")
              })
            }), r)
          }, o.prototype.hasConfirmInputs = function (e) {
            var t, i;
            if (void 0 === e) return !1;
            for (t = 0; t < e.length; ++t)
              if (void 0 !== (i = e[t]).confirm && i.confirm) return !0;
            return !1
          }, o.prototype.isSymbolicStudy = function (e) {
            switch (e.id) {
              case "Overlay@tv-basicstudies":
              case "CorrelationCoefficient@tv-basicstudies":
              case "Correlation Coeff@tv-basicstudies":
                return !0;
              default:
                return !1
            }
          }, o.prototype.getPriceAxisMaxWidthByName = function (e) {
            return "left" === e ? this.maxLhsPriceAxisWidth : this.maxRhsPriceAxisWidth
          }, o.prototype.getPriceAxisWidthChangedByName = function (e) {
            return "left" === e ? this.lhsPriceAxisWidthChanged : this.rhsPriceAxisWidthChanged
          }, o.prototype._adjustSize = function () {
            function e(e, t) {
              return e + t
            }

            function t(e, t) {
              t.forEach(function (t, i) {
                e[i] = Math.max(e[i], t)
              })
            }
            var i, n, o, r, s, l, u, h, d, p, f, _, m, g = 0,
              y = null === this._model ? null : this._model.model().priceScaleSlotsCount(),
              v = new Uint32Array(null === y ? 0 : y.left),
              S = new Uint32Array(null === y ? 0 : y.right);
            this._paneWidgets.forEach(function (e) {
              var i, n;
              this._maximizedPaneWidget && this._maximizedPaneWidget !== e || (i = e.leftPriceAxisesContainer().optimalWidths(), n = e.rightPriceAxisesContainer().optimalWidths(), t(v, i), t(S, n), g += e.stretchFactor())
            }, this), i = v.reduce(e, 0), n = S.reduce(e, 0), o = this._width(), r = this._height(), s = Math.max(o - i - n, 0), l = this._paneSeparators.length, u = a.HEIGHT, h = this.isMaximizedPane() ? 0 : u * l, d = null !== this._timeAxisWidget ? this._timeAxisWidget.optimalHeight() : 0, _ = (f = r < (p = h + d) ? 0 : r - p) / g, m = 0, this._paneWidgets.forEach(function (e, t) {
              var i, n;
              this._model && (e._state = this._model.panes()[t]), i = 0, this.isMaximizedPane() ? i = this._maximizedPaneWidget === e ? f : 0 : (n = 0, n = t === this._paneWidgets.length - 1 ? f - m : Math.round(e.stretchFactor() * _), i = Math.max(n, 2), m += i), e.setPriceAxisSizes(c.LHS, i, v), e.setPriceAxisSizes(c.RHS, i, S), e.setSize(new ye(s, i)), this._model && e.state() && this._model.setPaneHeight(e.state(), i)
            }, this), null !== this._timeAxisWidget && this._timeAxisWidget.setSizes(new ye(s, d), v, S), this._model && this._model.setWidth(s), this._controlBarNavigation && this._controlBarNavigation.updatePosition(), this.maxLhsPriceAxisWidth !== i && (this.maxLhsPriceAxisWidth = i, this.lhsPriceAxisWidthChanged.fire(i)), this.maxRhsPriceAxisWidth !== n && (this.maxRhsPriceAxisWidth = n, this.rhsPriceAxisWidthChanged.fire(n))
          },
          o.prototype._onChartSessionIsConnectedChanged = function (e) {
            e ? this._onConnection() : this._onDisconnect()
          }, o.prototype._onChartSessionCriticalError = function (e, t) {
            this._disconnected.fire(!0)
          }, o.prototype._onData = function (e) {
            switch (e.method) {
              case "reconnect_bailout":
                this._reconnectBailout.fire();
                break;
              default:
                this._model.onData(e)
            }
          }, o.prototype._onConnection = function () {
            this._online = !0, this.requestMetadata(), this._model && (this._model.restart(), this._updateGui(), this.update(), this.paint(), this._connected.fire())
          }, o.prototype._onDisconnect = function () {
            this._model && this._model.disconnect(), this._online = !1, this.update(), this.paint(), this._disconnected.fire()
          }, o.prototype._applyStudiesOverrides = function () {
            pe.overrideDefaults(this._metaInfoRepository.getInternalMetaInfoArray())
          }, o.prototype.requestMetadata = function () {
            this._addPerfMark("RequestMetadataStart"), we.logInfo("RequestMetadataStart"), this._metaInfoRepository.requestMetaInfo().then(function () {
              this._addPerfMark("RequestMetadataEnd"), we.logInfo("RequestMetadataEnd, already initialized: " + Boolean(this._inited)), this._inited ? this.model().model().setStudiesMetaData(this._metaInfoRepository.getInternalMetaInfoArray(), this._metaInfoRepository.getMigrations()) : (this._init(), this.chartWidgetInitialized.fire(), p.enabled("charting_library_base") || we.logDebug("initialized"))
            }.bind(this))
          }, o.prototype.studiesMetaData = function () {
            return this._model.studiesMetaData()
          }, o.prototype.getTimeScale = function () {
            return this._timeAxisWidget
          }, o.prototype.chartWidgetCollection = function () {
            return this._chartWidgetCollection
          }, o.prototype.setSeriesStyle = function (e, t) {
            this._model.setProperty(e.properties().style, t)
          }, o.prototype.showObjectsTreeDialog = function (e) {
            var t = this;
            Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(21), i.e(61), i.e(86), i.e(218), i.e(3), i.e(18), i.e(30), i.e("objecttreedialog")]).then(function (n) {
              new(0, i("SDvV").ObjectTreeDialog)({
                chartWidget: t,
                activeTab: e
              }, t._model).show()
            }.bind(null, i)).catch(i.oe)
          }, o.prototype._showChartProperties = function (e, t, i, n) {
            t && g("properties_dialog.active_tab.chart", t);
            var o = this;
            return new Promise(function (t) {
              m(e, o._model, i, n).then(function (e) {
                t(e.isVisible() ? e : null)
              })
            })
          }, o.prototype.showGeneralChartProperties = function (e) {
            if (!p.enabled("show_chart_property_page")) return Promise.resolve(null);
            var t = this;
            return this._showChartProperties(this._model.mainSeries(), e, {
              doNotCloseOnBgClick: !0,
              onResetToDefault: function () {
                t._model.restorePreferences(t._model), t.applyTheme(t)
              }
            }).then(function (e) {
              if (null === e) return null;
              var i = function () {
                e.hide(), t._chartWidgetCollection.activeChartWidget.unsubscribe(i)
              };
              return t._chartWidgetCollection.activeChartWidget.subscribe(i), e
            })
          }, o.prototype.showChartPropertiesForSource = function (e, t, i, n) {
            return p.enabled("property_pages") ? e === this._model.model().mainSeries() ? this.showGeneralChartProperties(t) : ((i = i || {}).onResetToDefault = this._model.restorePropertiesForSource.bind(this._model, e), this._showChartProperties(e, t, i, n)) : Promise.resolve(null)
          }, o.prototype.generalPropertiesDefinitions = function () {
            return this._getChartPropertyDefinitionsViewModel().then(function (e) {
              return e.propertyPages()
            })
          }, o.prototype.showCompareOrAdd = function () {
            this._chartWidgetCollection.showAddCompareDialog()
          }, o.prototype.showIndicators = function (e) {
            if (window.studyMarket) return window.studyMarket.isVisible() ? void window.studyMarket.hide() : (window.studyMarket.show(e), window.studyMarket)
          }, o.prototype.removeSelectedSources = function () {
            var e = this,
              t = e._model.selection().sources().filter(function (t) {
                return !(t === e._model.mainSeries() || t === e._model.lineBeingCreated() || t instanceof h || t instanceof C)
              });
            0 !== t.length && (t.find(function (e) {
              return e.hasAlert.value() && e.isUserDeletable()
            }) ? B().then(function () {
              e._model.removeSelectedSources()
            }) : t instanceof N && t.hasChildren() ? A(e._model.removeSelectedSources.bind(e._model)) : e._model.removeSelectedSources())
          }, o.prototype.unlinkSelectedLine = function () {
            var e = this._model,
              t = e.selection().sources().filter(function (e) {
                return H(e)
              });
            e.unlinkLines(t)
          }, o.prototype.copyLineToOtherCharts = function () {
            var e = this._model,
              t = e.selection().sources().filter(function (e) {
                return H(e)
              });
            e.copyToOtherCharts(t)
          }, o.prototype.hideSelectedObject = function () {
            var e, t, i = this._model.selection().sources();
            i.length && (e = i.map(function (e) {
              return e.properties().visible
            }), t = i.map(function (e) {
              return !1
            }), this._model.setProperties(e, t, "Hide " + i[0].title()))
          }, o.prototype.toggleLockSelectedObject = function () {
            var e = this._model;
            e.selection().sources().forEach(function (t) {
              var i = t.properties().frozen.value();
              e.setProperty(t.properties().frozen, !i, (i ? window.t("Unlock") : window.t("Lock")) + " " + t.title())
            })
          }, o.prototype.showSelectedSourceProperties = function () {
            var e, t = this._model.selection().sources()[0];
            t && (e = null, t === this._model.mainSeries() && (e = y.style), this.showChartPropertiesForSource(t, e))
          }, o.prototype.openSelectedObjectSource = function (e) {
            var t, n = this._model.selection().sources()[0];
            n && n.metaInfo && (t = n.metaInfo()) && t.scriptIdPart && t.pine && TradingView.bottomWidgetBar && i("nmnj").getPineSourceCode(t.scriptIdPart, t.pine.version).done(function (e) {
              var i = E.parse(e.version),
                n = e.lastVersionMaj ? E.parse(e.lastVersionMaj) : new E(0, 0),
                o = {
                  scriptSource: e.source,
                  scriptIdPart: t.scriptIdPart,
                  scriptName: e.scriptName,
                  scriptTitle: e.scriptTitle,
                  version: e.version,
                  isOld: !n.isZero() && n.major() !== i.major()
                };
              TradingView.bottomWidgetBar.activateScriptEditorTab(o)
            })
          }, o.prototype.setTimeAxisVisible = function (e) {
            this._timeAxisWidget.setVisible(e), this._adjustSize()
          }, o.prototype.isTextTool = function (e) {
            switch (e) {
              case "LineToolBalloon":
              case "LineToolText":
              case "LineToolTextAbsolute":
              case "LineToolCallout":
              case "LineToolNote":
              case "LineToolNoteAbsolute":
                return !0
            }
            return !1
          }, o.prototype.tags = function () {
            return this._model ? this._model.calculateDefaultTags() : []
          }, o.prototype.state = function (e, t) {
            return this._model.state(e, t)
          }, o.prototype.asyncState = function (e) {
            return this._model.asyncState(e)
          }, o.prototype.metaInfo = function () {
            var e = this._metaInfo;
            return this._model && (e.systemTags = this._model.calculateDefaultTags()), e
          }, o.prototype.image = function () {
            function e(e, t, i) {
              0 !== e.getWidth() && d.drawImage(e.getImage(), t, i)
            }
            var t, i, n, o, r, s, a, l, c, u, h = document.createElement("canvas"),
              d = h.getContext("2d"),
              p = 0,
              f = this._timeAxisWidget.size.h,
              _ = this.properties().scalesProperties.lineColor.value();
            for (i = 0; i < this._paneWidgets.length; i++)(t = this._paneWidgets[i]) && t.state() && (t.state().recalculate(!0), 0 === i && (p = t.leftPriceAxisesContainer().getWidth() + t.size.w + t.rightPriceAxisesContainer().getWidth()), f += t.size.h);
            for (f += this._paneWidgets.length - 1, this._update(), n = 25, o = 5, h.width = p + 2 * o, h.height = f + n + 2 * o, d.fillStyle = "#F2F5F8", d.fillRect(0, 0, h.width, h.height), r = n + o, s = o, (a = this.mainSeriesQuotesAndMetainfo()).ohlc && (l = "{0} O:{1} H:{2} L:{3} C:{4}".format(a.meta.symbol, a.ohlc[0], a.ohlc[1], a.ohlc[2], a.ohlc[3]), d.fillStyle = "#000", d.font = "12px " + Ie, d.fillText(l, s, o + 15)), i = 0; i < this._paneWidgets.length; i++) e((t = this._paneWidgets[i]).leftPriceAxisesContainer(), s, r), c = t.leftPriceAxisesContainer().getWidth(), d.drawImage(t.canvas, s + c, r), null !== (u = t.statusWidget()) && u.renderTo(d, s + 5, r + 5), e(t.rightPriceAxisesContainer(), s + c + t.size.w, r), r += t.size.h, i < this._paneWidgets.length - 1 && (d.fillStyle = _, d.fillRect(s, r, p, 1), r++);
            return d.drawImage(this._timeAxisWidget.lhsCanvas, s, r), d.drawImage(this._timeAxisWidget.canvas, s + t.leftPriceAxisesContainer().getWidth(), r), d.drawImage(this._timeAxisWidget.rhsCanvas, s + t.leftPriceAxisesContainer().getWidth() + t.size.w, r), d.lineWidth = 1, d.strokeStyle = "#000", d.strokeRect(o + .5, n + o + .5, p - 1, f - 1), h
          }, o.prototype.images = function () {
            function e(e) {
              var i, n, o, r, s, a;
              for (e.paint(ne.LIGHT_UPDATE, t._onWidget), (i = e.getScreenshotData()).containsMainSeries = e.containsMainSeries(), i.studies = [], n = e.state().dataSources(), o = 0; o < n.length; o++) r = n[o], s = t.properties().paneProperties.legendProperties, a = r.statusView(), r instanceof N ? r.properties().visible.value() && a && s.showStudyTitles.value() && s.showLegend.value() && i.studies.push(r.statusView().text()) : r instanceof d && a && s.showLegend.value() && s.showSeriesTitle.value() && (i.mainSeriesText = r.statusView().text());
              return i
            }
            var t, i, n, o, r, s, a;
            if (TradingView.printing = !0, t = this, i = this._model.selection().sources(), this._model.selectionMacro(function () {
                t._model.clearSelection()
              }), n = [], this.isMaximizedPane()) n.push(e(this._maximizedPaneWidget));
            else
              for (o = 0; o < this._paneWidgets.length; o++) r = this._paneWidgets[o], n.push(e(r)), o < this._paneWidgets.length - 1 && n.push(this._paneSeparators[o].image());
            return s = null, this._timeAxisWidget && (n.push(this._timeAxisSeparator.image()), this._timeAxisWidget.paint(ne.LIGHT_UPDATE), s = this._timeAxisWidget.getScreenshotData()), TradingView.printing = !1, this._model.selectionMacro(function (e) {
              i.forEach(function (t) {
                e.addSourceToSelection(t)
              })
            }), this._model.invalidate(new ne(ne.LIGHT_UPDATE)), a = this.mainSeriesQuotesAndMetainfo(), {
              panes: n,
              timeAxis: s,
              colors: {
                text: this.properties().scalesProperties.textColor.value(),
                bg: this.properties().paneProperties.background.value(),
                scales: this.properties().scalesProperties.lineColor.value()
              },
              meta: a.meta,
              ohlc: a.ohlc,
              quotes: a.quotes
            }
          }, o.prototype.mainSeriesQuotesAndMetainfo = function () {
            var e, t, i, n, o, r, s, a = this._model && this._model.mainSeries();
            return a && (n = function (e) {
              return null == e ? "" : a.formatter().format(e, void 0, void 0, !0, !1) + ""
            }, o = function (e) {
              return null == e ? "" : e + ""
            }, e = {
              resolution: a.interval(),
              symbol: a.symbol()
            }, (r = a.symbolInfo()) && (e.symbol = r.full_name, e.description = r.description, e.exchange = r.exchange), null !== (s = a.bars().last()) && (t = s.value.slice(1, 5).map(n)), a.quotes() && (i = {
              change: n(a.quotes().change),
              changePercent: o(a.quotes().change_percent),
              last: n(a.quotes().last_price)
            })), {
              meta: e,
              ohlc: t,
              quotes: i
            }
          }, o.prototype.onTagsChanged = function () {
            return this._tagsChanged
          }, o.prototype.onModelTagsChanged = function () {
            this._tagsChanged.fire()
          }, o.prototype.onAboutToBeDestroyed = function () {
            return this._aboutToBeDestroyed
          }, o.prototype.destroy = function () {
            var e, t, i;
            for (this._aboutToBeDestroyed.fire(), null !== this._removeMaximizeHotkey && (this._removeMaximizeHotkey(), this._removeMaximizeHotkey = null), 0 !== this._drawRafId && this._jqParent.prop("ownerDocument").defaultView.cancelAnimationFrame(this._drawRafId), this._model.model().destroy(), null !== this._timingsMeter && (this._timingsMeter.stopCollect(), this._timingsMeter = null), this._chartSession.criticalError().unsubscribe(this, this._onChartSessionCriticalError), this._chartSession.isConnected().unsubscribe(this._boundOnChartSessionIsConnectedChanged), this._chartSession.destroy(), e = 0; e < this._paneWidgets.length; e++) this._paneWidgets[e].destroy();
            for (this._paneWidgets.length = 0, e = 0; e < this._paneSeparators.length; e++) this._paneSeparators[e].destroy();
            for (t in this._paneSeparators.length = 0, this._controlBarNavigation && (this._controlBarNavigation.destroy(), this._controlBarNavigation = void 0), $(window).off("visibilitychange:chart_" + this._guid), $(window).off("keydown:chart_" + this._guid), this._jqMainDiv && this._jqMainDiv.remove(), this._actions)(i = this._actions[t]) instanceof z && (i.destroy(), i.binder && i.binder.destroy());
            null !== this._timeAxisWidget && (this._timeAxisWidget.destroy(), this._timeAxisWidget = null), null !== this._definitionsViewModel && this._definitionsViewModel.destroy(), this._isDestroyed = !0
          }, o.prototype.title = function () {
            return window.t("Chart Properties")
          }, o.prototype.symbolProperty = function () {
            return this._model.mainSeries().properties().shortName ? this._model.mainSeries().properties().shortName : this._model.mainSeries().properties().symbol
          }, o.prototype.loadContent = function (e, t) {
            var i, n, o, r, s, a;
            for (this.screen.show(), i = this, this.isMaximizedPane() && this.toggleMaximizePane(), n = i._model.model().dataSources(), o = 0; o < n.length; o++)(r = n[o]) !== i._model.mainSeries() && i._model.model().removeSource(r, !0);
            for (this._model.disconnect(), i.activePaneWidget = !1, i._model.mainSeries().purgeSymbolInfo(), e.loading = !0, this._content = e, o = 0; o < e.panes.length; ++o)
              for (a = 0; a < e.panes[o].sources.length; ++a)
                if (e.panes[o].sources[a].state.symbol) {
                  s = e.panes[o].sources[a].state;
                  break
                } if (!s) throw Error("An error occured while determining main series ion the chart");
            i._properties.mainSeriesProperties.merge({
                visible: !0,
                symbol: s.symbol,
                timeframe: "",
                onWidget: i._onWidget,
                interval: s.interval || "D",
                style: s.style
              }), i._init(),
              oe.interval.setValue(s.interval), i._model.undoHistory.clearStack()
          }, o.prototype._contentSeriesProperties = function () {
            var e, t, i;
            if (this._content)
              for (e = this._content.panes.length; e-- > 0;)
                for (i = (t = this._content.panes[e].sources).length; i-- > 0;)
                  if ("MainSeries" === t[i].type) return t[i].state
          }, o.prototype.updateUndoRedo = function () {
            this._model && (this.actions().undo.update({
              disabled: this._model.undoHistory.undoStack().isEmpty()
            }), this.actions().redo.update({
              disabled: this._model.undoHistory.redoStack().isEmpty()
            }))
          }, o.prototype.createSessionBreaksActions = function (e) {
            var t = new z({
              label: window.t("Session Breaks"),
              checkable: !0,
              statName: "ToggleSessionBreaks"
            });
            t.binder = new _(t, this._model.chartModel().sessions().properties().graphics.vertlines.sessBreaks.visible, this.model(), "Session Breaks"), this._actions.sessionBreaks = t
          }, o.prototype.updateActionForIntradayOnly = function (e) {
            !e || !e instanceof z || e.update({
              disabled: this.model().mainSeries().isDWM()
            })
          }, o.prototype.withModel = function (e, t) {
            this.model() ? t.call(e) : this.modelCreated().subscribe(e, t, !0)
          }, o.prototype.containsVolume = function () {
            return this.model().dataSources().some(function (e) {
              return e instanceof N && "Volume" === e.metaInfo().shortId
            })
          }, o.prototype.containsStudyByPredicate = function (e) {
            return !!this._model && this._model.dataSources().some(function (t) {
              if (!(t instanceof N)) return !1;
              var i = t.metaInfo();
              return e(i)
            })
          }, o.prototype.containsStudy = function (e) {
            return this.containsStudyByPredicate(function (t) {
              return t.id === e || t.fullId === e
            })
          }, o.prototype.isSmall = function () {
            return this._width() < 550 || this._height() < 300
          }, o.prototype.onWidget = function () {
            return this._onWidget
          }, o.prototype.onCmeWidget = function () {
            return "cme" === this.widgetCustomer()
          }, o.prototype.widgetCustomer = function () {
            return this._widgetCustomer
          }, o.prototype._width = function () {
            return this._options.width.value()
          }, o.prototype._height = function () {
            return this._options.height.value()
          }, o.prototype.resize = function () {
            var e = {
              height: this._height() + "px",
              width: this._width() + "px"
            };
            this._jqMainDiv.css(e), this._elMainTable.style.height = e.height, this._elMainTable.style.width = e.width, this._resizeHandler && this._jqMainDiv && this._resizeHandler()
          }, o.prototype.chartSession = function () {
            return this._chartSession
          }, o.prototype.maxLhsPriceAxisWidth = 0, o.prototype.maxRhsPriceAxisWidth = 0, o.prototype.GUIResetScales = function () {
            _e("GUI", "Reset Scales");
            var e = this.model();
            e && e.resetScales()
          }, o.prototype.onLineCancelled = function () {
            G.resetToCursor()
          }, o.prototype.createIndicatorImage = function () {
            var e = this;
            this._indicatorBindingPriceAxisName = "right", this._indicatorImageMargin = "marginRight", this.indicatorImage = this._jqParent[0].getElementsByClassName("chart-status-picture")[0], this.indicatorImage ? this.indicatorImage.innerHTML = "" : (this.indicatorImage = this._jqParent.prop("ownerDocument").createElement("span"), this.indicatorImage.className = "chart-status-picture", this._jqParent.append(this.indicatorImage)),
              this._options.marketStatusWidgetEnabled && (this.indicatorText = $('<span class="series-status-text apply-common-tooltip"><span class="js-market-status tv-market-status--series-status"></span></span>'), this.indicatorText.appendTo(this.indicatorImage), this.indicatorDot && this.indicatorDot.stop(), this.indicatorDot = new ve({
                el: this.indicatorText.find(".js-market-status")[0],
                classSuffix: "--for-chart"
              }), this.indicatorDot.start(), p.enabled("display_data_mode") && ($('<span class="js-data-mode tv-data-mode--series-status"></span>').appendTo(this.indicatorText), this.dataModeIndicator && this.dataModeIndicator.stop(), this.dataModeIndicator = new Se({
                el: this.indicatorText.find(".js-data-mode")[0],
                classSuffix: "--for-chart"
              }), this.dataModeIndicator.start())), e.withModel(null, function () {
                var t = e._model.mainSeries();
                t.onStatusChanged().subscribe(null, e._updateDataWarningIndicator.bind(e)), t.onStatusChanged().subscribe(null, e.updateIndicatorImage.bind(e)), t.marketStatus.subscribe(e.updateIndicatorImage.bind(e)), e.updateIndicatorImage(), e.checkCompactMode(), e._model.onRearrangePanes().subscribe(null, function () {
                  e.resetIndicatorSize(), e.resizeIndicator()
                })
              }), this._indicatorPriceAxisWidthChanged = this.getPriceAxisWidthChangedByName(this._indicatorBindingPriceAxisName), this._indicatorPriceAxisWidthChanged.subscribe(this, this.updateIndicatorImagePosition), this.updateIndicatorImagePosition()
          }, o.prototype._updateDataWarningIndicator = function () {
            var e = this,
              t = e.model().mainSeries(),
              i = t.status(),
              n = t.symbolInfo() && ![D.STATUS_LOADING, D.STATUS_REPLAY].includes(i);
            !e.onWidget() && e._options.chartWarningWidgetEnabled && n && (e._chartIndicatorTooltip || (this._chartIndicatorTooltip = new L({
              container: e.indicatorImage,
              wrapElem: e._jqMainDiv.get(0),
              getSymbolInfo: function () {
                return t.symbolInfo()
              },
              getStatus: function () {
                return t.status()
              }
            })), this._chartIndicatorTooltip.toggleIndicator())
          }, o.prototype.updateIndicatorImage = function () {
            var e, t, i, n = this,
              o = this._model;
            o && (t = (e = o.mainSeries()).status(), i = e.quotes() ? e.quotes().update_mode_seconds : null, n._updateDataAndMarketStatus(e.marketStatus.value(), t, i))
          }, o.prototype.checkCompactMode = function () {
            this._jqMainDiv.toggleClass("i-compact", this._width() <= 400), this.indicatorImage && (this._indicatorWidth = this.indicatorImage.clientWidth)
          }, o.prototype.getDataTextStatus = function (e) {
            var t;
            switch (e) {
              case d.STATUS_LOADING:
              case d.STATUS_RESOLVING:
                t = "loading";
                break;
              case d.STATUS_INVALID_SYMBOL:
                t = "invalid";
                break;
              case d.STATUS_NO_BARS:
                t = "forbidden";
                break;
              case d.STATUS_DELAYED:
                t = "delayed";
                break;
              case d.STATUS_DELAYED_STREAMING:
                t = "delayed_streaming";
                break;
              case d.STATUS_EOD:
              case d.STATUS_PULSE:
                t = "endofday";
                break;
              case d.STATUS_OFFLINE:
                t = "connecting";
                break;
              case d.STATUS_SNAPSHOT:
                t = "snapshot";
                break;
              case d.STATUS_READY:
                t = "realtime";
                break;
              case d.STATUS_REPLAY:
                t = "replay";
                break;
              default:
                t = e
            }
            return t
          }, o.prototype._updateDataAndMarketStatus = function (e, t) {
            var i;
            void 0 !== this.indicatorText && (i = this.getDataTextStatus(t),
              t === d.STATUS_LOADING || t === d.STATUS_RESOLVING ? this.indicatorDot.setStatus("loading") : t === d.STATUS_INVALID_SYMBOL ? this.indicatorDot.reset() : i === t && we.logWarn("unhandled data mode " + i), p.enabled("display_data_mode") && this.dataModeIndicator.setMode(i), !["loading", "invalid", "replay"].includes(i) && e ? this.indicatorDot.setStatus(e, !0) : "invalid" === i ? this.indicatorDot.setStatus("invalid", !0) : "replay" === i && this.indicatorDot.setStatus("replay"), this.resizeIndicator())
          }, o.prototype.resetIndicatorSize = function () {
            var e, t;
            if (this._paneWidgets[0] && this._paneWidgets[0].statusWidget() && Pe)
              for (e = 0; e < this._paneWidgets.length; e++) null !== (t = this._paneWidgets[e].statusWidget()) && t.firstTitle().css("padding-right", "")
          }, o.prototype.resizeIndicator = function () {
            var e, t, i, n, o = this._getMainSeriesPaneWidget();
            null !== o && null !== (e = o.statusWidget()) && (t = this._width() < 150 ? 0 : this._indicatorWidth + 10, e.firstTitle().css("padding-right", t)), this._options.marketStatusWidgetEnabled && p.enabled("display_data_mode") && this.indicatorDot && this.dataModeIndicator && (this.indicatorDot.isShortModeEnabled() && this.dataModeIndicator.isShortModeEnabled() ? (i = [this.indicatorDot.getTooltipText(), this.dataModeIndicator.getTooltipText()].filter(function (e) {
              return e
            }).join(", "), this.indicatorText.attr("title", i)) : this.indicatorText.attr("title", ""), this.indicatorText.get(0).dispatchEvent(new S("common-tooltip-update"))), this.indicatorImage && (this._indicatorWidth = this.indicatorImage.clientWidth), n = this._width(), this._options.marketStatusWidgetEnabled && this.indicatorDot && (n > 650 ? (this.indicatorDot.setTooltipEnabled(!1), this.indicatorDot.disableShortMode()) : n > 550 ? (this.indicatorDot.setTooltipEnabled(!1), this.indicatorDot.disableShortMode()) : (this.indicatorDot.setTooltipEnabled(!1), this.indicatorDot.enableShortMode())), p.enabled("display_data_mode") && this.dataModeIndicator && (n > 650 ? (this.dataModeIndicator.setTooltipEnabled(!1), this.dataModeIndicator.disableShortMode()) : n > 550 ? (this.dataModeIndicator.setTooltipEnabled(!0), this.dataModeIndicator.enableShortMode()) : (this.dataModeIndicator.setTooltipEnabled(!1), this.dataModeIndicator.enableShortMode()))
          }, o.prototype.updateIndicatorImagePosition = function () {
            this.indicatorImage && (this.indicatorImage.style[this._indicatorImageMargin] = this.getPriceAxisMaxWidthByName(this._indicatorBindingPriceAxisName) + "px")
          }, o.prototype._getMainSeriesPaneWidget = function () {
            for (var e = 0; e < this._paneWidgets.length; e++)
              if (this._paneWidgets[e].containsMainSeries()) return this._paneWidgets[e];
            return null
          }, o.prototype.getMarketStatusTooltip = function () {
            return this._options.marketStatusWidgetEnabled && this.indicatorDot ? this.indicatorDot.getTooltipText() : "-"
          }, o.prototype._startSpinner = function (e) {
            if (!this._spinner) {
              var t = $(e).get(0);
              t && (this._spinner = (new fe).spin(t))
            }
          }, o.prototype.isJustClonedChart = function () {
            return !!(this._options || {}).justCloned
          }, o.prototype.getLastPaneLeftBottom = function () {
            var e = this._paneWidgets[this._paneWidgets.length - 1].jqPane,
              t = e.offset();
            return {
              left: t.left,
              bottom: $(document.body).height() - t.top - e.height()
            }
          },
          o.prototype.setDataWindowWidget = function (e) {
            this._dataWindowWidget = e
          }, o.prototype.removeDataWindowWidget = function () {
            this._dataWindowWidget = null
          }, p.enabled("datasource_copypaste") && (o.prototype.onAppClipboardPaste = function (e, t) {
            we.logDebug("[[paste]]"), this._model && this._model.pasteSourceFromClip(e, t)
          }, o.prototype.onAppClipboardCopy = function (e) {
            e || (e = this._model.selection().sources()), e.filter(function (e) {
              return e instanceof N && e.isChildStudy()
            }).length ? we.logDebug("Can not copy child study") : (we.logDebug("[[copy]]"), this._model && this._model.copySourcesToClip(e))
          }, o.prototype.onAppClipboardCut = function (e) {
            we.logDebug("[[cut]]"), this._model && this._model.cutSourcesToClip(e || this._model.selection().sources())
          }), o.prototype.applyOverrides = function (e) {
            applyPropertiesOverrides(this.properties(), null, !1, e), this._model && (applyPropertiesOverrides(this._model.model().properties(), null, !1, e), applyPropertiesOverrides(this._model.mainSeries().properties(), null, !1, e, "mainSeriesProperties"))
          }, o.prototype.applyStudiesOverrides = function (e) {
            pe.setDefaultsOverrides(e), this._applyStudiesOverrides()
          }, o.prototype._setActionsActive = function (e) {
            if (null !== this._actions)
              for (var t in this._actions) this._actions.hasOwnProperty(t) && this._actions[t] instanceof z && this._actions[t].update({
                doNotBindShortcut: !e
              })
          }, o.prototype.setActive = function (e) {
            this._setActionsActive(e), this._isActive = e, Ae && (e && this.selectBarMode().value() ? this.startTrackingMode() : this.exitTrackingMode()), this._paneWidgets.forEach(function (e) {
              e.update()
            })
          }, o.prototype.isActive = function () {
            return this._isActive
          }, o.prototype.trackTime = function () {
            return this._chartWidgetCollection.lock.trackTime
          }, o.prototype.crossHairSyncEnabled = function () {
            return this._chartWidgetCollection.lock.crosshair.value()
          }, o.prototype.isMultipleLayout = function () {
            return Ce(this._chartWidgetCollection.layout.value())
          }, o.prototype.id = function () {
            return this._guid
          }, o.prototype.selectBarMode = function () {
            return this._model.model().selectBarMode()
          }, o.prototype.toggleSelectBarMode = function () {
            this.selectBarMode().value() || (G.resetToCursor(!0), this._model.lineBeingCreated() && this._model.cancelCreatingLine()), this._model.model().toggleSelectBarMode(), this.selectBarMode().value() && this.startTrackingMode()
          }, o.prototype.startTrackingMode = function () {
            var e, t;
            Ae && (this.exitTrackingMode(), this.updateCrossHairPositionIfNeeded(), e = this._maximizedPaneWidget || this._paneWidgets[0], t = this._model.model().crossHairSource().currentPoint(), e.startTrackingMode(t, t, new Ee))
          }, o.prototype.onBarSelected = function () {
            return this._model.model().onBarSelected()
          }, o.prototype.trySetChartStyle = function (e) {
            var t, i = this.model();
            return !!i && (i.mainSeries().properties().style.value() === e || (p.enabled("charting_library_base") ? (this._setChartStyle(e), !0) : !(t = i.model()).isInReplay() || t.isSeriesStyleSupported(e) ? (this._setChartStyle(e), !0) : (V({
              content: window.t("Chart replay mode is not available for this chart type. Do you want to exit the replay mode?")
            }).then(function (t) {
              t.on("action:yes", function () {
                t.close(), this._setChartStyle(e)
              }.bind(this)), t.open()
            }.bind(this)), !1)))
          }, o.prototype._setChartStyle = function (e) {
            var t = this.model(),
              i = t.mainSeries().properties().style;
            t.setChartStyleProperty(i, e, "Change Series Style")
          }, o.prototype.showReplayOrderConfirmationDialog = function () {
            return this.model().isInReplay() ? new Promise(function (e, t) {
              V({
                content: window.t("You are in the chart replay mode. An order will be placed in real-time. Do you still want to place the order?")
              }).then(function (i) {
                i.on("action:yes", function () {
                  e(), i.close()
                }), i.on("afterClose", function () {
                  t()
                }), i.open()
              })
            }) : Promise.resolve()
          }, o.prototype._addPerfMark = function (e) {
            xe("ChartWidget." + this._guid + "." + e)
          }, o.prototype.requestFullscreen = function () {
            this._options.requestFullscreen()
          }, o.prototype.getResizerDetacher = function () {
            return this._options
          }, e.exports.ChartWidget = o
      }).call(this, i("hY0g"), i("aIyQ"))
    },
    "Zp/P": function (e, t, i) {
      "use strict";

      function n(e, t, i, n, o, r) {
        var s, a, l, h;
        return Object(c.equalPoints)(e, t) ? null : (s = new c.Point(0, 0), a = new c.Point(i, n), o ? r ? (l = Object(u.intersectLineAndBox)(Object(c.lineThroughPoints)(e, t), Object(c.box)(s, a)), Array.isArray(l) ? l : null) : null === (h = Object(u.intersectRayAndBox)(t, e, Object(c.box)(s, a))) || Object(c.equalPoints)(t, h) ? null : Object(c.lineSegment)(t, h) : r ? null === (h = Object(u.intersectRayAndBox)(e, t, Object(c.box)(s, a))) || Object(c.equalPoints)(e, h) ? null : Object(c.lineSegment)(e, h) : (l = Object(u.intersectLineSegmentAndBox)(Object(c.lineSegment)(e, t), Object(c.box)(s, a)), Array.isArray(l) ? l : null))
      }

      function o(e) {
        return .3 * e
      }

      function r(e) {
        return .4 * e
      }

      function s(e) {
        return 2 + .5 * e
      }

      function a(e) {
        return null !== e && void 0 !== e && !Object(h.isNaN)(e)
      }

      function l(e, t) {
        void 0 !== t && Object(d.setLineStyle)(e, t)
      }
      var c, u, h, d;
      i.r(t), i.d(t, "extendAndClipLineSegment", function () {
        return n
      }), i.d(t, "optimalBarWidth", function () {
        return o
      }), i.d(t, "optimalHiLoWidth", function () {
        return r
      }), i.d(t, "selectionTolerance", function () {
        return s
      }), i.d(t, "coordinateIsValid", function () {
        return a
      }), i.d(t, "setValidLineStyle", function () {
        return l
      }), c = i("aO4+"), u = i("hBTJ"), h = i("ogJP"), d = i("jFln")
    },
    ZtA1: function (e, t, i) {
      "use strict";

      function n() {
        a.call(this)
      }

      function o(e, t) {
        this._constructor = "LineToolTrendBasedFibExtension";
        var s = t || o.createProperties();
        r.call(this, e, s), this.version = o.version, e._trendBasedFibExtensionLabelsCache || (e._trendBasedFibExtensionLabelsCache = new n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("6sSH").TrendBasedFibExtensionPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("Ss5c").LineDataSource,
        s = i("5rJj"),
        a = i("xUGI"),
        l = i("hayr").propertyPages;
      inherit(n, a), n.prototype.levelsCount = function () {
          return o.LevelsCount
        }, n.prototype.points = function (e) {
          return [e.points()[0], e.points()[1]]
        }, n.prototype.startPoint = function (e, t) {
          return e.points()[2]
        }, n.prototype.priceRange = function (e, t) {
          var i = this.points(e),
            n = i[0],
            o = i[1],
            r = t ? n.price - o.price : o.price - n.price;
          return r
        }, n.prototype.sourceIsReady = function (e) {
          return e.points().length >= 3
        }, inherit(o, r), o.version = 2, o.LevelsCount = 24, o.prototype.levelsCount = function () {
          return o.LevelsCount
        },
        o.prototype.stop = function () {
          r.prototype.stop.call(this), this._model._trendBasedFibExtensionLabelsCache.removeSource(this.id())
        }, o.prototype.pointsCount = function () {
          return 3
        }, o.prototype.title = function () {
          return "Trend-Based Fib Extension"
        }, o.prototype.name = function () {
          return "Trend-Based Fib Extension"
        }, o.prototype.migrateVersion = function (e, t, i) {
          1 === e && this.properties().extendLines.setValue(!0)
        }, o.prototype.processErase = function (e, t) {
          var i = "level" + t,
            n = this.properties()[i].visible;
          e.setProperty(n, !1, "Erase level line")
        }, o.prototype.getStylesPropertyPage = function () {
          return l.LineToolTrendBasedFibExtensionStylesPropertyPage
        }, o.createProperties = function (e) {
          var t = new s("linetooltrendbasedfibextension", e, !1, {
            range: [0, 8]
          });
          return o._configureProperties(t), t
        }, o._configureProperties = function (e) {
          r._configureProperties(e)
        }, t.LineToolTrendBasedFibExtension = o
    },
    "Zy3/": function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "CompositeRenderer", function () {
        return n
      });
      var n = function () {
        function e() {
          this._renderers = [], this._globalAlpha = 1
        }
        return e.prototype.setGlobalAlpha = function (e) {
          this._globalAlpha = e
        }, e.prototype.append = function (e) {
          this._renderers.push(e)
        }, e.prototype.insert = function (e, t) {
          this._renderers.splice(t, 0, e)
        }, e.prototype.draw = function (e) {
          for (var t = 0; t < this._renderers.length; t++) e.save(), e.globalAlpha = this._globalAlpha, this._renderers[t].draw(e), e.restore()
        }, e.prototype.drawBackground = function (e) {
          var t, i;
          for (e.save(), e.globalAlpha = this._globalAlpha, t = 0; t < this._renderers.length; t++)(i = this._renderers[t]).drawBackground && i.drawBackground(e);
          e.restore()
        }, e.prototype.hitTest = function (e) {
          var t, i, n = null;
          for (t = this._renderers.length - 1; t >= 0; t--) null !== (i = this._renderers[t].hitTest(e)) && (null === n || i.result() > n.result()) && (n = i);
          return n
        }, e.prototype.doesIntersectWithBox = function (e) {
          return this._renderers.some(function (t) {
            return !!t.doesIntersectWithBox && t.doesIntersectWithBox(e)
          })
        }, e
      }()
    },
    ZzsE: function (e, t, i) {
      "use strict";

      function n() {
        return p.a.getJSON(l)
      }

      function o(e) {
        p.a.setJSON(l, e)
      }

      function r(e, t) {
        var i, n, o;
        return void 0 === t && (t = s), Object(a.isObject)(e) ? (i = t.activeWidget, Object(a.hasProperty)(e, "activeWidget") && function (e) {
          if ("string" != typeof e) return !1;
          return ["backtesting", "screener", "scripteditor", "text_notes", "paper_trading"].includes(e)
        }(e.activeWidget) && (i = e.activeWidget), n = t.mode, Object(a.hasProperty)(e, "mode") && function (e) {
          if ("string" != typeof e) return !1;
          return ["minimized", "normal", "maximized"].includes(e)
        }(e.mode) && (n = e.mode), o = t.height, Object(a.hasProperty)(e, "height") && function (e) {
          return "number" == typeof e && isFinite(e)
        }(e.height) && (o = e.height), {
          activeWidget: i,
          mode: n,
          height: o
        }) : t
      }
      var s, a = i("JmuD"),
        l = "chart.bottom-widgetbar",
        c = 320,
        u = "screener",
        h = "minimized",
        d = i("Vdly"),
        p = i.n(d);
      i.d(t, "b", function () {
        return n
      }), i.d(t, "c", function () {
        return o
      }), i.d(t, "a", function () {
        return r
      }), s = {
        activeWidget: u,
        height: c,
        mode: h
      }
    },
    a4Nd: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "PushStream", function () {
        return a
      }), n = i("Eyy1"), o = i("RjxO"), r = i("uOxu"), s = Object(r.getLogger)("PushStream"), a = function () {
        function e(e, t) {
          this._channels = [],
            this._transport = new o.a(this._onPushStreamMessage.bind(this)), this._settings = t, this._messageHandler = e
        }
        return e.prototype.addChannel = function (e) {
          Object(n.assert)(!this.hasChannel(e), "Channel already subscribed"), s.logNormal("Adding channel " + e), this._channels.push(e), this._transport.setUrl(this._generateUrl())
        }, e.prototype.removeChannel = function (e) {
          var t = this._channels.indexOf(e);
          Object(n.assert)(-1 !== t, "There is no that channel"), s.logNormal("Removing channel " + e), this._channels.splice(t, 1), this._transport.setUrl(this._generateUrl())
        }, e.prototype.getChannels = function () {
          return this._channels
        }, e.prototype.hasChannel = function (e) {
          return -1 !== this._channels.indexOf(e)
        }, e.prototype.connectionStatus = function () {
          return this._transport.connectionStatus()
        }, e.prototype.connect = function () {
          Object(n.assert)(0 !== this._channels.length, "There is no channels"), this._transport.connect()
        }, e.prototype.disconnect = function () {
          this._transport.disconnect()
        }, e.prototype.sendMessage = function (e) {
          this._transport.sendMessage(e)
        }, e.prototype._onPushStreamMessage = function (e) {
          var t = JSON.parse(e),
            i = t.id,
            n = t.channel; - 2 === i ? s.logWarn("Received unexpected message: about removed the channel") : i > 0 && (s.logDebug('Received message: id="' + i + '" channel="' + n + '"'), this._messageHandler(t.text, i, n))
        }, e.prototype._generateUrl = function () {
          var e = this._channels.join("/");
          return this._settings.url + "/" + this._settings.urlPath + "/" + e
        }, e
      }()
    },
    a7Ha: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "LineEnd", function () {
          return n
        }),
        function (e) {
          e[e.Normal = 0] = "Normal", e[e.Arrow = 1] = "Arrow", e[e.Circle = 2] = "Circle"
        }(n || (n = {}))
    },
    a9Kt: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M13 22.5H5.5a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2V14"/><path stroke="currentColor" stroke-linecap="square" d="M18.5 15.5v8m-4-4h8"/><path fill="currentColor" d="M7 8h11v1H7zm0 4h11v1H7zm0 4h5v1H7z"/></g></svg>'
    },
    aB9a: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "LineSourcePaneView", function () {
        return l
      }), n = i("mrSG"), o = i("aO4+"), r = i("qFKp"), s = i("VdBB"), a = i("1mZ4"), l = function () {
        function e(e, t) {
          this._invalidated = !0, this._middlePoint = null, this._points = [], this._floatPoints = [], this._source = e, this._model = t
        }
        return e.prototype.priceToCoordinate = function (e) {
            var t, i, n = this._source.priceScale();
            return null === n ? null : null === (i = null !== (t = this._source.ownerSource()) ? t.firstValue() : null) ? null : n.priceToCoordinate(e, i)
          }, e.prototype.currentPoint = function () {
            var e = this._model.crossHairSource();
            return new o.Point(e.x, e.y)
          }, e.prototype.anchorColor = function () {
            return this._source.isBeingEdited() ? "#D61AD3" : this._model.isDark() ? "#FFFFFF" : "#606060"
          }, e.prototype.isHoveredSource = function () {
            return this._source === this._model.hoveredSource()
          }, e.prototype.isSelectedSource = function () {
            return this._model.selection().isSelected(this._source)
          }, e.prototype.isBeingEdited = function () {
            return this._model.lineBeingEdited() === this._source
          }, e.prototype.isEditMode = function () {
            return !this._model.isSnapshot()
          },
          e.prototype.isAnchorsRequired = function () {
            return (this.isHoveredSource() || this.isSelectedSource()) && this.isEditMode()
          }, e.prototype.update = function () {
            this._invalidated = !0
          }, e.prototype.addAnchors = function (e) {
            var t = this._points;
            this._model.lineBeingCreated() === this._source && (t = t.slice(0, -1)), e.append(this.createLineAnchor({
              points: t
            }))
          }, e.prototype.createLineAnchor = function (e) {
            var t = r.CheckMobile.any();
            return new a.LineAnchor(n.__assign({}, e, {
              color: this.anchorColor(),
              backgroundColor: this._model.backgroundColor(),
              currentPoint: this.currentPoint(),
              linePointBeingEdited: this.isBeingEdited() ? this._model.linePointBeingEdited() : null,
              hittestResult: s.HitTestResult.CHANGEPOINT,
              radius: (t ? 15 : 7) + (this.isSelectedSource() ? 1 : 0),
              strokeWidth: (t ? 3 : 1) + (this.isSelectedSource() ? 1 : 0)
            }))
          }, e.prototype._updateImpl = function () {
            var e, t, i, n, o, r, s, a;
            if (this._points = [], this._floatPoints = [], e = this._source.priceScale(), t = this._model.timeScale(), e && !e.isEmpty() && !t.isEmpty()) {
              for (i = this._source.points(), n = 0; n < i.length; n++) {
                if (o = i[n], !(r = this._source.pointToScreenPoint(o))) return;
                (s = r[0]).data = n, (a = r[1]).data = n, this._floatPoints.push(s), this._points.push(a)
              }
              2 === this._points.length && (this._middlePoint = this._source.calcMiddlePoint(this._points[0], this._points[1])), this._invalidated = !1
            }
          }, e.prototype._getSource = function () {
            return this._source
          }, e.prototype._getPoints = function () {
            return this._points
          }, e.prototype._getModel = function () {
            return this._model
          }, e
      }()
    },
    aBGL: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "AvailableOnTVPopup", function () {
        return c
      }), i("YFKU"), i("HbRj"), n = i("brCa"), o = i("Wh9f"), r = i("SwaV"), s = "AAPL", a = $.t("The symbol available only on {0}TradingView{1}."), l = "https://www.tradingview.com{0}?utm_source=www.tradingview.com&utm_medium=widget&utm_campaign=chart&utm_term={2}:{1}", c = function () {
        function e(e) {
          this._lastResolvedSymbol = null, this._chart = e, this._chart.withModel(this, this._connectToModel)
        }
        return e.prototype.show = function () {
          var e = this,
            t = this._getSymbol(),
            i = this._chart.defaultSymbol(),
            r = t.split(":"),
            c = r[0],
            u = r[1],
            h = l.format(Object(o.getSymbolPagePath)({
              proName: this._getProSymbol()
            }), u, c);
          Object(n.createNoticeDialog)({
            content: a.format('<a target="_blank" href="' + h + '">', "</a>")
          }).then(function (n) {
            n.on("destroy", function () {
              var n;
              n = e._lastResolvedSymbol ? e._lastResolvedSymbol : i !== t ? i : s, e._chart.setSymbol(n)
            }), n.open()
          })
        }, e.prototype._getProSymbol = function () {
          return this._chart.model().mainSeries().proSymbol()
        }, e.prototype._getSymbol = function () {
          return this._chart.model().mainSeries().actualSymbol()
        }, e.prototype._connectToModel = function () {
          var e = this._chart.model(),
            t = e.mainSeries();
          t.dataEvents().symbolResolved().subscribe(this, this._onSymbolResolved), t.dataEvents().symbolGroupNotPermitted().subscribe(this, this._onSymbolGroupNotPermitted), t.dataEvents().symbolNotPermitted().subscribe(this, this.show)
        }, e.prototype._onSymbolResolved = function () {
          this._lastResolvedSymbol = this._getSymbol()
        }, e.prototype._onSymbolGroupNotPermitted = function (e) {
          r.a.MilIndices !== e && this.show()
        }, e
      }()
    },
    aDyP: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolPitchfork";
        var i = t || n.createProperties();
        o.call(this, e, i), this._properties.style.listeners().subscribe(this, n.prototype._recreatePaneView), this._recreatePaneView()
      }
      var o = i("Ss5c").LineDataSource,
        r = i("5rJj"),
        s = i("7KDR").Action,
        a = i("hayr").propertyPages,
        l = i("rCHB").LineToolPitchforkStyle,
        c = null;
      inherit(n, o), n.prototype.additionalActions = function () {
        var e, t, i = [],
          n = ["Original", "Modified Schiff", "Inside", "Schiff"];
        for (e = 0; e < 4; e++) t = new s({
          checked: this.properties().style.value() === e,
          checkable: !0,
          label: window.t(n[e]),
          payload: {
            target: this,
            value: e
          },
          onExecute: function (e) {
            var t = e.getPayload(),
              i = t.target,
              n = t.value;
            i.properties().style.setValue(n), i.updateAllViews(), i._model.updateSource(i)
          }
        }), i.push(t);
        return [i[0], i[3], i[1], i[2]]
      }, n.prototype._recreatePaneView = function () {
        if (null !== c) {
          var e = [];
          this._properties.style.value() === l.Original ? e = [new c.PitchforkLinePaneView(this, this._model)] : this._properties.style.value() === l.Schiff ? e = [new c.SchiffPitchforkLinePaneView(this, this._model)] : this._properties.style.value() === l.Schiff2 ? e = [new c.SchiffPitchfork2LinePaneView(this, this._model)] : this._properties.style.value() === l.Inside && (e = [new c.InsidePitchforkLinePaneView(this, this._model)]), this._setPaneViews(e)
        } else Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          null === c && (c = i("cT+B")), this._recreatePaneView()
        }.bind(this).bind(null, i)).catch(i.oe)
      }, n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return window.t("Pitchfork")
      }, n.prototype.name = function () {
        return "Pitchfork"
      }, n.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, n.prototype.getStylesPropertyPage = function () {
        return a.LineToolPitchforkStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolpitchfork", e, !1, {
          range: [0, 8]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolPitchfork = n
    },
    aILO: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolHeadAndShoulders";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("Fx2Q").LineToolHeadAndShouldersPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 7
      }, n.prototype.title = function () {
        return "Head and Shoulders"
      }, n.prototype.name = function () {
        return "Head and Shoulders"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolLineTool5PointsPatternStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolheadandshoulders", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolHeadAndShoulders = n
    },
    aIha: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolFlagMark";
        var s = t || n.createProperties();
        r.call(this, e, s),
          Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (t) {
            var n = i("5Dp4").MarkPaneView,
              r = new n(this, e, this.image, 25, 25, -8, -21);
            r.setAnchors(new o(0, 0)), this._setPaneViews([r])
          }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("aO4+").Point,
        r = i("Ss5c").LineDataSource,
        s = i("Ocx9").DefaultProperty;
      inherit(n, r), n.prototype.image = new Image, n.prototype.image.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAsElEQVR4AWMYWcDExOS/YUd4hWF7+H90bNAePpO2liDwJTxyi2htyVXLvlBOWlry2bAtVIumwWXQERFF4zgJ20iPiP8JDCpLeqSuJ6ZdoRJ0SMIRx7QbQtmItgSXnGFbRCzMEnIzK8ISWgL6WzJqibGxsYaFhYUC7SxBWMQPNMjazMxMjebBZWhoKAq00NHc3FyL5nFiaWkpDTTYz8jISI/mEW9qaqoExGFgS+gFRgEAaE0hWxrw50oAAAAASUVORK5CYII=", n.prototype.pointsCount = function () {
        return 1
      }, n.prototype.title = function () {
        return "Flag Mark"
      }, n.prototype.name = function () {
        return "Flag Mark"
      }, n.prototype.version = 2, n.createProperties = function (e) {
        var t = new s("linetoolflagmark", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineToolFlagMark = n
    },
    aIyQ: function (e, t, i) {
      "use strict";
      (function (e) {
        function t() {
          this._listeners = []
        }

        function n(e) {
          return !e.singleshot
        }
        i("uOxu").getLogger("Common.Delegate");
        t.prototype.subscribe = function (e, t, i) {
          var n = {
            object: e,
            member: t,
            singleshot: !!i
          };
          this._listeners.push(n)
        }, t.prototype.unsubscribe = function (e, t) {
          var i, n;
          for (i = 0; i < this._listeners.length; ++i)
            if ((n = this._listeners[i]).object === e && n.member.prototype === t.prototype) {
              this._listeners.splice(i, 1);
              break
            }
        }, t.prototype.unsubscribeAll = function (e) {
          var t;
          for (t = this._listeners.length - 1; t >= 0; --t) this._listeners[t].object === e && this._listeners.splice(t, 1)
        }, t.prototype.destroy = function () {
          delete this._listeners
        }, t.prototype.fire = function () {
          var e, t, i, o = this._listeners;
          for (this._listeners = this._listeners.filter(n), e = o.length, t = 0; t < e; ++t)(i = o[t]).member.apply(i.object || null, arguments)
        }, "undefined" != typeof window && (window.Delegate = t), e && e.exports && (e.exports = t)
      }).call(this, i("YuTi")(e))
    },
    aLUT: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11px" height="9px"><path fill="none" fill-rule="evenodd" stroke-width="2" d="M1 3.22l3.415 3.496L10 1"/></svg>'
    },
    "aO4+": function (e, t, i) {
      "use strict";

      function n(e, t) {
        return new a(e, t)
      }

      function o(e, t) {
        return e.x === t.x && e.y === t.y
      }

      function r(e, t, i) {
        if (0 === e && 0 === t) throw new Error("A and B can not be both equal to zero.");
        return {
          A: e,
          B: t,
          C: i
        }
      }

      function s(e, t) {
        return {
          edge: e,
          isPositive: t
        }
      }
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      var a = function () {
        function e(e, t) {
          this.x = e, this.y = t
        }
        return e.prototype.add = function (t) {
            return new e(this.x + t.x, this.y + t.y)
          }, e.prototype.addScaled = function (t, i) {
            return new e(this.x + i * t.x, this.y + i * t.y)
          }, e.prototype.subtract = function (t) {
            return new e(this.x - t.x, this.y - t.y)
          }, e.prototype.dotProduct = function (e) {
            return this.x * e.x + this.y * e.y
          }, e.prototype.length = function () {
            return Math.sqrt(this.x * this.x + this.y * this.y)
          }, e.prototype.scaled = function (t) {
            return new e(this.x * t, this.y * t)
          }, e.prototype.normalized = function () {
            return this.scaled(1 / this.length())
          },
          e.prototype.transposed = function () {
            return new e(-this.y, this.x)
          }, e.prototype.clone = function () {
            return new e(this.x, this.y)
          }, e
      }();
      t.Point = a, t.point = n, t.equalPoints = o, t.line = r, t.lineThroughPoints = function (e, t) {
        if (o(e, t)) throw new Error("Points should be distinct");
        return r(e.y - t.y, t.x - e.x, e.x * t.y - t.x * e.y)
      }, t.lineSegment = function (e, t) {
        if (o(e, t)) throw new Error("Points of a segment should be distinct");
        return [e, t]
      }, t.halfplane = s, t.halfplaneThroughPoint = function (e, t) {
        return s(e, e.A * t.x + e.B * t.y + e.C > 0)
      }, t.box = function (e, t) {
        return {
          min: n(Math.min(e.x, t.x), Math.min(e.y, t.y)),
          max: n(Math.max(e.x, t.x), Math.max(e.y, t.y))
        }
      }, t.equalBoxes = function (e, t) {
        return o(e.min, t.min) && o(e.max, t.max)
      }
    },
    b1GK: function (e, t, i) {
      "use strict";

      function n() {}

      function o(e) {
        r(e), s(e)
      }
      var r, s;
      i.r(t), i.d(t, "addPerfMark", function () {
        return o
      }), r = console.timeStamp ? console.timeStamp.bind(console) : n, s = window.performance && performance.mark ? performance.mark.bind(performance) : n
    },
    "b6p+": function (e, t, i) {},
    bKFv: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "StatsPosition", function () {
          return n
        }),
        function (e) {
          e[e.Left = 0] = "Left", e[e.Center = 1] = "Center", e[e.Right = 2] = "Right"
        }(n || (n = {}))
    },
    bKsZ: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "ProductFeatures", function () {
          return n
        }),
        function (e) {
          e.FREE_PRODUCT_ID = "free", e.DISABLE_ON_TRIAL = "disable_on_trial", e.CUSTOM_INTERVALS = "CUSTOM_INTERVALS", e.CHART_STORAGE = "CHART_STORAGE", e.MULTIPLE_CHARTS = "MULTIPLE_CHARTS", e.MULTIPLE_WATCHLISTS = "MULTIPLE_WATCHLISTS", e.IMPORT_WATCHLISTS = "IMPORT_WATCHLISTS", e.EXPORT_WATCHLISTS = "EXPORT_WATCHLISTS", e.INDICATORS_ON_CHART = "INDICATORS_ON_CHART", e.EXTENDED_SESSION = "EXTENDED_SESSION", e.STUDY_ON_STUDY = "STUDY_ON_STUDY", e.TICK_BY_TICK_PUSH_DATA = "TICK_BY_TICK_PUSH_DATA", e.SERVER_SIDE_ALERTS = "SERVER_SIDE_ALERTS", e.ALERTS_TRUE_SMS = "ALERTS_TRUE_SMS", e.SCREENER_ALERTS = "SCREENER_ALERTS", e.SCREENER_AUTO_REFRESH = "SCREENER_AUTO_REFRESH", e.SCREENER_EXPORT_DATA = "SCREENER_EXPORT_DATA", e.SCREENER_INTERVALS = "SCREENER_INTERVALS", e.SCREENER_REALTIME_IDC = "SCREENER_REALTIME_IDC", e.SIMULTANEOUS_CONNECTIONS = "SIMULTANEOUS_CONNECTIONS", e.STUDY_TEMPLATES = "STUDY_TEMPLATES", e.CAN_EDIT_PUBLIC_CHATS = "CAN_EDIT_PUBLIC_CHATS", e.NO_SPONSORED_ADS = "NO_SPONSORED_ADS", e.IDC_AVAILABLE_DELAY = "IDC_AVAILABLE_DELAY", e.IDC_NO_NEED_AGREEMENT = "IDC_NO_NEED_AGREEMENT", e.STATUS = "STATUS", e.ALERTS_NO_EXPIRATION = "ALERTS_NO_EXPIRATION", e.ADDONS = "ADDONS", e.MULTIFLAGGED_SYMBOLS_LISTS = "MULTIFLAGGED_SYMBOLS_LISTS", e.BAR_REPLAY_INTRADAY = "BAR_REPLAY_INTRADAY", e.TV_VOLUMEBYPRICE = "TV_VOLUMEBYPRICE", e.SHOWS = "SHOWS"
        }(n || (n = {}))
    },
    bMkT: function (e, t, i) {
      "use strict";
      (function (t) {
        function n() {
          var e = window.widgetbar ? window.widgetbar.getWidgets("watchlist") : null;
          return e && 0 !== e.length ? e[0] : null
        }

        function o() {
          var e = n();
          return null != e && null != e.widgetObject ? e.widgetObject : null
        }

        function r(e, i) {
          var r, s, a;
          this._id = u.guid(), this._delegates = {
            activeListChanged: new t,
            listAdded: new t,
            listChanged: new t,
            listRemoved: new t,
            listRenamed: new t
          }, r = o(), null === e && null !== r && (e = r.getWatchListManager()), this._watchListManager = e, null !== r ? this._subscribeFromProxyDelegates() : (s = this,
            null !== (a = n()) ? a.widgetStarted().subscribe(null, function () {
              s._watchListManager = o().getWatchListManager(), s._subscribeFromProxyDelegates()
            }) : this._subscribeFromProxyDelegates()), this._chartApiInstance = i, this._symbolsFormatters = {}
        }

        function s(e, t, i) {
          null != t[i] && (t[i + "_formatted"] = e.format(t[i]))
        }

        function a(e, t) {
          s(e, t, "open_price"), s(e, t, "last_price"), s(e, t, "change"), s(e, t, "prev_close_price"), s(e, t, "high_price"), s(e, t, "low_price"), s(e, t, "bid"), s(e, t, "ask")
        }

        function l(e, t) {
          e.subscribe(t, t.fire)
        }
        var c = i("kcTO").PriceFormatter,
          u = i("0waE"),
          h = i("uOxu").getLogger("WatchList.Api"),
          d = i("IWXC"),
          p = d.getQuoteSessionInstance,
          f = d.getQuoteSessionNoEnsure;
        r.prototype.getAllLists = function () {
          return null === this._watchListManager ? null : this._watchListManager.getAllLists(!0)
        }, r.prototype.getActiveListId = function () {
          var e = o();
          return null !== e ? e.getActiveListId() : null
        }, r.prototype.getList = function (e) {
          return null === this._watchListManager ? null : (void 0 === e && (e = this.getActiveListId()), this._watchListManager.getList(e, !0).symbols)
        }, r.prototype.saveList = function (e) {
          return null !== this._watchListManager && this._watchListManager.saveList(e)
        }, r.prototype.deleteList = function (e) {
          null !== this._watchListManager && this._watchListManager.deleteList(e)
        }, r.prototype.createList = function (e, t) {
          return null === this._watchListManager ? null : this._watchListManager.createList(e, t)
        }, r.prototype.defaultList = function () {
          return this._chartApiInstance.defaultWatchlistSymbols()
        }, r.prototype.setList = function (e) {
          h.logWarn("`setList` is deprecated. Use `updateList` instead"), this.updateList(null, e)
        }, r.prototype.updateList = function (e, t) {
          null !== this._watchListManager && (null === e && (e = this.getActiveListId()), this._watchListManager.updateList(e, t), this._delegates.listChanged.fire())
        }, r.prototype.renameList = function (e, t) {
          null !== this._watchListManager && this._watchListManager.renameList(e, t)
        }, r.prototype.onListChanged = function () {
          return this._delegates.listChanged
        }, r.prototype.onActiveListChanged = function () {
          return this._delegates.activeListChanged
        }, r.prototype.onListAdded = function () {
          return this._delegates.listAdded
        }, r.prototype.onListRemoved = function () {
          return this._delegates.listRemoved
        }, r.prototype.onListRenamed = function () {
          return this._delegates.listRenamed
        }, r.prototype.subscribe = function (e, t) {
          p("full").subscribe(this._id, e, function (i, n) {
            var o, r = i.values;
            ! function (e) {
              return e && null != e.pricescale && null != e.minmov && null != e.fractional && null != e.minmove2
            }(r) ? "error" === i.status && t(i, n): (this._symbolsFormatters[e] || (this._symbolsFormatters[e] = new c(r.pricescale, r.minmov, r.fractional, r.minmove2)), a(o = this._symbolsFormatters[e], r), a(o, n.values), t(i, n))
          }.bind(this))
        }, r.prototype.unsubscribe = function (e) {
          var t = f("full");
          t && (t.unsubscribe(this._id, e), delete this._symbolsFormatters[e])
        }, r.prototype._subscribeFromProxyDelegates = function () {
          var e = o();
          null !== e && (l(e.onListChanged(), this._delegates.listChanged), l(e.onActiveListChanged(), this._delegates.activeListChanged)), null !== this._watchListManager && (l(this._watchListManager.onListAdded(), this._delegates.listAdded),
            l(this._watchListManager.onListRemoved(), this._delegates.listRemoved), l(this._watchListManager.onListRenamed(), this._delegates.listRenamed))
        }, e.exports = r
      }).call(this, i("aIyQ"))
    },
    bOD6: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "TimeScaleVisibleRange", function () {
        return s
      }), n = i("ZJKN"), o = i("dfhE"), r = new Map([
        [o.STYLE_BARS, .1],
        [o.STYLE_RANGE, .1],
        [o.STYLE_CANDLES, .35],
        [o.STYLE_HEIKEN_ASHI, .35]
      ]), s = function () {
        function e(e, t) {
          this._styleSpecificRanges = new Map, this._logicalRange = e, this._defaultStyle = t
        }
        return e.prototype.strictRange = function (e) {
          var t, i;
          return null === this._logicalRange ? null : (void 0 === e && (e = this._defaultStyle), void 0 === (t = this._styleSpecificRanges.get(e)) && (i = (r.get(e) || 0) / 2, t = new n.BarsRange(Math.ceil(this._logicalRange.left() + i), Math.ceil(this._logicalRange.right() - i)), this._styleSpecificRanges.set(e, t)), t)
        }, e.prototype.logicalRange = function () {
          return this._logicalRange
        }, e.prototype.isValid = function () {
          return null !== this._logicalRange
        }, e.invalid = function () {
          return new e(null, o.STYLE_CANDLES)
        }, e
      }()
    },
    bOGh: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "UndoMacroCommand", function () {
        return r
      }), n = i("mrSG"), o = i("RDU5"), r = function (e) {
        function t(t) {
          var i = e.call(this, t, !1) || this;
          return i._subcommands = [], i
        }
        return n.__extends(t, e), t.prototype.addCommand = function (e) {
          this._subcommands.push(e)
        }, t.prototype.isEmpty = function () {
          return 0 === this._subcommands.length
        }, t.prototype.redo = function () {
          for (var e = 0; e < this._subcommands.length; e++) this._subcommands[e].redo()
        }, t.prototype.undo = function () {
          for (var e = this._subcommands.length - 1; e >= 0; e--) this._subcommands[e].undo()
        }, t
      }(o.UndoCommand)
    },
    bSeV: function (e, t) {},
    bTqm: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolCypherPattern";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("mjK7").CypherPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("NJRZ").LineTool5PointsPattern;
      inherit(n, s), n.createProperties = function (e) {
        var t = new r("linetoolcypherpattern", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        s._configureProperties(e)
      }, t.LineToolCypherPattern = n
    },
    bc0y: function (e, t, i) {},
    beCu: function (e, t, i) {
      "use strict";

      function n(e) {
        return new a(e)
      }
      var o, r, s, a;
      i.r(t), i.d(t, "doAnimate", function () {
        return n
      }), o = i("mrSG"), r = i("j1f4"), s = {
        from: 0,
        duration: 250,
        easing: r.easingFunc.easeOutCubic
      }, a = function () {
        function e(e) {
          var t, i = this;
          this._doing = !0, this._options = o.__assign({}, s, e), t = performance.now(), window.requestAnimationFrame(function (e) {
            i._animation(t, i._options.from, e)
          })
        }
        return e.prototype.stop = function () {
          this._doing = !1
        }, e.prototype._animation = function (e, t, i) {
          var n, o, r, s, a, l, c, u, h = this;
          this._doing ? (o = (n = (i = !i || i < 1e12 ? performance.now() : i) - e) >= this._options.duration || t === this._options.to, l = this._options.from, c = this._options.to, u = this._options.easing(n / this._options.duration), r = l * (1 - u) + c * u, a = (s = o ? this._options.to : r) - t, this._options.onStep(a, s),
            o ? this._finishAnimation() : window.requestAnimationFrame(function (t) {
              h._animation(e, s, t)
            })) : this._finishAnimation()
        }, e.prototype._finishAnimation = function () {
          this._options.onComplete && this._options.onComplete()
        }, e
      }()
    },
    biIa: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "SeriesWaterlinePaneView", function () {
        return c
      }), n = i("mrSG"), o = i("aO4+"), r = i("k4w6"), s = i("//lt"), a = i("VdBB"), l = i("8Uy/"), c = function (e) {
        function t(t) {
          var i = e.call(this, t) || this,
            n = {
              cursorType: s.PaneCursorType.VerticalResize,
              pressedMouseMoveHandler: function (e) {
                var i = t.priceScale(),
                  n = t.properties().baselineStyle,
                  o = i.height(),
                  r = 100 - e.y / o * 100,
                  s = r < 0 ? 0 : Math.round(10 * r) / 10;
                n.baseLevelPercentage.setValue(Math.max(Math.min(s, 100), 0))
              }
            };
          return i._lineRenderer.setHitTest(new a.HitTestResult(a.HitTestResult.CUSTOM_MOVE, n)), i._lineRendererData.visible = !0, i._lineRendererData.linestyle = l.LINESTYLE_SPARSE_DOTTED, i
        }
        return n.__extends(t, e), t.prototype._updateImpl = function () {
          var e = this._series.properties().baselineStyle,
            t = Math.abs(100 - e.baseLevelPercentage.value());
          this._lineRendererData.width = this._model.timeScale().width(), this._lineRendererData.height = this._series.priceScale().height(), this._lineRendererData.points = [new o.Point(0, Math.round(this._lineRendererData.height * (t / 100)))], this._lineRendererData.color = e.baselineColor.value()
        }, t
      }(r.a)
    },
    brCa: function (e, t, i) {
      "use strict";

      function n(e) {
        return new Promise(function (t) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(3), i.e("create-dialog")]).then(function (n) {
            var o = i("YDhE").createDialog;
            t(o(r.__assign({}, s, e)))
          }.bind(null, i)).catch(void 0)
        })
      }

      function o(e) {
        n(e).then(function (e) {
          return e.open()
        })
      }
      var r, s;
      i.r(t), i.d(t, "createNoticeDialog", function () {
        return n
      }), i.d(t, "showNoticeDialog", function () {
        return o
      }), r = i("mrSG"), i("YFKU"), s = {
        width: 400,
        destroyOnClose: !0,
        title: window.t("Notification"),
        content: window.t("You are notified"),
        contentWrapTemplate: '<div class="tv-dialog__section tv-dialog__section--no-border"><div class="tv-text"><p></p></div></div>',
        actionsWrapTemplate: '<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border">',
        actions: [{
          name: "ok",
          type: "primary",
          text: window.t("Ok"),
          method: "close",
          key: [13, 32]
        }]
      }
    },
    "bv/X": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolSineLine";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("piZW").SineLinePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Sine Line"
      }, n.prototype.name = function () {
        return "Sine Line"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolTimeCyclesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolsineline", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolSineLine = n
    },
    "c0/O": function (e, t, i) {
      "use strict";

      function n(e) {
        this.items = e.items, this.height = e.height || e.width, this.width = e.width || e.height, this._color = e.color, this._borderColor = e.borderColor, this._vertOffset = e.vertOffset || 0, e.textCache && (this._textCache = e.textCache, this._textColor = e.textColor, this._textVertOffset = this._vertOffset > 0 ? this.height : -this.height, this._textImageWidth = this._textCache.textImageWidth, this._textImageHeight = this._textCache.textImageHeight)
      }
      var o = i("aO4+").Point,
        r = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        this.drawShape(e), this.drawText(e)
      }, n.prototype.drawShape = function (e) {
        throw new Error("Not implemented")
      }, n.prototype.drawText = function (e) {
        var t, i, n, o, r, s;
        if (this._textCache)
          for (t = 0, i = this.items.length; t < i; t++) o = (n = this.items[t]).x, r = n.y + this._vertOffset + this._textVertOffset, s = n.style && null != n.style.textColor ? n.style.textColor : this._textColor, this._textCache.paintTo(e, s, o, r, "center", this._vertOffset > 0 ? "top" : "bottom")
      }, n.prototype.hitTest = function (e, t) {
        var i, n, s, a, l, c, u, h, d, p, f, _ = Math.max(this.height, this.width),
          m = this._vertOffset,
          g = this._textVertOffset;
        for (t = t || r.REGULAR, i = 0; i < this.items.length; ++i)
          if (n = this.items[i]) {
            if (new o(n.x, n.y + m).subtract(e).length() <= _) return new r(t, {});
            if (this._textCache && (s = this._textImageWidth / 2, a = n.y + m + g, l = m > 0 ? 0 : -this._textImageHeight, c = m > 0 ? this._textImageHeight : 0, u = e.x, h = e.y, d = n.x - s, p = a + l, f = n.x + s, u > d && u < f && h > p && h < a + c)) return new r(t, {})
          } return null
      }, t.PaneRendererAbstractShape = TradingView.PaneRendererAbstractShape = n
    },
    c2JX: function (e, t, i) {
      "use strict";

      function n(e) {
        return void 0 === e && (e = ""), '\n\t\t<div class="tv-spinner" role="progressbar">\n\t\t\t<div class="tv-spinner__spinner-layer">\n\t\t\t\t<div class="tv-spinner__background tv-spinner__width_element"></div>\n\t\t\t\t<div class="tv-spinner__circle-clipper tv-spinner__width_element tv-spinner__circle-clipper--left"></div>\x3c!--\n\t\t\t\t--\x3e<div class="tv-spinner__circle-clipper tv-spinner__width_element tv-spinner__circle-clipper--right"></div>\n\t\t\t</div>\n\t\t</div>\n\t'
      }
      var o, r, s, a, l;
      i.r(t), i.d(t, "DEFAULT_SIZE", function () {
        return s
      }), i.d(t, "renderSpinnerTemplate", function () {
        return n
      }), i.d(t, "Spinner", function () {
        return l
      }), o = i("SzKR"), r = i("TzTt"), s = "large", a = Object(r.parseHtmlElement)(n()), l = function () {
        function e(e) {
          this._shown = !1, this._el = a.cloneNode(!0), this.setSize(e || s)
        }
        return e.prototype.spin = function (e) {
          return this._el.classList.add("tv-spinner--shown"), void 0 === this._container && (this._container = e, e.appendChild(this._el)), this._shown = !0, this
        }, e.prototype.stop = function (e) {
          return e && void 0 !== this._container && this._container.removeChild(this._el), this._el.classList.remove("tv-spinner--shown"), this._shown = !1, this
        }, e.prototype.setStyle = function (e) {
          var t = this;
          return Object.keys(e).forEach(function (i) {
            var n = e[i];
            void 0 !== n && t._el.style.setProperty(i, n)
          }), this
        }, e.prototype.setSize = function (e) {
          var t = void 0 !== e ? "tv-spinner--size_" + e : "";
          return this._el.className = "tv-spinner " + t + " " + (this._shown ? "tv-spinner--shown" : ""), this
        }, e.prototype.getEl = function () {
          return this._el
        }, e.prototype.destroy = function () {
          this.stop(), delete this._el, delete this._container
        }, e
      }()
    },
    cBZt: function (e, t, i) {
      "use strict";

      function n(e) {
        return e.replace(/(@[^-]+-[^-]+).*$/, "$1")
      }

      function o(e) {
        switch (e) {
          case "VbPFixed@tv-volumebyprice":
          case "mtp_tsanalysis@mtp-mtpredictor":
          case "mtp_riskreward@mtp-mtpredictor":
          case "mtp_decisionpoint@mtp-mtpredictor":
          case "mtp_ew_main@mtp-mtpredictor":
          case "mtp_ew_major@mtp-mtpredictor":
          case "mtp_ew_minor@mtp-mtpredictor":
          case "mtp_wpt_down1ora@mtp-mtpredictor":
          case "mtp_wpt_down2orb@mtp-mtpredictor":
          case "mtp_wpt_down3@mtp-mtpredictor":
          case "mtp_wpt_down4@mtp-mtpredictor":
          case "mtp_wpt_down5@mtp-mtpredictor":
          case "mtp_wpt_downc@mtp-mtpredictor":
          case "mtp_wpt_up1ora@mtp-mtpredictor":
          case "mtp_wpt_up2orb@mtp-mtpredictor":
          case "mtp_wpt_up3@mtp-mtpredictor":
          case "mtp_wpt_up4@mtp-mtpredictor":
          case "mtp_wpt_up5@mtp-mtpredictor":
          case "mtp_wpt_upc@mtp-mtpredictor":
            return !0;
          default:
            return !1
        }
      }

      function r(e) {
        var t = s.get(e);
        if (void 0 === t) throw new Error("There is no line tool name, associated with study id " + e);
        return t
      }
      i.r(t), i.d(t, "extractStudyId", function () {
        return n
      }), i.d(t, "isPointsBasedStudy", function () {
        return o
      }), i.d(t, "lineToolNameForPointsBasedStudy", function () {
        return r
      });
      var s = new Map([
        ["VbPFixed@tv-volumebyprice", "LineToolVbPFixed"],
        ["RegressionTrend@tv-basicstudies", "LineToolRegressionTrend"],
        ["mtp_tsanalysis@mtp-mtpredictor", "LineStudyMtpAnalysis"],
        ["mtp_riskreward@mtp-mtpredictor", "LineStudyMtpRiskReward"],
        ["mtp_decisionpoint@mtp-mtpredictor", "LineStudyMtpDecisionPoint"],
        ["mtp_ew_main@mtp-mtpredictor", "LineStudyMtpElliotWaveMain"],
        ["mtp_ew_major@mtp-mtpredictor", "LineStudyMtpElliotWaveMajor"],
        ["mtp_ew_minor@mtp-mtpredictor", "LineStudyMtpElliotWaveMinor"],
        ["mtp_wpt_down1ora@mtp-mtpredictor", "LineStudyMtpDownWave1OrA"],
        ["mtp_wpt_down2orb@mtp-mtpredictor", "LineStudyMtpDownWave2OrB"],
        ["mtp_wpt_down3@mtp-mtpredictor", "LineStudyMtpDownWave3"],
        ["mtp_wpt_down4@mtp-mtpredictor", "LineStudyMtpDownWave4"],
        ["mtp_wpt_down5@mtp-mtpredictor", "LineStudyMtpDownWave5"],
        ["mtp_wpt_downc@mtp-mtpredictor", "LineStudyMtpDownWaveC"],
        ["mtp_wpt_up1ora@mtp-mtpredictor", "LineStudyMtpUpWave1OrA"],
        ["mtp_wpt_up2orb@mtp-mtpredictor", "LineStudyMtpUpWave2OrB"],
        ["mtp_wpt_up3@mtp-mtpredictor", "LineStudyMtpUpWave3"],
        ["mtp_wpt_up4@mtp-mtpredictor", "LineStudyMtpUpWave4"],
        ["mtp_wpt_up5@mtp-mtpredictor", "LineStudyMtpUpWave5"],
        ["mtp_wpt_upc@mtp-mtpredictor", "LineStudyMtpUpWaveC"]
      ])
    },
    cKqi: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._source = e, this._model = t, this._points = [new s(0, 0)], this._lineRenderer = new T
      }

      function o(e) {
        return null == e[TradingView.OPEN_PLOT]
      }

      function r(e, t, i, n) {
        this._waterlineView = null, l.call(this, e, t, i, n), this.m_data = new k(D(), o), this._formatter = null, this._paneView = null;
        var r = this;
        this.properties().minTick.listeners().subscribe(null, function () {
            r._recreateFormatter(), r.updateAllViews(), r._model.invalidate(new C(C.FULL_UPDATE))
          }), this.properties().style.listeners().subscribe(this, this._updateBarFunction), this.properties().lineStyle.priceSource.listeners().subscribe(this, this._updateBarFunction),
          this.properties().areaStyle.priceSource.listeners().subscribe(this, this._updateBarFunction), this.properties().baselineStyle.priceSource.listeners().subscribe(this, this._updateBarFunction), this._updateBarFunction(), this._quotesProvider = new R, V && this._quotesProvider.quotesUpdate().subscribe(this, this._onQuotesUpdate)
      }
      var s = i("aO4+").Point,
        a = i("qJq3").Series,
        l = i("GVHu").Study,
        c = i("k9/m").PlotRowSearchMode,
        u = i("FBsw").OverlayPriceAxisView,
        h = i("KtbP").PanePriceAxisView,
        d = i("x0JF"),
        p = d.SeriesAreaPaneView,
        f = d.SeriesLinePaneView,
        _ = d.SeriesHollowCandlesPaneView,
        m = d.SeriesCandlesPaneView,
        g = d.SeriesBarsPaneView,
        y = d.SeriesBaselinePaneView,
        v = i("biIa").SeriesWaterlinePaneView,
        S = i("i3nr").OverlayStatusView,
        b = i("JjUe").OverlayDataWindowView,
        w = i("z8/4").OverlayLegendView,
        P = i("38az").SeriesBarColorer,
        T = i("l4sv").HorizontalLineRenderer,
        C = i("HvwJ"),
        x = i("hayr").propertyPages,
        E = i("Kxc7"),
        I = i("6sst").OverlayStudyPriceLineAxisView,
        A = i("Qb4w").PriceRange,
        L = i("XPit").barFunction,
        D = i("XPit").seriesPlotFunctionMap,
        k = i("k9/m").PlotList,
        O = i("n5al").createSeriesFormatter,
        M = i("n5al").extractSymbolNameFromSymbolInfo,
        R = i("wOSo").QuotesProvider,
        V = i("qFKp").CheckMobile.any() && !0,
        B = !E.enabled("hide_study_overlay_legend_item"),
        N = E.enabled("uppercase_instrument_names"),
        F = i("uOxu").getLogger("Chart.StudyOverlay"),
        W = E.enabled("study_overlay_compare_legend_option");
      n.prototype.update = function () {
          if (this._visible = !1, this._source.properties().showPriceLine.value()) {
            var e = this._source.lastValueData(void 0, !0);
            e.noData || (this._visible = !0, this._points = [new s(0, e.coordinate)], this._color = e.color)
          }
        }, n.prototype.renderer = function () {
          var e = {};
          return e.width = this._model.timeScale().width(), e.height = this._source.priceScale().height(), e.points = this._points, e.color = this._color, e.linewidth = 1, e.linestyle = CanvasEx.LINESTYLE_DOTTED, e.visible = this._visible, this._lineRenderer.setData(e), this._lineRenderer
        }, inherit(r, l), r.prototype._showLastValueOnPriceScale = function () {
          return this._model.properties().scalesProperties.showSeriesLastValue.value()
        }, r.prototype.symbol = function () {
          var e, t = this.properties().inputs.symbol.value(),
            i = this._resolvedSymbols ? this._resolvedSymbols[t] : null;
          return e = i ? i.name : t, N ? e.toUpperCase() : e
        }, r.prototype.lastValueData = function (e, t, i) {
          var n, o, r, s, l, u, h, d, p, f, _, m, g, y = {
            noData: !0
          };
          if (this._model.timeScale().isEmpty() || null == this.priceScale() || this.priceScale().isEmpty() || this.data().isEmpty()) return y;
          if (null === (n = this._model.timeScale().visibleBarsStrictRange())) return y;
          if (!this.properties().visible.value()) return y;
          if (null == (o = this.nearestIndex(n.lastBar(), c.NearestLeft))) return y;
          if (s = null !== (r = this._lastNonEmptyPlotRow(TradingView.CLOSE_PLOT)) && n.contains(r.index), l = null !== r ? r.value : null, null === (u = t || s ? l : this.data().valueAt(o))) return y;
          if (h = this._barFunction(u), !isNumber(h)) return y;
          if (d = {
              noData: !1
            }, i && (d.price = h), !(p = this.firstValue())) return y;
          switch (d.text = this.priceScale().formatPrice(h, p), d.text = this.priceScale().formatPrice(h, p), d.formattedPriceAbsolute = this.priceScale().formatPriceAbsolute(h),
            d.formattedPricePercentage = this.priceScale().formatPricePercentage(h, p), d.floatCoordinate = this.priceScale().priceToCoordinate(h, p, !0), d.coordinate = Math.round(d.floatCoordinate), d.item = u, (f = this.properties()).style.value()) {
            case a.STYLE_BARS:
              d.color = u[TradingView.OPEN_PLOT] <= u[TradingView.CLOSE_PLOT] ? f.barStyle.upColor.value() : f.barStyle.downColor.value();
              break;
            case a.STYLE_CANDLES:
            case a.STYLE_HOLLOW_CANDLES:
              d.color = u[TradingView.OPEN_PLOT] <= u[TradingView.CLOSE_PLOT] ? f.candleStyle.upColor.value() : f.candleStyle.downColor.value();
              break;
            case a.STYLE_LINE:
              d.color = f.lineStyle.color.value();
              break;
            case a.STYLE_AREA:
              d.color = f.areaStyle.color1.value();
              break;
            case a.STYLE_BASELINE:
              _ = f.baselineStyle, m = this.priceScale(), g = Math.round(m.height() * (Math.abs(100 - _.baseLevelPercentage.value()) / 100)), d.color = d.coordinate < g ? f.baselineStyle.topLineColor.value() : f.baselineStyle.bottomLineColor.value()
          }
          return d
        }, r.prototype.firstValue = function () {
          var e, t, i = this._model.timeScale().visibleBarsStrictRange();
          return null === i ? null : (e = i.firstBar(), 0 === this.data().size() ? null : null !== (t = this.data().search(e, c.NearestRight, !0)) ? this._barFunction(t.value) : null)
        }, r.prototype.barFunction = function () {
          return this._barFunction
        }, r.prototype._updateBarFunction = function () {
          var e = this.priceSource() || "close";
          this._barFunction = L(e)
        }, r.prototype.priceSource = function () {
          switch (this._properties.style.value()) {
            case a.STYLE_LINE:
              return this._properties.lineStyle.priceSource.value();
            case a.STYLE_AREA:
              return this._properties.areaStyle.priceSource.value();
            case a.STYLE_BASELINE:
              return this._properties.baselineStyle.priceSource.value()
          }
          return null
        }, r.prototype.priceRange = function (e, t) {
          var i, n, o;
          if (TradingView.isInteger(e)) {
            if (TradingView.isInteger(t)) return 0 === this.m_data.size() ? null : (o = null !== (n = null !== (i = this.priceSource()) ? this.m_data.minMaxOnRangeCached(e, t, [{
              name: i,
              offset: 0
            }]) : this.m_data.minMaxOnRangeCached(e, t, [{
              name: "low",
              offset: 0
            }, {
              name: "high",
              offset: 0
            }])) ? new A(n.min, n.max) : null, this._postProcessPriceRange(o));
            F.logDebug("priceRange: incorrect endBar")
          } else F.logDebug("priceRange: incorrect startBar")
        }, r.prototype.createViews = function () {
          var e, t, i;
          switch (this._priceAxisViews = [], e = new u(this), this._priceAxisViewsBase = [e], t = new I(this), this._priceLinesAxisViews = [t], this._paneViews = [], i = null, this._properties.style.value()) {
            case a.STYLE_BARS:
              i = new g(this, this._model);
              break;
            case a.STYLE_CANDLES:
              i = new m(this, this._model);
              break;
            case a.STYLE_HOLLOW_CANDLES:
              i = new _(this, this._model);
              break;
            case a.STYLE_LINE:
              i = new f(this, this._model);
              break;
            case a.STYLE_AREA:
              i = new p(this, this._model);
              break;
            case a.STYLE_BASELINE:
              i = new y(this, this._model), this._waterlineView = new v(this)
          }
          i && this._paneViews.push(i), null !== this._waterlineView && this._paneViews.push(this._waterlineView), this._paneViews.push(new n(this, this._model)), this._dataWindowView || (this._dataWindowView = new b(this, this._model)), this._legendView || (this._legendView = new w(this, this._model)), this._statusView || (this._statusView = new S(this, this._model.properties().scalesProperties.textColor)),
            this._priceAxisViews = [].concat(this._priceAxisViewsBase, this._hlinesPriceAsisViews, this._horizlinesPriceAsisViews), this._paneViews.push(new h(e, this, this._model))
        }, r.prototype.barColorer = function () {
          return new P(this)
        }, r.prototype.start = function (e) {
          this._formatter = null, l.prototype.start.apply(this, arguments), this.priceScale() && this.priceScale().updateFormatter(), V && this._setQuotesSymbol(this.symbol())
        }, r.prototype._tryCreateFormatter = function () {
          var e = this.properties().inputs.symbol.value(),
            t = this._resolvedSymbols[e];
          return O(t, this.properties().minTick.value())
        }, r.prototype.formatter = function () {
          return this._formatter || this._recreateFormatter(), this._formatter
        }, r.prototype._tryChangeInputs = function () {
          l.prototype._tryChangeInputs.call(this), this.m_formatter = null, this.priceScale().updateFormatter()
        }, r.prototype.title = function (e, t, i, n) {
          var o, r = this.properties().inputs.symbol.value(),
            s = this._resolvedSymbols[r];
          return s ? (o = W && "description" === this._model.mainSeries().properties().statusViewStyle.symbolTextSource.value() ? s.description : s.name, !n && s.exchange && 0 !== s.exchange.length && (o += ", " + s.exchange)) : o = r, N ? o.toUpperCase() : o
        }, r.prototype.bars = function () {
          return this.m_data
        }, r.prototype.open = function (e) {
          return this.bars().valueAt(e)[TradingView.OPEN_PLOT]
        }, r.prototype.high = function (e) {
          return this.bars().valueAt(e)[TradingView.HIGH_PLOT]
        }, r.prototype.low = function (e) {
          return this.bars().valueAt(e)[TradingView.LOW_PLOT]
        }, r.prototype.close = function (e) {
          return this.bars().valueAt(e)[TradingView.CLOSE_PLOT]
        }, r.prototype.hl2 = function (e) {
          return (this.high(e) + this.low(e)) / 2
        }, r.prototype.hlc3 = function (e) {
          return (this.high(e) + this.low(e) + this.close(e)) / 3
        }, r.prototype.ohlc4 = function (e) {
          return (this.open(e) + this.high(e) + this.low(e) + this.close(e)) / 4
        }, r.prototype.symbolInfo = function () {
          if (!this._resolvedSymbols) return null;
          var e = this._properties.inputs.symbol.value();
          return e ? this._resolvedSymbols[e] : null
        }, r.prototype._onSymbolResolved = function (e) {
          V && this._setQuotesSymbol(e)
        }, r.prototype._setQuotesSymbol = function (e) {
          var t = this.symbolInfo(),
            i = M(t, e);
          this._quotesProvider.setQuotesSessionSymbol(i)
        }, r.prototype.stop = function (e) {
          l.prototype.stop.call(this, e), this._quotesProvider.setQuotesSessionSymbol(null)
        }, r.prototype.quotes = function () {
          return this._quotesProvider.quotes()
        }, r.prototype._onQuotesUpdate = function (e, t) {
          this._legendView && void 0 !== t.values.prev_close_price && (this._legendView.update(), this._model.updateSource(this))
        }, r.prototype.destroy = function () {
          this._quotesProvider.quotesUpdate().unsubscribeAll(this), this._quotesProvider.destroy(), l.prototype.destroy.call(this)
        }, r.prototype.lastPriceLabelFixedCoordinate = function () {
          return this._priceAxisViews[0]._fixedCoordinate
        }, r.prototype.tags = function () {
          var e = [],
            t = this.symbolInfo();
          return t ? e.push(t.name) : this._properties.inputs.symbol.value() && e.push(this._properties.inputs.symbol.value()), e
        }, r.prototype.statusView = function () {
          return B ? l.prototype.statusView.call(this) : null
        }, r.prototype.getStylesPropertyPage = function () {
          return x.StudyOverlayStylesPropertyPage
        },
        r.prototype.defaultPlotIdForAlert = function () {
          return ""
        }, t.study_Overlay = r
    },
    cUIH: function (e) {
      e.exports = {
        "color-toolbar-button-text-active": "color-seeking-alpha-brand"
      }
    },
    cWHH: function (e, t, i) {
      "use strict";
      (function (t, n, o, r) {
        function s(e, i, o, r, c, u, h, d) {
          var f, _, m;
          for (p.call(this), d = Object.assign({}, l, d), this._version = s.version, this._readOnly = d.readOnly, this._undoModel = u, this._studiesMetaInfoRepository = c, this._properties = o, this._modelIntervals = [], this._isSnapshot = d.isSnapshot, this._rendererOptionsProvider = new ie(this), this._fgCustomSources = [], this._bgCustomSources = [], this._allCustomSources = [], this._customSourcesMap = new Map, this.setStudiesMetaData(this._studiesMetaInfoRepository.getInternalMetaInfoArray(), this._studiesMetaInfoRepository.getMigrations()), t.enabled("alerts") && this._studiesMetaInfoRepository.requestAlertsMetaInfo().then(function (e) {
              this.setAlertsStudiesList(e)
            }.bind(this)), this._sourcesBeingMoved = [], this._lineBeingCreated = null, this._lineBeingEdited = null, this._linePointBeingEdited = null, Y.init(), f = this, this.m_panes = [], this.m_gridSource = new C, this.m_crossHairSource = new w(this, Y.properties(), d.crossHairOptions), this.m_crossHairSource.selectBarMode().subscribe(function (e) {
              if (e && f.lineBeingCreated()) {
                var t = Y.tool.value();
                f.cancelCreatingLine(), Y.tool.setValue(t)
              }
            }), this.m_width = 0, this._tagsChanged = new n, this._lineCancelled = new n, this._magnet = new x(Y.properties().magnet, Y.properties().magnetMode), (_ = new q("chartproperties.mainSeriesProperties")).addExclusion("minTick"), _.addExclusion("priceAxisProperties.lockScale"), _.addExclusion("priceAxisProperties.percentage"), _.addExclusion("priceAxisProperties.log"), this._chartApi = e, this._invalidateHandler = i, _.merge(o.mainSeriesProperties.state()), this.m_mainSeries = new z(this, _, r), this.m_timeScale = new E(this, d.timeScale), this.createPane(void 0, {
              axisProperties: _.priceAxisProperties.state(["autoScale"])
            }), this.m_panes[0]._stretchFactor = 2 * P.DEFAULT_STRETCH_FACTOR, this.m_panes[0]._isMainPane = !0, this._selection = new ee, this._selectedSourceChanged = new n, this.m_hoveredSource = null, this._properties.listeners().subscribe(this, s.prototype.propertyChangeHandler), this._properties.timezone.listeners().subscribe(null, function () {
              f._chartApi && f._chartApi.connected() && f._chartApi.switchTimezone(f.timezone())
            }), this.m_timeScale.defaultRightOffsetProperty().listeners().subscribe(null, function () {
              f.recalculateAllPanes()
            }), this.m_panes[0].addDataSource(this.m_mainSeries, this.m_panes[0].findSuitableScale(this.m_mainSeries)), this._mainSeriesScaleRatioProperty = new Q(this), this.m_mainSeries.dataEvents().completed().subscribe(this, function () {
              if (this.crossHairSource().update(), this._scrollingState && this.gotoTime(), t.enabled("fix_left_edge") && this.m_mainSeries.endOfData()) {
                var e = this.m_mainSeries.bars().first();
                null !== e && this.m_timeScale.setLeftEdgeFix(e.index)
              }
            }.bind(this)), this.m_mainSeries.onIntervalChanged().subscribe(this, function () {
              this._oldStartVisibleIndex = -1, this._oldEndVisibleIndex = -1
            }), this.m_mainSeries.dataEvents().barReceived().subscribe(this, s.prototype.updateTimeScaleBaseIndex),
            this.m_mainSeries.properties().symbol.listeners().subscribe(this, this.setPriceAutoScaleForAllMainSources), this._readOnly || (_.addChild("priceAxisProperties", this.m_mainSeries.m_priceScale.properties()), this._properties.paneProperties.legendProperties.showStudyTitles.listeners().subscribe(this, function (e) {
              e.value() || f._properties.paneProperties.legendProperties.showStudyArguments.setValue(!1)
            })), this._barsMarksSources = h(this), m = 0; m < this._barsMarksSources.length; m++) this._barsMarksSources[m].setOwnerSource(this.m_mainSeries);
          this._syncPointCache = {}, this.m_watermarkSource = d.watermarkEnabled ? new T(this, this.m_mainSeries) : null, t.enabled("alerts") && !this.readOnly() && (this._alertsList = null, this._initAlertsList()), this._oldStartVisibleIndex = -1, this._oldEndVisibleIndex = -1, this._currentTool = "", Y.hideAllDrawings().subscribe(this, this._onDrawingsVisibilityChanged), this._properties.scalesProperties.listeners().subscribe(this, s.prototype.fullUpdate), this._id = X.guid(), this._studyInserted = new n, this._chartThemeLoaded = new n, this._resetScales = new n, this._isScalesResetAvailableChanged = new n, this._isScalesResetAvailable = !1, this._studyShiftColorStartOffset = void 0, this._linePointBeingEdited = null, this._lineBeingEdited = null, this._lineBeingCreated = null, ge.subscribe(this, this._updateDateTimeFormatter), this.mainSeries().properties().interval.subscribe(this, this._updateDateTimeFormatter), this._updateDateTimeFormatter(), this._sessions = null, this._studyColorRotatorFactory = new a(this)
        }
        var a, l, c = i("Eyy1").assert,
          u = i("Eyy1").ensureNotNull,
          h = i("aO4+").Point,
          d = i("eJTA"),
          p = i("gP14").ChartModelBase,
          f = d.parseRgb,
          _ = d.rgbToBlackWhiteString,
          m = i("CW80"),
          g = m.createLineTool,
          y = m.createLineToolProperties,
          v = m.isLineToolName,
          S = m.isLineTool,
          b = m.isStudyLineTool,
          w = i("2+aH").CrossHair,
          P = i("iDOr").Pane,
          T = i("rY0k").Watermark,
          C = i("hY3j").Grid,
          x = i("/jjs").Magnet,
          E = i("kZlT").TimeScale,
          I = i("fTGZ").BarsMarksContainer,
          A = i("qFKp").CheckMobile,
          L = i("LBej"),
          D = i("1gmO").AlertLabel,
          k = i("ZPGM"),
          O = i("HvwJ"),
          M = i("GVHu"),
          R = M.Study,
          V = i("Qq0B").NonSeriesStudy,
          B = i("3ClC"),
          N = B.createStudy,
          F = B.isStudy,
          W = M.prepareStudyProperties,
          U = i("K4L1"),
          H = i("8sOK").StudyStub,
          j = i("k9/m").PlotRowSearchMode,
          z = i("qJq3").Series,
          Y = i("mMWL"),
          q = i("Ocx9").DefaultProperty,
          G = i("Qtjj").TimeSynchronizer,
          X = i("0waE"),
          K = i("uOxu").getLogger("Chart.ChartModel"),
          J = i("FQhm"),
          Q = i("Y5iK").MainSeriesScaleRatioProperty,
          Z = i("FaJS").scaleRatio,
          ee = i("MROS").ModelSelection,
          te = i("Y7w9").subtract,
          ie = i("VgjZ").PriceAxisRendererOptionsProvider,
          ne = i("KnF9").EnvironmentState,
          oe = i("EsvI").getStdThemedValue,
          re = i("eJTA"),
          se = i("Ai40"),
          ae = se.study_ESD$TV_EARNINGS,
          le = se.study_ESD$TV_SPLITS,
          ce = se.study_ESD$TV_DIVIDENDS,
          ue = i("XPit").SeriesData,
          he = i("k9/m").PlotList,
          de = i("EQCO").alertBandFactory,
          pe = i("/YGI").StudyInserter,
          fe = i("PC8g").trackEvent,
          _e = i("MbIA").DateTimeFormatter,
          me = i("gQ5K").DateFormatter,
          ge = i("ZZnO").dateFormatProperty,
          ye = i("KUek").Sessions,
          ve = i("vTIA").CustomSourceLayer;
        J = i("FQhm"), a = i("i126").StudyColorRotatorFactory, l = {
            isSnapshot: !1,
            readOnly: !1,
            watermarkEnabled: !0
          }, inherit(s, p), s.prototype.applyPreferences = function (e) {
            for (var t in e) void 0 !== this._properties[t] && "m_mainSeries" !== this._properties[t] && this._properties[t].mergeAndFire(e[t]);
            void 0 !== e.timeScale && this.m_timeScale.defaultRightOffsetProperty().setValue(e.timeScale.defaultRightOffset), this._properties.saveDefaults(), this.m_mainSeries.applyPreferences(e.mainSeries), this.sessions().applyPreferences(e.sessions), this.recalculateAllPanes(), this.invalidate(new O(O.FULL_UPDATE))
          }, s.prototype.setStudiesMetaData = function (e, t) {
            this._studiesMetaData = e, this._studyVersioning = new U(this._studiesMetaData, t)
          }, s.prototype.isSnapshot = function () {
            return this._isSnapshot
          }, s.prototype.currentTool = function () {
            return this._currentTool
          }, s.prototype.setCurrentTool = function (e) {
            this._currentTool = e
          }, s.prototype.timezone = function () {
            return this._properties.timezone.value()
          }, s.prototype.version = function () {
            return this._version
          }, s.prototype.initConnection = function () {
            this._chartApi.switchTimezone(this.timezone())
          }, s.prototype._paneInvalidationMask = function (e, t) {
            var i = new O,
              n = this.m_panes.indexOf(e);
            return void 0 === t && (t = O.LIGHT_UPDATE), i.invalidatePane(n, t), i
          }, s.prototype.updatePane = function (e) {
            var t = this._paneInvalidationMask(e);
            this.invalidate(t)
          }, s.prototype.fullUpdate = function () {
            this.invalidate(new O(O.FULL_UPDATE))
          }, s.prototype.lightUpdate = function () {
            this.invalidate(new O(O.LIGHT_UPDATE))
          }, s.prototype.updateSource = function (e) {
            var t = this._invalidationMaskForSource(e);
            this.invalidate(t)
          }, s.prototype.studiesMetaData = function () {
            return this._studiesMetaData
          }, s.prototype.studyVersioning = function () {
            return this._studyVersioning
          }, s.prototype.disconnect = function () {
            var e, t, i;
            for (this.sessions().stop(), e = this.dataSources(), i = 0; i < e.length; i++)(t = e[i]).disconnect && t.disconnect()
          }, s.prototype.restart = function () {
            var e, t, i;
            for (this.initConnection(), this.m_timeScale.reset(), this.m_mainSeries.restart(), e = this.dataSources(), t = 0; t < e.length; t++)(i = e[t]).restart && i !== this.m_mainSeries && i.restart();
            this.sessions().restart()
          }, s.prototype.startNotStartedStudies = function () {
            var e, t;
            if (!this.m_mainSeries.isStarted()) throw new Error("Cannot start studies: main series is not started");
            for (e = this.dataSources(), t = 0; t < e.length; t++) F(e[t]) && !e[t].isStarted() && e[t].restart && e[t] !== this.m_mainSeries && e[t].restart()
          }, s.prototype.updateLineTools = function () {
            var e, t, i = this.dataSources();
            for (e = 0; e < i.length; e++) S(i[e]) && ((t = i[e]).tryCreateServerPoints(), t.checkAlert && t.checkAlert())
          }, s.prototype.realignLineTools = function () {
            var e, t = this.dataSources();
            for (e = 0; e < t.length; e++) S(t[e]) && t[e].calcIsActualSymbol();
            for (e = 0; e < this.m_panes.length; e++) this.m_panes[e].invalidateSourcesCache()
          }, s.prototype.readOnly = function () {
            return this._readOnly
          }, s.prototype.properties = function () {
            return this._properties
          }, s.prototype.lineCancelled = function () {
            return this._lineCancelled
          }, s.prototype.crossHairMoved = function () {
            return this.m_crossHairSource.moved()
          }, s.prototype.chartApi = function () {
            return this._chartApi
          }, s.prototype.isPropertyDefault = function (e, t, i) {
            return re.areEqualRgba(re.parseRgba(oe(e, i)), re.parseRgba(t))
          }, s.prototype.propertyChangeHandler = function () {
            this.invalidate(new O(O.LIGHT_UPDATE))
          }, s.prototype._onDrawingsVisibilityChanged = function (e) {
            var t, i, n, o = !1 === e.value(),
              r = this.dataSources();
            for (t = 0; t < r.length; t++) i = r[t], n = S(i) && i.properties().visible.value(), o && n ? J.emit("drawing_event", i.id(), "show") : !o && n && J.emit("drawing_event", i.id(), "hide");
            this.selectionMacro(function (e) {
              e.clearSelection()
            })
          }, s.prototype.updateAllPaneViews = function () {
            var e;
            for (e = 0; e < this.m_panes.length; e++) this.m_panes[e].updateAllViews()
          }, s.prototype.mainSeries = function () {
            return this.m_mainSeries
          }, s.prototype.timeScale = function () {
            return this.m_timeScale
          }, s.prototype.panes = function () {
            return this.m_panes
          }, s.prototype.gridSource = function () {
            return this.m_gridSource
          }, s.prototype.watermarkSource = function () {
            return this.m_watermarkSource
          }, s.prototype.crossHairSource = function () {
            return this.m_crossHairSource
          }, s.prototype.publishedChartsTimelineSource = function () {
            for (var e = 0; e < this._barsMarksSources.length; ++e)
              if (this._barsMarksSources[e] instanceof L) return this._barsMarksSources[e];
            return null
          }, s.prototype.barsMarksSources = function () {
            return this._barsMarksSources
          }, s.prototype.width = function () {
            return this.m_width
          }, s.prototype.setPaneHeight = function (e, t) {
            e.setHeight(t), this.recalculateAllPanes(), this.invalidate(new O(O.LIGHT_UPDATE))
          }, s.prototype.setWidth = function (e) {
            var t;
            for (this.m_width = e, this.m_timeScale.setWidth(this.m_width), t = 0; t < this.m_panes.length; ++t) this.m_panes[t].setWidth(e);
            this.recalculateAllPanes(), this.recalcVisibleRangeStudy(this.dataSources())
          }, s.prototype.createPane = function (e, t) {
            var i, n;
            if (this._undoModel._chartWidget.isMaximizedPane() && this._undoModel._chartWidget.toggleMaximizePane(), i = this._properties.paneProperties, t && i.merge(t), n = new P(this.m_timeScale, i, this), "number" == typeof e && isFinite(e)) {
              if (e < 0 || e > this.m_panes.length) return void K.logDebug("ChartModel.createPane: invalid index: " + e);
              this.m_panes.splice(e, 0, n)
            } else this.m_panes.push(n);
            return n.onTagsChanged().subscribe(this, s.prototype.onPaneTagsChanged), n
          }, s.prototype.priceScaleSlotsCount = function () {
            var e, t, i, n, o = 0,
              r = 0;
            return this.m_panes.forEach(function (e) {
              o = Math.max(e.leftPriceScales().length, o), r = Math.max(e.rightPriceScales().length, r)
            }), e = o + r, A.any() ? (n = "right" === (i = (t = this.paneForSource(this.mainSeries())).priceScalePosition(this.mainSeries().priceScale())), "overlay" === i && (n = t.rightPriceScales().length > 0), n ? {
              left: 0,
              right: 1,
              totallySlots: e
            } : {
              left: 1,
              right: 0,
              totallySlots: e
            }) : {
              left: o,
              right: r,
              totallySlots: o + r
            }
          }, s.prototype.removePane = function (e) {
            var t;
            this._undoModel._chartWidget.isMaximizedPane() && this._undoModel._chartWidget.toggleMaximizePane(), e.destroy(), -1 !== (t = this.m_panes.indexOf(e)) && this.m_panes.splice(t, 1), this.crossHairSource().pane === e && this.clearCurrentPosition(), this.invalidate(new O(O.FULL_UPDATE))
          }, s.prototype.startScalePrice = function (e, t, i) {
            e.startScalePrice(t, i)
          }, s.prototype.scalePriceTo = function (e, t, i) {
            e.scalePriceTo(t, i), this.mainSeries().priceScale().isLockScale() ? this.invalidate(new O(O.LIGHT_UPDATE)) : this.invalidate(this._paneInvalidationMask(e, O.LIGHT_UPDATE)), this._setScalesResetAvailable(!0)
          },
          s.prototype.endScalePrice = function (e, t) {
            e.endScalePrice(t), this.invalidate(this._paneInvalidationMask(e, O.LIGHT_UPDATE))
          }, s.prototype.startScrollPrice = function (e, t, i) {
            e.startScrollPrice(t, i)
          }, s.prototype.scrollPriceTo = function (e, t, i) {
            e.scrollPriceTo(t, i), this.invalidate(this._paneInvalidationMask(e, O.LIGHT_UPDATE))
          }, s.prototype.endScrollPrice = function (e, t) {
            e.endScrollPrice(t), this.invalidate(this._paneInvalidationMask(e, O.LIGHT_UPDATE))
          }, s.prototype.setPriceAutoScale = function (e, t, i) {
            e.setPriceAutoScale(t, i), this.invalidate(this._paneInvalidationMask(e, O.LIGHT_UPDATE))
          }, s.prototype.restorePriceScaleState = function (e, t, i) {
            e.restorePriceScaleState(t, i), this.invalidate(this._paneInvalidationMask(e, O.LIGHT_UPDATE))
          }, s.prototype.resetPriceScale = function (e, t) {
            this._setScalesResetAvailable(!1), e.resetPriceScale(t), this.invalidate(this._paneInvalidationMask(e, O.LIGHT_UPDATE))
          }, s.prototype.updateScales = function (e, t) {
            this._undoModel._chartWidget._updateScalesActions()
          }, s.prototype.startScaleTime = function (e) {
            this.m_timeScale.startScale(e)
          }, s.prototype.mainSeriesScaleRatioProperty = function () {
            return this._mainSeriesScaleRatioProperty
          }, s.prototype.mainSeriesScaleRatioPropertyOnChanged = function () {
            this._mainSeriesScaleRatioProperty.listeners().fire(this._mainSeriesScaleRatioProperty)
          }, s.prototype.mainSeriesScaleRatio = function () {
            return Z(this.m_timeScale, this.m_mainSeries.priceScale())
          }, s.prototype.setMainSeriesScaleRatio = function (e) {
            this.paneForSource(this.m_mainSeries).applyPriceScaleRatio(this.m_mainSeries.priceScale(), e)
          }, s.prototype.scaleTimeTo = function (e) {
            this.m_timeScale.scaleTo(e), this.recalculateAllPanes(), this.invalidate(new O(O.LIGHT_UPDATE)), this._setScalesResetAvailable(!0)
          }, s.prototype.endScaleTime = function () {
            this.m_timeScale.endScale(), this.invalidate(new O(O.LIGHT_UPDATE)), this.mainSeries().requestMoreData(), this.recalcVisibleRangeStudy(this.dataSources())
          }, s.prototype.startScrollTime = function (e) {
            this.m_timeScale.startScroll(e), this._isTimeScrolling = !0
          }, s.prototype.scrollTimeTo = function (e) {
            this.m_timeScale.scrollTo(e), this.recalculateAllPanes(), this.updateCrossHair(), this.invalidate(new O(O.LIGHT_UPDATE)), this._setScalesResetAvailable(!0)
          }, s.prototype.endScrollTime = function () {
            this.m_timeScale.endScroll(), this.invalidate(new O(O.LIGHT_UPDATE)), this.mainSeries().requestMoreData(), this.recalcVisibleRangeStudy(this.dataSources()), this._isTimeScrolling = !1
          }, s.prototype.recalcStudyBasedLineTools = function () {
            this.dataSources().forEach(function (e) {
              b(e) && e.recalcStudyIfNeeded && e.recalcStudyIfNeeded()
            })
          }, s.prototype.recalcVisibleRangeStudy = function (e, t) {
            void 0 !== this._recalcVRTimerId && clearTimeout(this._recalcVRTimerId);
            var i = this;
            this._recalcVRTimerId = setTimeout(function () {
              i._recalcVisibleRangeStudy(e, t)
            }, 500)
          }, s.prototype._recalcVisibleRangeStudy = function (e, t) {
            var i, n, o, r, s, a, l, c, u, h, d, p, f, _, m, g;
            if (!this.timeScale().isEmpty() && (i = this.timeScale().visibleBarsStrictRange(), n = this.mainSeries().nearestData(i.firstBar(), j.NearestRight), o = this.mainSeries().nearestData(i.lastBar(), j.NearestLeft), r = this.mainSeries().bars().lastIndex(),
                s = n ? n.index : void 0, a = o ? o.index : void 0, l = s === this._oldStartVisibleIndex, c = a === this._oldEndVisibleIndex, !l || !c || t))
              for (this._oldStartVisibleIndex = s, this._oldEndVisibleIndex = a, u = {
                  first_visible_bar_time: 1e3 * Math.floor(n && n.value ? n.value[TradingView.TIME_PLOT] : 0),
                  last_visible_bar_time: 1e3 * Math.floor(o && o.value ? o.value[TradingView.TIME_PLOT] : 0),
                  subscribeRealtime: o && o.index === r
                }, h = 0; h < e.length; h++)
                if (F(e[h])) {
                  for (p = (d = e[h]).metaInfo().inputs, f = [], _ = 0; _ < p.length; _++) u.hasOwnProperty(p[_].id) && f.push(p[_].id);
                  for (m = d.properties().inputs, _ = 0; _ < f.length; _++) m[g = f[_]].setValueSilently(u[g]);
                  f.length > 0 && m.listeners().fire(m)
                }
          }, s.prototype.onResetScales = function () {
            return this._resetScales
          }, s.prototype.resetTimeScale = function () {
            this.m_timeScale.restoreDefault(), this.recalculateAllPanes(), this.mainSeries().requestMoreData(), this.recalcVisibleRangeStudy(this.dataSources()), this.updateCrossHair(), this.invalidate(new O(O.LIGHT_UPDATE)), this._resetScales.fire(), this._setScalesResetAvailable(!1)
          }, s.prototype.restoreTimeScaleState = function (e) {
            this.m_timeScale.restoreState(e), this.recalculateAllPanes(), this.updateCrossHair(), this.invalidate(new O(O.LIGHT_UPDATE)), this._setScalesResetAvailable(!0)
          }, s.prototype.restoreFactoryDefaults = function (e) {
            e.restoreFactoryDefaults(), this.recalcVisibleRangeStudy(this.dataSources(), !0)
          }, s.prototype.selectionMacro = function (e) {
            var t, i, n = this.selection().sources();
            e(this), t = te(n, this.selection().sources()), (i = te(this.selection().sources(), n)).concat(n).forEach(function (e) {
              e.updateAllViews()
            }), TradingView.alertsDispatcher && (t.filter(function (e) {
              return e.hasAlert.value()
            }).forEach(function (e) {
              e.getAlert({
                fromCache: !0
              }).done(function (e) {
                e && e.set("selected", !1)
              })
            }), i.forEach(function (e) {
              e.hasAlert.value() && e.getAlert({
                fromCache: !0
              }).done(function (e) {
                e && e.set("selected", !0)
              })
            })), (new O).force = !0, this.invalidate(new O(O.LIGHT_UPDATE)), this.setHoveredSource(null), (t.length > 0 || i.length > 0) && this._selectedSourceChanged.fire()
          }, s.prototype.clearSelection = function () {
            this._selection.clear()
          }, s.prototype.removeSourceFromSelection = function (e) {
            this._selection.remove(e)
          }, s.prototype.addSourceToSelection = function (e, t) {
            var i = this._selection.isSelected(e);
            i && this._lastHittestData === t || e && e.customization && e.customization.disableSelection || (this._lastHittestData = t, i || this._selection.add(e))
          }, s.prototype.checkLineToolSelection = function () {
            this._selection.checkLineToolSelection()
          }, s.prototype.onSelectedSourceChanged = function () {
            return this._selectedSourceChanged
          }, s.prototype._invalidationMaskForSource = function (e, t) {
            if (void 0 === t && (t = O.LIGHT_UPDATE), this.m_watermarkSource === e) return this._paneInvalidationMask(this.paneForSource(this.mainSeries()), t);
            if (-1 !== this._allCustomSources.indexOf(e)) {
              var i = new O;
              return i.invalidateAll(t), i
            }
            return this._paneInvalidationMask(this.paneForSource(e), t)
          }, s.prototype.setHoveredSource = function (e, t) {
            if (this.m_hoveredSource !== e || this._lastHittestData !== t) {
              this._lastHittestData = t;
              var i = null;
              this.m_hoveredSource && (this.m_hoveredSource.updateAllViews(), i || (i = new O),
                TradingView.alertsDispatcher && this.m_hoveredSource.hasAlert && this.m_hoveredSource.hasAlert.value() && this.m_hoveredSource.getAlert({
                  fromCache: !0
                }).done(function (e) {
                  e && e.set("hovered", !1)
                }), i.merge(this._invalidationMaskForSource(this.m_hoveredSource, O.LIGHT_UPDATE))), this.m_hoveredSource = e, e && (e.updateAllViews(), i || (i = new O), i.merge(this._invalidationMaskForSource(e, O.LIGHT_UPDATE)), TradingView.alertsDispatcher && e.hasAlert && e.hasAlert.value() && e.getAlert({
                fromCache: !0
              }).done(function (e) {
                e && e.set("hovered", !0)
              })), i && this.invalidate(i)
            }
          }, s.prototype.selection = function () {
            return this._selection
          }, s.prototype.hoveredSource = function () {
            return this.m_hoveredSource
          }, s.prototype.lastHittestData = function () {
            return this._lastHittestData
          }, s.prototype.invalidate = function (e) {
            this._invalidateHandler && this._invalidateHandler(e)
          }, s.prototype.dataSources = function () {
            var e, t, i, n = [];
            for (n.push(this.m_crossHairSource), e = 0; e < this.m_panes.length; ++e)
              for (t = this.m_panes[e].dataSources(), i = 0; i < t.length; i++) n.push(t[i]);
            return n
          }, s.prototype.orderedDataSources = function (e) {
            var t, i, n = [];
            for (n.push(this.m_crossHairSource), t = 0; t < this.m_panes.length; t++) i = this.m_panes[t].orderedSources().slice(), e && i.reverse(), n = n.concat(i);
            return n
          }, s.prototype.dataSourceForId = function (e) {
            var t, i;
            for (i = 0; i < this.m_panes.length; ++i)
              if (t = this.m_panes[i].dataSourceForId(e)) return t;
            return null
          }, s.prototype.children = function (e, t) {
            return this.dataSources().filter(function (i) {
              return (!0 !== t || !F(i) || !i.isChildStudy()) && i.ownerSource() === e
            })
          }, s.prototype.setAndSaveCurrentPosition = function (e, t, i, n) {
            this.m_crossHairSource.saveOriginCoord(e, t), this.setCurrentPosition(e, t, i, n)
          }, s.prototype.setCurrentPosition = function (e, t, i, n) {
            var o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, S = NaN,
              b = Math.round(this.m_timeScale.coordinateToIndex(e));
            if (i && ((o = i.defaultPriceScale()).isEmpty() || (r = i.mainDataSource().firstValue(), S = o.coordinateToPrice(t, r))), this._isSettingsExternalPosition || !this._lineBeingCreated && !v(this.currentTool()) || (S = this._magnet.align(S, b, i)), this._isTimeScrolling) this.m_crossHairSource.setPosition(this.m_crossHairSource.index, S, i);
            else {
              for (this.m_crossHairSource.setOnHoveredChartWidget(!0), this.m_crossHairSource.setPosition(b, S, i), this.m_crossHairSource.dataWindowView().update(), a = (s = this.m_panes).length; a--;)
                for (c = (l = s[a].dataSources()).length; c--;)(u = l[c].dataWindowView()) && u.update(), (h = l[c].legendView()) && h.update();
              this._lineBeingCreated ? this._isSettingsExternalPosition || (this._lineBeingCreated.setLastPoint({
                  index: b,
                  price: S
                }, n), this._lineBeingCreated.updateAllViews(), this.invalidate(new O(O.LIGHT_UPDATE)), d = this._lineBeingCreated.lastPoint(), p = this.mainSeries().syncModel(), f = this.m_timeScale.points().roughTime(d.index, p.projectTime.bind(p)), Y.setLineToolLastPoint({
                  model: this,
                  linkKey: this._lineBeingCreated.linkKey,
                  symbol: this.mainSeries().symbol(),
                  point: {
                    timeStamp: f,
                    price: d.price
                  }
                })) : this.crossHairSource().startMeasurePoint() ? this.invalidate(new O(O.LIGHT_UPDATE)) : this.invalidate(new O(O.UPDATE_CURSOR_ONLY)),
                this._isSettingsExternalPosition || (_ = this._undoModel._chartWidget)._chartWidgetCollection && (p = this.mainSeries().syncModel()) && (m = {
                  timeStamp: f = this.m_timeScale.points().roughTime(b, p.projectTime.bind(p))
                }, (g = i.mainDataSource()) instanceof z && (m.price = S, m.symbol = g.symbol()), m.syncModel = p, y = (y = this._lineBeingCreated || null !== this._linePointBeingEdited || this._sourcesBeingMoved.length) && Y.drawOnAllCharts().value(), _._chartWidgetCollection.syncCrosshair(m, _, y, n))
            }
          }, s.prototype.clearCurrentPosition = function () {
            var e, t, i, n, o, r, s, a = this.crossHairSource();
            for (a.clearPosition(), a.dataWindowView().update(), t = (e = this.m_panes).length; t--;)
              for (n = (i = e[t].dataSources()).length; n--;)(o = i[n].dataWindowView()) && o.update(), (r = i[n].legendView()) && r.update();
            this.invalidate(new O(O.UPDATE_CURSOR_ONLY)), (s = this._undoModel._chartWidget)._chartWidgetCollection && s._chartWidgetCollection.syncCrosshair(NaN, s)
          }, s.prototype.onSyncScrollNeeded = function (e) {
            var t, i, n = this._undoModel._chartWidget;
            n._chartWidgetCollection && (t = this.mainSeries().syncModel()) && (i = 1e3 * this.m_timeScale.points().roughTime(e, t.projectTime.bind(t)), n._chartWidgetCollection.syncScroll(i, this))
          }, s.prototype.gotoTime = function (e, t) {
            var i, n, o, r, s, a, l, c, h = this.timeScale(),
              d = this.mainSeries();
            if (t && t.model && (i = d.syncModel()) && (n = this._createSyncPoint(t.model.mainSeries().syncModel(), i), e = 1e3 * n.sourceTimeToTargetTime(e / 1e3)), t = t || {
                centerIfVisible: !0
              }, e) this._scrollingState && this._scrollingState.deferred.reject(), o = $.Deferred(), this._scrollingState = {
              targetDate: e,
              deferred: o,
              centerIfVisible: t.centerIfVisible
            };
            else {
              if (!this._scrollingState) return K.logError("scrollTo called without an argument"), $.Deferred().reject().promise();
              e = this._scrollingState.targetDate, o = this._scrollingState.deferred
            }
            return (r = function (t) {
              var i, n, o, r, s;
              if (h.tickMarks().indexToTime(h.tickMarks().minIndex).valueOf() - e < 0) {
                for (i = h.tickMarks().nearestIndex(e), n = u(d.bars().lastIndex()), i = Math.min(i, n), o = h.tickMarks().indexToTime(i).valueOf(); o < e && i < n;) i++, o = h.tickMarks().indexToTime(i).valueOf();
                return s = (r = h.visibleBarsStrictRange()).lastBar() - r.firstBar(), !t && r.contains(i) || (h.zoomToBarsRange(i - s / 2, i + s / 2), d.requestMoreData()), {
                  timestamp: h.indexToTimePoint(i)
                }
              }
            }(this._scrollingState.centerIfVisible)) || (s = h.tickMarks().minIndex, l = (a = h.visibleBarsStrictRange()).lastBar() - a.firstBar(), d.endOfData() ? (h.zoomToBarsRange(s - l / 2, s + l / 2), r = {
              timestamp: h.indexToTimePoint(s),
              eod: !0
            }) : (c = this.timeScale().tickMarks().estimateLeft(e), d.requestMoreData(Math.ceil(c + l / 2)))), r && (this.fullUpdate(), this._scrollingState = null, o.resolve(r)), o.promise()
          }, s.prototype._createSyncPoint = function (e, t) {
            var i, n, o = this._syncPointCache[e.uniqueId()];
            if (o) {
              if (i = o[t.uniqueId()]) return i
            } else this._syncPointCache[e.uniqueId()] = {};
            return n = new G(e, t), this._syncPointCache[e.uniqueId()][t.uniqueId()] = n, n
          }, s.prototype.setExternalPosition = function (e, t) {
            var i, n, o, r, s, a, l, c, u, h, d, p = this.crossHairSource();
            if (p.setOnHoveredChartWidget(!1),
              !Number.isNaN(e) && isNumber(e.timeStamp) && (n = this.mainSeries().syncModel()) && (o = this._createSyncPoint(e.syncModel, n).sourceTimeToTargetTime(e.timeStamp), i = this.m_timeScale.points().roughIndex(o, n.distance.bind(n))), isFinite(i) && isFinite(e.price)) return this._isSettingsExternalPosition = !0, r = this.paneForSource(this.mainSeries()), s = this.m_timeScale.indexToCoordinate(i), a = r.mainDataSource().firstValue(), l = this.mainSeries().priceScale().priceToCoordinate(e.price, a, !0), this.setCurrentPosition(s, l, r, t || new ne), p.setOnHoveredChartWidget(!1), void delete this._isSettingsExternalPosition;
            for (isFinite(i) ? p.setPosition(i, NaN, null) : (p.clearPosition(), p.dataWindowView().update()), u = (c = this.dataSources()).length; u--;)(h = c[u].dataWindowView()) && h.update(), (d = c[u].legendView()) && d.update();
            this.invalidate(new O(O.UPDATE_CURSOR_ONLY))
          }, s.prototype.updateCrossHair = function () {
            this.m_crossHairSource.update()
          }, s.prototype.updateTimeScale = function (e, t, i, n, o, r) {
            var s, a, l;
            if (r)
              for (this.m_timeScale.reset(), s = this.dataSources(), a = 0; a < s.length; a++) s[a].clearData && s[a].clearData();
            if (n.length > 0)
              for (s = this.dataSources(), a = 0; a < s.length; a++) s[a].moveData && s[a].moveData(n);
            this.m_timeScale.update(e, t, i, o), l = "ChartModel.prototype.updateTimeScale(" + e + "," + t + "," + i.length + "," + n.length + "," + o.length + "," + r + ")", l += "TimeScale: {first:" + this.m_timeScale.m_points.firstIndex() + ",last:" + this.m_timeScale.m_points.lastIndex() + "}", K.logDebug(l), this.recalculateAllPanes(), this.invalidate(new O(O.LIGHT_UPDATE))
          }, s.prototype.updateTimeScaleBaseIndex = function (e) {
            var t, i, n, o, r, s, a = this.mainSeries().bars();
            a.isEmpty() || (i = (t = this.timeScale()).baseIndex(), n = u(a.lastIndex()), null !== (o = t.visibleBarsStrictRange()) && (r = o.contains(i), e && e.index > 0 && !r && (s = n - i, t.setRightOffset(t.rightOffset() - s))), t.setBaseIndex(n))
          }, s.prototype.recalculatePane = function (e) {
            e && e.recalculate()
          }, s.prototype.paneForSource = function (e) {
            for (var t = this.m_panes.length - 1; t >= 0; t--)
              if (-1 !== this.m_panes[t].dataSources().indexOf(e)) return this.m_panes[t];
            return e instanceof I ? this.paneForSource(this.m_mainSeries) : null
          }, s.prototype.recalculateAllPanes = function () {
            for (var e = 0; e < this.m_panes.length; ++e) this.m_panes[e].recalculate();
            this.updateAllPaneViews()
          }, s.prototype._invalidateBarColorerCaches = function () {
            var e, t, i = this.dataSources();
            for (e = 0; e < i.length; ++e)(t = i[e]) instanceof z && t.invalidateBarColorerCache()
          }, s.prototype.createStudyInserter = function (e) {
            return new pe(e, this._studiesMetaInfoRepository, {
              createStudy: this.insertStudyWithParams.bind(this)
            })
          }, s.prototype.insertStudyWithParams = function (e, t, i, n, o, r, s) {
            var a, l, c, u, h;
            return null !== o && void 0 !== o || (o = this.mainSeries()), a = null, n || e.is_price_study ? a = this.paneForSource(o) : (a = this.createPane(), void 0 !== s && a.setPaneSize(s)), "Compare@tv-basicstudies" === e.id && this.m_mainSeries.priceScale().setMode({
                log: !1,
                percentage: !0
              }), l = Object.assign({}, i, {
                inputs: t
              }), c = W(e, l, a, this.studyVersioning(), o), u = N(this, c, o, e), this._recalcVisibleRangeStudy([u], !0), u.start(), h = a.findSuitableScale(u, o, r), a.addDataSource(u, h),
              u.properties().linkedToSeries && u.properties().linkedToSeries.value() && u.setOwnerSource(this.mainSeries()), this.recalculatePane(a), this.invalidate(new O(O.FULL_UPDATE)), this._invalidateBarColorerCaches(), this.recalcVisibleRangeStudy(this.dataSources(), !0), this._studyInserted.fire(u), a.updateAlertLabelsSources(), u
          }, s.prototype.studyInserted = function () {
            return this._studyInserted
          }, s.prototype.replaceStudyStub = function (e, t) {
            var i, n, o, r = this.paneForSource(e);
            return null !== r && (i = e.priceScale(), n = e.zorder(), o = e.ownerSource(), r.insertDataSource(t, i, n), t.setOwnerSource(o), this.panes().forEach(function (i) {
              i.dataSources().forEach(function (i) {
                i._ownerSource === e && i.setOwnerSource(t)
              })
            }), this.removeSource(e), t.start(), this.recalculatePane(r), this.invalidate(new O(O.FULL_UPDATE)), !0)
          }, s.prototype.insertStudyStub = function (e) {
            var t = this.mainSeries(),
              i = this.paneForSource(t),
              n = new H(this, null, e),
              o = i.createPriceScaleAtPosition("overlay");
            return i.addDataSource(n, o), this.recalculatePane(i), this.invalidate(new O(O.FULL_UPDATE)), n
          }, s.prototype.removeStudyStub = function (e) {
            var t = this.dataSourceForId(e);
            return null === t ? (K.logNormal("StudyStub id=" + e + " is not found in chart model"), !1) : (this.removeSource(t), !0)
          }, s.prototype.detachSource = function (e, t) {
            var i = this.paneForSource(e);
            if (i) return i.removeDataSource(e), i.isEmpty() ? (this._lineBeingCreated && i === this._paneBeingCreatedLineOn && this.cancelCreatingLine(), this.removePane(i, t), !0) : (this.invalidate(new O(O.FULL_UPDATE)), this._alertsList && this._alertsList.trigger("reset"), !1)
          }, s.prototype.removeSource = function (e, t) {
            var i, n, o;
            if (this._selection.remove(e), this._sourcesBeingMoved.includes(e) && (this._sourcesBeingMoved = this._sourcesBeingMoved.filter(function (t) {
                return t !== e
              }), this._sourcesBeingMoved.length || (this._linePointBeingMoved = null)), e === this._lineBeingEdited && (this._lineBeingEdited = null), e === this._lineBeingCreated && (this._lineBeingCreated = null), e.stop && e.stop(), i = this.detachSource(e, t), e.metaInfo && e.metaInfo() && "Compare@tv-basicstudies" === e.metaInfo().id) {
              for (n = this.paneForSource(this.m_mainSeries).dataSources(), o = 0; o < n.length; o++)
                if (n[o].metaInfo && "Compare@tv-basicstudies" === n[o].metaInfo().id) return;
              this.m_mainSeries.priceScale().setMode({
                percentage: !1
              })
            }
            return this.invalidate(new O(O.FULL_UPDATE)), this._invalidateBarColorerCaches(), e.linkKey && Y.removeLineTool({
              model: this,
              linkKey: e.linkKey
            }), F(e) && (J.emit("study_event", e.id(), "remove"), e.isChildStudy() && e.source().unsetChild(e)), e.destroy && e.destroy(), S(e) && J.emit("drawing_event", e.id(), "remove"), i
          }, s.prototype._unmergeAvailable = function (e) {
            return e === this.m_mainSeries || TradingView.isInherited(e.constructor, R) && !e.isLinkedToSeries() && !TradingView.isInherited(e.constructor, V) && e.showInObjectTree()
          }, s.prototype.isMergeUpAvailableForSource = function (e) {
            return !!this._unmergeAvailable(e) && this.paneForSource(e) !== this.panes()[0]
          }, s.prototype.isMergeDownAvailableForSource = function (e) {
            var t;
            return !!this._unmergeAvailable(e) && this.paneForSource(e) !== (t = this.panes())[t.length - 1]
          }, s.prototype.isUnmergeAvailableForSource = function (e) {
            return !!this._unmergeAvailable(e) && this.paneForSource(e).dataSources().filter(this._unmergeAvailable, this).length > 1
          }, s.prototype.isSingleInstanceLineTool = function (e) {
            return "LineStudyMtpRiskReward" === e || "LineStudyMtpAnalysis" === e
          }, s.prototype._externalTimeStamp = function (e) {
            var t = this.mainSeries().syncModel();
            return this.m_timeScale.points().roughTime(e, t && t.projectTime.bind(t))
          }, s.prototype.createLineTool = function (e, t, i, n, o) {
            var r, s, a, l, c, u, d, p, f;
            return v(i) ? (this.isSingleInstanceLineTool(i) && this._undoModel.removeAllDrawingTools(i), "LineToolExecution" !== i && fe("drawings", "Study_Drawing_" + i), n && (r = n.state(), n = y(i, r)), s = g(i, this, n, null, e.mainDataSource()), n || (n = s.properties()), a = !s.linkKey && !o, Y.drawOnAllCharts().value() ? s.linkKey = o || X.randomHash() : s.linkKey = o, s.toolname = i, s.setOwnerSource(e.mainDataSource()), l = e.defaultPriceScale(), e.addDataSource(s, l), s.isFixed() ? (u = e.mainDataSource().firstValue(), d = this.m_timeScale.indexToCoordinate(t.index), p = l.priceToCoordinate(t.price, u), c = s.addFixedPoint(new h(d, p))) : c = s.addPoint(t), c || (this._lineBeingCreated = s, this._paneBeingCreatedLineOn = e), a && s.enableCurrentIntervalVisibility(), this.invalidate(new O(O.FULL_UPDATE)), o || !Y.drawOnAllCharts().value() || s.properties().singleChartOnly || (f = this._externalTimeStamp(t.index), Y.createLineTool({
              point: {
                price: t.price,
                timeStamp: f
              },
              linetool: i,
              properties: n,
              symbol: this.mainSeries().symbol(),
              model: this,
              linkKey: s.linkKey
            })), s) : null
          }, s.prototype.lineBeingCreated = function () {
            return this._lineBeingCreated
          }, s.prototype.paneBeingCreatedLineOn = function () {
            return this._paneBeingCreatedLineOn
          }, s.prototype.coninueCreatingLine = function (e, t, i, n) {
            var o, r, s, a = this._lineBeingCreated.addPoint(e, t, i),
              l = this._lineBeingCreated;
            return this._lineBeingCreated.updateAllViews(), o = new O(O.LIGHT_UPDATE), r = null, a && (r = {
              points: this._lineBeingCreated._timePoint,
              interval: this.mainSeries().interval()
            }, this._paneBeingCreatedLineOn = null, this._lineBeingCreated = null, o.force = !0), this.invalidate(o), n || !Y.drawOnAllCharts().value() || l.properties().singleChartOnly || (s = this._externalTimeStamp(e.index), Y.continueLineTool({
              point: {
                price: e.price,
                timeStamp: s
              },
              envState: t,
              finalState: r,
              model: this
            })), a
          }, s.prototype.cancelCreatingLine = function () {
            if (this._lineBeingCreated) {
              var e = this._lineBeingCreated;
              this.removeSource(this._lineBeingCreated), this._lineBeingCreated = null, this._lineCancelled.fire(), Y.drawOnAllCharts().value() && !e.properties().singleChartOnly && Y.cancelLineTool({
                model: this
              })
            }
          }, s.prototype.startChangingLinetool = function (e, t, i, n) {
            var o, r, s;
            this._lineBeingEdited = e, this._linePointBeingEdited = i, this._lineBeingEdited.startChanging(i, t), o = this.paneForSource(e), this._lineBeingEdited.startDragPoint && this._lineBeingEdited.startDragPoint(i, t), this._lineBeingEdited.setPoint(i, t, n), this._lineBeingEdited.updateAllViews(), (r = this._paneInvalidationMask(o, O.LIGHT_UPDATE)).force = !0, this.invalidate(r), e.linkKey && !e.properties().singleChartOnly && (s = this._externalTimeStamp(t.index), Y.startChangingLineTool({
              linkKey: e.linkKey,
              model: this,
              symbol: this.mainSeries().symbol(),
              point: {
                price: t.price,
                timeStamp: s
              },
              pointIndex: i,
              envState: n
            }))
          }, s.prototype.lineBeingEdited = function () {
            return this._lineBeingEdited
          }, s.prototype.linePointBeingEdited = function () {
            return this._linePointBeingEdited
          }, s.prototype.changeLinePoint = function (e, t) {
            var i, n, o, r, s, a = this.paneForSource(this._lineBeingEdited);
            void 0 !== e.x && void 0 !== e.y ? (o = this._lineBeingEdited.priceScale(), r = a.mainDataSource().firstValue(), i = o.coordinateToPrice(e.y, r), n = Math.round(this.timeScale().coordinateToIndex(e.x)), i = this._magnet.align(i, n, a), this._lineBeingEdited.setPoint(this._linePointBeingEdited, {
              price: i,
              index: n
            }, t)) : this._lineBeingEdited.setPoint(this._linePointBeingEdited, e, t), this._lineBeingEdited.updateAllViews(), this.invalidate(new O(O.LIGHT_UPDATE)), this._lineBeingEdited.linkKey && !this._lineBeingEdited.properties().singleChartOnly && (s = this._externalTimeStamp(n), Y.changeLineTool({
              linkKey: this._lineBeingEdited.linkKey,
              model: this,
              symbol: this.mainSeries().symbol(),
              point: {
                price: i,
                timeStamp: s
              },
              envState: t
            }))
          }, s.prototype.endChangingLinetool = function (e) {
            var t, i, n = this._lineBeingEdited;
            this._lineBeingEdited.endChanging(!1, e), this._lineBeingEdited = null, this._linePointBeingEdited = null, (t = new O(O.LIGHT_UPDATE)).force = !0, this.invalidate(t), i = {
              points: n._timePoint,
              interval: this.mainSeries().interval()
            }, n.linkKey && !n.properties().singleChartOnly && Y.finishChangingLineTool({
              model: this,
              linkKey: n.linkKey,
              symbol: this.mainSeries().symbol(),
              finalState: i
            })
          }, s.prototype.startMovingSources = function (e, t, i, n) {
            var o, r, s;
            this._sourcesBeingMoved = e, this._linePointBeingMoved = i, o = this, this._sourcesBeingMoved.forEach(function (e) {
              var r, s;
              e.startMoving(t, i, n), r = o.paneForSource(e), (s = o._paneInvalidationMask(r, O.LIGHT_UPDATE)).force = !0, o.invalidate(s)
            }), (r = e.filter(function (e) {
              return e.linkKey && !e.properties().singleChartOnly
            }).map(function (e) {
              return e.linkKey
            })).length && (s = o._externalTimeStamp(t.logical.index), Y.startMovingLineTool({
              linkKeys: r,
              model: o,
              symbol: o.mainSeries().symbol(),
              point: {
                price: t.logical.price,
                timeStamp: s
              },
              envState: n
            }))
          }, s.prototype.sourcesBeingMoved = function () {
            return this._sourcesBeingMoved
          }, s.prototype.moveSources = function (e, t) {
            var i, n, o = this;
            this._sourcesBeingMoved.filter(function (e) {
              return !e.isLocked || !e.isLocked()
            }).forEach(function (i) {
              i.move(e, o._linePointBeingMoved, t)
            }), this.invalidate(new O(O.LIGHT_UPDATE)), i = this._sourcesBeingMoved.filter(function (e) {
              return !e.properties().singleChartOnly && !!e.linkKey
            }).map(function (e) {
              return e.linkKey
            }), n = o._externalTimeStamp(e.logical.index), Y.moveLineTool({
              linkKeys: i,
              model: o,
              point: {
                price: e.logical.price,
                timeStamp: n
              },
              envState: t
            })
          }, s.prototype.endMovingSources = function (e) {
            var t, i, n = this;
            this._sourcesBeingMoved.forEach(function (t) {
              var i, o = n.paneForSource(t);
              t.endMoving(e), (i = n._paneInvalidationMask(o, O.LIGHT_UPDATE)).invalidateAll(O.LIGHT_UPDATE), i.force = !0, n.invalidate(i)
            }), t = this._sourcesBeingMoved.filter(function (e) {
              return !e.properties().singleChartOnly && !!e.linkKey
            }).map(function (e) {
              return e.linkKey
            }), i = this._sourcesBeingMoved.filter(function (e) {
              return !e.properties().singleChartOnly && !!e.linkKey
            }).map(function (e) {
              return {
                points: e._timePoint,
                interval: n.mainSeries().interval()
              }
            }), t.length && Y.finishMovingLineTool({
              linkKeys: t,
              model: n,
              finalStates: i
            }), this._sourcesBeingMoved = [], this._linePointBeingMoved = null
          }, s.prototype.finishLineTool = function (e) {
            var t = this.lineBeingCreated();
            t && (t.finish && t.finish(), !e && Y.drawOnAllCharts().value() && t.linkKey && !t.properties().singleChartOnly && Y.finishLineTool({
              linkKey: t.linkKey,
              model: this
            }))
          }, s.prototype.calculateDefaultTags = function () {
            var e, t, i = [],
              n = this.dataSources();
            for (e = 0; e < n.length; e++)(t = n[e]).tags && (i = i.concat(t.tags()));
            return i
          }, s.prototype.changeZOrder = function (e, t) {
            this.paneForSource(e).changeZOrder(e, t), this.invalidate(new O(O.FULL_UPDATE))
          }, s.prototype._sendTo = function (e, t) {
            var i, n = {},
              o = this;
            for (i in e.forEach(function (e) {
                var t = o.paneForSource(e),
                  i = o.m_panes.indexOf(t);
                n[i] || (n[i] = []), n[i].push(e)
              }), n) t(o.m_panes[i], n[i]);
            this.invalidate(new O(O.FULL_UPDATE))
          }, s.prototype.sendToBack = function (e) {
            this._sendTo(e, function (e, t) {
              e.sendToBack(t)
            })
          }, s.prototype.bringToFront = function (e) {
            this._sendTo(e, function (e, t) {
              e.bringToFront(t)
            })
          }, s.prototype.onTagsChanged = function () {
            return this._tagsChanged
          }, s.prototype.onPaneTagsChanged = function () {
            this._tagsChanged.fire()
          }, s.prototype.setTimeViewport = function (e, t) {
            this.timeScale().zoomToBarsRange(e, t), this.recalculateAllPanes(), this.invalidate(new O(O.LIGHT_UPDATE))
          }, s.prototype.zoomToViewport = function (e, t, i, n, r) {
            var s, a, l;
            this.setTimeViewport(e, t), s = Math.min(i, n), a = Math.max(i, n), (l = r.defaultPriceScale()).isPercentage() || l.setMode({
              autoScale: !1
            }), l.isLog() && (s = l.priceToLogical(s), a = l.priceToLogical(a)), l.setPriceRange(new o(s, a)), this.recalculateAllPanes(), this.invalidate(this._paneInvalidationMask(r, O.LIGHT_UPDATE)), this._setScalesResetAvailable(!0)
          }, s.prototype.clearAllStudies = function () {
            var e, t = this.dataSources();
            for (e = 0; e < t.length; e++) t[e].clearData && t[e].clearData()
          }, s.prototype.allStudies = function () {
            return this._getAllSources(function (e) {
              return F(e)
            })
          }, s.prototype.allLineTools = function () {
            return this._getAllSources(S)
          }, s.prototype.getStudyById = function (e) {
            var t = this.dataSourceForId(e);
            return null !== t && F(t) ? t : null
          }, s.prototype.getLineToolById = function (e) {
            var t = this.dataSourceForId(e);
            return null !== t && S(t) ? t : null
          }, s.prototype._getAllSources = function (e) {
            var t, i, n, o, r, s = [],
              a = this.m_panes,
              l = a.length;
            for (t = 0; t < l; ++t)
              for (n = (i = a[t].dataSources()).length, o = 0; o < n; ++o) e(r = i[o]) && s.push(r);
            return s
          }, s.prototype.getStudyById = function (e) {
            var t = this.dataSourceForId(e);
            return t instanceof R ? t : null
          }, s.prototype.backgroundColor = function () {
            return this._properties.paneProperties.background._value
          }, s.prototype.backgroundCounterColor = function () {
            return "black" === _(f(this.backgroundColor()), 150) ? "white" : "black"
          }, s.prototype.isDark = function () {
            return "white" === this.backgroundCounterColor()
          }, s.prototype.canZoomIn = function () {
            return this.m_timeScale.canZoomIn() && this._zoomEnabled
          }, s.prototype.canZoomOut = function () {
            return this.m_timeScale.canZoomOut() && this._zoomEnabled
          }, s.prototype.updateAllVolumeStudies = function () {
            var e, t, i, n, o, r, s = this.m_panes;
            for (e = s.length; e--;)
              for (t = !1,
                o = (n = (i = s[e]).dataSources()).length; o--;) r = n[o], F(r) && "Volume" === r.metaInfo().shortId && (r.updateAllViews(), t || (this.updatePane(i), t = !0))
          }, s.prototype._initAlertsList = function () {
            function e() {
              TradingView.alertsDispatcher.requestList({
                symbol: i.mainSeries().actualSymbol(),
                resolution: i.mainSeries().interval(),
                active: !0,
                success: function () {
                  i._alertsList.syncCollections()
                },
                error: function () {
                  i._alertsList.reset()
                }
              })
            }

            function t(t) {
              i.mainSeries().dataEvents().symbolResolved()[t](i, e), i.mainSeries().dataEvents().symbolError()[t](i, i._removeAllAlertLabelsFromChart), i.mainSeries().properties().interval[t](i, e)
            }
            var i = this;
            i._alertsList = new k({
              observableCollection: TradingView.alertsDispatcher.alerts,
              syncEvents: ["change:active", "change:crossInterval", "change:resolution", "change:symbol"],
              validator: function (e) {
                return (e.get("active") || e.isNew()) && (e.get("crossInterval") || e.get("resolution") === i.mainSeries().interval()) && e.get("symbol") === i.mainSeries().actualSymbol()
              }
            }), i._alertsList.on("add", function (e) {
              i._addAlertLabelToChart(e)
            }), i._alertsList.on("remove", function (e) {
              i._removeAlertLabelFromChart(e)
            }), i._alertsList.on("reset", function () {
              var e, t = i._alertsList.models;
              for (i._removeAllAlertLabelsFromChart(), e = t.length - 1; e >= 0; e--) i._addAlertLabelToChart(t[e])
            }), i._alertsList.on("change:alertSeries", function (e) {
              i._removeAlertLabelFromChart(e), i._addAlertLabelToChart(e)
            }), i._alertsList.syncCollections(), loginStateChange.subscribe(i, function () {
              t(is_authenticated ? "subscribe" : "unsubscribe")
            }), is_authenticated && (t("subscribe"), e())
          }, s.prototype._addAlertLabelToChart = function (e) {
            function t(e, t, i) {
              t && t.addDataSource(new D(o, e), i)
            }
            var i, n, o = this;
            e.get("extra") && ((i = function (e) {
              var t, i, n, r, s, a, l = [];
              for (t = 0; t < o.m_panes.length; t++) {
                for (n = (i = o.m_panes[t]).dataSources(), r = new Set, s = 0; s < n.length; s++)(a = n[s]).idForAlert() === e && r.add(a.priceScale());
                r.size > 0 && l.push({
                  pane: i,
                  scales: r
                })
              }
              return l
            }(e.get("extra").alertSeries().id)).length ? i.forEach(function (i) {
              var n = i.pane,
                o = i.scales;
              o.forEach(function (i) {
                t(e, n, i)
              })
            }) : e.isOHLC() && (n = this.m_mainSeries.priceScale(), t(e, this.paneForSource(this.m_mainSeries), n)), this.invalidate(new O(O.LIGHT_UPDATE)))
          }, s.prototype._removeAlertLabelFromChart = function (e) {
            function t(t) {
              return t.alert && t.alert() && t.alert().id === e.id
            }
            var i, n, o, s = this.m_panes;
            for (i = s.length - 1; i >= 0; i--) n = s[i], (o = r.find(n.dataSources(), t)) && n.removeDataSource && n.removeDataSource(o);
            this.invalidate(new O(O.LIGHT_UPDATE))
          }, s.prototype._removeAllAlertLabelsFromChart = function () {
            var e, t, i, n = this.m_panes;
            for (e = n.length - 1; e >= 0; e--)
              for (i = (t = n[e].dataSources()).length - 1; i >= 0; i--) t[i] instanceof D && n[e].removeDataSource(t[i]);
            this.invalidate(new O(O.LIGHT_UPDATE))
          }, s.prototype.alertsList = function () {
            return this._alertsList
          }, s.prototype.setAlertsStudiesList = function (e) {
            this._alertsStudiesList = e.filter(function (e) {
              var t, i = e.plots || [];
              for (t = 0; t < i.length; t++)
                if ("line" === i[t].type) return !0;
              return !1
            }).map(function (e) {
              return e.id
            })
          }, s.prototype.canCreateAlertForDataSource = function (e) {
            var i, n, o, r, s, a, l, c, u, h, d;
            return !!t.enabled("alerts") && (i = function () {
              return e.data() && !e.data().isEmpty() && function (e) {
                var t, i, n, o;
                if ((e = e) instanceof ue && (e = e.bars()), e instanceof he && (e = e.state().data), !Array.isArray(e)) return !0;
                for (t = e.length - 1; t >= 0; t--) {
                  if (i = e[t], !Array.isArray(i.value)) return !0;
                  for (n = i.value.length - 1; n > 0; n--)
                    if (null !== (o = i.value[n]) && void 0 !== o && !TradingView.isNaN(o)) return !0
                }
                return !1
              }(e.data())
            }, n = "function" == typeof e.idForAlert, o = e === this.mainSeries(), r = e instanceof R, s = e instanceof ce || e instanceof le || e instanceof ae, l = !!(a = e.metaInfo ? e.metaInfo() : null) && a.isTVScript, c = !!a && a.isTVScriptStrategy, u = function () {
              var t, i = e.stateForAlert && e.stateForAlert();
              return !!i && ((t = de.create(i).getPlots()) && t.length)
            }, h = function () {
              var t = e.stateForAlert && e.stateForAlert();
              return !!t && !(!t.alerts || !t.alerts.conditions)
            }, d = !(!a || !this._alertsStudiesList) && -1 !== this._alertsStudiesList.indexOf(a.fullId), !!o || !c && !s && n && r && (l ? h() || u() && i() : d && i()))
          }, s.prototype.setInterval = function (e, t) {
            var i = setInterval(e, t);
            return this._modelIntervals.push(i), i
          }, s.prototype.clearInterval = function (e) {
            clearInterval(e);
            var t = this._modelIntervals.indexOf(e);
            t > -1 && this._modelIntervals.splice(t, 1)
          }, s.prototype.clearIntervals = function () {
            for (var e = 0; e < this._modelIntervals.length; e++) clearInterval(this._modelIntervals[e]);
            this._modelIntervals = []
          }, s.prototype.destroy = function () {
            var e;
            for (e = 0; e < this._barsMarksSources.length; e++) this._barsMarksSources[e].destroy();
            for (this.clearIntervals(), Y.hideAllDrawings().unsubscribe(this, this._onDrawingsVisibilityChanged), this.resetDeferredStudies(), e = 0; e < this._barsMarksSources.length; e++) this._barsMarksSources[e].destroy();
            for (e = 0; e < this.m_panes.length; e++) this.m_panes[e].destroy();
            this.m_panes.length = 0, this._sessions = null, null !== this.m_watermarkSource && (this.m_watermarkSource.destroy(), this.m_watermarkSource = null), Array.from(this._customSourcesMap.keys()).forEach(this._removeCustomSource, this), c(0 === this._fgCustomSources.length), c(0 === this._bgCustomSources.length), c(0 === this._allCustomSources.length), c(0 === this._customSourcesMap.size), this.m_timeScale.destroy(), ge.unsubscribe(this, this._updateDateTimeFormatter), this.mainSeries().properties().interval.unsubscribe(this, this._updateDateTimeFormatter)
          }, s.prototype.countUserStudies = function (e) {
            var t, i, n, o, r, s, a = 0;
            for (e = e || {}, t = 0; t < this.m_panes.length; t++)
              for (i = this.m_panes[t].dataSources(), n = 0; n < i.length; n++)
                if (o = i[n], F(o) && o.showInObjectTree()) {
                  if (r = o.metaInfo && o.metaInfo()) {
                    if (s = r.id, e.dontCountVolume && "Volume@tv-basicstudies" === s) continue;
                    if (e.dontCountCompare && "Compare@tv-basicstudies" === s) continue;
                    if (e.dontCountOverlay && "Overlay@tv-basicstudies" === s) continue
                  }
                  a++
                } return a
          }, s.prototype.isJustClonedChart = function () {
            return this._undoModel.isJustClonedChart()
          }, s.prototype.undoModel = function () {
            return this._undoModel
          }, s.prototype.copyToOtherCharts = function (e) {
            var t = this;
            e.forEach(function (e) {
              var i;
              e.linkKey = e.linkKey || X.randomHash(), i = e.state(), t.mainSeries().syncModel() && (i.points = e._timePoint.map(function (e) {
                  var i = t.timeScale().timePointToIndex(e.time_t) + e.offset;
                  return {
                    price: e.price,
                    timeStamp: t._externalTimeStamp(i)
                  }
                }),
                i.linetool = e.getType(), i.model = t, i.symbol = t.mainSeries().symbol(), i.finalState = {
                  points: e._timePoint,
                  interval: t.mainSeries().interval()
                }, Y.copyLineTool(i))
            })
          }, s.prototype.restoreSource = function (e, t, i, n, o) {
            var r, s, a, l, c;
            return r = e ? this.createPane(t) : this.panes()[t], s = (a = n.type.toLowerCase().startsWith("study")) ? r._restoreStudy(n) : r._restoreLineTool(n), l = null, n.ownerSource && (l = r.dataSourceForId(n.ownerSource)), s.setOwnerSource(l), c = null, o ? c = r.getPriceScaleById(o.id) : s.ownerSource() && (c = s.ownerSource().priceScale()), c ? (s.setPriceScale(c), c.addDataSource(s)) : (c = r.createPriceScaleAtPosition(o.position, o.priceScaleIndex), o && o.id && c.setId(o.id), s.setPriceScale(c), c.addDataSource(s), "overlay" === o.position && s.metaInfo && "Volume@tv-basicstudies" === s.metaInfo().id && (c.setTopMargin(.75), c.setBottomMargin(0))), s.start(), s.restore && s.restore(), e && r.restoreState(i), this.recalculateAllPanes(), this.mainSeries().invalidateBarColorerCache(), this.invalidate(new O(O.FULL_UPDATE, !0)), s.linkKey && Y.restoreLineTool({
              model: this,
              linkKey: s.linkKey,
              state: {
                restorePane: e,
                paneIndex: t,
                paneState: i,
                sourceState: n,
                targetPriceScale: o
              }
            }), a && r.updateAlertLabelsSources(), s
          }, s.prototype.restoreLineToolState = function (e, t) {
            e.restorePoints(t.points, t.indexes || []), e.properties().merge(t.state), e.restoreData && e.restoreData(t), e.createServerPoints(), this.invalidate(new O(O.FULL_UPDATE)), e.linkKey && Y.restoreLineToolState({
              model: this,
              linkKey: e.linkKey,
              state: t
            })
          }, s.prototype.onChartThemeLoaded = function () {
            return this._chartThemeLoaded
          }, s.prototype.chartThemeLoaded = function () {
            this._chartThemeLoaded.fire()
          }, s.prototype.selectBarMode = function () {
            return this.m_crossHairSource.selectBarMode()
          }, s.prototype.toggleSelectBarMode = function () {
            this.m_crossHairSource.toggleSelectBarMode()
          }, s.prototype.onBarSelected = function () {
            return this.m_crossHairSource.onBarSelected()
          }, s.prototype.isSeriesStyleSupported = function (e) {
            return this.m_mainSeries.isStyleSupported(e)
          }, s.prototype.getStudyShiftColorStartOffset = function () {
            return this._studyShiftColorStartOffset
          }, s.prototype.setStudyShiftColorStartOffset = function (e) {
            this._studyShiftColorStartOffset = e
          }, s.prototype.setPriceAutoScaleForAllMainSources = function () {
            var e, t;
            for (e = 0; e < this.m_panes.length; ++e) null === (t = this.m_panes[e].mainDataSource()) || t.priceScale().isLockScale() || t.priceScale().setMode({
              autoScale: !0
            })
          }, s.prototype.isInReplay = function () {
            return this.m_mainSeries.isInReplay()
          }, s.prototype.switchToReplay = function (e) {
            this.m_mainSeries.switchToReplay(e)
          }, s.prototype.switchToRealtime = function () {
            this.m_mainSeries.switchToRealtime(), this.m_timeScale.resetRightOffset()
          }, s.prototype.defaultResolutions = function () {
            return this.chartApi().chartApi().defaultResolutions()
          }, s.prototype._setScalesResetAvailable = function (e) {
            this._isScalesResetAvailable !== e && (this._isScalesResetAvailable = e, this._isScalesResetAvailableChanged.fire())
          }, s.prototype.isScalesResetAvailable = function () {
            return this._isScalesResetAvailable
          }, s.prototype.isScalesResetAvailableChanged = function () {
            return this._isScalesResetAvailableChanged
          },
          s.prototype.rendererOptionsProvider = function () {
            return this._rendererOptionsProvider
          }, s.prototype.priceAxisRendererOptions = function () {
            return this._rendererOptionsProvider.options()
          }, s.prototype.addCustomSource = function (e, t, i) {
            var n;
            void 0 === i && (i = ve.Foreground), this._customSourcesMap.has(e) && K.logWarn('Attempt to add the same custom source multiple time "' + e + '"'), K.logNormal('Adding custom source "' + e + '"'), n = t(this), (i === ve.Background ? this._bgCustomSources : this._fgCustomSources).push(n), this._allCustomSources.push(n), this._customSourcesMap.set(e, n), this.lightUpdate()
          }, s.prototype.removeCustomSource = function (e) {
            this._removeCustomSource(e), this.lightUpdate()
          }, s.prototype._removeCustomSource = function (e) {
            function t(e) {
              var t = e.indexOf(o);
              return -1 !== t && (e.splice(t, 1), !0)
            }
            var i, n, o = this._customSourcesMap.get(e);
            void 0 !== o ? (K.logNormal('Removing custom source "' + e + '"'), i = t(this._fgCustomSources) !== t(this._bgCustomSources), n = t(this._allCustomSources), c(i, "Source should be presented in one of the layers"), c(n, "Source should be presented in the array"), this._customSourcesMap.delete(e), o.destroy()) : K.logWarn('Attempt to remove custom source which does not exist in the model - "' + e + '"')
          }, s.prototype.customSources = function (e) {
            switch (e) {
              case ve.Background:
                return this._bgCustomSources;
              case ve.Foreground:
                return this._fgCustomSources;
              default:
                return this._allCustomSources
            }
          }, s.prototype.magnet = function () {
            return this._magnet
          }, s.prototype._updateDateTimeFormatter = function () {
            var e = ge.value();
            this.mainSeries().isDWM() ? this._dateTimeFormatter = new me(e) : this._dateTimeFormatter = new _e({
              dateFormat: e,
              timeFormat: "%h:%m",
              dateTimeSeparator: "   "
            })
          }, s.prototype.dateTimeFormatter = function () {
            return this._dateTimeFormatter
          }, s.prototype.isPriceScaleVisible = function (e) {
            var t, i = this.paneForSource(e.mainSource()),
              n = i.priceScalePosition(e);
            return "overlay" === n || (t = this.priceScaleSlotsCount(), i.priceScaleIndex(e, n) < t[n])
          }, s.prototype.studyMetaInfoRepository = function () {
            return this._studiesMetaInfoRepository
          }, s.prototype.createSessions = function (e) {
            c(null === this._sessions, "Sessions are already created"), this.addCustomSource("sessions", function (t) {
              return t._sessions = new ye(t, e), t._sessions.start(), t._sessions
            }, ve.Background)
          }, s.prototype.sessions = function () {
            return u(this._sessions)
          }, s.prototype.studiesColorRotatorFactory = function () {
            return this._studyColorRotatorFactory
          }, e.exports = s
      }).call(this, i("Kxc7"), i("aIyQ"), i("Qb4w").PriceRange, i("F/us"))
    },
    cXAR: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = Object(r.parseRgb)(t),
          n = Object(r.parseRgb)(e);
        return Object(r.distanceRgb)(i, n) < 70 ? Object(r.rgbToHexString)(Object(r.invertRgb)(i)) : t
      }
      var o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w;
      i.r(t), i.d(t, "SeriesDataWindowView", function () {
        return w
      }), o = i("mrSG"), r = i("eJTA"), s = i("ivNn"), a = i("4miz"), l = i("IzGk"), c = i("k9/m"), u = i("GH0z"), h = i("7qT/"), d = i("Ialn"), p = i("qFKp"), f = i("38az"), _ = i("e92V"), m = i("mMWL"), g = p.CheckMobile.any(), y = g && !1, v = new u.PercentageFormatter, S = window.t("n/a"), b = S + " (" + S + "%)", w = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._invalidated = !0, n._series = t,
            n._model = i, n._items.push(new a.DataWindowItem(window.t("Open"), "")), n._items.push(new a.DataWindowItem(window.t("High"), "")), n._items.push(new a.DataWindowItem(window.t("Low"), "")), n._items.push(new a.DataWindowItem(window.t("Close"), "")), n._items.push(new a.DataWindowItem("", "")), n._items.push(new a.DataWindowItem("", "")), n._items.push(new a.DataWindowItem(window.t("Change"), "")), n.update(), n
        }
        return o.__extends(t, e), t.prototype.update = function () {
          this._invalidated = !0
        }, t.prototype.items = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._items
        }, t.prototype._updateImpl = function () {
          var e, t, i, o, r, a, u, h, p, _, m, g, w, P, T, C, x, E, I, A, L = this._series.symbolInfo();
          for (L ? (this._header = [L.name, Object(l.translatedIntervalString)(this._series.interval()), L.exchange].join(", "), this._title = L.description) : this._header = this._series.symbol(), e = this._showLastPriceAndChangeOnly(), t = 0, i = this._items; t < i.length; t++) i[t].setVisible(!e);
          if (this._items[0].setValue(S), this._items[1].setValue(S), this._items[2].setValue(S), this._items[3].setValue(S), this._items[6].setValue(b), this._items[5].setVisible(!1), (o = this._items[4]).setValue(S), o.setVisible(!1), !this._model.timeScale().isEmpty() && 0 !== this._series.bars().size()) {
            if (r = this._model.crossHairSource().appliedIndex(), e || !Object(s.isNumber)(r)) {
              if (null === (a = this._series.data().last())) return;
              r = a.index
            }
            if (void 0 !== (u = this._series.nearestIndex(r, c.PlotRowSearchMode.NearestLeft)) && (h = this._series.data().valueAt(u), p = function (e) {
                if (null === e) return null;
                var t = e.properties().child("background");
                return void 0 === t ? null : t.value()
              }(this._series.model().paneForSource(this._series)), null !== h && null !== p && (_ = h[1], m = h[2], g = h[3], w = h[4], null != _ && null != m && null != g && null != w)))
              for (P = this._series.formatter(), T = b, void 0 !== (C = this._changesData(w, u, e)).values && (T = Object(d.forceLTRStr)(P.format(C.values.change, !0) + " (" + v.format(C.values.percentChange, !0) + ")")), this._items[6].setValue(T), e ? (this._items[5].setValue(P.format(w)), this._items[5].setVisible(!0), this._items[6].setVisible(!0)) : (this._items[0].setValue(P.format(_)), this._items[1].setValue(P.format(m)), this._items[2].setValue(P.format(g)), this._items[3].setValue(P.format(w)), this._items[4].setValue(P.format(this._series.barFunction()(h)))), x = null, x = n(p, x = e && !y ? void 0 === C.values || C.values.change >= 0 ? f.SeriesBarColorer.upColor(this._series.properties()) : f.SeriesBarColorer.downColor(this._series.properties()) : n(p, null != (E = this._series.barColorer().barStyle(u, !1)).barBorderColor ? E.barBorderColor : E.barColor)), I = 0, A = this._items; I < A.length; I++) A[I].setColor(x)
          }
        }, t.prototype._showLastPriceAndChangeOnly = function () {
          return g && (null === this._model.crossHairSource().pane || Object(_.a)(m.tool.value()) || null !== this._model.lineBeingEdited())
        }, t.prototype._changesData = function (e, t, i) {
          var n, o, r;
          if (i && !y) {
            if (null !== (n = this._series.quotes())) return {
              values: {
                change: n.change,
                percentChange: n.change_percent
              }
            }
          } else if (null !== (r = (o = this._series.data().valueAt(t - 1)) && o[4] || null)) return {
            values: {
              change: e - r,
              percentChange: Object(h.a)(r, e)
            }
          };
          return {}
        }, t
      }(a.DataWindowView)
    },
    cZRT: function (e, t, i) {
      "use strict";
      var n, o;
      i.d(t, "a", function () {
        return o
      }), n = 3e3, o = function () {
        function e() {
          var e = this;
          this._retries = 5, this._cache = null, this._tryLoad = function (t) {
            e._retries = e._retries - 1;
            e._startLoading().then(t, 0 !== e._retries ? function () {
              return setTimeout(function () {
                return e._tryLoad(t)
              }, n)
            } : void 0)
          }
        }
        return e.prototype.load = function () {
          return this._cache || (this._cache = new Promise(this._tryLoad)), this._cache
        }, e
      }()
    },
    cdbK: function (e, t, i) {
      "use strict";

      function n(e) {
        Promise.all([i.e("vendors"), i.e(6), i.e(8), i.e(9), i.e(10), i.e(11), i.e(17), i.e(24), i.e(34), i.e(111), i.e(158), i.e(274), i.e(7), i.e(15), i.e(98), i.e(134), i.e("go-to-date-dialog-impl")]).then(function (t) {
          i("uUY/").showGoToDateDialog(e)
        }.bind(null, i)).catch(void 0)
      }
      i.r(t), i.d(t, "showGoToDateDialog", function () {
        return n
      })
    },
    cgFQ: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "TimeAxisView", function () {
        return o
      }), n = i("eJTA"), o = function () {
        function e() {
          this._text = "", this._background = "#585858", this._coordinate = 0
        }
        return e.prototype.text = function () {
          return this._text
        }, e.prototype.background = function () {
          return this._background
        }, e.prototype.color = function () {
          return "black" === Object(n.rgbToBlackWhiteString)(Object(n.parseRgb)(this._background), 150) ? "white" : "black"
        }, e.prototype.coordinate = function () {
          return this._coordinate
        }, e
      }()
    },
    d13A: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        return void 0 === i && (i = "promise rejected by time-out"), new Promise(function (n, o) {
          var r = setTimeout(function () {
            return o(i)
          }, t);
          e.then(function (e) {
            clearTimeout(r), n(e)
          }), e.catch(function (e) {
            clearTimeout(r), o(e)
          })
        })
      }
      i.r(t), i.d(t, "makeTimeLimited", function () {
        return n
      })
    },
    d1kB: function (e, t, i) {},
    dBCn: function (e, t, i) {
      "use strict";

      function n() {
        var e;
        return (e = {})[1] = {
          count: 0,
          lastTime: 0,
          maxTime: 0,
          totalTime: 0
        }, e[2] = {
          count: 0,
          lastTime: 0,
          maxTime: 0,
          totalTime: 0
        }, e[3] = {
          count: 0,
          lastTime: 0,
          maxTime: 0,
          totalTime: 0
        }, e
      }

      function o(e, t) {
        e.lastTime = t, e.totalTime += t, ++e.count, t > e.maxTime && (e.maxTime = t)
      }

      function r(e) {
        return e.toFixed(2)
      }

      function s(e) {
        var t, i, n = e.count;
        return 0 === n ? "no events" : (t = e.totalTime / n, i = r(e.maxTime), "count=" + n + ", last=" + r(e.lastTime) + ", max=" + i + ", avg=" + r(t))
      }
      var a, l, c, u;
      i.r(t), i.d(t, "TimingsMeter", function () {
        return u
      }), a = i("uOxu"), l = Object(a.getLogger)("TimingsMeter.Service"), c = Object(a.getLogger)("TimingsMeter.Stats", {
        maxCount: 160
      }), u = function () {
        function e(e) {
          this._waitDrawStartTime = -1, this._startDrawTime = -1, this._currentDrawLevel = 3, this._currentDrawItems = n(), this._currentWaitingItem = {
            count: 0,
            lastTime: 0,
            maxTime: 0,
            totalTime: 0
          }, this._dumpTimingsStatsInterval = 0, this._logPrefix = "[" + e + "]"
        }
        return e.prototype.destroy = function () {
          this.stopCollect()
        }, e.prototype.startCollect = function () {
          0 !== this._dumpTimingsStatsInterval && (l.logWarn(this._logPrefix + " Multiple start detected"), this.stopCollect()), this._clearCurrentState(), this._dumpTimingsStatsInterval = setInterval(this._dumpTimingsStats.bind(this), 15e3), l.logNormal(this._logPrefix + " Collecting started")
        }, e.prototype.stopCollect = function () {
          0 !== this._dumpTimingsStatsInterval && (clearInterval(this._dumpTimingsStatsInterval), this._dumpTimingsStatsInterval = 0,
            l.logNormal(this._logPrefix + " Collecting stopped. Dumping last state..."), this._dumpTimingsStats())
        }, e.prototype.startWaitingDraw = function () {
          this._waitDrawStartTime = window.performance.now()
        }, e.prototype.startDraw = function (e) {
          this._startDrawTime = window.performance.now(), this._currentDrawLevel = e
        }, e.prototype.stopDraw = function () {
          var e, t, i = window.performance.now(); - 1 !== this._startDrawTime && -1 !== this._waitDrawStartTime && (e = this._startDrawTime - this._waitDrawStartTime, o(this._currentWaitingItem, e), this._waitDrawStartTime = -1, t = i - this._startDrawTime, o(this._currentDrawItems[this._currentDrawLevel], t), this._startDrawTime = -1)
        }, e.prototype._dumpTimingsStats = function () {
          var e = [this._logPrefix, " awaiting:", s(this._currentWaitingItem), "; cursor:", s(this._currentDrawItems[1]), "; light:", s(this._currentDrawItems[2]), "; full:", s(this._currentDrawItems[3])].join("");
          c.logNormal(e), this._clearCurrentState()
        }, e.prototype._clearCurrentState = function () {
          this._currentDrawItems = n(), this._currentWaitingItem = {
            count: 0,
            lastTime: 0,
            maxTime: 0,
            totalTime: 0
          }
        }, e
      }()
    },
    dDSx: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(t, i, n, o, r, s, a, l, c) {
          j.call(this), this._chartWidget = s, this.m_model = new W(t, i, n, o, r, this, l, c), this.m_zoomStack = new Z, this.undoHistory = a, this._onRearrangePanes = new e, this._onSimpleZoomIn = new e, this._onSimpleZoomOut = new e, this._currentCustomMoveSource = null, this._currentLineMoveCommand = null, this.beginUndoMacro = a.beginUndoMacro.bind(a), this.endUndoMacro = a.endUndoMacro.bind(a), this.createUndoCheckpoint = a.createUndoCheckpoint.bind(a), this.undoToCheckpoint = a.undoToCheckpoint.bind(a)
        }

        function o(e, t, i, n, o) {
          ee.call(this, i), this._targetObj = e, this._newValue = t, this._model = n, o && this.setCustomFlag("doesnt_affect_save", !0)
        }

        function r(e, t, i, n) {
          ee.call(this, i), this._priceScale = t, this._newMode = e, this._model = n
        }

        function s(e, t, i, n) {
          ee.call(this, i), this._property = e, this._newValue = t, this._model = n, this._priceScale = this._model.mainSeries().priceScale()
        }

        function a(e, t, i, n) {
          ee.call(this, "scale price", !1), this.m_model = e, this.m_pane = t, this.m_priceScale = i, this.m_state = n, this.m_newPriceScaleState = null
        }

        function l(e, t, i) {
          ee.call(this, i, !1), this.setCustomFlag("doesnt_affect_save", !0), this.m_model = e, this.m_state = t, this.m_newTimeScaleState = null
        }

        function c(e, t, i, n) {
          this._model = e, this._series = t, this._oldSymbol = t.symbol(), this._oldInterval = t.interval(), this._symbol = i, this._interval = n
        }

        function u(e, t) {
          ee.call(this, "Remove Drawing(s)"), this._model = e, this._linetoolsIds = t.map(function (e) {
            return e.id()
          }), this._statesByPaneIndexes = {}
        }

        function h(e, t, i) {
          ee.call(this, "Create line " + i, !1), this._model = e, this._paneIndex = e.panes().indexOf(t), this._lineTool = i
        }

        function d(e, t, i, n, o) {
          ee.call(this, "Move Drawing(s)", !1), this._model = e, this._sourceIds = t.map(function (e) {
            return e.id()
          }), this._points = null, this._origPoints = {
            screen: i.screen.clone(),
            logical: {
              index: i.logical.index,
              price: i.logical.price
            }
          }, this._pointIndex = n, this._envState = o
        }

        function p(e, t, i) {
          ee.call(this, "Change %1 Z order (%2)".format(t[0].title(), i > 0 ? "Forward" : "Backward")), this._model = e, this._sourcesIds = t.map(function (e) {
              return e.id()
            }),
            this._shift = i
        }

        function f(e, t) {
          ee.call(this, "Send " + t[0].title() + " to back"), this._model = e, this._sourcesIds = t.map(function (e) {
            return e.id()
          })
        }

        function _(e, t) {
          ee.call(this, "Bring " + t[0].title() + " to front"), this._model = e, this._sourcesIds = t.map(function (e) {
            return e.id()
          })
        }

        function m(e, t, i, n) {
          ee.call(this, "Rearrange panes"), this._model = e, this._index = t, this._direction = i, this._chart = n
        }

        function g(e, t, i, n, o, r) {
          ee.call(this, "Zoom"), this._model = e, this._startBar = t, this._endBar = i, this._startPrice = n, this._endPrice = o, this._pane = r
        }

        function y(e, t, i) {
          ee.call(this, "Zoom"), this._baseCmd = e, this._zoomStack = t, this._inOut = i
        }

        function v(e, t, i, n, o) {
          ee.call(this, "", !1), this._model = e, this._paneA = t, this._paneB = i, this._prevStretchA = n, this._currStretchA = o
        }

        function S(e, t) {
          ee.call(this, "Apply All Chart Properties"), this._model = e, this._undoModel = e.undoModel(), this._newProperties = t,
            function (e, t) {
              var i, n, o = {
                hollowCandle: {
                  related: "candle"
                }
              };
              for (i in ["candleStyle", "hollowCandleStyle", "haStyle"].forEach(function (t) {
                  e[t].wickUpColor = e[t].wickUpColor || e[t].wickColor, e[t].wickDownColor = e[t].wickDownColor || e[t].wickColor
                }), t.vertGridProperties = t.vertGridProperties || t.gridProperties, t.horzGridProperties = t.horzGridProperties || t.gridProperties, o) e[i + "Style"] || (n = e[o[i].related + "Style"], e[i + "Style"] = TradingView.clone(n))
            }(this._newProperties.mainSeries, this._newProperties.paneProperties), this._oldProperties = Ee(e, e.mainSeries())
        }

        function b(e, t, i) {
          ee.call(this, "Apply Chart Theme"), this._model = e, this._newChartProps = TradingView.factoryDefaults("chartproperties"), this._newSeriesProps = TradingView.factoryDefaults("chartproperties.mainSeriesProperties"), this._newSessionProps = TradingView.factoryDefaults("sessions"), ["candleStyle", "hollowCandleStyle", "haStyle"].forEach(function (e) {
              t.mainSourceProperties[e].wickUpColor = t.mainSourceProperties[e].wickUpColor || t.mainSourceProperties[e].wickColor, t.mainSourceProperties[e].wickDownColor = t.mainSourceProperties[e].wickDownColor || t.mainSourceProperties[e].wickColor
            }), t.chartProperties.paneProperties.vertGridProperties = t.chartProperties.paneProperties.vertGridProperties || t.chartProperties.paneProperties.gridProperties, t.chartProperties.paneProperties.horzGridProperties = t.chartProperties.paneProperties.horzGridProperties || t.chartProperties.paneProperties.gridProperties, t.chartProperties.paneProperties.legendProperties = this._model.properties().state().paneProperties.legendProperties, this._newChartProps = k({}, this._newChartProps, t.chartProperties), delete this._newChartProps.scalesProperties.showLeftScale, delete this._newChartProps.scalesProperties.showRightScale, delete this._newChartProps.scalesProperties.scaleSeriesOnly, delete this._newChartProps.scalesProperties.showSeriesLastValue, delete this._newChartProps.scalesProperties.showStudyLastValue, delete this._newChartProps.scalesProperties.showSymbolLabels, delete this._newChartProps.scalesProperties.showStudyPlotLabels, e.timeScale().preserveBarSpacing() && delete this._newChartProps.scalesProperties.barSpacing, this._newSeriesProps = k({}, this._newSeriesProps, t.mainSourceProperties),
            this._oldChartProps = e.properties().state(), delete this._oldChartProps.paneProperties.topMargin, delete this._oldChartProps.paneProperties.bottomMargin, this._oldSeriesProps = e.properties().state().mainSeriesProperties, this._oldSessionsProps = this._model.sessions().state(), i || (delete this._oldSeriesProps.style, delete this._oldSeriesProps.symbol, delete this._oldSeriesProps.interval, delete this._oldSeriesProps.extendedHours, delete this._newSeriesProps.style, delete this._newSeriesProps.symbol, delete this._newSeriesProps.interval, delete this._newSeriesProps.extendedHours)
        }

        function w(e, t, i, n) {
          var o;
          o = (n = n || "") + " Study template", ee.call(this, o), this._model = e, this._oldProps = t, this._newProps = i
        }

        function P(e, t, i, n, o) {
          ee.call(this, e), this._property = t, this._value = i, this._forceSetProperty = o, this._prevValue = t.value(), this._cw = n
        }

        function T(e, t) {
          ee.call(this, "Stop Sincing Drawing"), this._model = e, this._sourceId = t.id(), this._linkKey = t.linkKey
        }

        function C(e, t, i) {
          ee.call(this, "Paste Drawing"), this._model = e, this._clipboardData = t, this._paneIndex = this._model.panes().indexOf(i || this._model.paneForSource(this._model.mainSeries()))
        }

        function x(e, t) {
          ee.call(this, "Paste Indicator"), this._model = e, this._clipboardData = t
        }

        function E(e, t) {
          ee.call(this, "Move", !1), this._origPoint = e.clone(), this._point = null, this._handler = t
        }
        var I = i("aO4+").Point,
          A = i("CW80"),
          L = A.isLineTool,
          D = i("Ss5c").LineDataSource,
          k = i("FIi8").deepExtend,
          O = i("1gmO").AlertLabel,
          M = i("hqNu").showGoToTradingViewReferralDialog,
          R = i("Qf4T"),
          V = i("bKsZ").ProductFeatures,
          B = i("NP3r").getConfig,
          N = i("NP3r").enabled,
          F = i("s4+V"),
          W = i("OK+B"),
          U = i("HvwJ"),
          H = i("beCu").doAnimate,
          j = i("onDC").ChartUndoModelBase,
          z = i("Ocx9"),
          Y = z.saveDefaultProperties,
          q = i("J+KI"),
          G = i("qJq3").Series,
          X = i("GVHu"),
          K = X.Study,
          $ = i("8sOK").StudyStub,
          J = i("0waE"),
          Q = i("7MZv").showTooManyStudiesNotice,
          Z = i("MY2c").UndoStack,
          ee = i("RDU5").UndoCommand,
          te = i("Ltzl").SaveLineToolStateUndoCommand,
          ie = i("YlKu").ApplyLineToolTemplateUndoCommand,
          ne = i("n33C").SetChartStyleCommand,
          oe = i("s9sR").SetResolutionUndoCommand,
          re = i("n5al").preparePriceAxisProperties,
          se = i("8C8C").RestoreFactoryDefaultsUndoCommand,
          ae = i("/ToI"),
          le = ae.MoveToNewPriceScaleUndoCommand,
          ce = ae.MoveToExistingPriceScaleUndoCommand,
          ue = i("HGup"),
          he = ue.UnmergeDownUndoCommand,
          de = ue.UnmergeUpUndoCommand,
          pe = ue.UnmergeToNewBottomPane,
          fe = i("jRfx"),
          _e = fe.MergeDownUndoCommand,
          me = fe.MergeUpUndoCommand,
          ge = fe.MergeToTargetPane,
          ye = i("2OVc").InsertStudyCommand,
          ve = i("FKaq").SetPriceScaleSelectionStrategyCommand,
          Se = i("ocrj").RemoveSourcesCommand,
          be = i("n5al").getChartStyleByResolution,
          we = i("/YGI").StudyInserter,
          Pe = i("PC8g").trackEvent,
          Te = i("uOxu").getLogger("Chart.ChartUndoModel"),
          Ce = i("pQ+n").closeSourcesSet,
          xe = i("QTwd").RestoreDefaultsPreferencesUndoCommand,
          Ee = i("ApcL").preferencesByWhiteList;
        inherit(n, j), n.prototype.version = function () {
            return this.m_model._version
          }, n.prototype.onData = function (e) {
            switch (e.method) {
              case "timescale_update":
                var t = e.params;
                this.m_model.updateTimeScale(t.index, t.zoffset, t.changes, t.index_diff, t.marks, t.clear)
            }
          }, n.prototype.paneForSource = function (e) {
            return this.m_model.paneForSource(e)
          },
          n.prototype.createPane = function (e) {
            return this.m_model.createPane(e)
          }, n.prototype.readOnly = function () {
            return this.m_model.readOnly()
          }, n.prototype.restart = function () {
            this.m_model.restart()
          }, n.prototype.disconnect = function () {
            this.m_model.disconnect()
          }, n.prototype.studiesMetaData = function () {
            return this.m_model.studiesMetaData()
          }, n.prototype.studyVersioning = function () {
            return this.m_model.studyVersioning()
          }, n.prototype.chartModel = function () {
            return this._model()
          }, n.prototype._model = function () {
            return this.m_model
          }, n.prototype.pushUndoCommand = function (e) {
            this._pushUndoCommand(e)
          }, n.prototype._pushUndoCommand = function (e) {
            this.undoHistory.pushUndoCommand(e)
          }, n.prototype.startScalePrice = function (e, t, i) {
            this.pushUndoCommand(new a(this.m_model, e, t, t.state())), this.chartModel().startScalePrice(e, t, i)
          }, n.prototype.scalePriceTo = function (e, t, i) {
            this.chartModel().scalePriceTo(e, t, i)
          }, n.prototype.endScalePrice = function (e, t) {
            this.chartModel().endScalePrice(e, t)
          }, n.prototype.startScrollPrice = function (e, t, i) {
            t.isAutoScale() || (this._initialPriceScrollState = t.state(), this._initialPriceScrollPos = i, this.chartModel().startScrollPrice(e, t, i))
          }, n.prototype.scrollPriceTo = function (e, t, i) {
            t.isAutoScale() || (this._initialPriceScrollPos && Math.abs(this._initialPriceScrollPos - i) > 20 && (this.pushUndoCommand(new a(this.m_model, e, t, this._initialPriceScrollState)), delete this._initialPriceScrollState, delete this._initialPriceScrollPos), this.chartModel().scrollPriceTo(e, t, i))
          }, n.prototype.endScrollPrice = function (e, t) {
            t.isAutoScale() || (delete this._initialPriceScrollState, delete this._initialPriceScrollPos, this.chartModel().endScrollPrice(e, t))
          }, n.prototype.setPriceAutoScale = function (e, t, i) {
            this.pushUndoCommand(new a(this.m_model, e, t, t.state())), this.chartModel().setPriceAutoScale(e, t, i)
          }, n.prototype.resetPriceScale = function (e, t) {
            this.pushUndoCommand(new a(this.m_model, e, t, t.state())), this.chartModel().resetPriceScale(e, t)
          }, n.prototype.startScaleTime = function (e) {
            this.pushUndoCommand(new l(this.m_model, this.m_model.timeScale().state(), "scale time")), this.chartModel().startScaleTime(e)
          }, n.prototype.scaleTimeTo = function (e) {
            this.chartModel().scaleTimeTo(e)
          }, n.prototype.endScaleTime = function () {
            this.chartModel().endScaleTime()
          }, n.prototype.startScrollTime = function (e) {
            this._initialTimeScrollState = this.m_model.timeScale().state(), this._initialTimeScrollPos = e, this.chartModel().startScrollTime(e)
          }, n.prototype.scrollTimeTo = function (e) {
            var t = !1;
            return this._initialTimeScrollPos && Math.abs(e - this._initialTimeScrollPos) > 20 && (this.pushUndoCommand(new l(this.m_model, this._initialTimeScrollState, "scroll time")), delete this._initialTimeScrollPos, delete this._initialTimeScrollState, t = !0), this.chartModel().scrollTimeTo(e), t
          }, n.prototype.gotoTime = function (e, t) {
            var i, n, o = this.timeScale().visibleBarsStrictRange();
            null !== o && (i = o.firstBar(), n = this.m_model.timeScale().state(), this.chartModel().gotoTime(e, t), i !== this.timeScale().visibleBarsStrictRange().firstBar() && this.pushUndoCommand(new l(this.m_model, n, "scroll time")))
          }, n.prototype.endScrollTime = function () {
            this.chartModel().endScrollTime(), delete this._initialTimeScrollPos, delete this._initialTimeScrollState
          }, n.prototype.resetTimeScale = function () {
            this.pushUndoCommand(new l(this.m_model, this.m_model.timeScale().state())), this.chartModel().resetTimeScale()
          }, n.prototype.canZoomIn = function () {
            return this.chartModel().canZoomIn()
          }, n.prototype.canZoomOut = function () {
            return this.chartModel().canZoomOut()
          }, n.prototype.setWidth = function (e) {
            this.m_model.setWidth(e)
          }, n.prototype.setPaneHeight = function (e, t) {
            this.m_model.setPaneHeight(e, t)
          }, n.prototype.gridSource = function () {
            return this.m_model.gridSource()
          }, n.prototype.watermarkSource = function () {
            return this.m_model.watermarkSource()
          }, n.prototype.addAlertsSource = function (e) {
            return this.m_model.addAlertsSource(e)
          }, n.prototype.alertsSources = function () {
            return this.m_model.alertsSources()
          }, n.prototype.publishedChartsTimelineSource = function () {
            return this.m_model.publishedChartsTimelineSource()
          }, n.prototype.barsMarksSources = function () {
            return this.m_model.barsMarksSources()
          }, n.prototype.crossHairSource = function () {
            return this.m_model.crossHairSource()
          }, n.prototype.model = function () {
            return this.m_model
          }, n.prototype.chartWidget = function () {
            return this._chartWidget
          }, n.prototype.mainSeries = function () {
            return this.m_model.m_mainSeries
          }, n.prototype.mainSeriesScaleRatioProperty = function () {
            return this.m_model.mainSeriesScaleRatioProperty()
          }, n.prototype.panes = function () {
            return this.m_model.m_panes
          }, n.prototype.timeScale = function () {
            return this.m_model.timeScale()
          }, n.prototype.selectionMacro = function (e) {
            return this.m_model.selectionMacro(e)
          }, n.prototype.removeSourceFromSelection = function (e) {
            this.m_model.removeSourceFromSelection(e)
          }, n.prototype.addSourceToSelection = function (e, t) {
            this.m_model.addSourceToSelection(e, t)
          }, n.prototype.clearSelection = function () {
            this.m_model.clearSelection()
          }, n.prototype.setHoveredSource = function (e, t) {
            this.m_model.setHoveredSource(e, t)
          }, n.prototype.selection = function () {
            return this.m_model.selection()
          }, n.prototype.onSelectedSourceChanged = function () {
            return this.m_model.onSelectedSourceChanged()
          }, n.prototype.hoveredSource = function () {
            return this.m_model.hoveredSource()
          }, n.prototype.activeStrategySource = function () {
            return this.m_model.activeStrategySource()
          }, n.prototype.invalidate = function (e) {
            this.m_model.invalidate(e)
          }, n.prototype.setCurrentPosition = function (e, t, i, n) {
            this.m_model.setCurrentPosition(e, t, i, n)
          }, n.prototype.setAndSaveCurrentPosition = function (e, t, i, n) {
            this.m_model.setAndSaveCurrentPosition(e, t, i, n)
          }, n.prototype.modifySeries = function (e, t, i) {
            var n = new c(this.m_model, e, t, i);
            this.pushUndoCommand(n)
          }, n.prototype.canCreateStudy = function (e) {
            return this.model().chartApi().chartApi().isCanCreateStudy(e)
          }, n.prototype._isCountedStudy = function (e) {
            return !e || !["Volume@tv-basicstudies", "Compare@tv-basicstudies", "Overlay@tv-basicstudies"].includes(e)
          }, n.prototype.checkIfFeatureAvailable = function (e, t) {
            var i = this.canCreateStudy(),
              n = t && t instanceof K;
            if (!this.readOnly() && n && (i = this.canCreateStudy(!0)),
              i) return !(N(V.INDICATORS_ON_CHART) && this._isCountedStudy(e) && this.m_model.countUserStudies({
              dontCountVolume: !0,
              dontCountOverlay: !0,
              dontCountCompare: !0
            }) >= B(V.INDICATORS_ON_CHART).limit) || (TradingView.onWidget() ? void M({
              feature: "indicators"
            }) : (R("studyLimit"), void F.createGoProDialog({
              feature: "studyLimit"
            }).then(function (e) {
              e.open()
            })));
            n ? F.createGoProDialog({
              feature: "studyOnStudy"
            }).then(function (e) {
              e.open()
            }) : Q()
          }, n.prototype._insertStudy = function (e, t, i, n, o) {
            var r = new ye(this.m_model, e, t, i, n, o, "Insert " + e.description);
            return this.pushUndoCommand(r), r.insertedStudy()
          }, n.prototype.insertStudyWithoutCheck = function (e) {
            return this._insertStudy(e)
          }, n.prototype.createStudyInserter = function (e, t, i) {
            var n, o, r;
            return this.checkIfFeatureAvailable(e, t) ? (n = this, o = {
              createStudy: function (e, t, i, o, r, s, a) {
                return Pe("studies", "Study_" + e.id), "Compare@tv-basicstudies" === e.id && Pe("compare", "symbol:" + t.symbol), n._insertStudy(e, t, i, o, r)
              }
            }, void 0 !== i && (o.createStub = function () {
              return n.m_model.insertStudyStub(i).id()
            }, o.removeStub = function (e) {
              return n.m_model.removeStudyStub(e)
            }), (r = new we(e, this.m_model._studiesMetaInfoRepository, o)).setParentSource(t), r) : null
          }, n.prototype.setProperty = function (e, t, i, n) {
            if (e && e.value() !== t) {
              var r = new o(e, t, i, this.m_model, n);
              this.pushUndoCommand(r), this.emitEvent("setProperty")
            }
          }, n.prototype.setProperties = function (e, t, i) {
            var n = this;
            this.beginUndoMacro(i), this.m_model.selectionMacro(function (o) {
              for (var r = 0; r < e.length; r++) n.setProperty(e[r], t[r], i)
            }), this.endUndoMacro()
          }, n.prototype.setPriceScaleMode = function (e, t, i) {
            var n, o, s = Object.keys(e),
              a = t.mode(),
              l = !1;
            for (n = 0; n < s.length; n++)
              if (a[s[n]] !== e[s[n]]) {
                l = !0;
                break
              } l && (o = new r(e, t, i, this.m_model), this.pushUndoCommand(o))
          }, n.prototype.setPriceScaleSelectionStrategy = function (e) {
            var t, i;
            this.m_model.properties().priceScaleSelectionStrategyName.value() !== e && (Pe("Chart", "Change PriceScale Selection Strategy"), t = "Set Price Scale Selection Stretegy to " + e, this.beginUndoMacro(t), this.setProperty(this.m_model.properties().priceScaleSelectionStrategyName, e, t), i = new ve(this.m_model, e, t), this.pushUndoCommand(i), this.endUndoMacro())
          }, n.prototype.setChartStyleProperty = function (e, t, i) {
            if (e.value() !== t) {
              var n = new ne(e, t, this.mainSeries(), i, this.m_model, this._chartWidget);
              this.pushUndoCommand(n), this.emitEvent("setChartStyleProperty")
            }
          }, n.prototype.setScaleRatioProperty = function (e, t, i) {
            if (e.value() !== t) {
              var n = new s(e, t, i, this.m_model);
              this.pushUndoCommand(n)
            }
          }, n.prototype.setScreenChartProperty = function (e, t, i, n, o) {
            if (o || e.value() !== t) {
              var r = new P(n, e, t, i, o);
              this.pushUndoCommand(r)
            }
          }, n.prototype.setResolutionProperty = function (e, t, i, n) {
            if (e.value() !== t) {
              var o = new oe(e, t, i, n);
              this.pushUndoCommand(o)
            }
          }, n.prototype.removeSource = function (e, t) {
            if (this.lineBeingCreated() !== e) {
              if (e.isUserDeletable()) {
                var i = "Remove " + e.title();
                this._removeSources([e], t, i)
              }
            } else this.cancelCreatingLine()
          }, n.prototype._removeSources = function (e, t, i) {
            var n, o;
            e = e.filter(function (e) {
                return e.isUserDeletable()
              }), o = (n = new Se(this.m_model, e, i)).removedIds(), this.pushUndoCommand(n),
              !t && o.length > 0 && (1 === o.length ? this.emitEvent("removeSource", [o[0]]) : this.emitEvent("removeSources", [o]))
          }, n.prototype.removeSelectedSources = function () {
            var e, t, i, n = this.m_model,
              o = n.selection().sources();
            o.length && 0 !== o.filter(function (e) {
              return e.isUserDeletable()
            }).length && (e = this, t = null, i = o.length > 1 ? "Remove drawings group" : "Remove " + o[0].title(), n.selectionMacro(function (n) {
              n.clearSelection();
              var r = new Se(n, o, i);
              t = r.removedIds(), e.pushUndoCommand(r)
            }), t && (1 === t.length ? this.emitEvent("removeSource", [t[0]]) : this.emitEvent("removeSources", [t])))
          }, n.prototype.removeLineTools = function (e) {
            var t, i, n, o = this.lineBeingCreated();
            o && -1 !== (t = e.indexOf(o)) && (this.cancelCreatingLine(), e.splice(t, 1)), n = (i = new u(this.m_model, e)).removedIds(), this.pushUndoCommand(i), this.emitEvent("removeSources", [n])
          }, n.prototype.detachToRight = function (e, t) {
            var i, n;
            Pe("Chart", "Move to new right scale"), i = window.t("Move {title} To New Price Scale").format({
              title: e.title()
            }), n = new le(this.m_model, e, t, "right", i), this.pushUndoCommand(n), this.emitEvent("moveSource", [e])
          }, n.prototype.detachToLeft = function (e, t) {
            var i, n;
            Pe("Chart", "Move to new left scale"), i = window.t("Move {title} To New Left Scale").format({
              title: e.title()
            }), n = new le(this.m_model, e, t, "left", i), this.pushUndoCommand(n), this.emitEvent("moveSource", [e])
          }, n.prototype.detachNoScale = function (e, t) {
            var i, n;
            Pe("Chart", "Make source no scale"), i = window.t("Make {title} No Scale (Full Screen)").format({
              title: e.title()
            }), n = new le(this.m_model, e, t, "overlay", i), this.pushUndoCommand(n), this.emitEvent("moveSource", [e])
          }, n.prototype.moveToScale = function (e, t, i, n) {
            Pe("Chart", "Move source to target scale");
            var o = new ce(this.m_model, e, t, i, n);
            this.pushUndoCommand(o), this.emitEvent("moveSource", [e])
          }, n.prototype.mergeSourceUp = function (e) {
            var t = new me(this.m_model, e, "Merge up");
            this.pushUndoCommand(t), this.emitEvent("mergeSourceUp", [e])
          }, n.prototype.mergeSourceDown = function (e) {
            var t = new _e(this.m_model, e, "Merge down");
            this.pushUndoCommand(t), this.emitEvent("mergeSourceDown", [e])
          }, n.prototype.mergeToPane = function (e, t) {
            var i = this.m_model.panes().indexOf(t),
              n = new ge(this.m_model, e, i, "Merge to pane");
            this.pushUndoCommand(n), this.emitEvent("mergeSourceToPane", [e])
          }, n.prototype.unmergeSourceUp = function (e) {
            var t = new de(this.m_model, e, "Unmerge up");
            this.pushUndoCommand(t), this.emitEvent("unmergeSourceUp", [e])
          }, n.prototype.unmergeSourceDown = function (e) {
            var t = new he(this.m_model, e, "Unmerge down");
            this.pushUndoCommand(t), this.emitEvent("unmergeSourceDown", [e])
          }, n.prototype.unmergeToNewBottomPane = function (e) {
            var t = new pe(this.m_model, e, "Unmerge to new bottom pane");
            this.pushUndoCommand(t), this.emitEvent("unmergeSourceToBottom", [e])
          }, n.prototype.createLineTool = function (e, t, i, n, o) {
            var r, s;
            if ("LineToolRegressionTrend" !== i || this.canCreateStudy()) return this._createLineCommand = new h(this.m_model, e, i), r = this._createLineCommand.startCreatingLine(t, n, o), s = this._createLineCommand.line(), r && (this.pushUndoCommand(this._createLineCommand), delete this._createLineCommand), s;
            Q()
          }, n.prototype.lineBeingCreated = function () {
            return this.m_model.lineBeingCreated()
          }, n.prototype.paneBeingCreatedLineOn = function () {
            return this.m_model.paneBeingCreatedLineOn()
          }, n.prototype.coninueCreatingLine = function (e, t, i) {
            var n = this._createLineCommand.continueCreatingLine(e, t, i);
            return n && (this.pushUndoCommand(this._createLineCommand), delete this._createLineCommand), n
          }, n.prototype.finishLineTool = function (e) {
            this.m_model.finishLineTool(e)
          }, n.prototype.cancelCreatingLine = function () {
            this.m_model.cancelCreatingLine()
          }, n.prototype.lineCancelled = function () {
            return this.m_model.lineCancelled()
          }, n.prototype.startChangingLinetool = function (e, t, i, n) {
            this._currentLineChangeCommand = new te(this.m_model, e, "Change " + i + "point", !1), this.m_model.startChangingLinetool(e, t, i, n)
          }, n.prototype.lineBeingEdited = function () {
            return this.m_model.lineBeingEdited()
          }, n.prototype.changeLinePoint = function (e, t) {
            this.m_model.changeLinePoint(e, t)
          }, n.prototype.endChangingLinetool = function (e) {
            this.m_model.endChangingLinetool(e), this.pushUndoCommand(this._currentLineChangeCommand), this._currentLineChangeCommand = null
          }, n.prototype.startMovingSources = function (e, t, i, n) {
            e.filter(function (e) {
              return e.doesMovingAffectsUndo()
            }).length && (this._currentLineMoveCommand = new d(this.m_model, e, t, i, n)), this.m_model.startMovingSources(e, t, i, n)
          }, n.prototype.sourcesBeingMoved = function () {
            return this.m_model.sourcesBeingMoved()
          }, n.prototype.moveSources = function (e, t) {
            null !== this._currentLineMoveCommand && this._currentLineMoveCommand.setPoint(e, t), this.m_model.moveSources(e, t)
          }, n.prototype.endMovingSource = function (e) {
            this.m_model.endMovingSources(e);
            var t = this._currentLineMoveCommand;
            return this._currentLineMoveCommand = null, null !== t && !t.isEmpty() && (this.pushUndoCommand(t), !0)
          }, n.prototype.dataSources = function () {
            return this.m_model.dataSources()
          }, n.prototype.orderedDataSources = function (e) {
            return this.m_model.orderedDataSources(e)
          }, n.prototype.dataSourceForId = function (e) {
            return this.m_model.dataSourceForId(e)
          }, n.prototype.state = function (e, t) {
            return this.m_model.state(e, t)
          }, n.prototype.asyncState = function (e) {
            return this.m_model.asyncState(e)
          }, n.prototype.restoreState = function (e, t) {
            return this.m_model.restoreState(e, t)
          }, n.prototype.calculateDefaultTags = function () {
            return this.m_model.calculateDefaultTags()
          }, n.prototype.onTagsChanged = function () {
            return this.m_model.onTagsChanged()
          }, n.prototype.changeZOrder = function (e, t) {
            var i = new p(this.m_model, e, t);
            this.pushUndoCommand(i), this.emitEvent("changeZOrder", [e, t])
          }, n.prototype.sendToBack = function (e) {
            var t = new f(this.m_model, e);
            this.pushUndoCommand(t), this.emitEvent("changeZOrder", [e])
          }, n.prototype.bringToFront = function (e) {
            var t = new _(this.m_model, e);
            this.pushUndoCommand(t), this.emitEvent("changeZOrder", [e])
          }, n.prototype.removeAllStudies = function () {
            var e, t, i;
            for (this.beginUndoMacro("remove all studies"), e = this.m_model.dataSources(), t = 0; t < e.length; t++) i = e[t], (TradingView.isInherited(i.constructor, K) && !i.isChildStudy() && i.removeByRemoveAllStudies() || TradingView.isInherited(i.constructor, $)) && this.removeSource(i);
            this.endUndoMacro()
          }, n.prototype.removeAllDrawingTools = function (e) {
            var t = this;
            this.selectionMacro(function (i) {
              var n, o, r;
              for (t.beginUndoMacro("remove all drawing tools"), t.lineBeingCreated() && t.cancelCreatingLine(), n = i.dataSources(), o = 0; o < n.length; o++) r = n[o], TradingView.isInherited(r.constructor, D) && r.isActualSymbol() && r.isUserDeletable() && (e && e !== r._constructor || t.removeSource(r));
              t.endUndoMacro()
            })
          }, n.prototype.unlinkLines = function (e) {
            var t, i;
            this.beginUndoMacro("Stop syncing line tool(s)"), t = this.m_model, i = this, e.forEach(function (e) {
              var n = new T(t, e);
              i.pushUndoCommand(n)
            }), this.endUndoMacro()
          }, n.prototype.copyToOtherCharts = function (e) {
            this.m_model.copyToOtherCharts(e)
          }, n.prototype.moveLeft = function () {
            var e, t;
            try {
              this.beginUndoMacro("Move Left")
            } catch (e) {
              return
            }
            e = this.m_model.timeScale().width(), t = this, H({
              to: e / 5,
              onStep: function (e) {
                t.startScrollTime(e), t.scrollTimeTo(0), t.endScrollTime()
              },
              onComplete: function () {
                t.endUndoMacro()
              }
            })
          }, n.prototype.moveRight = function () {
            var e, t;
            try {
              this.beginUndoMacro("Move Right")
            } catch (e) {
              return
            }
            e = this.m_model.timeScale().width(), t = this, H({
              to: e / 5,
              onStep: function (e) {
                t.startScrollTime(0), t.scrollTimeTo(e), t.endScrollTime()
              },
              onComplete: function () {
                t.endUndoMacro()
              }
            })
          }, n.prototype.scrollChart = function (e) {
            this.m_model.scrollEnabled() && (this.startScrollTime(0), this.scrollTimeTo(e), this.endScrollTime())
          }, n.prototype.scrollChartByBar = function (e) {
            if (this.m_model.scrollEnabled()) {
              var t = e * this.m_model.timeScale().barSpacing();
              this.startScrollTime(0), this.scrollTimeTo(t), this.endScrollTime()
            }
          }, n.prototype.zoomIn = function (e, t) {
            var i, n, o = this.m_model.timeScale().width(),
              r = this;
            if (t = t || 1, this.canZoomIn())
              if (e) n = (i = t * o / 10) * ((e + 1) / 2), this.startScaleTime(i), this.scaleTimeTo(0), this.endScaleTime(), this.startScrollTime(0), this.scrollTimeTo(i - n), this.endScrollTime(), this._onSimpleZoomIn.fire();
              else {
                try {
                  this.beginUndoMacro("Zoom In")
                } catch (e) {
                  return
                }
                H({
                  to: o / 5,
                  onStep: function (e) {
                    r.startScaleTime(e), r.scaleTimeTo(0), r.endScaleTime()
                  },
                  onComplete: function () {
                    r.endUndoMacro(), r._onSimpleZoomIn.fire()
                  }
                })
              }
          }, n.prototype.zoomOut = function (e, t) {
            var i = this.m_model.timeScale().width(),
              n = this;
            if (t = t || 1, this.canZoomOut())
              if (e) this.startScaleTime(0), this.scaleTimeTo(t * i / 10), this.endScaleTime(), this.startScrollTime(t * (i / 20 - i / 20 * e)), this.scrollTimeTo(0), this.endScrollTime(), this._onSimpleZoomOut.fire();
              else {
                try {
                  this.beginUndoMacro("Zoom Out")
                } catch (e) {
                  return
                }
                H({
                  to: i / 5,
                  onStep: function (e) {
                    n.startScaleTime(0), n.scaleTimeTo(e), n.endScaleTime()
                  },
                  onComplete: function () {
                    n.endUndoMacro(), n._onSimpleZoomOut.fire()
                  }
                })
              }
          }, n.prototype.resetScales = function () {
            this.beginUndoMacro("Reset scales"), this.resetTimeScale(), this.panes().forEach(function (e) {
              e.leftPriceScales().forEach(function (t) {
                this.resetPriceScale(e, t)
              }, this), e.rightPriceScales().forEach(function (t) {
                this.resetPriceScale(e, t)
              }, this)
            }, this), this.endUndoMacro(), this.m_model.recalculateAllPanes()
          }, n.prototype.zoomToViewport = function (e, t, i, n, o) {
            var r = new g(this.m_model, e, t, i, n, o),
              s = new y(r, this.m_zoomStack, !0);
            this.pushUndoCommand(s)
          }, n.prototype.zoomFromViewport = function () {
            var e = new y(this.m_zoomStack.head(), this.m_zoomStack, !1);
            this.pushUndoCommand(e)
          },
          n.prototype.zoomStack = function () {
            return this.m_zoomStack
          }, n.prototype.addPaneStretchFactorUndoCommand = function (e, t, i, n) {
            var o = new v(this.m_model, e, t, i, n);
            this.pushUndoCommand(o)
          }, n.prototype._restoreFactoryDefaults = function (e) {
            var t = new se(this.m_model, e);
            this.pushUndoCommand(t)
          }, n.prototype._restoreLineToolFactoryDefaults = function (e) {
            var t, i = "Load default drawing template";
            this.beginUndoMacro(i), this.saveLineToolState(e, i), t = new se(this.m_model, e.properties(), i), this.pushUndoCommand(t), this.saveLineToolState(e, i), this.endUndoMacro(), this.model().updateSource(e)
          }, n.prototype.restorePropertiesForSource = function (e) {
            L(e) ? this._restoreLineToolFactoryDefaults(e) : this._restoreFactoryDefaults(e.properties())
          }, n.prototype.restorePreferences = function () {
            var e = new xe(this.model());
            this.pushUndoCommand(e)
          }, n.prototype.applyPreferences = function (e) {
            var t = new S(this.model(), e);
            this.pushUndoCommand(t)
          }, n.prototype.chartLoadTheme = function (e, t, i) {
            var n = new b(e, t, i);
            this.pushUndoCommand(n)
          }, n.prototype.applyLineToolTemplate = function (e, t, i) {
            this.beginUndoMacro(i), this.saveLineToolState(e, i);
            var n = new ie(e, t, i);
            this.pushUndoCommand(n), this.saveLineToolState(e, i), this.endUndoMacro(), this.model().updateSource(e)
          }, n.prototype.studyLoadTemplate = function (e, t, i, n) {
            var o = new w(e, t, i, n);
            this.pushUndoCommand(o)
          }, n.prototype.onRearrangePanes = function () {
            return this._onRearrangePanes
          }, n.prototype.onSimpleZoomIn = function () {
            return this._onSimpleZoomIn
          }, n.prototype.onSimpleZoomOut = function () {
            return this._onSimpleZoomOut
          }, n.prototype.loadRange = function (e) {
            e.res !== this.m_model.mainSeries().properties().interval.value() ? (this.m_model.mainSeries().setDefaultTimeframe(e.val), this.setProperty(this.m_model.mainSeries().properties().interval, e.res, "Change date range")) : this.m_model.mainSeries().loadDataTo(e.val)
          }, n.prototype.alertsList = function () {
            return this.m_model.alertsList()
          }, n.prototype.alertsListChanged = function () {
            return this.m_model.alertsListChanged()
          }, n.prototype.isJustClonedChart = function () {
            return this._chartWidget.isJustClonedChart()
          }, n.prototype.copySourcesToClip = function (e) {
            var t, i;
            if (e) return t = {
              sources: []
            }, i = this, e.filter(function (e) {
              return !e.properties().blockCopying
            }).forEach(function (e) {
              var n = {};
              if (e instanceof D) n.type = "drawing", n.geometry = e.geometry();
              else {
                if (!(e instanceof K)) return !1;
                n.type = "study"
              }
              if (n.source = e.state && e.state(), delete n.source.alertId, delete n.source.linkKey, !n.source) return !1;
              n.modelId = i.m_model._id, t.sources.push(n)
            }), !!t.sources.length && (1 === t.sources.length ? t.title = e[0].title && e[0].title() : t.title = "Drawings", q.set(t), !0)
          }, n.prototype.cutSourcesToClip = function (e) {
            var t, i, n = this.copySourcesToClip(e);
            if (!n) return !1;
            t = 1 === e.length ? "Cut " + e[0].title : "Cut sources", this.beginUndoMacro(t), i = this, this.m_model.selectionMacro(function (t) {
              e.forEach(function (e) {
                i.removeSource(e)
              })
            }), this.endUndoMacro()
          }, n.prototype.pasteLineTool = function (e, t) {
            var i = new C(this.m_model, t, e);
            this.pushUndoCommand(i)
          }, n.prototype.pasteStudy = function (e) {
            var t = new x(this.m_model, e);
            this.pushUndoCommand(t)
          }, n.prototype.pasteSourceFromClip = function (e, t) {
            var i, n = q.get();
            if (!n) return !1;
            this.beginUndoMacro("Paste " + n.title), i = this, n.sources.forEach(function (t) {
              "drawing" === t.type && i.pasteLineTool(e, t), "study" === t.type && i.checkIfFeatureAvailable(t.state && t.state.id) && i.pasteStudy(t)
            }), this.endUndoMacro()
          }, n.prototype.trackTime = function () {
            return this._chartWidget.trackTime()
          }, n.prototype.isInReplay = function () {
            return this.m_model.isInReplay()
          }, n.prototype.switchToReplay = function (e) {
            this.undoHistory.clearStack(), this.m_model.switchToReplay(e)
          }, n.prototype.switchToRealtime = function () {
            this.undoHistory.clearStack(), this.m_model.switchToRealtime()
          }, n.prototype.startCustomMoving = function (e, t, i) {
            this._currentCustomMoveCommand = new E(t, i), this._currentCustomMoveSource = e
          }, n.prototype.customMoveBeingProcessed = function () {
            return null !== this._currentCustomMoveSource
          }, n.prototype.processCustomMove = function (e) {
            this._currentCustomMoveCommand.setPoint(e)
          }, n.prototype.endCustomMoving = function () {
            null !== this._currentCustomMoveCommand.point() && (this.pushUndoCommand(this._currentCustomMoveCommand), this._currentCustomMoveCommand = null, this._currentCustomMoveSource = null)
          }, n.prototype.saveLineToolState = function (e, t) {
            this.pushUndoCommand(new te(this.m_model, e, t))
          }, n.prototype.togglePriceScaleAutoScaleMode = function (e) {
            var t = {
              autoScale: !e.isAutoScale()
            };
            this.setPriceScaleMode(t, e, "Auto Scale")
          }, n.prototype.togglePriceScaleLockScaleMode = function (e) {
            var t = {
              lockScale: !e.isLockScale()
            };
            this.setPriceScaleMode(t, e, "Lock Scale")
          }, n.prototype.setPriceScaleRegularScaleMode = function (e) {
            this.setPriceScaleMode({
              log: !1,
              percentage: !1,
              indexedTo100: !1
            }, e, "Regular")
          }, n.prototype.togglePriceScaleIndexedTo100ScaleMode = function (e) {
            var t = {
              indexedTo100: !e.isIndexedTo100()
            };
            this.setPriceScaleMode(t, e, "Indexed to 100")
          }, n.prototype.togglePriceScalePercentageScaleMode = function (e) {
            var t = {
              percentage: !e.isPercentage()
            };
            this.setPriceScaleMode(t, e, "Percent")
          }, n.prototype.togglePriceScaleLogScaleMode = function (e) {
            var t = {
              log: !e.isLog()
            };
            this.setPriceScaleMode(t, e, "Logarithmic")
          }, n.prototype.invertPriceScale = function (e) {
            var t = e.properties().isInverted;
            this.setProperty(t, !t.value(), "Invert Scale")
          }, inherit(o, ee), o.prototype.redo = function () {
            this._oldValue = this._targetObj.value(), Y(!0), this._targetObj.setValue(this._newValue), Y(!1), this._model && (this._model.recalculateAllPanes(), this._model.invalidate(new U(U.LIGHT_UPDATE)))
          }, o.prototype.undo = function () {
            Y(!0), this._targetObj.setValue(this._oldValue), Y(!1), this._oldValue = null, this._model && (this._model.recalculateAllPanes(), this._model.invalidate(new U(U.LIGHT_UPDATE)))
          }, inherit(r, ee), r.prototype.redo = function () {
            this._oldMode = this._priceScale.mode(), Y(!0), this._priceScale.setMode(this._newMode), Y(!1), this._model && (this._model.recalculateAllPanes(), this._model.invalidate(new U(U.LIGHT_UPDATE)))
          }, r.prototype.undo = function () {
            Y(!0), this._priceScale.setMode(this._oldMode), Y(!1), this._oldMode = null, this._model && (this._model.recalculateAllPanes(), this._model.invalidate(new U(U.LIGHT_UPDATE)))
          }, inherit(s, ee), s.prototype.redo = function () {
            this._oldValue = this._property.value(),
              this._oldMode = this._priceScale.mode(), Y(!0), this._priceScale.setMode({
                autoScale: !1,
                percentage: !1,
                log: !1
              }), this._property.setValue(this._newValue), Y(!1), this._model && (this._model.recalculateAllPanes(), this._model.invalidate(new U(U.LIGHT_UPDATE)))
          }, s.prototype.undo = function () {
            Y(!0), this._property.setValue(this._oldValue), this._priceScale.setMode(this._oldMode), Y(!1), this._oldMode = null, this._model && (this._model.recalculateAllPanes(), this._model.invalidate(new U(U.LIGHT_UPDATE)))
          }, inherit(a, ee), a.prototype.undo = function () {
            null === this.m_newPriceScaleState ? (this.m_newPriceScaleState = this.m_priceScale.state(), this.m_model.restorePriceScaleState(this.m_pane, this.m_priceScale, this.m_state)) : Te.logDebug("PriceScaleChangeUndoCommand.undo: Command is already undone")
          }, a.prototype.redo = function () {
            null !== this.m_newPriceScaleState ? (this.m_model.restorePriceScaleState(this.m_pane, this.m_priceScale, this.m_newPriceScaleState), this.m_newPriceScaleState = null) : Te.logDebug("PriceScaleChangeUndoCommand.redo: Command is not undone")
          }, inherit(l, ee), l.prototype.undo = function () {
            null === this.m_newTimeScaleState ? (this.m_newTimeScaleState = this.m_model.timeScale().state(), this.m_model.restoreTimeScaleState(this.m_state)) : Te.logDebug("TimeScaleChangeUndoCommand.undo: Command is already undone")
          }, l.prototype.redo = function () {
            null !== this.m_newTimeScaleState ? (this.m_model.restoreTimeScaleState(this.m_newTimeScaleState), this.m_newTimeScaleState = null) : Te.logDebug("TimeScaleChangeUndoCommand.redo: Command is not undone")
          }, inherit(c, ee), c.prototype.redo = function () {
            this._model.modifySeries(this._series, this._symbol, this._interval)
          }, c.prototype.undo = function () {
            this._model.modifySeries(this._series, this._oldSymbol, this._oldInterval)
          }, inherit(u, ee), u.prototype.removedIds = function () {
            return this._linetoolsIds
          }, u.prototype.redo = function () {
            var e, t, i, n;
            for (e = 0; e < this._linetoolsIds.length; e++) t = this._model.dataSourceForId(this._linetoolsIds[e]), i = this._model.paneForSource(t), n = this._model.panes().indexOf(i), this._statesByPaneIndexes[n] = this._statesByPaneIndexes[n] || [], this._statesByPaneIndexes[n].push({
              state: t.state(),
              owner: t.ownerSource().id()
            }), i.removeDataSource(t);
            delete this._linetools
          }, u.prototype.undo = function () {
            var e, t, i, n, o, r, s;
            for (e in this._linetools = [], this._statesByPaneIndexes)
              for (t = this._model.panes()[e], i = this._statesByPaneIndexes[e], n = 0; n < i.length; n++) o = i[n], r = this._model.dataSourceForId(o.owner), (s = t._restoreLineTool(o.state)).setOwnerSource(r), s.updateAllViews(), this._linetools.push(s);
            this._model.invalidate(new U(U.LIGHT_UPDATE))
          }, inherit(h, ee), h.prototype.startCreatingLine = function (e, t, i) {
            var n, o;
            return this._points = [{
              point: e
            }], n = this._model.panes()[this._paneIndex], o = this._model.createLineTool(n, e, this._lineTool, t, i), this._lineId = o.id(), !this._model.lineBeingCreated()
          }, h.prototype.continueCreatingLine = function (e, t, i) {
            return this._points || Te.logError("continueCreatingLine is called before startCreatingLine"), this._points.push({
              point: e,
              envState: t
            }), this._model.coninueCreatingLine(e, t, i)
          }, h.prototype.line = function () {
            return this._lineId ? this._model.dataSourceForId(this._lineId) : null
          }, h.prototype.undo = function () {
            var e = this.line();
            e && (this._lineState = e.state(), this._model.removeSource(e), delete this._lineId)
          }, h.prototype.redo = function () {
            this._lineState || Te.logError("This command was never undone - nothing to redo");
            var e = this._model.restoreSource(!1, this._paneIndex, null, this._lineState, null);
            this._lineId = e.id(), delete this._lineState
          }, inherit(d, ee), d.prototype.pointsAreEquals = function (e, t) {
            return !!e == !!t && (!e && !t || e.subtract(t).length() < 1)
          }, d.prototype.setPoint = function (e, t) {
            this.pointsAreEquals(this._origPoints.screen, e.screen) || (this._points = {
              screen: e.screen.clone(),
              logical: {
                index: e.logical.index,
                price: e.logical.price
              }
            }), this._envState = t
          }, d.prototype.undo = function () {
            var e = this,
              t = this._sourceIds.map(function (t) {
                return e._model.dataSourceForId(t)
              });
            e._model.startMovingSources(t, this._points, e._pointIndex), e._model.moveSources(this._origPoints), e._model.endMovingSources()
          }, d.prototype.redo = function () {
            var e = this,
              t = this._sourceIds.map(function (t) {
                return e._model.dataSourceForId(t)
              });
            e._model.startMovingSources(t, this._origPoints, e._pointIndex), e._model.moveSources(this._points, this._envState), e._model.endMovingSources()
          }, d.prototype.isEmpty = function () {
            return null === this._points
          }, inherit(p, ee), p.prototype.undo = function () {
            var e = this,
              t = this._sourcesIds.map(function (t) {
                return e._model.dataSourceForId(t)
              });
            this._shift < 0 && t.reverse(), t.forEach(function (t) {
              e._model.changeZOrder(t, -e._shift)
            })
          }, p.prototype.redo = function () {
            var e = this,
              t = this._sourcesIds.map(function (t) {
                return e._model.dataSourceForId(t)
              });
            this._shift > 0 && t.reverse(), t.forEach(function (t) {
              e._model.changeZOrder(t, e._shift)
            })
          }, inherit(f, ee), f.prototype.undo = function () {
            var e = this,
              t = this._sourcesIds.map(function (t) {
                return e._model.dataSourceForId(t)
              });
            t.reverse(), e._model.bringToFront(t)
          }, f.prototype.redo = function () {
            var e = this,
              t = this._sourcesIds.map(function (t) {
                return e._model.dataSourceForId(t)
              });
            e._model.sendToBack(t)
          }, inherit(_, ee), _.prototype.undo = function () {
            var e = this,
              t = this._sourcesIds.map(function (t) {
                return e._model.dataSourceForId(t)
              });
            e._model.sendToBack(t)
          }, _.prototype.redo = function () {
            var e = this,
              t = this._sourcesIds.map(function (t) {
                return e._model.dataSourceForId(t)
              });
            t.reverse(), e._model.bringToFront(t)
          }, n.prototype.removePane = function (e, t) {
            var i = this.m_model.panes()[t].dataSources().slice();
            this._removeSources(i, !1, "Remove pane")
          }, n.prototype.rearrangePanes = function (e, t, i) {
            var n = new m(this, t, i, e);
            this.pushUndoCommand(n), this._onRearrangePanes.fire()
          }, inherit(m, ee), m.prototype.redo = function () {
            var e = this._model.panes()[this._index];
            "up" === this._direction && this._index > 0 && (this._model.panes().splice(this._index, 1), this._model.panes().splice(this._index - 1, 0, e)), "down" === this._direction && this._index < this._model.panes().length - 1 && (this._model.panes().splice(this._index, 1), this._model.panes().splice(this._index + 1, 0, e)), this._model.invalidate(new U(U.FULL_UPDATE))
          }, m.prototype.undo = function () {
            var e;
            "up" === this._direction && (e = this._model.panes()[this._index - 1],
              this._model.panes().splice(this._index - 1, 1), this._model.panes().splice(this._index, 0, e)), "down" === this._direction && (e = this._model.panes()[this._index + 1], this._model.panes().splice(this._index + 1, 1), this._model.panes().splice(this._index, 0, e)), this._model.invalidate(new U(U.FULL_UPDATE))
          }, inherit(g, ee), g.prototype.redo = function () {
            this._timeScaleState = this._model.timeScale().state(), this._priceScaleState = this._pane.defaultPriceScale().state(), this._model.zoomToViewport(this._startBar, this._endBar, this._startPrice, this._endPrice, this._pane)
          }, g.prototype.undo = function () {
            this._model.timeScale().restoreState(this._timeScaleState), this._pane.defaultPriceScale().restoreState(this._priceScaleState), this._model.recalculateAllPanes(), this._model.invalidate(new U(U.LIGHT_UPDATE))
          }, inherit(y, ee), y.prototype.undo = function () {
            if (this._inOut) {
              if (this._baseCmd !== this._zoomStack.head()) return void Te.logDebug("zoom stack inconsistency");
              this._baseCmd.undo(), this._zoomStack.pop()
            } else this._baseCmd.redo(), this._zoomStack.push(this._baseCmd)
          }, y.prototype.redo = function () {
            if (this._inOut) this._baseCmd.redo(), this._zoomStack.push(this._baseCmd);
            else {
              if (this._baseCmd !== this._zoomStack.head()) return void Te.logDebug("zoom stack inconsistency");
              this._baseCmd.undo(), this._zoomStack.pop()
            }
          }, inherit(v, ee), v.prototype.redo = function () {
            var e = this._paneA._stretchFactor + this._paneB._stretchFactor;
            this._paneA._stretchFactor = this._currStretchA, this._paneB._stretchFactor = e - this._currStretchA, this._model.invalidate(new U(U.FULL_UPDATE))
          }, v.prototype.undo = function () {
            var e = this._paneA._stretchFactor + this._paneB._stretchFactor;
            this._paneA._stretchFactor = this._prevStretchA, this._paneB._stretchFactor = e - this._prevStretchA, this._model.invalidate(new U(U.FULL_UPDATE))
          }, inherit(S, ee), S.prototype._merge = function (e) {
            Y(!0), this._model.applyPreferences(e), Y(!1)
          }, S.prototype.redo = function () {
            this._merge(this._newProperties), this._model.mainSeries().onChartStyleChanged(), this._model.updateScales()
          }, S.prototype.undo = function () {
            this._merge(this._oldProperties), this._model.mainSeries().onChartStyleChanged(), this._model.updateScales()
          }, inherit(b, ee), b.prototype._merge = function (e, t, i) {
            var n = this._model;
            Y(!0), e && (n.properties().paneProperties.mergeAndFire(e.paneProperties), n.properties().scalesProperties.mergeAndFire(e.scalesProperties)), n.mainSeries().priceScale().setMode({
              autoScale: t.priceAxisProperties.autoScale,
              percentage: t.priceAxisProperties.percentage,
              log: t.priceAxisProperties.log,
              lockScale: t.priceAxisProperties.lockScale
            }), n.mainSeries().properties().mergeAndFire(t), n.mainSeries().properties().saveDefaults(), n.mainSeries().createPaneView(), n.mainSeries().invalidateBarStylesCache(), n._version = t.version, n.recalculateAllPanes(), n.invalidate(new U(U.FULL_UPDATE)), n.properties().saveDefaults(), n.sessions().restoreState(i), Y(!1)
          }, b.prototype.undo = function () {
            this._merge(this._oldChartProps, this._oldSeriesProps, this._oldSessionsProps), this._model.mainSeries().onChartStyleChanged(), this._model.updateScales(), this._model.chartThemeLoaded()
          }, b.prototype.redo = function () {
            this._merge(this._newChartProps, this._newSeriesProps, this._newSessionProps), this._model.mainSeries().onChartStyleChanged(), this._model.updateScales(), this._model.chartThemeLoaded()
          }, inherit(w, ee), w.prototype._merge = function (e) {
            var t, i, n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v = this._model.model(),
              S = v.mainSeries();
            for (S.priceScale().properties().lockScale.setValue(!1), e.interval && (t = be(e.interval, S.properties().style.value()), S.setChartStyleWithIntervalIfNeeded(t, e.interval)), i = [], o = [], r = (n = v.panes()).length; r--;)
              for (a = (s = n[r]).containsMainSeries(), c = (l = s.dataSources()).length; c--;) u = l[c], (!a || u instanceof K || u instanceof O) && (u.isRemovedByStudyTemplates() || i.push(u), o.push(u));
            for (v.resetDeferredStudies(), h = Ce(v, o), d = 0; d < h.length; ++d) v.removeSource(h[d]);
            for (p = e.panes, f = function (e, t) {
                return e.dataSources().some(function (e) {
                  return e.alert && e.alert().id === t.alert.id
                })
              }, r = 0; r < p.length; r++) {
              for (_ = !1, m = p[r], c = 0; c < m.sources.length; c++) "MainSeries" === (u = m.sources[c]).type && (delete u.state, _ = !0);
              if (s = null, (s = _ ? n[r] : v.createPane(r)).restoreState(p[r], !1, e.version), _)
                for (g = 0; g < i.length; g++) i[g].restore && i[g].restore(), (y = i[g]) instanceof O && !f(s, y) || s.dataSources().push(y);
              s.updateAlertLabelsSources()
            }
            S.priceScale().setMode({
              autoScale: !0
            }), v._version = e.version, v.startNotStartedStudies(), v.recalculateAllPanes(), v.invalidate(new U(U.FULL_UPDATE))
          }, w.prototype.redo = function () {
            var e, t;
            this._merge(this._newProps), (e = this._model.model()).mainSeries().onChartStyleChanged(), t = this._model.model().mainSeries().properties(), re(t), e._recalcVisibleRangeStudy(e.dataSources(), !0)
          }, w.prototype.undo = function () {
            this._merge(this._oldProps), this._model.model().mainSeries().onChartStyleChanged()
          }, inherit(P, ee), P.prototype.redo = function () {
            this._cw.screen.show(), this._property.setValue(this._value, this._forceSetProperty)
          }, P.prototype.undo = function () {
            this._cw.screen.show(), this._property.setValue(this._prevValue, this._forceSetProperty)
          }, inherit(T, ee), T.prototype.redo = function () {
            delete this._model.dataSourceForId(this._sourceId).linkKey
          }, T.prototype.undo = function () {
            this._model.dataSourceForId(this._sourceId).linkKey = this._linkKey
          }, inherit(C, ee), C.prototype.redo = function () {
            var e, t, i, n, o, r, s, a = this._model.panes()[this._paneIndex],
              l = a.dataSourceForId(this._clipboardData.source.ownerSource) || a.mainDataSource();
            this._sourceState || (e = !0, this._clipboardData.source.state.symbol === ((t = a.mainDataSource()).symbol ? t.symbol() : "") && (l instanceof G && (e = !1), l instanceof K && (e = !l.metaInfo().is_price_study)), delete(i = TradingView.clone(this._clipboardData.source)).state.symbol, e ? (n = this._model, o = function (e) {
              var t = e.x * n.timeScale().width(),
                i = e.y * l.priceScale().height();
              return new I(t, i)
            }, r = l.firstValue(), i.points = this._clipboardData.geometry.map(function (e) {
              var t = o(e),
                i = n.timeScale().coordinateToIndex(t.x),
                s = n.timeScale().normalizeBarIndex(i);
              return s.price = l.priceScale().coordinateToPrice(t.y, r), s
            })) : this._model._id === this._clipboardData.modelId && l.id() === this._clipboardData.source.ownerSource && (i.points = function (e, t) {
              var i, n, o, r, s = t.priceScale(),
                a = [],
                l = t.firstValue();
              for (i = 0; i < e.length; i++) n = {
                offset: e[i].offset,
                time_t: e[i].time_t
              }, o = e[i].price, r = s.priceToCoordinate(o, l), r -= 40, o = s.coordinateToPrice(r, l), n.price = o, a.push(n);
              return a
            }(this._clipboardData.source.points, l)), i.id = J.guid(), this._sourceState = i), (s = a._restoreLineTool(this._sourceState, null, !1)).calcIsActualSymbol(), s.setOwnerSource(l), s.setPriceScale(l.priceScale()), l.priceScale().addDataSource(s), s.createServerPoints(), this._model.invalidate(new U(U.LIGHT_UPDATE, !0))
          }, C.prototype.undo = function () {
            var e;
            this._sourceState || Te.logError("This command was never executed - nothing to undo"), e = this._model.panes()[this._paneIndex].dataSourceForId(this._sourceState.id), this._model.removeSource(e)
          }, inherit(x, ee), x.prototype.redo = function () {
            var e, t, i, n;
            this._sourceState || ((e = TradingView.clone(this._clipboardData.source)).id = J.guid(), this._sourceState = e), t = null, i = null, this._sourceState.metaInfo.is_price_study ? (t = this._model.paneForSource(this._model.mainSeries()), i = this._model.mainSeries().priceScale()) : i = (t = this._model.createPane()).defaultPriceScale(), (n = t._restoreStudy(this._sourceState)).metaInfo().linkedToSeries && n.setOwnerSource(this._model.mainSeries()), n.start(), n.setPriceScale(i), t.move(n, i)
          }, x.prototype.undo = function () {
            this._sourceState || Te.logError("This command was never executed - nothing to undo");
            var e = this._model.dataSourceForId(this._sourceState.id);
            this._model.removeSource(e)
          }, inherit(E, ee), E.prototype.setPoint = function (e) {
            this._point = e.clone(), this._handler(e)
          }, E.prototype.point = function () {
            return this._point
          }, E.prototype.undo = function () {
            this._handler(this._origPoint)
          }, E.prototype.redo = function () {
            this._handler(this._point)
          }, t.ChartUndoModel = n
      }).call(this, i("aIyQ"))
    },
    dGVi: function (e, t, i) {
      "use strict";
      (function (e) {
        var n, o, r;
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.Dispatcher = function (t) {
          function i() {
            var e = f && f.model().strategySources(),
              t = m;
            m = e && e.slice() || [], "resolved" === g.state() && (v.fire(t, m, b), b = !1), g.resolve(), m.length && y.resolve()
          }

          function s() {
            clearTimeout(_), _ = setTimeout(i, 100)
          }

          function a(e) {
            e !== f && (f && f.model().strategySourcesChange().unsubscribe(null, s), m = [], (f = e).model().strategySourcesChange().subscribe(null, s)), s()
          }

          function l(e) {
            f && (b = !0);
            var t = e.model();
            t ? a(t) : e.modelCreated().subscribe(null, a)
          }

          function c(e, i) {
            var n, o, r = i && i.model() || f && f.model();
            if (r)
              if (r.setActiveStrategySource(e), i) {
                for (n = 0; n < S.length; n++)
                  if (S[n].model() === i) {
                    o = S[n];
                    break
                  } o && o.paint()
              } else t && t.activeChartWidget.value().paint()
          }

          function u(e) {
            var t;
            return "function" == typeof e.metaInfo ? t = e.metaInfo() : e instanceof o && "function" == typeof e.state && (t = e.state() && e.state().metaInfo), !(!t || !t.isTVScriptStrategy)
          }

          function h(e) {
            var t = e.model();
            (function (e) {
              function t(e) {
                return Object.keys(e).map(function (t) {
                  return e[t]
                })
              }
              var i, n, s, a = $.Deferred(),
                l = {},
                c = {};
              for (i = 0, n = e.dataSources(); i < n.length; i++) u(s = n[i]) && (s instanceof r ? l[s.id()] = s : s instanceof o && (c[s.id()] = s));
              return Object.keys(c).length ? e.strategySourcesChange().subscribe(null, function i() {
                for (var n, o, r = 0; r < e.strategySources().length; r++) o = (n = e.strategySources()[r]).id(),
                  c[o] && (l[o] = n, delete c[o]);
                Object.keys(c).length || (e.strategySourcesChange().unsubscribe(null, i), a.resolve(t(l)))
              }) : a.resolve(t(l)), a
            })(t).done(function (i) {
              var o, r, s;
              if (i.length && !t.activeStrategySource().value()) {
                if (o = TVSettings.getValue(n.LAST_STRATEGY_TVSETTINGS_KEY))
                  for (s = 0; s < i.length; s++)
                    if (i[s].metaInfo().scriptIdPart === o) {
                      r = i[s];
                      break
                    } r || (r = i[i.length - 1]), c(r, e)
              }
            })
          }

          function d() {
            t.getAll().forEach(function (e) {
              if (-1 === S.indexOf(e)) {
                S.push(e);
                var t = e.model();
                t ? h(t) : e.modelCreated().subscribe(null, h)
              }
            })
          }

          function p(e, i) {
            (e && e !== t || !0 === i) && (t && (t.layout.unsubscribe(d), t.activeChartWidget.unsubscribe(l)), (t = e).layout.subscribe(d, {
              callWithLast: !0
            }), t.activeChartWidget.subscribe(l, {
              callWithLast: !0
            }))
          }
          var f, _, m = [],
            g = $.Deferred(),
            y = $.Deferred(),
            v = new e,
            S = [],
            b = !1;
          p(t, !0), this.updateChartWidgetCollection = p, this.model = function () {
            return f
          }, this.strategies = function () {
            return m
          }, this.ready = function () {
            return g.promise()
          }, this.filled = function () {
            return y.promise()
          }, this.change = function () {
            return v
          }, this.setActiveStrategy = c, this.unsetActiveStrategy = function (e) {
            var t = e && e.model() || f && f.model();
            t && t.unsetActiveStrategySource()
          }, this.chartWidgetCollection = function () {
            return t
          }
        }, n = i("1fnd"), o = i("8sOK").StudyStub, r = i("k5SP")
      }).call(this, i("aIyQ"))
    },
    dJ3D: function (e, t, i) {
      "use strict";
      (function (e) {
        function t(e) {
          function t(e) {
            var t, i = ["", "KB", "MB", "GB", "TB"];
            return 0 === e ? "0" : (t = parseInt(Math.floor(Math.log(e) / Math.log(1024))), Math.round(e / Math.pow(1024, t), 2) + i[t])
          }
          if (this._isAuthTokenLoaded = !1, this._authTokenDfd = null, this._notificationHandlers = {}, this._sessions = {}, this._dataHandleModule = null, this.studyCounter = 0, this.childStudyCounter = 0, this._sendingQueuedRequestsCount = 0, this._pendingMessagesQueue = [], this._trafficStats = {
              total: 0,
              sinceConnect: 0,
              lastChunk: 0
            }, this._wsBackendConnection = e, this._wsBackendConnection.onReconnect(this._bindSocketEvents.bind(this)), this._wsBackendConnection.setLogger(d, h.getLogHistory), this._wsBackendConnection.setTelemetry(O), this._bindSocketEvents(), this._lowQualityEnabled = !1, this._turnaroundPrefix = l(), this._turnaroundIndex = 0, null === R) {
            d.logInfo("Delayed loading protobuf handler after 6000ms"), setTimeout(this._loadProtobufHandler.bind(this), 6e3)
          } else d.logInfo("Protobuf handler is loaded already");
          setInterval(function () {
            v.logNormal("Last 30 seconds:" + t(this._trafficStats.lastChunk) + " Since last connect:" + t(this._trafficStats.sinceConnect) + " Total traffic:" + t(this._trafficStats.total)), this._trafficStats.lastChunk = 0
          }.bind(this), 3e4)
        }
        var n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T = i("x+tH").WSMode,
          C = !1,
          x = !1,
          E = i("7MZv").showTooManyStudiesNotice,
          I = i("XzZr"),
          A = I.ChartApiInterface,
          L = I.HandlerInfo,
          D = i("hGxK"),
          k = i("Wt0y"),
          O = i("xlbu").telemetry,
          M = i("i4z7"),
          R = null,
          V = i("Kxc7"),
          B = i("ePL1");
        i("iSkW"), n = i("NP3r").enabled, o = i("NP3r").getConfig, r = i("bKsZ").ProductFeatures, s = i("ogJP").requireFullInterfaceImplementation, a = i("+GxX").isFeatureEnabled, l = i("0waE").randomHash, c = i("pP4S").ResponseMethods, u = i("qFKp").isOnMobileAppPage, h = i("uOxu"), d = h.getLogger("ChartApi.Core", {
            color: "#706"
          }), p = h.getLogger("ChartApi.ChartSession", {
            color: "#706"
          }), f = h.getLogger("ChartApi.ChartSession", {
            highRate: !0,
            maxCount: 100,
            color: "#706"
          }), _ = h.getLogger("ChartApi.ChartSession", {
            maxCount: 0,
            color: "#706"
          }), m = h.getLogger("ChartApi.ChartSession", {
            maxCount: 50,
            color: "#706"
          }), g = h.getLogger("ChartApi.QuoteSession", {
            maxCount: 50,
            color: "#660"
          }), y = h.getLogger("ChartApi.QuoteSession", {
            highRate: !0,
            maxCount: 10,
            color: "#660"
          }), v = h.getLogger("ChartApi.TrafficMeter", {
            maxCount: 20,
            color: "#268"
          }), S = i("rOif"), b = i("wnP7").exchanges, w = i("BlPY"), P = Number(window.TELEMETRY_SERVER_TIME_DIFF_THRESHOLD) || 3e3, t.prototype.defaultWatchlistSymbols = function () {
            var e = S[window.locale];
            return void 0 === e && (e = S.default), e
          }, t.prototype.defaultResolutions = function () {
            return ["1", "3", "5", "15", "30", "45", "60", "120", "180", "240", "D", "W", "M", "1000R", "100R", "10R", "1R"]
          }, t.prototype.supportedSymbolsTypes = function () {
            return "bovespa" === TradingView.widgetCustomer ? w.filter(function (e) {
              return -1 !== ["", "stock", "futures", "index"].indexOf(e.value)
            }) : "cme" === TradingView.widgetCustomer ? w.filter(function (e) {
              return e.value !== B.types.QUANDL
            }) : w
          }, t.prototype.supportedExchangesList = function () {
            return b
          }, t.prototype.futuresRegex = function () {
            return /^(.+?)([12]!|\w\d{4})?$/
          }, t.prototype.enableLowQualityMode = function () {
            this._lowQualityEnabled = !0, this._sendLowQualityModeIfEnabled()
          }, t.prototype._sendLowQualityModeIfEnabled = function () {
            this._lowQualityEnabled && this.connected() && this._sendRequest("set_data_quality", [])
          }, t.prototype.setLoadNew = function (e) {
            this._loadNewBars = !!e
          }, t.prototype.quoteCreateSession = function (e) {
            return this._sendRequest("quote_create_session", [e])
          }, t.prototype.quoteDeleteSession = function (e) {
            return this._sendRequest("quote_delete_session", [e])
          }, t.prototype.quoteSetFields = function (e, t) {
            return this._sendRequest("quote_set_fields", [e, t])
          }, t.prototype.quoteAddSymbols = function (e, t) {
            return this._sendRequest("quote_add_symbols", [e, t])
          }, t.prototype.quoteRemoveSymbols = function (e, t) {
            return this._sendRequest("quote_remove_symbols", [e, t])
          }, t.prototype.quoteFastSymbols = function (e, t) {
            return this._sendRequest("quote_fast_symbols", [e, t])
          }, t.prototype.quoteHibernateAll = function (e) {
            return this._sendRequest("quote_hibernate_all", [e])
          }, t.prototype.depthCreateSession = function (e, t, i) {
            return this._sendRequest("depth_create_session", [e, t, i])
          }, t.prototype.depthDeleteSession = function (e) {
            return this._sendRequest("depth_delete_session", [e])
          }, t.prototype.depthSetSymbol = function (e, t) {
            return this._sendRequest("depth_set_symbol", [e, t])
          }, t.prototype.depthClearSymbol = function (e) {
            return this._sendRequest("depth_clear_symbol", [e])
          }, t.prototype.depthSetScale = function (e, t) {
            return this._sendRequest("depth_set_scale", [e, t])
          }, t.prototype.chartCreateSession = function (e, t) {
            return this._sendRequest("chart_create_session", [e, t])
          }, t.prototype.chartDeleteSession = function (e) {
            return this._sendRequest("chart_delete_session", [e])
          }, t.prototype.createSession = function (e, t) {
            this._sessions[e] = t, this._notificationHandlers[e] = {}, this.connected() && this._isAuthTokenLoaded && t.onMessage({
              method: "connected",
              params: []
            })
          }, t.prototype.removeSession = function (e) {
            delete this._sessions[e],
              delete this._notificationHandlers[e]
          }, t.prototype.connected = function () {
            return !!this._isConnected
          }, t.prototype._bindSocketEvents = function () {
            var e = this;
            this.connectDfd = new Promise(function (i, n) {
              e._wsBackendConnection.on("connect", function () {
                e._onConnect(), i()
              }), e._wsBackendConnection.on("message", e._onMessage.bind(e)), e._wsBackendConnection.on("disconnect", function (i) {
                e._authTokenDfd && (e._authTokenDfd = null), delete e._isConnected, e.studyCounter = 0, d.logNormal("disconnect session:" + e.sessionid + ", code:" + i.code + ", reason:" + i.reason + ", client reason:" + t.disconnectReason(i.code), null, !0), e._notifySessions({
                  method: "disconnected",
                  params: []
                }), delete e._metadataCallback, e._disconnectCount = (e._disconnectCount || 0) + 1, e._wsBackendConnection.isConnected() && (e._telemetryDisconnectTimeout = setTimeout(function () {
                  O.sendChartReport("disconnect")
                }, 5e3), e._wsBackendConnection.isMaxReconnects() && (e._notifySessions({
                  method: "reconnect_bailout",
                  params: []
                }), n(), O.sendChartReport("reconnect_bailout")))
              })
            })
          }, t.prototype.serverTimeOffset = function () {
            return this._serverTimeOffset ? this._serverTimeOffset : 0
          }, t.disconnectReason = function (e) {
            return 1e3 === e ? "Normal closure, meaning that the purpose for which the connection was established has been fulfilled." : 1001 === e ? 'An endpoint is "going away", such as a server going down or a browser having navigated away from a page.' : 1002 === e ? "An endpoint is terminating the connection due to a protocol error" : 1003 === e ? "An endpoint is terminating the connection because it has received a type of data it cannot accept (e.g., an endpoint that understands only text data MAY send this if it receives a binary message)." : 1004 === e ? "Reserved. The specific meaning might be defined in the future." : 1005 === e ? "No status code was actually present." : 1006 === e ? "The connection was closed abnormally, e.g., without sending or receiving a Close control frame" : 1007 === e ? "An endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [http://tools.ietf.org/html/rfc3629] data within a text message)." : 1008 === e ? 'An endpoint is terminating the connection because it has received a message that "violates its policy". This reason is given either if there is no other sutible reason, or if there is a need to hide specific details about the policy.' : 1009 === e ? "An endpoint is terminating the connection because it has received a message that is too big for it to process." : 1010 === e ? "An endpoint (client) is terminating the connection because it has expected the server to negotiate one or more extension, but the server didn't return them in the response message of the WebSocket handshake. <br /> Specifically, the extensions that are needed are: " + event.reason : 1011 === e ? "A server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request." : 1015 === e ? "The connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)." : "Unknown reason"
          },
          t.prototype._getAuthTokenDfd = function (e) {
            var t, i, n;
            if (this._loadNewBars) return Promise.resolve("load_new_token");
            if (V.enabled("widget") || -1 !== window.location.search.indexOf("widget_token") || -1 !== window.location.hash.indexOf("widget_token")) return -1 !== (t = window.TradingView && window.TradingView.widgetCustomer || "").indexOf("smartlab") ? Promise.resolve("widget_user_token-smartlab") : "seekingalpha" === t ? Promise.resolve("widget_user_token-seekingalpha") : "abrilcombr" === t ? Promise.resolve("widget_user_token-abrilcombr") : "healthitalia" === t ? Promise.resolve("widget_user_token-healthitalia") : "ivsgroup" === t ? Promise.resolve("widget_user_token-ivsgroup") : "moneytimescombr" === t ? Promise.resolve("widget_user_token-moneytimescombr") : "seudinheiro" === t ? Promise.resolve("widget_user_token-seudinheiro") : "marcopolocombr" === t ? Promise.resolve("widget_user_token-marcopolocombr") : "bovespa" === t ? Promise.resolve("widget_user_token-bmfbovespacombr") : "sgcompanyit" === t ? Promise.resolve("widget_user_token-sgcompanyit") : "sharejunction" === t ? Promise.resolve("widget_user_token-sharejunction") : "investopedia" === t ? Promise.resolve("widget_user_token-investopedia") : "spacemoneycombr" === t ? Promise.resolve("widget_user_token-spacemoneycombr") : Promise.resolve("widget_user_token");
            if (u("any")) {
              if (!window.is_authenticated) return Promise.resolve("widget_user_token-mobile-app");
              if (window.shopConf && !window.user.is_pro && !window.shopConf.offers.length) return Promise.resolve("widget_user_token-mobile-app-free")
            }
            return window.is_authenticated ? ((i = this)._authTokenManager || (n = new D, i._authTokenManager = n, i._authTokenManager.invalidated.subscribe(null, function (e) {
              i._authTokenManager.get().then(function (e) {
                e && i.connected() && i._sendRequest("set_auth_token", [e])
              })
            })), i._authTokenManager.get(e)) : Promise.resolve("unauthorized_user_token")
          }, t.prototype._onConnect = function () {
            var e, t, i, n, o, r;
            if (!this.connected() && (this._trafficStats.sinceConnect = 0, this._isAuthTokenLoaded = !1, e = this, this._connectOnlyOptions = this._connectOnlyOptions || {}, this._authTokenDfd = this._getAuthTokenDfd(this._connectOnlyOptions.tokenGrabSession), this._connectOnlyOptions = {}, t = this._wsBackendConnection.getConnectionStart(), i = this._wsBackendConnection.getConnectionDuration(), this._changeHandlerToJson(), this.sessionid = this._wsBackendConnection.getSessionId(), this.sessionid && !this._isConnected)) {
              this._pendingMessagesQueue = [], this._sendingQueuedRequestsCount = 0, this._isConnected = !0, n = JSON.parse(this.sessionid), this._sendLowQualityModeIfEnabled(), this._switchWSProtocol(), this._metadataServerHash = n.studies_metadata_hash || null;
              try {
                o = n.timestamp - (new Date).valueOf() / 1e3, this._serverTimeOffset = o
              } catch (e) {
                this._serverTimeOffset = 0
              }
              d.logInfo("Time shift with server:" + Math.round(this._serverTimeOffset) + " seconds."), this._authTokenDfd ? (this._sendingQueuedRequestsCount += 1, d.logInfo("Wait for auth token before send messages"), (r = this._authTokenDfd).then(function (t) {
                null !== e._authTokenDfd && e._authTokenDfd === r ? (d.logNormal("Auth token request is finished, token: " + Boolean(t)), e._authTokenDfd = null, t && e._pendingMessagesQueue.unshift({
                  method: "set_auth_token",
                  args: [t]
                }), e._onSendingQueueRequestFinished(), e._isAuthTokenLoaded = !0, e._notifySessions({
                  method: "connected",
                  params: []
                })) : d.logNormal("Comes auth token after requesting new token or after socket disconnected")
              }).catch(function () {
                d.logNormal("Requesting auth token is failed")
              })) : (d.logWarn("Deferred auth token object is not valid"), this._isAuthTokenLoaded = !0), TradingView.WEB_SOCKET_WAS_CONNECTED = !0, O.setSessionInfo(this.sessionid), O.sendChartReport("websocket_connected"), O.sendChartReport("websocket_connection_time_frame", {
                value: i
              }), O.timeCounters.series.wsConnected = t + i, O.sendChartReport("reconnect_count_frame", {
                value: this._wsBackendConnection.getReconnectCount()
              }), O.sendChartReport("redirect_count_frame", {
                value: this._wsBackendConnection.getRedirectCount()
              }), window.performance && window.performance.timing && !x && (x = !0, O.sendChartReport("before_websocket_connection_time_frame", {
                value: t - window.performance.timing.requestStart
              })), this._wsBackendConnection.resetCounters(), clearTimeout(this._telemetryDisconnectTimeout)
            }
          }, t.prototype.connect = function (e) {
            this._connectOnlyOptions = e, this._wsBackendConnection.isConnected() || this._wsBackendConnection.isConnecting() || this._wsBackendConnection.connect()
          }, t.prototype.disconnect = function (e) {
            return this._wsBackendConnection.disconnect(), !0
          }, t.prototype.switchTimezone = function (e, t) {
            return this._sendRequest("switch_timezone", [e, t])
          }, t.prototype.resolveSymbol = function (e, t, i, n) {
            return O.timeCounters.series["resolve_symbol_" + e] = Date.now(), this._notificationHandlers[e][t] = new L(n, t), this._sendRequest("resolve_symbol", [e, t, i])
          }, t.prototype.createSeries = function (e, t, i, n, o, r, s) {
            return this._notificationHandlers[e][t] = new L(s, t), this._sendRequest("create_series", [e, t, i, n, o, r])
          }, t.prototype.removeSeries = function (e, t, i) {
            return this._notificationHandlers[e][t] = new L(i, t), this._sendRequest("remove_series", [e, t])
          }, t.prototype.modifySeries = function (e, t, i, n, o, r) {
            return this._notificationHandlers[e][t] = new L(r, t), this._sendRequest("modify_series", [e, t, i, n, o])
          }, t.prototype.requestMoreData = function (e, t, i, n) {
            return this._notificationHandlers[e][t] = new L(n, t), this._sendRequest("request_more_data", [e, t, i])
          }, t.prototype.requestMetadata = function (e, t, i) {
            var n, o, r, s, a = this;
            a._metadataCallback ? a._metadataCallback.handlers.push(i) : (n = V.enabled("widget"), o = n ? "studies_metadata_widget" : "studies_metadata", r = "pro_hash", s = [], a._metadataCallback = function (e) {
              var t;
              for (a._metadataCallback = null, TVLocalForage.setItem(o, TradingView.clone(e)).then(function () {
                  if (d.logNormal("Updated studies_metadata cache"), !n) {
                    var e = pro.hash();
                    TVLocalForage.setItem(r, TradingView.clone(e)).then(function () {
                      d.logNormal("Updated pro_hash cache")
                    }).catch(function (e) {
                      d.logError("Cannot update pro_hash cache, reason: " + e)
                    })
                  }
                }).catch(function (e) {
                  d.logError("Cannot update studies_metadata cache, reason: " + e)
                }), t = 0; t < s.length; t++)(0, s[t])(TradingView.clone(e))
            }, a._metadataCallback.handlers = s, a._metadataCallback.handlers.push(i), d.logNormal("Requesting pro hash"), TVLocalForage.getItem(r).then(function (i) {
              var r = pro.hash();
              null !== i && i === r || n ? (d.logNormal("Pro hash has not changed, requesting from local"), TVLocalForage.getItem(o).then(function (i) {
                var n, o = null !== i && i.params[1].hash || null;
                if (null === o || null === a._metadataServerHash || a._metadataServerHash !== o) d.logNormal("Metadata hash has changed (cached:'" + o + "', server:'" + a._metadataServerHash + "'')"), a._requestMetadataFromServer(e, t, a._metadataCallback);
                else {
                  if (d.logNormal("Using studies_metadata from browser cache"), !a._metadataCallback) return void d.logWarn("Cached metadata received, but callback expired");
                  for (n = 0; n < a._metadataCallback.handlers.length; n++)(0, a._metadataCallback.handlers[n])(TradingView.clone(i));
                  a._metadataCallback = null
                }
              }).catch(function (i) {
                d.logError("Cannot get studies_metadata, reason: " + i), a._requestMetadataFromServer(e, t, a._metadataCallback)
              })) : (d.logNormal("Pro hash has changed (cached: '" + i + "', current:'" + r + "')"), a._requestMetadataFromServer(e, t, a._metadataCallback))
            }).catch(function (i) {
              d.logError("Cannot get studies_metadata, reason: " + i), a._requestMetadataFromServer(e, t, a._metadataCallback)
            }))
          }, t.prototype.authTokenManager = function () {
            return this._authTokenManager
          }, t.prototype._requestMetadataFromServer = function (e, t, i) {
            return !!i && (d.logNormal("Request studies_metadata from server"), this._notificationHandlers[e][t] = new L(i, t), this._sendRequest("request_studies_metadata", [e, t]))
          }, t.prototype.isCanCreateStudy = function (e, t) {
            if (!n(r.STUDY_ON_STUDY)) return !1;
            var i = o(r.STUDY_ON_STUDY);
            return !0 === e ? this.childStudyCounter < i.child_limit : this.studyCounter < i.limit
          }, t.prototype.createStudy = function (e, t, i, n, o, r, s, a) {
            if (!this.isCanCreateStudy()) return E(), !1;
            this._notificationHandlers[e][t] = new L(s, t);
            var l = this._sendRequest(!0 === a ? "create_child_study" : "create_study", [e, t, i, n, o, r]);
            return !1 !== l && (this.studyCounter++, a && this.childStudyCounter++, l)
          }, t.prototype.rebindStudy = function (e, t, i, n, o, r, s, a) {
            if (a === A.REBIND_STUDY_STANDALONE_TO_CHILD) {
              if (!this.isCanCreateStudy(!0)) return !1;
              this.childStudyCounter++
            } else a === A.REBIND_STUDY_CHILD_TO_STANDALONE && this.childStudyCounter--;
            return i = i || "", this._notificationHandlers[e][t] = new L(s, t), this._sendRequest("child_study_rebind", [e, t, i, n, o, r]), !0
          }, t.prototype.removeStudy = function (e, t, i, n) {
            this._notificationHandlers[e][t] = new L(i, t);
            var o = this._sendRequest("remove_study", [e, t]);
            return !1 !== o && (this.studyCounter--, n && this.childStudyCounter--, o)
          }, t.prototype.modifyStudy = function (e, t, i, n, o) {
            return this._notificationHandlers[e][t] = new L(o, t), this._sendRequest("modify_study", [e, t, i, n])
          }, t.prototype.createPointset = function (e, t, i, n, o, r, s) {
            return this._notificationHandlers[e][t] = new L(s, t), this._sendRequest("create_pointset", [e, t, i, n, o, r])
          }, t.prototype.modifyPointset = function (e, t, i, n, o) {
            return this._notificationHandlers[e][t] = new L(o, t), this._sendRequest("modify_pointset", [e, t, i, n])
          }, t.prototype.removePointset = function (e, t, i) {
            return this._notificationHandlers[e][t] = new L(i, t), this._sendRequest("remove_pointset", [e, t])
          }, t.prototype.requestMoreTickmarks = function (e, t, i, n) {
            return this._notificationHandlers[e][t] = new L(n, t),
              this._sendRequest("request_more_tickmarks", [e, t, i])
          }, t.prototype.requestFirstBarTime = function (e, t, i, n) {
            return this._notificationHandlers[e][t] = new L(n, t), this._sendRequest("get_first_bar_time", [e, t, i])
          }, t.prototype._generateNextTurnaround = function () {
            var e = this._turnaroundPrefix + this._turnaroundIndex;
            return this._turnaroundIndex += 1, e
          }, t.prototype.replayCreateSession = function (e) {
            return this._sendRequest("replay_create_session", [e])
          }, t.prototype.replayDeleteSession = function (e) {
            return this._sendRequest("replay_delete_session", [e])
          }, t.prototype.replayReset = function (e, t, i) {
            var n = this._generateNextTurnaround();
            return this._notificationHandlers[e][n] = new L(i, n), this._sendRequest("replay_reset", [e, n, t])
          }, t.prototype.replayStart = function (e, t, i) {
            var n = this._generateNextTurnaround();
            return this._notificationHandlers[e][n] = new L(i, n), this._sendRequest("replay_start", [e, n, t])
          }, t.prototype.replayStop = function (e, t) {
            var i = this._generateNextTurnaround();
            return this._notificationHandlers[e][i] = new L(t, i), this._sendRequest("replay_stop", [e, i])
          }, t.prototype.replayStep = function (e, t, i) {
            var n = this._generateNextTurnaround();
            return this._notificationHandlers[e][n] = new L(i, n), this._sendRequest("replay_step", [e, n, t])
          }, t.prototype.replayAddSeries = function (e, t, i, n) {
            var o = this._generateNextTurnaround();
            return this._notificationHandlers[e][o] = new L(n, o), this._sendRequest("replay_add_series", [e, o, t, i])
          }, t.prototype.replayRemoveSeries = function (e, t, i, n) {
            var o = this._generateNextTurnaround();
            return this._notificationHandlers[e][o] = new L(n, o), this._sendRequest("replay_remove_series", [e, o, t, i])
          }, t.prototype.replaySetResolution = function (e, t, i) {
            var n = this._generateNextTurnaround();
            return this._notificationHandlers[e][n] = new L(i, n), this._sendRequest("replay_set_resolution", [e, n, t])
          }, t.prototype.redirectCount = function () {
            return this._wsBackendConnection.getRedirectCount()
          }, t.prototype.disconnectCount = function () {
            return this._disconnectCount || 0
          }, t.prototype._loadProtobufHandler = function () {
            d.logInfo("Start loading protobuf handler"), Promise.all([i.e(143), i.e("protobuf-handler")]).then(function (e) {
              R = i("lxLC"), d.logInfo("Protobuf handler loaded."), this.connected() && this._switchWSProtocol()
            }.bind(this).bind(null, i)).catch(i.oe)
          }, t.prototype._switchWSProtocol = function () {
            var e, t, i = a("protobuf-maintenance");
            i || null === R ? (this._changeHandlerToJson(), t = i ? "protobuf maintenance" : "no alternatives", d.logInfo("stay on json because of " + t)) : (this._sendingQueuedRequestsCount += 1, e = JSON.stringify({
              m: "switch_protocol",
              p: ["protobuf"]
            }), this._wsBackendConnection.send(e), d.logInfo("Send command to switch protocol to protobuf. Wait response before send other messages..."))
          }, t.prototype._changeHandlerToProtobuf = function () {
            this._protocol = "protobuf", this._dataHandleModule = new R, this._wsBackendConnection.switchWebsocketMode(T.Binary)
          }, t.prototype._changeHandlerToJson = function () {
            this._protocol = "json", this._dataHandleModule = new M, this._wsBackendConnection.switchWebsocketMode(T.Text)
          }, t.prototype._invokeHandler = function (e, t) {
            e && e(t)
          }, t.prototype._flushPendingMessages = function () {
            d.logInfo("Flush pending messages. Count=" + this._pendingMessagesQueue.length), this._pendingMessagesQueue.forEach(function (e) {
              this._sendRequest(e.method, e.args)
            }, this), this._pendingMessagesQueue = []
          }, t.prototype._sendRequest = function (e, t) {
            var i, n, o, r, s, a, l, c;
            return 0 !== this._sendingQueuedRequestsCount ? (this._pendingMessagesQueue.push({
              method: e,
              args: t
            }), !0) : (n = {
              m: e,
              p: i = this._dataHandleModule[e].apply(this._dataHandleModule, t)
            }, ["create_study", "child_study_rebind", "create_child_study", "modify_study"].includes(e) && n.p.inputs ? (o = JSON.parse(n.p.inputs.readString(n.p.inputs.remaining(), "b")), n.p.inputs.clear(), (r = Object.assign({}, n.p)).inputs = o, s = {
              m: e,
              p: r
            }, a = JSON.stringify(s)) : a = JSON.stringify(n), ("json" === this._protocol ? i.length > 0 : i.session) ? (l = "json" === this._protocol ? i[0] : i.session).startsWith("qs_") ? g.logNormal("send: " + a) : l.startsWith("cs_") && p.logNormal("send: " + a) : d.logNormal("send: " + a), c = this._dataHandleModule.prepareEncodeMessage(e, i), this._wsBackendConnection.send(c))
          }, t.prototype._onMessage = function (e) {
            this._calcTrafficStats(e);
            var t = this.unpack(e);
            if ("protocol_switched" === t.method && t.params[0] !== this._protocol) return d.logInfo("Protocol changing accepted. Change handler and try flush queue"), this._changeHandlerToProtobuf(), void this._onSendingQueueRequestFinished();
            this._dispathNotification(t, e)
          }, t.prototype._onSendingQueueRequestFinished = function () {
            this._sendingQueuedRequestsCount -= 1, d.logInfo("Sending queue request finished. Remaining pending requests=" + this._sendingQueuedRequestsCount), this._sendingQueuedRequestsCount < 0 && d.logError("Invalid queue state=" + this._sendingQueuedRequestsCount), 0 === this._sendingQueuedRequestsCount && this._flushPendingMessages()
          }, t.prototype._convertTimescaleResponse = function (e) {
            return this._dataHandleModule.convertTimescaleResponse(e)
          }, t.prototype._appendDuration = function (e, t) {
            return e ? t + ", duration: " + Math.round(Date.now() / 1e3 - e + this._serverTimeOffset) + "s" : t
          }, t.prototype._dispathNotification = function (e, t) {
            var i, n, o, r, s, a, l, u, v, S, b, w, T, x = e.params.shift();
            if (this._notificationHandlers[x]) switch (i = e.params[0], "symbol_resolved" === e.method && (n = e.params[1].full_name, O.sendChartReport("symbol_resolved", {
              count: 1,
              additional: {
                symbol: n
              }
            }), "number" == typeof (o = O.timeCounters.series["resolve_symbol_" + x]) && (r = Date.now() - o, (s = e.params[e.params.length - 1]) && (l = (a = Math.round(1e3 * (s - this.serverTimeOffset())) - o) > 0 && r - a >= P, O.sendChartReport("symbol_resolve_server_time_frame", {
              value: l ? a : r,
              additional: {
                symbol: n
              }
            })), O.sendChartReport("symbol_resolve_time_frame", {
              value: r,
              additional: {
                symbol: n
              }
            }))), O.timeCounters.series.wsConnected && "series_completed" === e.method && (O.sendChartReport("first_series_full_time_frame", {
              value: Date.now() - O.timeCounters.series.wsConnected
            }), delete O.timeCounters.series.wsConnected, window.performance && window.performance.timing && !C && (C = !0, O.sendChartReport("page_full_load_time_frame", {
              value: Date.now() - window.performance.timing.requestStart
            }))), x.startsWith("cs_") && (u = "recv: " + ("json" === this._protocol ? t : JSON.stringify({
                m: e.m,
                s: x,
                p: e.p
              })),
              "data_update" === e.method ? (u = h.isHighRateEnabled() ? u : u.slice(0, 500), f.logNormal(this._appendDuration(e.time, u))) : "study_loading" === e.method ? _.logNormal(this._appendDuration(e.time, u)) : "tickmark_update" === e.method ? m.logNormal(this._appendDuration(e.time, u)) : p.logNormal(this._appendDuration(e.time, u))), x.startsWith("qs_") && ("quote_symbol_data" === e.method ? y.logNormal : g.logNormal)("recv: " + ("json" === this._protocol ? t : JSON.stringify({
              m: e.m,
              s: x,
              p: e.p
            }))), e.method) {
              case "timescale_update":
                v = this._dataHandleModule.getTimescaleObjects(e), S = this._dataHandleModule.getTimescaleChangeset(e), (b = this._convertTimescaleResponse(S)).clear = 0 === b.changes.length && 0 === b.index_diff.length && 0 === b.marks.length, this._sessions[x].onMessage({
                  method: "timescale_update",
                  params: b
                }), this._dataHandleModule.prepareTimescaleUpdate(x, v, function (e, t, i) {
                  this._invokeNotificationHandler(e, t, i)
                }.bind(this));
                break;
              case "tickmark_update":
                (b = this._convertTimescaleResponse(e.params[0])).changes = [], this._sessions[x].onMessage({
                  method: "timescale_update",
                  params: b
                });
                break;
              case "data_update":
                this._dataHandleModule.prepareDataUpdate(x, e, function (e, t, i) {
                  this._invokeNotificationHandler(e, t, i)
                }.bind(this));
                break;
              case "index_update":
                for (w in e.params[0]) T = {
                  method: "index_update",
                  params: e.params[0][w]
                }, this._invokeNotificationHandler(x, w, T);
                break;
              case "critical_error":
                d.logInfo(new Date + " critical_error session:" + this.sessionid + " reason:" + e.params[0]), O.sendChartReport("critical_error"), this._sessions[x].onMessage({
                  method: "critical_error",
                  params: e.params
                });
                break;
              case "quote_symbol_data":
              case "quote_list_fields":
              case "depth_symbol_error":
              case "depth_symbol_success":
              case "dd":
              case "dpu":
              case "depth_bar_last_value":
                this._sessions[x].onMessage({
                  method: e.method,
                  params: e.params
                });
                break;
              case c.point:
              case c.resolutions:
              case c.endOfData:
              case c.instanceId:
                this._sessions[x].onMessage(e);
                break;
              default:
                this._invokeNotificationHandler(x, i, e)
            }
          }, t.prototype._isStrategy = function (e, t) {
            var i = this._notificationHandlers[e][t];
            return i && i.handler && i.handler.isTVScriptStrategy
          }, t.prototype._invokeNotificationHandler = function (e, t, i) {
            if (void 0 !== t) {
              var n = this._notificationHandlers[e][t];
              "series_deleted" !== i.method && "study_deleted" !== i.method && 0 !== i.method.indexOf("replay_") || delete this._notificationHandlers[e][t], void 0 !== n && this._invokeHandler(n.handler, i)
            }
          }, t.prototype._notifySessions = function (e) {
            var t, i;
            for (t in this._sessions) {
              if (!this._sessions.hasOwnProperty(t)) return;
              "function" == typeof (i = this._sessions[t]).onMessage && i.onMessage(e)
            }
          }, t.prototype.unpack = function (e) {
            return this._dataHandleModule.unpack(e)
          }, t.prototype._symbolSearchRequest = null, t.prototype.searchSymbols = function (e, t, i, n, o, r, s, a, l, c) {
            function u() {
              var e = (new Date).getTime() - m;
              O.sendChartReport("symbol_search_time_frame", {
                value: e
              })
            }

            function h() {
              u(), O.sendChartReport("symbol_search_http_error"), g._symbolSearchRequest = null
            }
            var d, p, f, _, m, g = this;
            this._symbolSearchRequest && this._symbolSearchRequest.abort(), d = location.protocol + "//" + window.SS_HOST, k.isProd() ? d += "/symbol_search/" : d += "/local_search/", window.SS_URL && (d = window.SS_URL), p = {
              text: e,
              exchange: t,
              type: i,
              hl: o,
              lang: n
            }, window.SS_DOMAIN_PARAMETER && (p.domain = window.SS_DOMAIN_PARAMETER), r && (p.strict = 1), i === B.types.QUANDL && (d = "https://quandlapi.tradingview.com/api/v3/datasets.json", p = {
              query: e,
              database_code: t
            }), s && (p.broker = s, a && (p.tradable = !0), l && (p.unhide = l)), f = Object.keys(p).map(function (e) {
              return encodeURIComponent(e) + "=" + encodeURIComponent(p[e])
            }).join("&"), (_ = new XMLHttpRequest).open("GET", d + "?" + f), m = (new Date).getTime(), _.addEventListener("load", function () {
              var e = JSON.parse(_.responseText);
              c && c(e), u(), O.sendChartReport("symbol_search_http_status", {
                value: _.status
              }), g._symbolSearchRequest = null
            }), _.addEventListener("error", h), _.addEventListener("timeout", h), this._symbolSearchRequest = _, _.send()
          }, t.prototype.getMarks = function (e, t, i, n, o) {
            throw Error("This method is not implemented")
          }, t.prototype.getTimescaleMarks = function (e, t, i, n, o) {
            throw Error("This method is not implemented")
          }, t.prototype.getPingInfo = function () {
            return this._wsBackendConnection.getPingInfo()
          }, t.prototype._calcTrafficStats = function (e) {
            var t = "protobuf" === this._protocol ? e.byteLength : e.length;
            this._trafficStats.total += t, this._trafficStats.sinceConnect += t, this._trafficStats.lastChunk += t
          }, s(t, "TVChartApi", A, "ChartApiInterface"), window.ChartApiInstance = new t(window.WSBackendConnection), e && e.exports && (e.exports = t)
      }).call(this, i("YuTi")(e))
    },
    dOnf: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i, o, r;
        if ("object" != typeof e || null == e || "number" == typeof e.nodeType) t = e;
        else if (Array.isArray(e))
          for (t = [], i = 0, o = e.length; i < o; i++) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = n(e[i]));
        else
          for (r in t = {}, e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = n(e[r]));
        return t
      }
      i.r(t), i.d(t, "deepCopy", function () {
        return n
      })
    },
    dTSQ: function (e, t, i) {
      "use strict";

      function n(e) {
        return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
      }
      i.r(t), i.d(t, "regExpEscape", function () {
        return n
      })
    },
    dUDn: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "StandardPivotPointsPriceAxisView", function () {
        return s
      }), n = i("mrSG"), o = i("KcY8"), r = ["P", "S1", "R1", "S2", "R2", "S3", "R3", "S4", "R4", "S5", "R5"], s = function (e) {
        function t(t, i) {
          var n, o = e.call(this) || this;
          return o._source = t, o._data = i, n = i.name, o._completeName = "P" === n.toUpperCase() ? "P" : "S" + n[1] + "/R" + n[1], o
        }
        return n.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          var n, o, s, a, l, c, u, h;
          e.visible = !1, t.visible = !1, (n = this._source.properties()).visible.value() && (o = this._completeName, (s = n.levelsStyle.visibility)[o] && s[o].value() && (a = this._source.model().timeScale(), l = this._source.priceScale(), a.isEmpty() || null === a.visibleBarsStrictRange() || null !== l && l.isEmpty() || (c = this._source.customData()) && c.pivots && (u = this._source.pricesView().prices()[r.indexOf(this._data.name.toUpperCase())]) && (i.background = u.color, i.color = this.generateTextColor(u.color), i.coordinate = u.coordinate, i.floatCoordinate = u.floatCoordinate, (h = this._source.model().properties().scalesProperties).showStudyLastValue.value() && (e.text = u.formatted, e.visible = !0), h.showStudyPlotLabels.value() && (t.text = this._source.priceLabelText(this._data.name), t.visible = !0))))
        }, t
      }(o.a)
    },
    dfhE: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k;
      i.r(t), i.d(t, "STATUS_OFFLINE", function () {
        return n
      }), i.d(t, "STATUS_RESOLVING", function () {
        return o
      }), i.d(t, "STATUS_LOADING", function () {
        return r
      }), i.d(t, "STATUS_READY", function () {
        return s
      }), i.d(t, "STATUS_INVALID_SYMBOL", function () {
        return a
      }), i.d(t, "STATUS_SNAPSHOT", function () {
        return l
      }), i.d(t, "STATUS_EOD", function () {
        return c
      }), i.d(t, "STATUS_PULSE", function () {
        return u
      }), i.d(t, "STATUS_DELAYED", function () {
        return h
      }), i.d(t, "STATUS_DELAYED_STREAMING", function () {
        return d
      }), i.d(t, "STATUS_NO_BARS", function () {
        return p
      }), i.d(t, "STATUS_REPLAY", function () {
        return f
      }), i.d(t, "STYLE_BARS", function () {
        return _
      }), i.d(t, "STYLE_CANDLES", function () {
        return m
      }), i.d(t, "STYLE_LINE", function () {
        return g
      }), i.d(t, "STYLE_LINE_TYPE_MARKERS", function () {
        return y
      }), i.d(t, "STYLE_LINE_TYPE_STEP", function () {
        return v
      }), i.d(t, "STYLE_LINE_TYPE_SIMPLE", function () {
        return S
      }), i.d(t, "STYLE_AREA", function () {
        return b
      }), i.d(t, "STYLE_RENKO", function () {
        return w
      }), i.d(t, "STYLE_KAGI", function () {
        return P
      }), i.d(t, "STYLE_PNF", function () {
        return T
      }), i.d(t, "STYLE_PB", function () {
        return C
      }), i.d(t, "STYLE_HEIKEN_ASHI", function () {
        return x
      }), i.d(t, "STYLE_HOLLOW_CANDLES", function () {
        return E
      }), i.d(t, "STYLE_BASELINE", function () {
        return I
      }), i.d(t, "STYLE_RANGE", function () {
        return A
      }), i.d(t, "STYLE_HILO", function () {
        return L
      }), i.d(t, "STYLE_SHORT_NAMES", function () {
        return D
      }), i.d(t, "SYMBOL_STRING_DATA", function () {
        return k
      }), n = 0, o = 1, r = 2, s = 3, a = 4, l = 5, c = 6, u = 7, h = 8, d = 9, p = 10, f = 11, m = 1, g = 2, y = 0, v = 1, S = 2, b = 3, w = 4, P = 5, T = 6, C = 7, x = 8, E = 9, I = 10, A = 11, L = 12, (D = {})[_ = 0] = "bar", D[m] = "candle", D[E] = "hollowCandle", D[g] = "line", D[b] = "area", D[w] = "renko", D[C] = "pb", D[P] = "kagi", D[T] = "pnf", D[x] = "ha", D[I] = "baseline", D[A] = "range", D[L] = "hilo", (k = {})[w] = {
        type: "BarSetRenko@tv-prostudies",
        basicStudyVersion: 15
      }, k[C] = {
        type: "BarSetPriceBreak@tv-prostudies",
        basicStudyVersion: 15
      }, k[P] = {
        type: "BarSetKagi@tv-prostudies",
        basicStudyVersion: 15
      }, k[T] = {
        type: "BarSetPnF@tv-prostudies",
        basicStudyVersion: 15
      }, k[x] = {
        type: "BarSetHeikenAshi@tv-basicstudies",
        basicStudyVersion: 60
      }, k[A] = {
        type: "BarSetRange@tv-basicstudies",
        basicStudyVersion: 72
      }
    },
    di4O: function (e, t, i) {
      "use strict";

      function n() {
        var e, t, i = a.getJSON(u),
          n = Object.assign({}, h, i);
        return void 0 === i && (void 0 !== a.getJSON("chartproperties") && void 0 !== (e = a.getJSON("chartproperties").symbolWatermarkProperties) && (t = Object(s.tryParseRgba)(e.color), n = Object.assign(n, e), null !== t && (0 !== t[3] ? n.visibility = !0 : (t[3] = .25, n.color = Object(s.rgbaToString)(t)))), delete n.transparency), n
      }

      function o() {
        return null === d && (d = new c.a(n()), a.onSync.subscribe(null, function () {
          null !== d && d.mergeAndFire(n())
        }), d.listeners().subscribe(null, function () {
          null !== d && a.setJSON(u, d.state())
        })), d
      }

      function r() {
        null !== d && d.mergeAndFire(h)
      }
      var s, a, l, c, u, h, d;
      i.r(t), i.d(t, "watermarkProperty", function () {
        return o
      }), i.d(t, "restoreWatermarkPropertyDefaults", function () {
        return r
      }), s = i("eJTA"), a = i("Vdly"), l = i("tc+8"), c = i.n(l), u = "symbolWatermark", h = {
        visibility: !1,
        color: "rgba(80, 83, 94, 0.25)"
      }, d = null
    },
    dm8g: function (e, t, i) {
      "use strict";

      function n(e) {
        return e + "_" + (window.user && window.user.username || "")
      }

      function o(e) {
        return Object(s.fetch)("/u/sync/", {
          credentials: "same-origin"
        }).then(function (e) {
          return e.json()
        }, function (e) {
          c.logError(e)
        }).then(function (t) {
          t.is_authenticated !== window.is_authenticated && (window.is_authenticated = t.is_authenticated, Object(l.trackEvent)("Sync User Data", "Different Auth", n(e))), t.pro_plan !== window.user.pro_plan && (window.user.pro_plan = t.pro_plan, t.pro_plan || (window.user.is_pro = void 0), Object(l.trackEvent)("Sync User Data", "Different Pro Plan", n(e)))
        })
      }
      var r, s, a, l, c;
      i.r(t), i.d(t, "syncUserData", function () {
        return o
      }), r = i("bSeV"), s = i("BHQF"), a = i("uOxu"), l = i("PC8g"), c = Object(a.getLogger)("User.Sync")
    },
    dn9U: function (e, t, i) {
      "use strict";
      var n = function () {
        function e(e, t) {
          return t.id || (t.id = e), t
        }

        function t(t) {
          var i, n, r, s, a, l, c = {},
            u = t && t.drawing(),
            h = t && t.alertSeriesAlerts();
          for (u ? (a = "LineToolVertLine" === u.type ? function (e) {
              return "cross" === e.id
            } : 1 === u.plots.length ? function (e) {
              return !e.isChannel
            } : 2 === u.plots.length ? function (e) {
              return !!e.isChannel
            } : function (e) {
              return "comparsion" === e.type
            }, n = o) : h && h.conditions ? (n = $.extend(!0, {}, o), $.each(h.conditions, function (e, t) {
              t.type = "pine_script", n[e] = t
            })) : n = o, i = Object.keys(n), l = 0; l < i.length; l++) e(s = i[l], r = n[s]), a && !a(r) || (c[s] = r);
          return c
        }
        var i, n, o = {
            cross: {
              title: $.t("Crossing"),
              type: "comparison"
            },
            crosses_from_below: {
              title: $.t("Crossing Up"),
              type: "comparison"
            },
            crosses_from_above: {
              title: $.t("Crossing Down"),
              type: "comparison"
            },
            above: {
              title: $.t("Greater Than"),
              type: "comparison"
            },
            below: {
              title: $.t("Less Than"),
              type: "comparison"
            },
            enters_channel: {
              title: $.t("Entering Channel"),
              isChannel: !0,
              type: "comparison"
            },
            leaves_channel: {
              title: $.t("Exiting Channel"),
              isChannel: !0,
              type: "comparison"
            },
            inside_channel: {
              title: $.t("Inside Channel"),
              isChannel: !0,
              type: "comparison"
            },
            outside_channel: {
              title: $.t("Outside Channel"),
              isChannel: !0,
              type: "comparison"
            },
            moving_up: {
              title: $.t("Moving Up"),
              type: "moving"
            },
            moving_down: {
              title: $.t("Moving Down"),
              type: "moving"
            },
            moving_up_percents: {
              title: $.t("Moving Up %"),
              descriptionTitle: $.t("Moving Up"),
              type: "moving",
              percents: !0
            },
            moving_down_percents: {
              title: $.t("Moving Down %"),
              descriptionTitle: $.t("Moving Down"),
              type: "moving",
              percents: !0
            }
          },
          r = Object.keys(o);
        for (n = r.length - 1; n >= 0; n--) e(i = r[n], o[i]);
        return i = null, {
          get: t,
          getData: function (e, i) {
            var n;
            return (n = i ? t(i)[e] : o[e]) && !n.id && (n.id = e), n
          },
          defaults: function (e) {
            return void 0 !== e ? o[e] : o
          },
          ordered: function (e, i) {
            var n, o, r, s = t(e),
              a = ["cross", "crosses_from_below", "crosses_from_above", "above", "below", "enters_channel", "leaves_channel", "inside_channel", "outside_channel", "moving_up", "moving_down", "moving_up_percents", "moving_down_percents"],
              l = [],
              c = Object.keys(s);
            for (i = i || {}, o = c.length - 1; o >= 0; o--) "pine_script" === s[n = c[o]].type && l.push(s[n]);
            if (l.sort(function (e, t) {
                return e.title.localeCompare(t.title)
              }), (r = e && e.alertSeries && e.alertSeries()) && r.plots && 0 === r.plots.length) return l;
            for (i.needSeparator && l.push({
                separator: !0
              }), o = 0; o < a.length; o++) n = a[o], s.hasOwnProperty(n) && l.push(s[n]);
            return l
          }
        }
      }();
      TradingView.AlertConditions = n, e.exports = n
    },
    dwZ6: function (e, t, i) {
      "use strict";
      i.d(t, "a", function () {
        return n
      });
      var n = 39
    },
    e1ZQ: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p, f, _;
      i.r(t), i.d(t, "dateFormatFunctions", function () {
        return p
      }), i.d(t, "availableDateFormats", function () {
        return f
      }), i.d(t, "defaultDateFormat", function () {
        return _
      }), i("YFKU"), n = i("kcTO"), o = {
        1: window.t("Jan"),
        2: window.t("Feb"),
        3: window.t("Mar"),
        4: window.t("Apr"),
        5: window.t("May"),
        6: window.t("Jun"),
        7: window.t("Jul"),
        8: window.t("Aug"),
        9: window.t("Sep"),
        10: window.t("Oct"),
        11: window.t("Nov"),
        12: window.t("Dec")
      }, r = function (e, t) {
        return (t ? e.getMonth() : e.getUTCMonth()) + 1
      }, s = function (e, t) {
        return t ? e.getDate() : e.getUTCDate()
      }, a = function (e, t) {
        return t ? e.getFullYear() : e.getUTCFullYear()
      }, l = function (e, t) {
        return Object(n.numberToStringWithLeadingZero)(s(e, t), 2)
      }, c = function (e, t) {
        return o[r(e, t)]
      }, u = function (e, t) {
        return Object(n.numberToStringWithLeadingZero)(r(e, t), 2)
      }, h = function (e, t) {
        return Object(n.numberToStringWithLeadingZero)(a(e, t) % 100, 2)
      }, d = function (e, t) {
        return Object(n.numberToStringWithLeadingZero)(a(e, t), 4)
      }, p = {
        "dd MMM 'yy": function (e, t) {
          return l(e, t) + " " + c(e, t) + " '" + h(e, t)
        },
        "MMM dd": function (e, t) {
          return c(e, t) + " " + l(e, t)
        },
        "yyyy-MM-dd": function (e, t) {
          return d(e, t) + "-" + u(e, t) + "-" + l(e, t)
        },
        "yy-MM-dd": function (e, t) {
          return h(e, t) + "-" + u(e, t) + "-" + l(e, t)
        },
        "yy/MM/dd": function (e, t) {
          return h(e, t) + "/" + u(e, t) + "/" + l(e, t)
        },
        "yyyy/MM/dd": function (e, t) {
          return d(e, t) + "/" + u(e, t) + "/" + l(e, t)
        },
        "dd-MM-yyyy": function (e, t) {
          return l(e, t) + "-" + u(e, t) + "-" + d(e, t)
        },
        "dd-MM-yy": function (e, t) {
          return l(e, t) + "-" + u(e, t) + "-" + h(e, t)
        },
        "dd/MM/yy": function (e, t) {
          return l(e, t) + "/" + u(e, t) + "/" + h(e, t)
        },
        "dd/MM/yyyy": function (e, t) {
          return l(e, t) + "/" + u(e, t) + "/" + d(e, t)
        },
        "MM/dd/yy": function (e, t) {
          return u(e, t) + "/" + l(e, t) + "/" + h(e, t)
        },
        "MM/dd/yyyy": function (e, t) {
          return u(e, t) + "/" + l(e, t) + "/" + d(e, t)
        }
      }, f = Object.keys(p), _ = -1 !== ["ja", "ko", "zh", "zh_TW"].indexOf(window.language || "") ? "yyyy-MM-dd" : "dd MMM 'yy"
    },
    e92V: function (e, t, i) {
      "use strict";

      function n(e) {
        return "LineToolVbPFixed" === e || "LineToolRegressionTrend" === e || e in s
      }

      function o(e) {
        return e in r || n(e)
      }
      var r, s;
      i.d(t, "b", function () {
        return n
      }), i.d(t, "a", function () {
        return o
      }), r = i("OH2X"), s = i("rwPJ")
    },
    "eC//": function (e, t, i) {
      "use strict";
      var n, o;
      i.d(t, "b", function () {
        return n
      }), i.d(t, "a", function () {
        return o
      }), i("YFKU"), n = '<{{tag}}{{^tag}}a href="{{href}}" target="_blank"{{/tag}} class="{{classes}}" title="{{title}}">{{{icon}}}</{{tag}}{{^tag}}a{{/tag}}>', o = '<span class="{{classes}}">{{{icon}}}</span>'
    },
    eGfm: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "SharingChartService", function () {
        return l
      }), n = i("bSeV"), o = i("PC8g"), r = i("hY0g"), s = i.n(r), a = i("FBuY"), l = function () {
        function e(e, t, i) {
          var n = this;
          void 0 === i && (i = 0), this._requestInProgress = !1, this._watchedSharingEnabled = new s.a, this._sharingValueChangedEvent = "SharingValueChanged", this._uid = t, this._chartId = i, this._watchedSharingEnabled.setValue(e), a.TVXWindowEvents.on(this._sharingValueChangedEvent, function (e) {
            var t = JSON.parse(e);
            n._chartId === t.chartId && n._watchedSharingEnabled.setValue(t.value)
          })
        }
        return e.prototype.destroy = function () {
            this._watchedSharingEnabled.unsubscribe()
          },
          e.prototype.sharingEnabled = function () {
            return this._watchedSharingEnabled
          }, e.prototype.setSharingEnabled = function (e) {
            var t = this;
            window.runOrSignIn(function () {
              var i = e ? "on" : "off";
              Object(o.trackEvent)("GUI", "Turn sharing chart " + i), t._setSharing(e)
            }, {
              source: "Sharing chart"
            })
          }, e.prototype.isEnabled = function () {
            return this._watchedSharingEnabled.value()
          }, e.prototype.toggleSharing = function () {
            var e = !this.isEnabled();
            return this.setSharingEnabled(e), e
          }, e.prototype._setSharing = function (e) {
            var t, i = this;
            !1 === this._requestInProgress && (this._watchedSharingEnabled.setValue(e), t = {
              chartId: this._chartId,
              value: e
            }, this._sendSyncEvent(t), this._requestInProgress = !0, this._saveSharingValue(e).then(function (e) {
              [403, 404, 500].includes(e.status) && (t = {
                chartId: i._chartId,
                value: !0
              }, i._watchedSharingEnabled.setValue(!0), i._sendSyncEvent(t)), i._requestInProgress = !1
            }).catch(function () {
              t = {
                chartId: i._chartId,
                value: !e
              }, i._watchedSharingEnabled.setValue(!e), i._sendSyncEvent(t), i._requestInProgress = !1
            }))
          }, e.prototype._sendSyncEvent = function (e) {
            a.TVXWindowEvents.emit(this._sharingValueChangedEvent, JSON.stringify(e))
          }, e.prototype._saveSharingValue = function (e) {
            var t = JSON.stringify({
              is_private: !e
            });
            return fetch("/api/v1/charts/" + this._uid + "/sharing/", {
              headers: new Headers({
                "Content-Type": "application/json"
              }),
              method: "PATCH",
              credentials: "same-origin",
              body: t
            })
          }, e
      }()
    },
    eI3D: function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "OFFERS", function () {
        return n
      });
      var n = {
        trial: "trial",
        early_access: "early_access",
        upsale: "upsale",
        black_friday: "black_friday",
        cyber_monday: "cyber_monday",
        custom_discount: "custom_discount",
        longer_cycle: "longer_cycle"
      }
    },
    eJTA: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        return I.isNaN(t) ? e : t < e ? e : t > i ? i : Math.round(t)
      }

      function o(e, t, i) {
        return I.isNaN(t) ? e : t < e ? e : t > i ? i : Math.round(1e4 * t) / 1e4
      }

      function r(e) {
        return n(0, e, 255)
      }

      function s(e) {
        return n(0, e, 255)
      }

      function a(e) {
        return n(0, e, 255)
      }

      function l(e) {
        return o(0, e, 1)
      }

      function c(e) {
        return o(0, e, 1)
      }

      function u(e) {
        return o(0, e, 1)
      }

      function h(e) {
        return o(0, e, 1)
      }

      function d(e) {
        return o(0, e, 1)
      }

      function p(e) {
        return o(0, e, 1)
      }

      function f(e) {
        var t, i = e[0],
          n = e[1],
          o = e[2],
          r = i / 255,
          s = n / 255,
          a = o / 255,
          l = Math.min(r, s, a),
          c = Math.max(r, s, a),
          u = 0,
          h = 0,
          d = (l + c) / 2;
        if (l === c) u = 0, h = 0;
        else switch (t = c - l, h = d > .5 ? t / (2 - c - l) : t / (c + l), c) {
          case r:
            u = ((s - a) / t + (s < a ? 6 : 0)) / 6;
            break;
          case s:
            u = ((a - r) / t + 2) / 6;
            break;
          case a:
            u = ((r - s) / t + 4) / 6
        }
        return [u, h, d]
      }

      function _(e, t, i) {
        return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? e + 6 * (t - e) * i : i < .5 ? t : i < 2 / 3 ? e + (t - e) * (2 / 3 - i) * 6 : e
      }

      function m(e) {
        var t, i, n, o, l, c = e[0],
          u = e[1],
          h = e[2];
        return 0 === u ? t = i = n = h : (t = _(l = 2 * h - (o = h < .5 ? h * (1 + u) : h + u - h * u), o, c + 1 / 3), i = _(l, o, c), n = _(l, o, c - 1 / 3)), [r(255 * t), s(255 * i), a(255 * n)]
      }

      function g(e) {
        return A[0] * e[0] + A[1] * e[1] + A[2] * e[2]
      }

      function y(e, t, i) {
        var n, o;
        return void 0 === i && (i = .05), o = (n = f(e))[0] + t * i, n[0] = c(o - Math.floor(o)), m(n)
      }

      function v(e, t) {
        return t in e
      }

      function S(e) {
        var t = D.re.exec(e);
        return null !== t ? D.parse(t) : null
      }

      function b(e) {
        var t = k.re.exec(e);
        return null !== t ? k.parse(t) : null
      }

      function w(e) {
        var t = e[0],
          i = e[1],
          n = e[2],
          o = t.toString(16),
          r = i.toString(16),
          s = n.toString(16);
        return "#" + (1 === o.length ? "0" : "") + o + (1 === r.length ? "0" : "") + r + (1 === s.length ? "0" : "") + s
      }

      function P(e) {
        var t = O.re.exec(e);
        return null !== t ? O.parse(t) : null
      }

      function T(e) {
        var t = M.re.exec(e);
        return null !== t ? M.parse(t) : null
      }

      function C(e) {
        var t, i, n, o, r;
        if (e = e.toLowerCase(), v(L, e)) {
          if (null !== (t = b(L[e]))) return t;
          throw new Error("Invalid named color definition")
        }
        return null !== (i = S(e)) ? i : null !== (n = b(e)) ? n : null !== (o = P(e)) ? o : null !== (r = T(e)) ? r : null
      }

      function x(e) {
        var t = C(e);
        if (null !== t) return t;
        throw new Error("Passed color string does not match any of the known color representations")
      }

      function E(e) {
        var t, i, n, o, r;
        if (e = e.toLowerCase(), v(L, e)) {
          if (null !== (t = b(L[e]))) return [t[0], t[1], t[2], 1];
          throw new Error("Invalid named color definition")
        }
        return null !== (i = S(e)) ? [i[0], i[1], i[2], 1] : null !== (n = b(e)) ? [n[0], n[1], n[2], 1] : null !== (o = P(e)) ? [o[0], o[1], o[2], 1] : null !== (r = T(e)) ? r : null
      }
      var I, A, L, D, k, O, M;
      Object.defineProperty(t, "__esModule", {
          value: !0
        }), I = i("ivNn"), t.normalizeRedComponent = r, t.normalizeGreenComponent = s, t.normalizeBlueComponent = a, t.normalizeAlphaComponent = l, t.rgb = function (e, t, i) {
          return [r(e), s(t), a(i)]
        }, t.areEqualRgb = function (e, t) {
          return e[0] === t[0] && e[1] === t[1] && e[2] === t[2]
        }, t.rgba = function (e, t, i, n) {
          var o, c;
          return Array.isArray(e) ? (n = t, [(o = e)[0], o[1], o[2], l(n)]) : (c = t, i = i || 0, n = n || 0, [r(e), s(c), a(i), l(n)])
        }, t.areEqualRgba = function (e, t) {
          return e[0] === t[0] && e[1] === t[1] && e[2] === t[2] && e[3] === t[3]
        }, t.normalizeHue = c, t.normalizeHslSaturation = u, t.normalizeHsvSaturation = h, t.normalizeLightness = d, t.normalizeValue = p, t.hsl = function (e, t, i) {
          return [c(e), u(t), d(i)]
        }, t.areEqualHsl = function (e, t) {
          return e[0] === t[0] && e[1] === t[1] && e[2] === t[2]
        }, t.hsv = function (e, t, i) {
          return [c(e), h(t), p(i)]
        }, t.areEqualHsv = function (e, t) {
          return e[0] === t[0] && e[1] === t[1] && e[2] === t[2]
        }, t.rgbToHsl = f, t.hslToRgb = m, t.rgbToHsv = function (e) {
          var t = e[0],
            i = e[1],
            n = e[2],
            o = t / 255,
            r = i / 255,
            s = n / 255,
            a = Math.min(o, r, s),
            l = Math.max(o, r, s),
            c = l - a,
            u = 0,
            h = 0 === l ? 0 : c / l,
            d = l;
          if (l === a) u = 0;
          else switch (l) {
            case t:
              u = ((r - s) / c + (r < s ? 6 : 0)) / 6;
              break;
            case i:
              u = ((s - o) / c + 2) / 6;
              break;
            case n:
              u = ((o - r) / c + 4) / 6
          }
          return [u, h, d]
        }, t.hsvToRgb = function (e) {
          var t = e[0],
            i = e[1],
            n = e[2],
            o = Math.floor(6 * t),
            l = 6 * t - o,
            c = n * (1 - i),
            u = n * (1 - l * i),
            h = n * (1 - (1 - l) * i),
            d = 0,
            p = 0,
            f = 0;
          switch (o % 6) {
            case 0:
              d = n, p = h, f = c;
              break;
            case 1:
              d = u, p = n, f = c;
              break;
            case 2:
              d = c, p = n, f = h;
              break;
            case 3:
              d = c, p = u, f = n;
              break;
            case 4:
              d = h, p = c, f = n;
              break;
            case 5:
              d = n, p = c, f = u
          }
          return [r(255 * d), s(255 * p), a(255 * f)]
        }, A = [.199, .687, .114], t.rgbToGrayscale = g, t.distanceRgb = function (e, t) {
          var i = e[0],
            n = e[1],
            o = e[2],
            r = t[0],
            s = t[1],
            a = t[2],
            l = r - i,
            c = s - n,
            u = a - o;
          return Math.sqrt(l * l + c * c + u * u)
        }, t.invertRgb = function (e) {
          return [255 - e[0], 255 - e[1], 255 - e[2]]
        }, t.darkenRgb = function (e, t) {
          var i = f(e);
          return m([i[0], i[1], d(i[2] - t / 100)])
        }, t.blendRgba = function (e, t) {
          var i = e[0],
            n = e[1],
            o = e[2],
            c = e[3],
            u = t[0],
            h = t[1],
            d = t[2],
            p = t[3],
            f = l(1 - (1 - p) * (1 - c)),
            _ = r(u * p / f + i * c * (1 - p) / f),
            m = s(h * p / f + n * c * (1 - p) / f),
            g = a(d * p / f + o * c * (1 - p) / f);
          return [_, m, g, f]
        }, t.shiftRgb = y, t.shiftColor = function (e, t, i) {
          return void 0 === i && (i = .05), w(y(x(e), t, i))
        }, L = {
          aliceblue: "#f0f8ff",
          antiquewhite: "#faebd7",
          aqua: "#00ffff",
          aquamarine: "#7fffd4",
          azure: "#f0ffff",
          beige: "#f5f5dc",
          bisque: "#ffe4c4",
          black: "#000000",
          blanchedalmond: "#ffebcd",
          blue: "#0000ff",
          blueviolet: "#8a2be2",
          brown: "#a52a2a",
          burlywood: "#deb887",
          cadetblue: "#5f9ea0",
          chartreuse: "#7fff00",
          chocolate: "#d2691e",
          coral: "#ff7f50",
          cornflowerblue: "#6495ed",
          cornsilk: "#fff8dc",
          crimson: "#dc143c",
          cyan: "#00ffff",
          darkblue: "#00008b",
          darkcyan: "#008b8b",
          darkgoldenrod: "#b8860b",
          darkgray: "#a9a9a9",
          darkgreen: "#006400",
          darkkhaki: "#bdb76b",
          darkmagenta: "#8b008b",
          darkolivegreen: "#556b2f",
          darkorange: "#ff8c00",
          darkorchid: "#9932cc",
          darkred: "#8b0000",
          darksalmon: "#e9967a",
          darkseagreen: "#8fbc8f",
          darkslateblue: "#483d8b",
          darkslategray: "#2f4f4f",
          darkturquoise: "#00ced1",
          darkviolet: "#9400d3",
          deeppink: "#ff1493",
          deepskyblue: "#00bfff",
          dimgray: "#696969",
          dodgerblue: "#1e90ff",
          feldspar: "#d19275",
          firebrick: "#b22222",
          floralwhite: "#fffaf0",
          forestgreen: "#228b22",
          fuchsia: "#ff00ff",
          gainsboro: "#dcdcdc",
          ghostwhite: "#f8f8ff",
          gold: "#ffd700",
          goldenrod: "#daa520",
          gray: "#808080",
          green: "#008000",
          greenyellow: "#adff2f",
          honeydew: "#f0fff0",
          hotpink: "#ff69b4",
          indianred: "#cd5c5c",
          indigo: "#4b0082",
          ivory: "#fffff0",
          khaki: "#f0e68c",
          lavender: "#e6e6fa",
          lavenderblush: "#fff0f5",
          lawngreen: "#7cfc00",
          lemonchiffon: "#fffacd",
          lightblue: "#add8e6",
          lightcoral: "#f08080",
          lightcyan: "#e0ffff",
          lightgoldenrodyellow: "#fafad2",
          lightgreen: "#90ee90",
          lightgrey: "#d3d3d3",
          lightpink: "#ffb6c1",
          lightsalmon: "#ffa07a",
          lightseagreen: "#20b2aa",
          lightskyblue: "#87cefa",
          lightslateblue: "#8470ff",
          lightslategray: "#778899",
          lightsteelblue: "#b0c4de",
          lightyellow: "#ffffe0",
          lime: "#00ff00",
          limegreen: "#32cd32",
          linen: "#faf0e6",
          magenta: "#ff00ff",
          maroon: "#800000",
          mediumaquamarine: "#66cdaa",
          mediumblue: "#0000cd",
          mediumorchid: "#ba55d3",
          mediumpurple: "#9370d8",
          mediumseagreen: "#3cb371",
          mediumslateblue: "#7b68ee",
          mediumspringgreen: "#00fa9a",
          mediumturquoise: "#48d1cc",
          mediumvioletred: "#c71585",
          midnightblue: "#191970",
          mintcream: "#f5fffa",
          mistyrose: "#ffe4e1",
          moccasin: "#ffe4b5",
          navajowhite: "#ffdead",
          navy: "#000080",
          oldlace: "#fdf5e6",
          olive: "#808000",
          olivedrab: "#6b8e23",
          orange: "#ffa500",
          orangered: "#ff4500",
          orchid: "#da70d6",
          palegoldenrod: "#eee8aa",
          palegreen: "#98fb98",
          paleturquoise: "#afeeee",
          palevioletred: "#d87093",
          papayawhip: "#ffefd5",
          peachpuff: "#ffdab9",
          peru: "#cd853f",
          pink: "#ffc0cb",
          plum: "#dda0dd",
          powderblue: "#b0e0e6",
          purple: "#800080",
          red: "#ff0000",
          rosybrown: "#bc8f8f",
          royalblue: "#4169e1",
          saddlebrown: "#8b4513",
          salmon: "#fa8072",
          sandybrown: "#f4a460",
          seagreen: "#2e8b57",
          seashell: "#fff5ee",
          sienna: "#a0522d",
          silver: "#c0c0c0",
          skyblue: "#87ceeb",
          slateblue: "#6a5acd",
          slategray: "#708090",
          snow: "#fffafa",
          springgreen: "#00ff7f",
          steelblue: "#4682b4",
          tan: "#d2b48c",
          teal: "#008080",
          thistle: "#d8bfd8",
          tomato: "#ff6347",
          turquoise: "#40e0d0",
          violet: "#ee82ee",
          violetred: "#d02090",
          wheat: "#f5deb3",
          white: "#ffffff",
          whitesmoke: "#f5f5f5",
          yellow: "#ffff00",
          yellowgreen: "#9acd32"
        },
        function (e) {
          e.re = /^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/, e.parse = function (e) {
            return [r(parseInt(e[1], 10)), s(parseInt(e[2], 10)), a(parseInt(e[3], 10))]
          }
        }(D || (D = {})), t.rgbToString = function (e) {
          return "rgb(" + e[0] + ", " + e[1] + ", " + e[2] + ")"
        },
        function (e) {
          e.re = /^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/, e.parse = function (e) {
            return [r(parseInt(e[1], 16)), s(parseInt(e[2], 16)), a(parseInt(e[3], 16))]
          }
        }(k || (k = {})), t.rgbToHexString = w,
        function (e) {
          e.re = /^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/, e.parse = function (e) {
            return [r(parseInt(e[1] + e[1], 16)), s(parseInt(e[2] + e[2], 16)), a(parseInt(e[3] + e[3], 16))]
          }
        }(O || (O = {})),
        function (e) {
          e.re = /^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/, e.parse = function (e) {
            return [r(parseInt(e[1], 10)), s(parseInt(e[2], 10)), a(parseInt(e[3], 10)), l(parseFloat(e[4]))]
          }
        }(M || (M = {})), t.rgbaToString = function (e) {
          return "rgba(" + e[0] + ", " + e[1] + ", " + e[2] + ", " + e[3] + ")"
        }, t.rgbToBlackWhiteString = function (e, t) {
          if (t < 0 || t > 255) throw new Error("invalid threshold value, valid values are [0, 255]");
          return g(e) >= t ? "white" : "black"
        }, t.tryParseRgb = C, t.parseRgb = x, t.tryParseRgba = E, t.parseRgba = function (e) {
          var t = E(e);
          if (null !== t) return t;
          throw new Error("Passed color string does not match any of the known color representations")
        }
    },
    eKpm: function (e, t, i) {
      "use strict";

      function n() {
        clearTimeout(u), $(".publish-chart-button").removeClass("process")
      }

      function o(e, t) {
        window.runOrSignIn(function () {
          var o;
          0 !== (o = $(".publish-chart-button")).length && (o.addClass("process"), u = setTimeout(n, 3e4)), Object(a.whenVerified)({
            showDialog: !0,
            source: "Publish chart"
          }).done(function (e, t) {
            !0 !== t && l.getBool(c, !0) ? Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(4), i.e(3), i.e("publish-intro-dialog")]).then(function (t) {
              (0, i("/q6v").createPublishIntroDialog)().then(function (t) {
                l.setValue(c, !t), window.saver.publishChart(e)
              })
            }.bind(null, i)).catch(void 0) : window.saver.publishChart(e)
          }.bind(null, e, t)).always(n)
        }, {
          source: "Publish chart",
          sourceMeta: "Chart"
        })
      }

      function r(e) {
        o(e, !0)
      }
      var s, a, l, c, u;
      i.r(t), i.d(t, "publishChart", function () {
        return o
      }), i.d(t, "publishChartWidget", function () {
        return r
      }), s = i("P5fv"), a = i("Z9Tc"), l = i("Vdly"), c = "publish.showIntroText", u = 0
    },
    ePL1: function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "types", function () {
        return n
      });
      var n = {
        ECONOMIC: "economic",
        QUANDL: "quandl"
      }
    },
    ei7k: function (e, t, i) {
      "use strict";

      function n(e) {
        return Object(r.clean)(JSON.stringify(e))
      }

      function o(e) {
        return JSON.parse(Object(r.clean)(e, !0))
      }
      var r;
      i.r(t), i.d(t, "hotKeySerialize", function () {
        return n
      }), i.d(t, "hotKeyDeserialize", function () {
        return o
      }), r = i("CLNU")
    },
    ezzr: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "LogicalRange", function () {
        return o
      }), n = i("Eyy1"), o = function () {
        function e(e, t) {
          Object(n.assert)(e <= t, "The left value should be greater than or equal to the right value"), this._left = e, this._right = t
        }
        return e.prototype.left = function () {
          return this._left
        }, e.prototype.right = function () {
          return this._right
        }, e.prototype.length = function () {
          return this._right - this._left + 1
        }, e.prototype.contains = function (e) {
          return this._left <= e && e <= this._right
        }, e.prototype.equals = function (e) {
          return this._left === e.left() && this._right === e.right()
        }, e.compare = function (e, t) {
          return null === e || null === t ? e === t : e.equals(t)
        }, e
      }()
    },
    f6yo: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      var n = i("hBTJ");
      t.pointInHalfplane = function (e, t) {
        var i = t.edge,
          n = i.A * e.x + i.B * e.y + i.C > 0;
        return n === t.isPositive
      }, t.pointInTriangle = function (e, t, i, o) {
        var r = t.add(i).scaled(.5),
          s = r.add(o).scaled(.5),
          a = n.intersectLineSegments(t, i, s, e);
        return null === a && null === (a = n.intersectLineSegments(i, o, s, e)) && null === (a = n.intersectLineSegments(o, t, s, e))
      }, t.pointInBox = function (e, t) {
        return e.x >= t.min.x && e.x <= t.max.x && e.y >= t.min.y && e.y <= t.max.y
      }, t.pointInPolygon = function (e, t) {
        var i, n, o, r = t.length - 1,
          s = !1,
          a = e.x,
          l = e.y;
        for (i = 0; i < t.length; i++) n = t[i], o = t[r], (n.y < l && o.y >= l || o.y < l && n.y >= l) && n.x + (l - n.y) / (o.y - n.y) * (o.x - n.x) < a && (s = !s), r = i;
        return s
      }, t.pointInCircle = function (e, t, i) {
        var n = (e.x - t.x) * (e.x - t.x) + (e.y - t.y) * (e.y - t.y),
          o = i * i;
        return n <= o
      }
    },
    fA1Z: function (e, t, i) {
      "use strict";

      function n(e) {
        return p[e]
      }
      var o, r, s, a, l, c, u, h, d, p, f, _;
      i.d(t, "a", function () {
          return f
        }), i.d(t, "c", function () {
          return _
        }), i.d(t, "b", function () {
          return n
        }), o = i("GFj4"), r = i("lfUq"), s = i("00jD"), a = i("inEm"), l = i("zi59"), c = i("rhBM"), u = i("6DgG"), h = i("zgLM"), p = {
          top: r,
          mod: s,
          pro: o,
          ad: a,
          "top-large": c,
          "mod-large": u,
          "pro-large": l,
          "ad-large": h
        },
        function (e) {
          e.Pro = "pro", e.Top = "top", e.Mod = "mod", e.Ad = "ad", e.ProLarge = "pro-large", e.TopLarge = "top-large", e.ModLarge = "mod-large", e.AdLarge = "ad-large"
        }(f || (f = {})), (d = {})[f.Pro] = f.ProLarge, d[f.Top] = f.TopLarge, d[f.Mod] = f.ModLarge, d[f.Ad] = f.AdLarge, _ = d
    },
    fPdn: function (e, t, i) {
      "use strict";
      window.TradingView = window.TradingView || {}, window.requireAll = function (e) {
        return e.keys().map(e)
      }, i("ohga"), i("6jKD"), i("bZMm"), i("P5fv"), i("YFKU"), i("0a/c"), i("sE80"), i("si6p"), i("bf9a"), i("6Q5q"), i("e+pU"), i("qAAi"), i("lPLC"), i("mKhQ"), i("32f0"), i("Myip"), i("2+4i"), i("9xFJ"), i("GWkh"), i("5Vnb"), i("PvO/"), i("QYoC"), i("oA7e"), i("qFKp"), i("1oAu"), i("ogJP"), i("jFln"), i("HbRj"), i("ruCT"), i("dJ3D"), i("RjiR"), i("k83o"), i("9goP"), i("VVxS"), i("CLNU"), i("mZrn"), i("Vdly"), i("+GxX"), i("xL1m")
    },
    fTGZ: function (e, t, i) {
      "use strict";
      (function (e, n, o) {
        function r(t, i) {
          var r, a = t._undoModel._chartWidget,
            l = a.onWidget(),
            c = !1;
          c = l ? a._options && !a._options.hideIdeas : !!e.enabled("bars_marks") && TVSettings.getBool("BarsMarksContainer.visibile", !1), i ? i.merge({
            visible: c,
            frozen: !1
          }) : i = new n({
            visible: c,
            frozen: !1
          }), r = this, i.visible.listeners().subscribe(null, function (t) {
            l || a._containsData || !e.enabled("bars_marks") || TVSettings.setValue("BarsMarksContainer.visibile", !!t.value()), r._tooltip && r._tooltip.removeAll()
          }), s._configureProperties(i), s.call(this, t, i), this.onNeedRepaint = new o, this._requests = [], this._marks = {}, this._loadedRange = null, this._getDataTimeout = null, this._collectedRange = null, this._model.mainSeries().onSymbolIntervalChanged().subscribe(this, this.clearMarks), this._model.mainSeries().dataEvents().symbolResolved().subscribe(this, this.clearMarks), this._model.mainSeries().dataEvents().tickMarksRangeChanged().subscribe(this, this.getData), this._initialize(), this.pinnedTooltips = {}, this._tooltip = new u(this._createTooltip.bind(this), this)
        }
        var s = i("Ss5c").LineDataSource,
          a = i("ogJP").isNumber,
          l = i("BOPY").BarsMarksContainerPaneView,
          c = i("BOPY").BarsMarksContainerRenderer,
          u = i("Bt3k").TooltipRenderer,
          h = i("LxhU").Interval,
          d = i("uOxu").getLogger("Chart.BarsMarksContainer");
        inherit(r, s), r.prototype._constructor = "Child class must override this member", r.prototype._initialize = function (e) {
            throw new Error("Child class must override this member")
          }, r.prototype.onClicked = function () {
            throw new Error("Child class must override this member")
          }, r.prototype._getData = function (e) {
            throw new Error("Child class must override this member")
          }, r.prototype._createTooltip = function () {
            throw new Error("Child class must override this member")
          }, r.prototype.updateDotData = function (e, t) {
            return t
          }, r.prototype.updatePlateData = function (e, t) {}, r.prototype._plateViewData = function (e) {
            return {}
          }, r.prototype.pinTooltip = function (e, t) {
            this.pinnedTooltips[e] = t
          }, r.prototype.timeScale = function () {
            return this._model.timeScale()
          }, r.prototype.getIntervalInTicks = function () {
            var e = this._model.mainSeries().properties().interval.value(),
              t = h.parse(e);
            if (!t.isValid()) throw new TypeError("Unexpected interval");
            return t.isRange() ? 60 : t.inMilliseconds() / 1e3
          }, r.prototype._maxDate = Math.round(new Date(2037, 0, 1).getTime() / 1e3), r.prototype.getVisibleTickMarksRange = function () {
            var e, t;
            return this.timeScale().isEmpty() ? {
              start: 0,
              end: 0
            } : (e = this.timeScale().visibleBarsStrictRange()).lastBar() > this.timeScale().points().firstIndex() && e.firstBar() < this.timeScale().points().lastIndex() ? (t = e.lastBar() < this.timeScale().points().lastIndex() ? this.timeScale().indexToTimePoint(e.lastBar()) : this._maxDate, {
              start: (e = {
                start: this.timeScale().indexToTimePoint(Math.max(e.firstBar(), this.timeScale().points().firstIndex())),
                end: t
              }).start ? e.start : void 0,
              end: e.end ? e.end : void 0
            }) : {
              start: 0,
              end: 0
            }
          }, r.prototype.getVisibleRangePlates = function () {
            var e = [],
              t = this.getVisibleTickMarksRange(),
              i = this.getIntervalInTicks();
            return Object.keys(this._marks).forEach(function (n) {
              var o = this._marks[n],
                r = o.tickmark;
              r >= t.start && r <= t.end + i && e.push(o)
            }, this), e
          }, r.prototype.getPublishedPlates = function () {
            var e = {},
              t = this;
            return is_authenticated ? (this.getVisibleRangePlates().forEach(function (i) {
              i.is_public && (t.pinnedTooltips[i.id] || i.user__id === user.id) && (e[i.id] = i)
            }), e) : e
          }, r.prototype._maxPlatesPerBar = 10, r.prototype.filterDisplayedPlates = function (e) {
            return e = e.reduce(function (e, t) {
              var i = this._getIndex(t.tickmark);
              return e[i] = e[i] || [], e[i].push(t), e
            }.bind(this), {}), e = Object.keys(e).reduce(function (t, i) {
              var n = e[i];
              return n = (n = n.sort(function (e, t) {
                return t.views_count - e.views_count
              })).slice(0, this._maxPlatesPerBar), t.concat(n)
            }.bind(this), [])
          }, r.prototype._layout = function (e) {
            switch (e) {
              default:
              case 0:
                return "up";
              case 1:
                return "down";
              case 2:
                return "up";
              case 3:
              case 4:
              case 5:
              case 6:
                return "up"
            }
          }, r.prototype._theme = function (e) {
            switch (e) {
              default:
              case 0:
                return "neutral";
              case 1:
                return "green";
              case 2:
                return "red";
              case 3:
                return "yellow";
              case 4:
                return "blue";
              case 5:
                return "green";
              case 6:
                return "red"
            }
          }, r.prototype._offset = function (e, t) {
            var i;
            switch (e) {
              default:
              case "up":
                i = t[TradingView.HIGH_PLOT];
                break;
              case "down":
                i = t[TradingView.LOW_PLOT]
            }
            return this.priceScale().priceToCoordinate(i, this.ownerSource().firstValue())
          }, r.prototype._getIndex = function (e) {
            return this.timeScale().timePointToIndex(e)
          }, r.prototype.getViewData = function () {
            return {
              barWidth: this.barWidth(),
              plates: this.getPlatesViewData(),
              tooltip: this._tooltip
            }
          }, r.prototype.barWidth = function () {
            return this.timeScale().barSpacing()
          }, r.prototype.getPlatesViewData = function () {
            var e, t, i, n, o, r;
            if (this._model.mainSeries().data().isEmpty()) return [];
            for (e = this.filterDisplayedPlates(this.getVisibleRangePlates()), t = this, i = {}, n = this._model.lastHittestData(), o = (e = (e = e.map(function (e) {
                var o, r, s, a, l, c, u, h = this._getIndex(e.tickmark),
                  d = this._getBar(h);
                return null !== d && (o = this._layout(e.direction), r = this._theme(e.direction), s = n && n.id === e.id, a = this.timeScale().indexToCoordinate(h), l = this._offset(o, d), c = this.priceScale().isInverted(), u = 0, h in i || (i[h] = {
                  up: 0,
                  down: 0
                }), u = i[h][o]++, TradingView.merge({
                  id: e.id,
                  x: a,
                  y: l,
                  yInverted: c,
                  order: u,
                  direction: o,
                  theme: r,
                  hovered: s,
                  pinned: !0 === t.pinnedTooltips[e.id],
                  user__id: e.user__id,
                  label: e.label,
                  labelFontColor: e.labelFontColor || "#444",
                  minSize: e.minSize || 5
                }, this._plateViewData(e)))
              }.bind(this))).filter(function (e) {
                return !!e
              })).filter(function (e) {
                return !0 === e.hovered
              }), r = 0; r < e.length; r++) null != o[0] && e[r].user__id === o[0].user__id && (e[r].highlightByAuthor = !0);
            return e.sort(function (e, t) {
              return e.hovered && !t.hovered ? 1 : 0
            }), e
          }, r.prototype._getBar = function (e) {
            return this._model.mainSeries().data().valueAt(e)
          }, r.prototype.paneViews = function () {
            var e = this;
            return this._properties.visible.value() ? [new l(this, function (t) {
              return new c(t.getViewData(), e)
            })] : []
          }, r.prototype.dataWindowView = function () {
            return null
          }, r.prototype.priceAxisViews = function () {
            return null
          }, r.prototype.statusView = function () {
            return null
          }, r.prototype.updateAllViews = function () {}, r.prototype.pointsCount = function () {
            return 0
          }, r.prototype.properties = function () {
            return this._properties
          }, r.prototype._rangeDifference = function (e) {
            return e = Object.assign({}, e), this._loadedRange && (e.start < this._loadedRange.start ? e.end = this._loadedRange.start : e.end > this._loadedRange.end && (e.start = this._loadedRange.end)), e
          }, r.prototype._rangeUnion = function (e, t) {
            return e = Object.assign({}, e), t && (e.start = Math.min(t.start, e.start), e.end = Math.max(t.end, e.end)), e
          }, r.prototype._pushGetDataStack = function (e) {
            a(e.start) && a(e.end) ? (this._getDataTimeout && clearTimeout(this._getDataTimeout), this._collectedRange = this._rangeUnion(e, this._collectedRange), this._getDataTimeout = setTimeout(function () {
              this._getData(this._collectedRange), this._getDataTimeout = this._collectedRange = null
            }.bind(this), 300)) : d.logError("Wrong tickmark range")
          }, r.prototype.roundRange = function (e) {
            return {
              start: Math.round(e.start),
              end: Math.round(e.end)
            }
          }, r.prototype.refreshData = function () {
            this.getData(this._lastRange)
          }, r.prototype.getData = function (e) {
            a(e.start) && a(e.end) ? (this._lastRange = e, (e = Object.assign({}, e)).end = this._maxDate, this._pushGetDataStack(e)) : d.logError("Wrong range")
          }, r.prototype._abortAllRequests = function () {
            this._requests.forEach(function (e) {
              e.abort()
            }), this._requests = [], this._getDataTimeout && clearTimeout(this._getDataTimeout), this._getDataTimeout = this._collectedRange = null
          }, r.prototype.clearMarks = function () {
            this._abortAllRequests(), this._marks = {}, this._loadedRange = null
          },
          t.BarsMarksContainer = r
      }).call(this, i("Kxc7"), i("tc+8"), i("aIyQ"))
    },
    fgLi: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "DataSource", function () {
        return l
      }), n = i("hY0g"), o = i.n(n), r = i("0waE"), s = i("aIyQ"), a = i.n(s), l = function () {
        function e() {
          this._zorder = 0, this.m_priceScale = null, this._id = Object(r.randomHashN)(6), this._ownerSource = null, this._userEditEnabled = !0, this.hasAlert = new o.a(!1), this._onPriceScaleChanged = new a.a
        }
        return e.prototype.id = function () {
          return this._id
        }, e.prototype.preferNoScale = function () {
          return !1
        }, e.prototype.idForAlert = function () {
          return this._id
        }, e.prototype.setId = function (e) {
          this._id = e
        }, e.prototype.zorder = function () {
          return this._zorder
        }, e.prototype.setZorder = function (e) {
          "number" == typeof e && this._zorder !== e && (this._zorder = e)
        }, e.prototype.title = function () {
          throw new Error("Implement this fun in a subclass")
        }, e.prototype.priceScale = function () {
          return this.m_priceScale
        }, e.prototype.setPriceScale = function (e) {
          this.m_priceScale = e, this._onPriceScaleChanged.fire()
        }, e.prototype.ownerSource = function () {
          return this._ownerSource
        }, e.prototype.setOwnerSource = function (e) {
          this._ownerSource = e
        }, e.prototype.isSavedInChart = function (e) {
          return !0
        }, e.prototype.isSavedInStudyTemplates = function () {
          return !0
        }, e.prototype.isRemovedByStudyTemplates = function () {
          return !0
        }, e.prototype.hasContextMenu = function () {
          return !0
        }, e.prototype.showInObjectTree = function () {
          return !0
        }, e.prototype.setUserEditEnabled = function (e) {
          this._userEditEnabled = e
        }, e.prototype.userEditEnabled = function () {
          return this._userEditEnabled
        }, e.prototype.canBeHidden = function () {
          return this.userEditEnabled()
        }, e.prototype.isUserDeletable = function () {
          return this.userEditEnabled()
        }, e.prototype.canHasAlert = function () {
          return !1
        }, e.prototype.properties = function () {
          throw new Error("Implement this fun in a subclass")
        }, e.prototype.isVisible = function () {
          return this.properties().visible.value()
        }, e.prototype.statusView = function () {
          return null
        }, e.prototype.dataWindowView = function () {
          return null
        }, e.prototype.legendView = function () {
          return null
        }, e.prototype.priceAxisViews = function (e, t) {
          return null
        }, e.prototype.updateAllViews = function () {}, e.prototype.paneViews = function () {
          return null
        }, e.prototype.isChildStudy = function () {
          return !1
        }, e.prototype.hasChildren = function () {
          return !1
        }, e.prototype.canHaveChildren = function () {
          return !1
        }, e.prototype.onClickOutside = function () {}, e.prototype.getInputsPropertyPage = function () {
          return null
        }, e.prototype.getStylesPropertyPage = function () {
          return null
        }, e.prototype.getDisplayPropertyPage = function () {
          return null
        }, e.prototype.getVisibilitiesPropertyPage = function () {
          return null
        }, e.prototype.getStrategyPropertyPage = function () {
          return null
        }, e.prototype.getSourceIcon = function () {
          return Promise.resolve(null)
        }, e.prototype.state = function (e) {
          throw new Error("Implement this fun in a subclass")
        }, e.prototype.onPriceScaleChanged = function () {
          return this._onPriceScaleChanged
        }, e.prototype.doesMovingAffectsUndo = function () {
          return !0
        }, e
      }()
    },
    fgbt: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n;
        return void 0 === t && (t = !1), n = (i = window.pro).getProduct(e),
          !!i.isProductDefined(n) && (t ? !!n.idc_service_codes_delay : !!n.idc_service_codes)
      }

      function o(e, t) {
        if (void 0 === t && (t = !1), e && e.startsWith("exchange-")) return n(e, t);
        var i = (e || "").toLowerCase();
        return window.pro.getIDCExchanges(t).includes(i)
      }
      var r;
      i.r(t), i.d(t, "isIDCExchangeByProductId", function () {
        return n
      }), i.d(t, "isIDCExchange", function () {
        return o
      }), r = i("bSeV")
    },
    flg1: function (e, t, i) {
      "use strict";

      function n() {
        Object(o.showNoticeDialog)({
          title: window.t("Alerts maintenance"),
          content: window.t("We are doing some brief daily maintenance. Alerts will be back really soon, thanks for your patience!")
        })
      }
      var o;
      i.r(t), i.d(t, "showAlertsMaintenanceDialog", function () {
        return n
      }), i("YFKU"), o = i("brCa")
    },
    fs3R: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(6 4)"><rect width="15" height="12" rx="2" x=".5" y="7.5"/><path stroke-linecap="round" stroke-width="2" d="M8 14v2"/><path d="M11.5 7.5V4a3.5 3.5 0 0 0-7 0v3.5"/></g></svg>'
    },
    fyLy: function (e, t, i) {
      "use strict";
      var n, o = i("NWpC").RequestCache,
        r = i("uOxu").getLogger("Chart.TVBackendAdapter"),
        s = i("BxxN").generateChartUrl,
        a = i("BHQF").fetch,
        l = i("BeV4").gzip,
        c = "/api/v1/",
        u = ((n = {
          getGlobalNotifications: function (e, t) {
            var i = {
              count: t
            };
            return e && (i.lastId = e), $.ajax({
              url: "/global-notifications/",
              cache: !1,
              dataType: "json",
              type: "GET",
              data: i
            })
          },
          getCharts: function (e, t, i) {
            $.getJSON("/my-charts/", {
              limit: i
            }, e).fail(t)
          },
          getChartsCount: function (e, t) {
            $.getJSON(c + "charts/count/", void 0, e).fail(t)
          },
          removeChart: function (e, t) {
            $.post("/deletechart/", {
              uid: [e]
            }, function (e) {
              e.error || ("string" == typeof t ? document.location = t : "function" == typeof t ? t() : window.location.reload())
            })
          },
          saveChart: function (e, t, i, n, o, r, s) {
            l(n.content).catch(function (e) {
              return null
            }).then(function (e) {
              var t, i = new FormData;
              for (t in n) "content" === t && e ? i.append(t, new Blob([e], {
                type: "application/gzip"
              }), "blob.gz") : i.append(t, String(n[t]));
              return a("/savechart/", {
                method: "POST",
                credentials: "same-origin",
                body: i
              })
            }).then(function (e) {
              if (!e.ok) throw e;
              return e.text()
            }).then(r, s)
          },
          loadChart: function (e) {
            var t = s({
              chartId: e.url
            });
            /^\/chart(\/|$)/.test(location.pathname) ? open(t, "_blank") : location.href = t
          },
          removeStudyTemplate: function (e, t) {
            $.post("/remove-study-template/", {
              name: e
            }, t)
          },
          getStudyTemplateContent: function (e, t) {
            $.get("/study-template/?templateName=" + encodeURIComponent(e), t)
          },
          saveStudyTemplate: function (e, t) {
            $.post("/save-study-template/", e, t).error(function (e) {
              r.logError(e.responseText)
            })
          }
        })._templatesCache = new o("/study-templates-ext/"), n.getStudyTemplatesList = function (e) {
          n._templatesCache.requestData(e)
        }, n.invalidateStudyTemplatesList = function () {
          n._templatesCache.invalidate()
        }, n);
      e.exports = u
    },
    g5Qf: function (e, t, i) {
      "use strict";

      function n() {
        return a
      }

      function o() {
        null === a && (a = new Promise(function (e) {
          Promise.all([i.e("vendors"), i.e(45), i.e(46), i.e(63), i.e(81), i.e(86), i.e(168), i.e(245), i.e(39), i.e(38), i.e(56), i.e(74), i.e("line-tools-icons"), i.e(146), i.e(135), i.e("floating-toolbars")]).then(function (t) {
            if (null === s) {
              var n = i("gmn6").FavoriteDrawingToolbar;
              s = new n({
                left: window.innerWidth / 2,
                top: r.HEADER_TOOLBAR_HEIGHT_EXPANDED + 61
              }), e(s)
            }
          }.bind(null, i)).catch(void 0)
        }))
      }
      var r, s, a;
      i.r(t), i.d(t, "getFavoriteDrawingToolbarPromise", function () {
        return n
      }), i.d(t, "createFavoriteDrawingToolbar", function () {
        return o
      }), i("YFKU"), r = i("yMne"), s = null, a = null
    },
    gBDZ: function (e, t, i) {
      "use strict";

      function n(e, t, i, n, o) {
        var r, s, a, l;
        for (this._canvasesMap = {}, this._lines = e.split(/[^\S\r\n]*(?:\r\n|\r|\n)/), this._font = this._fontStyle(t, i, n, o), this._fontSize = o, (r = document.createElement("canvas").getContext("2d")).font = this._font, s = 0, a = 0; a < this._lines.length; a++) l = r.measureText(this._lines[a]).width, s = Math.max(s, l);
        this.textImageWidth = s + 1, this.textImageHeight = this._lines.length * o
      }
      n.prototype.paintTo = function (e, t, i, n, o, r) {
        var s = this._getTextImage(t),
          a = this._x(i, o, this.textImageWidth),
          l = this._y(n, r, this.textImageHeight);
        e.drawImage(s, a - .5, l - .5)
      }, n.prototype._getTextImage = function (e) {
        var t, i, n, o, r;
        if (this._canvasesMap[e]) return this._canvasesMap[e];
        for ((t = document.createElement("canvas")).setAttribute("width", this.textImageWidth), t.setAttribute("height", this.textImageHeight), (i = t.getContext("2d")).textBaseline = "top", i.font = this._font, i.textAlign = "center", i.fillStyle = e, n = Math.round(this.textImageWidth / 2), o = 0, r = 0; r < this._lines.length; r++) i.fillText(this._lines[r], n, o), o += this._fontSize;
        return this._canvasesMap[e] = t, t
      }, n.prototype._x = function (e, t, i) {
        var n = e;
        switch (t) {
          case "left":
            break;
          case "right":
            n -= i;
            break;
          case "center":
            n -= i / 2
        }
        return Math.round(n)
      }, n.prototype._y = function (e, t, i) {
        var n = e;
        switch (t) {
          case "top":
            break;
          case "bottom":
            n -= i;
            break;
          case "middle":
            n -= i / 2
        }
        return Math.round(n)
      }, n.prototype._fontStyle = function (e, t, i, n) {
        return (e ? "bold " : "") + (t ? "italic " : "") + n + "px " + i
      }, e.exports = n
    },
    gLxC: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolNote";
        var o = t || n.createProperties();
        r.call(this, e, o), this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("Dz+H").NotePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }

      function o(e, t) {
        var i = t || o.createProperties();
        n.call(this, e, i)
      }
      var r = i("Ss5c").LineDataSource,
        s = i("tc+8"),
        a = i("Ocx9").DefaultProperty,
        l = i("hayr").propertyPages;
      inherit(n, r), n.TOOLTIP_WIDTH = 300, n.TOOLTIP_PADDING = 10, n.TOOLTIP_LINESPACING = 5, n.version = 1, n.prototype.pointsCount = function () {
          return 1
        }, n.prototype.title = function () {
          return window.t("Note")
        }, n.prototype.name = function () {
          return "Note"
        }, n.prototype.getTooltipWidth = function () {
          return n.TOOLTIP_WIDTH
        }, n.prototype.getTooltipPadding = function () {
          return n.TOOLTIP_PADDING
        }, n.prototype.getTooltipLineSpacing = function () {
          return n.TOOLTIP_LINESPACING
        }, n.prototype.template = function () {
          var e = r.prototype.template.call(this);
          return e.text = this.properties().childs().text.value(), e
        }, n.prototype._applyTemplateImpl = function (e) {
          r.prototype._applyTemplateImpl.call(this, e), this.properties().childs().text.setValue(e.text)
        }, n.createProperties = function (e) {
          var t = new a("linetoolnote", e);
          return n._configureProperties(t), t
        },
        n._configureProperties = function (e) {
          r._configureProperties(e), e.hasChild("text") || e.addChild("text", new s(window.t("Text"))), e.addExclusion("text")
        }, inherit(o, n), o.prototype.title = function () {
          return window.t("Anchored Note")
        }, o.prototype.name = function () {
          return "Anchored Note"
        }, o.prototype.isFixed = function () {
          return !0
        }, o.createProperties = function (e) {
          var t = new a("linetoolnoteabsolute", e);
          return o._configureProperties(t), t
        }, o._configureProperties = function (e) {
          n._configureProperties(e)
        }, n.prototype.state = function (e) {
          var t = r.prototype.state.call(this, e);
          return e && (t.state.fixedSize = !1), t
        }, n.prototype.getStylesPropertyPage = function () {
          return l.LineToolNotePropertyPage
        }, t.LineToolNote = n, t.LineToolNoteAbsolute = o
    },
    gMtF: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "LineToolRiskRewardPriceAxisView", function () {
        return r
      }), n = i("mrSG"), o = i("KcY8"), r = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._source = t, n._data = i, n
        }
        return n.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          var n, o, r, s, a;
          e.visible = !1, n = this._source.priceScale(), 0 === this._source.points().length || null === n || n.isEmpty() || null !== (r = null !== (o = this._source.ownerSource()) ? o.firstValue() : null) && (s = this._data.priceProperty.value(), a = this._data.colorProperty.value(), i.background = a, i.color = this.generateTextColor(a), i.coordinate = n.priceToCoordinate(s, r), e.text = n.formatPrice(s, r), e.visible = !0)
        }, t
      }(o.a)
    },
    gOE2: function (e, t, i) {
      e.exports = function () {
        return new Worker(i.p + "dac80b77ee48a06ac939.worker.js")
      }
    },
    gP14: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "ChartModelBase", function () {
        return l
      }), n = i("aIyQ"), o = i.n(n), r = i("hY0g"), s = i.n(r), a = i("Kxc7"), l = function () {
        function e() {
          this._strategySources = [], this._strategySourcesChange = new o.a, this._activeStrategySource = new s.a(null), this._scrollEnabled = a.enabled("chart_scroll"), this._zoomEnabled = a.enabled("chart_zoom")
        }
        return e.prototype.addStrategySource = function (e) {
            -1 === this._strategySources.indexOf(e) && (this._strategySources.push(e), this._strategySourcesChange.fire(), this.setActiveStrategySource(e))
          }, e.prototype.removeStrategySource = function (e) {
            var t, i = this._strategySources.indexOf(e); - 1 !== i && (this._strategySources.splice(i, 1)[0] === this._activeStrategySource.value() && this.unsetActiveStrategySource(), this._strategySources.length > 0 && (t = this._strategySources[this._strategySources.length - 1], this.setActiveStrategySource(t)), this._strategySourcesChange.fire())
          }, e.prototype.setActiveStrategySource = function (e) {
            -1 !== this._strategySources.indexOf(e) && this._activeStrategySource.setValue(e)
          }, e.prototype.unsetActiveStrategySource = function () {
            this._activeStrategySource.setValue(null)
          }, e.prototype.activeStrategySource = function () {
            return this._activeStrategySource
          }, e.prototype.strategySources = function () {
            return this._strategySources
          }, e.prototype.strategySourcesChange = function () {
            return this._strategySourcesChange
          }, e.prototype.setScrollEnabled = function (e) {
            this._scrollEnabled = e
          }, e.prototype.scrollEnabled = function () {
            return this._scrollEnabled
          }, e.prototype.setZoomEnabled = function (e) {
            this._zoomEnabled = e
          },
          e.prototype.zoomEnabled = function () {
            return this._zoomEnabled
          }, e
      }()
    },
    gQ5K: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "DateFormatter", function () {
        return r
      }), n = i("kcTO"), o = i("e1ZQ"), r = function () {
        function e(e) {
          void 0 === e && (e = "yyyy-MM-dd"), this._dateFormatFunc = o.dateFormatFunctions[e]
        }
        return e.prototype.format = function (e) {
          return n.customFormatters && n.customFormatters.dateFormatter ? n.customFormatters.dateFormatter.format(e) : this._dateFormatFunc(e, !1)
        }, e.prototype.formatLocal = function (e) {
          return n.customFormatters.dateFormatter ? n.customFormatters.dateFormatter.formatLocal ? n.customFormatters.dateFormatter.formatLocal(e) : n.customFormatters.dateFormatter.format(e) : this._dateFormatFunc(e, !0)
        }, e
      }()
    },
    gWck: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "SeriesLegendView", function () {
        return l
      }), n = i("mrSG"), o = i("cXAR"), r = i("n5al"), s = i("dfhE"), a = {
        open: window.t("O", {
          context: "in_legend"
        }),
        high: window.t("H", {
          context: "in_legend"
        }),
        low: window.t("L", {
          context: "in_legend"
        }),
        close: window.t("C", {
          context: "in_legend"
        }),
        hl2: window.t("HL2", {
          context: "in_legend"
        }),
        hlc3: window.t("HLC3", {
          context: "in_legend"
        }),
        ohlc4: window.t("OHLC4", {
          context: "in_legend"
        })
      }, l = function (e) {
        function t(t, i) {
          var n = e.call(this, t, i) || this;
          return n._showBarChange = i.properties().paneProperties.legendProperties.showBarChange, n._showSeriesOHLC = i.properties().paneProperties.legendProperties.showSeriesOHLC, n._seriesStyle = t.properties().childs().style, n._items[0].setTitle(a.open), n._items[1].setTitle(a.high), n._items[2].setTitle(a.low), n._items[3].setTitle(a.close), n._items[6].setTitle(""), n._showBarChange.subscribe(n, n.update), n._showSeriesOHLC.subscribe(n, n.update), n._items[4].setTitle(""), n
        }
        return n.__extends(t, e), t.prototype.isValuesVisible = function () {
          return this._showSeriesOHLC.value() || this._showBarChange.value()
        }, t.prototype.additional = function () {
          var e = this._series.dataPoweredBy();
          return null !== e && e.length > 0 ? window.t("Data Provided by") + " " + e : null
        }, t.prototype.destroy = function () {
          this._showBarChange.unsubscribeAll(this), this._showSeriesOHLC.unsubscribeAll(this)
        }, t.prototype._updateImpl = function () {
          var t, i, n, o, a;
          e.prototype._updateImpl.call(this), this._showLastPriceAndChangeOnly() || (t = Object(r.isPriceSourceStyle)(this._seriesStyle.value()), n = (i = this._showSeriesOHLC.value()) && !t, o = i && t, a = this._series.style() === s.STYLE_HILO, this._items[0].setVisible(n && !a), this._items[1].setVisible(n), this._items[2].setVisible(n), this._items[3].setVisible(n && !a), this._items[4].setVisible(o), this._items[6].setVisible(this._showBarChange.value() && !a))
        }, t
      }(o.SeriesDataWindowView)
    },
    "ga+R": function (e, t, i) {
      "use strict";
      e.exports = function (e, t) {
        var i, n = 10,
          o = e % n;
        for (o && (e = e - o + n), i = []; e <= t; e += n) i.push(e);
        return i
      }
    },
    gdgp: function (e, t, i) {
      "use strict";

      function n() {
        Object(o.createGoProDialog)({
          feature: "alerts"
        }).then(function (e) {
          e.open()
        })
      }
      i.r(t), i.d(t, "showGoProMaxAlertsDialog", function () {
        return n
      });
      var o = i("s4+V")
    },
    gf4d: function (e, t, i) {
      "use strict";

      function n(e, t, o) {
        var r, a = "RegressionTrend@tv-basicstudies",
          l = c(a);
        o = o || u.findStudyMetaInfo(e.studiesMetaData(), a),
          (r = t || n._createProperties(o, e.studyVersioning())).merge({
            blockCopying: !0
          }), s.call(this, e, o, "linreg_", r, l), this._trendData = null, Promise.all([i.e(69), i.e(106), i.e(165), i.e("study-pane-views")]).then(function (e) {
            var t = i("IMGS").RegressionTrendPaneView;
            this._setPaneViews([new t(this, this._model)])
          }.bind(this).bind(null, i)).catch(i.oe)
      }

      function o(e) {
        return void 0 !== e.startPrice && void 0 !== e.endPrice
      }
      var r = i("Eyy1").assert,
        s = i("MSvv").StudyLineDataSource,
        a = i("GVHu"),
        l = a.prepareStudyProperties,
        c = i("cBZt").lineToolNameForPointsBasedStudy,
        u = i("0YCj"),
        h = i("hayr").propertyPages,
        d = i("k9/m").REMOVE_INDEX_MAGIC_NUMBER;
      inherit(n, s), n.prototype.version = 2, n.prototype.formatter = function () {
          r(!1, "This method should never be called")
        }, n.prototype.pointsCount = function () {
          return 2
        }, n.prototype.clearData = function () {
          this._trendData = null, s.prototype.clearData.call(this)
        }, n.prototype.state = function (e) {
          var t = s.prototype.state.call(this, e);
          return Object.assign({}, t, {
            nonseriesdata: this._trendData
          })
        }, n.prototype.restoreData = function (e) {
          s.prototype.restoreData.call(this, e), this._trendData = e.nonseriesdata ? e.nonseriesdata : null
        }, n.prototype.startIndex = function () {
          if (null === this._trendData || null === this._indexes) return null;
          var e = this._indexes[this._trendData.startIndex];
          return e !== d ? e : null
        }, n.prototype.endIndex = function () {
          if (null === this._trendData || null === this._indexes) return null;
          var e = this._indexes[this._trendData.endIndex];
          return e !== d ? e : null
        }, n.prototype.baseLine = function () {
          return null === this._trendData ? null : this._trendData.baseLine
        }, n.prototype.downLine = function () {
          return null === this._trendData ? null : this._trendData.downLine
        }, n.prototype.upLine = function () {
          return null === this._trendData ? null : this._trendData.upLine
        }, n.prototype.pearsons = function () {
          return null === this._trendData ? null : this._trendData.pearsons
        }, n.prototype.recalcStudyIfNeeded = function () {
          this._onStudyInputsMayChange()
        }, n.prototype._studyInputs = function (e) {
          var t, i, n, o, s, a, l, c;
          return r(2 === e.length, "all the line tool points should be defined"), t = e[0], i = e[1], (n = Math.min(t.index, i.index)) === (o = Math.max(t.index, i.index)) ? null : (s = this._model.mainSeries().bars().valueAt(n), a = this._model.mainSeries().bars().valueAt(o), null === s || null === a ? null : (l = 1e3 * s[TradingView.TIME_PLOT], c = 1e3 * a[TradingView.TIME_PLOT], {
            "upper diviation": this.properties().inputs["upper diviation"].value(),
            "lower diviation": this.properties().inputs["lower diviation"].value(),
            "use upper diviation": this.properties().inputs["use upper diviation"].value(),
            "use lower diviation": this.properties().inputs["use lower diviation"].value(),
            "first bar time": l,
            "last bar time": c,
            source: this.properties().inputs.source.value()
          }))
        }, n.prototype._onDataUpdated = function (e, t, i) {
          null !== t && (t.indexes_replace || (this._trendData = t.data, TradingView.isNaN(this._trendData.baseLine.startPrice) || TradingView.isNaN(this._trendData.baseLine.endPrice) || (this._points[0].price = this._trendData.baseLine.startPrice, this._points[1].price = this._trendData.baseLine.endPrice)), this._indexes = i, s.prototype._onDataUpdated.call(this, e, t, i))
        },
        n.prototype.getInputsPropertyPage = function () {
          return h.LineToolRegressionTrendInputsPropertyPage
        }, n.prototype.getStylesPropertyPage = function () {
          return h.StudyLinearRegressionStylesPropertyPage
        }, n.prototype._isReady = function () {
          return this._trendData && void 0 !== this._trendData.startIndex && void 0 !== this._trendData.endIndex && o(this._trendData.upLine) && o(this._trendData.baseLine) && o(this._trendData.downLine)
        }, n._createProperties = function (e, t) {
          var i = l(e, null, null, t);
          return n._configureProperties(i), i
        }, n._configureProperties = function (e) {
          s._configureProperties(e)
        }, t.LineToolRegressionTrend = n
    },
    glKZ: function (e, t, i) {
      "use strict";

      function n() {
        clearTimeout(v), clearTimeout(S), clearTimeout(b)
      }

      function o() {
        var e = document.getElementById(w);
        e ? P = e : ((P = document.createElement("div")).id = w, document.body.appendChild(P))
      }

      function r() {
        P && (P.innerHTML = "")
      }

      function s(e) {
        var t = e.getAttribute("title");
        return t && (Object(E.b)(e, "text", t), e.removeAttribute("title")), Object(E.a)(e, "text") || ""
      }

      function a(e) {
        var t, i, n, o, r, s, a = B.cloneNode(!0),
          l = h(a),
          c = e.content;
        switch (c.type) {
          case "element":
            l.innerHTML = "", l.appendChild(c.data);
            break;
          case "html":
            l.innerHTML = c.data;
            break;
          case "text":
            e.hotkey ? ((i = F.cloneNode(!0)).innerText = c.data, l.appendChild(i)) : l.innerText = c.data
        }
        return e.hotkey && (n = "none" !== c.type, o = N.cloneNode(!0), r = Object(I.hotKeyDeserialize)(e.hotkey), s = r.keys.map(function (e) {
          return '<span class="' + k["common-tooltip__hotkey-button"] + '">' + e + "</span>"
        }), o.innerHTML = (t = r.text).format.apply(t, s).replace(/\s\+\s/g, '<span class="' + k["common-tooltip__plus-sign"] + '">+</span>'), l.classList.add(k["common-tooltip__body--with-hotkey"]), n && o.classList.add(k["common-tooltip__hotkey-block--divider"]), l.appendChild(o)), a.addEventListener("contextmenu", D.a), a
      }

      function l(e, t) {
        var i, n, o, r, s, a, l, c, d, p, f, _, m, g, y = t.rect;
        y && (! function (e, t) {
          var i, n = x.includes(t) ? C[t] : "";
          (i = e.classList).remove.apply(i, x.map(function (e) {
            return C[e]
          }).filter(function (e) {
            return !!e
          })), n && !e.classList.contains(n) && e.classList.add(n)
        }(e, t.colorTheme || "default"), t.addClass && e.classList.add(t.addClass), (i = h(e)).classList.toggle(k["common-tooltip__body--width_wide"], Boolean(t.wide)), i.classList.toggle(k["common-tooltip__body--no-padding"], Boolean(t.noPadding)), i.classList.toggle(k["common-tooltip__body--width_narrow"], Boolean(t.narrow)), i.classList.toggle(k["common-tooltip__body--no-buttons"], !0), e.classList.toggle(k["common-tooltip--no-pointer-events"], !Modernizr.pointerevents), i.style.left = u(0), i.style.width = u(i.clientWidth + (Boolean(t.noPadding) ? 0 : 2)), n = document.body.clientWidth, o = window.innerHeight, s = (r = t.vertical) && y.w < 20 || !r && y.h < 20, e.classList.toggle(k["common-tooltip--farther"], s), e.classList.toggle(k["common-tooltip--vertical"], r), e.classList.toggle(k["common-tooltip--horizontal"], !r), a = e.querySelector("." + k["common-tooltip__ear-holder"]), l = "", r ? (e.style.left = u(y.x + y.w), e.style.top = u(y.y - (e.offsetHeight - y.h) / 2), c = (e.querySelector(":last-child") || i).getBoundingClientRect().right + O > n, e.classList.toggle(k["common-tooltip--direction_reversed"], c),
          e.classList.toggle(k["common-tooltip--direction_normal"], !c), l = c ? "after" : "before", L.IS_RTL ? (l = t.otr ? "after" : l, l = t.otl ? "before" : l) : (l = t.otr ? "before" : l, l = t.otl ? "after" : l), a.classList.toggle(k["common-tooltip__ear-holder--before"], "before" === l), a.classList.toggle(k["common-tooltip__ear-holder--after"], "after" === l), "after" === l && (e.style.left = "auto", e.style.right = u(n - y.x))) : (d = y.x - (i.offsetWidth - y.w) / 2, p = n - O - e.offsetWidth, f = Math.max(O, Math.min(d, p)), e.style.bottom = u(o - y.y), e.style.left = u(f), c = p < d, e.classList.toggle(k["common-tooltip--direction_reversed"], c), e.classList.toggle(k["common-tooltip--direction_normal"], !c), l = i.getBoundingClientRect().top < O ? "below" : "above", l = t.above ? "above" : l, l = t.below ? "below" : l, a.classList.toggle(k["common-tooltip__ear-holder--above"], "above" === l), a.classList.toggle(k["common-tooltip__ear-holder--below"], "below" === l), "below" === l && (e.style.bottom = "auto", e.style.top = u(y.y + y.h)), _ = function (e) {
          return e.querySelector("." + k["common-tooltip__button-container"])
        }(e), m = i.getBoundingClientRect().left, g = Math.trunc(y.x + y.w / 2 - (m + i.clientWidth / 2)), e.style.left = u(f + g), e.style.width = u(i.clientWidth + _.clientWidth), g = c ? Math.max(0, g) : Math.min(0, g), _.style.left = u(-g), i.style.left = u(-g)))
      }

      function c(e) {
        e.classList.toggle(k["common-tooltip--hidden"], !0)
      }

      function u(e) {
        return Math.floor(e) + "px"
      }

      function h(e) {
        return e.querySelector("." + k["common-tooltip__body"])
      }

      function d(e, t) {
        var i, n, o, r, a;
        return void 0 === t && (t = {}), n = (i = g(t)).content, o = y.__rest(i, ["content"]), r = function (e) {
          var t = s(e),
            i = e.getBoundingClientRect(),
            n = {
              h: i.height,
              w: i.width,
              x: i.left,
              y: i.top
            },
            o = e.getAttribute("data-color-theme") || "",
            r = e.classList.contains("common-tooltip-html"),
            a = parseInt(e.getAttribute("data-tooltip-delay") || ""),
            l = {
              type: "none"
            };
          return t && (l = {
            type: r ? "html" : "text",
            data: t
          }), {
            above: e.classList.contains("common-tooltip-above"),
            below: e.classList.contains("common-tooltip-below"),
            otl: e.classList.contains("common-tooltip-otl"),
            otr: e.classList.contains("common-tooltip-otr"),
            vertical: e.classList.contains("common-tooltip-vertical"),
            hotkey: e.getAttribute("data-tooltip-hotkey"),
            narrow: e.classList.contains("common-tooltip-narrow"),
            colorTheme: o,
            tooltipDelay: a,
            rect: n,
            content: l
          }
        }(e), a = Object.assign(r, o), "none" !== n.type && (a.content = n), !("none" === a.content.type && !a.hotkey) && (p(a), !0)
      }

      function p(e) {
        var t, i, o, s = g(e),
          l = a(s);
        H = {
          options: s,
          element: l
        }, t = l, r(), P && P.appendChild(t), n(), U ? m(l) : (c(l), i = function () {
          return m(l)
        }, o = function (e) {
          return "number" != typeof e.tooltipDelay || isNaN(e.tooltipDelay) ? W : e.tooltipDelay
        }(s), v = setTimeout(i, o))
      }

      function f(e) {
        return s(e)
      }

      function _() {
        var e, t, i, o, s;
        (n(), U && H) && (e = H.element, t = H.options, i = function () {
          e.removeEventListener("mouseleave", i), c(e), b = setTimeout(function () {
            r(), U = !1, H = null
          }, W / 2)
        }, t.tooltipHideDelay ? (o = function () {
          e.querySelector(":hover") ? e.addEventListener("mouseleave", i) : i()
        }, s = t.tooltipHideDelay, S = setTimeout(o, s)) : i())
      }

      function m(e) {
        var t, i = Object(T.ensureNotNull)(H).options;
        l(e, i),
          function (e) {
            e.classList.toggle(k["common-tooltip--hidden"], !1)
          }(e), U = !0, i.forceHideOnMove && (t = function () {
            document.removeEventListener("mousemove", t), _()
          }, document.addEventListener("mousemove", t))
      }

      function g(e) {
        var t, i, n, o, r;
        return function (e) {
          return "content" in e
        }(e) ? e : (t = e.inner, i = e.html, n = e.text, o = y.__rest(e, ["inner", "html", "text"]), r = {
          type: "none"
        }, t && (r = {
          type: "element",
          data: t
        }), n && (r = {
          type: i ? "html" : "text",
          data: n
        }), y.__assign({
          content: r
        }, o))
      }
      var y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U, H;
      i.r(t), y = i("mrSG"), i("bf9a"), v = 0, S = 0, b = 0, w = "tooltip-root-element", "interactive" === document.readyState ? o() : document.addEventListener("DOMContentLoaded", o), T = i("Eyy1"), C = {
        default: "",
        white: "theme-white",
        "round-shadow": "theme-round-shadow"
      }, x = Object.keys(C), E = i("ljE9"), I = i("ei7k"), A = i("TzTt"), L = i("Ialn"), i("HbRj"), D = i("XAms"), k = i("Wo0S"), O = 10, M = '\n\t<div id="' + "common-tooltip-wrapper" + '" class="' + k["common-tooltip"] + '">\n\t\t<div class="' + k["common-tooltip__ear-holder"] + '" >\n\t\t\t<div class="' + k["common-tooltip__body"] + ' js-tooltip-body"></div>\n\t\t</div>\n\t\t<div class="' + k["common-tooltip__button-container"] + '"></div>\n\t</div>\n', R = '\n\t<div class="' + k["common-tooltip__hotkey-block"] + '"></div>\n', V = '\n\t<div class="' + k["common-tooltip__hotkey-text"] + '"></div>\n', B = Object(A.parseHtmlElement)(M), N = Object(A.parseHtmlElement)(R), F = Object(A.parseHtmlElement)(V), i.d(t, "showOnElement", function () {
        return d
      }), i.d(t, "show", function () {
        return p
      }), i.d(t, "updateTooltipText", function () {
        return f
      }), i.d(t, "hide", function () {
        return _
      }), W = 500, U = !1, H = null, Modernizr.mobiletouch || document.addEventListener("mouseover", function (e) {
        var t, i, n = e.target,
          o = e.currentTarget,
          r = function (e, t, i) {
            for (var n, o = []; e && e !== t;) e.classList && e.classList.contains(i) && o.push(e), e = e.parentElement || (n = e.parentNode) && (n.nodeType === Node.ELEMENT_NODE ? n : null);
            return o
          }(n, o, "apply-common-tooltip"),
          s = function (t) {
            var i, n, o;
            if ("buttons" in e) {
              if (1 & e.buttons) return "continue"
            } else if (1 === e.which) return "continue";
            if ((i = function () {
                return d(t)
              })()) return n = function () {
              t.removeEventListener("common-tooltip-update", i), t.removeEventListener("mouseleave", n), t.removeEventListener("mousedown", n), document.removeEventListener("scroll", n), _()
            }, o = function (e) {
              27 === e.keyCode && (document.removeEventListener("keydown", o), n())
            }, t.addEventListener("common-tooltip-update", i), t.addEventListener("mouseleave", n), t.addEventListener("mousedown", n), document.addEventListener("scroll", n), document.addEventListener("keydown", o), "break"
          };
        for (t = 0, i = r; t < i.length && "break" !== s(i[t]); t++);
      }, !0)
    },
    gvrv: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p, f, _, m;
      i.d(t, "a", function () {
          return m
        }), n = i("mrSG"), o = i("Eyy1"), r = i("aIyQ"), s = i.n(r), a = i("k9/m"), l = i("hsV8"), c = i("jy4L"), u = i("w4Ji"), h = i("jenN"), d = i("uOxu"), p = Object(d.getLogger)("Chart.StudyDataSource"),
        function (e) {
          e[e.Undefined = 0] = "Undefined", e[e.Loading = 1] = "Loading", e[e.Completed = 2] = "Completed", e[e.Error = 3] = "Error"
        }(f || (f = {})),
        function (e) {
          e[e.Idle = 0] = "Idle", e[e.AwaitingConnection = 1] = "AwaitingConnection", e[e.AwaitingParent = 2] = "AwaitingParent", e[e.AwaitingFirstDataUpdate = 3] = "AwaitingFirstDataUpdate", e[e.Active = 4] = "Active"
        }(_ || (_ = {})), m = function () {
          function e(e, t, i, n) {
            this._inputs = null, this._status = _.Idle, this._studyId = null, this._turnaroundCounter = 1, this._studyStatus = {
              type: f.Undefined
            }, this._studyStatusChanged = new s.a, this._graphics = new h.LiveStudyGraphics, this._dataCleared = new s.a, this._dataUpdated = new s.a, this._boundOnGatewayIsConnectedChanged = this._onGatewayIsConnectedChanged.bind(this), this._gateway = e, this._metaInfo = n, this._series = t, this._turnaroundPrefix = i, this._plots = new a.PlotList(Object(u.studyPlotFunctionMap)(n)), this._gateway.isConnected().subscribe(this._boundOnGatewayIsConnectedChanged)
          }
          return e.prototype.destroy = function () {
            this.stop(), this._gateway.isConnected().unsubscribe(this._boundOnGatewayIsConnectedChanged), this._dataUpdated.destroy(), this._dataCleared.destroy(), this._studyStatusChanged.destroy()
          }, e.prototype.metaInfo = function () {
            return this._metaInfo
          }, e.prototype.inputs = function () {
            return this._inputs
          }, e.prototype.setInputs = function (e) {
            this._inputs = e, null !== this._studyId && (this._turnaroundCounter++, this._onStudyStatusChangedTo({
              type: f.Undefined
            }), this._gateway.modifyStudy(this._studyId, this._turnaround(), e, this._onMessage.bind(this)))
          }, e.prototype.isStarted = function () {
            return this._status !== _.Idle
          }, e.prototype.start = function () {
            this.isStarted() ? p.logNormal("start: data source is already started, nothing to do") : (Object(o.assert)(null !== this._inputs, "Inputs should be defined when starting a study data source"), this._gateway.isConnected().value() ? this._createStudy() : this._changeStatusTo(_.AwaitingConnection))
          }, e.prototype.stop = function () {
            this.isStarted() ? (null !== this._studyId && (this._gateway.removeStudy(this._studyId), this._studyId = null, this._onStudyStatusChangedTo({
              type: f.Undefined
            })), this._changeStatusTo(_.Idle)) : p.logNormal("stop: data source is already stopped, nothing to do")
          }, e.prototype.studyId = function () {
            return this._studyId
          }, e.prototype.studyStatus = function () {
            return this._studyStatus
          }, e.prototype.studyStatusChanged = function () {
            return this._studyStatusChanged
          }, e.prototype.plots = function () {
            return this._plots
          }, e.prototype.graphics = function () {
            return this._graphics
          }, e.prototype.clearData = function () {
            this._plots.clear(), this._graphics.clear(), this._dataCleared.fire()
          }, e.prototype.stealData = function () {
            var e, t;
            return Object(o.assert)(this._status === _.Idle, "Data source should be stopped when stealing data from it"), e = this._plots, t = this._graphics.extract(), this._plots = new a.PlotList(Object(u.studyPlotFunctionMap)(this._metaInfo)), {
              plots: e,
              graphics: t
            }
          }, e.prototype.dataCleared = function () {
            return this._dataCleared
          }, e.prototype.dataUpdated = function () {
            return this._dataUpdated
          }, e.prototype._changeStatusTo = function (e) {
            Object(o.assert)(this._status !== e, "Source and destination status should be distinct"), p.logNormal("Status changed from " + _[this._status] + " to " + _[e]), this._status = e
          }, e.prototype._createStudy = function () {
            var e = this._series.seriesId();
            null != e ? this._createStudyUsingParentId(e) : (this._changeStatusTo(_.AwaitingParent), this._series.dataEvents().completed().subscribe(this, this._onSeriesCompleted, !0))
          }, e.prototype._createStudyUsingParentId = function (e) {
            Object(o.assert)(this._status !== _.Active, 'Status should not be "Active" when creating a study'), Object(o.assert)(this._studyStatus.type === f.Undefined, 'Study status should be "Undefined" when creating a study'), Object(o.assert)(null === this._studyId, "Study id should be empty when creating a study"), this._studyId = Object(c.makeNextStudyId)(), this._gateway.createStudy(this._studyId, this._turnaround(), e, this._metaInfo.fullId + "!", this._inputs, this._onMessage.bind(this)), this._changeStatusTo(_.AwaitingFirstDataUpdate)
          }, e.prototype._onGatewayIsConnectedChanged = function (e) {
            e ? this._onGatewayConnected() : this._onGatewayDisconnected()
          }, e.prototype._onGatewayConnected = function () {
            this._status === _.AwaitingConnection && this._createStudy()
          }, e.prototype._onGatewayDisconnected = function () {
            this._status !== _.Idle && this._status !== _.AwaitingConnection && (this._studyId = null, this._changeStatusTo(_.AwaitingConnection), this._studyStatus.type !== f.Undefined && this._onStudyStatusChangedTo({
              type: f.Undefined
            })), this._turnaroundCounter = 1
          }, e.prototype._onSeriesCompleted = function () {
            this._status === _.AwaitingParent && this._createStudyUsingParentId(Object(o.ensure)(this._series.seriesId()))
          }, e.prototype._onStudyStatusChangedTo = function (e) {
            var t = this._studyStatus;
            this._studyStatus = e, p.logNormal("Study status type changed from " + f[t.type] + " to " + f[e.type]), this._studyStatusChanged.fire(t, e)
          }, e.prototype._onMessage = function (e) {
            var t, i, n, o, r, s, a, l, c, u, h;
            "data_update" === e.method ? (i = (t = e.params).customId, n = t.turnaround, o = t.plots, r = t.nonseries, i === this._studyId && this._checkTurnaround(n) && this._onDataUpdate(o, r)) : "study_loading" === e.method ? (i = (s = e.params)[0], n = s[1], a = s[2], i === this._studyId && this._checkTurnaround(n) && this._onStudyLoading(a)) : "study_completed" === e.method ? (i = (l = e.params)[0], n = l[1], a = l[2], i === this._studyId && this._checkTurnaround(n) && this._onStudyCompleted(a)) : "study_error" === e.method && (i = (c = e.params)[0], n = c[1], u = c[2], h = c[3], a = c[4], i === this._studyId && this._checkTurnaround(n) && this._onStudyError(u, h, a))
          }, e.prototype._onDataUpdate = function (e, t) {
            return n.__awaiter(this, void 0, void 0, function () {
              var i;
              return n.__generator(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [4, Object(l.unpackNonSeriesData)(t.d)];
                  case 1:
                    return i = n.sent(), this._status === _.AwaitingFirstDataUpdate && (this._changeStatusTo(_.Active), this.clearData()), this._mergePlots(e), null !== i && (i.indexes_replace ? (Object(o.assert)("nochange" !== t.indexes), this._graphics.replaceIndexesTo(t.indexes)) : ("nochange" !== t.indexes && this._graphics.replaceIndexesTo(t.indexes), void 0 !== i.graphicsCmds && this._graphics.processCommands(i.graphicsCmds, this._metaInfo.graphics))), this._dataUpdated.fire(e, i, t.indexes), [2]
                }
              })
            })
          }, e.prototype._onStudyLoading = function (e) {
            this._onStudyStatusChangedTo({
              type: f.Loading,
              startTime: Date.now()
            })
          }, e.prototype._onStudyError = function (e, t, i) {
            this.clearData(), this._onStudyStatusChangedTo({
              type: f.Error,
              reason: e
            })
          }, e.prototype._onStudyCompleted = function (e) {
            this._onStudyStatusChangedTo({
              type: f.Completed
            })
          }, e.prototype._mergePlots = function (e) {
            this._plots.merge(e)
          }, e.prototype._turnaround = function () {
            return "" + this._turnaroundPrefix + this._turnaroundCounter
          }, e.prototype._checkTurnaround = function (e) {
            var t = this._turnaround();
            return e === t || e === this._series.turnaround() || e === this._series.turnaround() + "_" + t
          }, e
        }()
    },
    gyZD: function (e, t, i) {
      "use strict";

      function n(e) {
        this.items = e.items, this._simpleMode = e.simpleMode, this.barSpacing = e.barSpacing, this.lineColor = e.lineColor, this.lineWidth = e.lineWidth, this.lineStyle = e.lineStyle, this.withMarkers = e.withMarkers, this.withSteps = e.withSteps, this.hittest = e.hittest, this.ignorePaletteLineWidth = e.ignorePaletteLineWidth, this.forceLineColor = !!e.forceLineColor
      }
      var o = i("aO4+").Point,
        r = i("GEp6").distanceToSegment,
        s = i("Zp/P"),
        a = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        e.lineCap = "square", e.lineJoin = this.withMarkers ? "round" : "miter", e.strokeStyle = this.lineColor, e.fillStyle = this.lineColor, e.lineWidth = this.lineWidth, e.lineStyle = this.lineStyle, s.setValidLineStyle(e, this.lineStyle), this._simpleMode ? this._drawSimpleMode(e) : this._drawLines(e)
      }, n.prototype._drawSimpleMode = function (e) {
        var t, i, n, o;
        if (e.beginPath(), this.walkLine(e, this.items), e.stroke(), this.withMarkers) {
          for (t = this.lineWidth + 2, i = 2 * Math.PI, e.beginPath(), o = this.items.length; o--;)(n = this.items[o]) && (e.moveTo(n.x, n.y), e.arc(n.x, n.y, t, 0, i));
          e.fill()
        }
      }, n.prototype.walkLine = function (e, t, i, n) {
        var o, r, a, l, c, u, h, d, p, f, _;
        if (t) {
          for (o = .25 * this.barSpacing, h = s.coordinateIsValid, d = 0, p = t.length; d < p; d++)
            if (h((f = t[d]).y)) {
              a = f, r = d;
              break
            } if (void 0 !== r && a)
            for (_ = this.withSteps && this.lineWidth && this.lineWidth % 2 == 0 ? .5 : 0, d = r, p = t.length; d < p; d++) {
              if (c = t[d], u = t[d + 1] || {}, h(c.y))
                if (l && h(l.y)) this.withSteps && e.lineTo(l.x + _, c.y + _), e.lineTo(c.x + _, c.y + _), i && !h(u.y) && e.lineTo(c.x + _, n);
                else if (u && h(u.y)) i ? (d !== r && e.lineTo(c.x + _, n), e.lineTo(c.x + _, c.y + _)) : e.moveTo(c.x + _, c.y + _);
              else if (i) {
                if (0 === d) continue;
                d !== r && e.lineTo(c.x - o + _, n), e.lineTo(c.x - o + _, c.y + _), e.lineTo(c.x + o + _, c.y + _), e.lineTo(c.x + o + _, n)
              } else e.moveTo(c.x - o + _, c.y + _), e.lineTo(c.x + o + _, c.y + _);
              l = c
            }
        }
      }, n.prototype._drawLines = function (e) {
        function t(t, i, n) {
          a(i.y) && (a(t.y) ? e.lineTo(i.x, i.y) : n && a(n.y) ? e.moveTo(i.x, i.y) : (e.moveTo(i.x - r, i.y), e.lineTo(i.x + r, i.y)))
        }
        var i, n, o, r, a, l, c, u, h, d, p, f, _;
        if (this.items.length) {
          for (r = .25 * this.barSpacing, a = s.coordinateIsValid, e.beginPath(), (l = this.items[0]) && e.moveTo(l.x, l.y), c = e.strokeStyle, u = e.lineWidth, h = e.lineStyle, d = 1; d < this.items.length; ++d) i = this.items[d - 1], n = this.items[d], o = this.items[d + 1], n.style && !this.forceLineColor ? (p = n.style.color, f = n.style.width, _ = n.style.style) : (p = this.lineColor, f = this.lineWidth, _ = this.lineStyle), this.ignorePaletteLineWidth && (f = this.lineWidth), (p !== c || f !== u || _ !== h) && (c = p, u = f, h = _, e.stroke(), e.beginPath(), e.strokeStyle = p, e.lineWidth = f, s.setValidLineStyle(e, _), e.moveTo(i.x, i.y)), t(i, n, o);
          e.stroke()
        }
      }, n.prototype.hitTest = function (e) {
        for (var t, i, n, l, c, u, h = s.selectionTolerance(this.lineWidth), d = 0, p = this.items.length - 1; p - d > 2;) c = Math.round((p + d) / 2), this.items[c].x <= e.x ? d = c : p = c;
        for (d = Math.max(1, d - 1), p = Math.min(this.items.length - 1, p + 1), u = d; u <= p; ++u)
          if (t = this.items[u - 1], i = this.items[u], n = t.x, l = i.x,
            r(new o(n, t.y), new o(l, i.y), new o(e.x, e.y)).distance <= h) return this.hittest ? this.hittest : new a(a.REGULAR);
        return null
      }, t.PaneRendererLine = TradingView.PaneRendererLine = n
    },
    h24c: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i, n, o;
        return i = ~~(t = /^[,\s]*(\d*)\s*([hdwmsr]?)\s*$/i.exec(e) || [])[1], n = t[2] && t[2].toUpperCase() || null, (o = {
          qty: !i && n ? 1 : i,
          unit: n
        }).error = !i && !n, o.intraday = !(o.error || o.unit && "H" !== o.unit), o
      }

      function o(e) {
        var t, i, o;
        return h.enabled("allow_supported_resolutions_set_only") ? null !== (t = r(e)) && Object(d.isAvailable)(t.toString()) : !(i = n(e)).error && (i.intraday ? p.linking.intraday.value() : !(o = p.linking.supportedResolutions.value()) || null !== i.unit && !!~o.indexOf(i.unit))
      }

      function r(e) {
        var t = n(e),
          i = t.qty,
          o = t.unit;
        return t.error ? null : ("H" === o && (i *= 60, o = null), i && !o ? String(i) : o && (!i || 1 === i && "S" !== o) ? o : i + o)
      }

      function s() {
        return "cme" !== window.TradingView.widgetCustomer && "bovespa" !== window.TradingView.widgetCustomer
      }

      function a(e) {
        var t, n;
        return !e.ctrlKey && (!e.metaKey && (!!e.charCode && (!(!e.which || e.which <= 32) && ((null === e.target || !/^(input|textarea)$/i.test(e.target.tagName)) && ((!(t = i.c.GAqT) || !t.exports.TVOldDialogs.modalDialog) && (!(n = i.c["6aJD"]) || !n.exports.isOpenedModals()))))))
      }

      function l(e, t) {
        return !t && (e === p.linking.symbol.value() || e === p.linking.seriesShortSymbol.value())
      }

      function c(e, t) {
        var i = p.linking.symbol.value() || "";
        i = function (e, t) {
          if (!t) return e;
          if (_.test(e)) {
            var i = e.split(/\//);
            i.length && (e = i[i.length - 1])
          } else e = p.linking.seriesShortSymbol.value() || e;
          return e
        }(i, t), e.val(i)
      }

      function u(e) {
        Object(d.setLastUsedResolution)(e), p.linking.interval.setValue(e)
      }
      var h, d, p, f, _;
      i.r(t), i.d(t, "parseIntervalValue", function () {
        return n
      }), i.d(t, "intervalIsSupported", function () {
        return o
      }), i.d(t, "sanitizeIntervalValue", function () {
        return r
      }), i.d(t, "canShowSpreadActions", function () {
        return s
      }), i.d(t, "globalKeypressMatches", function () {
        return a
      }), i.d(t, "skipAccept", function () {
        return l
      }), i.d(t, "syncSymbolSearch", function () {
        return c
      }), i.d(t, "setLinkingResolution", function () {
        return u
      }), h = i("Kxc7"), d = i("pPtI"), p = i("PT1i"), f = i("ePL1"), _ = new RegExp("^" + f.types.QUANDL, "i")
    },
    hBTJ: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n, o = e.A,
          r = t.A,
          s = e.B,
          a = t.B,
          l = e.C,
          u = t.C,
          h = o * a - r * s;
        return Math.abs(h) < 1e-6 ? null : (i = (s * u - a * l) / h, n = (r * l - o * u) / h, new c.Point(i, n))
      }

      function o(e, t, i, n) {
        var o, r, s = function (e, t, i, n) {
          var o, r = t.subtract(e),
            s = n.subtract(i),
            a = r.x * s.y - r.y * s.x;
          return Math.abs(a) < 1e-6 ? null : ((o = e.subtract(i)).y * s.x - o.x * s.y) / a
        }(e, t, i, n);
        return null === s ? null : (o = t.subtract(e).scaled(s).add(e), r = u.distanceToSegment(i, n, o), Math.abs(r.distance) < 1e-6 ? s : null)
      }

      function r(e, t) {
        var i, n, o;
        for (i = 0, n = e; i < n.length; i++)
          if (o = n[i], c.equalPoints(o, t)) return !1;
        return e.push(t), !0
      }

      function s(e, t) {
        return !(e.length > 0 && c.equalPoints(e[e.length - 1], t)) && (e.push(t), !0)
      }

      function a(e, t) {
        var i, o, r, a, l, u = [];
        for (i = 0; i < e.length; ++i) o = e[i], r = e[(i + 1) % e.length], a = c.lineThroughPoints(o, r), h.pointInHalfplane(o, t) ? (s(u, o), h.pointInHalfplane(r, t) || null !== (l = n(a, t.edge)) && s(u, l)) : h.pointInHalfplane(r, t) && null !== (l = n(a, t.edge)) && s(u, l);
        return u.length >= 3 ? u : null
      }
      var l, c, u, h;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), l = i("Eyy1"), c = i("aO4+"), u = i("GEp6"), h = i("f6yo"), t.intersectLineSegmentAndBox = function (e, t) {
        function i(e, t, i, n, o, r) {
          var s = 0;
          return e < i ? s |= 1 : e > o && (s |= 2), t < n ? s |= 4 : t > r && (s |= 8), s
        }
        for (var n, o, r, s = e[0].x, a = e[0].y, l = e[1].x, u = e[1].y, h = t.min.x, d = t.min.y, p = t.max.x, f = t.max.y, _ = i(s, a, h, d, p, f), m = i(l, u, h, d, p, f), g = !1, y = 0;;) {
          if (y > 1e3) throw new Error("Cohen - Sutherland algorithm: infinity loop");
          if (y++, !(_ | m)) {
            g = !0;
            break
          }
          if (_ & m) break;
          o = void 0, r = void 0, 8 & (n = _ || m) ? (o = s + (l - s) * (f - a) / (u - a), r = f) : 4 & n ? (o = s + (l - s) * (d - a) / (u - a), r = d) : 2 & n ? (r = a + (u - a) * (p - s) / (l - s), o = p) : (r = a + (u - a) * (h - s) / (l - s), o = h), n === _ ? _ = i(s = o, a = r, h, d, p, f) : m = i(l = o, u = r, h, d, p, f)
        }
        return g ? c.equalPoints(c.point(s, a), c.point(l, u)) ? c.point(s, a) : c.lineSegment(c.point(s, a), c.point(l, u)) : null
      }, t.intersectLines = n, t.intersectLineSegments = o, t.intersectLineAndBox = function (e, t) {
        var i, n, o, s, a, u = t.min.x,
          h = t.min.y,
          d = t.max.x,
          p = t.max.y;
        if (0 === e.A) return i = -e.C / e.B, h <= i && i <= p ? c.lineSegment(c.point(u, i), c.point(d, i)) : null;
        if (0 === e.B) return n = -e.C / e.A, u <= n && n <= d ? c.lineSegment(c.point(n, h), c.point(n, p)) : null;
        switch (o = [], a = function (t) {
          var i = function (e, t) {
            return -(e.C + e.B * t) / e.A
          }(e, t);
          u <= i && i <= d && r(o, new c.Point(i, t))
        }, (s = function (t) {
          var i = function (e, t) {
            return -(e.C + e.A * t) / e.B
          }(e, t);
          h <= i && i <= p && r(o, new c.Point(t, i))
        })(u), a(h), s(d), a(p), o.length) {
          case 0:
            return null;
          case 1:
            return o[0];
          case 2:
            return c.equalPoints(o[0], o[1]) ? o[0] : c.lineSegment(o[0], o[1])
        }
        return l.assert(!1, "We should have at most two intersection points"), null
      }, t.intersectRayAndBox = function (e, t, i) {
        var n, r = o(e, t, i.min, new c.Point(i.max.x, i.min.y)),
          s = o(e, t, new c.Point(i.max.x, i.min.y), i.max),
          a = o(e, t, i.max, new c.Point(i.min.x, i.max.y)),
          l = o(e, t, new c.Point(i.min.x, i.max.y), i.min),
          u = [];
        return null !== r && r >= 0 && u.push(r), null !== s && s >= 0 && u.push(s), null !== a && a >= 0 && u.push(a), null !== l && l >= 0 && u.push(l), 0 === u.length ? null : (u.sort(function (e, t) {
          return e - t
        }), n = h.pointInBox(e, i) ? u[0] : u[u.length - 1], e.addScaled(t.subtract(e), n))
      }, t.intersectPolygonAndHalfplane = a, t.intersectPolygons = function (e, t) {
        var i, n, o, r, s, l = e;
        for (i = 0; i < t.length && null !== l; ++i) n = t[i], o = t[(i + 1) % t.length], r = t[(i + 2) % t.length], s = c.lineThroughPoints(n, o), l = a(l, c.halfplaneThroughPoint(s, r));
        return l
      }
    },
    hGf4: function (e, t, i) {
      "use strict";
      (function (e, t) {
        function n(t, i) {
          this.options = Object.assign({
            throttleTimeout: 125
          }, i), this._connected = !1, this._symbol_data = {}, this._subscriptions = {}, this._delayed_subscriptions = [], this.onConnect = new e, this.onDisconnect = new e, this._quoteApi = new o(window.ChartApiInstance), this._type = t || "full", this._delayUpdateFastSymbols = s(this._updateFastSymbols, 250), this._throttledSymbolData = {}, this._formatterValuesCache = {}, this._waitingForFormatters = {}, this._snapshotValuesCache = {}, this._waitingForSnapshot = {}, this.connect()
        }
        var o, r = i("kcTO").PriceFormatter,
          s = i("JOqt").debounce,
          a = i("PoSe"),
          l = i("IVMC"),
          c = i("0waE"),
          u = i("i/Bj").parseUpdateMode,
          h = i("FIi8").deepExtend;
        o = i("wi9r"), n.prototype.destroy = function () {
            this._quoteApi.destroy(), this._quoteApi = null, this._connected = !1, this.onDisconnect.fire()
          }, n.prototype.typeFields = {},
          n.prototype.typeFields.simple = ["ch", "chp", "current_session", "description", "local_description", "language", "exchange", "fractional", "is_tradable", "lp", "lp_time", "minmov", "minmove2", "original_name", "pricescale", "pro_name", "short_name", "type", "update_mode", "volume", "currency_code"], n.prototype.typeFields.simpleDetailed = [].concat(n.prototype.typeFields.simple, ["ask", "bid", "fundamentals", "high_price", "is_tradable", "low_price", "open_price", "prev_close_price", "rch", "rchp", "rtc", "rtc_time", "status", "basic_eps_net_income", "beta_1_year", "earnings_per_share_basic_ttm", "industry", "market_cap_basic", "price_earnings_ttm", "sector", "volume", "dividends_yield", "timezone"]), n.prototype.typeFields.full = [], n.prototype.connect = function (e) {
            this._quoteApi.connect(this.quoteHandler.bind(this))
          }, n.prototype.quoteHandler = function (e) {
            var t = e.method,
              i = e.params;
            switch (t) {
              case "connected":
                this._connected || (this._connected = !0, this.onConnected());
                break;
              case "quote_list_fields":
                break;
              case "quote_symbol_data":
                this._connected && this.onSymbolData(i[0]);
                break;
              case "disconnected":
                this._connected && (this._connected = !1, this.onDisconnect.fire())
            }
          }, n.prototype.onConnected = function () {
            this.setFields();
            var e = Object.keys(this._symbol_data);
            e.length && this._quoteApi.quoteAddSymbols(e, {
              forcePermission: !0
            }), this._delayed_subscriptions.forEach(function (e) {
              this.subscribe.apply(this, e)
            }, this), this._delayed_subscriptions = [], this.onConnect.fire()
          }, n.prototype.setFields = function () {
            var e = n.prototype.typeFields[this._type];
            e && e.length && this._quoteApi.quoteSetFields(e)
          }, n.prototype.onSymbolData = function (e) {
            var t = e.symbolname,
              i = this._throttledSymbolData[t];
            i || (i = this._throttledSymbolData[t] = {
              fnDispatch: a(this.dipatchSymbolData.bind(this), this.options.throttleTimeout)
            }), i.cache ? h(i.cache, e) : i.cache = e, i.fnDispatch(t)
          }, n.prototype._parseUpdateMode = function (e) {
            var t = u(e.update_mode);
            null !== t && (e.update_mode = t.mode, e.update_mode_seconds = t.interval)
          }, n.prototype.dipatchSymbolData = function (e) {
            var t, i, n = this._symbol_data[e],
              o = this._throttledSymbolData[e].cache;
            if (delete this._throttledSymbolData[e].cache, this._symbol_data[e])
              for (t in h(n, o), n.values && this._parseUpdateMode(n.values), this._subscriptions)(i = this._subscriptions[t])[e] && i[e].forEach(function (e) {
                e(n, o)
              })
          }, n.prototype.subscribe = function (e, t, i) {
            var n, o;
            this._connected ? (this._subscriptions[e] = this._subscriptions[e] || {}, n = this._subscriptions[e], t = [].concat(t), o = [], t.forEach(function (e) {
              this._symbol_data[e] ? n && n[e] || this._symbol_data[e].subscribers_count++ : (this._symbol_data[e] = {
                subscribers_count: 1
              }, o.push(e)), n[e] = n[e] || [], n[e].push(i), n[e].fast = !0, this._symbol_data[e] && this._symbol_data[e].values && i(this._symbol_data[e], this._symbol_data[e])
            }, this), o.length && (this._quoteApi.quoteAddSymbols(o, {
              forcePermission: !0
            }), this._delayUpdateFastSymbols())) : this._delayed_subscriptions.push(arguments)
          }, n.prototype.unsubscribe = function (e, t, i) {
            var n, o = this._subscriptions[e];
            o && (o[t] && i ? (~(n = o[t].indexOf(i)) && o[t].splice(n, 1), o[t].length || delete o[t]) : delete o[t]), o && 0 === Object.keys(o).length && delete this._subscriptions[e],
              this._symbol_data.hasOwnProperty(t) && (o && !o[t] && this._symbol_data[t].subscribers_count--, this._symbol_data[t].subscribers_count || (delete this._symbol_data[t], this._quoteApi.quoteRemoveSymbols([t]), this._delayUpdateFastSymbols()))
          }, n.prototype.setFastSymbols = function (e, t) {
            var i, n;
            if (this._subscriptions[e])
              for (n in i = this._subscriptions[e]) i[n].fast = -1 !== t.indexOf(n);
            this._delayUpdateFastSymbols()
          }, n.prototype._updateFastSymbols = function () {
            if (this._connected) {
              var e = this._fastSymbols();
              0 === e.length ? this._quoteApi.quoteHibernateAll() : this._quoteApi.quoteFastSymbols(e)
            }
          }, n.prototype._delayUpdateFastSymbols = n.prototype._updateFastSymbols, n.prototype._fastSymbols = function () {
            var e, t, i, n = [];
            for (e in this._subscriptions)
              for (i in t = this._subscriptions[e]) t[i].fast && n.push(i);
            return n = l(n)
          }, n.prototype.formatter = function (e, t) {
            function i(e) {
              var i = t && !e.fractional ? 1 : e.minmov;
              return new r(e.pricescale, i, e.fractional, e.minmove2)
            }
            var n, o = this;
            return this._waitingForFormatters[e] ? this._waitingForFormatters[e] : (n = new Promise(function (t, n) {
              if (o._formatterValuesCache[e]) t(i(o._formatterValuesCache[e]));
              else {
                var r = c.guid();
                o.subscribe(r, [e], function (s) {
                  s.error && (o._waitingForFormatters[e] = null, n(s.error)),
                    function (e) {
                      return e && null != e.pricescale && null != e.minmov
                    }(s.values) && (o._waitingForFormatters[e] = null, o._formatterValuesCache[e] = s.values, t(i(s.values)), o.unsubscribe(r, e))
                })
              }
            }), this._waitingForFormatters[e] = n, n)
          }, n.prototype.snapshot = function (e) {
            var t, i = this;
            return this._waitingForSnapshot[e] ? this._waitingForSnapshot[e] : (t = new Promise(function (t, n) {
              if (i._snapshotValuesCache[e]) t(i._snapshotValuesCache[e]);
              else {
                var o = c.guid();
                i.subscribe(o, [e], function (r) {
                  r.error && (i._waitingForSnapshot[e] = null, n(r.error));
                  var s = r.values;
                  s && s.minmov && s.pricescale && s.description && (i._waitingForSnapshot[e] = null, i._snapshotValuesCache[e] = s, t(s), i.unsubscribe(o, e))
                })
              }
            }), this._waitingForSnapshot[e] = t, t)
          }, TradingView.QuoteSessionMultiplexer = n, t && t.exports && (t.exports = n)
      }).call(this, i("aIyQ"), i("YuTi")(e))
    },
    hGxK: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e) {
          this._pendingRequestDfdPromise = null, this.invalidated = new t, this._init()
        }
        var o = i("jofe").createDeferredPromise,
          r = i("uOxu"),
          s = r.getLogger("ChartApi.AuthToken", {
            color: "#173"
          });
        window.loginStateChange = new t, n.prototype.useToken = !1, n.prototype.token = "", n.prototype._init = function () {
          this._getFromUserHash(), window.loginStateChange.subscribe(this, function (e) {
            e || (this._getFromUserHash(), this.invalidated.fire())
          })
        }, n.prototype._getFromUserHash = function () {
          window.user && user.auth_token ? this.set(user.auth_token) : this.remove()
        }, n.prototype.get = function (e) {
          var t, i, n = !1;
          return !this.useToken || this.token ? (i = this.useToken ? this.token : "", delete this.token, t = new Promise(function (t, n) {
            var o, r;
            e ? (s.logNormal("Requesting auth token"), (o = new XMLHttpRequest).open("POST", "/grab_session/"), o.addEventListener("load", function () {
              s.logNormal("Requesting auth token is finished"), t(i)
            }), r = function () {
              s.logError("Requesting auth token is failed")
            }, o.addEventListener("error", r), o.addEventListener("timeout", r), o.send()) : t(i)
          })) : (n = !0,
            t = this._request(e)), t.then(function (e) {
            return this._syncExpiresTimeout(e, n), e
          }.bind(this))
        }, n.prototype.set = function (e) {
          this.useToken = !0, null !== this._pendingRequestDfdPromise ? this._pendingRequestDfdPromise.resolve(e) : this.token = e
        }, n.prototype.remove = function () {
          this.token = "", this.useToken = !1, null !== this._pendingRequestDfdPromise && (this._pendingRequestDfdPromise.resolve(""), delete this._token)
        }, n.prototype._request = function (e) {
          var t, i, n, r, a;
          return null === this._pendingRequestDfdPromise && (s.logNormal("Requesting quote auth token"), t = this, i = null, n = o(), this._pendingRequestDfdPromise = n, r = function () {
            null !== i && (i.abort(), i = null), t._pendingRequestDfdPromise = null
          }, n.promise.then(r), n.promise.catch(r), a = 0, function o() {
            function r() {
              var e, r = i.status;
              if (i = null, null !== t._pendingRequestDfdPromise && t._pendingRequestDfdPromise === n) {
                if (s.logWarn("Quote auth token requesting error, status code: " + r), 403 === r) return s.logWarn("Quote auth token: session is not active"), void n.resolve("");
                e = Math.min(1e3 * a, 3e4), a++, setTimeout(o, e)
              }
            }(i = new XMLHttpRequest).open("POST", "/quote_token/"), i.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), i.addEventListener("load", function () {
              s.logNormal("Quote auth token requesting is finished");
              var e = JSON.parse(i.responseText);
              i = null, n.resolve(e)
            }), i.addEventListener("error", r), i.addEventListener("timeout", r), i.send("grabSession=" + Boolean(e))
          }()), this._pendingRequestDfdPromise.promise
        }, n.prototype._expiration = function (e) {
          var t, i, n = e.split(":");
          return n[8] && n[9] ? (t = +n[8], i = +n[9], isFinite(t) && isFinite(i) ? {
            timestamp: 1e3 * t,
            lifespan: 1e3 * i
          } : null) : null
        }, n.prototype._expiresTimeoutId = void 0, n.prototype._syncExpiresTimeout = function (e, t) {
          var i, n, o = 3e5;
          this._expiresTimeoutId && (clearTimeout(this._expiresTimeoutId), delete this._expiresTimeoutId), e && (i = this._expiration(e)) && (n = t ? i.lifespan : new Date - i.timestamp + i.lifespan, n -= o, n = Math.max(0, n), s.logNormal("Auth token expires in " + n / 1e3 + " seconds"), this._expiresTimeoutId = setTimeout(function () {
            s.logNormal("Auth token is expired"), this.invalidated.fire()
          }.bind(this), n))
        }, e.exports = n
      }).call(this, i("aIyQ"))
    },
    hP9j: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolPolyline";
        var o = t || n.createProperties();
        r.call(this, e, o), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("C2CE").PolylinePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("aO4+").Point,
        r = i("Ss5c").LineDataSource,
        s = i("Ocx9").DefaultProperty,
        a = i("hayr").propertyPages;
      inherit(n, r), n.prototype.pointsCount = function () {
        return -1
      }, n.prototype.title = function () {
        return "Polyline"
      }, n.prototype.name = function () {
        return "Polyline"
      }, n.prototype.addPoint = function (e) {
        var t, i, n, s, a, l, c, u, h = this._model.timeScale().indexToCoordinate(e.index),
          d = e.price,
          p = this.ownerSource().firstValue(),
          f = this.priceScale().priceToCoordinate(d, p),
          _ = 5;
        if (this._points.length > 0) {
          if (t = this._points[this._points.length - 1], i = this._model.timeScale().indexToCoordinate(t.index), n = t.price, s = this.priceScale().priceToCoordinate(n, p),
            new o(h, f).subtract(new o(i, s)).length() < _) return this._lastPoint = null, this.normalizePoints(), this.createServerPoints(), !0;
          if (a = this._points[0], l = this._model.timeScale().indexToCoordinate(a.index), c = a.price, u = this.priceScale().priceToCoordinate(c, p), new o(h, f).subtract(new o(l, u)).length() < _) return this._properties.filled.setValue(!0), this._lastPoint = null, this.normalizePoints(), this.createServerPoints(), !0
        }
        return r.prototype.addPoint.call(this, e)
      }, n.prototype.setPoint = function (e, t) {
        var i, n, s, a, l, c, u;
        r.prototype.setPoint.call(this, e, t), this._model.timeScale().isEmpty() || this.priceScale().isEmpty() || e !== this._points.length - 1 && 0 !== e || (i = 5, n = this.ownerSource().firstValue(), s = this._model.timeScale().indexToCoordinate(t.index), a = this.priceScale().priceToCoordinate(t.price, n), l = e === this._points.length - 1 ? this._points[0] : this._points[this._points.length - 1], c = this._model.timeScale().indexToCoordinate(l.index), u = this.priceScale().priceToCoordinate(l.price, n), new o(s, a).subtract(new o(c, u)).length() < i && this._properties.filled.setValue(!0))
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return a.LineToolPolylineStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new s("linetoolpolyline", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        r._configureProperties(e), e.addExclusion("filled")
      }, t.LineToolPolyline = n
    },
    hPwr: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "PublishedChartsFilter", function () {
          return n
        }),
        function (e) {
          e.None = "all", e.Following = "following", e.Private = "private"
        }(n || (n = {}))
    },
    hWRP: function (e, t, i) {
      "use strict";

      function n(e, t) {
        void 0 === t && (t = ""), c.logDebug(e + " " + t)
      }

      function o(e, t) {
        var i = t ? JSON.stringify(t) : "";
        d.logDebug(e + " " + i)
      }

      function r(e) {
        var t, i;
        return e.method && ["create_alert", "stop_alert", "stop_all", "restart_alert", "restart_all", "delete_alert", "delete_all", "delete_events"].includes(e.method) && (t = Object.assign({}, e.params), e.params && "extra" in e.params && (t.extra = JSON.parse(e.params.extra)), m.logNormal(JSON.stringify({
          m: e.method,
          p: t
        }))), p.isMergable(e) ? p.mergeRequest(e) : u.isCachable(e) ? ((i = u.get(e)) || (i = s(e), u.set(e, i)), i) : s(e)
      }

      function s(e) {
        var t, i = e.method,
          n = {
            body: JSON.stringify({
              m: i,
              p: e.params
            }),
            credentials: "include",
            method: "POST"
          },
          o = (new Date).getTime();
        return g ? (t = window.user && window.user.username ? g + "?log_username=" + window.user.username : g, Object(_.fetch)(t, n, {
          logBodyOnError: !0
        }).then(function (e) {
          f.telemetry.sendReport("alerts", "api_http_status", {
            value: e.status
          });
          var t = (new Date).getTime() - o;
          return f.telemetry.sendReport("alerts", "api_time_frame", {
            value: t
          }), e.json()
        }).then(function (e) {
          var t = e.m,
            i = "Unexpected server response";
          return "success" === t ? e.p : "error" === e.m ? Promise.reject(e.p.reason || i) : Promise.reject(i)
        }).catch(function (e) {
          return e instanceof Error ? Promise.reject("Failed to fetch price-alerts: " + e) : Promise.reject(e)
        })) : Promise.reject("no_alerts_url")
      }
      var a, l, c, u, h, d, p, f, _, m, g;
      i.r(t), a = i("Kxc7"), l = i("uOxu"), c = Object(l.getLogger)("Alerts.Price.RequestCache"),
        function (e) {
          function t(e) {
            var t = o(e);
            return r[t] && n("got from cache", t), r[t] ? r[t].self : null
          }

          function i(e, t) {
            var i, s, a;
            void 0 === t && (t = !1), i = o(e), (s = r[i]) && (t ? (s.clearCacheTimeoutId && clearTimeout(s.clearCacheTimeoutId), delete r[i], n("removed immediately", i)) : (a = 5e3, s.clearCacheTimeoutId = setTimeout(function () {
              delete r[i], n("removed timeout", i)
            }, a)))
          }

          function o(e) {
            return JSON.stringify(e)
          }
          var r = {};
          e.set = function (e, s) {
            var a = o(e);
            t(e) && i(e, !0), r[a] = {
              self: s
            }, n("added", a), s.then(function (t) {
              return i(e), t
            }).catch(function (t) {
              return i(e, !0), t
            })
          }, e.get = t, e.isCachable = function (e) {
            return "list_alerts" === e.method || "list_events" === e.method
          }
        }(u || (u = {})), h = i("0waE"), d = Object(l.getLogger)("Alerts.Price.MergedGetAlertsRequrest"),
        function (e) {
          function t(e) {
            delete n[e], Object.keys(n).length || (a = null, r = null)
          }
          var i = 500,
            n = {},
            r = null,
            a = null;
          e.isMergable = function (e) {
            return "get_alert" === e.method || "get_alerts" === e.method
          }, e.mergeRequest = function (e) {
            var l = Object(h.guid)(),
              c = new Promise(function (t, n) {
                o("personal promise - creating", e),
                  function (e) {
                    var t = [];
                    "id" in e.params ? t = [e.params.id] : "ids" in e.params && (t = e.params.ids), a ? a.params.ids = a.params.ids.concat(t) : a = {
                      method: "get_alerts",
                      params: {
                        ids: t
                      }
                    }
                  }(e), (r || (o("merged promise - creating"), (r = new Promise(function (e, t) {
                    setTimeout(function () {
                      a ? (o("send request to server - timeout"), s(a).then(function (t) {
                        e(t)
                      }).catch(t)) : t("No data to send request")
                    }, i)
                  })).then(function (e) {
                    return o("merged promise - resolved")
                  }), r.catch(function (e) {
                    return o("merged promise - rejected")
                  })), r).then(function (i) {
                    var r = function (e, t) {
                      var i, n, o, r, s, a, l, c = t.alerts || [],
                        u = null;
                      if ("get_alert" === e.method)(i = c.filter(function (t) {
                        return t.id === e.params.id
                      })[0]) && (u = {
                        alert: i
                      });
                      else if ("get_alerts" === e.method) {
                        for (n = e.params.ids, o = [], r = n.length - 1; r >= 0; r--)
                          for (s = n[r], a = c.length - 1; a >= 0; a--)
                            if ((l = c[a]).id === s) {
                              o.push(l);
                              break
                            } o.length && (u = {
                          alerts: o
                        })
                      }
                      return u
                    }(e, i);
                    r ? (o("personal promise - resolved", e), t(r)) : (o("personal promise - rejected", e), n("not_exists"))
                  }).catch(n)
              });
            return c.then(function (e) {
                return t(l), e
              }).catch(function (e) {
                return t(l), e
              }),
              function (e, t) {
                n[e] = t
              }(l, c), c
          }
        }(p || (p = {})), f = i("xlbu"), _ = i("BHQF"), i.d(t, "sendRequest", function () {
          return r
        }), i.d(t, "sendRequestImmediately", function () {
          return s
        }), m = Object(l.getLogger)("Alerts.Price.Request"), g = window.initData.price_alerts_url || "", a.enabled("alerts") && !g && m.logError("Url not passed")
    },
    hY0g: function (e, t, i) {
      "use strict";
      (function (e) {
        function t(e) {
          if (!(this instanceof t)) return new t(e);
          arguments.length > 0 && (this._value = e), this._listeners = []
        }
        t.prototype.value = function () {
          return this._owner ? this._owner._value : this._value
        }, t.prototype.setValue = function (e, t) {
          var i, n, o, r = this._owner ? this._owner : this;
          if ("function" == typeof r.hook && (e = r.hook(e)), r.writeLock) return r._value;
          if (!t && r._value === e && r.hasOwnProperty("_value")) return e;
          for (r._value = e, i = r._listeners.slice(), n = 0, o = 0; o < i.length; o++) i[o].once && (r._listeners.splice(o - n, 1), n++), i[o].cb(e);
          return e
        }, t.prototype.deleteValue = function () {
          var e, t, i, n = this._owner ? this._owner : this;
          if (n.hasOwnProperty("_value")) {
            if (n.writeLock) return n._value;
            for (delete n._value, e = n._listeners.slice(),
              t = 0, i = 0; i < e.length; i++) e[i].once && (n._listeners.splice(i - t, 1), t++), e[i].cb()
          }
        }, t.prototype.subscribe = function (e, t) {
          var i, n, o;
          if ("function" != typeof e) throw new TypeError("callback must be a function");
          i = !!t && !!t.once, n = !!t && !!t.callWithLast, o = this._owner ? this._owner : this, n && o.hasOwnProperty("_value") && (e(o._value), i) || o._listeners.push({
            cb: e,
            owner: this,
            once: !!t && !!t.once
          })
        }, t.prototype.unsubscribe = function (e) {
          var t, i, n = this._owner ? this._owner : this;
          for (void 0 === e && (e = null), i = (t = n._listeners).length; i--;) t[i].owner !== this && n !== this || t[i].cb !== e && null !== e || t.splice(i, 1)
        }, t.prototype.listeners = function () {
          return (this._owner ? this._owner : this)._listeners
        }, t.prototype.readonly = function () {
          if (this._readonlyInstance) return this._readonlyInstance;
          var e = this._readonlyInstance = new function () {};
          return e.subscribe = this.subscribe.bind(this), e.unsubscribe = this.unsubscribe.bind(this), e.value = this.value.bind(this), e.when = this.when.bind(this), e.spawn = function () {
            return this.spawn().readonly()
          }.bind(this), this.destroy && (e.destroy = this.destroy.bind(this)), e
        }, t.prototype.spawn = function (e) {
          var i = new t;
          return delete i._listeners, i._owner = this._owner || this, i.destroy = function () {
            "function" == typeof e && e(), this.unsubscribe(), delete this._owner
          }, i
        }, t.prototype.when = function (e) {
          var t, i = this;
          this.value() ? e() : (t = function (n) {
            n && (i.unsubscribe(t), e())
          }, i.subscribe(t))
        }, t.prototype.opposite = function () {
          var e, i;
          return this._opposite || (e = this, i = new t(!this.value()), this.subscribe(function (e) {
            i.setValue(!e)
          }), i.subscribe(function (t) {
            e.setValue(!t)
          }), this._opposite = i), this._opposite
        }, "undefined" != typeof window && (window.WatchedValue = t), e && e.exports && (e.exports = t)
      }).call(this, i("YuTi")(e))
    },
    hY3j: function (e, t, i) {
      "use strict";

      function n() {
        this.visible = !0, this.horzLinesVisible = !0, this.horzLinesColor = "white", this.horzLinesStyle = "", this.vertLinesVisible = !0, this.vertLinesColor = "white", this.vertLinesStyle = ""
      }

      function o(e, t) {
        this.source = e, this.pane = t, this._renderer = new r
      }

      function r() {
        this.data = null
      }
      n.prototype.paneViews = function (e) {
        return [new o(this, e)]
      }, o.prototype.update = function () {}, o.prototype.renderer = function () {
        var e = {};
        return this.pane.defaultPriceScale().isEmpty() || this.pane.timeScale().isEmpty() ? null : (e.horzLinesVisible = !0, e.vertLinesVisible = !0, e.horzLinesColor = this.pane._model.properties().paneProperties.horzGridProperties.color.value(), e.vertLinesColor = this.pane._model.properties().paneProperties.vertGridProperties.color.value(), e.horzLineStyle = this.pane._model.properties().paneProperties.horzGridProperties.style.value(), e.vertLineStyle = this.pane._model.properties().paneProperties.vertGridProperties.style.value(), e.priceMarks = this.pane.defaultPriceScale().marks(), e.timeMarks = this.pane.timeScale().marks(), e.w = this.pane.width(), e.h = this.pane.height(), this._renderer.setData(e), this._renderer)
      }, r.prototype.setData = function (e) {
        this.data = e
      }, r.prototype.draw = function (e) {
        var t;
        if (null !== this.data) {
          if (e.lineWidth = 1, this.data.vertLinesVisible) {
            for (e.strokeStyle = this.data.vertLinesColor, CanvasEx.setLineStyle(e, this.data.vertLineStyle), e.beginPath(),
              t = 0; t < this.data.timeMarks.length; t++) e.moveTo(this.data.timeMarks[t].coord + 1, 0), e.lineTo(this.data.timeMarks[t].coord + 1, this.data.h);
            e.stroke()
          }
          if (this.data.horzLinesVisible) {
            for (e.strokeStyle = this.data.horzLinesColor, CanvasEx.setLineStyle(e, this.data.horzLineStyle), e.beginPath(), t = 0; t < this.data.priceMarks.length; t++) e.moveTo(0, this.data.priceMarks[t].coord), e.lineTo(this.data.w, this.data.priceMarks[t].coord);
            e.stroke()
          }
        }
      }, t.Grid = n
    },
    hayr: function (e, t, i) {
      "use strict";

      function n(e, t) {
        Promise.all([i.e("vendors"), i.e(16), i.e(45), i.e(46), i.e(63), i.e(64), i.e(81), i.e(116), i.e(254), i.e(13), i.e(29), i.e(40), i.e(39), i.e(37), i.e(38), i.e(41), i.e(55), i.e(56), i.e(70), i.e(74), i.e(77), i.e(73), i.e(83), i.e(90), i.e(145), i.e(144), i.e("ds-property-pages")]).then(function (t) {
          o.ChartStylesPropertyPage = i("11dv"), o.LineToolABCDPatternStylesPropertyPage = i("UDBZ"), o.LineToolArcStylesPropertyPage = i("g+Cd"), o.LineToolArrowMarkStylesPropertyPage = i("e3Xi"), o.LineToolBalloonStylesPropertyPage = i("wt/7"), o.LineToolBarsPatternStylesPropertyPage = i("JGUD").LineToolBarsPatternStylesPropertyPage, o.LineToolBezierStylesPropertyPage = i("GjuB"), o.LineToolBrushStylesPropertyPage = i("qrDX"), o.LineToolCalloutStylesPropertyPage = i("NHMx"), o.LineToolCircleLinesStylesPropertyPage = i("MKMD"), o.LineToolDateAndPriceRangeStylesPropertyPage = i("ytZH"), o.LineToolDateRangeStylesPropertyPage = i("IfF0"), o.LineToolDisjointAngleStylesPropertyPage = i("jflP"), o.LineToolElliottStylesPropertyPage = i("1WFa"), o.LineToolEllipseStylesPropertyPage = i("vDrZ"), o.LineToolFibChannelStylesPropertyPage = i("qf46"), o.LineToolFibCirclesStylesPropertyPage = i("o4FW"), o.LineToolFibRetracementStylesPropertyPage = i("k7QS"), o.LineToolFibSpeedResistanceArcsStylesPropertyPage = i("uHqD"), o.LineToolFibSpeedResistanceFanStylesPropertyPage = i("68yv"), o.LineToolFibSpiralStylesPropertyPage = i("a4eO"), o.LineToolFibTimeZoneStylesPropertyPage = i("SSqB"), o.LineToolFibWedgeStylesPropertyPage = i("ISmD"), o.LineToolFlatBottomStylesPropertyPage = i("5fTj"), o.LineToolGannComplexStylesPropertyPage = i("JM7/").LineToolGannComplexStylesPropertyPage, o.LineToolGannFixedStylesPropertyPage = i("QxMc").LineToolGannFixedStylesPropertyPage, o.LineToolGannFanStylesPropertyPage = i("6rcL"), o.LineToolGannSquareStylesPropertyPage = i("B0+Q"), o.LineToolGhostFeedInputsPropertyPage = i("/1PJ").LineToolGhostFeedInputsPropertyPage, o.LineToolGhostFeedStylesPropertyPage = i("/1PJ").LineToolGhostFeedStylesPropertyPage, o.LineToolHorzLineInputsPropertyPage = i("/0lf").LineToolHorzLineInputsPropertyPage, o.LineToolHorzLineStylesPropertyPage = i("/0lf").LineToolHorzLineStylesPropertyPage, o.LineToolIconStylesPropertyPage = i("u2Ui"), o.LineToolInputsPropertyPage = i("n3Kh"), o.LineToolLineTool5PointsPatternStylesPropertyPage = i("kr49"), o.LineToolNotePropertyPage = i("JyhW"), o.LineToolParallelChannelStylesPropertyPage = i("To5g"), o.LineToolPitchfanStylesPropertyPage = i("LkNV"), o.LineToolPitchforkStylesPropertyPage = i("2KYr"), o.LineToolPolylineStylesPropertyPage = i("Ej6X"), o.LineToolPredictionStylesPropertyPage = i("QPOT"), o.LineToolPriceLabelStylesPropertyPage = i("68pv"),
            o.LineToolProjectionStylesPropertyPage = i("JCAo"), o.LineToolRectangleStylesPropertyPage = i("SSGo"), o.LineToolRiskRewardInputsPropertyPage = i("XXYQ").LineToolRiskRewardInputsPropertyPage, o.LineToolRiskRewardStylesPropertyPage = i("XXYQ").LineToolRiskRewardStylesPropertyPage, o.LineToolTextStylesPropertyPage = i("cqAO"), o.LineToolTimeCyclesPropertyPage = i("8TiD"), o.LineToolTrendAngleInputsPropertyPage = i("qpZX").LineToolTrendAngleInputsPropertyPage, o.LineToolTrendAngleStylesPropertyPage = i("qpZX").LineToolTrendAngleStylesPropertyPage, o.LineToolTrendBasedFibExtensionStylesPropertyPage = i("xj4C"), o.LineToolTrendBasedFibTimeStylesPropertyPage = i("bllF"), o.LineToolTrendLineStylesPropertyPage = i("lNYe"), o.LineToolInfoLineStylesPropertyPage = i("lNYe"), o.LineToolTrianglePatternStylesPropertyPage = i("kNI9"), o.LineToolTriangleStylesPropertyPage = i("5Y1l"), o.LineToolVertLineInputsPropertyPage = i("ePt6").LineToolVertLineInputsPropertyPage, o.LineToolVertLineStylesPropertyPage = i("ePt6").LineToolVertLineStylesPropertyPage, o.LineToolCrossLineInputsPropertyPage = i("nzyg").LineToolCrossLineInputsPropertyPage, o.LineToolCrossLineStylesPropertyPage = i("nzyg").LineToolCrossLineStylesPropertyPage, o.LineToolVisibilitiesPropertyPage = i("RTm2"), o.StudyCompareInputsPropertyPage = i("y4lV"), o.StudyDisplayPropertyPage = i("o6hY").StudyDisplayPropertyPage, o.StudyInputsPropertyPage = i("L9lC").StudyInputsPropertyPage, o.StudyLineDataSourcePropertyPage = i("ICcj"), o.StudyOverlayStylesPropertyPage = i("y9kM"), o.StudyPivotPointsStandardStylesPropertyPage = i("1aTc"), o.StudyStylesPropertyPage = i("o6hY").StudyStylesPropertyPage, o.StudyStrategyPropertyPage = i("0kz7"), o.LineToolRegressionTrendInputsPropertyPage = i("Y+IK"), o.LinetoolVolumeProfilePropertyPage = i("QM6D").LinetoolVolumeProfilePropertyPage, o.StudyElliottInputsPropertyPage = i("GBzp"), o.StudyLinearRegressionStylesPropertyPage = i("5rsd"), o.StudyPivotPointsHighLowStylesPropertyPage = i("QEbV"), o.StudyVolumeProfilePropertyPage = i("QM6D").StudyVolumeProfilePropertyPage, o.StudyZigZagStylesPropertyPage = i("gTeN"), s.logNormal("Property pages loaded"), e()
        }.bind(null, i)).catch(t)
      }
      var o, r, s = i("uOxu").getLogger("Chart.DataSourcePropertyPages"),
        a = i("mpWx").retries;
      t.propertyPages = {}, o = t.propertyPages, r = null, t.loadPropertyPages = function () {
        return null !== r ? r : (s.logNormal("Start loading property pages"), r = a(function () {
          return new Promise(n)
        }, 2))
      }
    },
    hezA: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "StudyPriceAxisView", function () {
        return r
      }), n = i("mrSG"), o = i("KcY8"), r = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._source = t, n._data = i, n
        }
        return n.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          var n, o, r, s;
          e.visible = !1, t.visible = !1, n = this._source.model(), null !== (o = this._source.priceScale()) && n.isPriceScaleVisible(o) && (r = n.properties().scalesProperties, (s = this._source.lastValueData(this._data.plotIndex, !1)).noData || (i.background = s.color, i.color = this.generateTextColor(s.color), i.coordinate = s.coordinate, i.floatCoordinate = s.floatCoordinate, r.showStudyLastValue.value() && (e.text = s.text, e.visible = !0), t.text = "",
            r.showStudyPlotLabels.value() && (t.text = this._source.priceLabelText(this._data.plotIndex), t.visible = !0)))
        }, t
      }(o.a)
    },
    hfHJ: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      var n = i("aO4+");
      t.identityMatrix = function () {
        return [
          [1, 0, 0],
          [0, 1, 0],
          [0, 0, 1]
        ]
      }, t.multiplyMatrices = function (e, t) {
        var i, n, o, r = [
          [0, 0, 0],
          [0, 0, 0],
          [0, 0, 0]
        ];
        for (i = 0; i < 3; i++)
          for (n = 0; n < 3; n++)
            for (o = 0; o < 3; o++) r[i][n] += e[i][o] * t[o][n];
        return r
      }, t.rotationMatrix = function (e) {
        var t = Math.cos(e),
          i = Math.sin(e);
        return [
          [t, -i, 0],
          [i, t, 0],
          [0, 0, 1]
        ]
      }, t.scalingMatrix = function (e, t) {
        return [
          [e, 0, 0],
          [0, t, 0],
          [0, 0, 1]
        ]
      }, t.translationMatrix = function (e, t) {
        return [
          [1, 0, e],
          [0, 1, t],
          [0, 0, 1]
        ]
      }, t.transformPoint = function (e, t) {
        var i, o, r = [t.x, t.y, 1],
          s = [0, 0, 0];
        for (i = 0; i < 3; i++)
          for (o = 0; o < 3; o++) s[i] += r[o] * e[i][o];
        return new n.Point(s[0], s[1])
      }
    },
    "hfc+": function (e, t, i) {
      "use strict";

      function n(e) {
        return o.hasOwnProperty(e)
      }
      i.r(t), i.d(t, "sfFlagMap", function () {
        return o
      }), i.d(t, "isSfFlag", function () {
        return n
      });
      var o = {
        sf_dly: 0,
        sf_rt: 0
      }
    },
    hkLy: function (e, t, i) {
      "use strict";
      var n;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), n = function () {
        function e(e, t) {
          var i, n;
          for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
        }
        return function (t, i, n) {
          return i && e(t.prototype, i), n && e(t, n), t
        }
      }(), t.InputField = function () {
        function e(t) {
          var i = t.label,
            n = t.name,
            o = t.maxLength,
            r = t.error,
            s = void 0 === r ? "" : r;
          ! function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
          }(this, e), this._name = n, this._$field = $('<label class="tv-rename-chart-dialog__field">\n\t\t\t\t<span class="tv-rename-chart-dialog__label">' + i + '</span>\n\t\t\t\t<input class="tv-control-input" type="text" name="' + n + '" maxlength="' + o + '"/>\n\t\t\t</label>'), this._$input = this._$field.find("input"), this._error = s
        }
        return n(e, [{
          key: "appendTo",
          value: function (e) {
            e.append(this._$field)
          }
        }, {
          key: "focus",
          value: function () {
            return this._$input.focus()
          }
        }, {
          key: "select",
          value: function () {
            return this.focus().select()
          }
        }, {
          key: "value",
          set: function (e) {
            this._$input.val(e)
          },
          get: function () {
            return this._$input.val()
          }
        }, {
          key: "name",
          get: function () {
            return this._name
          }
        }, {
          key: "valid",
          get: function () {
            return !!this._$input.val().trim()
          }
        }, {
          key: "error",
          set: function (e) {
            this._error = e
          },
          get: function () {
            return this._error
          }
        }]), e
      }()
    },
    "hp/T": function (e, t, i) {
      "use strict";

      function n(e, t) {
        return void 0 === e && (e = f.sound), Object(c.isOnMobileAppPage)("any") ? Promise.resolve() : (p.logNormal('Sound play attempt for "' + e + '" duration-' + t + "s;"), g(e).play(t))
      }

      function o(e) {
        if (!Object(c.isOnMobileAppPage)("any")) {
          var t = [];
          e ? t.push(g(e)) : t = Object.values(m), t.forEach(function (e) {
            e.stop()
          })
        }
      }

      function r(e, t) {
        Object(c.isOnMobileAppPage)("any") || g(e).playing.subscribe(function (e) {
          e || t()
        }, {
          once: !0
        })
      }

      function s(e) {
        return !Object(c.isOnMobileAppPage)("any") && g(e).playing.value()
      }

      function a() {
        l(_.filter(function (e) {
          return !!e.soundForAlerts
        }).map(function (e) {
          return e.path
        }))
      }

      function l(e) {
        var t, i;
        Object(c.isOnMobileAppPage)("any") || e && /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(window.navigator.userAgent) && (Array.isArray(e) || (e = [e]), 0 !== (e = e.filter(function (e) {
          var t = g(e);
          return !(!t || !t.el.load || t._mobilePreloadActive) && (t._mobilePreloadActive = !0, !0)
        })).length ? (t = function () {
          var n = [];
          Array.isArray(e) && e.forEach(function (e) {
            var t, i = g(e);
            i.el.load(), (t = i.play()).catch(function (e) {
              if (p.logError('enableForMobile for "' + i.el.src + '" preload error: - ' + e.message), "AbortError" !== e.name) throw e
            }), i.el.pause(), n.push(t)
          }), Promise.all(n).then(function () {
            p.logNormal("enableForMobile sounds initialized")
          }), i.forEach(function (e) {
            document.removeEventListener(e, t, !0)
          })
        }, (i = ["click", "touchend", "keydown"]).forEach(function (e) {
          document.addEventListener(e, t, !0)
        })) : p.logWarn("enableForMobile no sounds passed"))
      }
      var c, u, h, d, p, f, _, m, g;
      i.r(t), i.d(t, "DEFAULT_SOUNDS", function () {
        return f
      }), i.d(t, "availableSounds", function () {
        return _
      }), i.d(t, "play", function () {
        return n
      }), i.d(t, "stop", function () {
        return o
      }), i.d(t, "onStopped", function () {
        return r
      }), i.d(t, "isPlaying", function () {
        return s
      }), i.d(t, "enableAlertSoundsForMobile", function () {
        return a
      }), i.d(t, "enableForMobile", function () {
        return l
      }), i("YFKU"), c = i("qFKp"), u = i("uOxu"), h = i("hY0g"), d = i.n(h), p = Object(u.getLogger)("Lib.Sound", {
        color: "#dea433"
      }), _ = [{
        path: (f = {
          sound: "notification/notification",
          alert: "alert/fired"
        }).sound,
        title: window.t("Default"),
        common: !0
      }, {
        title: window.t("Chat Message"),
        path: "chat/message",
        common: !0
      }, {
        title: window.t("Chat Popup"),
        path: "chat/popup",
        common: !0
      }, {
        title: window.t("Chat Call"),
        path: "chat/call"
      }, {
        title: window.t("Chat Calling"),
        path: "chat/calling"
      }, {
        title: window.t("Chat Hangup"),
        path: "chat/hangup"
      }, {
        title: window.t("Thin"),
        path: "alert/fired",
        soundForAlerts: !0
      }, {
        title: window.t("3 Notes Reverb"),
        path: "alert/3_notes_reverb",
        soundForAlerts: !0
      }, {
        title: window.t("Alarm Clock"),
        path: "alert/alarm_clock",
        soundForAlerts: !0
      }, {
        title: window.t("Beep-beep"),
        path: "alert/beep_beep",
        soundForAlerts: !0
      }, {
        title: window.t("Calling"),
        path: "alert/calling",
        soundForAlerts: !0
      }, {
        title: window.t("Chirpy"),
        path: "alert/chirpy",
        soundForAlerts: !0
      }, {
        title: window.t("Fault"),
        path: "alert/fault",
        soundForAlerts: !0
      }, {
        title: window.t("Hand Bell"),
        path: "alert/hand_bell",
        soundForAlerts: !0
      }], m = {}, g = function (e) {
        var t, i, n;
        return e in m ? m[e] : (p.logWarn("requested sound  " + e + " not cached, building a new audio element"), t = Object(c.wrapUrl)("/static/sounds/" + e + ".mp3"), i = new Audio(t), n = {
          el: i,
          playing: new d.a(!1),
          play: function (t) {
            return void 0 === t && (t = 0), n.playing.value() ? (p.logNormal("sound already playing"), Promise.reject("already playing")) : (n.playing.setValue(!0), new Promise(function (i, o) {
              var r = t > 0,
                s = function () {
                  (function (e) {
                    try {
                      p.logWarn('"' + e.el.src + '" triggering html5 play method, readyState - ' + e.el.readyState + "; muted - " + e.el.muted + "; volume - " + e.el.volume + "; currentTime - " + e.el.currentTime);
                      var t = e.el.play();
                      return t || (t = Promise.resolve()), t.catch(function (t) {
                        p.logError('play promise for "' + e.el.src + '" catch error: - ' + t.message)
                      }), t
                    } catch (t) {
                      return p.logError('play method for "' + e.el.src + '" catch error - ' + t.message), Promise.reject(t)
                    }
                  })(n).catch(function () {
                    p.logNormal('stop counting sound "' + e + '"; as playing due to an error'), n.stop(), o()
                  })
                };
              n._onEnded = function () {
                r ? s() : (n.stop(), i())
              }, n.el.addEventListener("ended", n._onEnded), r && setTimeout(function () {
                p.logNormal('"' + e + '" repeat timeout - ' + t + "s off"), r = !1
              }, 1e3 * t), s()
            }))
          },
          stop: function () {
            n.el.pause(), n.playing.setValue(!1), n._onEnded && n.el.removeEventListener("ended", n._onEnded)
          }
        }, m[e] = n, ["loadstart", "durationchange", "loadedmetadata", "loadeddata", "progress", "canplay", "canplaythrough"].forEach(function (t) {
          i.addEventListener(t, function () {
            p.logWarn('for sound "' + e + '", event - ' + t + " is fired")
          }, !1)
        }), p.logWarn("canPlayType - " + i.canPlayType("audio/mp3")), m[e])
      }, l(_.filter(function (e) {
        return !!e.common
      }).map(function (e) {
        return e.path
      }))
    },
    hqNu: function (e, t, i) {
      "use strict";

      function n(e) {
        Promise.all([i.e("dialogs-core"), i.e(0), i.e(1), i.e(183), i.e("go-to-tv-referral-dialog")]).then(function (t) {
          (0, i("8aV4").createGoToTradingViewReferralDialog)(e).open()
        }.bind(null, i)).catch(void 0)
      }
      i.r(t), i.d(t, "showGoToTradingViewReferralDialog", function () {
        return n
      })
    },
    hsV8: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, n, a = this;
        if ("" === e) return Promise.resolve(null);
        if (t = JSON.parse(e), !Object(r.isObject)(t) || "function" == typeof t) return Promise.reject(new Error("Non-object content in the non-series envelope"));
        if (Object(r.hasProperty)(t, "indexes_replace")) return Promise.resolve({
          indexes_replace: !0
        });
        if (n = {
            indexes_replace: !1
          }, Object(r.hasProperty)(t, "offsets") && (n.offsets = t.offsets), Object(r.hasProperty)(t, "isUpdate")) {
          if ("boolean" != typeof t.isUpdate) return Promise.reject(new Error('Invalid type of "isUpdate" field'));
          n.isUpdate = t.isUpdate
        }
        return Object(r.hasProperty)(t, "dataCompressed") || Object(r.hasProperty)(t, "graphicsCmdsCompressed") ? new Promise(function (e) {
          i.e("jszip").then(function (l) {
            return o.__awaiter(a, void 0, void 0, function () {
              var a, l, c, u, h, d, p, f, _;
              return o.__generator(this, function (o) {
                switch (o.label) {
                  case 0:
                    return a = i("fDnD"), Object(r.hasProperty)(t, "dataCompressed") ? [4, (new a).loadAsync(t.dataCompressed, {
                      base64: !0
                    })] : [3, 3];
                  case 1:
                    return h = o.sent(), l = n, u = (c = JSON).parse, [4, h.file("").async("text")];
                  case 2:
                    l.data = u.apply(c, [o.sent()]), o.label = 3;
                  case 3:
                    return Object(r.hasProperty)(t, "graphicsCmdsCompressed") ? [4, (new a).loadAsync(t.graphicsCmdsCompressed, {
                      base64: !0
                    })] : [3, 6];
                  case 4:
                    return h = o.sent(), d = n, p = s.b, _ = (f = JSON).parse, [4, h.file("").async("text")];
                  case 5:
                    d.graphicsCmds = p.apply(void 0, [_.apply(f, [o.sent()])]), o.label = 6;
                  case 6:
                    return e(n), [2]
                }
              })
            })
          }.bind(null, i)).catch(void 0)
        }) : (Object(r.hasProperty)(t, "data") && (n.data = t.data), Object(r.hasProperty)(t, "graphicsCmds") && (n.graphicsCmds = Object(s.b)(t.graphicsCmds)), Promise.resolve(n))
      }
      var o, r, s;
      i.r(t), i.d(t, "unpackNonSeriesData", function () {
        return n
      }), o = i("mrSG"), r = i("JmuD"), s = i("qySK")
    },
    htUT: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "ChartChangesWatcher", function () {
        return r
      }), n = i("aIyQ"), o = i.n(n), r = function () {
        function e(e, t, i) {
          this._hasChanges = !1,
            this._undoHistory = e, this._chartSaver = t, this._globalEvents = i, this._onValueChanged = new o.a, this._subscribe()
        }
        return e.prototype.destroy = function () {
          this._unsubscribe(), this._onValueChanged.destroy()
        }, e.prototype.hasChanges = function () {
          return this._hasChanges
        }, e.prototype.getOnChange = function () {
          return this._onValueChanged
        }, e.prototype._subscribe = function () {
          this._globalEvents.subscribe("chart_loaded", this._handleChartLoaded, this), this._undoHistory.undoStack().onChange().subscribe(this, this._handleChangeUndoStack), this._chartSaver.chartSaved().subscribe(this, this._handleChartSaved)
        }, e.prototype._unsubscribe = function () {
          this._globalEvents.unsubscribe("chart_loaded", this._handleChartLoaded, this), this._undoHistory.undoStack().onChange().unsubscribe(this, this._handleChangeUndoStack), this._chartSaver.chartSaved().unsubscribe(this, this._handleChartSaved)
        }, e.prototype._setChanges = function (e) {
          this._hasChanges = e, this._onValueChanged.fire(e)
        }, e.prototype._handleChartLoaded = function () {
          this._setChanges(!1)
        }, e.prototype._handleChangeUndoStack = function () {
          var e = this._undoHistory.undoStack().head();
          e && !e.customFlag("doesnt_affect_save") && this._setChanges(!0)
        }, e.prototype._handleChartSaved = function (e) {
          e && this._setChanges(!1)
        }, e
      }()
    },
    "i/Bj": function (e, t, i) {
      "use strict";

      function n(e) {
        if (void 0 === e) return null;
        var t = e.match(/(delayed_streaming)_([\d]{1,4})/);
        return null === t ? null : {
          mode: t[1],
          interval: parseInt(t[2])
        }
      }
      i.r(t), i.d(t, "parseUpdateMode", function () {
        return n
      })
    },
    i126: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "StudyColorRotatorFactory", function () {
        return c
      }), n = i("eJTA"), o = i("6Kf3"), r = i("3ClC"), s = ["color-tan-orange-a700", "color-sky-blue-400", "color-banana-yellow-700", "color-deep-blue-500", "color-grapes-purple-a700", "color-iguana-green-500", "color-minty-green-a700", "color-ripe-red-a200", "color-berry-pink-200", "color-tv-blue-a100", "color-tan-orange-a200", "color-sky-blue-a400", "color-deep-blue-a100", "color-grapes-purple-400", "color-iguana-green-a700", "color-minty-green-200", "color-ripe-red-200", "color-berry-pink-a200", "color-ripe-red-500", "color-grapes-purple-500", "color-deep-blue-400", "color-tv-blue-a200", "color-sky-blue-500", "color-iguana-green-400", "color-minty-green-400", "color-banana-yellow-600", "color-tan-orange-500", "color-berry-pink-400", "color-ripe-red-300", "color-grapes-purple-300", "color-deep-blue-300", "color-tv-blue-300", "color-sky-blue-300", "color-iguana-green-300", "color-minty-green-300", "color-banana-yellow-400", "color-tan-orange-300", "color-berry-pink-300"], a = function () {
        function e() {
          this._index = 0
        }
        return e.prototype.getColor = function (e) {
          var t = s[this._index++ % s.length];
          return o.colorsPalette[t]
        }, e
      }(), l = function () {
        function e(e, t) {
          this._offset = e, this._modelStartOffset = t
        }
        return e.prototype.getColor = function (e) {
          return Object(n.shiftColor)(e, this._offset, this._modelStartOffset)
        }, e
      }(), c = function () {
        function e(e) {
          this._chartModel = e, this._loopRotator = new a
        }
        return e.prototype.getColorRotator = function (e) {
          var t, i, n = Object(r.studyColorRotationMode)(e);
          switch (n) {
            case "loop":
              return this._loopRotator;
            case "shift":
              return t = this._calcDefaultColorsOffset(e), i = this._chartModel.getStudyShiftColorStartOffset(), new l(t, i)
          }
        }, e.prototype._calcDefaultColorsOffset = function (e) {
          var t = 0;
          return this._chartModel.dataSources().filter(r.isStudy).forEach(function (i) {
            var n, o, r, s, a = i.metaInfo().id === e.id,
              l = (n = i.metaInfo(), o = e, r = n.pine ? n.pine.version : void 0, s = o.pine ? o.pine.version : void 0, r === s),
              c = a && l;
            c && t++
          }), t
        }, e
      }()
    },
    i2mH: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), n = i("puQj"), i.n(n).a.safari && document.addEventListener("keydown", function (e) {
        27 === e.keyCode && e.preventDefault()
      })
    },
    i3nr: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "OverlayStatusView", function () {
        return r
      }), n = i("mrSG"), o = i("2kV1"), r = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype.update = function () {
          this._source.isFailed() ? this._text = this._source.title(!0, void 0, !1, !1) + ": " + this._source.status() : this._text = this._source.title(!0, void 0, !1, !1) + " " + this._source.status()
        }, t
      }(o.StudyStatusView)
    },
    i4z7: function (e, t, i) {
      "use strict";
      e.exports = function () {
        this.set_data_quality = function () {
            return ["low"]
          }, this.quote_create_session = function (e) {
            return [e]
          }, this.quote_delete_session = function (e) {
            return [e]
          }, this.quote_set_fields = function (e, t) {
            return [e].concat(t)
          }, this.quote_add_symbols = function (e, t) {
            return [e].concat(t)
          }, this.quote_remove_symbols = function (e, t) {
            return [e].concat(t)
          }, this.quote_fast_symbols = function (e, t) {
            return [e].concat(t)
          }, this.quote_hibernate_all = function (e) {
            return [e]
          }, this.depth_create_session = function (e, t, i) {
            return [e, t, i]
          }, this.depth_delete_session = function (e) {
            return [e]
          }, this.depth_set_symbol = function (e, t) {
            return [e, t]
          }, this.depth_clear_symbol = function (e) {
            return [e]
          }, this.depth_set_scale = function (e, t) {
            return [e, t]
          }, this.chart_create_session = function (e, t) {
            return [e, t ? "disable_statistics" : ""]
          }, this.chart_delete_session = function (e) {
            return [e]
          }, this.set_auth_token = function (e) {
            return [e]
          }, this.switch_timezone = function (e, t) {
            return [e, t]
          }, this.resolve_symbol = function (e, t, i) {
            return [e, t, i]
          }, this.create_series = function (e, t, i, n, o, r) {
            return [e, t, i = i || "", n, o, r]
          }, this.remove_series = function (e, t) {
            return [e, t]
          }, this.modify_series = function (e, t, i, n, o) {
            return [e, t, i = i || "", n, o]
          }, this.request_more_data = function (e, t, i) {
            return [e, t, i]
          }, this.request_studies_metadata = function (e, t) {
            return [e, t]
          }, this.create_study = function (e, t, i, n, o, r) {
            return [e, t, i = i || "", n, o].concat(r)
          }, this.create_child_study = function (e, t, i, n, o, r) {
            return this.create_study(e, t, i, n, o, r)
          }, this.child_study_rebind = function (e, t, i, n, o, r) {
            return [e, t, i = i || "", n, o].concat(r)
          }, this.remove_study = function (e, t) {
            return [e, t]
          }, this.modify_study = function (e, t, i, n) {
            return [e, t, i = i || ""].concat(n)
          }, this.create_pointset = function (e, t, i, n, o, r) {
            return [e, t, i = i || "", n, o].concat(r)
          }, this.modify_pointset = function (e, t, i, n) {
            return [e, t, i = i || ""].concat(n)
          }, this.remove_pointset = function (e, t) {
            return [e, t]
          }, this.request_more_tickmarks = function (e, t, i) {
            return [e, t, i]
          }, this.get_first_bar_time = function (e, t, i) {
            return [e, t, i]
          }, this.replay_create_session = function (e) {
            return [e]
          }, this.replay_delete_session = function (e) {
            return [e]
          },
          this.replay_reset = function (e, t, i) {
            return [e, t, i]
          }, this.replay_start = function (e, t, i) {
            return [e, t, i]
          }, this.replay_stop = function (e, t) {
            return [e, t]
          }, this.replay_step = function (e, t, i) {
            return [e, t, i]
          }, this.replay_add_series = function (e, t, i, n) {
            return [e, t, i, n]
          }, this.replay_remove_series = function (e, t, i, n) {
            return [e, t, i, n]
          }, this.replay_set_resolution = function (e, t, i) {
            return [e, t, i]
          }, this.convertTimescaleResponse = function (e) {
            var t, i, n = e.marks;
            for (t = 0; t < n.length; ++t) n[t] = {
              span: n[t][0],
              time: n[t][1],
              index: n[t][2]
            };
            if (void 0 !== e.index_diff)
              for (i = e.index_diff, t = 0; t < i.length; ++t) i[t] = {
                old: i[t][0],
                new: i[t][1]
              };
            else e.index_diff = [];
            return e
          }, this.getTimescaleObjects = function (e) {
            return e.params[0]
          }, this.getTimescaleChangeset = function (e) {
            return e.params[1]
          }, this.prepareTimescaleUpdate = function (e, t, i) {
            var n, o;
            for (n in t)(o = {}).customId = n, o.plots = t[n].series, t[n].ns && (o.nonseries = t[n].ns), o.turnaround = t[n].turnaround, i(e, n, {
              method: "data_update",
              params: o
            })
          }, this.prepareDataUpdate = function (e, t, i) {
            var n, o, r, s, a;
            for (n in t.params[0]) {
              for (s in o = t.params[0][n], (r = {}).customId = n, r.plots = o.series ? o.series : o.plots, r.turnaround = o.turnaround, "s" in o && "ns" in o && (r.plots = o.s, r.nonseries = o.ns), r.plots)
                for (a in r.plots[s].value) 1e100 === r.plots[s].value[a] && (r.plots[s].value[a] = void 0);
              i(e, n, {
                method: "data_update",
                params: r
              })
            }
          }, this.unpack = function (e) {
            function t(e) {
              return e.index = e.i, e.value = e.v, delete e.i, delete e.v, e
            }
            var i, n;
            switch ((e = JSON.parse(e)).m && e.p && (e.method = e.m, e.params = e.p, e.time = e.t), i = e.params[1], e.method) {
              case "qsd":
                e.method = "quote_symbol_data", i.symbolname = i.n, i.status = i.s, i.values = i.v, i.values.change = i.v.ch, i.values.last_price = i.v.lp, i.values.change_percent = i.v.chp, delete i.n, delete i.s, delete i.v, delete i.values.ch, delete i.values.lp, delete i.values.chp;
                break;
              case "du":
                for (n in e.method = "data_update", i) i[n].turnaround = i[n].t, i[n].s && !i[n].series && (i[n].series = i[n].s.map(t)), i[n].st && (i[n].s = i[n].st.map(t));
                break;
              case "timescale_update":
                for (n in i) i[n].t && (i[n].turnaround = i[n].t), i[n].s && !i[n].series && (i[n].series = i[n].s.map(t)), i[n].st && (i[n].s = i[n].st.map(t))
            }
            return e
          }, this.prepareEncodeMessage = function (e, t) {
            return JSON.stringify({
              m: e,
              p: t
            })
          }
      }
    },
    i80N: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolFibSpiral";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("8MBc").FibSpiralPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Fib Spiral"
      }, n.prototype.name = function () {
        return "Fib Spiral"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolFibSpiralStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolfibspiral", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolFibSpiral = n
    },
    iDOr: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(t, i, o) {
          b.call(this),
            this.m_timeScale = t, this._rightPriceScales = [], this._leftPriceScales = [], this._priceScaleSelectionStrategy = S(o.properties().priceScaleSelectionStrategyName.value()), this.m_dataSources = [], this.m_height = 0, this.m_width = 0, this.m_mainDataSource = null, this._properties = i, this._model = o, this._tagsChanged = new e, this._destroyed = new e, this._priceScaleRatioChanged = new e, this._priceScaleRatioChanged.subscribe(this, this._mainSeriesPaneScaleRatioOnChange), o.properties().priceScaleSelectionStrategyName.listeners().subscribe(null, function (e) {
              this._priceScaleSelectionStrategy = S(e.value()), this._priceScaleSelectionStrategy.apply(this)
            }.bind(this)), this.m_timeScale.barSpacingChanged().subscribe(this, function () {
              this.m_mainDataSource === this._model.mainSeries() && this._recalculatePriceScaleByScaleRatio(this.m_mainDataSource.priceScale())
            }.bind(this)), this._lockedPriceScale = null, this._currentPriceScaleRatio = null, i.topMargin.listeners().subscribe(this, n.prototype._updateMargins), i.bottomMargin.listeners().subscribe(this, n.prototype._updateMargins), this._updateMargins(), this._stretchFactor = n.DEFAULT_STRETCH_FACTOR, this._isInInsertManyDataSourcesState = !1, this._lastLineDataSourceZOrder = null, this._maximized = !1, this._isMainPane = !1, this._onPriceScalesChanged = new e
        }
        var o = i("Eyy1"),
          r = o.assert,
          s = i("Y7w9").moveToHead,
          a = i("704P").ExecutionsPositionController,
          l = i("Ss5c").LineDataSource,
          c = i("Qb4w").PriceRange,
          u = i("7ktv").PriceDataSource,
          h = i("uOxu").getLogger("Chart.Pane"),
          d = i("aO4+").Point,
          p = i("aO4+").box,
          f = i("CW80").isLineTool,
          _ = i("1gmO").AlertLabel,
          m = i("1Wlv").PriceScale,
          g = i("FaJS").scaleRatio,
          y = i("FaJS").priceRangeByScaleRatio,
          v = i("FaJS").barSpacingByScaleRatio,
          S = i("MWAT").createPriceScaleSelectionStrategy,
          b = i("yfAl").PaneBase;
        inherit(n, b), n.DEFAULT_STRETCH_FACTOR = 1e3, n.PANE_ANIMATION_DURATION = 500, n.sortSourcesPreOrdered = {
            "Volume@tv-basicstudies": 0,
            ChartEventsSource: 1,
            "ESD$TV_DIVIDENDS@tv-scripting": 2,
            "ESD$TV_SPLITS@tv-scripting": 3,
            "ESD$TV_EARNINGS@tv-scripting": 4,
            LineToolOrder: 5,
            LineToolPosition: 6,
            LineToolExecution: 7,
            AlertLabel: 8
          }, n.prototype.destroy = function () {
            var e, t;
            for (this._properties.topMargin.listeners().unsubscribe(this, n.prototype._updateMargins), this._properties.bottomMargin.listeners().unsubscribe(this, n.prototype._updateMargins), this._model.properties().priceScaleSelectionStrategyName.listeners().unsubscribeAll(this), this.m_timeScale.barSpacingChanged().unsubscribeAll(this), this._leftPriceScales.concat(this._rightPriceScales).forEach(function (e) {
                e.modeChanged().unsubscribeAll(this), e.priceRangeChanged().unsubscribeAll(this), e.internalHeightChanged().unsubscribeAll(this)
              }, this), this._priceScaleRatioChanged.unsubscribeAll(this), e = 0; e < this.m_dataSources.length; e++)(t = this.m_dataSources[e]).destroy && t.destroy();
            this._destroyed.fire()
          }, n.prototype.setPaneSize = function (e) {
            var t = {
              large: 1,
              medium: .6,
              small: .3,
              tiny: .15
            };
            if (!t[e]) throw new Error("Unknown size enum value: " + e);
            this._stretchFactor = t[e] * n.DEFAULT_STRETCH_FACTOR
          }, n.sortSources = function (e) {
            return e.map(function (e) {
              var t, i = e._constructor;
              return isFunction(e.metaInfo) && (i = e.metaInfo().id),
                [e, t = n.sortSourcesPreOrdered[i] || 0, t > 0 ? 1 / 0 : t < 0 ? -1 / 0 : e.zorder()]
            }).sort(function (e, t) {
              return e[1] - t[1] || e[2] - t[2]
            }).map(function (e) {
              return e[0]
            })
          }, n.prototype._defaultBottomMargin = function () {
            return .01 * this._properties.bottomMargin.value()
          }, n.prototype._defaultTopMargin = function () {
            return .01 * this._properties.topMargin.value()
          }, n.prototype._updateMargins = function () {
            var e, t, i = this._defaultTopMargin(),
              n = this._defaultBottomMargin();
            for (this._leftPriceScales.forEach(function (e) {
                e.setTopMargin(i), e.setBottomMargin(n)
              }), this._rightPriceScales.forEach(function (e) {
                e.setTopMargin(i), e.setBottomMargin(n)
              }), e = 0; e < this.m_dataSources.length; e++)(t = this.m_dataSources[e]) instanceof TradingView.Study && this.isOverlay(t) && "Volume" !== t.metaInfo().shortId && (!t.priceScale() || this._leftPriceScales.includes(t.priceScale()) || this._rightPriceScales.includes(t.priceScale()) || (t.priceScale().setTopMargin(i), t.priceScale().setBottomMargin(n), this.recalculatePriceScale(t.priceScale())));
            this._leftPriceScales.forEach(function (e) {
              this.recalculatePriceScale(e)
            }, this), this._rightPriceScales.forEach(function (e) {
              this.recalculatePriceScale(e)
            }, this), this.updateAllViews()
          }, n.prototype.model = function () {
            return this._model
          }, n.prototype.width = function () {
            return this.m_width
          }, n.prototype.height = function () {
            return this.m_height
          }, n.prototype.setWidth = function (e) {
            this.m_width = e, this.updateAllViews()
          }, n.prototype.setHeight = function (e) {
            var t, i;
            for (this.m_height = e, this._leftPriceScales.forEach(function (t) {
                t.setHeight(e)
              }), this._rightPriceScales.forEach(function (t) {
                t.setHeight(e)
              }), t = 0; t < this.m_dataSources.length; t++) i = this.m_dataSources[t], this.isOverlay(i) && i.priceScale() && i.priceScale().setHeight(e);
            this.updateAllViews()
          }, n.prototype.leftPriceScales = function () {
            return this._leftPriceScales
          }, n.prototype.rightPriceScales = function () {
            return this._rightPriceScales
          }, n.prototype.visibleLeftPriceScales = function () {
            var e, t = this._model.priceScaleSlotsCount();
            return this._leftPriceScales.length > t.left ? ((e = s(this._leftPriceScales, this.mainDataSource().priceScale())).splice(t.left), e) : this._leftPriceScales
          }, n.prototype.visibleRightPriceScales = function () {
            var e, t = this._model.priceScaleSlotsCount();
            return this._rightPriceScales.length > t.right ? ((e = s(this._rightPriceScales, this.mainDataSource().priceScale())).splice(t.right), e) : this._rightPriceScales
          }, n.prototype.timeScale = function () {
            return this.m_timeScale
          }, n.prototype.dataSources = function () {
            return this.m_dataSources
          }, n.prototype.isOverlay = function (e) {
            var t = e.priceScale();
            return "overlay" === this.priceScalePosition(t)
          }, n.prototype._processMainSourceChange = function () {
            var e, t, i, o, r;
            if (null === this.m_mainDataSource)
              for (t = 0; t < this.m_dataSources.length; t++)
                if (!(!((i = this.m_dataSources[t]) instanceof u) || this.isOverlay(i) || i.properties().linkedToSeries && i.properties().linkedToSeries.value() || i instanceof _)) {
                  this.m_mainDataSource = i, e = !0;
                  break
                } if (this.m_mainDataSource && e) {
              for (o = [], t = 0; t < this.m_dataSources.length; t++)(i = this.m_dataSources[t]) instanceof l && o.push(i);
              for (o = n.sortSources(o),
                t = 0; t < o.length; t++) this.move(o[t], this.m_mainDataSource.priceScale(), !0)
            } else if (!this.m_mainDataSource || this.isOverlay(this.m_mainDataSource) && 0 === this.nonOverlayPricesSourcesCount())
              for (t = 0; t < this.m_dataSources.length; t++)
                if ((i = this.m_dataSources[t]) instanceof u && this.isOverlay(i) && i.showInObjectTree()) {
                  this.m_mainDataSource = i, r = this._priceScaleSelectionStrategy.createNewPriceScaleIfPossible(this), this.move(i, r, !0), this.recalculatePriceScale(i.priceScale());
                  break
                }
          }, n.prototype._newZOrderForLineTool = function () {
            var e, t, i, n = null;
            for (e = 0; e < this.m_dataSources.length; ++e) t = this.m_dataSources[e], f(t) && (i = t.zorder(), (null === n || i > n) && (n = i));
            return null === n && (n = this.getZOrderMinMax().minZOrder - 1), this.m_dataSources.forEach(function (e) {
              e.zorder() > n && e.setZorder(e.zorder() + 1)
            }), n + 1
          }, n.prototype.beginInsertManyLineDataSources = function () {
            this._isInInsertManyDataSourcesState = !0, this._lastLineDataSourceZOrder = null
          }, n.prototype.endInsertManyLineDataSources = function () {
            this._isInInsertManyDataSourcesState = !1, this._lastLineDataSourceZOrder = null, this.updateAlertLabelsSources()
          }, n.prototype.addDataSource = function (e, t, i) {
            var n;
            f(e) && !i ? (n = null !== this._lastLineDataSourceZOrder ? this._lastLineDataSourceZOrder : this._newZOrderForLineTool(), this._isInInsertManyDataSourcesState && (this._lastLineDataSourceZOrder = n)) : n = this.getZOrderMinMax().minZOrder - 1, this.insertDataSource(e, t, n)
          }, n.prototype.insertDataSource = function (e, t, i) {
            t || (t = this.findSuitableScale(e)), this.m_dataSources.push(e);
            var o = !1;
            e === this._model.mainSeries() ? (this.m_mainDataSource = e, o = !0) : null !== this.m_mainDataSource || e instanceof _ || (this.m_mainDataSource = e, o = !0), t.addDataSource(e, this._isInInsertManyDataSourcesState), e.setPriceScale(t), e.onTagsChanged && e.onTagsChanged().subscribe(this, n.prototype.onSourceTagsChanged), e.setZorder(i), o && this._processMainSourceChange(), e instanceof _ || this._isInInsertManyDataSourcesState || this.updateAlertLabelsSources(), this._tagsChanged.fire(), TradingView.isInherited(e.constructor, u) && this.recalculatePriceScale(t), this.invalidateSourcesCache()
          }, n.prototype.priceScalePosition = function (e) {
            return this._leftPriceScales.includes(e) ? "left" : this._rightPriceScales.includes(e) ? "right" : "overlay"
          }, n.prototype.createPriceScaleAtPosition = function (e, t) {
            var i, n = this._properties.axisProperties.state();
            return n.autoScale = !0, (i = new m(this._model.properties().scalesProperties, n)).setHeight(this.height()), i.setTopMargin(this._defaultTopMargin()), i.setBottomMargin(this._defaultBottomMargin()), this._placePriceScale(i, e, t), i
          }, n.prototype._placePriceScale = function (e, t, i) {
            var n, o;
            "overlay" !== t && (n = "left" === t ? this._leftPriceScales : this._rightPriceScales, o = void 0 === i ? n.length : i, n.splice(o, 0, e), e.modeChanged().subscribe(this, this._onPriceScaleModeChanged.bind(this, e)), e.internalHeightChanged().subscribe(this, this._recalculatePriceScaleByScaleRatio.bind(this, e)), e.priceRangeChanged().subscribe(this, this._recalculateTimeScaleByScaleRatio.bind(this, e)), e.priceRangeChanged().subscribe(this, this._onPriceScaleSetMinMaxPriceRange.bind(this, e)),
              e.isLockScale() && (r(null === this._lockedPriceScale), this._lockedPriceScale = e, this._currentPriceScaleRatio = null), this._onPriceScalesChanged.fire())
          }, n.prototype.removePriceScale = function (e) {
            var t, i;
            e.modeChanged().unsubscribeAll(this), e.priceRangeChanged().unsubscribeAll(this), e.internalHeightChanged().unsubscribeAll(this), e === this._lockedPriceScale && (this._lockedPriceScale = null, this._currentPriceScaleRatio = null), -1 !== (t = this._leftPriceScales.indexOf(e)) && this._leftPriceScales.splice(t, 1), -1 !== (i = this._rightPriceScales.indexOf(e)) && this._rightPriceScales.splice(i, 1), this._onPriceScalesChanged.fire()
          }, n.prototype.removeDataSource = function (e, t) {
            var i, o, r = this.m_dataSources.indexOf(e); - 1 !== r ? (this.m_dataSources.splice(r, 1), e !== this.m_mainDataSource || t || (this.m_mainDataSource = null), (i = e.priceScale()) && i.dataSources().indexOf(e) >= 0 && i.removeDataSource(e), e instanceof _ || f(e) || this.updateAlertLabelsSources(), i && null === i.mainSource() && (0 !== (o = i.dataSources().length) && h.logError("Invalid priceScale state: empty mainSource but non-empty data sources=" + o), this.removePriceScale(i)), e.onTagsChanged && e.onTagsChanged().unsubscribe(this, n.prototype.onSourceTagsChanged), e instanceof u && !t && this._processMainSourceChange(), this._tagsChanged.fire(), i && e instanceof u && this.recalculatePriceScale(i), this.invalidateSourcesCache()) : h.logDebug("removeDataSource: invalid data source")
          }, n.prototype.updateAlertLabelsSources = function () {
            function e(e) {
              return u.dataSources().filter(function (t) {
                return t instanceof _ && t.data() === e
              })
            }

            function t(e, t) {
              e = new _(this._model, r);
              this.addDataSource(e, t)
            }
            var i, n, o, r, s, a, l, c, u = this,
              h = this._model.alertsList();
            if (h)
              for (i = this.dataSources().filter(function (e) {
                  return e instanceof _
                }).map(function (e) {
                  return e.alert().id
                }), n = new Map, this.dataSources().forEach(function (e) {
                  var t = n.get(e.idForAlert()) || new Set;
                  t.add(e.priceScale()), n.set(e.idForAlert(), t)
                }), o = (h = h.models).length - 1; o >= 0; o--)(r = h[o]).get("extra") && (s = r.get("extra").alertSeries().id, a = -1 !== i.indexOf(r.id), c = void 0 !== (l = n.get(s)), a && !c && e(r).forEach(function (e) {
                e.stop(), this.removeDataSource(e)
              }, this), c && !a && l.forEach(t, this))
          }, n.prototype.startScalePrice = function (e, t) {
            e.startScale(t)
          }, n.prototype.scalePriceTo = function (e, t) {
            e.scaleTo(t), this.updateAllViews()
          }, n.prototype.endScalePrice = function (e) {
            e.endScale()
          }, n.prototype.startScrollPrice = function (e, t) {
            e.startScroll(t)
          }, n.prototype.scrollPriceTo = function (e, t) {
            e.scrollTo(t), this.updateAllViews()
          }, n.prototype.endScrollPrice = function (e) {
            e.endScroll()
          }, n.prototype.setPriceAutoScale = function (e, t) {
            e.setMode({
              autoScale: t
            }), this.timeScale().isEmpty() ? e.setPriceRange(null) : this.recalculatePriceScale(e)
          }, n.prototype.restorePriceScaleState = function (e, t) {
            e.restoreState(t), this.updateAllViews()
          }, n.prototype._updateCustomSourceAllViews = function (e) {
            e.paneViews(this).length > 0 && e.updateAllViews()
          }, n.prototype.updateAllViews = function () {
            for (var e = 0; e < this.m_dataSources.length; e++) this.m_dataSources[e].updateAllViews();
            this._model.customSources().forEach(this._updateCustomSourceAllViews, this)
          },
          n.prototype.defaultPriceScale = function () {
            var e = this.m_mainDataSource ? this.m_mainDataSource.priceScale() : null;
            return null === e && (e = new m(this._model.properties().scalesProperties)), e
          }, n.prototype._priceScaleIsPrice = function (e) {
            var t = e.mainSource();
            return !!t && (!!TradingView.isInherited(t.constructor, TradingView.Series) || !!TradingView.isInherited(t.constructor, TradingView.Study) && t.metaInfo().is_price_study)
          }, n.prototype.findSuitableScale = function (e, t, i) {
            return this._priceScaleSelectionStrategy.findSuitableScale(this, e, t, i)
          }, n.prototype.createNewPriceScaleIfPossible = function () {
            return this._priceScaleSelectionStrategy.createNewPriceScaleIfPossible(this)
          }, n.prototype.canCreateNewPriceScale = function () {
            return this._priceScaleSelectionStrategy.canCreateNewPriceScale(this)
          }, n.prototype.mainDataSource = function () {
            return this.m_mainDataSource
          }, n.prototype.recalculatePriceScale = function (e) {
            var t, i;
            e && (t = e.sourcesForAutoscale(), e.isAutoScale() && t && t.length > 0 && !this.timeScale().isEmpty() && (i = this.timeScale().visibleBarsStrictRange(), e.recalculatePriceRange(i)), e.updatePaneViews())
          }, n.prototype.resetPriceScale = function (e) {
            var t = this.timeScale().visibleBarsStrictRange();
            e.isLockScale() || e.setMode({
              autoScale: !0
            }), e.recalculatePriceRange(t), this.updateAllViews()
          }, n.prototype.recalculate = function () {
            var e, t;
            for (this.recalculatePriceScale(this.m_rightPriceScale), this.recalculatePriceScale(this.m_leftPriceScale), e = 0; e < this.m_dataSources.length; e++) t = this.m_dataSources[e], this.isOverlay(t) && !f(t) && this.recalculatePriceScale(t.priceScale());
            this.updateAllViews(), this._model.updatePane(this)
          }, n.prototype.isEmpty = function () {
            return null === this.m_mainDataSource
          }, n.prototype.move = function (e, t, i) {
            this.removeDataSource(e, !0), this.addDataSource(e, t, i), this._processMainSourceChange(), this.invalidateSourcesCache(), this._onPriceScalesChanged.fire()
          }, n.prototype.dataSourceForId = function (e) {
            for (var t = 0; t < this.m_dataSources.length; t++)
              if (this.m_dataSources[t].id() === e) return this.m_dataSources[t];
            return null
          }, n.prototype.sourceById = function (e) {
            for (var t = 0; t < this.m_dataSources.length; t++)
              if (this.m_dataSources[t].id() === e) return this.m_dataSources[t];
            return null
          }, n.prototype.containsMainSeries = function () {
            return -1 !== this.m_dataSources.indexOf(this._model.mainSeries())
          }, n.prototype.hitTestSources = function () {
            var e, t, i, n, o;
            if (this._cachedHitTestSources) return this._cachedHitTestSources;
            for (e = this.orderedSources(), t = [], i = [], n = 0; n < e.length; n++) o = e[n], TradingView.isInherited(o.constructor, l) ? t.push(o) : i.push(o);
            return this._cachedHitTestSources = i.concat(t), this._cachedHitTestSources
          }, n.prototype.allOrderedSources = function () {
            return this._cachedAllOrderedSources || (this._cachedAllOrderedSources = n.sortSources(this.m_dataSources)), this._cachedAllOrderedSources
          }, n.prototype.orderedSources = function (e) {
            var t, i, o, r, s = function () {
              return void 0 === e ? this._cachedOrderedSoruces.all : (this._cachedOrderedSoruces[e] || (this._cachedOrderedSoruces[e] = this._cachedOrderedSoruces.all.filter(function (t) {
                  return this.priceScalePosition(t.priceScale()) === e
                }, this)),
                this._cachedOrderedSoruces[e])
            }.bind(this);
            if (this._cachedOrderedSoruces) return s();
            for (t = [], i = 0, o = this.m_dataSources.length; i < o; i++) r = this.m_dataSources[i], TradingView.isInherited(r.constructor, l) && !r.isActualSymbol() || t.push(r);
            return t = n.sortSources(t), this._cachedOrderedSoruces = {
              all: t
            }, s()
          }, n.prototype.customSources = function (e) {
            return this._model.customSources(e)
          }, n.prototype.createDrawingsCaches = function () {
            a.recreateOrderedByBarsSourcesCache(this)
          }, n.prototype.clearDrawingCaches = function () {
            a.clearOrderedByBarsSourcesCache()
          }, n.prototype.invalidateSourcesCache = function () {
            this._cachedOrderedSoruces = null, this._cachedHitTestSources = null, this._cachedAllOrderedSources = null, this._leftPriceScales.forEach(function (e) {
              e.invalidateSourcesCache()
            }), this._rightPriceScales.forEach(function (e) {
              e.invalidateSourcesCache()
            })
          }, n.prototype.getZOrderMinMax = function () {
            var e, t, i, n, o = this.orderedSources();
            if (0 === o.length) return {
              minZOrder: 0,
              maxZOrder: 0
            };
            for (e = o[0].zorder(), t = o[0].zorder(), i = 1; i < o.length; i++)(n = o[i]).zorder() < e && (e = n.zorder()), n.zorder() > t && (t = n.zorder());
            return {
              minZOrder: e,
              maxZOrder: t
            }
          }, n.prototype.isZOrderAvailable = function (e) {
            var t;
            for (t = 0; t < this.m_dataSources.length; t++)
              if (this.m_dataSources[t].zorder() === e) return !1;
            return !0
          }, n.prototype.sendToBack = function (e) {
            var t, i = new Set;
            e.forEach(function (e) {
              i.add(e)
            }), t = this.allOrderedSources().filter(function (e) {
              return !i.has(e)
            }), t = n.sortSources(t), (t = e.concat(t)).forEach(function (e, t) {
              e.setZorder(t + 1)
            }), delete this._cachedOrderedSoruces
          }, n.prototype.bringToFront = function (e) {
            var t, i = new Set;
            e.forEach(function (e) {
              i.add(e)
            }), t = this.allOrderedSources().filter(function (e) {
              return !i.has(e)
            }), (t = (t = n.sortSources(t)).concat(e)).forEach(function (e, t) {
              e.setZorder(t + 1)
            }), delete this._cachedOrderedSoruces
          }, n.prototype.changeZOrder = function (e, t) {
            var i, n, o, r, s, a = this.orderedSources().filter(function (e) {
                return e.showInObjectTree()
              }),
              l = 0;
            for (i = 0, n = a.length; i < n; i++)
              if (a[i] === e) {
                l = i;
                break
              } l > 0 && t < 0 ? (o = a[l - 1].zorder(), r = e.zorder(), a[l - 1].setZorder(r), e.setZorder(o)) : l < a.length - 1 && t > 0 && (s = a[l + 1].zorder(), r = e.zorder(), a[l + 1].setZorder(r), e.setZorder(s)), this.invalidateSourcesCache()
          }, n.prototype.onSourceTagsChanged = function () {
            this._tagsChanged.fire()
          }, n.prototype.onTagsChanged = function () {
            return this._tagsChanged
          }, n.prototype.onDestroyed = function () {
            return this._destroyed
          }, n.prototype.clearSeries = function () {
            for (var e = this.m_dataSources.length - 1; e >= 0; e--) TradingView.isInherited(this.m_dataSources[e].constructor, TradingView.Series) && this.m_dataSources.splice(e, 1)
          }, n.prototype.nonOverlayPricesSourcesCount = function () {
            return this.m_dataSources.filter(function (e) {
              return (!e.properties().linkedToSeries || !e.properties().linkedToSeries.value()) && (TradingView.isInherited(e.constructor, u) && e.showInObjectTree() && !this.isOverlay(e))
            }, this).length
          }, n.prototype.canHaveMoreNoScaleSources = function () {
            return this.nonOverlayPricesSourcesCount() > 1
          }, n.prototype.actionNoScaleIsEnabled = function (e) {
            return !(!this.isOverlay(e) && TradingView.isInherited(e.constructor, u)) || this.canHaveMoreNoScaleSources()
          },
          n.prototype.executionsPositionController = function () {
            return this._executionsPositionController || (this._executionsPositionController = new a(this, this._model.timeScale())), this._executionsPositionController
          }, n.prototype.isLast = function () {
            var e = this._model.panes(),
              t = e[e.length - 1];
            return t === this
          }, n.prototype.setMaximized = function (e) {
            this._maximized = e
          }, n.prototype.isMaximized = function () {
            return this._maximized
          }, n.prototype.isMainPane = function () {
            var e = this._model.mainSeries(),
              t = !1;
            return this.m_dataSources.forEach(function (i) {
              t || (t = i === e)
            }), this._isMainPane = t, t
          }, n.prototype.properties = function () {
            return this._properties
          }, n.prototype._mainSourceVisiblePriceRange = function (e) {
            var t = this.m_timeScale.visibleBarsStrictRange();
            return null !== t ? e.mainSource().priceRange(t.firstBar(), t.lastBar()) : new c(-.5, .5)
          }, n.prototype.priceScaleRatio = function () {
            return this._currentPriceScaleRatio
          }, n.prototype.applyPriceScaleRatio = function (e, t) {
            null !== this._lockedPriceScale && this._lockedPriceScale !== e || this._currentPriceScaleRatio === t || !this.isMainPane() || null === this._lockedPriceScale && e !== this.mainDataSource().priceScale() || (this._setNewPriceRangeByScaleRatio(e, t, this._mainSourceVisiblePriceRange(e), !0, !0), null !== this._lockedPriceScale ? this._tryToApplyNewPriceScaleRatio() : e.isLog() || this._model.mainSeriesScaleRatioPropertyOnChanged())
          }, n.prototype._mainSeriesPaneScaleRatioOnChange = function () {
            this.isMainPane() && this._model.mainSeriesScaleRatioPropertyOnChanged()
          }, n.prototype._applyOldScaleRatioToPriceScale = function () {
            if (this._isRecalculatingScales || null === this._currentPriceScaleRatio) return !1;
            this._isRecalculatingScales = !0, this._setNewPriceRangeByScaleRatio(this._lockedPriceScale, this._currentPriceScaleRatio, this._mainSourceVisiblePriceRange(this._lockedPriceScale)), this._isRecalculatingScales = !1
          }, n.prototype._applyOldScaleRatioToTimeScale = function () {
            if (this._isRecalculatingScales || null === this._currentPriceScaleRatio) return !1;
            this._isRecalculatingScales = !0, this._setNewBarSpacingByScaleRatio(), this._isRecalculatingScales = !1
          }, n.prototype._tryToApplyNewPriceScaleRatio = function () {
            var e = g(this.m_timeScale, this._lockedPriceScale);
            this._currentPriceScaleRatio === e || this._lockedPriceScale.isLog() || (this._priceScaleRatioChanged.fire(this._currentPriceScaleRatio, e), this._currentPriceScaleRatio = e)
          }, n.prototype._recalculatePriceScaleByScaleRatio = function (e) {
            this.isMainPane() && e === this._lockedPriceScale && (null !== this._currentPriceScaleRatio ? this._applyOldScaleRatioToPriceScale() : this._tryToApplyNewPriceScaleRatio())
          }, n.prototype._recalculateTimeScaleByScaleRatio = function (e) {
            e === this._lockedPriceScale && (null !== this._currentPriceScaleRatio ? this._applyOldScaleRatioToTimeScale() : this._tryToApplyNewPriceScaleRatio())
          }, n.prototype._setNewPriceRangeByScaleRatio = function (e, t, i, n, o) {
            var r = y(e, this.m_timeScale.barSpacing(), t);
            e.setPriceRange(null !== r ? r : i, n, o)
          }, n.prototype._setMinMaxPriceRange = function () {
            var e = y(this._lockedPriceScale, this.m_timeScale.maxBarSpacing(), this._currentPriceScaleRatio),
              t = y(this._lockedPriceScale, this.m_timeScale.minBarSpacing(), this._currentPriceScaleRatio);
            null !== e && this._lockedPriceScale.setMaxPriceRange(e), null !== t && this._lockedPriceScale.setMinPriceRange(t)
          }, n.prototype._onPriceScaleSetMinMaxPriceRange = function (e) {
            e === this._lockedPriceScale && this._setMinMaxPriceRange()
          }, n.prototype._setNewBarSpacingByScaleRatio = function () {
            var e = this.m_timeScale.getValidBarSpacing(v(this._lockedPriceScale, this._currentPriceScaleRatio));
            this.m_timeScale.isValidBarSpacing(e) && this.m_timeScale.setBarSpacing(e)
          }, n.prototype._onPriceScaleModeChanged = function (e, t, i) {
            if (i.lockScale && (this._lockedPriceScale !== e && null !== this._lockedPriceScale && this._lockedPriceScale.setMode({
                lockScale: !1
              }), this._lockedPriceScale = e, this._currentPriceScaleRatio = g(this.m_timeScale, e)), t.lockScale && !i.lockScale && (this._lockedPriceScale = null, this._currentPriceScaleRatio = null), t.percentage !== i.percentage || t.indexedTo100 !== i.indexedTo100) {
              var n = this.timeScale().visibleBarsStrictRange();
              null !== n && (e.recalculatePriceRange(n), e.updatePaneViews())
            }
          }, n.prototype.lineToolsForArea = function (e) {
            var t = this.m_height,
              i = this.m_width,
              n = this.logicalRectToPixels(e),
              o = function (e) {
                return (e.paneViews() || []).some(function (e) {
                  var o = e.renderer(t, i, !0);
                  return o && o.doesIntersectWithBox && o.doesIntersectWithBox(n)
                })
              };
            return this.m_dataSources.filter(function (e) {
              return f(e)
            }).filter(o)
          }, n.prototype.logicalRectToPixels = function (e) {
            var t = this.defaultPriceScale(),
              i = this.m_timeScale,
              n = t.mainSource().firstValue(),
              o = t.priceToCoordinate(e.p1.price, n),
              r = i.indexToCoordinate(e.p1.index),
              s = t.priceToCoordinate(e.p2.price, n),
              a = i.indexToCoordinate(e.p2.index),
              l = new d(Math.min(r, a), Math.min(o, s)),
              c = new d(Math.max(r, a), Math.max(o, s));
            return p(l, c)
          }, n.prototype.getPriceScaleById = function (e) {
            var t = this.m_dataSources.find(function (t) {
              return null !== t.priceScale() && t.priceScale().id() === e
            });
            return void 0 === t ? null : t.priceScale()
          }, n.prototype.setPriceScaleSelectionStrategy = function (e) {
            this._priceScaleSelectionStrategy = e, e.apply(this)
          }, n.prototype.movePriceScale = function (e, t, i) {
            var n, o, r = this.priceScalePosition(e);
            r !== t ? (this.removePriceScale(e), this._placePriceScale(e, t, i), this.invalidateSourcesCache()) : void 0 !== i && "overlay" !== r && (o = (n = "left" === r ? this._leftPriceScales : this._rightPriceScales).indexOf(e), n.splice(o, 1), n.splice(i, 0, e))
          }, n.prototype.onPriceScalesChanged = function () {
            return this._onPriceScalesChanged
          }, n.prototype.priceScaleIndex = function (e, t) {
            switch (t) {
              case "left":
                return this.leftPriceScales().indexOf(e);
              case "right":
                return this.rightPriceScales().indexOf(e)
            }
          }, n.prototype.findTargetPriceAxisViews = function (e, t, i, n) {
            var o, r;
            return this._model.paneForSource(e) !== this ? null : t === e.priceScale() ? i : "overlay" === this.priceScalePosition(e.priceScale()) ? t === this.defaultPriceScale() ? i : null : (o = this.priceScalePosition(t)) !== this.priceScalePosition(e.priceScale()) ? null : (r = "left" === o ? this.leftPriceScales() : this.rightPriceScales()).indexOf(t) < r.indexOf(e.priceScale()) ? n : null
          }, t.Pane = n
      }).call(this, i("aIyQ"))
    },
    iKPL: function (e, t, i) {
      "use strict";
      var n, o;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), n = function () {
        function e(e, t) {
          var i, n;
          for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
        }
        return function (t, i, n) {
          return i && e(t.prototype, i), n && e(t, n), t
        }
      }(), o = new(function () {
        function e(t, i) {
          ! function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
          }(this, e), this._test = t[i] = {}
        }
        return n(e, [{
          key: "provide",
          value: function (e, t) {
            this._test[e] = t
          }
        }]), e
      }())(window, "qaGlobals"), t.default = o, e.exports = t.default
    },
    iSkW: function (e, t, i) {
      "use strict";
      (function (t) {
        var n, o, r, s, a, l;
        i("P5fv"), n = i("uOxu").getLogger("Common.LocalForage"), o = i("VVxS").TVLocalStorageAsync, r = [t.INDEXEDDB, t.LOCALSTORAGE, t.WEBSQL], s = [t.LOCALSTORAGE, t.WEBSQL, t.INDEXEDDB], window.localForageReady = $.Deferred(), a = function (e) {
          n.logNormal("localForage driver: " + JSON.stringify(e));
          var i = {
            name: "tradingview",
            driver: e
          };
          t.config(i), window.TVLocalForage = t, window.localForageReady.resolve()
        };
        try {
          (l = window.indexedDB.open("tradingviewCheckIndexedDB")).onerror = function (e) {
            n.logError("IndexedDB is NOT available"), a(s)
          }, l.onsuccess = function (e) {
            n.logNormal("IndexedDB is available"), a(r)
          }
        } catch (e) {
          n.logError("IndexedDB is NOT available, " + e);
          try {
            a(s)
          } catch (e) {
            window.TVLocalForage = o, window.localForageReady.resolve()
          }
        }
        e.exports = {
          TVLocalForage: window.TVLocalForage
        }
      }).call(this, i("oAJy"))
    },
    icPo: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolIcon";
        var r = t || n.createProperties();
        o.call(this, e, r), this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("8GeE").IconPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.version = 1, n.anchorLimit = 80, n.prototype.getAnchorLimit = function () {
        return n.anchorLimit
      }, n.prototype.pointsCount = function () {
        return 1
      }, n.prototype.title = function () {
        return "Icon"
      }, n.prototype.name = function () {
        return "Icon"
      }, n.prototype.applyTemplate = function (e) {
        delete e.icon, o.prototype.applyTemplate.call(this, e)
      }, n.prototype.startChanging = function (e, t) {
        var i, r;
        o.prototype.startChanging.call(this, e, t), r = 65536 * (i = this.properties()).icon.value() + i.size.value(), this._startChangeWidth = this._paneViews[0]._cache[r], i.size.value() < n.anchorLimit ? this._sizeScale = i.size.value() / n.anchorLimit : this._sizeScale = 1, this._origScale = i.scale.value(), this._startChangeWidth * this._origScale < n.anchorLimit ? this._resizeRatio = this._startChangeWidth / n.anchorLimit : this._resizeRatio = 1
      }, n.prototype.endChanging = function () {
        o.prototype.endChanging.call(this), delete this._startChangeWidth, delete this._sizeScale, delete this._resizeRatio
      }, n.prototype.setPoint = function (e, t, i) {
        var o, r, s, a, l, c, u, h, d, p = Object.assign({}, t);
        i && i.shift() && this._properties.snapTo45Degrees && this._snapPoint45Degree(p, this.points()[0]), o = this.pointToScreenPoint(this.points()[0])[1], r = this.pointToScreenPoint(p)[1],
          0 === e || 1 === e ? (s = r.subtract(o).normalized(), a = 2 * r.subtract(o).length(), a *= this._sizeScale, this._properties.size.setValue(a), l = -s.x, c = Math.acos(l), Math.asin(s.y) > 0 && (c = 2 * Math.PI - c), 0 === e && (c += Math.PI), this._properties.angle.setValue(c)) : (u = this._startChangeWidth, h = r.subtract(o).length(), this._origScale * u < n.anchorLimit ? (d = n.anchorLimit / 2, this._properties.scale.setValue(this._origScale * h / d)) : (d = u / 2, this._properties.scale.setValue(h / d)))
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolIconStylesPropertyPage
      }, n.prototype.getSourceIcon = function () {
        return {
          type: "text",
          text: String.fromCharCode(this.properties().icon.value())
        }
      }, n.createProperties = function (e) {
        var t = new r("linetoolicon", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e), e.addExclusion("angle"), e.addExclusion("scale")
      }, t.LineToolIcon = n
    },
    ifvX: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._model = e, this._source = t, this._pivots = [], this._textCache = {}, this._invalidated = !0
      }

      function o(e, t, i, n) {
        s.call(this, e, t, i, n)
      }
      var r = i("aO4+").Point,
        s = i("Qq0B").NonSeriesStudy,
        a = i("pJOz").TrendLineRenderer,
        l = i("VdBB").HitTestResult,
        c = i("Zy3/").CompositeRenderer,
        u = i("hayr").propertyPages,
        h = i("a7Ha").LineEnd;
      n.prototype.update = function () {
        this._invalidated = !0
      }, n.prototype.updateImpl = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d;
        if (this._pivots = [], this._source.customData() && this._source.customData().zigzag && this._source.properties().visible.value() && (e = this._source.customData().zigzag, t = this._source._indexes, i = this._model.timeScale(), n = this._source.priceScale(), r = (o = this._model.mainSeries()).firstValue(), n && !n.isEmpty() && !i.isEmpty() && r))
          for (s = 0; s < e.length; s++) e[s] && (a = t[e[s].index], l = e[s].type, null !== (c = o.bars().valueAt(a)) && (u = 1 === l ? c[TradingView.HIGH_PLOT] : c[TradingView.LOW_PLOT], h = Math.round(i.indexToCoordinate(a)), d = n.priceToCoordinate(u, r), this._pivots.push({
            x: h,
            y: d
          })))
      }, n.prototype.renderer = function () {
        var e, t, i, n, o, s, u, d;
        for (this._invalidated && (this.updateImpl(), this._invalidated = !1), e = new c, t = this._source.properties().color.value(), i = this._source.properties().linewidth.value(), n = 1; n < this._pivots.length; n++) o = this._pivots[n], s = this._pivots[n - 1], u = {
          points: [new r(s.x, s.y), new r(o.x, o.y)],
          width: this._model.timeScale().width(),
          height: this._source.priceScale().height(),
          color: t,
          linewidth: i,
          linestyle: CanvasEx.LINESTYLE_SOLID,
          extendleft: !1,
          extendright: !1,
          leftend: h.Normal,
          rightend: h.Normal
        }, (d = new a).setData(u), d.setHitTest(new l(l.REGULAR)), e.append(d);
        return e
      }, inherit(o, s), o.prototype.isVisible = function () {
        return this.properties().visible.value()
      }, o.prototype.getStylesPropertyPage = function () {
        return u.StudyZigZagStylesPropertyPage
      }, o.prototype.createViews = function () {
        s.prototype.createViews.call(this), this._setPaneViews([new n(this.model(), this)])
      }, t.study_ZigZag = o
    },
    ijBy: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "SetChartLayoutCommand", function () {
        return s
      }), n = i("mrSG"), o = i("RDU5"), r = i("VNzU"), s = function (e) {
        function t(t, i) {
          var n = this,
            o = "Change Chart Layout to " + r.layouts[i].title;
          return (n = e.call(this, o) || this)._chartWidgetCollection = t, n._newLayoutType = i, n._oldLayoutType = t.layout.value(), n
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          this._chartWidgetCollection.layout.setValue(this._newLayoutType)
        }, t.prototype.undo = function () {
          this._chartWidgetCollection.layout.setValue(this._oldLayoutType)
        }, t
      }(o.UndoCommand)
    },
    ijIX: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = {
          palettes: {},
          inputs: [{
            defval: 2,
            id: "upper diviation",
            max: 500,
            min: -500,
            name: window.t("Upper Deviation"),
            type: "integer"
          }, {
            defval: -2,
            id: "lower diviation",
            max: 500,
            min: -500,
            name: window.t("Lower Deviation"),
            type: "integer"
          }, {
            defval: !0,
            id: "use upper diviation",
            name: window.t("Use Upper Deviation"),
            type: "bool"
          }, {
            defval: !0,
            id: "use lower diviation",
            name: window.t("Use Lower Deviation"),
            type: "bool"
          }, {
            defval: 0,
            id: "first bar time",
            max: 253370764800,
            min: 0,
            name: window.t("First bar time"),
            type: "time"
          }, {
            defval: 0,
            id: "last bar time",
            max: 253370764800,
            min: 0,
            name: window.t("Last bar time"),
            type: "time"
          }, {
            defval: "close",
            id: "source",
            name: window.t("Source"),
            options: ["open", "high", "low", "close", "hl2", "hlc3", "ohlc4"],
            type: "text"
          }],
          plots: [],
          graphics: {},
          defaults: {
            inputs: {
              "first bar time": 0,
              "last bar time": 0,
              "lower diviation": -2,
              source: "close",
              "upper diviation": 2,
              "use lower diviation": !0,
              "use upper diviation": !0
            }
          },
          _metainfoVersion: 6,
          description: "Regression Trend",
          id: "RegressionTrend@tv-basicstudies",
          is_price_study: !0,
          shortDescription: "Reg Trend",
          shortId: "RegressionTrend",
          version: "2",
          fullId: "RegressionTrend@tv-basicstudies-2",
          name: "RegressionTrend@tv-basicstudies"
        };
        return e.metaInfo || (e.metaInfo = t), e
      }
      i.r(t), i.d(t, "patchSourceState", function () {
        return n
      });
      i("YFKU")
    },
    ikwP: function (e, t, i) {
      "use strict";

      function n(e, t) {
        e.width = t.w, e.height = t.h;
        var i = e.getContext("2d");
        i && i.translate(.5, .5)
      }

      function o(e, t) {
        e.width = 0, n(e, t)
      }

      function r(e, t, i, n, o, r) {
        e.save(), e.translate(-.5, -.5), e.fillStyle = r, e.fillRect(t, i, n, o), e.restore()
      }

      function s(e, t) {
        var i = document.createElement("canvas");
        return e.appendChild(i), n(i, t), i
      }

      function a(e, t) {
        return "center" === e.textAlign ? 0 : l.IS_RTL ? "start" === e.textAlign || "right" === e.textAlign ? t : 0 : "start" === e.textAlign || "left" === e.textAlign ? 0 : t
      }
      var l, c;
      i.r(t), i.d(t, "Size", function () {
        return c
      }), i.d(t, "resizeCanvas", function () {
        return n
      }), i.d(t, "hardResizeCanvas", function () {
        return o
      }), i.d(t, "clearRect", function () {
        return r
      }), i.d(t, "addCanvasTo", function () {
        return s
      }), i.d(t, "calcTextHorizontalShift", function () {
        return a
      }), l = i("Ialn"), c = function () {
        function e(e, t) {
          this.w = e, this.h = t
        }
        return e.prototype.equals = function (e) {
          return this.w === e.w && this.h === e.h
        }, e
      }()
    },
    inEm: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 12" width="22" height="12"><rect width="100%" height="100%" fill="currentColor" rx="6"/><path xmlns="http://www.w3.org/2000/svg" fill="#FFF" d="M9.426 9l-.418-1.16H7.047L6.648 9H5.52L7.8 3.2h.446l2.3 5.8h-1.12zM8.023 4.95l-.687 2.112H8.71L8.023 4.95zM12.422 9h-1.27V3.281c.81-.028 1.32-.043 1.528-.043.833 0 1.494.244 1.982.733.488.488.733 1.136.733 1.943 0 2.057-.991 3.086-2.973 3.086zm-.254-4.832v3.906c.164.016.341.024.531.024.513 0 .915-.187 1.205-.559.29-.372.436-.893.436-1.562 0-1.224-.57-1.836-1.707-1.836-.11 0-.265.009-.465.027z"/></svg>'
    },
    irjp: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "BottomWidgetbarBootloader", function () {
        return l
      }), n = i("mrSG"), o = i("YuHv"), r = i("cZRT"), s = i("dwZ6"), a = i("ZzsE"), l = function (e) {
        function t(t) {
          var i, n, r, l, c, u, h = e.call(this) || this;
          switch (h._opts = t, i = Object(a.a)({
            activeWidget: t.defaultActiveWidget,
            mode: t.mode
          }), r = (n = h._userSettings = Object(a.a)(Object(a.b)(), i)).mode, l = n.height, u = (c = h._opts.resizerBridge).body.value()[0], r) {
            case "maximized":
              c.negotiateHeight(c.availHeight.value());
              break;
            case "normal":
              c.negotiateHeight(l + s.a);
              break;
            case "minimized":
              c.negotiateHeight(s.a)
          }
          return u.appendChild(Object(o.a)(["border-left", "border-right"], ["top-left-radius", "top-right-radius"])), h
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          var e = this;
          return Promise.all([this._loadBottomWidgetbar(), this._opts.configBootloader.load()]).then(function (t) {
            var i = t[0],
              n = t[1];
            return new i({
              resizerBridge: e._opts.resizerBridge,
              chartWidgetCollection: e._opts.chartWidgetCollection,
              backtestingStrategyDispatcher: e._opts.backtestingStrategyDispatcher,
              widgets: e._opts.widgets,
              config: n
            }, e._userSettings)
          })
        }, t.prototype._loadBottomWidgetbar = function () {
          return Promise.all([i.e(258), i.e("bottom-widgetbar")]).then(i.bind(null, "Vg5g")).then(function (e) {
            return e.Bottomwidgetbar
          })
        }, t
      }(r.a)
    },
    isVH: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolTriangle";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("D4q4").TrianglePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Triangle"
      }, n.prototype.name = function () {
        return "Triangle"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolTriangleStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetooltriangle", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolTriangle = n
    },
    it7y: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p, f, _, m;
      i.r(t), i.d(t, "StudyDataWindowView", function () {
        return m
      }), n = i("mrSG"), o = i("ivNn"), r = i("4miz"), s = i("Kxc7"), a = i("k9/m"), l = i("23IT"), c = i("qFKp"), u = i("e92V"), h = i("mMWL"), d = c.CheckMobile.any(), p = window.t("n/a"), f = s.enabled("hide_last_na_study_output"), _ = function (e) {
        function t(t, i, n, o) {
          var r = e.call(this, t, i) || this;
          return r.plotId = n, r.plotIndex = o, r
        }
        return n.__extends(t, e), t
      }(r.DataWindowItem), m = function (e) {
        function t(t, i) {
          var n, o, r, s, a = e.call(this) || this;
          if (a._invalidated = !0, a._study = t, a._model = i, !(n = t.metaInfo().plots)) return a;
          for (o = 0; o < n.length; ++o) a._study.isSelfColorerPlot(o) || a._study.isBarColorerPlot(o) || a._study.isBgColorerPlot(o) || a._study.isDataOffsetPlot(o) || a._study.isOHLCColorerPlot(o) || (r = n[o].id, s = new _(a._study.guiPlotName(r), "", r, o), a._items.push(s));
          return a.update(), a
        }
        return n.__extends(t, e), t.prototype.update = function () {
          this._invalidated = !0
        }, t.prototype.items = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._items
        }, t.prototype._hideValues = function () {
          return d && (null === this._model.crossHairSource().pane || Object(u.a)(h.tool.value()) || null !== this._model.lineBeingEdited())
        }, t.prototype._updateImpl = function () {
          var e, t, i, n, r, s, c, u, h, d, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O;
          for (this._header = this._study.title(!0), this._title = this._study.title(), e = this._hideValues(), t = this._study.isVisible() && !e ? p : "", i = 0, n = this._items; i < n.length; i++)(r = n[i]).setValue(t);
          if (!e && (f && this._items.length && this._items[this._items.length - 1].setValue(""), !this._model.timeScale().isEmpty())) {
            if (s = this._study.metaInfo().plots, c = {}, u = this._study.metaInfo().palettes, s && void 0 !== u)
              for (h = 0; h < s.length; h++) d = s[h], (Object(l.isColorerPlot)(d) || Object(l.isOhlcColorerPlot)(d)) && (c[d.target] = {
                index: h,
                palette: u[d.palette],
                paletterProps: this._study.properties().palettes[d.palette]
              });
            if (null !== (_ = this._currentIndex()) && Object(o.isNumber)(_))
              for (m = this._study.formatter(), g = {}, y = 0, v = this._items; y < v.length; y++) S = (r = v[y]).plotId, b = r.plotIndex, w = this._study.offset(S), void 0 !== (P = this._study.nearestIndex(_ - w, a.PlotRowSearchMode.NearestLeft)) && (void 0 === (T = g[S]) && (T = this._study.getMinFirstBarIndexForPlot(S), Number.isFinite(T) && (g[S] = T)), T > P || (C = this._study.data().last(), null !== (x = this._study.data().valueAt(P) || (null !== C ? C.value : null)) && (E = x[b + 1], Object(o.isNumber)(E) && (r.setValue(m.format(E)), I = this._study.properties().styles[S].color.value(), d = s[b], Object(l.isOhlcPlot)(d) && (S = d.target || S, I = this._study.properties().ohlcPlots[S].color.value()), A = I, c[S] && x.length > c[S].index + 1 && (L = x[c[S].index + 1], D = c[S].palette, void 0 !== L && null !== L && void 0 !== D && (k = c[S].paletterProps, O = D.valToIndex ? D.valToIndex[L] : L, A = k.colors[void 0 !== O ? O : L].color.value())), r.setColor(A)))))
          }
        }, t.prototype._currentIndex = function () {
          return null !== this._model.crossHairSource().pane ? this._model.crossHairSource().appliedIndex() : this._study.data().lastIndex()
        }, t
      }(r.DataWindowView)
    },
    ivNn: function (e, t, i) {
      "use strict";

      function n(e) {
        return Math.round(1e10 * e) / 1e10
      }
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.isNumber = function (e) {
        return "number" == typeof e && isFinite(e)
      }, t.isInteger = function (e) {
        return "number" == typeof e && e % 1 == 0
      }, t.isNaN = function (e) {
        return !(e <= 0 || e > 0)
      }, t.fixComputationError = n, t.alignTo = function (e, t) {
        var i = e / t,
          o = Math.floor(i),
          r = i - o;
        return r > 2e-10 ? n(r > .5 ? (o + 1) * t : o * t) : e
      }
    },
    j1f4: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "dur", function () {
        return n
      }), i.d(t, "easingFunc", function () {
        return o
      }), i.d(t, "CubicBezier", function () {
        return r
      }), i.d(t, "color", function () {
        return s
      }), n = 350, o = {
        linear: function (e) {
          return e
        },
        easeInQuad: function (e) {
          return e * e
        },
        easeOutQuad: function (e) {
          return e * (2 - e)
        },
        easeInOutQuad: function (e) {
          return e < .5 ? 2 * e * e : (4 - 2 * e) * e - 1
        },
        easeInCubic: function (e) {
          return e * e * e
        },
        easeOutCubic: function (e) {
          return --e * e * e + 1
        },
        easeInOutCubic: function (e) {
          return e < .5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1
        },
        easeInQuart: function (e) {
          return e * e * e * e
        },
        easeOutQuart: function (e) {
          return 1 - --e * e * e * e
        },
        easeInOutQuart: function (e) {
          return e < .5 ? 8 * e * e * e * e : 1 - 8 * --e * e * e * e
        },
        easeInQuint: function (e) {
          return e * e * e * e * e
        },
        easeOutQuint: function (e) {
          return 1 + --e * e * e * e * e
        },
        easeInOutQuint: function (e) {
          return e < .5 ? 16 * e * e * e * e * e : 1 + 16 * --e * e * e * e * e
        }
      }, r = function () {
        function e(e, t, i, n) {
          this._mX1 = e, this._mY1 = t, this._mX2 = i, this._mY2 = n
        }
        return e.prototype.easingFunc = function (e) {
          return this._mX1 === this._mY1 && this._mX2 === this._mY2 ? e : this._calcBezier(this._getTForX(e))
        }, e.prototype._a = function (e, t) {
          return 1 - 3 * t + 3 * e
        }, e.prototype._b = function (e, t) {
          return 3 * t - 6 * e
        }, e.prototype._c = function (e) {
          return 3 * e
        }, e.prototype._calcBezier = function (e) {
          return ((this._a(this._mY1, this._mY2) * e + this._b(this._mY1, this._mY2)) * e + this._c(this._mY1)) * e
        }, e.prototype._getSlope = function (e) {
          return 3 * this._a(this._mX1, this._mX2) * e * e + 2 * this._b(this._mX1, this._mX2) * e + this._c(this._mX1)
        }, e.prototype._getTForX = function (e) {
          var t, i, n = e;
          for (t = 0; t < 4; ++t) {
            if (0 === (i = this._getSlope(n))) return n;
            n -= (this._calcBezier(n) - e) / i
          }
          return n
        }, e
      }(), s = {
        black0: "#000",
        black20: "#2b2d36",
        black25: "#2b2e37",
        black27: "#2f3241",
        black30: "#212121",
        black70: "#4A4A4A",
        black80: "#535353",
        black100: "#646464",
        black110: "#757575",
        black140: "#8A8A8A",
        black170: "#ADAEB0",
        black180: "#b4b4b4",
        black200: "#C8C8C8",
        black220: "#DADDE0",
        black230: "#ECECEC",
        black240: "#F2F2F2",
        black248: "#F8F8F8",
        black255: "#FFF",
        brand: "#3BB3E4",
        brandHover: "#3BABD8",
        brandActive: "#3898C2",
        brandDown: "#049DDC",
        brand220: "#3BB3E0",
        brand255: "#3BB3FF",
        brandNew: "#37A6EF",
        brandNew2: "#2196F3",
        spinner: "#00A2E2",
        brandMedium80: "#3C4650",
        brandMedium90: "#465a6e",
        brandMedium100: "#627384",
        brandMedium120: "#758696",
        brandMedium150: "#94959C",
        brandMedium190: "#9DB2BD",
        brandMedium220: "#E9EFF2",
        brandMedium230: "#EAECEF",
        brandMedium240: "#F1F3F6",
        brandDark: "#2A2C39",
        brandDark50: "#252733",
        brandDark45: "#20222D",
        brandDarkText: "#6A6B74",
        danger: "#FF4A68",
        dangerHover: "#F24965",
        dangerDown: "#FF173E",
        success: "#3CBC98",
        success55: "#37BC9B",
        success250: "#00FFC0",
        successHover: "#38B395",
        successDown: "#00A97F",
        attention: "#FFC84A",
        attention50: "#F89E30",
        growing: "#37bc9b",
        falling: "#ff4a68"
      }
    },
    jCNj: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i, n, o, r, s;
        if (this._name = e, (t = d[e]) || (t = {
            time: [],
            offset: []
          }, this._invalid = !0), t.time.length !== t.offset.length && (t = {
            time: [],
            offset: []
          }, this._invalid = !0), !t.time_utc) {
          for (i = t.time, n = t.offset, o = i.length, r = new Array(o), s = 0; s < o; s++) i[s] *= 1e3, n[s] *= 1e3, r[s] = i[s] - n[s];
          t.time_utc = r
        }
        this.tz = t
      }

      function o(e, t) {
        var i, n, o, s = e.length;
        if (0 === s) return -1;
        if (isNaN(t)) throw Error("Key is NaN");
        for (o = r(((i = 0) + (n = s - 1)) / 2);;) {
          if (e[o] > t) {
            if ((n = o - 1) < i) return o
          } else if (n < (i = o + 1)) return o < s - 1 ? o + 1 : -1;
          o = r((i + n) / 2)
        }
      }
      var r, s, a, l, c, u, h, d = i("3UA0").tzData;
      n.prototype.offset_utc = function (e) {
        return n._offset(this.tz.time_utc, this.tz.offset, e)
      }, n.prototype.offset_loc = function (e) {
        return n._offset(this.tz.time, this.tz.offset, e)
      }, n.prototype.correction_loc = function (e) {
        var t, i = this.tz.time,
          n = this.tz.offset,
          r = o(i, e);
        return r < 1 ? 0 : (t = n[r] - n[r - 1]) > 0 && e - i[r - 1] <= t ? t : 0
      }, n.prototype.is_valid = function () {
        return !this._invalid
      }, n._offset = function (e, t, i) {
        var n = o(e, i);
        return -1 === n ? 0 : t[n]
      }, r = function (e) {
        return 0 | e
      }, a = function (e) {
        return 1e3 * e
      }, l = function (e, t) {
        return r((r(e / 1e3) - r(t / 1e3)) / 60)
      }, c = function (e, t) {
        return r(r(e / 1e3) - r(t / 1e3))
      }, u = {
        0: 0,
        1: 31,
        2: 59,
        3: 90,
        4: 120,
        5: 151,
        6: 181,
        7: 212,
        8: 243,
        9: 273,
        10: 304,
        11: 334
      }, h = {
        SUNDAY: 1,
        MONDAY: 2,
        TUESDAY: 3,
        WEDNESDAY: 4,
        THURSDAY: 5,
        FRIDAY: 6,
        SATURDAY: 7,
        JANUARY: 0,
        DECEMBER: 11,
        YEAR: 1,
        MONTH: 2,
        WEEK_OF_YEAR: 3,
        DAY_OF_MONTH: 5,
        DAY_OF_YEAR: 6,
        DAY_OF_WEEK: 7,
        HOUR_OF_DAY: 11,
        MINUTE: 12,
        SECOND: 13,
        minutesPerDay: 1440,
        secondsPerDay: (s = function (e) {
          return 60 * e * 1e3
        })(1440),
        get_minutes_from_hhmm: function (e) {
          return -1 !== e.indexOf(":") && (e = e.split(":").join("")), e % 100 + 60 * r(e / 100)
        },
        get_year: function (e) {
          return e.getUTCFullYear()
        },
        get_month: function (e) {
          return e.getUTCMonth()
        },
        get_hours: function (e) {
          return e.getUTCHours()
        },
        get_minutes: function (e) {
          return e.getUTCMinutes()
        },
        get_seconds: function (e) {
          return e.getUTCSeconds()
        },
        get_day_of_month: function (e) {
          return e.getUTCDate()
        },
        get_day_of_week: function (e) {
          return e.getUTCDay() + 1
        },
        get_day_of_year: function (e) {
          var t, i = e.getUTCMonth(),
            n = u[i];
          return i > 1 && ((t = e.getUTCFullYear()) % 4 == 0 && t % 100 != 0 || t % 400 == 0) && (n += 1), n + e.getUTCDate()
        },
        get_week_of_year: function (e) {
          var t = new Date(Date.UTC(e.getUTCFullYear(), 0, 1)).getUTCDay(),
            i = 0 === t ? 1 : 8 - t,
            n = h.get_day_of_year(e),
            o = n - i;
          return Math.ceil(o / 7) + 1
        },
        get_minutes_from_midnight: function (e) {
          return 60 * h.get_hours(e) + h.get_minutes(e)
        },
        set_hms: function (e, t, i, n, o, r) {
          e.setUTCHours(t), e.setUTCMinutes(i), e.setUTCSeconds(n), e.setUTCMilliseconds(o), h.correct_time(e, r)
        },
        correct_time: function (e, t) {
          var i = e.getTime(),
            n = t.correction_loc(i);
          e.setTime(i + n)
        },
        add_days_considering_dst: function (e, t, i) {
          var n, o = e.offset_utc(t),
            r = this.clone(t);
          return this.add_date(r, i), n = e.offset_utc(r), r.setTime(r.getTime() + o - n), r
        },
        add_date: function (e, t) {
          e.setTime(e.getTime() + t * h.secondsPerDay)
        },
        clone: function (e) {
          return new Date(e.getTime())
        },
        get_days_per_year: function (e) {
          var t = e.getUTCFullYear();
          return this.days_per_year(t)
        },
        days_per_year: function (e) {
          return e % 4 != 0 || e % 100 == 0 && e % 400 != 0 ? 365 : 366
        },
        get_part: function (e, t) {
          switch (t) {
            case h.YEAR:
              return h.get_year(e);
            case h.MONTH:
              return h.get_month(e);
            case h.DAY_OF_MONTH:
              return h.get_day_of_month(e);
            case h.WEEK_OF_YEAR:
              return h.get_week_of_year(e);
            case h.DAY_OF_WEEK:
              return h.get_day_of_week(e);
            case h.HOUR_OF_DAY:
              return h.get_hours(e);
            case h.MINUTE:
              return h.get_minutes(e);
            case h.DAY_OF_YEAR:
              return h.get_day_of_year(e);
            case h.SECOND:
              return h.get_seconds(e);
            default:
              return e.getTime()
          }
        },
        time_minutes: s,
        time_seconds: a,
        time_minutes_diff: l,
        time_seconds_diff: c,
        utc_to_cal: function (e, t) {
          var i = e.offset_utc(t);
          return new Date(t + i)
        },
        get_cal: function (e, t, i, n) {
          var o = new Date(Date.UTC(t, i, n)),
            r = e.offset_utc(+o);
          return new Date(o.valueOf() - r)
        },
        get_cal_utc: function (e, t, i) {
          return new Date(Date.UTC(e, t, i))
        },
        cal_to_utc: function (e, t) {
          var i = t.getTime(),
            n = e.offset_loc(i);
          return i - n
        },
        get_timezone: function (e) {
          return new n(e)
        },
        shift_day: function (e, t) {
          var i = e - 1;
          return (i += t) > 6 ? i %= 7 : i < 0 && (i = (7 + i % 7) % 7), i + 1
        }
      }, e.exports = h
    },
    jFln: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i("xL1m"), n = i("Hr11"), o = n.greaterThan, r = n.lessThan, s = window.CanvasEx = i("8Uy/"), TradingView.resizeCanvas = function (e, t, i) {
        var n, o, r, s, a, l = e.height,
          c = e.width;
        l && c && (l /= window.hidpiCanvasRatio || 1, c /= window.hidpiCanvasRatio || 1, l < 1 && (l = 1), c < 1 && (c = 1), (n = document.createElement("canvas")).setAttribute("width", c), n.setAttribute("height", l), o = n.getContext("2d"), r = Math.min(c, t), s = Math.min(l, i), r && s && o.drawImage(e, 0, 0, r, s, 0, 0, r, s), e.height = i, e.width = t, a = e.getContext("2d"), r && s && a.drawImage(n, 0, 0, r, s, 0, 0, r, s))
      }, s.computeDashPattern = function (e) {
        return [
          [e.lineWidth, 2 * e.lineWidth],
          [5 * e.lineWidth, 6 * e.lineWidth],
          [6 * e.lineWidth, 6 * e.lineWidth],
          [e.lineWidth, 4 * e.lineWidth]
        ][e.lineStyle - 1]
      }, s.drawLine = function (e, t, i, n, o) {
        isFinite(t) && isFinite(n) && isFinite(i) && isFinite(o) && (e.lineStyle === s.LINESTYLE_DASHED || e.lineStyle === s.LINESTYLE_DOTTED || e.lineStyle === s.LINESTYLE_SPARSE_DOTTED ? e.drawDashedLine(e, t, i, n, o) : s.drawSolidLine(e, t, i, n, o))
      }, s.drawArrow = function (e, t, i, n, o) {
        isFinite(t) && isFinite(n) && isFinite(i) && isFinite(o) && (e.beginPath(), e.moveTo(n, o), e.lineTo(t, i), e.moveTo(t + 2, i + 2), e.lineTo(t - 2, i + 2), e.moveTo(t - 1, i + 1), e.lineTo(t + 1, i + 1), e.stroke())
      }, s.drawSolidLine = function (e, t, i, n, o) {
        e.beginPath(), e.moveTo(t, i), e.lineTo(n, o), e.stroke()
      }, s.setLineStyle = function (e, t) {
        e.lineStyle = t;
        var i = [];
        t !== s.LINESTYLE_SOLID && (i = s.computeDashPattern(e)), "function" == typeof e.setLineDash ? e.setLineDash(i) : void 0 !== e.mozDash ? e.mozDash = i : void 0 !== e.webkitLineDash && (e.webkitLineDash = i)
      }, s.drawPoly = function (e, t, i) {
        var n, o;
        for (e.beginPath(), e.moveTo(t[0].x, t[0].y), n = 0; n < t.length; n++) o = t[n], e.lineTo(o.x, o.y);
        e.closePath(), e.stroke(), i && e.fill()
      }, s.drawRoundRect = function (e, t, i, n, o, r) {
        e.beginPath(), e.moveTo(t + r, i), e.lineTo(t + n - r, i), e.arcTo(t + n, i, t + n, i + r, r), e.lineTo(t + n, i + o - r), e.arcTo(t + n, i + o, t + n - r, i + o, r), e.lineTo(t + r, i + o), e.arcTo(t, i + o, t, i + o - r, r), e.lineTo(t, i + r), e.arcTo(t, i, t + r, i, r)
      }, s.drawDashedLineHorizontal = function (e, t, i, n) {
        var o, r, a, l, c, u, h;
        for (e.save(), o = s.computeDashPattern(e), r = 0, l = (a = e.lineWidth) / 2, e.translate(-l, -l), c = !0, u = t + n; t < u;) h = o[r], c && e.fillRect(t, i, h, a), c = !c, t += h, r = r === o.length - 1 ? 0 : r + 1;
        e.restore()
      }, s.drawDashedLineVertical = function (e, t, i, n) {
        var o, r, a, l, c, u, h;
        for (e.save(), o = s.computeDashPattern(e), r = 0, l = (a = e.lineWidth) / 2, e.translate(-l, -l), c = !0, u = i + n; i < u;) h = o[r], c && e.fillRect(t, i, a, h), c = !c, i += h, r = r === o.length - 1 ? 0 : r + 1;
        e.restore()
      }, s.lineStyles = [], "undefined" != typeof CanvasRenderingContext2D && (CanvasRenderingContext2D.prototype.setFont = function (e) {
          if (this.font !== e) try {
            this.font = e
          } catch (e) {}
        }, CanvasRenderingContext2D.prototype.lineStyle = s.LINESTYLE_SOLID, s.originalSave = CanvasRenderingContext2D.prototype.save,
        s.originalRestore = CanvasRenderingContext2D.prototype.restore, CanvasRenderingContext2D.prototype.save = function () {
          s.lineStyles.push(this.lineStyle), s.originalSave.call(this)
        }, CanvasRenderingContext2D.prototype.restore = function () {
          s.lineStyles.length > 0 && (this.lineStyle = s.lineStyles.pop(), s.originalRestore.call(this))
        }, CanvasRenderingContext2D.prototype.drawDashedLine = function (e, t, i, n, o) {
          e.save();
          var r = s.computeDashPattern(e);
          if (e.beginPath(), "function" == typeof e.setLineDash) e.setLineDash(r);
          else if (void 0 !== e.mozDash) e.mozDash = r;
          else {
            if (void 0 === e.webkitLineDash) return e.dashedLineTo(t, i, n, o, r), e.stroke(), void e.restore();
            e.webkitLineDash = r
          }
          e.moveTo(t, i), e.lineTo(n, o), e.stroke(), e.restore()
        }, CanvasRenderingContext2D.prototype.dashedLineTo = function (e, t, i, n, s) {
          var a, l, c, u, h, d, p = {
              thereYet: o,
              cap: Math.min
            },
            f = {
              thereYet: o,
              cap: Math.min
            };
          for (t - n > 0 && (f.thereYet = r, f.cap = Math.max), e - i > 0 && (p.thereYet = r, p.cap = Math.max), this.moveTo(e, t), a = e, l = t, c = 0, u = !0; !p.thereYet(a, i) || !f.thereYet(l, n);) h = Math.atan2(n - t, i - e), d = s[c], a = p.cap(i, a + Math.cos(h) * d), l = f.cap(n, l + Math.sin(h) * d), u ? this.lineTo(a, l) : this.moveTo(a, l), c = (c + 1) % s.length, u = !u
        }), e.exports = s
    },
    jHdF: function (e, t, i) {
      "use strict";

      function n() {
        return o || (this instanceof n ? (o = this, this._ready = $.Deferred(), void
          function (e) {
            var t, i, n, o;
            if (!Modernizr.websockets) return void e("Error. Not Supported");
            t = window.WebSocket || window.MozWebSocket;
            if (!t) return void e("Error. Websocket constructor is undefined");
            i = Date.now().toString(36), n = new t(c);
            n.onopen = function (t) {
              n.send(i), o = setTimeout(function () {
                e("Error. Websocket response timeout")
              }, u)
            }, n.onerror = function (t) {
              clearTimeout(o), e("Error. " + t.data)
            }, n.onmessage = function (t) {
              clearTimeout(o), e(t.data === i ? "Success" : "Error. Incorrect response"), n.close()
            }
          }(function (e) {
            e && (l = e), this._ready.resolve()
          }.bind(this))) : new n)
      }
      var o, r, s, a = i("puQj"),
        l = "Pending",
        c = "wss://echo.websocket.org/",
        u = 3e4;
      n.prototype.browser = function () {
        return r || (r = a.name + " " + a.version), r
      }, n.prototype.setBrowser = function (e) {
        "string" == typeof e && e && (r = e)
      }, n.prototype.os = function () {
        var e, t;
        return s || (e = ["mac", "windows", "windowsphone", "linux", "chromeos", "android", "ios", "blackberry", "firefoxos", "webos", "bada", "tizen", "sailfish"], t = Object.keys(a), s = e.filter(function (e) {
          return t.includes(e)
        })[0]), s
      }, n.prototype.setOS = function (e) {
        "string" == typeof e && e && (s = e)
      }, n.prototype.cookieEnabled = function () {
        return navigator.cookieEnabled
      }, n.prototype.viewportSize = function () {
        return $(window).width() + " x " + $(window).height()
      }, n.prototype.screenSize = function () {
        return window.screen && (screen.width || screen.availWidth) + " x " + (screen.height || screen.availHeight) || "unknown"
      }, n.prototype.colorDepth = function () {
        return window.screen && screen.colorDepth || "unknown"
      }, n.prototype.pixelRatio = function () {
        return window.hidpiCanvasRatio || window.devicePixelRatio || 0
      }, n.prototype.wsTestResult = function () {
        return l
      }, n.prototype.ready = function () {
        return this._ready.promise()
      }, n.prototype.state = function () {
        return {
          os: this.os(),
          browser: this.browser(),
          cookieEnabled: this.cookieEnabled(),
          websocketTest: this.wsTestResult(),
          viewportSize: this.viewportSize(),
          screenSize: this.screenSize(),
          colorDepth: this.colorDepth(),
          pixelRatio: this.pixelRatio()
        }
      }, e.exports = n
    },
    jJ9X: function (e, t, i) {},
    jRfx: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "MergeUpUndoCommand", function () {
        return s
      }), i.d(t, "MergeDownUndoCommand", function () {
        return a
      }), i.d(t, "MergeToTargetPane", function () {
        return l
      }), n = i("mrSG"), o = i("Eyy1"), r = function (e) {
        function t(t, i, n) {
          var o = e.call(this, t, i, n) || this;
          return o._restorePane = !1, o
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          var e, t, i = this,
            n = this._chartModel.panes()[this._targetPaneIndex()],
            r = Object(o.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),
            s = this._chartModel.children(r, !0);
          s.forEach(function (e) {
            return i._chartModel.detachSource(e)
          }), this._restorePane = this._chartModel.detachSource(r), e = n.findSuitableScale(r), n.addDataSource(r, e, !1), s.forEach(function (t) {
            return n.addDataSource(t, e, !1)
          }), r === this._chartModel.mainSeries() && (t = n.priceScalePosition(e), n.movePriceScale(e, t, 0)), this._chartModel.fullUpdate()
        }, t.prototype.undo = function () {
          var e, t, i, n, r = this;
          e = this._restorePane ? this._chartModel.createPane(this._initialPaneIndex) : this._chartModel.panes()[this._initialPaneIndex], t = Object(o.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)), (i = this._chartModel.children(t, !0)).forEach(function (e) {
            return r._chartModel.detachSource(e)
          }), this._chartModel.detachSource(t), null === (n = e.getPriceScaleById(this._initialPriceScaleId)) && (n = e.createPriceScaleAtPosition(this._initialPriceScalePosition, this._initialPriceScaleIndex)), e.addDataSource(t, n, !0), i.forEach(function (t) {
            return e.addDataSource(t, n, !1)
          }), this._chartModel.fullUpdate()
        }, t
      }(i("3u3j").a), s = function (e) {
        function t(t, i, n) {
          return e.call(this, t, i, n) || this
        }
        return n.__extends(t, e), t.prototype._targetPaneIndex = function () {
          return this._initialPaneIndex - 1
        }, t
      }(r), a = function (e) {
        function t(t, i, n) {
          return e.call(this, t, i, n) || this
        }
        return n.__extends(t, e), t.prototype._targetPaneIndex = function () {
          return this._initialPaneIndex + 1
        }, t
      }(r), l = function (e) {
        function t(t, i, n, o) {
          var r = e.call(this, t, i, o) || this;
          return r._targetPane = n, r
        }
        return n.__extends(t, e), t.prototype._targetPaneIndex = function () {
          return this._targetPane
        }, t
      }(r)
    },
    jTis: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "CalloutConsts", function () {
          return n
        }),
        function (e) {
          e[e.RoundRadius = 8] = "RoundRadius", e[e.TextMargins = 2] = "TextMargins", e[e.MinWidth = 100] = "MinWidth"
        }(n || (n = {}))
    },
    jenN: function (e, t, i) {
      "use strict";

      function n(e, t, n) {
        return new Promise(function (r) {
          Promise.all([i.e(69), i.e(106), i.e(165), i.e("study-pane-views")]).then(function (s) {
            var a = Object.keys(e.graphicsInfo());
            a.sort(function (e, t) {
              return o(e) - o(t)
            }), r(a.map(function (o) {
              var r, s = i("psYU").VertLinePaneView;
              return null === (r = {
                backgrounds: i("IyRz").BackgroundPaneView,
                hhists: i("Gj0v").HHistPaneView,
                horizlines: i("1sos").HorizLinePaneView,
                hlines: i("3zbQ").LevelPaneView,
                lines: i("Kt0C").LinePaneView,
                polygons: i("BJvp").PolygonPaneView,
                shapemarks: i("qVqd").ShapeMarkPaneView,
                textmarks: i("292E").TextMarkPaneView,
                trendchannels: i("0HiO").TrendChannelPaneView,
                vertlines: s
              } [o]) ? (p.logWarn(o + " is not supported by this build of graphics subsystem, skipping"), null) : new r(e, t, n)
            }).filter(function (e) {
              return null !== e
            }))
          }.bind(null, i)).catch(void 0)
        })
      }

      function o(e) {
        switch (e) {
          case "polygons":
            return -100;
          case "trendchannels":
            return -90;
          default:
            return 0
        }
      }

      function r(e) {
        var t, i, n = Object.keys(e.graphicsInfo()),
          o = [],
          r = function (t) {
            switch (t) {
              case "hlines":
                e.graphics().hlines().forEach(function (i, n) {
                  var r, s, a, l, c;
                  for (r = 0, s = i; r < s.length; r++)
                    for (a = 0, l = s[r].items; a < l.length; a++) void 0 !== (c = l[a]).level && o.push(new d(e, {
                      line: {
                        level: c.level
                      },
                      styleId: n,
                      lineType: t
                    }))
                });
                break;
              case "horizlines":
                e.graphics().horizlines().forEach(function (i, n) {
                  var r, s, a, l, c;
                  for (r = 0, s = i; r < s.length; r++)
                    for (a = 0, l = s[r].items; a < l.length; a++) void 0 !== (c = l[a]).level && o.push(new d(e, {
                      line: {
                        level: c.level
                      },
                      styleId: n,
                      lineType: t
                    }))
                })
            }
          };
        for (t = 0, i = n; t < i.length; t++) r(i[t]);
        return o
      }
      var s, a, l, c, u, h, d, p;
      i.r(t), s = i("uOxu"), a = i("7Fue"), l = i("xWfy"), c = i("qySK"), u = i("mrSG"), h = i("KcY8"), d = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._source = t, n._data = i, n
        }
        return u.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          var n, o, r, s, a, l;
          e.visible = !1, n = this._source.priceScale(), o = this._source.properties().visible.value(), n && !n.isEmpty() && o && (r = this._source.properties().graphics[this._data.lineType][this._data.styleId]).visible && r.visible.value() && r.showPrice && r.showPrice.value() && null !== (s = this._source.firstValue()) && (a = this._data.line.level, l = r.color.value(), i.background = l, i.color = this.generateTextColor(l), i.coordinate = n.priceToCoordinate(a, s), e.text = n.formatPrice(a, s), e.visible = !0)
        }, t
      }(h.a), i.d(t, "createGraphicsPaneViews", function () {
        return n
      }), i.d(t, "createGraphicsPriceAxisViews", function () {
        return r
      }), i.d(t, "isStudyGraphicsEmpty", function () {
        return a.c
      }), i.d(t, "StaticStudyGraphics", function () {
        return l.a
      }), i.d(t, "emptyStudyGraphics", function () {
        return l.b
      }), i.d(t, "loadStudyGraphics", function () {
        return l.c
      }), i.d(t, "saveStudyGraphics", function () {
        return l.d
      }), i.d(t, "LiveStudyGraphics", function () {
        return c.a
      }), p = Object(s.getLogger)("Chart.StudyGraphics")
    },
    jkoZ: function (e, t, i) {
      "use strict";
      var n = i("HvwJ"),
        o = {
          _fontHeightCache: {},
          _parsedColorCache: {},
          _parseColor: function (e) {
            var t, i, n;
            return this._parsedColorCache[e] ? this._parsedColorCache[e] : ((t = document.createElement("div")).style.color = e, n = {
              r: (i = t.style.color.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i) || t.style.color.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\,\s*(\d*\.?\d+)\s*\)$/i))[1],
              g: i[2],
              b: i[3],
              a: i[4] || "1"
            }, this._parsedColorCache[e] = n, n)
          },
          getColorFromProperties: function (e, t) {
            var i = 1 - t.value() / 100,
              n = this._parseColor(e.value());
            return "rgba(" + n.r + "," + n.g + "," + n.b + "," + i + ")"
          },
          setColorToProperties: function (e, t, i) {
            var n, o = this._parseColor(e);
            t.setValue("rgb(" + o.r + "," + o.g + "," + o.b + ")"), n = 100 * (1 - o.a), i.setValue(Math.max(0, Math.min(n, 100)))
          },
          _parseFont: function (e) {
            var t, i, n = document.createElement("div");
            return n.style.font = e, i = (t = n.style.fontSize.match(/(\d+)pt/)) && t[0] === n.style.fontSize, {
              family: n.style.fontFamily,
              size: i ? t[1] : "",
              bold: "bold" === n.style.fontWeight,
              italic: "italic" === n.style.fontStyle
            }
          },
          getFontFromProperties: function (e, t, i, n) {
            var o = i.value() ? "bold" : "",
              r = n.value() ? "italic" : "",
              s = t.value() + "pt",
              a = e.value();
            return [o, r, s, a].join(" ")
          },
          setFontToProperties: function (e, t, i, n, o) {
            var r = this._parseFont(e);
            r.family.length > 0 && t.setValue(r.family), r.size.length > 0 && i.setValue(r.size), n.setValue(r.bold), o.setValue(r.italic)
          },
          fontHeight: function (e) {
            var t, i;
            return this._fontHeightCache[e] || ((t = document.createElement("span")).appendChild(document.createTextNode("height")), document.body.appendChild(t), t.style.cssText = "font: " + e + "; white-space: nowrap; display: inline;", i = t.offsetHeight, document.body.removeChild(t), this._fontHeightCache[e] = Math.ceil(i)), this._fontHeightCache[e]
          },
          drawPolyHoverOrPress: function (e, t, i, n) {
            n ? (e.save(), e.fillStyle = "rgba(0, 0, 0, 0.15)", CanvasEx.drawPoly(e, t, !0), e.restore()) : i && (e.save(), e.fillStyle = "rgba(0, 0, 0, 0.1)", CanvasEx.drawPoly(e, t, !0), e.restore())
          },
          repaint: function (e) {
            var t = new n(n.LIGHT_UPDATE);
            t.force = !0, e.invalidate(t)
          },
          roundToMinTick: function (e, t) {
            var i = e.mainSource().base(),
              n = 1 / i;
            return n * Math.round(t / n)
          }
        };
      e.exports = o
    },
    jofe: function (e, t, i) {
      "use strict";

      function n() {
        var e, t, i = new Promise(function (i, n) {
          e = i, t = n
        });
        return {
          promise: i,
          reject: t,
          resolve: e
        }
      }
      i.r(t), i.d(t, "createDeferredPromise", function () {
        return n
      })
    },
    jy4L: function (e, t, i) {
      "use strict";

      function n() {
        return "ss_" + ++r
      }

      function o() {
        return "st" + ++s
      }
      var r, s;
      i.r(t), i.d(t, "makeNextSymbolId", function () {
        return n
      }), i.d(t, "makeNextStudyId", function () {
        return o
      }), r = 0, s = 0
    },
    k4w6: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.d(t, "a", function () {
        return s
      }), n = i("aO4+"), o = i("l4sv"), r = i("8Uy/"), s = function () {
        function e(e) {
          this._lineRendererData = {
            width: 0,
            height: 0,
            points: [new n.Point(0, 0)],
            color: "rgba(0, 0, 0, 0)",
            linewidth: 1,
            linestyle: r.LINESTYLE_SOLID,
            visible: !1
          }, this._lineRenderer = new o.HorizontalLineRenderer, this._invalidated = !0, this._series = e, this._model = e.model(), this._lineRenderer.setData(this._lineRendererData)
        }
        return e.prototype.update = function () {
          this._invalidated = !0
        }, e.prototype.renderer = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._lineRenderer
        }, e
      }()
    },
    k5SP: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e, i, n, r) {
          o.call(this, e, i, n, r), this._barsIndexes = [], this._reportDataBuffer = null, this._reportData = null, this.watchedData = new t, this.model().addStrategySource(this)
        }
        var o = i("GVHu").Study,
          r = i("wURc"),
          s = i("hayr").propertyPages,
          a = ["strategy_props"];
        inherit(n, o), n.prototype.stop = function () {
          o.prototype.stop.call(this), this._avoidRemoveStrategySource ? delete this._avoidRemoveStrategySource : this.model().removeStrategySource(this)
        }, n.prototype.start = function () {
          this.model().addStrategySource(this), o.prototype.start.call(this)
        }, n.prototype.processHibernate = function () {
          this._studyId && !this.isVisible() && (this._avoidRemoveStrategySource = !0), o.prototype.processHibernate.call(this)
        }, n.prototype.onData = function (e) {
          e.method && "data_update" !== e.method && this.watchedData.setValue({
            method: e.method
          }), o.prototype.onData.call(this, e)
        }, n.prototype._onDataUpdated = function (e, t, i) {
          var n = t && t.data && t.data.report;
          n ? (t.isUpdate && this._reportDataBuffer && (n = $.extend(this._reportDataBuffer, n)), this._reportDataBuffer = this._reportData = $.extend(this._reportDataBuffer || {}, n), this.watchedData.setValue({
            method: "data_update",
            nonSeriesData: t
          })) : this.watchedData.setValue({
            method: "data_update",
            nonSeriesData: {
              data: {
                report: this._reportDataBuffer
              }
            }
          }), "nochange" !== i && i.length > 0 && this._collateBarsIndexes(i), o.prototype._onDataUpdated.call(this, e, t, i)
        }, n.prototype._collateBarsIndexes = function (e) {
          var t, i;
          if (Array.isArray(e) && (t = this._reportData && this._reportData.filledOrders) && t.length)
            for (this._barsIndexes.length = 0, i = 0; i < t.length; i++) this._barsIndexes[i] = e[t[i].tm]
        }, n.prototype.reportData = function () {
          return this._reportData
        }, n.prototype.ordersData = function () {
          return this._reportData && this._reportData.filledOrders
        }, n.prototype.barsIndexes = function () {
          return this._barsIndexes
        }, n.prototype.clearData = function () {
          o.prototype.clearData.call(this), this._strategyOrdersPaneView && this._strategyOrdersPaneView.clearItems()
        }, n.prototype.restoreData = function (e) {
          o.prototype.restoreData.apply(this, arguments), this.model().addStrategySource(this), e.reportData && e.barsIndexes && (this._reportData = e.reportData, this._barsIndexes = e.barsIndexes, this.watchedData.setValue({
            method: "data_update",
            nonSeriesData: {
              data: {
                report: this._reportData
              }
            }
          })), e.activeState && (this._activeState = !0)
        }, n.prototype.activeState = function () {
          return this._activeState
        }, n.prototype.updateAllViews = function () {
          o.prototype.updateAllViews.call(this), this._strategyOrdersPaneView && this._strategyOrdersPaneView.update()
        }, n.prototype.createViews = function () {
          o.prototype.createViews.call(this), this._strategyOrdersPaneView = new r(this, this._series, this._model)
        }, n.prototype.state = function (e) {
          var t = o.prototype.state.apply(this, arguments);
          return e && this._reportData && this._barsIndexes && (t.data || (t.data = {}), t.data.reportData = this._reportData, t.data.barsIndexes = this._barsIndexes, t.data.activeState = this.model().activeStrategySource().value() === this), t
        }, n.prototype.getStrategyPropertyPage = function () {
          return s.StudyStrategyPropertyPage
        }, n.prototype._titleInputs = function (e) {
          return this.inputs({
            symbolsForDisplay: !0,
            skipHiddenInputs: !0,
            skipFakeInputs: !1,
            fakeInputsForDisplay: !0,
            asObject: !1,
            skippedGroups: a,
            noExchanges: e
          })
        }, n.prototype._getTelemetryObjectName = function () {
          return "strategy"
        }, n.prototype._getTelemetryAdditionalData = function () {
          return {
            symbol: this.series().actualSymbol(),
            resolution: this.series().interval()
          }
        }, e.exports = n
      }).call(this, i("hY0g"))
    },
    k83o: function (e, t, i) {
      "use strict";
      (function (t) {
        var i, n, o, r, s, a, l, c = TradingView.postMessageWrapper = (n = {}, o = {}, r = {}, s = 0, a = 0, l = "TradingView", window.addEventListener && window.addEventListener("message", function (e) {
          var r;
          try {
            r = JSON.parse(e.data), t.enabled("charting_library_debug_mode") && console.log("PostMessage: incoming message: " + JSON.stringify(r))
          } catch (e) {
            return
          }
          if (r && r.provider && r.provider === l)
            if ("get" === r.type) {
              if (!o[r.name]) return;
              o[r.name].forEach(function (e) {
                "function" == typeof e && e.call(r, r.data, function (e) {
                  var t = {
                    id: r.id,
                    type: "on",
                    name: r.name,
                    client_id: r.client_id,
                    data: e,
                    provider: l
                  };
                  i.postMessage(JSON.stringify(t), "*")
                })
              })
            } else if ("on" === r.type) n[r.client_id] && n[r.client_id][r.id] && (n[r.client_id][r.id].call(r, r.data), delete n[r.client_id][r.id]);
          else if ("post" === r.type) {
            if (!o[r.name]) return;
            o[r.name].forEach(function (e) {
              "function" == typeof e && e.call(r, r.data, function () {})
            })
          }
        }), function (e, t) {
          n[t] = {}, r[t] = e, i = e;
          var c = "";
          return {
            on: function (e, t, i) {
              o[e] && i || (o[e] = []), o[e].push(t)
            },
            get: function (e, i, o) {
              var a = {
                id: s++,
                type: "get",
                name: e,
                client_id: t,
                data: i,
                provider: l
              };
              n[t][a.id] = o, r[t].postMessage(JSON.stringify(a), "*")
            },
            post: function (e, t, i) {
              var n = {
                id: a++,
                type: "post",
                name: t,
                client_id: c,
                data: i,
                provider: l
              };
              e && "function" == typeof e.postMessage && e.postMessage(JSON.stringify(n), "*")
            },
            setClientId: function (e) {
              c = e
            }
          }
        });
        e.exports = c
      }).call(this, i("Kxc7"))
    },
    "k9/m": function (e, t, i) {
      "use strict";

      function n(e, t) {
        return null === e ? t : null === t ? e : {
          min: Math.min(e.min, t.min),
          max: Math.max(e.max, t.max)
        }
      }

      function o(e, t) {
        for (var i = function (e, t) {
            var i = e.length,
              n = t.length,
              o = i + n,
              r = 0,
              s = 0;
            for (; r < i && s < n;) e[r].index < t[s].index ? r++ : e[r].index > t[s].index ? s++ : (r++, s++, o--);
            return o
          }(e, t), n = new Array(i), o = 0, r = 0, s = e.length, a = t.length, l = 0; o < s && r < a;) e[o].index < t[r].index ? (n[l] = e[o], o++) : e[o].index > t[r].index ? (n[l] = t[r], r++) : (n[l] = t[r], o++, r++), l++;
        for (; o < s;) n[l] = e[o], o++, l++;
        for (; r < a;) n[l] = t[r], r++, l++;
        return n
      }
      var r, s, a, l, c, u, h, d;
      i.r(t), i.d(t, "PlotRowSearchMode", function () {
          return c
        }), i.d(t, "REMOVE_INDEX_MAGIC_NUMBER", function () {
          return h
        }), i.d(t, "PlotList", function () {
          return d
        }), i.d(t, "mergeMinMax", function () {
          return n
        }), i.d(t, "mergePlotRows", function () {
          return o
        }), r = i("Eyy1"), s = i("Y7w9"), a = i("uOxu"), l = Object(a.getLogger)("Chart.PlotList"),
        function (e) {
          e[e.NearestLeft = -1] = "NearestLeft", e[e.Exact = 0] = "Exact", e[e.NearestRight = 1] = "NearestRight"
        }(c || (c = {})), u = 30, h = -2e6, d = function () {
          function e(e, t) {
            void 0 === e && (e = null), void 0 === t && (t = null), this._items = [], this._start = 0, this._end = 0, this._shareRead = !1, this._minMaxCache = new Map, this._rowSearchCache = new Map, this._rowSearchCacheWithoutEmptyValues = new Map, this._plotFunctions = e || new Map, this._emptyValuePredicate = t
          }
          return e.prototype.clear = function () {
            this._items = [], this._start = 0, this._end = 0, this._shareRead = !1, this._minMaxCache.clear(), this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear()
          }, e.prototype.first = function () {
            return this.size() > 0 ? this._items[this._start] : null
          }, e.prototype.last = function () {
            return this.size() > 0 ? this._items[this._end - 1] : null
          }, e.prototype.firstIndex = function () {
            return this.size() > 0 ? this._indexAt(this._start) : null
          }, e.prototype.lastIndex = function () {
            return this.size() > 0 ? this._indexAt(this._end - 1) : null
          }, e.prototype.size = function () {
            return this._end - this._start
          }, e.prototype.isEmpty = function () {
            return 0 === this.size()
          }, e.prototype.contains = function (e) {
            return null !== this._search(e, c.Exact)
          }, e.prototype.valueAt = function (e) {
            var t = this.search(e);
            return null !== t ? t.value : null
          }, e.prototype.add = function (e, t) {
            var i, n;
            return this._shareRead ? (l.logDebug("add: readonly collection modification attempt"), !1) : (i = {
                index: e,
                value: t
              }, n = this._search(e, c.Exact),
              this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear(), null === n ? (this._items.splice(this._lowerbound(e), 0, i), this._start = 0, this._end = this._items.length, !0) : (this._items[n] = i, !1))
          }, e.prototype.search = function (e, t, i) {
            var n, o, r, s, a;
            return void 0 === t && (t = c.Exact), void 0 !== (o = (n = i ? this._rowSearchCacheWithoutEmptyValues : this._rowSearchCache).get(e)) && void 0 !== (r = o.get(t)) ? r : null === (s = this._search(e, t, i)) ? null : (a = {
              index: this._indexAt(s),
              value: this._valueAt(s)
            }, void 0 === o && (o = new Map, n.set(e, o)), o.set(t, a), a)
          }, e.prototype.fold = function (e, t) {
            var i, n = t;
            for (i = this._start; i < this._end; ++i) n = e(this._indexAt(i), this._valueAt(i), n);
            return n
          }, e.prototype.findFirst = function (e, t) {
            var i, n, o, r = void 0 !== t && Math.min(this._start + t, this._end) || this._end;
            for (i = this._start; i < r; ++i)
              if (e(n = this._indexAt(i), o = this._valueAt(i))) return {
                index: n,
                value: o
              };
            return null
          }, e.prototype.findLast = function (e, t) {
            var i, n, o, r = void 0 !== t && Math.max(this._end - t, this._start) || this._start;
            for (i = this._end - 1; i >= r; --i)
              if (e(n = this._indexAt(i), o = this._valueAt(i))) return {
                index: n,
                value: o
              };
            return null
          }, e.prototype.each = function (e) {
            var t;
            for (t = this._start; t < this._end && !e(this._indexAt(t), this._valueAt(t)); ++t);
          }, e.prototype.reduce = function (e, t) {
            var i, n = t;
            for (i = this._start; i < this._end; ++i) n = e(n, this._indexAt(i), this._valueAt(i));
            return n
          }, e.prototype.range = function (t, i) {
            var n = new e(this._plotFunctions, this._emptyValuePredicate);
            return n._items = this._items, n._start = this._lowerbound(t), n._end = this._upperbound(i), n._shareRead = !0, n
          }, e.prototype.minMaxOnRangeCached = function (e, t, i) {
            var o, r, s, a;
            if (this.isEmpty()) return null;
            for (o = null, r = 0, s = i; r < s.length; r++) a = s[r], o = n(o, this._minMaxOnRangeCachedImpl(e, t, a));
            return o
          }, e.prototype.minMaxOnRange = function (e, t, i) {
            var o, r, s, a;
            if (this.isEmpty()) return null;
            for (o = null, r = 0, s = i; r < s.length; r++) a = s[r], o = n(o, this._minMaxOnRangeImpl(e, t, a));
            return o
          }, e.prototype.merge = function (e) {
            return this._shareRead ? (l.logDebug("merge: readonly collection modification attempt"), null) : 0 === e.length ? null : this.isEmpty() || e[e.length - 1].index < this._items[0].index ? this._prepend(e) : e[0].index > this._items[this._items.length - 1].index ? this._append(e) : 1 === e.length && e[0].index === this._items[this._items.length - 1].index ? (this._updateLast(e[0]), e[0]) : this._merge(e)
          }, e.prototype.addTail = function (e, t) {
            var i, n, o, r;
            for (void 0 === t && (t = !1), i = 0, t && this._end - this._start > 0 && (i = 1, this._items[this._end - this._start - 1].value = e[0].value), n = i; n < e.length; ++n) {
              if (o = e[n], null === (r = this.lastIndex())) {
                l.logError("Can't add tail to the empty plotlist");
                break
              }
              this.add(r + 1, o.value)
            }
            this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear()
          }, e.prototype.move = function (e) {
            var t, i, n, o, r, s, a;
            if (this._shareRead) l.logDebug("move: readonly collection modification attempt");
            else if (0 !== e.length) {
              for (t = this._items.slice(), i = 0, n = e; i < n.length; i++) o = n[i], null !== (r = this._bsearch(o.old)) && void 0 !== t[r] && (o.new === h ? t[r] = void 0 : (t[r] = {
                index: o.new,
                value: t[r].value
              }, null !== (s = this._bsearch(o.new)) && void 0 !== (a = t[s]) && a.index === o.new && (t[s] = void 0)));
              this._items = t.filter(function (e) {
                return void 0 !== e
              }).sort(function (e, t) {
                return e.index - t.index
              }), this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear(), this._minMaxCache.clear(), this._start = 0, this._end = this._items.length
            }
          }, e.prototype.remove = function (e) {
            var t, i;
            return this._shareRead ? (l.logDebug("remove: readonly collection modification attempt"), null) : null === (t = this._search(e, c.NearestRight)) ? null : (i = this._items.splice(t), this._end = this._items.length, this._minMaxCache.clear(), this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear(), i.length > 0 ? i[0] : null)
          }, e.prototype.state = function () {
            return {
              start: this._start,
              end: this._end,
              data: this._items,
              shareread: this._shareRead
            }
          }, e.prototype.restoreState = function (e) {
            e ? (this._start = e.start, this._end = e.end, this._shareRead = e.shareread, this._items = e.data, this._minMaxCache.clear(), this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear()) : this.clear()
          }, e.prototype._indexAt = function (e) {
            return this._items[e].index
          }, e.prototype._valueAt = function (e) {
            return this._items[e].value
          }, e.prototype._length = function () {
            return this._items.length
          }, e.prototype._search = function (e, t, i) {
            var n = this._bsearch(e);
            if (null === n && t !== c.Exact) switch (t) {
              case c.NearestLeft:
                return this._searchNearestLeft(e, i);
              case c.NearestRight:
                return this._searchNearestRight(e, i);
              default:
                throw new TypeError("Unknown search mode")
            }
            if (!i || null === n || t === c.Exact) return n;
            switch (t) {
              case c.NearestLeft:
                return this._nonEmptyNearestLeft(n);
              case c.NearestRight:
                return this._nonEmptyNearestRight(n);
              default:
                throw new TypeError("Unknown search mode")
            }
          }, e.prototype._nonEmptyNearestRight = function (e) {
            for (var t = Object(r.ensureNotNull)(this._emptyValuePredicate); e < this._end && t(this._valueAt(e));) e += 1;
            return e === this._end ? null : e
          }, e.prototype._nonEmptyNearestLeft = function (e) {
            for (var t = Object(r.ensureNotNull)(this._emptyValuePredicate); e >= this._start && t(this._valueAt(e));) e -= 1;
            return e < this._start ? null : e
          }, e.prototype._searchNearestLeft = function (e, t) {
            var i, n = this._lowerbound(e);
            return n > this._start && (n -= 1), i = n !== this._end && this._indexAt(n) < e ? n : null, t && null !== i ? this._nonEmptyNearestLeft(i) : i
          }, e.prototype._searchNearestRight = function (e, t) {
            var i = this._upperbound(e),
              n = i !== this._end && e < this._indexAt(i) ? i : null;
            return t && null !== n ? this._nonEmptyNearestRight(n) : n
          }, e.prototype._bsearch = function (e) {
            var t = this._lowerbound(e);
            return t === this._end || e < this._items[t].index ? null : t
          }, e.prototype._lowerbound = function (e) {
            return Object(s.lowerbound)(this._items, e, function (e, t) {
              return e.index < t
            }, this._start, this._end)
          }, e.prototype._upperbound = function (e) {
            return Object(s.upperbound)(this._items, e, function (e, t) {
              return t.index > e
            }, this._start, this._end)
          }, e.prototype._plotMinMax = function (e, t, i) {
            var n, o, r = null,
              s = this._plotFunctions.get(i.name);
            if (void 0 === s) throw new Error('Plot "' + i.name + '" is not registered');
            for (n = e; n < t; n++) void 0 === (o = s(this._items[n].value)) || null === o || Number.isNaN(o) || (null === r ? r = {
              min: o,
              max: o
            } : (o < r.min && (r.min = o), o > r.max && (r.max = o)));
            return r
          }, e.prototype._invalidateCacheForRow = function (e) {
            var t = Math.floor(e.index / u);
            this._minMaxCache.forEach(function (e) {
              return e.delete(t)
            })
          }, e.prototype._prepend = function (e) {
            return Object(r.assert)(!this._shareRead, "collection should not be readonly"), Object(r.assert)(0 !== e.length, "plotRows should not be empty"), this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear(), this._minMaxCache.clear(), this._items = e.concat(this._items), this._start = 0, this._end = this._items.length, e[0]
          }, e.prototype._append = function (e) {
            return Object(r.assert)(!this._shareRead, "collection should not be readonly"), Object(r.assert)(0 !== e.length, "plotRows should not be empty"), this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear(), this._minMaxCache.clear(), this._items = this._items.concat(e), this._start = 0, this._end = this._items.length, e[0]
          }, e.prototype._updateLast = function (e) {
            Object(r.assert)(!this.isEmpty(), "plot list should not be empty");
            var t = this._items[this._end - 1];
            Object(r.assert)(t.index === e.index, "last row index should match new row index"), this._invalidateCacheForRow(e), this._rowSearchCache.delete(e.index), this._rowSearchCacheWithoutEmptyValues.delete(e.index), this._items[this._end - 1] = e
          }, e.prototype._merge = function (e) {
            return Object(r.assert)(0 !== e.length, "plot rows should not be empty"), this._rowSearchCache.clear(), this._rowSearchCacheWithoutEmptyValues.clear(), this._minMaxCache.clear(), this._items = o(this._items, e), this._start = 0, this._end = this._items.length, e[0]
          }, e.prototype._minMaxOnRangeCachedImpl = function (e, t, i) {
            var o, s, a, l, c, h, d, p, f, _, m, g, y, v, S;
            if (this.isEmpty()) return null;
            for (o = null, s = Object(r.ensureNotNull)(this.firstIndex()), a = Object(r.ensureNotNull)(this.lastIndex()), l = e - i.offset, c = t - i.offset, l = Math.max(l, s), c = Math.min(c, a), h = Math.ceil(l / u) * u, d = Math.max(h, Math.floor(c / u) * u), p = this._lowerbound(l), f = this._upperbound(Math.min(c, h, t)), o = n(o, this._plotMinMax(p, f, i)), void 0 === (_ = this._minMaxCache.get(i.name)) && (_ = new Map, this._minMaxCache.set(i.name, _)), m = Math.max(h + 1, l); m < d; m += u) g = Math.floor(m / u), void 0 === (y = _.get(g)) && (v = g * u, S = (g + 1) * u - 1, y = this._minMaxOnRangeImpl(v, S, i), _.set(g, y)), o = n(o, y);
            return p = this._lowerbound(d), f = this._upperbound(c), o = n(o, this._plotMinMax(p, f, i))
          }, e.prototype._minMaxOnRangeImpl = function (e, t, i) {
            var n = this._lowerbound(e - i.offset),
              o = Math.min(this._lowerbound(t - i.offset) + 1, this._items.length);
            return this._items[this._end - 1] && this._items[o - 1].index > t - i.offset && (o = n), this._plotMinMax(n, o, i)
          }, e
        }()
    },
    kIXa: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolTimeCycles";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("am+t").TimeCyclesPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Time Cycles"
      }, n.prototype.name = function () {
        return "Time Cycles"
      }, n.prototype.setPoint = function (e, t, i) {
        var n = Object.assign({}, t),
          o = this._points[0],
          r = this._points[1];
        o.price = n.price, r.price = n.price, this._points[e] = n, this.normalizePoints()
      }, n.prototype.addPoint = function (e, t, i) {
        var n, r = o.prototype.addPoint.call(this, e, t, !0);
        return r && (n = this._points[0], this._points[1].price = n.price, i || (this.normalizePoints(), this.createServerPoints())), r
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolTimeCyclesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetooltimecycles", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolTimeCycles = n
    },
    kSsA: function (e, t, i) {
      "use strict";
      t.createInputsPropertyPage = function (e, t) {
        var i = e.getInputsPropertyPage();
        return null == i ? null : new i(e.properties(), t, e)
      }, t.createStudyStrategyPropertyPage = function (e, t) {
        var i = e.getStrategyPropertyPage();
        return null == i ? null : new i(e.properties(), t, e)
      }, t.createStylesPropertyPage = function (e, t) {
        var i = e.getStylesPropertyPage();
        return null == i ? null : new i(e.properties(), t, e)
      }, t.createDisplayPropertyPage = function (e, t) {
        var i = e.getDisplayPropertyPage();
        return null == i ? null : new i(e.properties(), t, e)
      }, t.createVisibilitiesPropertyPage = function (e, t) {
        var i = e.getVisibilitiesPropertyPage();
        return null == i ? null : new i(e.properties(), t, e)
      }, t.hasInputsPropertyPage = function (e) {
        return null !== e.getInputsPropertyPage()
      }, t.hasStylesPropertyPage = function (e) {
        return null !== e.getStylesPropertyPage()
      }
    },
    kYV3: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "PrevCloseSeriesPriceAxisView", function () {
        return r
      }), n = i("mrSG"), o = i("KcY8"), r = function (e) {
        function t(t, i) {
          var n = e.call(this) || this;
          return n._source = t, n._model = i, n
        }
        return n.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          var n, o, r;
          e.visible = !1, n = this._source, this._model.properties().scalesProperties.showSeriesPrevCloseValue.value() && (n.isDWM() || null !== (o = n.prevClose()) && (r = this._source.properties().prevClosePriceLineColor.value(), i.background = r, i.color = this.generateTextColor(r), i.coordinate = o.coordinate, e.text = o.text, e.visible = !0))
        }, t
      }(o.a)
    },
    kZlT: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(t, i) {
          this._options = Object.assign({}, x, i), this._model = t, this._scalesProperties = t.properties().scalesProperties, this.m_width = 0, this._baseIndex = null, this._defaultRightOffsetProperty = new m(C), this.m_rightOffset = C, this._defaultRightOffsetProperty.listeners().subscribe(this, function (e) {
            this.setRightOffset(e.value())
          }), this.m_points = new d, this._barSpacingChanged = new e, this.m_barSpacing = T, this._options.preserveBarSpacing && (this.m_barSpacing = this._scalesProperties.barSpacing.value() || T), this.m_scrollStartPoint = null, this.m_scaleStartPoint = null, this._commonTransitionStartState = null, this.m_tickmarks = new c, this._formattedBySpan = {}, this._onScroll = new e, this._visibleBars = a.invalid(), this._visibleBarsInvalidated = !0, this._visibleBarsChanged = new e, this._leftEdgeIndex = null, this._logicalRangeChanged = new e, this._resetDelegate = new e, this._model.mainSeries().onStyleChanged().subscribe(this, this._invalidateVisibleBars)
        }
        var o = i("Hr11").clamp,
          r = i("ZJKN").BarsRange,
          s = i("ezzr").LogicalRange,
          a = i("bOD6").TimeScaleVisibleRange,
          l = i("x3oK"),
          c = i("GhVi"),
          u = i("HvwJ"),
          h = i("kcTO").numberToStringWithLeadingZero,
          d = i("KVq+").TimePoints,
          p = i("8OdW"),
          f = i("uOxu").getLogger("Chart.TimeScale"),
          _ = i("Kxc7"),
          m = i("tc+8"),
          g = i("Ocx9").saveDefaultProperties,
          y = i("j1f4").easingFunc,
          v = i("beCu").doAnimate,
          S = null,
          b = 50,
          w = _.enabled("high_density_bars") ? .025 : .5,
          P = 5,
          T = p.DEFAULT_BAR_SPACING,
          C = 10,
          x = {
            preserveBarSpacing: !1,
            lockVisibleTimeRangeOnResize: !1
          };
        n.prototype.destroy = function () {
            this._model.mainSeries().onStyleChanged().unsubscribe(this, this._invalidateVisibleBars)
          }, n.prototype.onReset = function () {
            return this._resetDelegate
          }, n.prototype.tickMarks = function () {
            return this.m_tickmarks
          }, n.prototype._invalidateVisibleBars = function () {
            this._visibleBarsInvalidated = !0
          }, n.prototype.reset = function () {
            this._visibleBarsInvalidated = !0, this.m_points = new d, this.m_scrollStartPoint = null, this.m_scaleStartPoint = null, this._clearCommonTransitionsStartState(), this.m_tickmarks.reset(), this._leftEdgeIndex = null, this._resetDelegate.fire()
          }, n.prototype.restoreDefault = function () {
            this._visibleBarsInvalidated = !0, this.setBarSpacing(T), this.resetRightOffset()
          }, n.prototype.restoreRightOffsetPropertyToDefault = function () {
            this._defaultRightOffsetProperty.setValue(C)
          }, n.prototype.rightOffsetDefaultValue = function () {
            return C
          }, n.prototype.setLeftEdgeFix = function (e) {
            var t, i;
            this._leftEdgeIndex = e, (t = this.visibleBarsStrictRange().firstBar() - e) < 0 && (i = this.m_rightOffset - t - 1, this.scrollToOffsetAnimated(i, 500))
          }, n.prototype.baseIndex = function () {
            return this._baseIndex || 0
          }, n.prototype.rightOffset = function () {
            return this.m_rightOffset
          }, n.prototype.defaultRightOffsetProperty = function () {
            return this._defaultRightOffsetProperty
          }, n.prototype.rightOffsetForTimePoint = function (e) {
            var t = this.timeToCoordinate(e);
            return null === t ? null : this._rightOffsetForCoordinate(t)
          }, n.prototype._rightOffsetForCoordinate = function (e) {
            return (this.m_width + 1 - e) / this.m_barSpacing
          }, n.prototype.scrollToRealtime = function (e, t) {
            var i, n, o, r, s = this._defaultRightOffsetProperty.value();
            if (s < 0 && (s = C), e) return i = this, n = this.m_rightOffset, (o = this.maxRightOffset()) > 0 && s > o && (s = o), r = this._model, void v({
              from: n,
              to: s,
              duration: 1e3,
              easing: y.easeInOutQuint,
              onComplete: t,
              onStep: function (e, t) {
                i._visibleBarsInvalidated = !0, i.m_rightOffset = t, i._correctOffset(), r.recalculateAllPanes(), r.invalidate(new u(u.LIGHT_UPDATE)), r.recalcVisibleRangeStudy(r.dataSources())
              }
            });
            this._visibleBarsInvalidated = !0, this.m_rightOffset = s, this._correctOffset(), void 0 !== t && t()
          }, n.prototype.points = function () {
            return this.m_points
          }, n.prototype.width = function () {
            return this.m_width
          }, n.prototype.setWidth = function (e) {
            var t, i;
            !isFinite(e) || e <= 0 || this.m_width !== e && (this._visibleBarsInvalidated = !0, this._options.lockVisibleTimeRangeOnResize && this.m_width && (t = this.m_barSpacing * e / this.m_width, this._tryToUpdateBarSpacing(this.m_barSpacing, t)), null !== this._leftEdgeIndex && this.visibleBarsStrictRange().firstBar() <= this._leftEdgeIndex && (i = this.m_width - e, this.m_rightOffset -= Math.round(i / this.m_barSpacing) + 1),
              this.m_width = e, this._correctOffset())
          }, n.prototype.barSpacing = function () {
            return this.m_barSpacing
          }, n.prototype.setBarSpacing = function (e) {
            void 0 !== e ? this._tryToUpdateBarSpacing(this.m_barSpacing, e) && (this._correctOffset(), this._options.preserveBarSpacing && (g(!0), this._scalesProperties.barSpacing.setValue(this.m_barSpacing), g(!1))) : f.logDebug("setBarSpacing: invalid argument")
          }, n.prototype._tryToUpdateBarSpacing = function (e, t) {
            return e !== t && (this._visibleBarsInvalidated = !0, this.m_barSpacing = t, this._barSpacingChanged.fire(e, t), !0)
          }, n.prototype.barSpacingChanged = function () {
            return this._barSpacingChanged
          }, n.prototype.correctBarSpacing = function () {
            this.isEmpty() || this.points().size() < this.width() / this.barSpacing() && (this.setRightOffset(this._defaultRightOffsetProperty.value()), this.setBarSpacing(Math.min(this.width() / (this.points().size() + this.rightOffset()), b)))
          }, n.prototype.visibleBarsStrictRange = function () {
            return this._visibleBarsInvalidated && (this._visibleBarsInvalidated = !1, this._updateVisibleBars()), this._visibleBars.strictRange()
          }, n.prototype.logicalRange = function () {
            return this._visibleBarsInvalidated && (this._visibleBarsInvalidated = !1, this._updateVisibleBars()), this._visibleBars.logicalRange()
          }, n.prototype._updateVisibleBars = function () {
            var e, t, i, n, o;
            this.isEmpty() ? this._visibleBars.isValid() && (e = this._visibleBars, this._visibleBars = a.invalid(), this._visibleBarsChanged.fire(null, e.strictRange()), this._logicalRangeChanged.fire(null, e.logicalRange())) : (t = this.baseIndex(), i = this.m_width / this.m_barSpacing, o = (n = this.m_rightOffset + t) - i, e = this._visibleBars, this._visibleBars = new a(new s(o, n), this._model.mainSeries().style()), r.compare(e.strictRange(), this._visibleBars.strictRange()) || this._visibleBarsChanged.fire(this._visibleBars.strictRange(), e.strictRange()), s.compare(e.logicalRange(), this._visibleBars.logicalRange()) || this._logicalRangeChanged.fire(this._visibleBars.logicalRange(), e.logicalRange()))
          }, n.prototype.isEmpty = function () {
            return 0 === this.m_width || 0 === this.m_points.size()
          }, n.prototype.indexToCoordinate = function (e, t) {
            var i, n;
            return this.isEmpty() ? 0 : TradingView.isInteger(e) ? (i = this.baseIndex() + this.m_rightOffset - e, n = this.m_width - (i + .5) * this.m_barSpacing, t ? n : Math.round(n)) : 0
          }, n.prototype.barIndexesToCoordinates = function (e) {
            var t, i, n, o, r = this.baseIndex();
            for (t = 0; t < e.length; t++) i = e[t].time, n = r + this.m_rightOffset - i, o = this.m_width - (n + .5) * this.m_barSpacing, e[t].time = Math.round(o), e[t].exactTime = o
          }, n.prototype.indexesToCoordinates = function (e) {
            var t, i, n = this.baseIndex(),
              o = n + this.m_rightOffset,
              r = this.m_width - o * this.m_barSpacing - .5 * this.m_barSpacing;
            for (t = 0; t < e.length; t++) i = r + e[t].x * this.m_barSpacing, e[t].x = Math.round(i)
          }, n.prototype.coordinateToIndex = function (e) {
            var t = this._rightOffsetForCoordinate(e),
              i = this.baseIndex(),
              n = i + this.m_rightOffset - t,
              o = Math.round(1e6 * n) / 1e6;
            return Math.ceil(o)
          }, n.prototype.timeToCoordinate = function (e) {
            function t(e) {
              return e <= 0 || e >= l.m_width
            }
            var i, n, o, r = this.m_points.closestIndexLeft(e),
              s = this.m_points.valueAt(r),
              a = this.indexToCoordinate(r, !0),
              l = this;
            return t(a) ? null : (i = this.barSpacing(), n = function () {
              var e = this.baseIndex();
              return this.m_points.valueAt(e) - this.m_points.valueAt(e - 1)
            }.bind(this)(), t(o = Math.round(a + (e - s) / n * i) + 1) ? null : o)
          }, n.prototype.alignCoordinate = function (e) {
            if (this.isEmpty()) return e;
            var t = this.coordinateToIndex(e);
            return this.indexToCoordinate(t)
          }, n.prototype.timePointToIndex = function (e) {
            return this.m_points.indexOf(e, !0)
          }, n.prototype.indexToTimePoint = function (e) {
            return this.m_points.valueAt(e)
          }, n.prototype.indexToUserTime = function (e) {
            return this.m_tickmarks.indexToTime(e)
          }, n.prototype.marks = function () {
            var e, t, i, n, o, r, s, a, l, c, u;
            if (this.isEmpty()) return null;
            for (e = this.m_barSpacing, t = 5 * ((this._scalesProperties.fontSize.value() || 0) + 4), i = Math.round(t / e), n = this.visibleBarsStrictRange(), o = Math.max(n.firstBar(), n.firstBar() - i), r = Math.max(n.lastBar(), n.lastBar() - i), s = this.m_tickmarks.build(e, t), a = [], l = 0; l < s.length; ++l) o <= (c = s[l]).index && c.index <= r && null !== (u = this.m_tickmarks.indexToTime(c.index)) && a.push({
              coord: this.indexToCoordinate(c.index),
              label: this.formatLabel(u, c.span),
              span: c.span,
              major: c.label >= p.DAY_SPAN ? 1 : 0
            });
            return a
          }, n.prototype.state = function (e) {
            var t = {};
            return t.m_barSpacing = this.barSpacing(), t.m_rightOffset = e ? this.m_rightOffset : this._defaultRightOffsetProperty.value(), e && (t.points = this.m_points.state(), t.tickmarks = this.m_tickmarks.state(), t.width = this.m_width), t
          }, n.prototype.restoreState = function (e, t) {
            var i, n, o;
            void 0 !== e.m_barSpacing && void 0 !== e.m_rightOffset ? (i = e.m_barSpacing, o = (n = e.m_rightOffset < 0 && !t ? C : e.m_rightOffset) < 0 ? C : Math.round(n), this._defaultRightOffsetProperty.setValue(o), this.m_rightOffset = n, t && (this.m_points.restoreState(e.points), this.m_tickmarks.restoreState(e.tickmarks), e.width && this.m_width > 0 && (i *= this.m_width / e.width)), this._tryToUpdateBarSpacing(this.m_barSpacing, i), this._correctOffset()) : f.logDebug("restoreState: invalid state")
          }, n.prototype.setBaseIndex = function (e) {
            "number" == typeof e ? (this._visibleBarsInvalidated = !0, this._baseIndex = e, this._correctOffset()) : f.logDebug("setBaseIndex: invalid argument")
          }, n.prototype.setRightOffset = function (e) {
            void 0 !== e ? (this._visibleBarsInvalidated = !0, this.m_rightOffset = e, this._correctOffset()) : f.logDebug("setRightOffset: invalid argument")
          }, n.prototype.resetRightOffset = function () {
            this.setRightOffset(this._defaultRightOffsetProperty.value())
          }, n.prototype._correctOffset = function () {
            var e, t = this.maxRightOffset();
            this.m_rightOffset > t && (this.m_rightOffset = t, this._visibleBarsInvalidated = !0), null !== (e = this.minRightOffset()) && this.m_rightOffset < e && (this.m_rightOffset = e, this._visibleBarsInvalidated = !0)
          }, n.prototype.minRightOffset = function () {
            var e, t = this.m_points.firstIndex(),
              i = this._baseIndex;
            return null === t || null === i ? null : null !== this._leftEdgeIndex ? (e = this.m_width / this.m_barSpacing, this._leftEdgeIndex - i + e - 1) : t - i - 1 + P
          }, n.prototype.maxRightOffset = function () {
            return this.m_width / this.m_barSpacing - P
          }, n.prototype.startScale = function (e) {
            this.m_scrollStartPoint && this.endScroll(), null === this.m_scaleStartPoint && null === this._commonTransitionStartState && (this.isEmpty() || (this.m_scaleStartPoint = e, this._saveCommonTransitionsStartState()))
          },
          n.prototype._saveCommonTransitionsStartState = function () {
            this._commonTransitionStartState = {
              barSpacing: this.barSpacing(),
              rightOffset: this.rightOffset()
            }
          }, n.prototype._clearCommonTransitionsStartState = function () {
            this._commonTransitionStartState = null
          }, n.prototype.scaleTo = function (e) {
            var t, i;
            null !== this._commonTransitionStartState && (t = o(this.m_width - e, 0, this.m_width), i = o(this.m_width - this.m_scaleStartPoint, 0, this.m_width), 0 !== t && 0 !== i && this.setBarSpacing(this.getValidBarSpacing(this._commonTransitionStartState.barSpacing * t / i)))
          }, n.prototype.getValidBarSpacing = function (e) {
            return void 0 === e && (e = this.barSpacing()), e < w ? w : e > b ? b : e
          }, n.prototype.isValidBarSpacing = function (e) {
            return e >= w && e <= b
          }, n.prototype.endScale = function () {
            null !== this.m_scaleStartPoint && (this.m_scaleStartPoint = null, this._clearCommonTransitionsStartState())
          }, n.prototype.startScroll = function (e) {
            null === this.m_scrollStartPoint && null === this._commonTransitionStartState && (this.isEmpty() || (this.m_scrollStartPoint = e, this._saveCommonTransitionsStartState()))
          }, n.prototype.scrollTo = function (e) {
            if (this._visibleBarsInvalidated = !0, null !== this.m_scrollStartPoint) {
              var t = (this.m_scrollStartPoint - e) / this.barSpacing();
              this.m_rightOffset = this._commonTransitionStartState.rightOffset + t, this._correctOffset(), this._onScroll.fire()
            }
          }, n.prototype.scrollToOffsetAnimated = function (e, t) {
            var i, n, o, r;
            if (!isFinite(e)) throw new RangeError("offset is required and must be finite number");
            if (void 0 === t && (t = 400), !isFinite(t) || t <= 0) throw new RangeError("animationDuration (optional) must be finite positive number");
            i = this, n = this.m_rightOffset, o = +new Date, r = this._model,
              function s() {
                i._visibleBarsInvalidated = !0;
                var a = (new Date - o) / t;
                if (a >= 1) return i.m_rightOffset = e, i._correctOffset(), i._visibleBarsInvalidated = !0, r.recalculateAllPanes(), void r.invalidate(new u(u.LIGHT_UPDATE));
                i.m_rightOffset = n + (e - n) * a, i._correctOffset(), r.recalculateAllPanes(), setTimeout(s, 20)
              }()
          }, n.prototype.endScroll = function () {
            null !== this.m_scrollStartPoint && (this.m_scrollStartPoint = null, this._clearCommonTransitionsStartState())
          }, n.prototype.update = function (e, t, i, n) {
            this._visibleBarsInvalidated = !0, i.length > 0 && this.m_points.merge(e, t, i), this.m_tickmarks.merge(n), this._correctOffset()
          }, n.prototype.addTail = function (e, t, i) {
            var n, o, r;
            for (this.m_tickmarks.removeTail(t), n = e.params, o = this.m_tickmarks.maxIndex + (i ? 0 : 1), r = 0; r < n.marks.length; r++) n.marks[r].index = o + r;
            this.m_tickmarks.addTail(n.marks), this.m_points.addTail(n.changes, i), this.m_rightOffset -= n.changes.length
          }, n.prototype.formatLabel = function (e, t) {
            if (this._formattedBySpan[t]) return this._formattedBySpan[t].format(e.valueOf());
            var i = this;
            return this._formattedBySpan[t] = new l(function (e) {
              return i.formatLabelImpl(new Date(e), t)
            }), this._formattedBySpan[t].format(e)
          }, n.prototype.formatLabelImpl = function (e, t) {
            if (!(e && e instanceof Date)) return "incorrect time";
            var i = this._model.mainSeries().isDWM();
            return t < p.MINUTE_SPAN && !i ? h(e.getUTCHours(), 2) + ":" + h(e.getUTCMinutes(), 2) + ":" + h(e.getUTCSeconds(), 2) : t < p.DAY_SPAN && !i ? h(e.getUTCHours(), 2) + ":" + h(e.getUTCMinutes(), 2) : t < p.WEEK_SPAN ? e.getUTCDate() : t < p.MONTH_SPAN ? e.getUTCDate() : t < p.YEAR_SPAN ? (S || (S = [window.t("Jan"), window.t("Feb"), window.t("Mar"), window.t("Apr"), window.t("May"), window.t("Jun"), window.t("Jul"), window.t("Aug"), window.t("Sep"), window.t("Oct"), window.t("Nov"), window.t("Dec")]), S[e.getUTCMonth()]) : e.getUTCFullYear()
          }, n.prototype.normalizeBarIndex = function (e) {
            var t = 0,
              i = 0,
              n = this.baseIndex();
            return e < this.m_points.firstIndex() ? (t = this.m_points.valueAt(this.m_points.firstIndex()), i = e - this.m_points.firstIndex()) : e > n ? (t = this.m_points.valueAt(n), i = e - n) : (t = this.m_points.valueAt(e), i = 0), {
              time_t: t,
              offset: i
            }
          }, n.prototype.denormalizeTimePoint = function (e) {
            var t = this.m_points.indexOf(e.time_t);
            if (null !== t) return t + e.offset
          }, n.prototype.zoomToBarsRange = function (e, t) {
            if (!(t <= e)) {
              var i = this.baseIndex();
              this.m_rightOffset = t - i, this.setBarSpacing(this.width() / (t - e + 1)), this._visibleBarsInvalidated = !0
            }
          }, n.prototype.canZoomIn = function () {
            return this.m_barSpacing < b
          }, n.prototype.canZoomOut = function () {
            return this.m_barSpacing > w
          }, n.prototype.minBarSpacing = function () {
            return w
          }, n.prototype.maxBarSpacing = function () {
            return b
          }, n.prototype.onScroll = function () {
            return this._onScroll
          }, n.prototype.preserveBarSpacing = function () {
            return this._options.preserveBarSpacing
          }, n.prototype.visibleBarsStrictRangeChanged = function () {
            return this._visibleBarsChanged
          }, n.prototype.logicalRangeChanged = function () {
            return this._logicalRangeChanged
          }, t.TimeScale = n
      }).call(this, i("aIyQ"))
    },
    kcTO: function (e, t, i) {
      "use strict";

      function n(e, t) {
        if (!Object(o.isNumber)(e)) return "n/a";
        if (!Object(o.isInteger)(t)) throw new TypeError("invalid length");
        if (t < 0 || t > 16) throw new TypeError("invalid length");
        if (0 === t) return e.toString();
        return ("0000000000000000" + e.toString()).slice(-t)
      }
      var o, r, s, a, l, c, u, h;
      i.r(t), i.d(t, "customFormatters", function () {
        return l
      }), i.d(t, "formatterOptions", function () {
        return c
      }), i.d(t, "numberToStringWithLeadingZero", function () {
        return n
      }), i.d(t, "PriceFormatter", function () {
        return h
      }), i("YFKU"), o = i("ogJP"), r = i("Ialn"), s = i("uOxu"), a = Object(s.getLogger)("Chart.PriceFormatter"), l = {
        dateFormatter: null,
        timeFormatter: null
      }, c = {
        decimalSign: ".",
        decimalSignFractional: "'"
      }, u = {
        custom: window.t("Price format is invalid."),
        fraction: window.t("Fraction part is invalid."),
        secondFraction: window.t("Second fraction part is invalid.")
      }, h = function () {
        function e(e, t, i, n) {
          if (this.type = "price", t || (t = 1), Object(o.isNumber)(e) && Object(o.isInteger)(e) || (e = 100), e < 0) throw new TypeError("invalid base");
          this._priceScale = e, this._minMove = t, this._minMove2 = n, i && void 0 !== n && n > 0 && 2 !== n && 4 !== n && 8 !== n ? a.logDebug("invalid minmove2") : (this._fractional = i, this.calculateDecimal())
        }
        return e.prototype.isFractional = function () {
            return !!this._fractional
          }, e.prototype.state = function () {
            return {
              fractional: this._fractional,
              fractionalLength: this._fractionalLength,
              minMove: this._minMove,
              minMove2: this._minMove2,
              priceScale: this._priceScale
            }
          },
          e.prototype.calculateDecimal = function () {
            if (this._fractionalLength = 0, this._priceScale > 0 && this._minMove > 0) {
              var e = this._priceScale;
              for (this._fractional && this._minMove2 && (e /= this._minMove2); e > 1;) e /= 10, this._fractionalLength++
            }
          }, e.prototype.format = function (e, t, i, n, o) {
            var s, a;
            return void 0 === n && (n = !0), void 0 === o && (o = !0), s = "", e < 0 ? (s = !1 === n ? "" : "âˆ’", e = -e) : e && !0 === t && (s = "+"), a = this._fractional ? s + this._formatAsFractional(e, i) : s + this._formatAsDecimal(e, i), o ? Object(r.forceLTRStr)(a) : a
          }, e.prototype.parse = function (e) {
            return e = (e = Object(r.stripLTRMarks)(e)).replace("âˆ’", "-"), this._fractional ? this._minMove2 ? this._parseAsDoubleFractional(e) : this._parseAsSingleFractional(e) : this._parseAsDecimal(e)
          }, e.prototype.hasForexAdditionalPrecision = function () {
            return !this._fractional && 10 === this._minMove2
          }, e.serialize = function (e) {
            return e.state()
          }, e.deserialize = function (t) {
            return new e(t.priceScale, t.minMove, t.fractional, t.minMove2)
          }, e.prototype._formatAsDecimal = function (e, t) {
            var i, o, r, s, a;
            return t = t || 0, i = this._fractional ? Math.pow(10, this._fractionalLength || 0) : Math.pow(10, t) * this._priceScale / this._minMove, o = Math.floor(e), (r = +(Math.round(e * i) - o * i).toFixed(this._fractionalLength)) >= i && (r -= i, o += 1), s = "", 1 !== i && (a = void 0 !== this._fractionalLength ? this._fractionalLength : NaN, s = c.decimalSign + n(+r.toFixed(this._fractionalLength) * this._minMove, a + t), s = this._removeEndingZeros(s, t)), o.toString() + s
          }, e.prototype._formatAsFractional = function (e, t) {
            var i, o, r, s, a, l, u, h, d, p = this._priceScale / this._minMove,
              f = Math.floor(e),
              _ = t ? Math.floor(e * p) - f * p : Math.round(e * p) - f * p;
            if (_ === p && (_ = 0, f += 1), i = "", t && (o = (e - f - _ / p) * p, i = n(o = Math.round(o * Math.pow(10, t)), t), i = this._removeEndingZeros(i, t)), !this._fractionalLength) throw new Error("_fractionalLength is not calculated");
            return r = "", this._minMove2 ? (s = ["0", "5"], a = ["0", "2", "5", "7"], l = ["0", "1", "2", "3", "4", "5", "6", "7"], h = n(_ = (_ - (u = _ % this._minMove2)) / this._minMove2, this._fractionalLength), d = 2 === this._minMove2 ? s[u] : 8 === this._minMove2 ? l[u] : a[u], r = h + c.decimalSignFractional + d) : r = n(_ * this._minMove, this._fractionalLength), f.toString() + c.decimalSignFractional + r + i
          }, e.prototype._removeEndingZeros = function (e, t) {
            for (var i = 0; i < t && "0" === e[e.length - 1]; i++) e = e.substr(0, e.length - 1);
            return e
          }, e.prototype._parseAsDecimal = function (e) {
            var t, i = new RegExp(/^(\-?)[0-9]+$/),
              n = i.exec(e);
            return n ? {
              price: t = parseFloat(e),
              res: !0,
              suggest: this.format(t)
            } : (n = new RegExp("^(-?)[0-9]+\\" + c.decimalSign + "[0-9]*$").exec(e)) ? {
              price: t = parseFloat(e.replace(c.decimalSign, ".")),
              res: !0,
              suggest: this.format(t)
            } : {
              error: u.custom,
              res: !1
            }
          }, e.prototype._patchFractPart = function (e, t) {
            var i = {
                0: 0,
                5: 1
              },
              n = {
                0: 0,
                2: 1,
                5: 2,
                7: 3
              };
            return 2 === t ? void 0 === i[e] ? -1 : i[e] : 4 === t ? void 0 === n[e] ? -1 : n[e] : e
          }, e.prototype._parseAsSingleFractional = function (e) {
            var t, i, n, o, r, s = new RegExp(/^(\-?)[0-9]+$/),
              a = s.exec(e);
            return a ? {
              price: t = parseFloat(e),
              res: !0,
              suggest: this.format(t)
            } : (a = new RegExp("^(-?)([0-9]+)\\" + c.decimalSignFractional + "([0-9]+)$").exec(e)) ? (i = !!a[1], n = parseInt(a[2]), o = this._priceScale, (r = this._patchFractPart(parseInt(a[3]), o)) >= o || r < 0 ? {
              error: u.fraction,
              res: !1
            } : (t = n + r / o, i && (t = -t), {
              price: t,
              res: !0,
              suggest: this.format(t)
            })) : {
              error: u.custom,
              res: !1
            }
          }, e.prototype._parseAsDoubleFractional = function (e) {
            var t, i, n, o, r, s, a, l, h = new RegExp(/^(\-?)[0-9]+$/),
              d = h.exec(e);
            return d ? {
              price: t = parseFloat(e),
              res: !0,
              suggest: this.format(t)
            } : (d = new RegExp("^(-?)([0-9]+)\\" + c.decimalSignFractional + "([0-9]+)\\" + c.decimalSignFractional + "([0-9]+)$").exec(e)) ? (i = !!d[1], n = parseInt(d[2]), o = void 0 !== this._minMove2 ? this._minMove2 : NaN, r = this._priceScale / o, s = this._minMove2, a = this._patchFractPart(parseInt(d[3]), r), l = this._patchFractPart(parseInt(d[4]), s), a >= r || a < 0 ? {
              error: u.fraction,
              res: !1
            } : void 0 !== s && l >= s || l < 0 ? {
              error: u.secondFraction,
              res: !1
            } : (t = void 0 !== s ? n + a / r + l / (r * s) : NaN, i && (t = -t), {
              price: t,
              res: !0,
              suggest: this.format(t)
            })) : {
              error: u.custom,
              res: !1
            }
          }, e
      }()
    },
    koRH: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#f7f8fa" d="M0 18h18V0H0z"/><path fill="#ed5565" d="M14 18h4V0h-4zM0 18h4V0H0zm11-8l2-1-1-.5v-1l-2 1 1-2h-1L9 5 8 6.5H7l1 2-2-1v1L5 9l2 1-.5 1h2v1.5h1V11h2z"/></svg>'
    },
    l4sv: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "HorizontalLineRenderer", function () {
        return r
      }), n = i("VdBB"), o = i("jFln"), r = function () {
        function e() {
          this._data = null, this._hitTest = new n.HitTestResult(n.HitTestResult.REGULAR)
        }
        return e.prototype.setData = function (e) {
          this._data = e
        }, e.prototype.setHitTest = function (e) {
          this._hitTest = e
        }, e.prototype.draw = function (e) {
          var t, i;
          null !== this._data && 0 !== this._data.points.length && !1 !== this._data.visible && ((t = this._data.points[0].y) < 0 || t > this._data.height || (i = this._data.width, e.lineCap = "square", e.strokeStyle = this._data.color, e.lineWidth = this._data.linewidth, void 0 !== this._data.linestyle && Object(o.setLineStyle)(e, this._data.linestyle), Object(o.drawLine)(e, 0, t, i, t)))
        }, e.prototype.hitTest = function (e) {
          return null === this._data || !1 === this._data.visible ? null : 0 === this._data.points.length ? null : Math.abs(e.y - this._data.points[0].y) <= 5 ? this._hitTest : null
        }, e
      }()
    },
    l7mP: function (e, t, i) {
      "use strict";

      function n(e, t, n) {
        void 0 === t && (t = {}), Promise.all([i.e("vendors"), i.e(6), i.e(8), i.e(9), i.e(10), i.e(24), i.e(25), i.e(43), i.e(276), i.e(7), i.e("take-chart-image-dialog-impl")]).then(function (o) {
          i("fMMV").getImageOfChart(e, t, n)
        }.bind(null, i)).catch(void 0)
      }

      function o(e, t, n) {
        void 0 === t && (t = {}), Promise.all([i.e("vendors"), i.e(6), i.e(8), i.e(9), i.e(10), i.e(24), i.e(25), i.e(43), i.e(276), i.e(7), i.e("take-chart-image-dialog-impl")]).then(function (o) {
          i("fMMV").getImageOfChartSilently(e, t, n)
        }.bind(null, i)).catch(void 0)
      }
      i.r(t), i.d(t, "getImageOfChart", function () {
        return n
      }), i.d(t, "getImageOfChartSilently", function () {
        return o
      })
    },
    lA7n: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h;
      i.r(t), n = i("Kxc7"), o = i("mrSG"), r = i("ulZB"), s = function (e) {
        function t(t, i) {
          return e.call(this, t, i, "FAVORITE_CHARTS_CHANGED", "loadChartDialog.favorites", {}) || this
        }
        return o.__extends(t, e), t
      }(r.b), a = i("lhgw"), l = i("FBuY"), c = i("Vdly"), u = i("/z0S"), i.d(t, "LoadChartService", function () {
        return h
      }), h = function () {
        function e(e) {
          var t = this;
          void 0 === e && (e = null), this._favoriteChartsService = new s(l.TVXWindowEvents, c), this._chartWidgetCollection = null,
            this._getChartEntry = function (e) {
              return {
                id: e.id,
                url: e.url,
                title: e.name,
                symbol: e.short_symbol,
                interval: e.interval,
                toolsCount: 0,
                modified: e.modified_iso,
                active: function () {
                  return t._isActiveChart(e.id)
                },
                openAction: function () {
                  return Object(a.loadChart)(e)
                },
                deleteAction: function () {
                  return new Promise(function (i) {
                    Object(a.removeChart)(e.image_url, function () {
                      t._deleteChart(e.id), i()
                    })
                  })
                },
                favoriteAction: t._updateFavorites
              }
            }, this._updateFavorites = function (e) {
              return t._favoriteChartsService.set(e)
            }, this._isActiveChart = function (e) {
              return null !== t._chartWidgetCollection && e === t._chartWidgetCollection.metaInfo.id.value()
            }, this._deleteChart = function (e) {
              t._isActiveChart(e) && (n.enabled("saveload_storage_customization") ? null !== t._chartWidgetCollection && t._chartWidgetCollection.clearChartMetaInfo() : location.href = "/chart/" + location.search)
            }, this._chartWidgetCollection = e
        }
        return e.prototype.showLoadDialog = function () {
          Object(u.a)(this._showLoadDialog.bind(this), {
            source: "Load chart",
            sourceMeta: "Chart"
          })
        }, e.prototype._showLoadDialog = function () {
          var e = this;
          (n.enabled("saveload_requires_authentication") && !window.is_authenticated ? Promise.resolve([]) : new Promise(function (e) {
            Object(a.getCharts)(function (t) {
              e(t)
            })
          })).then(function (t) {
            return t.map(e._getChartEntry)
          }).then(function (t) {
            return n = t, o = e._favoriteChartsService.get(), Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(85), i.e(159), i.e(3), i.e(28), i.e(150), i.e("load-chart-dialog")]).then(i.bind(null, "E5yG")).then(function (e) {
              new(0, e.LoadChartDialog)(n, o)
            });
            var n, o
          })
        }, e
      }()
    },
    lCO3: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "Version", function () {
        return o
      }), n = i("Eyy1"), o = function () {
        function e(e, t) {
          this._major = e, this._minor = t
        }
        return e.prototype.major = function () {
          return this._major
        }, e.prototype.minor = function () {
          return this._minor
        }, e.prototype.isZero = function () {
          return 0 === this._major && 0 === this._minor
        }, e.prototype.toString = function () {
          return this._major + "." + this._minor
        }, e.prototype.compareTo = function (e) {
          return this._major < e._major ? -1 : this._major > e._major ? 1 : this._minor < e._minor ? -1 : this._minor > e._minor ? 1 : 0
        }, e.prototype.isLess = function (e) {
          return this.compareTo(e) < 0
        }, e.prototype.isLessOrEqual = function (e) {
          return this.compareTo(e) <= 0
        }, e.prototype.isEqual = function (e) {
          return 0 === this.compareTo(e)
        }, e.prototype.isGreater = function (e) {
          return this.compareTo(e) > 0
        }, e.prototype.isGreaterOrEqual = function (e) {
          return this.compareTo(e) >= 0
        }, e.parse = function (t) {
          var i, o, r;
          if (t instanceof e) return new e(t.major(), t.minor());
          if ("number" == typeof t) return Object(n.assert)(Math.floor(t) === t, "Version should not be a float number"), new e(t, 0);
          if ("string" == typeof t) {
            if (1 === (i = t.split(".")).length) return o = parseInt(i[0], 10), Object(n.assert)(!isNaN(o), "Bad version string: " + t), new e(o, 0);
            if (2 === i.length) return o = parseInt(i[0], 10), Object(n.assert)(!isNaN(o), "Bad version string: " + t), r = parseInt(i[1], 10), Object(n.assert)(!isNaN(r), "Bad version string: " + t), new e(o, r);
            throw new Error("Bad version string (one dot expected): " + t)
          }
          throw new Error("Bad version: " + t)
        }, e.ZERO = new e(0, 0), e
      }()
    },
    lGXz: function (e, t, i) {
      "use strict";

      function n(e) {
        o.call(this, e)
      }
      var o = i("c0/O").PaneRendererAbstractShape;
      inherit(n, o), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c = !1,
          u = Math.round(this.height / 2);
        for (i = 0, n = this.items.length; i < n; i++)(o = this.items[i]).style && null != o.style.color ? (r = o.style.color, s = o.style.borderColor) : (r = this._color, s = this._borderColor), r !== t && (t = r, c && (e.fill(), e.stroke()), e.beginPath(), e.fillStyle = r, e.strokeStyle = s), a = o.x - u, l = o.y + this._vertOffset - u, e.rect(a, l, this.height, this.height), c = !0;
        c && (e.fill(), e.stroke())
      }, t.PaneRendererSquare = TradingView.PaneRendererSquare = n
    },
    lH3v: function (e, t, i) {},
    lJvs: function (e, t, i) {
      "use strict";

      function n(e) {
        a.call(this, e);
        var t = this;
        l.hideMarksOnBars().subscribe(this, function () {
          t._properties.visible.setValue(!l.hideMarksOnBars().value())
        }), this._paneView = new o(this)
      }

      function o(e, t) {
        this.source = e, this._rendererFactory = t, this.stylesCache = {}, this.templatesCache = {}, this._lollipops = {}, this._createLollipops()
      }
      var r = i("aO4+").Point,
        s = i("vAx0").ESDPaneView,
        a = i("fTGZ").BarsMarksContainer,
        l = i("mMWL"),
        c = i("FQhm"),
        u = i("6xeX").Tooltip,
        h = i("zDbI").CHART_FONT_FAMILY;
      inherit(n, a), n.prototype._initialize = function (e) {
        this._properties.visible.setValue(!0)
      }, n.prototype.userEditEnabled = function () {
        return !1
      }, n.prototype._constructor = "UserDefinedTimescaleMarks", n.prototype._plateViewData = function (e) {
        return {
          text: e.text
        }
      }, n.prototype.onClicked = function () {
        var e = this._model.lastHittestData().id;
        c.emit("onTimescaleMarkClick", e)
      }, n.prototype.clearMarks = function () {
        a.prototype.clearMarks.call(this), this._paneView.clearCaches(), this.onNeedRepaint.fire()
      }, n.prototype._getData = function (e) {
        var t, i, n, o = this._model.mainSeries().symbolInfo();
        o && (t = this.roundRange(this._rangeDifference(e)), i = this, n = this._model.mainSeries().properties().interval.value(), ChartApiInstance.getTimescaleMarks(o, t.start, t.end, function (t) {
          t.forEach(function (e) {
            i._marks[e.id] = e
          }, i), i._loadedRange = i._rangeUnion(e, i._loadedRange), i.onNeedRepaint.fire()
        }, n))
      }, n.prototype.updatePlateData = function (e, t) {
        return t.barWidth = this.barWidth(), t.text = e.text, t.tooltipMargin = -1 * Math.max(e.minSize / 2, .4 * this.barWidth()), t
      }, n.prototype.hasContextMenu = function () {
        return !1
      }, n.prototype.paneViews = function () {
        return this._properties.visible.value() ? [this._paneView] : []
      }, n.prototype.onClickOutside = function (e) {
        this._paneView.onClickOutside(e)
      }, inherit(o, s), o.prototype._createLollipops = function () {
        var e = this.source._model.timeScale(),
          t = s.prototype._getY.call(this.source),
          i = this.source._model.lastHittestData(),
          n = this;
        Object.keys(this.source._marks).forEach(function (o) {
          var s = this.source._marks[o],
            a = s.id;
          n._lollipops[a] = {
            id: a,
            basePoint: new r(e.indexToCoordinate(e.timePointToIndex(s.tickmark)) + 1, t),
            hovered: i && i.id === a || a === n.getLastClickedLollipopId(),
            barY: null,
            label: s.label,
            color: s.color,
            items: s.tooltip,
            tooltip: n._lollipops.hasOwnProperty(a) ? n._lollipops[a].tooltip : new u,
            visible: !0
          }
        }, this)
      }, o.prototype.clearCaches = function () {
        this._lollipops = {}
      }, o.prototype.update = function () {
        this._createLollipops()
      }, o.prototype.renderer = function () {
        return this.update(),
          s.prototype.renderer.call(this)
      }, o.prototype._generateTemplateStyle = function (e, t, i) {
        var n, o, r = e + t + i;
        return r in this.stylesCache || (n = "default" !== e, o = {
          strokeStyle: t,
          lineWidth: 1,
          fillStyle: "white",
          barLine: {
            lineStyle: CanvasEx.LINESTYLE_DASHED
          },
          lollipop: {
            width: 32,
            height: 96,
            circleHeight: 16,
            radius: 12,
            lineWidth: 1.5,
            fillStyle: n ? t : "white",
            fillCircle: n,
            strokeStyle: "#E2745B",
            text: {
              label: i,
              strokeStyle: n ? "white" : t,
              font: "normal 12px " + h
            }
          }
        }, this.stylesCache[r] = o), this.stylesCache[r]
      }, o.prototype.getTemplate = function (e, t) {
        var i = e + t.color + t.label;
        return i in this.templatesCache || (this.templatesCache[i] = this.createTemplate(this._generateTemplateStyle(e, t.color, t.label))), this.templatesCache[i]
      }, o.prototype.getStyle = function (e, t) {
        return this._generateTemplateStyle(e, t.color, t.label)
      }, o.prototype.createText = function (e, t) {
        "string" == typeof e.items ? t.addTextLine(e.items) : Array.isArray(e.items) && e.items.forEach(function (e) {
          t.addTextLine(e)
        })
      }, o.prototype.hasTooltip = function (e) {
        return !!e.tooltip && e.tooltip.length
      }, e.exports = n
    },
    "lNN+": function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolTrianglePattern";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("Jej9").LineToolTrianglePatternPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 4
      }, n.prototype.title = function () {
        return "Triangle Pattern"
      }, n.prototype.name = function () {
        return "Triangle Pattern"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolTrianglePatternStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetooltrianglepattern", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolTrianglePattern = n
    },
    lTLF: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), n = i("Hr11"), o = 1e-9, r = function () {
          function e(e, t) {
            if (this._base = e, this._integralDividers = t, Object(n.isBaseDecimal)(this._base)) this._fractionalDividers = [2, 2.5, 2];
            else {
              this._fractionalDividers = [];
              for (var i = this._base; 1 !== i;) {
                if (i % 2 == 0) this._fractionalDividers.push(2), i /= 2;
                else {
                  if (i % 5 != 0) throw new Error("unexpected base");
                  this._fractionalDividers.push(2), this._fractionalDividers.push(2.5), i /= 5
                }
                if (this._fractionalDividers.length > 100) throw new Error("something wrong with base")
              }
            }
          }
          return e.prototype.tickSpan = function (e, t, i) {
            for (var r, s, a, l = 0 === this._base ? 0 : 1 / this._base, c = o, u = Math.pow(10, Math.max(0, Math.ceil(Object(n.log10)(e - t)))), h = 0, d = this._integralDividers[0]; r = Object(n.greaterOrEqual)(u, l, c) && u > l + c, s = Object(n.greaterOrEqual)(u, i * d, c), a = Object(n.greaterOrEqual)(u, 1, c), r && s && a;) u /= d, d = this._integralDividers[++h % this._integralDividers.length];
            if (u <= l + c && (u = l), u = Math.max(1, u), this._fractionalDividers.length > 0 && Object(n.equal)(u, 1, c))
              for (h = 0, d = this._fractionalDividers[0]; Object(n.greaterOrEqual)(u, i * d, c) && u > l + c;) u /= d, d = this._fractionalDividers[++h % this._fractionalDividers.length];
            return u
          }, e
        }(),
        i.d(t, "PriceTickMarkBuilder", function () {
          return a
        }), s = 2.5, a = function () {
          function e(e, t, i, n) {
            this._marks = [], this._priceScale = e, this._base = t, this._coordinateToLogicalFunc = i, this._logicalToCoordinateFunc = n
          }
          return e.prototype.base = function () {
            return this._base
          }, e.prototype.setBase = function (e) {
            if (e < 0) throw new Error("base < 0");
            this._base = e
          }, e.prototype.tickSpan = function (e, t) {
            var i, o, s, a, l, c;
            if (e < t) throw new Error("high < low");
            return i = this._priceScale.height(), o = (e - t) * this._tickMarkHeight() / i, s = new r(this._base, [2, 2.5, 2]), a = new r(this._base, [2, 2, 2.5]), l = new r(this._base, [2.5, 2, 2]), (c = []).push(s.tickSpan(e, t, o)), c.push(a.tickSpan(e, t, o)), c.push(l.tickSpan(e, t, o)), Object(n.min)(c)
          }, e.prototype.rebuildTickMarks = function () {
            var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f = this._priceScale;
            if (this._marks = [], !f.isEmpty() && null !== (e = f.mainSource()) && (null === (t = e.firstValue()) && (t = 0), i = f.height(), n = this._coordinateToLogicalFunc(i - 1, t), o = this._coordinateToLogicalFunc(0, t), (r = Math.max(n, o)) !== (s = Math.min(n, o))))
              for (l = r % (a = this.tickSpan(r, s)), l += l < 0 ? a : 0, c = r >= s ? 1 : -1, u = null, h = f.formatter(), d = r - l; d > s; d -= a) p = this._logicalToCoordinateFunc(d, t, !0), null !== u && Math.abs(p - u) < this._tickMarkHeight() || (this._marks.push({
                coord: Math.round(p),
                label: h.format(d)
              }), u = p, f.isLog() && (a = this.tickSpan(d * c, s)))
          }, e.prototype.marks = function () {
            return this._marks
          }, e.prototype._fontHeight = function () {
            return this._priceScale.fontSize()
          }, e.prototype._tickMarkHeight = function () {
            return Math.ceil(this._fontHeight() * s)
          }, e
        }()
    },
    lUQk: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "SeriesBase", function () {
        return l
      }), n = i("mrSG"), o = i("7ktv"), r = i("n5al"), s = i("kcTO"), a = i("dfhE"), (l = function (e) {
        function t(t) {
          var i = e.call(this, t) || this;
          return i._paneView = null, i._base = 100, i._formatter = new s.PriceFormatter(i._base), i._ignoreMinMoveFormatter = new s.PriceFormatter(i._base), i
        }
        return n.__extends(t, e), t.prototype.formatter = function (e) {
          return void 0 === e && (e = !0), e ? this._formatter : this._ignoreMinMoveFormatter
        }, t.prototype.hasClosePrice = function () {
          return this.properties().style.value() !== a.STYLE_HILO
        }, t.prototype.autoScaleInfo = function (e, t) {
          var i, n = this.priceRange(e, t);
          return null === this._paneView ? {
            range: n
          } : {
            range: n,
            topPixelMargin: (i = this._paneView).topPixelMargin ? i.topPixelMargin() : void 0,
            bottomPixelMargin: i.bottomPixelMargin ? i.bottomPixelMargin() : void 0
          }
        }, t.prototype.base = function () {
          return this._base
        }, t.prototype._recreateFormatter = function () {
          this._formatter = Object(r.createSeriesFormatter)(this.symbolInfo(), this.properties().minTick.value()), this._ignoreMinMoveFormatter = Object(r.createSeriesFormatter)(this.symbolInfo(), this.properties().minTick.value(), !0), this.priceScale() && this.priceScale().updateFormatter(), this._formatterChanged.fire()
        }, t
      }(o.PriceDataSource)).prototype.superclass = o.PriceDataSource
    },
    "lW/c": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i("P5fv"), i("YFKU"), n = i("hY0g"), o = i.n(n), r = i("HySD"), s = function () {
        function e(e) {
          var t, i, n, r, s = this;
          for (this._document = e, this.isFullscreen = new o.a, (t = function () {
              var e, t, i = ["fullscreenElement", "webkitFullscreenElement", "mozFullscreenElement", "mozFullScreenElement", "msFullscreenElement"];
              for (e = 0; e < i.length; e++)
                if ((t = i[e]) in s._document) {
                  s.isFullscreen.setValue(!!s._document[t]);
                  break
                }
            })(), i = 0, n = ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"]; i < n.length; i++) r = n[i], e.addEventListener(r, t, !1)
        }
        return e.prototype.enter = function () {
          var e, t, i, n = this._document.documentElement;
          for (e = 0, t = ["requestFullscreen", "mozRequestFullScreen", "webkitRequestFullscreen", "msRequestFullscreen"]; e < t.length; e++)
            if ("function" == typeof n[i = t[e]]) {
              n[i]();
              break
            } this.isFullscreen.setValue(!0)
        }, e.prototype.exit = function () {
          var e, t, i, n = this._document;
          for (e = 0, t = ["exitFullscreen", "mozCancelFullScreen", "mozExitFullscreen", "webkitExitFullscreen", "msExitFullscreen"]; e < t.length; e++)
            if ("function" == typeof n[i = t[e]]) {
              n[i]();
              break
            } this.isFullscreen.setValue(!1)
        }, e
      }(), a = i("GLdp"), i.d(t, "Root", function () {
        return l
      }), l = function () {
        function e(e) {
          this._window = e, this._fullscreenApi = new s(e.document), this._initFullscreen()
        }
        return e.prototype.allocate = function () {
          var e, t, i, n = this;
          return this.free(), e = this._window.document, t = $("<div>", e).addClass("js-rootresizer__contents").css({
            position: "relative",
            width: "100%",
            height: "100%"
          }).prependTo(e.body), this._visibilityApi = new a.a(this._window.document), (i = {
            alive: new o.a(!0),
            fullscreenable: new o.a(!0),
            body: new o.a(t),
            width: new o.a,
            height: new o.a,
            availWidth: new o.a,
            availHeight: new o.a,
            visible: this._visibilityApi.isVisible,
            fullscreen: this._fullscreenApi.isFullscreen,
            remove: function () {
              i.alive.setValue(!1)
            },
            attach: function () {
              i.alive.setValue(!1), n._window.close()
            },
            requestFullscreen: function () {
              n._requestFullscreen()
            },
            exitFullscreen: function () {
              n._exitFullscreen()
            }
          }).alive.subscribe(function (e) {
            e || i !== n._area || n.free()
          }), this._area = i, this._resizeHandler = function () {
            var e = i.body.value()[0],
              t = e.clientWidth || 800,
              n = e.clientHeight || 600;
            i.availHeight.setValue(n), i.availWidth.setValue(t), i.height.setValue(n), i.width.setValue(t)
          }, this._resizeHandler(), $(this._window).on("resize", this._resizeHandler), new r.ResizerDetacherState(i).bridge()
        }, e.prototype.free = function () {
          if (this._resizeHandler && ($(this._window).off("resize", this._resizeHandler), this._resizeHandler = void 0), this._visibilityApi && (this._visibilityApi.destroy(), this._visibilityApi = void 0), this._area) {
            var e = this._area;
            this._area = void 0, e.alive.setValue(!1), e.body.value().remove()
          }
        }, e.prototype._requestFullscreen = function () {
          this._fullscreenApi.enter()
        }, e.prototype._exitFullscreen = function () {
          this._fullscreenApi.exit()
        }, e.prototype._initFullscreen = function () {
          var e = this,
            t = this._window.document;
          this._fullscreenApi.isFullscreen.subscribe(function (i) {
            i ? (e._$exitFullscreenButton = $("<div>", t).addClass("tv-exit-fullscreen-button").text($.t("Exit Full Screen (ESC)")).on("click", function (t) {
                t.preventDefault(), e._exitFullscreen()
              }).appendTo(t.body), e._onExitFullscreenEsc = function (t) {
                27 === t.keyCode && (t.preventDefault(), e._exitFullscreen())
              },
              $(t).on("keyup", e._onExitFullscreenEsc)) : (e._$exitFullscreenButton && (e._$exitFullscreenButton.remove(), e._$exitFullscreenButton = void 0), e._onExitFullscreenEsc && ($(t).off("keyup", e._onExitFullscreenEsc), e._onExitFullscreenEsc = void 0)), e._resizeHandler && e._resizeHandler()
          })
        }, e
      }()
    },
    lfUq: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 12" width="25" height="12"><rect width="100%" height="100%" fill="currentColor" rx="6"/><path xmlns="http://www.w3.org/2000/svg" fill="#FFF" d="M8.414 4.18V9H7.398V4.18h-1.82v-.903h4.738v.903H8.414zm1.816 1.91c0-.815.224-1.505.67-2.069.447-.563 1.044-.845 1.791-.845.823 0 1.452.255 1.887.765.435.51.652 1.227.652 2.149 0 .922-.227 1.653-.681 2.195-.455.542-1.1.813-1.936.813-.768 0-1.357-.269-1.767-.805-.41-.536-.616-1.27-.616-2.203zm1.055 0c0 .67.113 1.187.34 1.555.227.367.556.55.988.55.508 0 .895-.18 1.162-.539.267-.36.4-.881.4-1.566 0-1.341-.494-2.012-1.484-2.012-.453 0-.8.182-1.043.545-.242.363-.363.852-.363 1.467zm5.86.805V9h-1.016V3.281a49.623 49.623 0 0 1 1.187-.043c.904 0 1.565.139 1.983.416.418.278.627.71.627 1.3 0 1.312-.774 1.968-2.32 1.968-.115 0-.269-.01-.461-.027zm0-2.735v1.832c.171.018.307.028.406.028.463 0 .802-.078 1.015-.233.214-.155.32-.407.32-.756 0-.594-.477-.89-1.433-.89-.107 0-.21.006-.308.02z"/></svg>'
    },
    lhgw: function (e, t, i) {
      "use strict";
      e.exports = i("fyLy")
    },
    ljE9: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = r.get(e);
        return i instanceof Function ? i(t) : i && i[t]
      }

      function o(e, t, i) {
        var n, o;
        i instanceof Function ? r.set(e, i) : ((o = void 0 === (n = r.get(e)) || n instanceof Function ? {} : n)[t] = i, r.set(e, o))
      }
      i.d(t, "a", function () {
        return n
      }), i.d(t, "b", function () {
        return o
      });
      var r = new WeakMap
    },
    ljrM: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "timeFrames", function () {
        return n
      }), i("YFKU"), n = {
        "1d": {
          text: window.t("1D"),
          value: "1d",
          targetResolution: "1",
          description: window.t("%d day", {
            plural: "%d days",
            count: 1
          }).replace("%d", "1")
        },
        "5d": {
          text: window.t("5D"),
          value: "5d",
          targetResolution: "5",
          description: window.t("%d day", {
            plural: "%d days",
            count: 5
          }).replace("%d", "5")
        },
        "1m": {
          text: window.t("1M"),
          value: "1m",
          targetResolution: "30",
          description: window.t("%d month", {
            plural: "%d months",
            count: 1
          }).replace("%d", "1")
        },
        "3m": {
          text: window.t("3M"),
          value: "3m",
          targetResolution: "60",
          description: window.t("%d month", {
            plural: "%d months",
            count: 3
          }).replace("%d", "3")
        },
        "6m": {
          text: window.t("6M"),
          value: "6m",
          targetResolution: "120",
          description: window.t("%d month", {
            plural: "%d months",
            count: 6
          }).replace("%d", "6")
        },
        ytd: {
          text: window.t("YTD"),
          value: "ytd",
          targetResolution: "D"
        },
        "12m": {
          text: window.t("1Y"),
          value: "12m",
          targetResolution: "D",
          description: window.t("%d year", {
            plural: "%d years",
            count: 1
          }).replace("%d", "1")
        },
        "60m": {
          text: window.t("5Y"),
          value: "60m",
          targetResolution: "W",
          description: window.t("%d year", {
            plural: "%d years",
            count: 5
          }).replace("%d", "5")
        },
        all: {
          text: window.t("All"),
          value: "all",
          targetResolution: "M"
        }
      }
    },
    loH8: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        this._cache = e, this._cacheRect = t, this._targetRect = i
      }
      var o = i("aO4+"),
        r = o.Point,
        s = o.box,
        a = i("f6yo").pointInBox,
        l = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        e.translate(.5, .5), e.drawImage(this._cache, this._cacheRect.left, this._cacheRect.top, this._cacheRect.width, this._cacheRect.height, this._targetRect.left, this._targetRect.top, this._targetRect.width, this._targetRect.height), e.translate(-.5, -.5)
      }, n.prototype.hitTest = function (e) {
        var t = new r(this._targetRect.left, this._targetRect.top),
          i = t.add(new r(this._targetRect.width, this._targetRect.height));
        return a(e, s(t, i)) ? new l(l.REGULAR) : null
      }, e.exports = n
    },
    "m/cY": function (e, t, i) {
      "use strict";

      function n(e) {
        return new r.a(e)
      }
      var o, r;
      i.d(t, "a", function () {
        return n
      }), o = i("tc+8"), r = i.n(o)
    },
    m6s1: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), n = i("mrSG"), o = i("P5fv"), i("YFKU"), r = i("bSeV"), s = i("brCa"), a = i("+h+m"), l = i("Cu4q"), $("body").on("click", ".js-follow-user", function (e) {
        var t = this,
          o = $(e.currentTarget),
          r = o.data("id");
        window.runOrSignIn(function () {
          return n.__awaiter(t, void 0, void 0, function () {
            var e;
            return n.__generator(this, function (t) {
              return o.is(".self") || (e = o.is(".js-follow-user--followed") ? 0 : 1, Object(a.protectedFetch)("/social/follow-the-user/", {
                follow: e,
                targetId: r
              }, "follow").then(function (e) {
                "max_followings_exceed" !== e.error_code ? e.error ? Object(s.showNoticeDialog)({
                  content: e.error,
                  title: e.errorTitle || $.t("Error")
                }) : $(".js-follow-user-" + r).toggleClass("js-follow-user--followed").toggleClass("i-checked") : Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(3), i.e("create-dialog")]).then(function (e) {
                  var t = i("YDhE").createDialog,
                    n = {
                      type: "modal",
                      closeOnEsc: !1,
                      closeOnOutsideClick: !1,
                      closeButton: !1,
                      width: 546,
                      contentWrapTemplate: '\n\t\t\t\t\t\t\t\t\t\t<div class="tv-dialog__section tv-dialog__section--no-border">\n\t\t\t\t\t\t\t\t\t\t\t<div class="tv-text"></div>\n\t\t\t\t\t\t\t\t\t\t</div>',
                      content: '\n\t\t\t\t\t\t\t\t\t\t<div class="tv-dialog__header">\n\t\t\t\t\t\t\t\t\t\t\t<div class="tv-dialog__header-logo">' + l + '</div>\n\t\t\t\t\t\t\t\t\t\t\t<h2 class="tv-dialog__header-title">' + $.t("Unfollow some authors") + '</h2>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p class="tv-text__font tv-text__font--size_semilarge">\n\t\t\t\t\t\t\t\t\t\t\t\t' + $.t("Sorry, follow limit reached and you cannot follow more authors without removing some first.") + "\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>",
                      actions: [{
                        name: "goToProfile",
                        type: "primary",
                        text: $.t("Go to Profile"),
                        key: 13
                      }, {
                        addClass: "tv-button--no-padding i-float_left",
                        name: "cancel",
                        type: "link",
                        text: $.t("No thanks"),
                        method: "close"
                      }]
                    },
                    o = t(n);
                  o.on("action:goToProfile", function (e) {
                    window.location.replace("/u/" + window.user.username + "/#following-people"), e.destroy()
                  }), o.open()
                }.bind(null, i)).catch(void 0)
              }).catch(function (e) {
                Object(s.showNoticeDialog)({
                  content: e.message,
                  title: $.t("Oops!")
                })
              })), [2]
            })
          })
        }, {
          source: "Follow user",
          verifiedPhoneRequired: !0
        })
      })
    },
    mE5r: function (e, t, i) {
      "use strict";

      function n(e) {
        return e / 11
      }
      var o, r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T;
      i.r(t), o = i("mrSG"), r = i("Eyy1"), s = i("ikwP"), a = i("aO4+"), l = i("XlJ7"), c = i("EsvI"), u = i("OsWk"), h = i("rL76"), d = i("zDbI"),
        p = parseInt(h.labelheight), f = parseInt(h.bottommargin), _ = function () {
          function e() {
            this._wrapper = document.createElement("div"), this._element = document.createElement("div"), this._labelElement = document.createElement("div"), this._gearElement = document.createElement("div"), this._currentScale = 1, this._info = null, this._mode = "auto", this._wrapper.appendChild(this._element), this._wrapper.classList.add(h.wrapper), this._element.classList.add(h.label), this._labelElement.className = h.symbol, this._element.appendChild(this._labelElement), this._gearElement.className = h.gear, this._gearElement.innerHTML = u, this._element.appendChild(this._gearElement)
          }
          return e.prototype.getElement = function () {
            return this._wrapper
          }, e.prototype.setMode = function (e) {
            this._mode !== e && (this._mode = e)
          }, e.prototype.align = function (e, t) {
            var i = n(t);
            Math.abs(i - this._currentScale) > .1 && (this._currentScale = i, Math.abs(this._currentScale - 1) > .1 ? this._element.style.transform = "scale(" + this._currentScale + ")" : (this._currentScale = 1, this._element.style.transform = ""))
          }, e.prototype.drawLabelForScreenshot = function (e, t) {
            var i, o, r;
            null !== this._info && "gear" !== this._mode && (i = Object(l.makeFont)(t.fontSize, d.CHART_FONT_FAMILY), e.fillStyle = c.themes[t.theme].getThemedColor("color-price-axis-label-back"), e.globalAlpha = .5, e.beginPath(), o = n(t.fontSize) * p / 2, r = Object(a.point)(t.offset + t.width / 2, t.height / 2), e.arc(r.x, r.y, o, 0, 2 * Math.PI, !0), e.fill(), e.globalAlpha = 1, e.fillStyle = c.themes[t.theme].getThemedColor("color-price-axis-label-text"), e.textAlign = "center", e.font = i, e.textBaseline = "middle", e.fillText(this._info.label, r.x, r.y))
          }, e.prototype.setAxisNameInfo = function (e) {
            this._info = e, null !== e && (this._labelElement.textContent = e.label)
          }, e.height = function (e) {
            return (p + f) * e
          }, e
        }(), m = i("aIyQ"), g = i.n(m), y = i("S8xo"), v = i("5VQP"), S = i("ljE9"), b = {
          enableTooltip: !0,
          showLabels: !0,
          enableMenu: !0,
          enableHighlight: !0
        }, w = function () {
          function e(e, t, i, n, r) {
            var a = this;
            this._invalidated = !0, this._size = new s.Size(0, 0), this._offset = 0, this._axisInfo = null, this._onLabelHovered = new g.a, this._highlighted = !1, this._labelMode = "auto", this._fixedLabelMode = null, this._isLeft = "left" === e, this._rendererOptionsProvider = n.rendererOptionsProvider, this._sourcesTitlesProvider = n.sourcesTitlesProvider, this._contextMenuItemsProvider = n.contextMenuItemsProvider, this._backgroundBasedTheme = n.backgroundBasedTheme, this._properties = t, this._axisInfo = i, this._labelOptions = o.__assign({}, b, r), this._properties.backgroundColor.subscribe(this, this._onPropertyChanged), this._properties.lineColor.subscribe(this, this._onPropertyChanged), this._cell = document.createElement("div"), this._cell.classList.add(h["price-axis-stub"]), this._labelOptions.enableTooltip && this._cell.classList.add("apply-common-tooltip", "common-tooltip-html"), this._cell.style.width = "25px", this._cell.style.height = "100%", this._cell.style.position = "absolute", this._cell.style.left = "0", this._cell.style.overflow = "hidden", this._labelOptions.showLabels ? (this._label = new _, this._label.setAxisNameInfo(this._axisInfo), this._cell.appendChild(this._label.getElement()),
              this._labelOptions.enableTooltip && Object(S.b)(this._cell, "text", function (e) {
                return a._tooltipContent()
              })) : this._label = null, this._mouseEventHandler = new y.MouseEventHandler(this._cell, this, !0, !1), this._canvas = Object(s.addCanvasTo)(this._cell, new s.Size(16, 16)), this._canvas.style.position = "absolute", this._canvas.style.left = "0", this._canvas.style.top = "0", this._ctx = this._canvas.getContext("2d")
          }
          return e.prototype.destroy = function () {
            this._properties.backgroundColor.unsubscribe(this, this._onPropertyChanged), this._properties.lineColor.unsubscribe(this, this._onPropertyChanged), this._mouseEventHandler.destroy(), $(this._cell).remove()
          }, e.prototype.mouseEnterEvent = function (e) {
            null !== this._label && "symbol" !== this._labelMode && this._labelOptions.enableHighlight && this._setHighlighted(!0)
          }, e.prototype.mouseLeaveEvent = function (e) {
            "symbol" !== this._labelMode && this._setHighlighted(!1)
          }, e.prototype.mouseDownEvent = function (e) {
            var t = this;
            null === this._fixedLabelMode && "symbol" !== this._labelMode && this._labelOptions.enableMenu && this._labelOptions.showLabels ? (this._fixedLabelMode = this._labelMode, this.setLabelMode("gear"), v.ContextMenuManager.createMenu(this._contextMenuItemsProvider(), {
              statName: "PriceScaleLabelContextMenu"
            }, function () {
              t.setLabelMode(Object(r.ensureNotNull)(t._fixedLabelMode)), t._fixedLabelMode = null
            }).then(function (e) {
              return e.show(function (e, i) {
                var n = t._cell.getBoundingClientRect();
                return {
                  clientX: t._isLeft ? n.left : n.right - e,
                  clientY: n.top - Math.min(i, n.top),
                  overrideHeight: n.top < i ? n.top : void 0
                }
              }, t.getElement(), !0)
            })) : v.ContextMenuManager.hideAll()
          }, e.prototype.update = function () {
            this._invalidated = !0
          }, e.prototype.getElement = function () {
            return this._cell
          }, e.prototype.onLabelHovered = function () {
            return this._onLabelHovered
          }, e.prototype.setSizeAndOffset = function (e, t) {
            if (e.w < 0 || e.h < 0) throw new Error("Try to set invalid size to PriceAxisStub " + JSON.stringify(e));
            this._size.equals(e) || (this._size = e, Object(s.resizeCanvas)(this._canvas, e), this._cell.style.width = e.w + "px", this._cell.style.minWidth = e.w + "px", this._cell.style.height = e.h + "px", this._invalidated = !0), this._offset !== t && (this._offset = t, this._cell.style.left = t + "px")
          }, e.prototype.paint = function (e) {
            e < 3 && !this._invalidated || 0 !== this._size.w && 0 !== this._size.h && (this._invalidated = !1, this._drawBackground(), this._drawBorder())
          }, e.prototype.hardResetCanvas = function () {
            Object(s.hardResizeCanvas)(this._canvas, this._size)
          }, e.prototype.getWidth = function () {
            return this._size.w
          }, e.prototype.getImage = function () {
            var e, t, i = document.createElement("canvas");
            return i.width = this._size.w, i.height = this._size.h, e = i.getContext("2d"), t = this._properties.backgroundColor.value(), Object(s.clearRect)(e, 0, 0, this._size.w, this._size.h, t), e.drawImage(this._canvas, 0, 0), null !== this._label && this._label.drawLabelForScreenshot(e, {
              offset: 0,
              width: this._size.w,
              height: this._size.h,
              fontSize: this._properties.fontSize.value(),
              theme: this._backgroundBasedTheme.value()
            }), i
          }, e.prototype.setLabelMode = function (e) {
            e !== this._labelMode && (this._labelMode = e, null !== this._label && this._label.setMode(e),
              this._cell.classList.toggle(h["fixed-gear"], "gear" === e), this._cell.classList.toggle(h["fixed-symbol"], "symbol" === e), this._cell.classList.toggle("apply-common-tooltip", "symbol" !== e && this._labelOptions.enableTooltip), this._cell.classList.toggle("common-tooltip-html", "symbol" !== e && this._labelOptions.enableTooltip))
          }, e.prototype._setHighlighted = function (e) {
            this._labelOptions.enableHighlight && (this._onLabelHovered.fire(e), this._highlighted !== e && (this._highlighted = e, this._invalidated = !0))
          }, e.prototype._onPropertyChanged = function () {
            this._invalidated = !0
          }, e.prototype._drawBorder = function () {
            var e, t, i = this._size.w;
            this._ctx.save(), this._ctx.fillStyle = this._properties.lineColor.value(), e = this._rendererOptionsProvider.options().borderSize, this._isLeft ? (this._ctx.translate(-.5, -.5), t = i - e - 1) : (this._ctx.translate(.5, -.5), t = 0), this._ctx.fillRect(t, 0, e, this._size.h), this._ctx.restore()
          }, e.prototype._drawBackground = function () {
            if (Object(s.clearRect)(this._ctx, 0, 0, this._size.w, this._size.h, this._properties.backgroundColor.value()), this._highlighted) {
              var e = c.themes[this._backgroundBasedTheme.value()].getThemedColor("color-price-axis-highlight");
              this._ctx.globalAlpha = .5, this._isLeft ? Object(s.clearRect)(this._ctx, 0, 0, this._size.w - 1, this._size.h, e) : Object(s.clearRect)(this._ctx, 1, 0, this._size.w, this._size.h, e), this._ctx.globalAlpha = 1
            }
          }, e.prototype._tooltipContent = function () {
            return this._sourcesTitlesProvider().join("<br>")
          }, e
        }(), P = i("Daqx"), i.d(t, "PriceAxisesContainer", function () {
          return T
        }), T = function () {
          function e(e, t, i, n, r, a) {
            this._axises = [], this._stubs = [], this._size = new s.Size(0, 0), this._onLabelHovered = new g.a, this._scalesProperties = t, this._priceAxisWidgetFactory = n, this._rendererOptionsProvider = r.rendererOptionsProvider, this._titlesProvider = r.titlesProvider, this._contentMenuProvider = r.contentMenuProvider, this._backgroundBasedTheme = r.backgroundBasedTheme, this._labelsOptions = o.__assign({}, b, a), this._stubProperties = {
              lineColor: this._scalesProperties.lineColor,
              backgroundColor: e,
              fontSize: t.fontSize
            }, this._side = i, this._cell = document.createElement("td"), this._cell.classList.add("chart-markup-table", "price-axis-container"), this._cell.style.width = "25px", this._cell.style.position = "relative"
          }
          return e.prototype.destroy = function () {
            this.setScales([], 0, 0, 0)
          }, e.prototype.onLabelHovered = function () {
            return this._onLabelHovered
          }, e.prototype.setScales = function (e, t, i, n) {
            for (var o, s, a, l, c, u, h, d, p = this; e.length > this._axises.length && this._axises.length < t;) o = Object(P.getPriceAxisNameInfo)(this._side, this._axises.length), s = this._priceAxisWidgetFactory(this._side, this._rendererOptionsProvider, this._scalesProperties, o, this._backgroundBasedTheme), this._axises.push(s), this._cell.appendChild(s.getElement());
            for (; e.length < this._axises.length;) s = Object(r.ensureDefined)(this._axises.pop()), this._cell.removeChild(s.getElement()), s.destroy();
            for (a = 0; a < this._axises.length; ++a) this._axises[a].setPriceScale(e[a]);
            for (l = t - e.length, c = Math.max(0, l); this._stubs.length > c;)(u = Object(r.ensureDefined)(this._stubs.pop())).onLabelHovered().unsubscribeAll(this),
              this._cell.removeChild(u.getElement()), u.destroy();
            for (h = function () {
                var e = d._labelsOptions.showLabels ? Object(P.getPriceAxisNameInfo)(d._side, d._stubs.length) : null,
                  t = d._stubs.length,
                  i = new w(d._side, d._stubProperties, e, d._stubParams(t), d._labelsOptions);
                i.onLabelHovered().subscribe(d, function (t) {
                  p._labelsOptions.showLabels && p._labelsOptions.enableHighlight && p._onLabelHovered.fire(Object(r.ensureNotNull)(e), t)
                }), d._stubs.push(i), d._cell.appendChild(i.getElement())
              }, d = this; this._stubs.length < l;) h();
            1 === n ? this._stubs.forEach(function (e, t) {
              return e.setLabelMode("gear")
            }) : this._stubs.forEach(function (e, t) {
              return e.setLabelMode(t < i && p._labelsOptions.enableMenu ? "auto" : "symbol")
            })
          }, e.prototype.getElement = function () {
            return this._cell
          }, e.prototype.optimalWidths = function () {
            return this._axises.map(function (e) {
              return e.optimalWidth()
            })
          }, e.prototype.setSizes = function (e, t) {
            this._size = new s.Size(t.reduce(function (e, t) {
              return e + t
            }, 0), e), this._cell.style.width = this._size.w + "px", this._cell.style.minWidth = this._size.w + "px", this._cell.style.height = this._size.h + "px", t.length !== this._axises.length + this._stubs.length && Object(r.assert)(t.length === this._axises.length + this._stubs.length, "Widgets count should be the same as widths one");
            var i = 0;
            this._forEachWidgetFromLeft(function (n, o) {
              var r = t[o];
              n.setSizeAndOffset(new s.Size(r, e), i), i += r
            })
          }, e.prototype.update = function () {
            this._axises.forEach(function (e) {
              return e.update()
            }), this._stubs.forEach(function (e) {
              return e.update()
            })
          }, e.prototype.paint = function (e) {
            this._axises.forEach(function (t) {
              return t.paint(e)
            }), this._stubs.forEach(function (t) {
              return t.paint(e)
            })
          }, e.prototype.hardResetCanvas = function () {
            this._axises.forEach(function (e) {
              return e.hardResetCanvas()
            }), this._stubs.forEach(function (e) {
              return e.hardResetCanvas()
            })
          }, e.prototype.restoreDefaultCursor = function () {
            this._axises.forEach(function (e) {
              return e.restoreDefaultCursor()
            })
          }, e.prototype.getWidth = function () {
            return this._size.w
          }, e.prototype.findAxisWidgetForScale = function (e) {
            var t = this._axises.find(function (t) {
              return t.priceScale() === e
            });
            return void 0 === t ? null : t
          }, e.prototype.getScreenshotData = function () {
            return {
              content: this._getImage().toDataURL(),
              contentHeight: this._size.h,
              contentWidth: this._size.w
            }
          }, e.prototype.getImage = function () {
            return this._getImage()
          }, e.prototype.slotsCount = function () {
            return this._axises.length + this._stubs.length
          }, e.prototype.highlightPriceAxisByLabel = function (e) {
            this._axises.forEach(function (t) {
              var i = t.axisInfo();
              t.setHighlighted(null !== i && i.equals(e))
            })
          }, e.prototype._stubParams = function (e) {
            var t = this,
              i = function () {
                return t._titlesProvider(t._side, e)
              },
              n = function () {
                return t._contentMenuProvider(t._side, e)
              };
            return {
              rendererOptionsProvider: this._rendererOptionsProvider,
              backgroundBasedTheme: this._backgroundBasedTheme,
              sourcesTitlesProvider: i,
              contextMenuItemsProvider: n
            }
          }, e.prototype._getImage = function () {
            var e, t, i = this,
              n = document.createElement("canvas");
            return n.width = this._size.w, n.height = this._size.h, e = n.getContext("2d"), t = 0, this._forEachWidgetFromLeft(function (n, o) {
              var r = n.getWidth();
              0 !== r && (e.drawImage(n.getImage(), t, 0, r, i._size.h), t += r)
            }), n
          }, e.prototype._forEachWidgetFromLeft = function (e) {
            var t, i = this._axises.concat(this._stubs),
              n = "left" === this._side,
              o = n ? i.length - 1 : 0,
              r = n ? -1 : i.length,
              s = n ? -1 : 1;
            for (t = o; t !== r; t += s) e(i[t], t, i)
          }, e
        }()
    },
    "mKT+": function (e, t, i) {
      "use strict";

      function n(e, t, n, c) {
        return Object(o.loadPropertyPages)().then(function () {
          var u = l.enabled("test_force_old_properties_dialog");
          return void 0 !== n && (n.doNotCloseOnBgClick = u || n.doNotCloseOnBgClick), !Object(s.isStudy)(e) || Object(s.isESDStudy)(e) || function (e) {
            return e.metaInfo().inputs.filter(a.a).some(function (e) {
              return "bar_time" === e.type
            })
          }(e) || function (e) {
            return "Overlay" === e.metaInfo().shortId
          }(e) || u ? function (e, t, n, s) {
            var a = Object(o.loadPropertyPages)(),
              l = function (o, r) {
                Promise.all([i.e("vendors"), i.e(16), i.e(45), i.e(46), i.e(62), i.e(63), i.e(64), i.e(81), i.e(118), i.e(39), i.e(38), i.e(51), i.e(56), i.e(74), i.e(144), i.e("editobjectdialog")]).then(function (r) {
                  a.then(function () {
                    var r = i("Kqsj").EditObjectDialog,
                      a = new r(e, t, s);
                    a.show(n), o(a)
                  })
                }.bind(null, i)).catch(r)
              };
            return Object(r.retries)(function (e) {
              return new Promise(l)
            }, 2)
          }(e, t, n, c) : function (e, t, n, s) {
            var a = Object(o.loadPropertyPages)(),
              l = function (o, r) {
                Promise.all([i.e("vendors"), i.e(6), i.e(11), i.e(14), i.e(17), i.e(19), i.e(26), i.e(33), i.e(47), i.e(57), i.e(80), i.e(88), i.e(124), i.e(197), i.e(12), i.e(15), i.e(49), i.e(76), i.e("new-edit-object-dialog")]).then(function (r) {
                  a.then(function () {
                    var r = i("yWQr").NewEditObjectDialog,
                      a = new r(e, t, s);
                    a.show(n), o(a)
                  })
                }.bind(null, i)).catch(r)
              };
            return Object(r.retries)(function (e) {
              return new Promise(l)
            }, 2)
          }(e, t, n, c)
        })
      }
      var o, r, s, a, l;
      i.r(t), o = i("hayr"), r = i("mpWx"), s = i("3ClC"), a = i("W5mg"), l = i("Kxc7"), i.d(t, "resolveAndShowEditObjectDialog", function () {
        return n
      })
    },
    mMWL: function (e, t, i) {
      "use strict";

      function n(e) {
        return "cursor" === e || "arrow" === e || "dot" === e
      }

      function o(e) {
        if ((void 0 === e && (e = !1), !e && w) && w.childs().stayInDrawingMode.value()) return;
        I.setValue(A.value())
      }

      function r(e) {
        var t = !1;
        return function (i) {
          t || (t = !0, e.fire(i), t = !1)
        }
      }

      function s() {
        le || (I.setValue(S.getValue("chart.cursorPreference", "cursor")), I.subscribe(function (e) {
          return n(e) && A.setValue(e)
        }, {
          callWithLast: !0
        }), A.subscribe(function (e) {
          e && S.setValue("chart.cursorPreference", e)
        }), w = new _.DefaultProperty("drawings"), P = Object(f.a)(), T = Object(f.a)(), C = Object(f.a)(), x = Object(f.a)(), P.setValue(!1), T.setValue(!1), C.setValue(!1), x.setValue(!1), I.subscribe(function () {
          Object(b.emit)("onSelectedLineToolChanged")
        }), le = !0)
      }

      function a() {
        return Object(p.ensureNotNull)(w)
      }

      function l() {
        return Object(p.ensureNotNull)(P)
      }

      function c() {
        return Object(p.ensureNotNull)(T)
      }

      function u() {
        return Object(p.ensureNotNull)(C)
      }

      function h() {
        return a().childs().drawOnAllCharts
      }

      function d() {
        return Object(p.ensureNotNull)(x)
      }
      var p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U, H, j, z, Y, q, G, X, K, $, J, Q, Z, ee, te, ie, ne, oe, re, se, ae, le;
      i.r(t), i.d(t, "toolIsCursor", function () {
          return n
        }), i.d(t, "resetToCursor", function () {
          return o
        }), i.d(t, "lockTimeAxisTime", function () {
          return E
        }), i.d(t, "tool", function () {
          return I
        }), i.d(t, "cursorTool", function () {
          return A
        }),
        i.d(t, "createdLineTool", function () {
          return L
        }), i.d(t, "continuedLineTool", function () {
          return D
        }), i.d(t, "cancelledLineTool", function () {
          return k
        }), i.d(t, "beenSetLineToolLastPoint", function () {
          return O
        }), i.d(t, "startedMovingLineTool", function () {
          return M
        }), i.d(t, "movedLineTool", function () {
          return R
        }), i.d(t, "finishedMovingLineTool", function () {
          return V
        }), i.d(t, "startedChangingLineTool", function () {
          return B
        }), i.d(t, "changedLineTool", function () {
          return N
        }), i.d(t, "finishedChangingLineTool", function () {
          return F
        }), i.d(t, "removedLineTool", function () {
          return W
        }), i.d(t, "finishedLineTool", function () {
          return U
        }), i.d(t, "changedLineStyle", function () {
          return H
        }), i.d(t, "copiedLineTool", function () {
          return j
        }), i.d(t, "restoredLineTool", function () {
          return z
        }), i.d(t, "restoredLineToolState", function () {
          return Y
        }), i.d(t, "createLineTool", function () {
          return q
        }), i.d(t, "continueLineTool", function () {
          return G
        }), i.d(t, "cancelLineTool", function () {
          return X
        }), i.d(t, "setLineToolLastPoint", function () {
          return K
        }), i.d(t, "startMovingLineTool", function () {
          return $
        }), i.d(t, "moveLineTool", function () {
          return J
        }), i.d(t, "finishMovingLineTool", function () {
          return Q
        }), i.d(t, "startChangingLineTool", function () {
          return Z
        }), i.d(t, "changeLineTool", function () {
          return ee
        }), i.d(t, "finishChangingLineTool", function () {
          return te
        }), i.d(t, "removeLineTool", function () {
          return ie
        }), i.d(t, "finishLineTool", function () {
          return ne
        }), i.d(t, "changeLineStyle", function () {
          return oe
        }), i.d(t, "copyLineTool", function () {
          return re
        }), i.d(t, "restoreLineTool", function () {
          return se
        }), i.d(t, "restoreLineToolState", function () {
          return ae
        }), i.d(t, "init", function () {
          return s
        }), i.d(t, "properties", function () {
          return a
        }), i.d(t, "hideAllDrawings", function () {
          return l
        }), i.d(t, "lockDrawings", function () {
          return c
        }), i.d(t, "hideMarksOnBars", function () {
          return u
        }), i.d(t, "drawOnAllCharts", function () {
          return h
        }), i.d(t, "lockTimeAxis", function () {
          return d
        }), p = i("Eyy1"), f = i("m/cY"), _ = i("Ocx9"), m = i("hY0g"), g = i.n(m), y = i("aIyQ"), v = i.n(y), S = i("Vdly"), b = i("FQhm"), w = null, P = null, T = null, C = null, x = null, E = new g.a, I = new g.a, A = new g.a, L = new v.a, D = new v.a, k = new v.a, O = new v.a, M = new v.a, R = new v.a, V = new v.a, B = new v.a, N = new v.a, F = new v.a, W = new v.a, U = new v.a, H = new v.a, j = new v.a, z = new v.a, Y = new v.a, q = r(L), G = r(D), X = r(k), K = r(O), $ = r(M), J = r(R), Q = r(V), Z = r(B), ee = r(N), te = r(F), ie = r(W), ne = r(U), oe = r(H), re = r(j), se = r(z), ae = r(Y), le = !1
    },
    mNEU: function (e, t, i) {
      "use strict";
      var n = i("HvwJ");
      e.exports = function (e, t, o, r, s, a, l, c, u) {
        var h = i("dDSx").ChartUndoModel,
          d = new h(e, t, o, r, s, a, l, c, u);
        return d.model().invalidate(new n(n.FULL_UPDATE)), d
      }
    },
    mYjs: function (e, t, i) {
      "use strict";

      function n(e, t) {
        Promise.all([i.e("vendors"), i.e(16), i.e(62), i.e(51), i.e("change-interval-dialog")]).then(i.t.bind(null, "MuC6", 7)).then(function (i) {
          new i.ChangeIntervalDialog(e).show(t)
        })
      }
      i.r(t), i.d(t, "showChangeIntervalDialog", function () {
        return n
      })
    },
    mZrn: function (module, exports, __webpack_require__) {
      "use strict";
      (function (Delegate, _, Featuresets) {
        function reloadPageOnSingOut() {
          var e, t, i = [/^\/chart\//];
          window.initData.lfs && (e = document.getElementsByClassName("js-admin-warning")[0], document.body.removeChild(e)), t = !0,
            i.forEach(function (e) {
              e.test(window.location.pathname) && (t = !1)
            }), t && window.location.reload(!0)
        }

        function loginUser(e, t) {
          window.TVDialogs && window.TVDialogs.signModal && window.TVDialogs.signModal.close(), user = $.extend(!0, {}, e), TradingView.changeLoginState(!0), "function" == typeof t && window.TVDialogs && window.TVDialogs.signModal ? window.TVDialogs.signModal.on("signinSuccess", function () {
            t()
          }) : "function" == typeof t && t()
        }

        function receiveMessage(e) {
          "login_user" === e.key && null !== e.newValue && loginUser(JSON.parse(e.newValue))
        }

        function onLoginStateChange(is_initial) {
          window.iframeAuthWidget && user.is_first_login && (window.iframeAuthWidget.preventClose = !0);
          var available_offers = user.available_offers;
          $("html").toggleClass("is-authenticated", is_authenticated).toggleClass("is-not-authenticated", !is_authenticated).toggleClass("is-pro", is_authenticated && user && !!user.is_pro).toggleClass("is-not-pro", !(is_authenticated && user && user.is_pro)).toggleClass("is-trial", is_authenticated && user && !!user.is_trial).toggleClass("is-not-trial", !(is_authenticated && user && user.is_trial)).toggleClass("is-not-trial-available", void 0 === available_offers[OFFERS.trial]).toggleClass("is-trial-available", void 0 !== available_offers[OFFERS.trial]).toggleClass("is-upsale-available", is_authenticated && void 0 !== available_offers[OFFERS.upsale]), window.TVSettings && window.TVSettings.sync(user.settings), $(".js-header__gopro-button").attr("href", is_authenticated ? "/gopro/" : ""), is_authenticated ? ($(".saved_charts_count").html(user.saved_charts), $(".treated_charts_count").html(user.treated_charts_count), $(".js-trial-days-left").html(user.trial_days_left_text || ""), $(".js-header-gopro-button").attr("href", "/gopro/"), user.fastpass_script && eval(user.fastpass_script), user.is_first_login && ($(function () {
            __webpack_require__("xlKU").showSignModal({
              mode: "step-two",
              noCloseButton: !!user.social_registration,
              dontCloseOnEsc: !!user.social_registration,
              nameFields: !user.social_registration,
              noUsernameField: !user.social_registration,
              newUserHandler: user.social_registration
            }).then(function (e) {
              window.iframeAuthWidget && (window.iframeAuthWidget.preventClose = !1, e.on("destroy", function () {
                window.iframeAuthWidget.postClose()
              }))
            }), user.social_registration ? (__webpack_require__.e(266).then(function (e) {
              __webpack_require__("BUSo")("Social")
            }.bind(null, __webpack_require__)).catch(__webpack_require__.oe), delete user.social_registration) : TVXWindowEvents.emit("loginStateChange", JSON.stringify({
              is_authenticated: is_authenticated,
              user: user
            }))
          }), trackEvent("Conversion", "First login"), user.prort_trial_started && (trialMessageSuccessDialog(), delete user.prort_trial_started), delete user.is_first_login), TradingView.setTrialAvailiable(void 0 !== user.available_offers[OFFERS.trial])) : (Object.keys(available_offers).forEach(function (e) {
            available_offers[e].available_for_anons || delete available_offers[e]
          }), user = {
            username: "Guest",
            following: "0",
            followers: "0",
            ignore_list: {},
            available_offers: available_offers
          }, $(".user-info-username").html(user.username), TVLocalStorage.removeItem("trial_availiable"))
        }
        var checkEvercookie, goProDialog, trialMessageSuccessDialog, isProductFeatureEnabled, syncUserData, loginStateChange, TVXWindowEvents = __webpack_require__("FBuY").TVXWindowEvents,
          trackEvent = __webpack_require__("PC8g").trackEvent,
          OFFERS = {},
          syncEventName, listeners;
        OFFERS = __webpack_require__("eI3D").OFFERS, checkEvercookie = __webpack_require__("HEU2").checkEvercookie, __webpack_require__("m6s1"), goProDialog = __webpack_require__("s4+V"), trialMessageSuccessDialog = __webpack_require__("V9Ec").trialMessageSuccessDialog, isProductFeatureEnabled = __webpack_require__("NP3r").enabled, syncUserData = __webpack_require__("dm8g").syncUserData, __webpack_require__("PFI7"), $(document).ajaxSend(function (e, t, i) {
          i.crossDomain && !i.forceLanguageHeader || (window.locale ? t.setRequestHeader("X-Language", window.locale) : console.warn("window.locale is not defined"))
        }), loginStateChange = window.loginStateChange ? window.loginStateChange : window.loginStateChange = new Delegate, loginStateChange.subscribe(null, onLoginStateChange), TVXWindowEvents.on("loginStateChange", function () {
          var e = JSON.parse(this);
          window.user = e.user, window.is_authenticated = !!e.is_authenticated, loginStateChange.fire()
        }), TVXWindowEvents.on("signOut", function () {
          reloadPageOnSingOut()
        }), syncEventName = "user-obj-changed", listeners = {}, window.crossTabSyncUserAttr = function (e) {
          var t = {};
          e instanceof Array ? e.forEach(function (e) {
            t[e] = window.user[e]
          }) : t[e] = window.user[e], TVXWindowEvents.emit(syncEventName, JSON.stringify(t))
        }, window.onChangeUserAttrInAnotherTab = function (e) {
          var t = new Delegate;
          return listeners[e] || (listeners[e] = []), listeners[e].push(t), t
        }, TVXWindowEvents.on(syncEventName, function (e) {
          var t, i;
          for (t in e = JSON.parse(e))
            if (window.user[t] = e[t], listeners[t])
              for (i = 0; i < listeners[t].length; i++) listeners[t][i].fire(e[t])
        }), TradingView.changeLoginState = function (e) {
          window.is_authenticated = !!e, TVXWindowEvents.emit("loginStateChange", JSON.stringify({
            is_authenticated: is_authenticated,
            user: user
          })), loginStateChange.fire()
        }, window.loginUser = loginUser, window.addEventListener("storage", receiveMessage), TradingView.signOut = function () {
          var e = _.clone(window.user);
          $.ajax({
            type: "POST",
            url: "/accounts/logout/",
            dataType: "html"
          }).done(function () {
            TradingView.changeLoginState(!1), TVXWindowEvents.emit("signOut"), reloadPageOnSingOut()
          }).fail(function () {
            window.user = e, TradingView.changeLoginState(!0)
          })
        }, checkEvercookie(loginStateChange), window.loginRequiredDelegate = new Delegate, window.runOrSignIn = function (e, t) {
          var i, n;
          t || (t = {}), !0 === t.verifiedPhoneRequired && (i = __webpack_require__("Z9Tc").whenVerified, n = e, e = function () {
            i({
              showDialog: !0,
              source: t.source,
              doNotCheckSuspicious: t.doNotCheckSuspicious,
              doNotCheckSocialActivity: t.doNotCheckSocialActivity,
              customPhoneCheck: t.customPhoneCheck
            }).done(n)
          }), is_authenticated || Featuresets.enabled("charting_library_base") ? e() : __webpack_require__("xlKU").showSignModal({
            source: t.source,
            sourceMeta: t.sourceMeta,
            feature: t.feature,
            mode: t.mode,
            signinSuccess: e
          }), syncUserData("signin")
        }, TradingView.runOrGoPro = function (e, t, i) {
          syncUserData("gopro").then(function () {
            isProductFeatureEnabled(t) ? e() : goProDialog.createGoProDialog(i).then(function (e) {
              e.open()
            })
          })
        }, window.onLoginStateChange = onLoginStateChange, TradingView.isPro = function () {
          return is_authenticated && user.is_pro
        }, TradingView.setTrialAvailiable = function (e) {
          TVLocalStorage.setItem("trial_availiable", e ? 1 : 0)
        }, $.fn.reverse = [].reverse, $(window).load(function () {
          window.loaded = !0
        }), TradingView.notificationsChanged = new Delegate
      }).call(this, __webpack_require__("aIyQ"), __webpack_require__("F/us"), __webpack_require__("Kxc7"))
    },
    mbg2: function (e, t, i) {
      "use strict";

      function n(e) {
        o.call(this, e)
      }
      var o = i("c0/O").PaneRendererAbstractShape;
      inherit(n, o), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c = Math.max(this.width, this.height) / 2,
          u = this._vertOffset,
          h = 2 * Math.PI,
          d = !1;
        for (i = 0, n = this.items.length; i < n; i++)(o = this.items[i]).style && null != o.style.color ? (r = o.style.color, s = o.style.borderColor) : (r = this._color, s = this._borderColor), r !== t && (t = r, d && (e.fill(), e.stroke()), e.beginPath(), e.fillStyle = r, e.strokeStyle = s), a = o.x, l = o.y + u, e.moveTo(a + c, l), e.arc(a, l, c, 0, h, !1), d = !0;
        d && (e.fill(), e.stroke())
      }, t.PaneRendererCircleShape = TradingView.PaneRendererCircleShape = n
    },
    me8f: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolBalloon";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("Hyqq").BalloonPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("tc+8"),
        s = i("Ocx9").DefaultProperty,
        a = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 1
      }, n.prototype.title = function () {
        return "Balloon"
      }, n.prototype.name = function () {
        return "Balloon"
      }, n.prototype.getStylesPropertyPage = function () {
        return a.LineToolBalloonStylesPropertyPage
      }, n.prototype.template = function () {
        var e = o.prototype.template.call(this);
        return e.text = this.properties().childs().text.value(), e
      }, n.prototype._applyTemplateImpl = function (e) {
        o.prototype._applyTemplateImpl.call(this, e), this.properties().childs().text.setValue(e.text)
      }, n.createProperties = function (e) {
        var t = new s("linetoolballoon", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e), e.hasChild("text") || e.addChild("text", new r(window.t("Comment"))), e.addExclusion("text")
      }, t.LineToolBalloon = n
    },
    mf9N: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), n = function () {
        function e(e) {
          this._priceScale = e
        }
        return e.prototype.getMode = function () {
          var e = this._priceScale.properties();
          return e.percentage.value() ? 2 : e.indexedTo100.value() ? 3 : e.log.value() ? 1 : 0
        }, e.prototype.setMode = function (e) {
          this._priceScale.setMode({
            percentage: 2 === e,
            log: 1 === e,
            indexedTo100: 3 === e
          })
        }, e.prototype.isInverted = function () {
          return this._priceScale.isInverted()
        }, e.prototype.setInverted = function (e) {
          this._priceScale.properties().isInverted.setValue(e)
        }, e
      }(), i.d(t, "PaneApi", function () {
        return o
      }), o = function () {
        function e(e, t) {
          this._priceScales = new WeakMap, this._pane = e, this._chartWidget = t
        }
        return e.prototype.hasMainSeries = function () {
            return this._pane.containsMainSeries()
          },
          e.prototype.getLeftPriceScales = function () {
            return this._pane.leftPriceScales().map(this._getPriceScaleApi, this)
          }, e.prototype.getRightPriceScales = function () {
            return this._pane.rightPriceScales().map(this._getPriceScaleApi, this)
          }, e.prototype.getMainSourcePriceScale = function () {
            var e, t = this._pane.mainDataSource();
            return null === t ? null : null === (e = t.priceScale()) ? null : this._pane.isOverlay(t) ? null : this._getPriceScaleApi(e)
          }, e.prototype.setMaximized = function (e) {
            var t, i, n;
            if (this._pane.isMaximized() !== e)
              for (t = 0, i = this._chartWidget.paneWidgets(); t < i.length; t++)
                if ((n = i[t]).state() === this._pane) {
                  this._chartWidget.toggleMaximizePane(n);
                  break
                }
          }, e.prototype._getPriceScaleApi = function (e) {
            var t = this._priceScales.get(e);
            return void 0 === t && (t = new n(e), this._priceScales.set(e, t)), t
          }, e
      }()
    },
    mkn5: function (e, t, i) {
      "use strict";
      (function (t, n) {
        function o(e) {
          return !e || !e.customization || !e.customization.disableSelection
        }

        function r(e, n, o) {
          function s(e, t, i, n, o) {
            return new h(c, i, t, e, a, n, o)
          }
          var a, l, c, u, d, p, f;
          this._options = Object.assign({}, ge, o), this._chart = e, this._state = n, this._state && this._state.onDestroyed().subscribe(this, r.prototype._onStateDestroyed, !0), a = {
            contextMenuEnabled: this._options.priceScaleContextMenuEnabled
          }, l = this._chart.properties().paneProperties.background, c = this, u = e.properties().scalesProperties, d = this._chartModel().rendererOptionsProvider(), p = {
            backgroundBasedTheme: e.backgroundBasedTheme(),
            rendererOptionsProvider: d
          }, f = {
            showLabels: !1
          }, this._lhsPriceAxisesContainer = new pe(l, u, h.LHS, s, p, f), this._rhsPriceAxisesContainer = new pe(l, u, h.RHS, s, p, f), this.updatePriceAxisWidgets(), this.jqPane = $(document.createElement("td")), this.jqPane.addClass("chart-markup-table"), this.jqPane.addClass("pane"), this._dv = $("<div>"), this._dv.css("width", "100%"), this._dv.css("height", "100%"), this._dv.css("position", "relative"), this._dv.css("overflow", "hidden"), this._dv.appendTo(this.jqPane), this.canvas = ne(this._dv.get(0), new oe(16, 16)), $(this.canvas).css("position", "absolute"), $(this.canvas).css("z-order", "2"), $(this.canvas).css("left", 0), $(this.canvas).css("top", 0), this.ctx = this.canvas.getContext("2d"), this.top_canvas = ne(this._dv.get(0), new oe(16, 16)), $(this.top_canvas).css("position", "absolute"), $(this.top_canvas).css("z-order", "1"), $(this.top_canvas).css("left", 0), $(this.top_canvas).css("top", 0), this.top_ctx = this.top_canvas.getContext("2d"), this._zoomSelector = $("<div>"), this._zoomSelector.addClass("zoom-selector"), this._zoomSelector.css("display", "none"), this._zoomSelector.appendTo(this._dv), this._tooltipSelector = $("<div>"), this._tooltipSelector.addClass("tooltip tooltip-selector tooltip-selector-hidden"), this._tooltipSelector.appendTo(this._dv), this.jqRow = $(document.createElement("tr")), this.jqRow.append(this._lhsPriceAxisesContainer.getElement()), this.jqPane.appendTo(this.jqRow), this._legendWidget = null, this._options.legendWidgetEnabled && Promise.all([i.e("vendors"), i.e(109), i.e(119), i.e(297), i.e(97), i.e("chart-widget-gui")]).then(function (e) {
            if (!this._isDestroyed) {
              var t = i("LxXZ").LegendWidget;
              this._legendWidget = new t(this, this._chartUndoModel(), this._chart._jqMainDiv, this._options.legendWidget), this._legendWidget.$el.appendTo(this._dv), this._legendWidget.update(), this._updateByThemedColors()
            }
          }.bind(this).bind(null, i)).catch(i.oe), this.jqRow.append(this._rhsPriceAxisesContainer.getElement()), this.setCursorForTool(), this._mouseEventHandler = new re(this.top_canvas, this, !0, this._options.verticalTouchScroll), this._paneControls = null, n && !this._chart.readOnly() && this._options.controlsEnabled && Promise.all([i.e("vendors"), i.e(109), i.e(119), i.e(297), i.e(97), i.e("chart-widget-gui")]).then(function (e) {
            if (!this._isDestroyed) {
              var t = i("koft");
              this._paneControls = new t(this, this._chartUndoModel(), this._dv), this.updateControls(), this._updateByThemedColors()
            }
          }.bind(this).bind(null, i)).catch(i.oe), this.actions = [], this.readonlyActions = [], this._onKeyUpListener = this._onKeyUpListener.bind(this), this._lineCancelledCallback = this._lineCancelledCallback.bind(this), $(window).on("keyup.panewidget", this._onKeyUpListener), this._chart.withModel(this, this._lineCancelledCallback), this._overlays = {}, this._contextMenuX = 0, this._contextMenuY = 0, this._lockDrawingsProperty = X.lockDrawings(), this._prevHoveredHittest = null, this._preventSourceChange = !1, this._longTap = !1, this._contextMenuOpenedOnLastMouseDown = !1, this._startTrackPoint = null, this._exitTrackingModeOnNextTry = !1, this._startChangeLineToolParams = null, this._startMoveLineToolParams = null, this._chart.withModel(this, function () {
            var e = this._chartUndoModel();
            e.onSimpleZoomIn().subscribe(this, this._updateCrosshairOnZoom), e.onSimpleZoomOut().subscribe(this, this._updateCrosshairOnZoom)
          }), this._highlightedPriceAxis = new t(null), this._highlightedPriceAxis.subscribe(function (e) {
            this._highlightPriceAxisByLabel(e)
          }.bind(this)), this._isDestroyed = !1
        }
        var s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U, H, j, z, Y, q, G, X, K, J, Q, Z, ee, te, ie, ne, oe, re, se, ae, le, ce, ue, he, de, pe, fe, _e, me, ge, ye, ve, Se, be, we, Pe, Te, Ce, xe, Ee, Ie, Ae, Le, De, ke, Oe, Me, Re;
        i("AE9l"), i("YFKU"), s = i("aO4+"), a = s.Point, l = i("bOGh").UndoMacroCommand, c = i("GVHu").Study, u = i("Qq0B").NonSeriesStudy, h = i("1IXQ").PriceAxisWidget, d = i("1IXQ").scaleRatioForContextMenuTransformer(7), p = i("OH2X").LineToolOrder, f = i("OH2X").LineToolPosition, _ = i("Ss5c").LineDataSource, m = i("OH2X").LineToolBrush, g = i("CW80"), y = g.isLineToolName, v = g.isLineTool, S = g.isStudyLineToolName, b = i("fTGZ").BarsMarksContainer, w = i("PC8g").trackEvent, P = i("QloM").TabNames, T = i("YmeR").ActionBinder, C = i("d13A").makeTimeLimited, x = i("ogJP").isArray, E = i("Eyy1").ensureNotNull, I = i("KnF9").EnvironmentState, A = i("Ai40").ESDStudyBase, L = i("LBej"), D = i("hPwr").PublishedChartsFilter, k = i("Ktlt").ChartEventsSource, O = i("1gmO").AlertLabel, M = i("nmnj"), R = i("oR7+").getSettingsProperty, V = i("N22A").tradingService, B = i("YFkB").createTradeContext, N = i("OekH"), F = N.CONNECTSTATUSES, W = i("7ktv").PriceDataSource, U = i("7KDR"), H = U.Action, j = U.Separator, z = U.ActionAsync, Y = i("L/Ed").ToolboxType, q = i("5VQP").ContextMenuManager, G = i("Fty4").ActionCreators, X = i("mMWL"), K = i("VdBB").HitTestResult, J = i("HvwJ"), Q = i("FQhm"), Z = i("ikwP"),
          ee = Z.resizeCanvas, te = Z.hardResizeCanvas, ie = Z.clearRect, ne = Z.addCanvasTo, oe = Z.Size, re = i("S8xo").MouseEventHandler, se = i("J+KI"), ae = i("glKZ"), le = i("//lt").PaneCursorType, ce = i("uOxu").getLogger("Chart.PaneWidget"), ue = i("qFKp").isMac, he = i("kSsA").hasStylesPropertyPage, de = i("vTIA").CustomSourceLayer, pe = i("mE5r").PriceAxisesContainer, fe = i("Daqx").getPriceAxisNameInfo, _e = i("qFKp").CheckMobile.any(), me = ["LineToolOrder", "LineToolPosition", "AlertLabel"], ge = {
            contextMenuEnabled: !0,
            priceScaleContextMenuEnabled: !0,
            tradeContextMenuEnabled: !1,
            legendWidgetEnabled: !0,
            controlsEnabled: !0,
            legendWidget: {},
            verticalTouchScroll: !1,
            propertyPagesEnabled: !0,
            sourceSelectionEnabled: !0
          }, ye = window.t("Pinned To Scale {label} (Hidden)"), ve = window.t("Pinned To Right Scale (Hidden)"), Se = window.t("Pin To Scale {label} (Hidden)"), be = window.t("Pin To Right Scale (Hidden)"), we = window.t("Pinned To Scale {label}"), Pe = window.t("Pinned To Right Scale"), Te = window.t("Pin To Scale {label}"), Ce = window.t("Pin To Right Scale"), xe = window.t("Pinned To Left Scale (Hidden)"), Ee = window.t("Pin To Left Scale (Hidden)"), Ie = window.t("Pinned To Left Scale"), Ae = window.t("Pin To Left Scale"), Le = window.t("Pin To New Left Scale"), De = window.t("Pin To New Right Scale"), ke = window.t("Pin To Scale (Now {label})"), Oe = window.t("Pin To Scale (Now No Scale)"), Me = window.t("Pin To Scale (Now Left)"), Re = window.t("Pin To Scale (Now Right)"), r.prototype.destroy = function () {
            for (var e in $(window).off("keyup.panewidget", this._onKeyUpListener), this._legendWidget && (this._legendWidget.destroy(), this._legendWidget.$el.remove(), delete this._legendWidget), null !== this._paneControls && (this._paneControls.destroy(), delete this._paneControls), this._lhsPriceAxisesContainer.destroy(), this._rhsPriceAxisesContainer.destroy(), this._chart.withModel({
                chart: this._chart,
                instance: this,
                callback: this._hideTooltip
              }, function () {
                this.chart.model().lineCancelled().unsubscribe(this.instance, this.callback)
              }), this.jqRow.remove(), this.jqRow.find("*").remove(), this._prevHoveredHittest = null, this._state && this._state.onDestroyed().unsubscribe(this, r.prototype._onStateDestroyed), this._mouseEventHandler.destroy(), this) delete this[e];
            this._isDestroyed = !0
          }, r.prototype._highlightPriceAxisByLabel = function (e) {
            this._lhsPriceAxisesContainer.highlightPriceAxisByLabel(e), this._rhsPriceAxisesContainer.highlightPriceAxisByLabel(e)
          }, r.prototype.updateThemedColors = function (e) {
            this._themedColor = e, this._updateByThemedColors()
          }, r.prototype._updateByThemedColors = function () {
            null !== this._legendWidget && this._legendWidget.updateThemedColors(this._themedColor), null !== this._paneControls && this._paneControls.updateThemedColors(this._themedColor)
          }, r.prototype.cancelZoom = function () {
            this._zoomSelector.css("display", "none"), delete this._firstZoomPoint, this._preventCrossHairMove() && this._clearCursorPosition()
          }, r.prototype._onKeyUpListener = function (e) {
            27 === e.keyCode && (this._chartUndoModel().lineBeingCreated() && this._chartUndoModel().cancelCreatingLine(), this._firstZoomPoint && this.cancelZoom(), this._chartModel().crossHairSource().clearMeasure(),
              this.setCursorForTool(), this._hideTooltip())
          }, r.prototype._lineCancelledCallback = function () {
            try {
              this._chartUndoModel().lineCancelled().subscribe(this, this._hideTooltip)
            } catch (e) {}
          }, r.prototype.backgroundColor = function () {
            return this._chart.properties().paneProperties.background.value()
          }, r.prototype.chart = function () {
            return this._chart
          }, r.prototype._chartModel = function () {
            return this._chart.model().model()
          }, r.prototype._chartUndoModel = function () {
            return this._chart.model()
          }, r.prototype.state = function () {
            return this._state
          }, r.prototype.setState = function (e) {
            this._state && this._state.onDestroyed().unsubscribe(this, r.prototype._onStateDestroyed), this._state = e, this._state && this._state.onDestroyed().subscribe(this, r.prototype._onStateDestroyed, !0), this.updatePriceAxisWidgets()
          }, r.prototype.updatePriceAxisWidgets = function () {
            var e, t, i, n, o;
            this._state && (t = (e = this._chartModel()).paneForSource(e.mainSeries())) && (i = e.priceScaleSlotsCount(), n = this._state.visibleLeftPriceScales(), o = this._state.visibleRightPriceScales(), this._lhsPriceAxisesContainer.setScales(n, i.left, t.leftPriceScales().length, i.left + i.right), this._rhsPriceAxisesContainer.setScales(o, i.right, t.rightPriceScales().length, i.left + i.right))
          }, r.prototype._onStateDestroyed = function () {
            this._state && this._state.onDestroyed().unsubscribe(this, r.prototype._onStateDestroyed), this._state = null
          }, r.prototype.stretchFactor = function () {
            return this._state ? this._state._stretchFactor : 0
          }, r.prototype.setStretchFactor = function (e) {
            this._state && (this._state._stretchFactor = e)
          }, r.prototype.mouseEnterEvent = function (e) {
            var t, i, n = this._chartUndoModel();
            n && this._state && (n.crossHairSource().visible = !0, "function" == typeof this.onMouseEnter && this.onMouseEnter(this), t = e.localX, i = e.localY, TradingView.supportTouch() || (this._setCursorPosition(t, i, new I(e)), this._updateTooltip(t, i)))
          }, r.prototype._crossHairShouldBeVisible = function () {
            var e = this._chartModel().crossHairSource();
            return y(X.tool.value()) || e.startMeasurePoint() && !e.endMeasurePoint() || this._firstZoomPoint || null !== this._chartModel().lineBeingEdited() || null !== this._chartModel().lineBeingCreated()
          }, r.prototype._preventCrossHairMove = function () {
            return !!_e && (null === this._chart.trackingModePaneWidget() && (!!this._contextMenuOpenedOnLastMouseDown || !this._crossHairShouldBeVisible() && null === this._startTrackPoint))
          }, r.prototype._trackingModeShouldBeActive = function () {
            return !(!_e || this._contextMenuOpenedOnLastMouseDown || this._crossHairShouldBeVisible()) && this._longTap
          }, r.prototype._clearCursorPosition = function () {
            this._chartModel().clearCurrentPosition()
          }, r.prototype._setCursorPosition = function (e, t, i) {
            this._chartUndoModel().setAndSaveCurrentPosition(this._correctXCoord(e), this._correctYCoord(t), this._state, i)
          }, r.prototype._setCursorPositionOnExternalPane = function (e, t, i, n) {
            t = this._externalPaneXCoord(e, t), i = this._externalPaneYCoord(e, i), this._chart.paneByState(e)._setCursorPosition(t, i, n)
          }, r.prototype._externalPaneXCoord = function (e, t) {
            var i, n = this._dv.offset();
            return t += n.left, n = (i = this._chart.paneByState(e))._dv.offset(), i._correctXCoord(t - n.left)
          },
          r.prototype._externalPaneYCoord = function (e, t) {
            var i, n = this._dv.offset();
            return t += n.top, n = (i = this._chart.paneByState(e))._dv.offset(), i._correctYCoord(t - n.top)
          }, r.prototype._correctXCoord = function (e) {
            return Math.max(0, Math.min(e, this.size.w - 1))
          }, r.prototype._correctYCoord = function (e) {
            return Math.max(0, Math.min(e, this.size.h - 1))
          }, r.prototype._preventScroll = function () {
            return _e && this._longTap || this._contextMenuOpenedOnLastMouseDown || null !== this._startTrackPoint
          }, r.prototype.hideInplaceEditor = function () {
            return !!this._inplaceEditor && (this._inplaceEditor.remove(), this._inplaceEditor = void 0, !0)
          }, r.prototype._processMouseMoveWhileZoom = function (e, t) {
            var i = this._chartUndoModel(),
              n = Math.floor(i.timeScale().coordinateToIndex(e.localX)),
              o = i.timeScale().indexToCoordinate(n) - .5 * i.timeScale().barSpacing(),
              r = e.localY,
              s = Math.abs(o - this._firstZoomPoint.x),
              a = Math.abs(r - this._firstZoomPoint.y);
            o < this._firstZoomPoint.x ? this._zoomSelector.css("left", o) : this._zoomSelector.css("left", this._firstZoomPoint.x), e.localY < this._firstZoomPoint.y ? this._zoomSelector.css("top", e.localY) : this._zoomSelector.css("top", this._firstZoomPoint.y), this._zoomSelector.width(s), this._zoomSelector.height(a), this._preventCrossHairMove() || this._setCursorPosition(e.localX, e.localY, t)
          }, r.prototype._finishZoom = function (e) {
            var t = E(this._state),
              i = t.defaultPriceScale(),
              n = t.mainDataSource().firstValue(),
              o = i.coordinateToPrice(e.localY, n),
              r = this._chartUndoModel(),
              s = Math.round(r.timeScale().coordinateToIndex(e.localX));
            s !== this._firstZoomPoint.index && r.zoomToViewport(this._firstZoomPoint.index, s, this._firstZoomPoint.price, o, t), this._zoomSelector.css("display", "none"), this._firstZoomPoint = null, X.resetToCursor(), this._preventCrossHairMove() && this._clearCursorPosition()
          }, r.prototype.checkMovepoint = function (e) {
            return e === K.MOVEPOINT || e === K.MOVEPOINT_BACKGROUND && TradingView.isMobile.any()
          }, r.prototype._handleSelectionMouseDownAndGetJustDeselectedSource = function (e, t) {
            var i, n = this._chartUndoModel(),
              r = null;
            return e && !e.isCustom && o(e.source) && (i = e.hittest && e.hittest.result() > K.MOVEPOINT_BACKGROUND, TradingView.isMobile.any() && e.hittest && e.hittest.result() === K.MOVEPOINT_BACKGROUND && (i = !0), this._preventSourceChange && (i = !1), n.selectionMacro(function (n) {
              i ? (t.control() || n.selection().isSelected(e.source) || n.clearSelection(), t.control() && n.selection().isSelected(e.source) ? (r = e.source, n.removeSourceFromSelection(e.source)) : n.addSourceToSelection(e.source, e.hittest && e.hittest.data()), n.selection().sources().length > 1 && w("GUI", "Multiselect", "Click Select")) : t.control() || n.clearSelection()
            })), r
          }, r.prototype._tryStartChangingLineTool = function (e, t, i, n) {
            var o, r, s;
            return null === this._startTrackPoint && (!this._preventSourceChange && t.hittest && t.hittest.result() === K.CHANGEPOINT ? (o = this._chartUndoModel(), r = this._state.mainDataSource().firstValue(), s = t.source.priceScale().coordinateToPrice(e.localY, r), o.selectionMacro(function (e) {
              e.clearSelection(), e.addSourceToSelection(t.source)
            }), s = o.model().magnet().align(s, n, this._state), this._startChangeLineToolParams = {
              source: t.source,
              startPoint: {
                index: n,
                price: s
              },
              screenPoint: {
                x: e.localX,
                y: e.localY
              },
              data: t.hittest.data(),
              envState: i
            }, !0) : (this._startChangeLineToolParams = null, !1))
          }, r.prototype._tryStartMovingLineTool = function (e, t, i, n) {
            var r, s, l, c, u, h;
            return null === this._startTrackPoint && (this._preventSourceChange ? (this._startMoveLineToolParams = null, !1) : (r = this._chartUndoModel(), s = this._state.mainDataSource().firstValue(), l = t.source.priceScale().coordinateToPrice(e.localY, s), c = o(t.source) ? r.selection().sources() : [t.source], u = new a(e.localX, e.localY), h = {
              index: n,
              price: l
            }, this._startMoveLineToolParams = {
              source: c,
              startPoint: {
                logical: h,
                screen: u
              },
              data: t.hittest.data(),
              envState: i
            }, !0))
          }, r.prototype._tryHandleEraserMouseDown = function (e, t) {
            var i, n, o;
            return !(!e.source || "eraser" !== X.tool.value() || (o = e.source, o && o.customization && o.customization.disableErasing) || (i = this._chartUndoModel(), !(e.source instanceof _ || e.source instanceof c))) && (n = e.hittest.eraseMarker(), t.control() && void 0 !== n && e.source.processErase ? e.source.processErase(i, n) : i.removeSource(e.source), !0)
          }, r.prototype._tryStartCloning = function (e, t, i, n) {
            var o = t.source.properties();
            return !!(i.control() && o.clonable && o.clonable.value()) && (this._clonningAtMoveLineTools = this._chartUndoModel().selection().sources(), n && this._clonningAtMoveLineTools.push(n), this._startCloningPoint = new a(e.localX, e.localY), !0)
          }, r.prototype.mouseDownEvent = function (e) {
            var t, i, o, r, s, l, c, u, h, d, p, f, m, g, v;
            if (this._longTap = !1, this._contextMenuOpenedOnLastMouseDown = !1, this._exitTrackingModeOnNextTry = null !== this._startTrackPoint, this._state && (null !== (t = this._chart.trackingModePaneWidget()) && t !== this && (i = this._chartModel().crossHairSource().currentPoint(), this._chart.exitTrackingMode(), this.startTrackingMode(new a(e.localX, e.localY), new a(i.x, e.localY), new I(e))), document.activeElement !== document.body && document.activeElement !== document.documentElement ? document.activeElement && document.activeElement.blur ? document.activeElement.blur() : document.body.focus() : document.getSelection ? document.getSelection().removeAllRanges() : document.selection && document.selection.clear(), Q.emit("mouse_down", {
                clientX: e.clientX,
                clientY: e.clientY,
                pageX: e.pageX,
                pageY: e.pageY,
                screenX: e.screenX,
                screenY: e.screenY
              }), this._updateCommonTooltip(null), o = this._chartUndoModel(), r = new I(e), o.mainSeries().clearGotoDateResult(), this.hideInplaceEditor(), !((s = this._state.defaultPriceScale()).isEmpty() || o.timeScale().isEmpty() || (l = o.crossHairSource(), TradingView.supportTouch() && "LineToolBrush" !== X.tool.value() || (null !== (u = null !== (c = o.lineBeingCreated()) ? o.paneForSource(c) : null) && u !== this._state ? this._setCursorPositionOnExternalPane(u, e.localX, e.localY, r) : this._setCursorPosition(e.localX, e.localY, r)), r.control() && (l.startMeasurePoint() && l.clearMeasure(), X.resetToCursor(!0)), h = this._state.mainDataSource().firstValue(), d = s.coordinateToPrice(e.localY, h), p = this._chartModel().timeScale().coordinateToIndex(e.localX), l.startMeasurePoint() && l.endMeasurePoint() && l.clearMeasure(), r.shift() && X.toolIsCursor(X.tool.value()) && o.selection().isEmpty() && X.tool.setValue("measure"),
                this._tryStartMeasure(e, l, r, d, p) || this._tryFinishMeasure(e, l) || this._tryFinishZoom(e) || this._tryStartZoom(e, d, p, r)))))
              if (null !== this._startTrackPoint && (this._initCrossHairPosition = l.currentPoint(), this._startTrackPoint = new a(e.localX, e.localY)), f = this.dataSourceAtPoint(e.localX, e.localY), TradingView.supportTouch() && (this._preventSourceChange = null === f.source || !o.selection().isSelected(f.source)), this._isSelectBarModeEnabled() || r.control() || !y(X.tool.value()) && !o.lineBeingCreated()) {
                if (f.hittest && f.hittest.result() === K.CUSTOM && (m = f.hittest.data().mouseDownHandler) && m(e), !this._chart.readOnly()) {
                  if (f && f.hittest && f.hittest.result() === K.CUSTOM_MOVE && (m = f.hittest.data().pressedMouseMoveHandler)) return void(f.isCustom ? m(e) : o.startCustomMoving(f.source, new a(e.localX, e.localY), m));
                  if (g = this._handleSelectionMouseDownAndGetJustDeselectedSource(f, r), this._tryHandleEraserMouseDown(f, r)) return;
                  if (v = f.source && TradingView.isInherited(f.source.constructor, _) && f.source.isLocked(), !(this._lockDrawingsProperty.value() || v) && f && !f.isCustom) {
                    if (f.source && f.source.userEditEnabled && !f.source.userEditEnabled()) return;
                    if (this._tryStartChangingLineTool(e, f, r, p)) return;
                    if (f.hittest && this.checkMovepoint(f.hittest.result())) {
                      if (this._tryStartCloning(e, f, r, g)) return;
                      if (this._tryStartMovingLineTool(e, f, r, p)) return
                    }
                  }
                  if (f.source && f.source instanceof W && f.source.isDraggable()) return void(this._chart.draggingSource = f.source)
                }
                f.hittest && f.hittest.result() === K.REGULAR || (this._processing = !0)
              } else(!n.enabled("charting_library_base") || p >= 0) && (r.shift() || o.selectionMacro(function () {
                o.clearSelection()
              }), this._mouseDownEventForLineTool(e, r, p, d))
          }, r.prototype.drawRightThere = function (e) {
            var t, i, n;
            y(e) && (i = (t = this._chartUndoModel()).crossHairSource(), n = t.model().magnet().align(i.price, i.index, this._state), t.createLineTool(E(this._state), {
              index: i.index,
              price: n
            }, e))
          }, r.prototype._finishTool = function (e) {
            var t, i = this._chartUndoModel(),
              n = X.tool.value();
            X.resetToCursor(), this._preventCrossHairMove() && this._clearCursorPosition(), this._hideTooltip(), i.selectionMacro(function (t) {
              t.addSourceToSelection(e)
            }), this._chart.isTextTool(n) && (t = i.createUndoCheckpoint(), this._chart.showChartPropertiesForSource(e, null, null, t).then(function (e) {
              e.focusOnText()
            }))
          }, r.prototype._mouseDownEventForLineTool = function (e, t, i, n) {
            var o, r, s, l, c, u, h, d, p, f, _, g, v, S;
            if (this._state) {
              if (o = this._chartUndoModel(), r = !1, s = null, l = e.localX, c = e.localY, u = o.model().crossHairSource(), h = X.tool.value(), X.hideAllDrawings().setValue(!1), X.lockDrawings().setValue(!1), TradingView.supportTouch() && y(h) && "LineToolBrush" !== h && !o.lineBeingCreated() && (this._startTouchPoint = new a(l, c), this._initCrossHairPosition = u.currentPoint()), !o.lineBeingCreated() || o.lineBeingCreated() instanceof m) TradingView.supportTouch() && "LineToolBrush" !== h || (S = {
                index: i,
                price: o.model().magnet().align(n, i, this._state)
              }, s = o.createLineTool(this._state, S, h), o.lineBeingCreated() || (r = !0));
              else if (d = o.lineBeingCreated().ownerSource().firstValue(), TradingView.supportTouch()) {
                if (!this._startTouchPoint) return this._startTouchPoint = new a(l, c),
                  f = (p = o.lineBeingCreated().points())[p.length - 1], _ = o.timeScale().indexToCoordinate(f.index), n = f.price, g = o.lineBeingCreated().priceScale().priceToCoordinate(n, d), void(this._lastDrawingPoint = new a(_, g))
              } else s = o.lineBeingCreated(), (v = o.paneForSource(s)) !== this._state ? (l = this._externalPaneXCoord(v, e.localX), c = this._externalPaneYCoord(v, e.localY), n = s.priceScale().coordinateToPrice(c, d), i = Math.round(o.timeScale().coordinateToIndex(l)), r = o.coninueCreatingLine({
                index: i,
                price: n
              }, t)) : (n = o.model().magnet().align(n, i, this._state), r = o.coninueCreatingLine({
                index: i,
                price: n
              }, t));
              s && o.selectionMacro(function (e) {
                e.addSourceToSelection(s)
              }), r ? this._finishTool(s) : TradingView.supportTouch() && "LineToolBrush" !== h || this._updateTooltip(e.localX, e.localY)
            }
          }, r.prototype._equalsCursorCache = function (e, t) {
            return X.toolIsCursor(e.tool) ? e.tool === t.tool && e.theme === t.theme && e.crosshair === t.crosshair : e.tool === t.tool && e.theme === t.theme
          }, r.prototype._setCursorClassName = function (e) {
            var t = "";
            e && (t = "pane--cursor-" + e), this._currentCursorClassName !== t && (this._currentCursorClassName && this.jqPane.removeClass(this._currentCursorClassName), t && this.jqPane.addClass(t), this._currentCursorClassName = t, this.jqPane.css("cursor"))
          }, r.prototype.setCursorForTool = function (e, t, i) {
            var n, o = X.tool.value();
            if (i && i.control() && e) this._setCursorClassName("pointer");
            else {
              if (X.toolIsCursor(o)) {
                if (this._chart.draggingSource || this._isScrolling || this._chartUndoModel() && this._chartUndoModel().sourcesBeingMoved().length) return void this._setCursorClassName("grabbing");
                if (e && this._options.sourceSelectionEnabled) return void this._setCursorClassName("pointer")
              }
              "eraser" !== o ? "zoom" !== o ? "dot" !== (n = X.cursorTool.value()) ? "arrow" !== n ? this._setCursorClassName("") : this._setCursorClassName("default") : this._setCursorClassName("dot") : this._setCursorClassName("zoom-in") : this._setCursorClassName("eraser")
            }
          }, r.prototype.setDragToAnotherPaneCursor = function () {
            this._setCursorClassName("grabbing")
          }, r.prototype.gestureStartEvent = function (e) {
            this._prev_pinch_scale = 1, this._pinching = !0
          }, r.prototype.gestureChangeEvent = function (e) {
            var t, i, n = e.center.x - 5,
              o = this._chart.paneWidgets()[0].leftPriceAxisesContainer().getWidth(),
              r = this._chartUndoModel(),
              s = r.timeScale().width();
            o && (n = Math.max(0, n - o)), t = 2 * ((n = Math.min(n, s)) / s - .5), (i = 5 * (e.scale - this._prev_pinch_scale)) > 0 ? r.zoomIn(t, i) : i < 0 && r.zoomOut(t, -i), this._prev_pinch_scale = e.scale
          }, r.prototype.gestureEndEvent = function (e) {
            this._pinching = !1
          }, r.prototype._updateCommonTooltip = function (e) {
            var t, i, n, o = this._lastCommonTooltipData,
              r = null;
            if (e && e.hittest && e.hittest.result() === K.CUSTOM && (t = e.hittest.data()) && (r = t.tooltip || null), null != o || null != r) return null == r ? (this._lastCommonTooltipData = null, void ae.hide()) : void(o && r.text === o.text && r.rect.x === o.rect.x && r.rect.y === o.rect.y && r.rect.w === o.rect.w && r.rect.h === o.rect.h || (this._lastCommonTooltipData = r, i = TradingView.clone(r), n = this.jqPane[0].getBoundingClientRect(), i.rect.x += n.left, i.rect.y += n.top, ae.show(i)))
          }, r.prototype._processMouseMoveForCustomHandler = function (e, t) {
            var i, n, o, r = e.hittest && e.hittest.result() === K.CUSTOM;
            !r || null !== this._prevHoveredHittest && this._prevHoveredHittest.renderer === e.renderer || ((i = e.hittest.data().mouseEnterHandler) && i(t), this._prevHoveredHittest = e), r && (n = e.hittest.data().mouseMoveHandler) && n(t), null !== this._prevHoveredHittest && this._prevHoveredHittest.renderer !== e.renderer && ((o = this._prevHoveredHittest.hittest.data().mouseLeaveHandler) && o(t), this._prevHoveredHittest = null)
          }, r.prototype.mouseMoveEvent = function (e) {
            var t, i, n, r, s, a, l, c, u, h, d, p;
            if (this._state && (t = this.dataSourceAtPoint(e.localX, e.localY), this._processMouseMoveForCustomHandler(t, e), i = this._chartUndoModel()))
              if (n = e.localX, r = e.localY, s = new I(e), this._firstZoomPoint) this._processMouseMoveWhileZoom(e, s);
              else {
                if (a = !1, !(this._chart.readOnly() || this._editDialog && this._editDialog.isVisible()) && (l = X.tool.value(), c = null, u = null, this._processing || !X.toolIsCursor(l) && "eraser" !== l && !s.control() || (a = !!(h = t && t.source) && -1 !== me.indexOf(h.toolname), t.hittest && t.hittest.result() > K.MOVEPOINT_BACKGROUND ? (c = t.source, u = t.hittest.result(), t.source && o(t.source) && ("eraser" !== l || t.source.constructor !== TradingView.Series) ? i.setHoveredSource(t.source, t.hittest.data()) : i.setHoveredSource(null)) : i.setHoveredSource(null)), this._options.sourceSelectionEnabled && (this._isSelectBarModeEnabled() ? this._setCursorClassName("pointer") : this.setCursorForTool(c, u, s)), this._updateCommonTooltip(t), null !== t && null !== t.hittest && t.hittest.result() === K.CUSTOM_MOVE)) switch ((t.hittest.data() || {}).cursorType) {
                  case le.VerticalResize:
                    this._setCursorClassName("ns-resize")
                }
                this._preventCrossHairMove() && this._clearCursorPosition(), i.crossHairSource().setLinesShouldBeHidden(a), this._chart.readOnly() && this._options.sourceSelectionEnabled && (null !== t.source && o(t.source) ? i.setHoveredSource(t.source, t.hittest.data()) : i.setHoveredSource(null, null)), i.lineBeingCreated() && (d = i.lineBeingCreated(), (p = i.paneForSource(d)) !== this._state) ? this._setCursorPositionOnExternalPane(p, n, r, s) : (l = X.tool.value(), TradingView.supportTouch() || (this._setCursorPosition(n, r, s), this._updateTooltip(n, r)))
              }
          }, r.prototype._startChangeOrMoveLineToolIfNeeded = function () {
            var e;
            null !== this._startChangeLineToolParams && (e = this._startChangeLineToolParams, this._chartUndoModel().startChangingLinetool(e.source, e.startPoint, e.data, e.envState), this._updateTooltip(e.screenPoint.x, e.screenPoint.y)), null !== this._startMoveLineToolParams && (e = this._startMoveLineToolParams, this._chartUndoModel().startMovingSources(e.source, e.startPoint, e.data, e.envState)), this._startMoveLineToolParams = null, this._startChangeLineToolParams = null
          }, r.prototype.pressedMouseMoveEvent = function (e) {
            var t, i, o, r, s, l, c, u, h, d, p, f, _, g, v, S, b, w, P, T, C, x, E, A, L, D, k, O, M, R, V, B, N;
            if (this._state && !this._pinching) {
              if (t = this._chart.model().model().scrollEnabled(), this._startChangeOrMoveLineToolIfNeeded(), this._touchMove = !0, this._preventSourceChange = !1, i = new I(e), r = (o = this._chartUndoModel()).crossHairSource(), s = e.localX, l = e.localY, this._firstZoomPoint) return this._processMouseMoveWhileZoom(e), void(this._firstZoomPoint.draggingMode = !0);
              if (!TradingView.supportTouch() && "touchmove" !== e.type || !r.startMeasurePoint()) {
                if (c = X.tool.value(), TradingView.supportTouch() && this._startTouchPoint && y(c) && "LineToolBrush" !== c && !o.lineBeingCreated() && !this._isSelectBarModeEnabled()) return this._chart.justActivated() && (this._initCrossHairPosition = r.currentPoint()), u = this._initCrossHairPosition, h = new a(s, l).subtract(this._startTouchPoint), d = u.add(h), this._setCursorPosition(d.x, d.y, i), void this._updateTooltip(d.x, d.y);
                if (!TradingView.supportTouch() || !o.lineBeingCreated() || o.lineBeingCreated() instanceof m) {
                  if (null !== this._startTrackPoint ? (this._exitTrackingModeOnNextTry = !1, u = this._initCrossHairPosition, h = new a(s, l).subtract(this._startTrackPoint), d = u.add(h), this._setCursorPosition(d.x, d.y, i)) : this._preventCrossHairMove() || this._setCursorPosition(s, l, i), this._updateTooltip(s, l), b = X.tool.value(), w = this._isSelectBarModeEnabled(), !y(b) || "LineToolBrush" === c || w || i.control()) {
                    if ("LineToolBrush" === b && !w) {
                      if ((P = this._state.defaultPriceScale()).isEmpty()) return;
                      if (!(T = o.lineBeingCreated())) return;
                      return C = new a(e.localX, e.localY), x = T.ownerSource().firstValue(), C.price = P.coordinateToPrice(e.localY, x), C.index = Math.round(o.timeScale().coordinateToIndex(e.localX)), void((!n.enabled("charting_library_base") || C.index >= 0) && o.coninueCreatingLine(C))
                    }
                    if (this._chart.draggingSource && (E = e.target, (A = this._chart.paneByCanvas(E)) && (A !== this ? A.setDragToAnotherPaneCursor() : A.setCursorForTool()), (L = this._chart.timeAxisByCanvas(E)) && L.setCursor("grabbing")), !o.timeScale().isEmpty())
                      if (o.customMoveBeingProcessed()) o.processCustomMove(new a(s, l));
                      else {
                        if (o.lineBeingEdited()) return D = Math.round(o.timeScale().coordinateToIndex(s)), (!n.enabled("charting_library_base") || D >= 0) && o.changeLinePoint({
                          x: s,
                          y: l
                        }, i), this._updateTooltip(s, l), void this.setCursorForTool();
                        if (k = this, o.sourcesBeingMoved().length) o.sourcesBeingMoved().forEach(function (t) {
                          var r, c, u, h, d, p, f = t.priceScale();
                          f.isEmpty() || (r = (t.ownerSource() || k._state.mainDataSource()).firstValue(), c = o.timeScale().coordinateToIndex(e.localX), u = f.coordinateToPrice(e.localY, r), k.setCursorForTool(), n.enabled("charting_library_base") && o.sourcesBeingMoved().some(function (e) {
                            return !e.onlyYMoving()
                          }) && 0 !== (h = t.points()).length && h.reduce(function (e, t) {
                            return t.index < e.index ? t : e
                          }).index - ((t.startMovingPoint() || t.currentMovingPoint()).index - c) < 0 || (d = new a(s, l), p = {
                            index: c,
                            price: u
                          }, o.moveSources({
                            screen: d,
                            logical: p
                          }, i)))
                        });
                        else {
                          if (i.control() && this._clonningAtMoveLineTools) return O = new a(e.localX, e.localY), void(this._startCloningPoint.subtract(O).length() > 8 && (M = this._clonningAtMoveLineTools, R = this.cloneLineTools(M, !0), V = R.map(function (e) {
                            return o.model().dataSourceForId(e)
                          }), o.selectionMacro(function (e) {
                            e.clearSelection(), V.forEach(function (t) {
                              e.addSourceToSelection(t)
                            })
                          }), B = new a(e.localX, e.localY), P = V[0].priceScale(), x = this._state.mainDataSource().firstValue(), N = {
                            index: o.timeScale().coordinateToIndex(e.localX),
                            price: P.coordinateToPrice(e.localY, x)
                          }, o.startMovingSources(V, {
                            logical: N,
                            screen: B
                          }, i), this._clonningAtMoveLineTools = null, this._startCloningPoint = null));
                          P = this._state.defaultPriceScale(), this._chart.readOnly() || !(e.ctrlKey && !ue() || e.metaKey && ue()) || this._chart.readOnly() ? (this._startScrollingPos || !t || this._preventScroll() || (this._startScrollingPos = {
                            x: e.clientX,
                            y: e.clientY
                          }), this._startScrollingPos && (this._startScrollingPos.x === e.clientX && this._startScrollingPos.y === e.clientY || this._isScrolling || (o.beginUndoMacro("scroll").setCustomFlag("doesnt_affect_save", !0), o.selection().isEmpty() || (P = o.selection().sources()[0].priceScale()), P.isEmpty() || o.startScrollPrice(this._state, P, e.localY), o.startScrollTime(e.localX), this._isScrolling = !0, this.setCursorForTool())), this._isScrolling && (o.selection().isEmpty() || (P = o.selection().sources()[0].priceScale()), P.isEmpty() || o.scrollPriceTo(this._state, P, e.localY), this._scrollMacroStarted = o.scrollTimeTo(e.localX)), this._preventScroll() && !this._preventCrossHairMove() && null === this._startTrackPoint && this._setCursorPosition(e.localX, e.localY, new I(e))) : this._isSelecting || (r.startSelection(this._state), this._isSelecting = !0)
                        }
                      }
                  }
                } else if (this._startTouchPoint) {
                  if (p = o.lineBeingCreated(), (f = o.paneForSource(p)) !== this._state) return void this._setCursorPositionOnExternalPane(f, e.localX, e.localY, i);
                  _ = e.localX - this._startTouchPoint.x, g = e.localY - this._startTouchPoint.y, v = this._lastDrawingPoint.x + _, S = this._lastDrawingPoint.y + g, this._setCursorPosition(v, S, i), this._updateTooltip(v, S)
                }
              } else this._setCursorPosition(s, l, i)
            }
          }, r.prototype._processMouseUpForCustomHandler = function (e) {
            var t, i = this.dataSourceAtPoint(e.localX, e.localY);
            i.hittest && i.hittest.result() === K.CUSTOM && (t = i.hittest.data().mouseUpHandler) && t(e)
          }, r.prototype._tryExitTrackingMode = function () {
            this._exitTrackingModeOnNextTry && (this._startTrackPoint = null, this._clearCursorPosition())
          }, r.prototype.exitTrackingMode = function () {
            null !== this._state && null !== this._startTrackPoint && (this._exitTrackingModeOnNextTry = !0, this._tryExitTrackingMode())
          }, r.prototype.trackingModeEnabled = function () {
            return null !== this._state && null !== this._startTrackPoint
          }, r.prototype.mouseUpEvent = function (e) {
            var t, i, n, o, r, s, a, c, u, h, d, p, f, _, g, S, b, P, T, C, x, E, A, L, D, k, O, M, R, V, B, N, F, W;
            if (this._state) {
              if (t = null !== this._startTrackPoint, this._longTap = !1, this._startMoveLineToolParams = null, this._startChangeLineToolParams = null, this._processMouseUpForCustomHandler(e), this._clonningAtMoveLineTools = null, i = this, delete this._isSelecting, (o = (n = this._chartUndoModel()).model().crossHairSource()).selection() && (r = this._state.lineToolsForArea(o.selection()), n.selectionMacro(function (e) {
                  r.forEach(function (t) {
                    e.addSourceToSelection(t)
                  })
                }), o.clearSelection(), w("GUI", "Multiselect", "Area Select")), Q.emit("mouse_up", {
                  clientX: e.clientX,
                  clientY: e.clientY,
                  pageX: e.pageX,
                  pageY: e.pageY,
                  screenX: e.screenX,
                  screenY: e.screenY
                }), s = this._touchMove, delete this._touchMove, a = new I(e), c = X.tool.value(), TradingView.supportTouch() && !s && "LineToolBrush" !== c && y(c) && !n.lineBeingCreated()) {
                if (this._chart.justActivated()) return;
                return o.pane !== this._state ? void this._setCursorPosition(e.localX, e.localY, a) : (u = o.currentPoint(), h = this._state.defaultPriceScale(),
                  d = this._state.mainDataSource().firstValue(), p = h.coordinateToPrice(u.y, d), _ = {
                    index: f = Math.round(n.timeScale().coordinateToIndex(u.x)),
                    price: p
                  }, g = n.createLineTool(this._state, _, c), n.selectionMacro(function (e) {
                    e.addSourceToSelection(g)
                  }), n.lineBeingCreated() || this._finishTool(g), this._updateTooltip(u.x, u.y), void delete this._startTouchPoint)
              }
              if (n.lineBeingCreated() && !(n.lineBeingCreated() instanceof m) && this._startTouchPoint) return S = !1, delete this._startTouchPoint, s || (p = (b = (g = n.lineBeingCreated()).points()[g.points().length - 1]).price, S = n.coninueCreatingLine({
                index: b.index,
                price: p
              }, new I(e)), delete this._lastDrawingPoint), void(S && this._finishTool(g));
              if (this._firstZoomPoint && this._firstZoomPoint.draggingMode) this._finishZoom(e);
              else if (!TradingView.supportTouch() && "touchend" !== e.type || !this._tryFinishMeasure(e, o)) {
                if (this._processing = !1, n.customMoveBeingProcessed() && n.endCustomMoving(), n.lineBeingEdited()) return n.endChangingLinetool(), this._preventCrossHairMove() && this._clearCursorPosition(), void this._hideTooltip();
                if ("LineToolBrush" === c && !this._isSelectBarModeEnabled()) {
                  if (n.finishLineTool(), (h = this._state.defaultPriceScale()).isEmpty()) return;
                  if (!(P = n.lineBeingCreated())) return;
                  return d = P.ownerSource().firstValue(), p = h.coordinateToPrice(e.localY, d), f = Math.round(n.timeScale().coordinateToIndex(e.localX)), void n.coninueCreatingLine({
                    index: f,
                    price: p
                  })
                }
                if (n.sourcesBeingMoved().length) return T = !n.endMovingSource() && !a.shift(), this._hideTooltip(), n.sourcesBeingMoved().forEach(function (e) {
                  i.setCursorForTool(e)
                }), T && (C = this.dataSourceAtPoint(e.localX, e.localY), n.selectionMacro(function (e) {
                  e.clearSelection(), C.source && (e.addSourceToSelection(C.source), v(C.source) && Q.emit("drawing_event", C.source.id(), "click"))
                })), void n.invalidate(new J(J.UPDATE_CURSOR_ONLY));
                if (this._chart.readOnly() || (C = this.dataSourceAtPoint(e.localX, e.localY), x = e.localX >= 0 && e.localX < this.size.w, C && C.source === o || !x || (E = n.timeScale().coordinateToIndex(e.localX), n.model().onSyncScrollNeeded(E))), A = this._isScrolling && this._scrollMacroStarted && n.undoHistory.undoStack().head() instanceof l, this._isScrolling && (h = this._state.defaultPriceScale(), n.selection().isEmpty() || (h = n.selection().sources()[0].priceScale()), n.endScrollPrice(this._state, h), L = function () {
                    n.endScrollTime(), n.endUndoMacro(), i._startScrollingPos = void 0, i._isScrolling = !1, i._scrollMacroStarted = !1, i.setCursorForTool()
                  }, TradingView.supportTouch() ? (D = n.timeScale().m_scrollStartPoint, k = .05 * (e.localX - D), O = null, M = function (t) {
                    var i, o;
                    null === O && (O = t), i = .01 * Math.min(100, 3 * (t - O)), i = Math.sqrt(i), o = e.localX + k * i, n.scrollTimeTo(o), i >= 1 ? L() : requestAnimationFrame(M)
                  }, requestAnimationFrame(M)) : L()), this._chart.draggingSource)
                  for (R = e.target, (V = this._chart.paneByCanvas(R)) && V !== this && (A && (A = !1, n.undoHistory.undo()), n.mergeToPane(this._chart.draggingSource, V._state)), this._chart.timeAxisByCanvas(R) && (A && (A = !1, n.undoHistory.undo()), n.unmergeToNewBottomPane(this._chart.draggingSource)), this._chart.draggingSource = null, (B = this._chart.getTimeScale()) && B.restoreDefaultCursor(), C = this.dataSourceAtPoint(e.localX, e.localY),
                    N = this._chart.paneWidgets(), F = 0; F < N.length; F++)(W = N[F]) === this && C ? W.setCursorForTool(C.source, C.hittest || null) : W.setCursorForTool(), W._lhsPriceAxisesContainer.restoreDefaultCursor(), W._rhsPriceAxisesContainer.restoreDefaultCursor();
                this._preventSourceChange && !t && (C = this.dataSourceAtPoint(e.localX, e.localY)).source && n.selectionMacro(function (e) {
                  e.addSourceToSelection(C.source)
                }), delete this._touchMove
              }
            }
          }, r.prototype.mouseLeaveEvent = function (e) {
            var t, i;
            this._state && (t = this._chartUndoModel()) && (TradingView.isMobile.any() || this._clearCursorPosition(), t.setHoveredSource(null), null !== this._prevHoveredHittest && ((i = this._prevHoveredHittest.hittest.data().mouseLeaveHandler) && i(e), this._prevHoveredHittest = null), this._updateCommonTooltip(null), "function" == typeof this.onMouseLeave && this.onMouseLeave(this))
          }, r.prototype.mouseClickEvent = function (e) {
            var t, i, n, o;
            this._state && (t = this.dataSourceAtPoint(e.localX, e.localY), i = this._chartUndoModel(), n = t.source, this._lastClickedSource !== n && (this._lastClickedSource && this._lastClickedSource.onClickOutside && (this._lastClickedSource.onClickOutside(e), i.model().updateSource(this._lastClickedSource)), this._lastClickedSource = n), !this._isSelectBarModeEnabled() || this.trackingModeEnabled() && !this._exitTrackingModeOnNextTry || i.crossHairSource().trySelectCurrentBar(), t.hittest && t.hittest.result() === K.CUSTOM && (o = t.hittest.data().mouseClickHandler) && (o(e), i.chartModel().updateSource(n)), this._isSelectBarModeEnabled() || this._tryExitTrackingMode(), n instanceof b && t.hittest.data() && n.onClicked(t.hittest.data()))
          }, r.prototype.showEditDialogForSource = function (e) {
            if (this._options.propertyPagesEnabled && (!e.userEditEnabled || e.userEditEnabled()))
              if (e === this._chartUndoModel().mainSeries()) this._chart.showGeneralChartProperties(P.style);
              else {
                var t = this;
                this._chart.showChartPropertiesForSource(e).then(function (e) {
                  t._editDialog = e
                })
              }
          }, r.prototype.processDoubleClickOnSource = function (e) {
            e instanceof O ? TradingView.alertsDispatcher.openEditDialog(e.alert()) : this.showEditDialogForSource(e)
          }, r.prototype.mouseDoubleClickEvent = function (e) {
            var t, i, n;
            this._state && ((i = (t = !this._chart.readOnly() && !y(X.tool.value()) && this.dataSourceAtPoint(e.localX, e.localY)) && t.hittest && t.source) && t.hittest.result() <= K.MOVEPOINT_BACKGROUND && !TradingView.isMobile.any() && (i = null), i && !o(i) && (i = null), t.isCustom ? t.hittest.result() === K.CUSTOM && void 0 !== (n = t.hittest.data().mouseDoubleClickHandler) && n(e) : i ? this.processDoubleClickOnSource(i) : this._chart.readOnly() || y(X.tool.value()) || this._chartUndoModel().lineBeingCreated() || !this._chartUndoModel().selection().isEmpty() || this._chart.toggleMaximizePane(this))
          }, r.prototype.showContextMenuForSources = function (e, t) {
            if (e.length) {
              var i = e[0];
              i.constructor === TradingView.Series ? this._seriesContextMenu(i).then(function (e) {
                e.show(t)
              }) : TradingView.isInherited(i.constructor, A) ? this._studyEsdContextMenu(i).then(function (e) {
                e.show(t)
              }) : TradingView.isInherited(i.constructor, c) ? this._studyContextMenu(i).then(function (e) {
                e.show(t)
              }) : TradingView.isInherited(i.constructor, L) ? this._publishedChartsContextMenu(i).then(function (e) {
                e.show(t)
              }) : TradingView.isInherited(i.constructor, p) || TradingView.isInherited(i.constructor, f) ? this._tradingDrawingsContextMenu(i).then(function (e) {
                e.show(t)
              }) : TradingView.isInherited(i.constructor, _) ? this._lineContextMenu(e).then(function (e) {
                e.show(t)
              }) : TradingView.isInherited(i.constructor, O) && !i.fake ? this._alertLabelContextMenu(i).then(function (e) {
                e.show(t)
              }) : TradingView.isInherited(i.constructor, k) ? this._chartEventsContextMenu(i).then(function (e) {
                e.show(t)
              }) : i === this._chartUndoModel().crossHairSource() && i.handleContextMenuEvent(t)
            }
          }, r.prototype.showContextMenuForSelection = function (e) {
            var t, i = this._chartUndoModel().selection();
            i.isEmpty() || (t = i.sources().filter(function (e) {
              return e.hasContextMenu()
            }), this.showContextMenuForSources(t, e))
          }, r.prototype.longTapEvent = function (e) {
            this._longTap = !0, null === this._startTrackPoint && this._trackingModeShouldBeActive() && this.startTrackingMode(new a(e.localX, e.localY), new a(e.localX, e.localY), new I(e))
          }, r.prototype.startTrackingMode = function (e, t, i) {
            this._startChangeLineToolParams = null, this._startMoveLineToolParams = null, this._chartUndoModel().selectionMacro(function (e) {
              e.clearSelection()
            }), this._startTrackPoint = e, this._exitTrackingModeOnNextTry = !1, this._setCursorPosition(t.x, t.y, i), this._initCrossHairPosition = this._chartModel().crossHairSource().currentPoint()
          }, r.prototype.contextMenuEvent = function (e) {
            var t, i, n, r, s, a, l, c = this._chartUndoModel();
            if (!c.crossHairSource().startMeasurePoint() || _e) {
              if (!this._pinching && (this._firstZoomPoint && !_e && this.cancelZoom(), !this.hideInplaceEditor())) {
                if (!X.toolIsCursor(X.tool.value()) && !this._isSelectBarModeEnabled()) {
                  if (TradingView.isMobile.any()) return;
                  return X.resetToCursor(!0), this.setCursorForTool(), this._hideTooltip(), void(c.lineBeingCreated() && c.cancelCreatingLine())
                }
                if (this._options.contextMenuEnabled) {
                  if (t = this.dataSourceAtPoint(e.localX, e.localY), i = t ? t.source : null, null !== this._startTrackPoint) {
                    if (this._preventSourceChange) return;
                    this._clearCursorPosition()
                  }
                  this._contextMenuOpenedOnLastMouseDown = !0, this._contextMenuX = e.localX, this._contextMenuY = e.localY, n = t && t.hittest ? t.hittest.result() : 0, r = n >= K.REGULAR || n >= K.MOVEPOINT_BACKGROUND && TradingView.isMobile.any(), t.isCustom ? r && t.hittest.result() === K.CUSTOM && void 0 !== (s = t.hittest.data().contextMenuHandler) && s(e) : (this._chart.updateActions(), a = !1, l = this, c.selectionMacro(function (t) {
                    null !== i && r ? (t.selection().isSelected(i) || (t.clearSelection(), t.addSourceToSelection(i)), a = !0) : (l._contextMenu(e).then(function (t) {
                      t.show(e)
                    }), t.clearSelection())
                  }), a && (o(i) ? l.showContextMenuForSelection(e) : l.showContextMenuForSources([i], e)), this.paint())
                }
              }
            } else c.crossHairSource().clearMeasure()
          }, r.prototype._contextMenu = function (e) {
            function t(e) {
              return e instanceof j
            }
            var i, n, o = this,
              r = this._initActions(e),
              s = o._customActions();
            for (r = r.filter(function (e) {
                return null !== e
              }), s.remove.forEach(function (e) {
                for (var t = 0; t < r.length; t++)
                  if (r[t] instanceof H && r[t].getLabel() === e) {
                    r.splice(t, 1);
                    break
                  }
              }),
              n = (i = s.top.concat(r).concat(s.bottom)).length - 1; n > 0; n--) t(i[n]) && t(i[n - 1]) && i.splice(n, 1);
            return i.length && t(i[0]) && i.splice(0, 1), i.length && t(i[i.length - 1]) && i.splice(i.length - 1, 1), q.createMenu(i, {
              statName: "ChartContextMenu"
            })
          }, r.prototype.createRemoveMenu = function () {
            var e = this._chart.actions();
            return new H({
              label: window.t("Remove"),
              statName: "Remove",
              subItems: [e.paneRemoveAllStudies, e.paneRemoveAllDrawingTools, e.paneRemoveAllStudiesDrawingTools]
            })
          }, r.prototype._initActions = function (e) {
            var t, i, o, r, s = this,
              a = this._chart.actions(),
              l = [];
            return n.enabled("datasource_copypaste") && (i = (((t = se.get()) || {}).sources || []).filter(function (e) {
              return "study" === e.type || "drawing" === e.type
            }), t && i.length && (o = new H({
              label: window.t("Paste %s").replace("%s", window.t(t.title || t.type)),
              shortcut: "Ctrl-V",
              shortcutHint: "Ctrl + V",
              statName: "Paste",
              onExecute: function () {
                s._chart.onAppClipboardPaste(s.state())
              }
            }), l.push(o))), l.length && l.push(new j), l.push(a.chartReset), l.push(new j), n.enabled("alerts") && (l.length && l.push(new j), this._chartModel().canCreateAlertForDataSource(E(this._state).mainDataSource()) && null !== (r = this._createActionAddAlert({
              e: e
            })) && l.push(r)), this._options.tradeContextMenuEnabled && l.push(this._createActionTrade(e)), l[l.length - 1] instanceof j || l.push(new j), window.widgetbar && (!window.widgetbar._customization || window.widgetbar._customization.watchlist) && a.addToWatchlist && l.push(a.addToWatchlist), n.enabled("text_notes") && l.push(a.addToTextNotes), l[l.length - 1] instanceof j || l.push(new j), a.moveChartAction && !a.moveChartAction.isDisabled() && l.push(a.moveChartAction, new j), l.push(this._createLockTimeAxisAction(e)), l.push(new j), l.push(a.paneObjectTree), n.enabled("charting_library_base") || l.push(a.applyColorTheme), l[l.length - 1] instanceof j || l.push(new j), l.push(a.paneRemoveAllDrawingTools), l.push(a.paneRemoveAllStudies), l.push(new j), pro.hasPackage("mtp-mtpredictor") && E(this._state).containsMainSeries() && l.push(this._createMTPredictorActions(), new j), n.enabled("show_chart_property_page") && l.push(a.chartProperties), l[l.length - 1] instanceof j && l.pop(), l
          }, r.prototype._customActions = function () {
            var e, t, i, o = {
                top: [],
                bottom: [],
                remove: []
              },
              r = this._chartUndoModel(),
              s = r.timeScale(),
              a = this._state && this._state.defaultPriceScale();
            return n.enabled("custom_items_in_context_menu") ? (e = s.isEmpty() ? void 0 : s.indexToUserTime(s.coordinateToIndex(this._contextMenuX)), a && !a.isEmpty() && (i = this._state.mainDataSource().firstValue(), t = a.coordinateToPrice(this._contextMenuY, i)), Q.emit("onContextMenu", {
              unixtime: e ? e / 1e3 : void 0,
              price: t,
              callback: function (e) {
                [].concat(e).forEach(function (e) {
                  var t;
                  e.text && (e.text.length > 1 && "-" === e.text[0] ? o.remove.push(e.text.slice(1)) : (t = "-" === e.text ? new j : new H({
                    label: e.text,
                    onExecute: e.click
                  }), e.position && "top" === e.position ? o.top.push(t) : o.bottom.push(t)))
                })
              }
            }), o) : o
          }, r.prototype._timeAxisMenu = function () {
            if (this._chartUndoModel().timeScale().isEmpty()) return null;
            var e = this._chart.getTimeScale();
            return new H({
              label: window.t("Time Scale"),
              subItems: e.getContextMenuActions(),
              statName: "TimeScale"
            })
          }, r.prototype._seriesContextMenu = function (e) {
            var t, i = this._chart.actions(),
              o = e.properties().visible.value(),
              r = [];
            return this._chart.readOnly() ? (r = [o ? i.seriesHide : this.createActionShow(e), new j]).push(this._createActionScale(e)) : (this._chartModel().canCreateAlertForDataSource(e) && r.push(this._createActionAddAlert({
              series: e
            })), this._options.tradeContextMenuEnabled && r.push(this._createActionTrade()), !r.length || r[r.length - 1] instanceof j || r.push(new j), n.enabled("symbol_info") && r.push(i.showSymbolInfoDialog), !r.length || r[r.length - 1] instanceof j || r.push(new j), r.push(this.createVisualOrderAction(e)), (t = this._createActionMove(e)) && r.push(t), r.push(this._createActionScale(e)), r.push(o ? i.seriesHide : this.createActionShow(e)), r.push(new j), r.push(i.showPriceLine), r.push(new j), window.widgetbar && (!window.widgetbar._customization || window.widgetbar._customization.watchlist) && i.addToWatchlist && r.push(i.addToWatchlist), n.enabled("text_notes") && r.push(i.addToTextNotes), r[r.length - 1] instanceof j || r.push(new j), pro.hasPackage("mtp-mtpredictor") && r.push(this._createMTPredictorActions(), new j), n.enabled("show_chart_property_page") && !this.chart().onWidget() && r.push(i.chartProperties), r[r.length - 1] instanceof j && r.pop()), q.createMenu(r)
          }, r.prototype._createActionScaleDetach = function (e, t, i, n) {
            var o, r, s, a, l, c, u, h, d;
            return this.state().canCreateNewPriceScale() ? (o = e.priceScale().canDetachSource(e), r = this._state.priceScalePosition(e.priceScale()), (s = o || r !== t) ? (a = this._chartModel().priceScaleSlotsCount(), l = {
              left: {
                labelled: Te,
                sided: Le
              },
              right: {
                labelled: Te,
                sided: De
              }
            }, c = "left" === t ? this._state.leftPriceScales().length : this._state.rightPriceScales().length, u = a[t] > c ? "labelled" : "sided", h = fe(t, c).label, d = l[t][u].format({
              label: h
            }), new H({
              checkable: !1,
              disabled: !s,
              label: d,
              statName: n,
              payload: e,
              onExecute: i
            })) : null) : null
          }, r.prototype._createActionScaleDetachLeft = function (e) {
            return this._createActionScaleDetach(e, "left", r.prototype.onDetachLeft.bind(this), "ToggleScaleLeft")
          }, r.prototype._createActionScaleDetachRight = function (e) {
            return this._createActionScaleDetach(e, "right", r.prototype.onDetachRight.bind(this), "ToggleScaleRight")
          }, r.prototype._createActionNoScale = function (e) {
            var t = this._chartUndoModel().paneForSource(e),
              i = t.actionNoScaleIsEnabled(e);
            return new H({
              checkable: !0,
              checked: E(this._state).isOverlay(e),
              label: window.t("No Scale (Fullscreen)"),
              disabled: !i,
              statName: "ToggleNoScale",
              payload: e,
              onExecute: r.prototype.onNoScale.bind(this)
            })
          }, r.prototype._createMoveToScaleAction = function (e, t, i, n) {
            var o = e.priceScale() === t;
            return new H({
              checkable: !0,
              checked: o,
              label: i,
              statName: "ToggleScale",
              payload: {
                datasource: e,
                priceScale: t,
                undoText: n
              },
              onExecute: r.prototype.onMoveToScale.bind(this)
            })
          }, r.prototype.createActionScaleItems = function (e) {
            var t, i, n = [],
              o = this._chartModel().priceScaleSlotsCount(),
              r = o.totallySlots > 1,
              s = this._state.rightPriceScales(),
              a = this._state.leftPriceScales(),
              l = this._createActionScaleDetachRight(e),
              c = this._createActionScaleDetachLeft(e),
              u = s.length + a.length + (null === l ? 0 : 1) + (null === c ? 0 : 1),
              h = u > 2,
              d = {
                right: {
                  hidden: {
                    checked: {
                      labelled: ye,
                      sided: ve
                    },
                    unchecked: {
                      labelled: Se,
                      sided: be
                    }
                  },
                  visible: {
                    checked: {
                      labelled: we,
                      sided: Pe
                    },
                    unchecked: {
                      labelled: Te,
                      sided: Ce
                    }
                  }
                },
                left: {
                  hidden: {
                    checked: {
                      labelled: ye,
                      sided: xe
                    },
                    unchecked: {
                      labelled: Se,
                      sided: Ee
                    }
                  },
                  visible: {
                    checked: {
                      labelled: we,
                      sided: Ie
                    },
                    unchecked: {
                      labelled: Te,
                      sided: Ae
                    }
                  }
                }
              },
              p = {
                left: this._state.visibleLeftPriceScales(),
                right: this._state.visibleRightPriceScales()
              },
              f = function (t, i) {
                var n = "right" === i ? s : a,
                  o = n[t],
                  l = p[i].includes(o) ? "visible" : "hidden",
                  c = e.priceScale() === o ? "checked" : "unchecked",
                  u = r ? "labelled" : "sided",
                  h = d[i],
                  f = {
                    labelled: h.visible.unchecked.labelled,
                    sided: h.visible.unchecked.sided
                  },
                  _ = fe(i, t).label,
                  m = h[l][c][u].format({
                    label: _
                  }),
                  g = f[u].format({
                    label: _
                  });
                return {
                  actionText: m,
                  undoText: g
                }
              };
            for (t = 0; t < s.length; t++) i = f(t, "right"), n.push(this._createMoveToScaleAction(e, s[t], i.actionText, i.undoText));
            for (null !== l && n.push(l), h && (s.length > 0 || null !== l) && n.push(new j), t = 0; t < a.length; t++) i = f(t, "left"), n.push(this._createMoveToScaleAction(e, a[t], i.actionText, i.undoText));
            return null !== c && n.push(c), h && (a.length > 0 || null !== c) && n.push(new j), n.push(this._createActionNoScale(e)), n
          }, r.prototype._createActionScale = function (e) {
            var t = e.priceScale(),
              n = this._state.priceScalePosition(t),
              o = "left" === n ? this._state.leftPriceScales() : this._state.rightPriceScales(),
              r = o.indexOf(t),
              s = this._chartModel().priceScaleSlotsCount(),
              a = s.totallySlots < 2 ? "dontneedname" : "needname",
              l = fe(n, r).label,
              c = ke.format({
                label: l
              }),
              u = Oe,
              h = {
                "left-needname": c,
                "left-dontneedname": Me,
                "right-needname": c,
                "right-dontneedname": Re,
                "overlay-needname": u,
                "overlay-dontneedname": u
              },
              d = n + "-" + a,
              p = h[d];
            return new H({
              label: p,
              icon: i("/kal"),
              subItems: this.createActionScaleItems(e)
            })
          }, r.prototype.toggleLockTimeAxis = function (e, t) {
            var i, n, o;
            "boolean" != typeof t && (t = !X.lockTimeAxis().value()), t && (n = (i = this._chartUndoModel().timeScale()).coordinateToIndex(e), o = i.points().roughTime(n), X.lockTimeAxisTime.setValue(o)), X.lockTimeAxis().setValue(t)
          }, r.prototype._createLockTimeAxisAction = function (e) {
            var t = X.lockTimeAxis().value();
            return new H({
              label: window.t("Lock Vertical Line On Time Axis"),
              statName: "ToggleLockCursorInTime",
              checkable: !0,
              checked: t,
              onExecute: this.toggleLockTimeAxis.bind(this, e.localX, !t)
            })
          }, r.prototype._createHVLineAction = function (e, t) {
            var i = this;
            return new H({
              label: "vertical" === (t = "vertical" === t ? "vertical" : "horizontal") ? window.t("Create Vertical Line") : window.t("Create Horizontal Line"),
              statName: "vertical" === t ? "CreateVerticalLine" : "CreateHorizontalLine",
              onExecute: function () {
                var n = E(i._state),
                  o = n.mainDataSource().firstValue(),
                  r = i._chartUndoModel().timeScale().coordinateToIndex(e.localX),
                  s = n.defaultPriceScale().coordinateToPrice(e.localY, o),
                  a = i._chartUndoModel().createLineTool(n, {
                    index: r,
                    price: s
                  }, "vertical" === t ? "LineToolVertLine" : "LineToolHorzLine");
                i._finishTool(a)
              }
            })
          }, r.prototype._createMTPredictorActions = function () {
            var e = this,
              t = function (t, i, n) {
                return new H({
                  label: t,
                  onExecute: function () {
                    var t, o, r, s = e._chartUndoModel(),
                      a = s.timeScale(),
                      l = E(e._state),
                      c = l.defaultPriceScale();
                    a.isEmpty() || c.isEmpty() || (n ? (t = l.mainDataSource().firstValue(), o = c.coordinateToPrice(e._contextMenuY, t), r = Math.round(a.coordinateToIndex(e._contextMenuX)), s.createLineTool(l, {
                      index: r,
                      price: o
                    }, i)) : X.tool.setValue(i))
                  }
                })
              };
            return new H({
              label: window.t("MTPredictor"),
              subItems: [t(window.t("Apply Manual Risk/Reward"), "LineStudyMtpRiskReward", !1), t(window.t("Apply Manual Decision Point"), "LineStudyMtpDecisionPoint", !0), t(window.t("Analyze Trade Setup"), "LineStudyMtpAnalysis", !0), new H({
                label: window.t("Apply Elliott Wave"),
                subItems: [t(window.t("Apply Elliott Wave Intermediate"), "LineStudyMtpElliotWaveMain", !0), t(window.t("Apply Elliott Wave Major"), "LineStudyMtpElliotWaveMajor", !0), t(window.t("Apply Elliott Wave Minor"), "LineStudyMtpElliotWaveMinor", !0)]
              }), new H({
                label: window.t("Apply WPT Up Wave"),
                subItems: [t(window.t("Up Wave 1 or A"), "LineStudyMtpUpWave1OrA", !1), t(window.t("Up Wave 2 or B"), "LineStudyMtpUpWave2OrB", !1), t(window.t("Up Wave C"), "LineStudyMtpUpWaveC", !1), t(window.t("Up Wave 3"), "LineStudyMtpUpWave3", !1), t(window.t("Up Wave 4"), "LineStudyMtpUpWave4", !1), t(window.t("Up Wave 5"), "LineStudyMtpUpWave5", !1)]
              }), new H({
                label: window.t("Apply WPT Down Wave"),
                subItems: [t(window.t("Down Wave 1 or A"), "LineStudyMtpDownWave1OrA", !1), t(window.t("Down Wave 2 or B"), "LineStudyMtpDownWave2OrB", !1), t(window.t("Down Wave C"), "LineStudyMtpDownWaveC", !1), t(window.t("Down Wave 3"), "LineStudyMtpDownWave3", !1), t(window.t("Down Wave 4"), "LineStudyMtpDownWave4", !1), t(window.t("Down Wave 5"), "LineStudyMtpDownWave5", !1)]
              })]
            })
          }, r.prototype.createEarningsShow = function (e) {
            var t = this,
              i = this._chartUndoModel().mainSeries().properties().esdShowEarnings;
            return new H({
              label: window.t("Show Earnings"),
              checkable: !0,
              checked: i.value(),
              statName: "ToggleShowEarnings",
              onExecute: function (e) {
                t._chartUndoModel().setProperty(i, e.isChecked(), "Show Earnings")
              }
            })
          }, r.prototype.createDividendsShow = function (e) {
            var t = this,
              i = this._chartUndoModel().mainSeries().properties().esdShowDividends;
            return new H({
              label: window.t("Show Dividends"),
              checkable: !0,
              checked: i.value(),
              statName: "ToggleShowDividends",
              onExecute: function (e) {
                t._chartUndoModel().setProperty(i, e.isChecked(), "Show Dividends")
              }
            })
          }, r.prototype.createSplitsShow = function (e) {
            var t = this,
              i = this._chartUndoModel().mainSeries().properties().esdShowSplits;
            return new H({
              checkable: !0,
              label: window.t("Show Splits"),
              checked: i.value(),
              statName: "ToggleShowSplits",
              onExecute: function (e) {
                t._chartUndoModel().setProperty(i, e.isChecked(), "Show Splits")
              }
            })
          }, r.prototype._studyEsdContextMenu = function (e) {
            var t = [];
            return this._chart.readOnly() || t.push(this.createDividendsShow(e), this.createSplitsShow(e), this.createEarningsShow(e)), q.createMenu(t)
          }, r.prototype._studyContextMenu = function (e) {
            var t, i, o, r = this,
              s = this._chart.actions(),
              a = e.properties().visible.value(),
              l = [];
            return e.userEditEnabled() ? (this._chart.readOnly() ? (l = [a ? s.studyHide : this.createActionShow(e), new j], TradingView.isInherited(e.constructor, u) || l.push(this._createActionScale(e))) : (this._chartModel().canCreateAlertForDataSource(e) && l.push(this._createActionAddAlert({
                series: e
              })), n.enabled("study_on_study") && e.canHaveChildren() && l.push(this.createActionAddChildStudy(e)), !l.length || l[l.length - 1] instanceof j || l.push(new j),
              l.push(this.createVisualOrderAction(e)), TradingView.isInherited(e.constructor, u) || ((t = this._createActionMove(e)) && l.push(t), l.push(this._createActionScale(e))), l.push(new j), (i = e.metaInfo()).pine && (l.push(s.viewSourceCode), s.viewSourceCode.update({
                disabled: !1
              }), M.isAuthToGetPineSourceCode(i.scriptIdPart, i.pine.version).done(function (e) {
                e || s.viewSourceCode.update({
                  disabled: !0
                })
              }).fail(function (e) {
                ce.logError("Failed isAuthToGetPineSourceCode, reason: " + e)
              })), l[l.length - 1] instanceof j || l.push(new j), n.enabled("datasource_copypaste") && !e.isChildStudy() && (o = new H({
                label: window.t("Copy"),
                shortcut: "Ctrl-C",
                shortcutHint: "Ctrl + C",
                statName: "Copy",
                onExecute: function () {
                  r._chart.onAppClipboardCopy([e])
                }
              }), l.push(o)), l.push(a ? s.studyHide : this.createActionShow(e)), l.push(s.studyRemove), this.chart().onWidget() || (l.push(new j), l.push(s.paneObjectTree)), l.push(new j), n.enabled("property_pages") && l.push(s.format), l[l.length - 1] instanceof j && l.pop()), q.createMenu(l, {
              statName: "StudyContextMenu"
            })) : q.createMenu(l)
          }, r.prototype.createLineToolTemplateAction = function (e) {
            var t = this;
            return window.lineToolPropertiesToolbar ? new z(function () {
              var i, n = window.lineToolPropertiesToolbar.templatesList(),
                o = [],
                r = new H({
                  label: window.t("Save As..."),
                  statName: "SaveAs",
                  onExecute: function () {
                    n.showSaveDialog(function (t) {
                      var i = JSON.stringify(e.template());
                      n.saveTemplate(t, i)
                    })
                  }
                });
              return o.push(r), i = new H({
                label: window.t("Apply Default"),
                statName: "ApplyDefault",
                onExecute: function () {
                  t._chartUndoModel().restorePropertiesForSource(e), window.lineToolPropertiesToolbar.onSourceChanged(e)
                }
              }), o.push(i), new Promise(function (e) {
                n.templatesLoaded().then(function () {
                  var e = n.getData();
                  e.length && o.push(new j), $.each(e, function (e, t) {
                    var i = new H({
                      label: t,
                      statName: "ApplyTemplate",
                      onExecute: function () {
                        n.loadTemplate(t)
                      },
                      toolbox: {
                        type: Y.Delete,
                        action: function () {
                          n.deleteAction(t)
                        }
                      },
                      showToolboxOnHover: !0
                    });
                    o.push(i)
                  })
                }, function (e) {
                  ce.logWarn(e)
                }).then(function () {
                  e({
                    label: window.t("Template"),
                    statName: "Template",
                    subItems: o
                  })
                })
              })
            }) : null
          }, r.prototype._publishedChartsContextMenu = function (e) {
            var t, i, n, o, r = this._chart.actions(),
              s = [];
            return s.push(r.lineHide), is_authenticated && (t = function (e) {
              var t = e.getPayload(),
                i = t.target,
                n = t.value;
              i.properties().filter.setValue(n), i.updateAllViews(), i._model.updateSource(i)
            }, i = new H({
              checked: e.properties().filter.value() === D.None,
              checkable: !0,
              label: window.t("Show All Ideas"),
              payload: {
                target: e,
                value: D.None
              },
              statName: "ToggleAllIdeas",
              onExecute: t
            }), n = new H({
              checked: e.properties().filter.value() === D.Following,
              checkable: !0,
              label: window.t("Show Ideas of Followed Users"),
              payload: {
                target: e,
                value: D.Following
              },
              statName: "ToggleIdeasOfPeopleAndUser",
              onExecute: t
            }), o = new H({
              checked: e.properties().filter.value() === D.Private,
              checkable: !0,
              label: window.t("Show My Ideas Only"),
              payload: {
                target: e,
                value: D.Private
              },
              statName: "ToggleUserIdeas",
              onExecute: t
            }), s.push(new j), s.push(i), s.push(n), s.push(o)), q.createMenu(s)
          }, r.prototype._createActionToggleLockObject = function (e) {
            var t = e.properties().frozen.value();
            return new H({
              label: t ? window.t("Unlock") : window.t("Lock"),
              statName: "ToggleLockSelectedObject",
              chackable: !0,
              icon: i(t ? "fs3R" : "qckB"),
              onExecute: this._chart.toggleLockSelectedObject.bind(this._chart)
            })
          }, r.prototype._lineContextMenu = function (e) {
            var t, o, s, a, l, c = [],
              u = this._chart,
              h = u.actions(),
              d = this,
              p = function () {
                c.push(d.createVisualOrderAction(e))
              },
              f = function () {
                var t, n = e.filter(function (e) {
                  return e.properties().clonable && e.properties().clonable.value()
                });
                return n.length && (t = new H({
                  label: window.t("Clone"),
                  callbackContext: {
                    target: n
                  },
                  icon: i("K8V9"),
                  shortcutHint: "Ctrl + Drag",
                  doNotBindShortcut: !0,
                  statName: "Clone",
                  onExecute: r.prototype.cloneLineTools.bind(d, n, !1)
                }), c.push(t)), !!n.length
              },
              _ = function () {
                var t, i = e.filter(function (e) {
                  return n.enabled("datasource_copypaste") && !e.properties().blockCopying
                });
                return i.length && (t = new H({
                  label: window.t("Copy"),
                  shortcutHint: "Ctrl + C",
                  statName: "Copy",
                  onExecute: function () {
                    u.onAppClipboardCopy(i)
                  }
                }), c.push(t)), !!i.length
              },
              m = function () {
                if (n.enabled("support_multicharts") && u.isMultipleLayout()) {
                  var t = new H({
                    label: window.t("Sync To All Charts"),
                    statName: "SyncDrawingToAllCharts",
                    checkable: !0,
                    checked: Boolean(e.some(function (e) {
                      return !!e.linkKey
                    })),
                    onExecute: function (e) {
                      var t;
                      u.chartWidgetCollection() && (t = u.chartWidgetCollection().activeChartWidget.value()), t || (t = u), e.isChecked() ? t.copyLineToOtherCharts() : t.unlinkSelectedLine()
                    }
                  });
                  return c.push(t), !0
                }
                return !1
              },
              g = function () {
                var e, i, n;
                (e = V()) && null !== e.activeBroker() && e.activeBroker().connectionStatus() === F.CONNECTED && e.activeBroker().metainfo().configFlags.supportLimitOrders && null !== (i = t.getOrderTemplate()) && (n = d._chart.model().mainSeries(), i.symbol = n.proSymbol(), c.push(new j), c.push(d._createActionOrder(i)))
              };
            if (1 === e.length) {
              if (t = e[0], u.readOnly()) c.push(h.lineHide);
              else if (t.userEditEnabled() && (n.enabled("alerts") && !d.chart().onWidget() && (t.hasAlert.value() ? (c.push(d._createEditAlertDrawingAction(t)), c.push(new j)) : t.canHasAlert() && (c.push(d._createActionAddAlert({
                  drawing: t
                })), c.push(new j))), n.enabled("charting_library_base") || null !== (o = d.createLineToolTemplateAction(t)) && c.push(o), p(), c.push(h.paneObjectTree), g(), c.push(new j), s = f(), s = _() || s, (s = m(t) || s) && c.push(new j), c.push(this._createActionToggleLockObject(t)), c.push(h.lineHide), c.push(h.lineRemove), c.push(new j), n.enabled("property_pages") && he(t, u.model()) && c.push(h.format), t.additionalActions))
                for (c.push(new j), a = t.additionalActions(u.model()), l = 0; l < a.length; l++) c.push(a[l])
            } else c.push(h.paneObjectTree), p(), c.push(new j), f(), _(), m(), c.push(new j), c.push(h.lineHide), c.push(h.lineRemove);
            return q.createMenu(c, {
              statName: "LineContextMenu"
            })
          }, r.prototype._alertLabelContextMenu = function (e) {
            var t = e.alert(),
              i = [];
            return t.get("active") ? i.push(G.stopAlert(t)) : i.push(G.restartAlert(t)), i.push(G.editAlert(t)), i.push(G.deleteAlert(t)), i.push(new j), i.push(this._createAlertToggleHorzLineLabelAction(e)), q.createMenu(i)
          }, r.prototype._tradingDrawingsContextMenu = function (e) {
            return q.createMenu(e.contextMenuItems())
          }, r.prototype._chartEventsContextMenu = function (e) {
            var t, i, o, r = [];
            return n.enabled("property_pages") && (t = this._chart, i = new H({
              label: window.t("Format..."),
              statName: "Format",
              onExecute: function () {
                t.showGeneralChartProperties(P.eventsAndAlerts)
              }
            }), r.push(i)), o = new H({
              label: window.t("Hide Events on Chart"),
              statName: "HideEvents",
              onExecute: function () {
                e.properties().visible.setValue(!1)
              }
            }), r.push(o), q.createMenu(r)
          }, r.prototype._createAlertToggleHorzLineLabelAction = function (e) {
            var t = this,
              i = R().line.visible;
            return new H({
              checkable: !0,
              label: window.t("Extend Alert Lines"),
              checked: i.value(),
              statName: "ToggleExtendAlertLine",
              onExecute: function () {
                var e = i.value() ? window.t("Hide alert label lines") : window.t("Show alert label lines");
                t._chartUndoModel().setProperty(i, !i.value(), e)
              }
            })
          }, r.prototype._createEditAlertDrawingAction = function (e) {
            if (e.hasAlert.value()) return new H({
              label: window.t("Edit {0} Alert...").format(e.title()),
              icon: i("vKju"),
              statName: "EditAlert",
              onExecute: function () {
                runOrSignIn(function () {
                  e.editAlert()
                }, {
                  source: "Alert edit from pane context menu"
                })
              }
            })
          }, r.prototype.cloneLineTools = function (e, t) {
            return this._chartUndoModel().cloneLineTools(e, t)
          }, r.prototype.setPriceAxisSizes = function (e, t, i) {
            this._priceAxisesContainer(e).setSizes(t, i)
          }, r.prototype.setSize = function (e) {
            if (e.w < 0 || e.h < 0) throw new Error("Try to set invalid size to PaneWidget " + JSON.stringify(e));
            this.size && this.size.equals(e) || (this.size = e, ee(this.canvas, e), ee(this.top_canvas, e), this.ctx = this.canvas.getContext("2d"), this.jqPane.width(e.w), this.jqPane.height(e.h), this._cachedStatus = null, this.jqRow.toggleClass("js-hidden", 0 === e.h))
          }, r.prototype.width = function () {
            return this.size.w
          }, r.prototype.height = function () {
            return this.size.h
          }, r.prototype._hitTestCustomSources = function (e, t, i) {
            var n, o, r, s, a, l, c, u = this._state.height(),
              h = this._state.width(),
              d = this._chartUndoModel().hoveredSource();
            for (n = e.length - 1; n >= 0; --n)
              if (0 !== (r = (o = e[n]).paneViews(this._state)).length)
                for (s = r.length - 1; s >= 0; --s) a = o === d, null !== (l = r[s].renderer(u, h, a)) && void 0 !== l.hitTest && null !== (c = l.hitTest(t)) && i(c, o, l, !0)
          }, r.prototype.dataSourceAtPoint = function (e, t) {
            function i(e, t, i, n) {
              var o = E ? E.result() : 0;
              e.result() > o && (E = e, C = t, x = i, r = n)
            }
            var n, o, r, s, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C = null,
              x = null,
              E = null;
            if (!this._state) return null;
            for (n = this._state.height(), o = this._state.width(), r = !1, s = new a(e, t), this._hitTestCustomSources(this._state.customSources(de.Foreground), s, i), c = (l = this._state.hitTestSources()).length; 0 < c--;)
              if (h = (u = l[c]).paneViews())
                for (d = this._chartUndoModel(), p = h.length; 0 < p--;) f = d.selection().isSelected(u) || u === d.hoveredSource(), (_ = h[p].renderer(n, o, f)) && _.hitTest && (m = _.hitTest(s)) && i(m, u, _, !1);
            for (p = (y = (g = d.crossHairSource()).paneViews(this._state)).length - 1; p >= 0; --p)(_ = y[p].renderer(n, o)) && _.hitTest && (m = _.hitTest(s)) && i(m, g, _, !1);
            if (this.containsMainSeries()) {
              for (v = d.barsMarksSources(), c = 0; c < v.length; ++c)
                for (h = (u = v[c]).paneViews(), p = 0; p < h.length; p++)
                  if (S = (_ = h[p].renderer(n, o)).hitTest(s)) {
                    E = S, C = u, x = _, r = !1;
                    break
                  }(w = (b = d.activeStrategySource().value()) && b._strategyOrdersPaneView) && (P = w.renderer(n, o)) && (T = P.hitTest(s)) && (E = T, C = b, x = P, r = !1)
            }
            return null === C && this._hitTestCustomSources(this._state.customSources(de.Background), s, i), null === C && null !== this._legendWidget && (C = this._legendWidget.dataSourceAtPoint(e, t)), {
              source: C,
              hittest: E,
              renderer: x,
              isCustom: r
            }
          }, r.prototype.update = function () {
            this._lhsPriceAxisesContainer.update(), this._rhsPriceAxisesContainer.update(), null !== this._legendWidget && this._legendWidget.update(), this.updateControls()
          }, r.prototype.updateControls = function () {
            null !== this._paneControls && this._paneControls.update()
          }, r.prototype.drawBackground = function (e, t) {
            ie(e, 0, 0, this.size.w, this.size.h, t)
          }, r.prototype.drawGrid = function (e) {
            var t, i, n = E(this._state),
              o = this._chartUndoModel().gridSource(),
              r = o.paneViews(n),
              s = n.height(),
              a = n.width();
            for (t = 0; t < r.length; t++) e.save(), (i = r[t].renderer(s, a)) && i.draw(e), e.restore()
          }, r.prototype.drawWatermark = function (e) {
            var t, i, n, o, r, s, a = this._chartUndoModel().watermarkSource();
            if (null !== a && (t = E(this._state)).containsMainSeries())
              for (i = a.paneViews(), n = t.height(), o = t.width(), r = 0; r < i.length; r++) e.save(), (s = i[r].renderer(n, o)) && s.draw(e), e.restore()
          }, r.prototype.drawCrossHair = function (e) {
            var t, i, n, o, r, s, a = this._chartUndoModel().crossHairSource();
            if (!a.linesShouldBeHidden() && (!a.visible && X.lockTimeAxis().value() && (a.setLockedPosition(E(this._state)), a.updateAllViews()), t = E(this._state), i = a.paneViews(t)))
              for (n = t.height(), o = t.width(), r = 0; r < i.length; r++)(s = i[r].renderer(n, o)) && (e.save(), s.draw(e), e.restore())
          }, r.prototype._drawSource = function (e, t) {
            var i, n, o, r, s, a, l, c = e.paneViews();
            if (c)
              for (n = (i = E(this._state)).height(), o = i.width(), r = this._chartUndoModel(), s = !this._chart.readOnly() && (r.selection().isSelected(e) || r.hoveredSource() === e), a = 0; a < c.length; a++)(l = c[a].renderer(n, o, s)) && (t.save(), l.draw(t), t.restore())
          }, r.prototype._drawSourceStrategyOrders = function (e, t) {
            var i, n, o, r, s = e._strategyOrdersPaneView;
            s && (n = (i = E(this._state)).height(), o = i.width(), (r = s.renderer(n, o)) && (t.save(), r.draw(t), t.restore()))
          }, r.prototype._drawSourceBackground = function (e, t) {
            var i, n, o, r, s, a = e.paneViews();
            if (a)
              for (n = (i = E(this._state)).height(), o = i.width(), r = 0; r < a.length; r++)(s = a[r].renderer(n, o)) && s.drawBackground && (t.save(), s.drawBackground(t), t.restore())
          }, r.prototype.drawActiveLineTool = function (e) {
            var t = this,
              i = this._chartUndoModel();
            [i.lineBeingCreated(), i.lineBeingEdited()].concat(i.sourcesBeingMoved()).filter(function (e) {
              return !!e
            }).forEach(function (n) {
              i.paneForSource(n) === E(t._state) && t._drawSource(n, e)
            })
          }, r.prototype.disableDrawOnTop = function (e) {
            return e && e._metaInfo && "Volume@tv-basicstudies" === e._metaInfo.id
          }, r.prototype.drawSources = function (e) {
            var t, i, n, o, r, s, a, l = E(this._state),
              c = l.orderedSources(),
              u = l.model(),
              h = this,
              d = this._chartUndoModel(),
              p = d.selection().sources().filter(function (e) {
                return !h.disableDrawOnTop(e)
              }),
              f = d.hoveredSource(),
              _ = u.crossHairSource(),
              m = [d.lineBeingCreated(), d.lineBeingEdited()].concat(d.sourcesBeingMoved());
            for (this.disableDrawOnTop(f) && (f = void 0), i = (t = d.model().panes()).length - 1; i >= 0; i--) t[i].createDrawingsCaches();
            for (n = this._state.customSources(de.Foreground), o = this._state.customSources(de.Background),
              i = 0; i < o.length; ++i) this._drawCustomSourceBackground(o[i], e);
            for (i = 0; i < c.length; i++) this._drawSourceBackground(c[i], e);
            for (i = 0; i < n.length; ++i) this._drawCustomSourceBackground(n[i], e);
            for (i = 0; i < o.length; ++i) this._drawCustomSource(o[i], e);
            for (i = 0; i < c.length; i++)(r = c[i]) === _ || p.includes(r) || r === f || m.includes(r) || this._drawSource(r, e);
            for (i = 0; i < n.length; ++i)(r = n[i]) !== f && this._drawCustomSource(r, e);
            for ((s = p.filter(function (e) {
                return !m.includes(e) && c.includes(e)
              })).forEach(function (t) {
                h._drawSource(t, e)
              }), f && (s.includes(f) || -1 !== m.indexOf(f) || -1 === c.indexOf(f) ? -1 !== n.indexOf(f) && this._drawCustomSource(f, e) : this._drawSource(f, e)), (a = d.activeStrategySource().value()) && this.containsMainSeries() && this._drawSourceStrategyOrders(a, e), i = t.length - 1; i >= 0; i--) t[i].clearDrawingCaches()
          }, r.prototype._drawCustomSource = function (e, t) {
            var i, n, o = E(this._state),
              r = o.height(),
              s = o.width(),
              a = this._chartUndoModel(),
              l = a.hoveredSource() === e,
              c = e.paneViews(o);
            for (i = 0; i < c.length; ++i) null !== (n = c[i].renderer(r, s, l)) && (t.save(), n.draw(t), t.restore())
          }, r.prototype._drawCustomSourceBackground = function (e, t) {
            var i, n, o = E(this._state),
              r = o.height(),
              s = o.width(),
              a = e.paneViews(o);
            for (i = 0; i < a.length; ++i) null !== (n = a[i].renderer(r, s)) && void 0 !== n.drawBackground && (t.save(), n.drawBackground(t), t.restore())
          }, r.prototype.recalculatePriceScale = function () {
            var e, t, i, n = E(this._state);
            for (n.leftPriceScales().forEach(function (e) {
                n.recalculatePriceScale(e)
              }), n.rightPriceScales().forEach(function (e) {
                n.recalculatePriceScale(e)
              }), e = n.dataSources(), t = 0; t < e.length; ++t) i = e[t], n.isOverlay(i) && (i instanceof _ || n.recalculatePriceScale(i.priceScale()), i.updateAllViews())
          }, r.prototype.containsMainSeries = function () {
            return E(this._state).containsMainSeries()
          }, r.prototype.drawBarsMarks = function (e, t) {
            var i, n;
            this.containsMainSeries() && !t && (i = this._chartUndoModel().barsMarksSources(), n = this, i.forEach(function (t) {
              n._drawSource(t, e)
            }))
          }, r.prototype.hardResetCanvas = function () {
            this.size && (te(this.canvas, this.size), te(this.top_canvas, this.size), this._lhsPriceAxisesContainer.hardResetCanvas(), this._rhsPriceAxisesContainer.hardResetCanvas())
          }, r.prototype.paint = function (e, t) {
            if (e && this._chartUndoModel() && this._state)
              if (e > J.UPDATE_CURSOR_ONLY && this._state && this.recalculatePriceScale(), this._lhsPriceAxisesContainer.paint(e), this._rhsPriceAxisesContainer.paint(e), e === J.FULL_UPDATE && (this._cachedStatus = null), e === J.UPDATE_CURSOR_ONLY) this.top_ctx.clearRect(-.5, -.5, this.size.w, this.size.h), this.drawCrossHair(this.top_ctx), this.drawActiveLineTool(this.top_ctx);
              else {
                var i = this.ctx;
                this.top_ctx.clearRect(-.5, -.5, this.size.w, this.size.h), this.drawBackground(i, this.backgroundColor()), this._state && (this.drawGrid(i), this.drawWatermark(i), this.drawSources(i), this.drawBarsMarks(i, t), this.drawCrossHair(this.top_ctx), this.drawActiveLineTool(this.top_ctx))
              }
          }, r.prototype._priceAxisesContainer = function (e) {
            return h.isLeft(e) ? this._lhsPriceAxisesContainer : this._rhsPriceAxisesContainer
          }, r.prototype.statusWidget = function () {
            return this._legendWidget
          }, r.prototype.onDetachLeft = function (e) {
            var t = E(this._state),
              i = e.getPayload();
            this.chart().model().detachToLeft(i, t)
          }, r.prototype.onDetachRight = function (e) {
            var t = E(this._state),
              i = e.getPayload();
            this.chart().model().detachToRight(i, t)
          }, r.prototype.onNoScale = function (e) {
            var t = E(this._state),
              i = e.getPayload();
            t.isOverlay(i) || this.chart().model().detachNoScale(i, t)
          }, r.prototype.onMoveToScale = function (e) {
            var t = e.getPayload();
            t.datasource.priceScale() !== t.priceScale && this.chart().model().moveToScale(t.datasource, this._state, t.priceScale, t.undoText)
          }, r.prototype._createActionTrade = function (e) {
            var t = this;
            return new z(function () {
              var i = new Promise(function (i, n) {
                var o, r, s = V();
                if (!s || !s.availableBrokers().length) return i({
                  label: window.t("Trade"),
                  disabled: !0
                });
                o = t._state.dataSources().filter(function (e) {
                  return e instanceof TradingView.Series
                })[0] || t._chartUndoModel().mainSeries(), e && (r = e.localY), B(o, r).then(function (e) {
                  try {
                    return s.chartContextMenuActions(e)
                  } catch (e) {
                    ce.logError(e.message)
                  }
                }).then(function (e) {
                  i(e ? {
                    name: "trade",
                    label: window.t("Trade"),
                    subItems: e,
                    statName: "Trading"
                  } : {
                    label: window.t("Trade"),
                    disabled: !0
                  })
                }).catch(function () {
                  n("Unable to get Trade Context")
                })
              });
              return C(i, 2e3, "Action trade not received")
            })
          }, r.prototype.createActionLockScale = function (e) {
            var t, i;
            return e instanceof TradingView.Series ? (t = d(e.priceScale(), this._chartUndoModel().model().mainSeriesScaleRatio()), (i = new H({
              checkable: e.priceScale().isLockScale(),
              label: window.t("Lock Scale") + " " + t,
              statName: "LockScale"
            }))._binding = new T(i, e.priceScale().properties().lockScale, this._chartUndoModel(), "Lock Scale", function () {
              var t = {
                lockScale: this.value()
              };
              this._undoModel.setPriceScaleMode(t, e.priceScale(), this._undoText)
            }), i) : null
          }, r.prototype.createActionMergeUp = function (e) {
            return this._chartModel().isMergeUpAvailableForSource(e) ? new H({
              label: window.t("Existing Pane Above"),
              statName: "MergeUp",
              payload: e,
              onExecute: r.prototype.onMergeUp.bind(this)
            }) : null
          }, r.prototype.onMergeUp = function (e) {
            var t = e.getPayload();
            this._chartUndoModel().mergeSourceUp(t)
          }, r.prototype.createActionUnmergeUp = function (e) {
            return this._chartModel().isUnmergeAvailableForSource(e) ? new H({
              label: window.t("New Pane Above"),
              statName: "UnmergeUp",
              payload: e,
              onExecute: r.prototype.onUnmergeUp.bind(this)
            }) : null
          }, r.prototype.onUnmergeUp = function (e) {
            var t = e.getPayload();
            this._chartUndoModel().unmergeSourceUp(t)
          }, r.prototype.createActionMergeDown = function (e) {
            return this._chartModel().isMergeDownAvailableForSource(e) ? new H({
              label: window.t("Existing Pane Below"),
              statName: "MergeDown",
              payload: e,
              onExecute: r.prototype.onMergeDown.bind(this)
            }) : null
          }, r.prototype.onMergeDown = function (e) {
            var t = e.getPayload();
            this._chartUndoModel().mergeSourceDown(t)
          }, r.prototype.createActionUnmergeDown = function (e) {
            return this._chartModel().isUnmergeAvailableForSource(e) ? new H({
              label: window.t("New Pane Below"),
              statName: "UnmergeDown",
              payload: e,
              onExecute: r.prototype.onUnmergeDown.bind(this)
            }) : null
          }, r.prototype.onUnmergeDown = function (e) {
            var t = e.getPayload();
            this._chartUndoModel().unmergeSourceDown(t)
          }, r.prototype._mergeContentMenuItems = function (e) {
            var t = [],
              i = this.createActionMergeUp(e);
            return i && t.push(i),
              (i = this.createActionUnmergeUp(e)) && t.push(i), (i = this.createActionMergeDown(e)) && t.push(i), (i = this.createActionUnmergeDown(e)) && t.push(i), t
          }, r.prototype.createActionShow = function (e) {
            var t = new H({
              checkable: !0,
              label: window.t("Show"),
              icon: i("6ctS"),
              statName: "ToggleShow"
            });
            return t._binding = new T(t, e.properties().visible, this._chartUndoModel(), t.getLabel()), t._binding.setValue(e.properties().visible.value()), t
          }, r.prototype.createActionAddChildStudy = function (e) {
            var t = this;
            return new H({
              label: window.t("Add Indicator on {0}...").format(e.title(!0)),
              icon: i("CwKc"),
              statName: "ApplyIndicator",
              onExecute: function () {
                var i, n, o = t._chart.showIndicators(e);
                o && (i = function () {
                  w("SOS", "Apply SOS", "Apply by RC menu")
                }, (n = t._chartModel().studyInserted()).subscribe(t, i), o.visibilityChanged.subscribe(t, function (e) {
                  e || n.unsubscribe(t, i)
                }, !0))
              }
            })
          }, r.prototype.bringObjectForward = function (e) {
            var t = this._chartUndoModel().selection().sources();
            t.length && this._chartUndoModel().changeZOrder(t, 1)
          }, r.prototype.sendObjectToBack = function (e) {
            var t = this._chartUndoModel().selection().sources();
            t.length && this._chartUndoModel().sendToBack(t)
          }, r.prototype.bringObjectToFront = function (e) {
            var t = this._chartUndoModel().selection().sources();
            t.length && this._chartUndoModel().bringToFront(t)
          }, r.prototype.sendObjectBackward = function (e) {
            var t = this._chartUndoModel().selection().sources();
            t.length && this._chartUndoModel().changeZOrder(t, -1)
          }, r.prototype.createVisualOrderAction = function (e) {
            var t, n, o, s, a, l, c = new H({
              text: window.t("Visual Order"),
              statName: "VisualOrder"
            });
            return c.subActions || (c.subActions = []), t = new H({
              text: window.t("Bring to Front"),
              statName: "BringToFront",
              onExecute: r.prototype.bringObjectToFront
            }), c.subActions.push(t), n = new H({
              text: window.t("Send to Back"),
              statName: "SendToBack",
              onExecute: r.prototype.sendObjectToBack
            }), c.subActions.push(n), o = new H({
              text: window.t("Bring Forward"),
              statName: "BringForward",
              onExecute: r.prototype.bringObjectForward
            }), c.subActions.push(o), s = new H({
              text: window.t("Send Backward"),
              statName: "SendBackward",
              onExecute: r.prototype.sendObjectBackward
            }), c.subActions.push(s), a = x(e) ? e[0] : e, l = this._chartUndoModel().paneForSource(a).getZOrderMinMax(), new H({
              label: window.t("Visual Order"),
              icon: i("9dnG"),
              statName: "VisualOrder",
              subItems: [new H({
                label: window.t("Bring to Front"),
                statName: "BringToFront",
                disabled: a.zorder() === l.maxZOrder,
                onExecute: r.prototype.bringObjectToFront.bind(this)
              }), new H({
                label: window.t("Send to Back"),
                statName: "SendToBack",
                disabled: a.zorder() === l.minZOrder,
                onExecute: r.prototype.sendObjectToBack.bind(this)
              }), new H({
                label: window.t("Bring Forward"),
                statName: "BringForward",
                disabled: a.zorder() === l.maxZOrder,
                onExecute: r.prototype.bringObjectForward.bind(this)
              }), new H({
                label: window.t("Send Backward"),
                statName: "SendBackward",
                disabled: a.zorder() === l.minZOrder,
                onExecute: r.prototype.sendObjectBackward.bind(this)
              })]
            })
          }, r.prototype._createActionMove = function (e) {
            var t = this._mergeContentMenuItems(e);
            return t.length ? new H({
              label: window.t("Move To"),
              icon: i("BBCR"),
              subItems: t
            }) : null
          }, r.prototype._createActionAddAlert = function (e) {
            function t(e) {
              _.series = e
            }

            function n(e, t) {
              void 0 === e || null === e || TradingView.isNaN(e) || (m += " (" + t.format(e) + ")", _.value = e)
            }

            function o(e) {
              e instanceof TradingView.Series ? y = "ContextMenuSeries" : e instanceof c && (y = "ContextMenuStudy")
            }
            var r, s, a, l, u, h, d, p, f = this._chart,
              _ = {},
              m = window.t("Add Alert"),
              g = E(this._state),
              y = null;
            if (e.series) {
              if (e.series instanceof TradingView.Series)(r = e.series.lastValueData(TradingView.CLOSE_PLOT, !0, !0)) && r.price && (s = (e.series.priceScale() || g.mainDataSource().priceScale() || f.model().mainSeries().priceScale()).formatter(), n(r.price, s));
              else if (e.series instanceof c) {
                if (m = window.t("Add Alert on {series}").format({
                    series: e.series.title(!0)
                  }), null === (a = e.series.defaultPlotIdForAlert())) return null;
                (l = e.series.lastValueData(a, !0, !0)) && l.price && (s = (e.series.priceScale() || g.mainDataSource().priceScale() || f.model().mainSeries().priceScale()).formatter(), n(l.price, s))
              }
              t(e.series), o(e.series)
            } else e.e ? (u = g.defaultPriceScale(), h = g.mainDataSource().firstValue(), n(u.coordinateToPrice(e.e.localY, h), s = g.mainDataSource().formatter()), t(d = g.mainDataSource()), o(d)) : e.drawing && (m = window.t("Add Alert on {drawing}").format({
              drawing: e.drawing.title()
            }), p = e.drawing, _ = {
              drawing: p
            }, y = "ContextMenuDrawing");
            return new H({
              label: m += "...",
              icon: i("rzvv"),
              shortcutHint: "Alt + A",
              statName: "AddAlert",
              onExecute: function () {
                null !== y && (w("GUI", "CreateAlert", y), y = null);
                var e = i("2O5g").invokeAlertEditor;
                runOrSignIn(function () {
                  e(_)
                }, {
                  source: "Alert add from pane context menu",
                  sourceMeta: "Chart"
                })
              }
            })
          }, r.prototype._createActionOrder = function (e) {
            var t = V();
            return new H({
              label: window.t("Create Limit Order..."),
              statName: "CreateLimitOrder",
              onExecute: function () {
                t.trackEvent("Chart Context Menu", "RiskRewardCreateLimitOrder"), t.brokerCommandsUI().placeOrder(e)
              }
            })
          }, r.prototype.getScreenshotData = function () {
            var e = {};
            return e.leftAxis = this._lhsPriceAxisesContainer.getScreenshotData(), e.rightAxis = this._rhsPriceAxisesContainer.getScreenshotData(), e.content = this.canvas.toDataURL(), e.contentWidth = this.size.w, e.contentHeight = this.size.h, e
          }, r.prototype._updateTooltip = function (e, t) {
            if (!this._rafSet) {
              var i = this;
              requestAnimationFrame(function () {
                i._state && (i._updateTooltipImpl(e, t), i._rafSet = !1)
              }), this._rafSet = !0
            }
          }, r.prototype._updateTooltipImpl = function (e, t) {
            function i(i) {
              TradingView[r].getTooltipText && (i = TradingView[r].getTooltipText(a) || i), n._tooltipSelector.html(i).removeClass("tooltip-selector-hidden").css(TradingView.isMobile.any() ? {
                left: e - n._tooltipSelector.outerWidth() - 16,
                top: t - n._tooltipSelector.outerHeight() - 16
              } : {
                left: e + 16,
                top: t + 16
              })
            }
            var n, o, r, s, a, l;
            if (this._chart) {
              for (e = this._correctXCoord(e), t = this._correctYCoord(t), n = this, o = this._chart.paneWidgets(), r = X.tool.value(), s = E(this._state).model(), a = s.lineBeingCreated(), l = o.length - 1; l >= 0; l--) o[l]._hideTooltip();
              this._isSelectBarModeEnabled() || (S(r) && !TradingView.isMobile.any() ? i(window.t("Click to set a point")) : TradingView.isMobile.any() && "LineToolBrush" !== r && y(r) && !n._chartUndoModel().lineBeingCreated() ? i(window.t("1. Slide your finger to select location for first anchor{new_line}2. Tap anywhere to place the first anchor").format({
                new_line: "<br>"
              })) : TradingView.isMobile.any() && "LineToolBrush" !== r && y(r) && i(window.t("1. Slide your finger to select location for next anchor{new_line}2. Tap anywhere to place the next anchor").format({
                new_line: "<br>"
              })))
            }
          }, r.prototype._hideTooltip = function () {
            this._tooltipSelector.addClass("tooltip-selector-hidden")
          }, r.prototype._updateCrosshairOnZoom = function () {
            if (X.lockTimeAxis().value()) {
              var e = this._chartUndoModel().crossHairSource();
              e.setPosition(e.index, e.price, E(this._state))
            }
          }, r.prototype._isSelectBarModeEnabled = function () {
            return this._chartUndoModel().crossHairSource().selectBarMode().value()
          }, r.prototype.leftPriceAxisesContainer = function () {
            return this._lhsPriceAxisesContainer
          }, r.prototype.rightPriceAxisesContainer = function () {
            return this._rhsPriceAxisesContainer
          }, r.prototype._tryStartMeasure = function (e, t, i, n, o) {
            return "measure" === X.tool.value() && !t.startMeasurePoint() && !i.control() && (this._preventCrossHairMove() || this._setCursorPosition(e.localX, e.localY, i), n = this._chartModel().magnet().align(n, o, this._state), t.startMeasuring({
              price: n,
              index: o,
              x: e.localX,
              y: e.localY
            }, this._state), !0)
          }, r.prototype._tryFinishMeasure = function (e, t) {
            var i, n;
            return !(!t.startMeasurePoint() || t.endMeasurePoint()) && (i = t.price, n = t.index, i = this._chartModel().magnet().align(i, n, this._state), t.finishMeasure({
              price: i,
              index: n,
              x: e.localX,
              y: e.localY
            }), X.resetToCursor(), this._preventCrossHairMove() && this._clearCursorPosition(), !0)
          }, r.prototype._tryFinishZoom = function (e) {
            return !!this._firstZoomPoint && (this._finishZoom(e), !0)
          }, r.prototype._tryStartZoom = function (e, t, i, n) {
            var o, r, s = this._chart.model().model().zoomEnabled();
            return !("zoom" !== X.tool.value() || !s) && (r = (o = this._chartUndoModel()).timeScale().indexToCoordinate(i) - .5 * o.timeScale().barSpacing(), this._firstZoomPoint = {
              price: t,
              index: i,
              x: r,
              y: e.localY
            }, this._zoomSelector.css("display", "block"), this._zoomSelector.css("left", r), this._zoomSelector.css("top", e.localY), this._zoomSelector.width(0), this._zoomSelector.height(0), this._preventCrossHairMove() || this._setCursorPosition(e.localX, e.localY, n), !0)
          }, r.prototype.highlightedPriceAxis = function () {
            return this._highlightedPriceAxis
          }, e.exports.PaneWidget = r
      }).call(this, i("hY0g"), i("Kxc7"))
    },
    mpWx: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n = Promise.reject();
        for (i = 0; i < t; ++i) n = n.catch(e);
        return n
      }
      i.r(t), i.d(t, "retries", function () {
        return n
      })
    },
    n33C: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h;
      i.r(t), i.d(t, "SetChartStyleCommand", function () {
        return h
      }), n = i("mrSG"), o = i("RDU5"), r = i("Ocx9"), s = i("n5al"), a = i("PT1i"), l = i("HvwJ"), c = i.n(l), u = i("pPtI"), h = function (e) {
        function t(t, i, n, o, r, s) {
          var a = e.call(this, o) || this;
          return a._prevPriceAxisProps = {}, a._property = t, a._mainSeries = n, a._value = i, a._model = r, a._chartWidget = s, a
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          var e, t, i, n = this._mainSeries,
            o = n.properties();
          o.style === this._property && n.isNeedRestart(this._value) && this._chartWidget.screen.show(), this._prevResolution = o.interval.value(), this._prevValue = this._property.value(), this._storePriceAxisProps(), Object(r.saveDefaultProperties)(!0), e = o.interval.value(), t = this._model.defaultResolutions(), i = Object(u.getResolutionByChartStyle)(this._value, e, t), a.linking.interval.setValue(i), n.setChartStyleWithIntervalIfNeeded(this._value, i), Object(s.setLastUsedStyle)(this._value), Object(s.preparePriceAxisProperties)(o), Object(r.saveDefaultProperties)(!1), this._invalidateModel()
        }, t.prototype.undo = function () {
          var e = this._mainSeries,
            t = e.properties();
          t.style === this._property && e.isNeedRestart(this._value) && this._chartWidget.screen.show(), Object(r.saveDefaultProperties)(!0), e.setChartStyleWithIntervalIfNeeded(this._prevValue, this._prevResolution), this._restorePriceAxisProps(), a.linking.interval.setValue(this._prevResolution), Object(r.saveDefaultProperties)(!1), this._invalidateModel()
        }, t.prototype._storePriceAxisProps = function () {
          var e = this._mainSeries.priceScale();
          this._prevPriceAxisProps = e.mode()
        }, t.prototype._restorePriceAxisProps = function () {
          this._mainSeries.priceScale().setMode(this._prevPriceAxisProps)
        }, t.prototype._invalidateModel = function () {
          this._model && (this._model.recalculateAllPanes(), this._model.invalidate(new c.a(c.a.LIGHT_UPDATE)))
        }, t
      }(o.UndoCommand)
    },
    n40Z: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolVertLine";
        var r = t || n.createProperties();
        this._timeAxisView = new a(this, e), o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("BSCN").VertLinePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages,
        a = i("GmZZ").LineToolVertLineTimeAxisView;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 1
      }, n.prototype.title = function () {
        return "Vertical Line"
      }, n.prototype.name = function () {
        return "Vertical Line"
      }, n.prototype.timeAxisViews = function () {
        return this.isSourceHidden() ? null : this.properties().showTime.value() ? [this._timeAxisView] : null
      }, n.prototype.updateAllViews = function () {
        o.prototype.updateAllViews.call(this), this._timeAxisView.update()
      }, n.prototype.canHasAlert = function () {
        return !0
      }, n.prototype._getAlertPlots = function () {
        var e = this._points[0],
          t = {
            index: e.index,
            price: e.price + 1
          };
        return [this._linePointsToAlertPlot([e, t], null, !0, !0)]
      }, n.prototype.getInputsPropertyPage = function () {
        return s.LineToolVertLineInputsPropertyPage
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolVertLineStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolvertline", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolVertLine = n
    },
    n5al: function (e, t, i) {
      "use strict";

      function n(e) {
        return -1 !== P.indexOf(e)
      }

      function o(e) {
        return -1 !== T.indexOf(e)
      }

      function r(e) {
        return e === v.STYLE_RANGE
      }

      function s(e) {
        return -1 !== C.indexOf(e)
      }

      function a(e) {
        return o(e) || s(e)
      }

      function l(e) {
        a(e) && e !== v.STYLE_RANGE && y.setValue("chart.lastUsedStyle", e)
      }

      function c() {
        var e = y.getInt("chart.lastUsedStyle");
        return void 0 === e ? v.STYLE_CANDLES : e
      }

      function u(e) {
        return e ? v.STYLE_RANGE : v.STYLE_CANDLES
      }

      function h(e, t) {
        var i = r(t),
          n = S.Interval.isRange(e);
        return !i && n ? u(!0) : i && !n ? u(!1) : t
      }

      function d(e, t) {
        return e in v.SYMBOL_STRING_DATA ? t ? v.SYMBOL_STRING_DATA[e].type + "-" + v.SYMBOL_STRING_DATA[e].basicStudyVersion : v.SYMBOL_STRING_DATA[e].type : null
      }

      function p(e) {
        var t = e.priceAxisProperties,
          i = t.lockScale.value(),
          n = e.style.value() === v.STYLE_PNF;
        (n || i) && (t.log.setValue(!1), t.percentage.setValue(!1)), t.logDisabled.setValue(!(!n && !i)), t.percentageDisabled.setValue(!(!n && !i))
      }

      function f(e) {
        return -1 !== E.indexOf(e)
      }

      function _(e) {
        return x.includes(e)
      }

      function m(e, t, i) {
        var n, o, r, s, a;
        return void 0 === i && (i = !1), n = 100, o = 1, "default" === t ? null != e && (n = e.pricescale, o = e.minmov, r = e.fractional, s = e.minmove2) : (3 !== (a = t.split(",")).length && (a = ["100", "1", "false"]), n = parseInt(a[0]), o = parseInt(a[1]), r = "true" === a[2]), i && (o = 1), new b.PriceFormatter(n, o, r, s)
      }

      function g(e, t) {
        var i = e && (e.pro_name || e.full_name || e.name);
        return w.enabled("charting_library_single_symbol_request") && t ? i = t : w.enabled("use_ticker_on_symbol_info_update") && e && e.ticker && (i = e.ticker), i
      }
      var y, v, S, b, w, P, T, C, x, E;
      i.r(t), i.d(t, "isRequiringRestartSeriesStyles", function () {
        return n
      }), i.d(t, "isRangeBasedStyle", function () {
        return o
      }), i.d(t, "isRangeStyle", function () {
        return r
      }), i.d(t, "isTimeBasedStyle", function () {
        return s
      }), i.d(t, "isValidStyle", function () {
        return a
      }), i.d(t, "setLastUsedStyle", function () {
        return l
      }), i.d(t, "getLastUsedStyle", function () {
        return c
      }), i.d(t, "getDefaultStyle", function () {
        return u
      }), i.d(t, "getChartStyleByResolution", function () {
        return h
      }), i.d(t, "chartStyleStudyId", function () {
        return d
      }), i.d(t, "preparePriceAxisProperties", function () {
        return p
      }), i.d(t, "hasProjection", function () {
        return f
      }), i.d(t, "isPriceSourceStyle", function () {
        return _
      }), i.d(t, "createSeriesFormatter", function () {
        return m
      }), i.d(t, "extractSymbolNameFromSymbolInfo", function () {
        return g
      }), y = i("Vdly"), v = i("dfhE"), S = i("LxhU"), b = i("kcTO"), w = i("Kxc7"), P = [v.STYLE_RENKO, v.STYLE_KAGI, v.STYLE_PNF, v.STYLE_PB, v.STYLE_HEIKEN_ASHI], T = [v.STYLE_RENKO, v.STYLE_KAGI, v.STYLE_PNF, v.STYLE_PB, v.STYLE_HEIKEN_ASHI, v.STYLE_RANGE], C = [v.STYLE_BARS, v.STYLE_CANDLES, v.STYLE_HOLLOW_CANDLES, v.STYLE_LINE, v.STYLE_AREA, v.STYLE_BASELINE], x = [v.STYLE_LINE, v.STYLE_BASELINE, v.STYLE_AREA], E = [v.STYLE_RENKO, v.STYLE_PB, v.STYLE_KAGI, v.STYLE_PNF]
    },
    nBJD: function (e, t, i) {
      "use strict";
      i.d(t, "a", function () {
        return n
      });
      var n = function () {
        function e(e) {
          this._text = "", this._size = "13px", this._bold = !1, this._colorProperty = e
        }
        return e.prototype.text = function () {
          return this._text
        }, e.prototype.setText = function (e) {
          this._text = e
        }, e.prototype.color = function () {
          return this._colorProperty.value()
        }, e.prototype.bold = function () {
          return this._bold
        }, e.prototype.size = function () {
          return this._size
        }, e
      }()
    },
    nEwK: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "PLACE_HOLDER", function () {
        return s
      }), i.d(t, "VolumeFormatter", function () {
        return a
      }), n = i("zXvd"), o = i("ogJP"), r = i("ivNn"), i("YFKU"), s = "---", a = function () {
        function e(e) {
          this.type = "volume", this._numericFormatter = new n.NumericFormatter, this._fractionalValues = void 0 !== e && e > 0, this._precision = e
        }
        return e.prototype.state = function () {
          return {
            precision: this._precision
          }
        }, e.prototype.format = function (e) {
          if (!Object(o.isNumber)(e)) return s;
          var t = "";
          return e < 0 && (t = "-", e = -e), e >= 1e100 ? window.t("N/A") : (!this._fractionalValues || e >= 995 ? e = Math.round(e) : this._fractionalValues && (e = +e.toFixed(this._precision)), e < 995 ? t + this._formatNumber(e) : e < 999995 ? t + this._formatNumber(e / 1e3) + "K" : e < 999999995 ? (e = 1e3 * Math.round(e / 1e3), t + this._formatNumber(e / 1e6) + "M") : (e = 1e6 * Math.round(e / 1e6), t + this._formatNumber(e / 1e9) + "B"))
        }, e.prototype.parse = function (e) {
          var t, i, n;
          return "---" === e ? {
            error: "not a number",
            res: !1,
            value: NaN
          } : (t = {
            K: 1e3,
            M: 1e6,
            B: 1e9
          }, i = e.slice(-1), t.hasOwnProperty(i) ? (n = this._numericFormatter.parse(e.slice(0, -1)), Object(o.isNumber)(n) ? {
            res: !0,
            value: n * t[i]
          } : {
            error: "not a number",
            res: !1,
            value: NaN
          }) : (n = this._numericFormatter.parse(e), Object(o.isNumber)(n) ? {
            res: !0,
            value: n
          } : {
            error: "not a number",
            res: !1,
            value: NaN
          }))
        }, e.serialize = function (e) {
          return e.state()
        }, e.deserialize = function (t) {
          return new e(t.precision)
        }, e.prototype._formatNumber = function (e) {
          return this._fractionalValues && (e = Object(r.fixComputationError)(e)), this._numericFormatter.format(e).replace(/(\.[1-9]*)0+$/, function (e, t) {
            return t
          })
        }, e
      }()
    },
    nW7S: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e, t) {
          this._constructor = "LineToolTrendAngleLine";
          var o = t || n.createProperties();
          r.call(this, e, o), this._properties.addChild("angle", new n.AngleProperty(this)), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("XHET").TrendAnglePaneView;
            this._setPaneViews([new t(this, this._model)])
          }.bind(this).bind(null, i)).catch(i.oe)
        }
        var o = i("aO4+").Point,
          r = i("Ss5c").LineDataSource,
          s = i("Ocx9").DefaultProperty,
          a = i("hayr").propertyPages;
        inherit(n, r), n.AngleProperty = function (t) {
          e.call(this), this._lineSource = t
        }, inherit(n.AngleProperty, e), n.AngleProperty.prototype.value = function () {
          var e = this._lineSource._angle,
            t = 180 * e / Math.PI;
          return Math.round(t)
        }, n.AngleProperty.prototype.setValue = function (e) {
          var t, i, n, r, s, a, l = e * Math.PI / 180;
          this._lineSource._angle = l, t = this._lineSource.pointToScreenPoint(this._lineSource.points()[0])[0], i = Math.cos(this._lineSource._angle), n = -Math.sin(this._lineSource._angle), r = new o(i, n), s = t.addScaled(r, this._lineSource._distance), a = this._lineSource.screenPointToPoint(s), this._lineSource._points[1] = a, this._lineSource._model.updateSource(this._lineSource), this._lineSource.updateAllViews(), this._lineSource._model.updateSource(this._lineSource)
        }, n.prototype.pointsCount = function () {
          return 2
        }, n.prototype.title = function () {
          return "Trend Angle"
        }, n.prototype.name = function () {
          return "Trend Angle"
        }, n.prototype._calculateAngle = function () {
          var e = this.pointToScreenPoint(this.points()[0])[0],
            t = this.pointToScreenPoint(this.points()[1])[0],
            i = t.subtract(e);
          i.length() > 0 ? (i = i.normalized(), this._angle = Math.acos(i.x), i.y > 0 && (this._angle = -this._angle),
            this._distance = t.subtract(e).length()) : delete this._angle, this.properties().hasOwnProperty("angle") && this.properties().angle.listeners().fire(this.properties().angle)
        }, n.prototype.addPoint = function (e, t) {
          var i = r.prototype.addPoint.call(this, e, t);
          return i && this._calculateAngle(), i
        }, n.prototype.setLastPoint = function (e, t) {
          r.prototype.setLastPoint.call(this, e, t), this.points().length > 1 && this._calculateAngle()
        }, n.prototype.axisPoints = function () {
          var e, t, i, n, r, s, a = this.points();
          return a.length < 2 ? [] : (e = [this.points()[0]], t = this.pointToScreenPoint(this.points()[0])[1], i = Math.cos(this._angle) * this._distance, n = -Math.sin(this._angle) * this._distance, r = t.add(new o(i, n)), s = this.screenPointToPoint(r), e.push(s), e)
        }, n.prototype.setPoint = function (e, t, i) {
          r.prototype.setPoint.call(this, e, t, i), this.points().length > 1 && 1 === e && this._calculateAngle()
        }, n.prototype.restoreData = function (e) {
          this._angle = e.angle, this._distance = e.distance
        }, n.prototype.state = function (e) {
          var t = r.prototype.state.call(this, e);
          return t.angle = this._angle, t.distance = this._distance, t
        }, n.prototype.cloneData = function (e) {
          this._angle = e._angle, this._distance = e._distance
        }, n.prototype.canHasAlert = function () {
          return !0
        }, n.prototype._getAlertPlots = function () {
          return [this._linePointsToAlertPlot(this._points, null, this.properties().extendLeft.value(), this.properties().extendRight.value())]
        }, n.prototype.getInputsPropertyPage = function () {
          return a.LineToolTrendAngleInputsPropertyPage
        }, n.prototype.getStylesPropertyPage = function () {
          return a.LineToolTrendAngleStylesPropertyPage
        }, n.createProperties = function (e) {
          var t = new s("linetooltrendangle", e);
          return n._configureProperties(t), t
        }, n._configureProperties = function (e) {
          r._configureProperties(e)
        }, t.LineToolTrendAngle = n
      }).call(this, i("tc+8"))
    },
    nXyu: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        void 0 !== t && void 0 !== i && i.forEach(function (i) {
          var n, o = e[i];
          "string" == typeof o ? (n = o.split("$")[1], e[i] = t + (void 0 === n ? "" : "$" + n)) : "source" === o.t ? (n = o.v.split("$")[1], o.v = t + (void 0 === n ? "" : "$" + n)) : c.logError("Cannot patch source input, its type is not source: " + JSON.stringify(o))
        })
      }

      function o(e, t) {
        return a()(e + Object(l.sortedStringify)(t)).toString()
      }
      var r, s, a, l, c;
      i.r(t), i.d(t, "patchChildIdInInputs", function () {
        return n
      }), i.d(t, "idForAlert", function () {
        return o
      }), r = i("uOxu"), s = i("YJLw"), a = i.n(s), l = i("XMe/"), c = Object(r.getLogger)("Chart.Study")
    },
    nZTW: function (e, t, i) {
      "use strict";

      function n(e) {
        return e.then(function () {})
      }
      i.d(t, "a", function () {
        return n
      })
    },
    "nd9+": function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h;
      i.r(t), i.d(t, "LineToolGannComplex", function () {
        return h
      }), n = i("mrSG"), o = i("aO4+"), r = i("Eyy1"), s = i("T6Of"), a = i("Ss5c"), l = i("FaJS"), c = i("hayr"), u = i("LAp3"), (h = function (e) {
        function t(n, o) {
          var r, a = e.call(this, n, o || t.createProperties()) || this;
          return a.version = 2, a._constructor = "LineToolGannComplex", a._scaleRatioFormatter = new s.LimitedPrecisionNumericFormatter(7), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
              var t = i("X4Cb").GannComplexPaneView;
              a._setPaneViews([new t(a, a.model())])
            }.bind(null, i)).catch(void 0), r = a.properties(), a._adjustScaleRatio(r),
            r.subscribe(a, a._adjustScaleRatio), r.scaleRatio.subscribe(a, a._correctFirstPoint), a._syncStateExclusions = ["scaleRatio"], r.addExclusion("scaleRatio"), a.properties().onRestoreFactoryDefaults().subscribe(a, a._handleRestoringFactoryDefaults), a._onTemplateApplying.subscribe(a, a._handleTemplateApplying), a._onTemplateApplied.subscribe(a, a._correctFirstPoint), a
        }
        return n.__extends(t, e), t.prototype.migrateVersion = function (e, t, i) {
            var n = this;
            1 === e && (this._points.length >= this.pointsCount() ? setTimeout(function () {
              return n._migratePoint()
            }) : this._timePoint.length >= this.pointsCount() && this._pointAdded.subscribe(this, this._migratePoint))
          }, t.prototype.destroy = function () {
            var e = this.properties();
            e.unsubscribe(this, this._adjustScaleRatio), e.scaleRatio.unsubscribe(this, this._correctFirstPoint), this.properties().onRestoreFactoryDefaults().unsubscribe(this, this._handleRestoringFactoryDefaults), this._onTemplateApplying.unsubscribe(this, this._handleTemplateApplying), this._onTemplateApplied.unsubscribe(this, this._correctFirstPoint)
          }, t.prototype.pointsCount = function () {
            return 2
          }, t.prototype.title = function () {
            return "Gann Square"
          }, t.prototype.name = function () {
            return "Gann Square"
          }, t.prototype.addPoint = function (t, i, n) {
            var o, s;
            return this._points.length > 1 && this._points.pop(), o = e.prototype.addPoint.call(this, t, i, n), s = this.priceScale(), !Object(r.ensureNotNull)(s).isLog() && o && this._correctFirstPoint(), o
          }, t.prototype.setPoint = function (t, i, n) {
            e.prototype.setPoint.call(this, t, i, n), void 0 !== n && n.shift() ? this._correctPoint(t) : this._correctScaleRatio()
          }, t.prototype.setLastPoint = function (t, i) {
            var n = this.priceScale(),
              o = Object(r.ensureNotNull)(n).isLog();
            o || (this._points[1] = t, this._correctPoint(1)), e.prototype.setLastPoint.call(this, t, i)
          }, t.prototype.getStylesPropertyPage = function () {
            return c.propertyPages.LineToolGannComplexStylesPropertyPage
          }, t.prototype.isReversed = function () {
            return this.properties().reverse.value()
          }, t.prototype.levelsCount = function () {
            return this.properties().levels.childCount()
          }, t.prototype.levels = function () {
            var e, t, i = [],
              n = this.properties(),
              o = n.levels.childCount();
            for (e = 0; e < o; e++) t = n.levels[e], i.push({
              index: e,
              visible: t.visible.value(),
              color: t.color.value(),
              width: t.width.value()
            });
            return i
          }, t.prototype.fanLinesCount = function () {
            return this.properties().fanlines.childCount()
          }, t.prototype.fanLines = function () {
            var e, t, i = [],
              n = this.properties(),
              o = n.fanlines.childCount();
            for (e = 0; e < o; e++) t = n.fanlines[e], i.push({
              index: e,
              visible: t.visible.value(),
              x: t.x.value(),
              y: t.y.value(),
              color: t.color.value(),
              width: t.width.value()
            });
            return i
          }, t.prototype.arcsCount = function () {
            return this.properties().arcs.childCount()
          }, t.prototype.arcs = function () {
            var e, t, i = [],
              n = this.properties(),
              o = n.arcs.childCount();
            for (e = 0; e < o; e++) t = n.arcs[e], i.push({
              index: e,
              visible: t.visible.value(),
              x: t.x.value(),
              y: t.y.value(),
              color: t.color.value(),
              width: t.width.value()
            });
            return i
          }, t.prototype.arcsBackgroundTransparency = function () {
            return this.properties().arcsBackground.transparency.value()
          }, t.prototype.isArcsBackgroundFilled = function () {
            return this.properties().arcsBackground.fillBackground.value()
          },
          t.prototype.isLabelsVisible = function () {
            return this.properties().showLabels.value()
          }, t.prototype.getLabelsStyle = function () {
            var e = this.properties(),
              t = e.labelsStyle,
              i = t.font,
              n = t.fontSize,
              o = t.bold,
              r = t.italic,
              s = e.levels.childCount(),
              a = e.levels[s - 1];
            return {
              textColor: a.color.value(),
              font: i.value(),
              fontSize: n.value(),
              bold: o.value(),
              italic: r.value()
            }
          }, t.prototype.getScaleRatioStep = function () {
            return 1e-7
          }, t.prototype.getScaleRatioFormatter = function () {
            return this._scaleRatioFormatter
          }, t.prototype.getPriceDiff = function () {
            var e, t = this.points();
            return t.length < 2 ? null : (e = t[0], t[1].price - e.price)
          }, t.prototype.getIndexDiff = function () {
            var e, t = this.points();
            return t.length < 2 ? null : (e = t[0], t[1].index - e.index)
          }, t.prototype.getScaleRatio = function () {
            var e = this.getPriceDiff(),
              t = this.getIndexDiff();
            return null !== e && null !== t && 0 !== t ? Math.abs(e / t) : null
          }, t.createProperties = function (e) {
            var i = Object(u.a)("linetoolganncomplex", e);
            return t._configureProperties(i), i
          }, t._configureProperties = function (e) {
            a.LineDataSource._configureProperties(e)
          }, t.prototype._correctScaleRatio = function () {
            var e = this.properties(),
              t = this.getScaleRatio();
            e.scaleRatio.setValue(t)
          }, t.prototype._getAdjustedScaleRatio = function () {
            var e = this.model().mainSeries().priceScale(),
              t = this.model().timeScale();
            return Object(l.scaleRatio)(t, e)
          }, t.prototype._adjustScaleRatio = function (e) {
            var t = e.scaleRatio.value();
            "" !== t && null !== t || e.scaleRatio.setValue(this._getAdjustedScaleRatio())
          }, t.prototype._correctPoint = function (e) {
            var t, i, n, o, r, s, a;
            this._points.length < 2 || null !== (t = this.getIndexDiff()) && (null !== (i = this.properties().scaleRatio.value()) && (n = this._points[e], o = 0 === e ? this._points[1] : this._points[0], r = n.price - o.price > 0, s = n.index - o.index > 0, a = r && !s || !r && s ? -1 : 1, 0 === e && (a = -a), n.price = o.price + a * t * i, this._pointChanged.fire(e)), this.normalizePoints())
          }, t.prototype._correctFirstPoint = function () {
            this._correctPoint(this.isReversed() ? 0 : 1)
          }, t.prototype._handleRestoringFactoryDefaults = function () {
            this.properties().scaleRatio.setValue(this._getAdjustedScaleRatio())
          }, t.prototype._handleTemplateApplying = function (e) {
            "" === e.scaleRatio && (e.scaleRatio = this._getAdjustedScaleRatio())
          }, t.prototype._migratePoint = function () {
            var e, t;
            this.points().length < this.pointsCount() || null !== (e = this._getScreenPoints()) && (t = this.screenPointToPoint(e[1]), this.setPoint(1, t), this._pointAdded.unsubscribe(this, this._migratePoint))
          }, t.prototype._getScreenPoints = function () {
            var e, t, i, n, r, s, a, l, c, u, h, d = this._calcAngle();
            return null === d ? null : (i = (t = this.points())[0], n = t[1], this.isReversed() && (i = (e = [n, i])[0], n = e[1]), r = this.pointToScreenPoint(i)[0], s = this.pointToScreenPoint(n)[0], a = Math.sqrt(Math.pow(r.x - s.x, 2) + Math.pow(r.y - s.y, 2)), u = (c = (l = new o.Point(Math.cos(d), -Math.sin(d))).normalized()).x < 0 ? -1 : 1, h = c.y < 0 ? -1 : 1, [r.addScaled(l, a), r.add(new o.Point(5 * a * u, 5 * a * h))])
          }, t.prototype._calcAngle = function () {
            var e, t = this.points(),
              i = t[0],
              n = t[1],
              o = this.pointToScreenPoint(i)[0],
              r = this.pointToScreenPoint(n)[0],
              s = r.subtract(o),
              a = s.length();
            return a > 0 ? (s = s.normalized(), e = Math.acos(s.x), s.y > 0 && (e = -e), e) : null
          }, t
      }(a.LineDataSource)).prototype.superclass = a.LineDataSource
    },
    nda6: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "TimeSpanFormatter", function () {
        return n
      }), i("YFKU"), n = function () {
        function e() {}
        return e.prototype.format = function (e) {
          var t, i, n, o, r = e < 0;
          return e = Math.abs(e), e -= 86400 * (t = Math.floor(e / 86400)), e -= 3600 * (i = Math.floor(e / 3600)), e -= 60 * (n = Math.floor(e / 60)), o = "", t && (o += t + window.t("d", {
            context: "dates"
          }) + " "), i && (o += i + window.t("h", {
            context: "dates"
          }) + " "), n && (o += n + window.t("m", {
            context: "dates"
          }) + " "), e && (o += e + window.t("s", {
            context: "dates"
          }) + " "), r && (o = "-" + o), o.trim()
        }, e
      }()
    },
    nmnj: function (e, t, i) {
      "use strict";
      (function (t) {
        function n() {
          h._cache = {}
        }
        var o = i("Eyy1").assert,
          r = i("0YCj"),
          s = i("PC8g").trackEvent,
          a = i("FBuY").TVXWindowEvents,
          l = i("uOxu").getLogger("Pine.ScriptLib"),
          c = i("xlbu").telemetry,
          u = {
            fast: ["delete", "get", "is_auth_to_get", "is_auth_to_write", "parse_title", "rename"],
            medium: ["list", "eval_pine_ex"],
            slow: ["process_legacy", "publish", "save", "translate", "translate_source", "gen_alert"]
          },
          h = {};
        h._isAuthCache = new n, h._pineDeleted = new t, a.on("TVScriptModified", function (e) {
            h.clearSavedScriptsCache(), h.scriptUpdater() && h.scriptUpdater().onTVScriptModified(JSON.parse(e))
          }), a.on("TVScriptDeleted", function (e) {
            h.clearAllCaches(), h.scriptUpdater() && h.scriptUpdater().onTVScriptDeleted(JSON.parse(e))
          }), a.on("TVScriptRenamed", function (e) {
            h.clearSavedScriptsCache(), h.scriptUpdater() && h.scriptUpdater().onTVScriptRenamed(JSON.parse(e))
          }), a.on("TVScriptLegacyPineProcessed", function (e) {
            h.clearSavedScriptsCache(), h.scriptUpdater() && h.scriptUpdater().onTVScriptLegacyPineProcessed(JSON.parse(e))
          }), h.PINE_FACADE_URL = function () {
            return window.PINE_URL
          }, h.onPineDeleted = function () {
            return h._pineDeleted
          }, h._pineFacadeAjax = function (e, t, i, n) {
            var o, r, s;
            return l.logNormal("Requesting pine facade scripts, url: " + t), o = function (e, t) {
              var i, n, o = Object.keys(u);
              for (i = 0; i < o.length; i++)
                if (n = u[o[i]].filter(function (t) {
                    return -1 !== e.indexOf(t)
                  }), Boolean(n.length)) return o[i];
              return !1
            }(t), r = Date.now(), s = n ? void 0 : {
              withCredentials: !0
            }, $.ajax({
              url: h.PINE_FACADE_URL() + t,
              type: e,
              data: i || {},
              dataType: "json",
              xhrFields: s
            }).done(function () {
              var e = Date.now() - r;
              c.sendReport("pine", o + "_group_time_frame", {
                value: e
              }), c.sendReport("pine", o + "_group_ok"), l.logNormal("Requesting pine facade scripts finished, url: " + t)
            }).fail(function () {
              var e = Date.now() - r;
              c.sendReport("pine", o + "_group_time_frame", {
                value: e
              }), c.sendReport("pine", o + "_group_error"), l.logError("Requesting pine facade scripts failed, url: " + t)
            })
          }, h.translateScriptAsync = function (e, t, i, n) {
            var o, r, a;
            return s("Pine", "ScriptLib.translateScript"), n = !!n, o = $.Deferred(), r = "/translate_source/" + encodeURIComponent(t) + "/?is_pine_ex=" + n, a = {
              user_name: window.user && window.user.username,
              source: e,
              inputs: JSON.stringify(i || {})
            }, h._pineFacadeAjax("POST", r, a).done(function (e, t, i) {
              h._translateScriptAsyncDone(o, e)
            }).fail(function (e, t, i) {
              h._anyRequestAsyncFail(o, e)
            }), o.promise()
          }, h.translateScriptAsync2 = function (e, t) {
            var i, n, o, r, c;
            return l.logNormal("translateScriptAsync2, pineId=" + e + " pineVersion=" + t), s("Pine", "ScriptLib.translateScript"),
              i = $.Deferred(), n = 0 !== e.indexOf("USER"), o = window.user && window.user.username, r = "?user_name=" + encodeURIComponent(o), c = "/translate/" + encodeURIComponent(e) + "/" + t + "/", n || null == o || (c += r), h._pineFacadeAjax("GET", c, void 0, n).done(function (e, n, o) {
                var r;
                h._translateScriptAsyncDone(i, e), t < 0 && (h.clearSavedScriptsCache(), r = {
                  scriptMetaInfo: e.result.metaInfo
                }, a.emit("TVScriptLegacyPineProcessed", JSON.stringify(r)), setTimeout(function () {
                  r.isSelfCall = !0, null != h.scriptUpdater() && h.scriptUpdater().onTVScriptLegacyPineProcessed(r)
                }, 0))
              }).fail(function (e, t, n) {
                h._anyRequestAsyncFail(i, e)
              }), i.promise()
          }, h._translateScriptAsyncDone = function (e, t) {
            if (t.error) e.reject(h._readableError(t.error));
            else if (t.success) e.resolve(t.result.metaInfo, t.result.IL);
            else {
              var i = t.result ? t.result.metaInfo : null;
              e.reject(t.reason, i)
            }
          }, h._saveScriptAsyncDone = function (e, t) {
            if (t.error) e.reject(h._readableError(t.error));
            else if (t.success) e.resolve(t.result.metaInfo);
            else {
              var i = t.result ? t.result.metaInfo : null;
              e.resolve(i, t.reason)
            }
          }, h._readableError = function (e, t) {
            return t
          }, h._anyRequestAsyncFail = function (e, t) {
            0 === h.PINE_FACADE_URL().indexOf("http") && l.logError(t.responseText), e.reject(h._readableError(t.status, t.statusText))
          }, h.isAuthToWritePineScript = function (e) {
            var t, i, n = "write_" + e,
              o = h._isAuthCache.getPromise(n);
            return null !== o ? o : (s("Pine", "ScriptLib.isAuthToWritePineScript"), t = $.Deferred(), i = "/is_auth_to_write/" + encodeURIComponent(e), h._pineFacadeAjax("GET", i).done(function (e, i, n) {
              t.resolve(e)
            }).fail(function (e, i, n) {
              h._anyRequestAsyncFail(t, e)
            }), h._isAuthCache.setPromise(n, t.promise()))
          }, h.isAuthToGetPineSourceCode = function (e, t) {
            var i, n, o = "get_" + e + "_" + t,
              r = h._isAuthCache.getPromise(o);
            return null !== r ? r : (s("Pine", "ScriptLib.isAuthToGetPineSourceCode"), i = $.Deferred(), n = "/is_auth_to_get/" + encodeURIComponent(e) + "/" + t, h._pineFacadeAjax("GET", n).done(function (e, t, n) {
              i.resolve(e)
            }).fail(function (e, t, n) {
              h._anyRequestAsyncFail(i, e)
            }), h._isAuthCache.setPromise(o, i.promise()))
          }, n.prototype.getPromise = function (e) {
            var t = h._cache[e];
            return void 0 === t ? null : void 0 !== t.value ? $.Deferred().resolve(t.value) : void 0 !== t.promise ? t.promise : null
          }, n.prototype.setPromise = function (e, t) {
            return h._cache[e] = {
              promise: t
            }, t.done(function (t) {
              h._cache[e] = {
                value: t
              }
            }).fail(function (t) {
              delete h._cache[e]
            }), t
          }, h.getPineSourceCode = function (e, t, i) {
            var n, o, r;
            return s("Pine", "ScriptLib.getPineSourceCode"), n = $.Deferred(), o = "?no_4xx=" + !!i, r = "/get/" + encodeURIComponent(e) + "/" + t + o, h._pineFacadeAjax("GET", r).done(function (e, t, i) {
              !1 === e.success ? n.reject(e.reason) : n.resolve(e)
            }).fail(function (e, t, i) {
              h._anyRequestAsyncFail(n, e)
            }), n.promise()
          }, h._removeDefaultDraft = function (e) {
            var t = e.result.metaInfo.id,
              i = r.parseIdString(t).id,
              n = "study_" + i;
            TradingView.saveDefaults(n, {})
          }, h.saveNewDraft = function (e) {
            var t, i, n, o;
            return s("Pine", "ScriptLib.saveNewDraft"), t = $.Deferred(), null == e || "" === e ? t.reject($.t("Cannot save empty source code")) : (i = window.user && window.user.username, n = "/save/new_draft/?user_name=" + encodeURIComponent(i) + "&allow_use_existing_draft=true", o = {
              source: e
            }, h._pineFacadeAjax("POST", n, o).done(function (e, i, n) {
              h._removeDefaultDraft(e), h._translateScriptAsyncDone(t, e)
            }).fail(function (e, i, n) {
              h._anyRequestAsyncFail(t, e)
            }), t.promise())
          }, h.saveNextDraft = function (e, t, i) {
            var n, o, r, a;
            return s("Pine", "ScriptLib.saveNextDraft"), n = $.Deferred(), null == t || "" === t ? n.reject($.t("Cannot save empty source code")) : (o = window.user && window.user.username, i = !!i, r = "/save/next_draft/" + encodeURIComponent(e) + "/?user_name=" + encodeURIComponent(o) + "&allow_create_new=" + i, a = {
              source: t
            }, h._pineFacadeAjax("POST", r, a).done(function (e, t, i) {
              h._removeDefaultDraft(e), h._translateScriptAsyncDone(n, e)
            }).fail(function (e, t, i) {
              h._anyRequestAsyncFail(n, e)
            }), n.promise())
          }, h.processLegacy = function (e, t) {
            var i, n, o, r;
            return s("Pine", "ScriptLib.processLegacy"), i = $.Deferred(), n = window.user && window.user.username, o = "/process_legacy/" + encodeURIComponent(e) + "/?user_name=" + encodeURIComponent(n), r = {}, null != t && "" !== t && (r.source = t), h._pineFacadeAjax("POST", o, r).done(function (e, t, n) {
              h._translateScriptAsyncDone(i, e)
            }).fail(function (e, t, n) {
              h._anyRequestAsyncFail(i, e)
            }), i.promise()
          }, h.generateAlert = function (e) {
            var t, i, n, o, r;
            return s("Pine", "ScriptLib.generateAlert"), t = $.Deferred(), i = window.user && window.user.username, n = "/gen_alert/?user_name=" + encodeURIComponent(i), o = {
              alert_info: e
            }, r = Date.now(), h._pineFacadeAjax("POST", n, o).done(function (e, i, n) {
              c.sendReport("alerts", "compilation_ok"), h._translateScriptAsyncDone(t, e)
            }).fail(function (e, i, n) {
              c.sendReport("alerts", "compilation_error"), h._anyRequestAsyncFail(t, e)
            }).always(function () {
              var e = Date.now() - r;
              c.sendReport("alerts", "compilation_time_frame", {
                value: e
              })
            }), t.promise()
          }, h.createScriptStubNoSrc = function (e, t) {
            var i, n;
            return l.logNormal("createScriptStubNoSrc"), i = h._createScriptStubTemplate(), n = {
              shortDescription: e,
              id: "Script$" + t + "@tv-scripting-1",
              scriptIdPart: t
            }, TradingView.merge(i, n)
          }, h._createScriptStubTemplate = function () {
            return {
              _metainfoVersion: r.CURRENT_METAINFO_FORMAT_VERSION,
              isTVScript: !0,
              isTVScriptStub: !0,
              is_hidden_study: !1,
              defaults: {
                styles: {
                  plot_0: {
                    linestyle: 0,
                    linewidth: 1,
                    plottype: 0,
                    trackPrice: !1,
                    transparency: 35,
                    visible: !0,
                    color: "#000080"
                  }
                },
                precision: 4,
                inputs: {
                  text: "na~$0;$0()~$1"
                }
              },
              plots: [{
                id: "plot_0",
                type: "line"
              }],
              styles: {
                plot_0: {
                  title: "Plot",
                  histogramBase: 0,
                  joinPoints: !1
                }
              },
              description: "None",
              shortDescription: "TODO: set value",
              is_price_study: !1,
              inputs: [{
                defval: "na~$0;$0()~$1",
                id: "text",
                name: "ILScript",
                type: "text",
                isHidden: !0
              }],
              id: "TODO: set value",
              scriptIdPart: "TODO: set value"
            }
          }, h.parseScriptTitleAsync = function (e) {
            var t, i;
            return s("Pine", "ScriptLib.parseScriptTitle"), t = $.Deferred(), null == e || "" === e ? t.reject($.t("Cannot save empty source code")) : (i = {
              user_name: window.user && window.user.username,
              source: e
            }, h._pineFacadeAjax("POST", "/parse_title/", i).done(function (e, i, n) {
              e.error ? t.reject(h._readableError(e.error)) : e.success ? t.resolve(e.result) : t.reject(e.reason)
            }).fail(function (e) {
              h._anyRequestAsyncFail(t, e)
            }), t.promise())
          }, h.evalMetaInfoExprsAsync = function (e, t) {
            var i, n;
            return s("Pine", "ScriptLib.evalMetaInfoExprs"), i = $.Deferred(), n = {
                username: window.user && window.user.username,
                source: e,
                inputs: JSON.stringify(t || {})
              },
              h._pineFacadeAjax("POST", "/eval_pine_ex/", n).done(function (e, t, n) {
                e.error ? i.reject(h._readableError(e.error)) : e.success ? i.resolve(e.result) : i.reject(e.reason)
              }).fail(function (e) {
                h._anyRequestAsyncFail(i, e)
              }), i.promise()
          }, h.patchPropertiesAsync = function (e, t, i) {
            return l.logNormal("patchPropertiesAsync"), new Promise(function (n, r) {
              var s, a;
              t.TVScriptMetaInfoExprs ? (s = t.TVScriptMetaInfoExprs.tree, a = t.TVScriptMetaInfoExprs.patchMap, h.evalMetaInfoExprsAsync(s, i).done(function (t) {
                var i, r, s, l, c, u, h = t.rootValues,
                  d = Object.keys(a);
                for (i = 0; i < d.length; i++) {
                  for (r = d[i], s = h[a[r]], "defaults" === (l = r.split("."))[0] && l.splice(0, 1), o(l.length > 1, "Unexpectedly short json path"), c = e, u = 0; u < l.length - 1; ++u) c = c[l[u]];
                  c[l[l.length - 1]].setValue(s)
                }
                n(e)
              }).fail(function (e) {
                r(e)
              })) : n(e)
            })
          }, h.scriptUpdater = function () {
            return window.scriptUpdater
          }, h.clearAllCaches = function () {
            h.clearIsAuthToCaches(), h.clearSavedScriptsCache()
          }, h.clearIsAuthToCaches = function (e) {
            e ? Object.keys(h._cache).filter(function (t) {
              return t.indexOf(e) >= 0
            }).forEach(function (e) {
              delete h._cache[e]
            }) : h._isAuthCache = new n
          }, h.clearSavedScriptsCache = function (e) {
            delete h._userScriptsDfd
          }, h.requestUserScripts = function (e) {
            var t;
            return s("Pine", "ScriptLib.requestUserScripts"), window.is_authenticated ? (h._userScriptsDfd || (h._userScriptsDfd = $.Deferred(), t = h._userScriptsDfd, h._pineFacadeAjax("GET", "/list?filter=saved").done(function (e, i, n) {
              t.resolve(e)
            }).fail(function (e) {
              h._anyRequestAsyncFail(t, e)
            })), t = h._userScriptsDfd) : t = $.Deferred().resolve([]), "function" == typeof e && t.done(e), t.promise()
          }, h.setUserScripts = function (e) {
            h._userScriptsDfd || (h._userScriptsDfd = $.Deferred().resolve(e))
          }, h.requestUserPublishedScripts = function (e, t) {
            var i;
            return s("Pine", "ScriptLib.requestUserPublishedScripts"), window.is_authenticated ? (!t && h._userPublishedScriptsDfd || (h._userPublishedScriptsDfd = $.Deferred(), i = h._userPublishedScriptsDfd, h._pineFacadeAjax("GET", "/list?filter=published").done(function (e, t, n) {
              i.resolve(e)
            }).fail(function (e) {
              h._anyRequestAsyncFail(i, e)
            })), i = h._userPublishedScriptsDfd) : i = $.Deferred().resolve([]), "function" == typeof e && i.done(e), i.promise()
          }, h.requestPineEditorNewTemplateScripts = function (e) {
            var t, i;
            return s("Pine", "ScriptLib.requestPineEditorNewTemplateScripts"), t = !0, i = $.Deferred(), h._pineFacadeAjax("GET", "/list/?filter=template", void 0, t).done(function (e, t, n) {
              i.resolve(e)
            }).fail(function (e) {
              h._anyRequestAsyncFail(i, e)
            }), "function" == typeof e && i.done(e), i.promise()
          }, h.requestBuiltinAndUserScripts = function () {
            var e, t, i, n;
            return s("Pine", "ScriptLib.requestBuiltinAndUserScripts"), l.logNormal("Request built-in and user scripts"), e = window.user && window.user.username, i = {}, n = new Promise(function (e, n) {
              t = e, i.reject = n
            }), Promise.all([h._pineFacadeAjax("GET", "/list?filter=saved&user_name=" + encodeURIComponent(e), void 0, !1), h._pineFacadeAjax("GET", "/list?filter=standard", void 0, !0)]).then(function (e) {
              var i, n;
              l.logNormal("Request built-in and user scripts finished"), i = e[0], n = e[1], t(i.concat(n))
            }).catch(function (e) {
              l.logWarn("Request built-in and user scripts finished with fail"), h._anyRequestAsyncFail(i, e)
            }), n
          },
          h.requestPineAddons = function (e) {
            s("Pine", "ScriptLib.requestPineAddons");
            var t = $.Deferred();
            return h._pineFacadeAjax("GET", "/list?filter=addon&pine_id_prefix=" + e).done(function (e) {
              t.resolve(e)
            }).fail(function (e) {
              h._anyRequestAsyncFail(t, e)
            }), t
          }, h._updateAliveScriptInstances = function (e, t) {
            var i = {};
            i.scriptMetaInfo = e.result.metaInfo, i.scriptVersionToUpdate = t, a.emit("TVScriptModified", JSON.stringify(i)), setTimeout(function () {
              i.isSelfCall = !0, null != h.scriptUpdater() && h.scriptUpdater().onTVScriptModified(i)
            }, 0)
          }, h.saveNew = function (e, t, i, n) {
            var o, r, a, l, c;
            return s("Pine", "ScriptLib.saveNew"), o = $.Deferred(), null == e || "" === e ? o.reject($.t("Cannot save empty source code")) : (r = window.user && window.user.username, a = i ? "&allow_overwrite=true" : "", l = "/save/new/?name=" + encodeURIComponent(t) + "&user_name=" + encodeURIComponent(r) + a, c = {
              source: e
            }, h._pineFacadeAjax("POST", l, c).done(function (e, t, i) {
              h.clearSavedScriptsCache(), h._updateAliveScriptInstances(e, n), h._saveScriptAsyncDone(o, e)
            }).fail(function (e, t, i) {
              h._anyRequestAsyncFail(o, e)
            }), o.promise())
          }, h.saveNext = function (e, t, i, n, o) {
            var r, a, l, c, u;
            return s("Pine", "ScriptLib.saveNext"), r = null != i ? "&name=" + encodeURIComponent(i) : "", a = $.Deferred(), null == t || "" === t ? a.reject($.t("Cannot save empty source code")) : (l = window.user && window.user.username, c = "/save/next/" + encodeURIComponent(e) + "/?user_name=" + encodeURIComponent(l) + "&allow_create_new=" + !!o + r, u = {
              source: t
            }, h._pineFacadeAjax("POST", c, u).done(function (e, t, i) {
              h.clearSavedScriptsCache(), h._updateAliveScriptInstances(e, n), h._saveScriptAsyncDone(a, e)
            }).fail(function (e, t, i) {
              h._anyRequestAsyncFail(a, e)
            }), a.promise())
          }, h.deletePine = function (e) {
            var t, i, n;
            return s("Pine", "ScriptLib.deletePine"), t = $.Deferred(), i = window.user && window.user.username, n = "/delete/" + encodeURIComponent(e) + "/?user_name=" + encodeURIComponent(i), h._pineFacadeAjax("POST", n).done(function (i, n, o) {
              h.clearIsAuthToCaches(e), h.clearSavedScriptsCache(), t.resolve(i);
              var r = {
                scriptIdPart: e
              };
              a.emit("TVScriptDeleted", JSON.stringify(r)), setTimeout(function () {
                r.isSelfCall = !0, null != h.scriptUpdater() && h.scriptUpdater().onTVScriptDeleted(r), h._pineDeleted.fire(e)
              }, 0)
            }).fail(function (e, i, n) {
              h._anyRequestAsyncFail(t, e)
            }), t.promise()
          }, h.renamePine = function (e, t, i) {
            var n, o, r;
            return s("Pine", "ScriptLib.renamePine"), n = $.Deferred(), o = window.user && window.user.username, r = "/rename/" + encodeURIComponent(e) + "/?name=" + encodeURIComponent(t) + "&user_name=" + encodeURIComponent(o) + "&force=" + encodeURIComponent(!!i), h._pineFacadeAjax("POST", r).done(function (i, o, r) {
              h.clearSavedScriptsCache();
              var s = {
                scriptIdPart: e,
                scriptName: t
              };
              a.emit("TVScriptRenamed", JSON.stringify(s)), setTimeout(function () {
                s.isSelfCall = !0, null != h.scriptUpdater() && h.scriptUpdater().onTVScriptRenamed(s)
              }, 0), n.resolve(i)
            }).fail(function (e, t, i) {
              h._anyRequestAsyncFail(n, e)
            }), n.promise()
          }, h.publishNew = function (e, t) {
            var i, n, o, r;
            return s("Pine", "ScriptLib.publishNew"), i = $.Deferred(), n = window.user && window.user.username, o = "/publish/new/?access=" + encodeURIComponent(t) + "&user_name=" + encodeURIComponent(n), r = {
              source: e
            }, h._pineFacadeAjax("POST", o, r).done(function (e, t, n) {
              h.clearSavedScriptsCache(), i.resolve(e)
            }).fail(function (e, t, n) {
              h._anyRequestAsyncFail(i, e)
            }), i.promise()
          }, h.publishNext = function (e, t) {
            var i, n, o, r;
            return l.logNormal("ScriptLib.publishNext", "pine"), s("Pine", "ScriptLib.publishNext"), i = $.Deferred(), n = window.user && window.user.username, o = "/publish/next/" + encodeURIComponent(t) + "?user_name=" + encodeURIComponent(n), r = {
              source: e
            }, h._pineFacadeAjax("POST", o, r).done(function (e, t, n) {
              h.clearSavedScriptsCache(), e.success || i.reject(e.reason), i.resolve(e)
            }).fail(function (e, t, n) {
              h._anyRequestAsyncFail(i, e)
            }), i.promise()
          }, h.tvScriptingPkgVersion = function (e) {
            var t;
            l.logNormal("tvScriptingPkgVersion");
            try {
              t = r.findStudyMetaInfo(e, "Script@tv-scripting")
            } catch (e) {
              throw new Error("Metainfo of 'tv-scripting' package is not found")
            }
            return t.version
          }, loginStateChange.subscribe(h, h.clearAllCaches), e.exports = h
      }).call(this, i("aIyQ"))
    },
    nzS3: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "AlertFrequency", function () {
        return o
      }), n = i("n5al"), o = function () {
        function e(e) {
          var t = this;
          this._alert = e, e.on("change:autoDeactivation", function (e, i) {
            var n = t.getAvailableFrequencies();
            i && -1 !== n.indexOf("once") && e.set("frequency", "once")
          }), e.on("change:frequency", function (e, i) {
            var n = t.getAvailableFrequencies();
            if (t._putFrequencyToExtra(), -1 === n.indexOf(i)) return e.set("frequency", n[0]), void t._putFrequencyToExtra();
            "once" === i && e.set("autoDeactivation", !0), "on_first_fire" !== i && "on_bar_close" !== i && !/^\d+$/.test(i) || -1 === n.indexOf("once") || e.set("autoDeactivation", !1)
          })
        }
        return e.prototype.getAvailableFrequencies = function () {
          var e = this._alert.get("extra"),
            t = this._alert.isDrawing() && "LineToolVertLine" === e.drawing().type,
            i = e && e.alertSeries().style,
            o = e && e.mainSeries().style,
            r = n.hasProjection(i) || n.hasProjection(o),
            s = this._alert.get("crossInterval"),
            a = [];
          return t ? a.push("once") : (s || r || (a.push("once"), a.push("60"), a.push("on_bar_close")), r ? a.push("on_bar_close") : a.push("on_first_fire")), a
        }, e.prototype.switchFrequencies = function () {
          var e = this._alert,
            t = e.get("frequency"),
            i = this.getAvailableFrequencies();
          !1 === e.get("autoDeactivation") && (1 === i.length ? e.set("frequency", i[0]) : ("on_first_fire" === t && -1 !== i.indexOf("60") && e.set("frequency", "60"), "on_bar_close" === t && -1 !== i.indexOf("on_bar_close") && e.set("frequency", "on_bar_close")))
        }, e.prototype._putFrequencyToExtra = function () {
          var e = this._alert.get("extra");
          e && e.frequency(this._alert.get("frequency"))
        }, e
      }()
    },
    nzny: function (e, t, i) {},
    "o4+M": function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 15" width="13" height="15"><g fill="none"><path d="M-5-5h24v24H-5z"/><path stroke="currentcolor" stroke-linejoin="round" d="M.5 7.5h4v7h-4zm4-7h4v14h-4zm4 5h4v9h-4z"/></g></svg>'
    },
    oGYm: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e) {
          this.chartWidget = e, this.props = this.chartWidget.model().mainSeries().properties(), this.studies = [], this.chartWidget.withModel(this, function () {
            this.init()
          })
        }
        var o, r = i("Ai40").ESDStudyBase,
          s = i("uOxu").getLogger("Chart.ESDTimeLineWidget");
        n.prototype.getStudy = function (e, t) {
          var i, n = this.chartWidget.model().dataSources().some(function (n) {
            var o;
            return n instanceof TradingView.Study && ((o = n.metaInfo().scriptIdPart === e) && t && (i = n), o)
          });
          return t ? i : !!n
        }, n.prototype.metaInfosCache = {}, o = {
          esdShowDividends: "TV_DIVIDENDS",
          esdShowSplits: "TV_SPLITS",
          esdShowEarnings: "TV_EARNINGS"
        }, n.prototype.init = function () {
          if (!t.enabled("widget") || t.enabled("esdonwidget")) {
            this.studies = this.getStudies();
            var e = this;
            Object.keys(o).forEach(function (t) {
              var i = o[t];
              e.props[t].subscribe(e, function (t) {
                var n, o = e.metaInfosCache[i];
                void 0 !== o ? (n = e.getStudy(o.scriptIdPart, !0), t.value() ? o && !n && e._insertStudy(o) : o && n && e.chartWidget.model().chartModel().removeSource(n)) : s.logWarn("Attempt to toggle " + i + " ESD, but there is no metainfo")
              })
            }), this.studies.forEach(function (t) {
              var i, n;
              e.metaInfosCache[t.scriptIdPart] = t, i = !!r.getSettingsValue(t.scriptIdPart, e.props), (n = e.getStudy(t.scriptIdPart, !0)) && e.chartWidget.model().chartModel().removeSource(n), i && e._insertStudy(t)
            })
          }
        }, n.prototype.getStudies = function () {
          var e = this.chartWidget.metaInfoRepository();
          return Object.values(o).map(function (t) {
            return e.findStubByPineId(t)
          }).filter(Boolean)
        }, n.prototype._insertStudy = function (e) {
          var t, i = this.chartWidget;
          i && ((t = i.model().model().createStudyInserter(e)).setForceOverlay(!0), t.insert().catch(function (e) {
            s.logError("Error: " + e)
          }))
        }, e.exports = n
      }).call(this, i("Kxc7"))
    },
    oNDq: function (e, t, i) {
      "use strict";

      function n(e) {
        return new Promise(function (t) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(3), i.e("create-dialog")]).then(function (n) {
            var r = i("YDhE").createDialog;
            t(r(o.__assign({}, a, e)))
          }.bind(null, i)).catch(void 0)
        })
      }
      var o, r, s, a;
      i.r(t), i.d(t, "createConfirmDialog", function () {
        return n
      }), o = i("mrSG"), i("YFKU"), r = {
        key: 13,
        name: "yes",
        text: window.t("Yes"),
        type: "success"
      }, s = {
        method: "close",
        name: "no",
        text: window.t("No"),
        type: "default"
      }, a = {
        actions: [r, s],
        actionsWrapTemplate: '<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border">',
        content: window.t("Are you sure?"),
        contentWrapTemplate: '<div class="tv-dialog__section tv-dialog__section--no-border"><div class="tv-text"><p></p></div></div>',
        destroyOnClose: !0,
        title: window.t("Confirmation"),
        width: 400,
        dataset: {
          "dialog-type": "confirm-dialog"
        }
      }
    },
    oNU6: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), i.d(t, "MarketStatusIndicator", function () {
        return c
      }), n = i("mrSG"), i("YFKU"), o = i("0wn8"), r = i("r8Gw"), s = {
        invalid: "tv-market-status--invalid",
        market: "tv-market-status--market",
        out_of_session: "tv-market-status--out-of-session",
        post_market: "tv-market-status--post-market",
        pre_market: "tv-market-status--pre-market",
        loading: "tv-market-status--loading",
        holiday: "tv-market-status--holiday",
        replay: "tv-market-status--replay"
      }, a = {
        invalid: window.t("Invalid Symbol"),
        market: window.t("Market Open"),
        out_of_session: window.t("Market Closed"),
        post_market: window.t("Post Market"),
        pre_market: window.t("Pre Market"),
        loading: window.t("Loading"),
        holiday: window.t("Holiday"),
        replay: ""
      }, l = {
        classMap: s,
        classSuffix: "",
        data: {},
        extraTitle: "",
        labelMap: a,
        short: !1,
        showTooltip: !0,
        tooltipType: "custom"
      }, c = function (e) {
        function t(t) {
          var i = e.call(this, t) || this;
          return i._quoteSessionPrefix = "market-status-indicator", i._componentClass = "tv-market-status", i._extraTitle = "", i._init(t), i
        }
        return n.__extends(t, e), t.prototype.setStatus = function (e, t) {
          var i = {
            values: {
              current_session: e
            }
          };
          this.update(i, t)
        }, t.prototype.getTooltipText = function () {
          var t = e.prototype.getTooltipText.call(this);
          return "" === t ? t : ("" !== this._extraTitle && (t = t + ", " + this._extraTitle), t)
        }, t.prototype.setExtraTitle = function (e) {
          this._extraTitle = e
        }, t.prototype.reset = function () {
          this._clearClasses(), this._labelEl.textContent = "", this._extraTitle = "", this._el.setAttribute("title", ""), this._value = ""
        }, t.prototype.enableShortMode = function (t) {
          void 0 === t && (t = !0), void 0 !== this._labelEl && this._labelEl.classList.add("i-hidden"), e.prototype.enableShortMode.call(this)
        }, t.prototype.disableShortMode = function () {
          void 0 !== this._labelEl && this._labelEl.classList.remove("i-hidden"), e.prototype.disableShortMode.call(this)
        }, t.prototype._renderLabel = function () {
          this._labelEl.textContent = this.getLabel()
        }, t.prototype._getValueFromData = function (e) {
          return void 0 !== e.values && void 0 !== e.values.current_session ? e.values.current_session : this.getValue()
        }, t.prototype._render = function () {
          this._renderLabelElement(), this._renderDotElement(), e.prototype._render.call(this)
        }, t.prototype._init = function (t) {
          var i = Object.assign({}, l, t);
          e.prototype._init.call(this, i), this.setExtraTitle(i.extraTitle), this._render()
        }, t.prototype._renderLabelElement = function () {
          void 0 === this._labelEl && (this._labelEl = document.createElement("span"), this._labelEl.classList.add(this._componentClass + "__label"), this._labelEl.classList.add(this._componentClass + "__label" + this._classSuffix), this._el.appendChild(this._labelEl))
        }, t.prototype._renderDotElement = function () {
          void 0 === this._dotEl && (this._dotEl = document.createElement("span"), this._dotEl.classList.add(this._componentClass + "__dot"), this._dotEl.classList.add(this._componentClass + "__dot" + this._classSuffix), this._el.appendChild(this._dotEl))
        }, t
      }(r.a)
    },
    "oR7+": function (e, t, i) {
      "use strict";

      function n() {
        var e, t = Object(s.getJSON)(d, null);
        return null === t && (e = Object(c.defaults)("chartproperties")) && e.alertsProperties && e.alertsProperties.labels && (t = e.alertsProperties.labels), null === t && (t = Object(a.clone)(f)), t
      }

      function o() {
        p && Object(s.setJSON)(d, p.state())
      }

      function r() {
        return p || ((p = new h.a(n())).listeners().subscribe(null, o), s.onSync.subscribe(null, function () {
          p.merge(n())
        }), p)
      }
      var s, a, l, c, u, h, d, p, f;
      i.r(t), i.d(t, "defaultSettings", function () {
        return f
      }), i.d(t, "saveState", function () {
        return o
      }), i.d(t, "getSettingsProperty", function () {
        return r
      }), s = i("Vdly"), a = i("ogJP"), l = i("8Uy/"), c = i("wZIs"), u = i("tc+8"), h = i.n(u), d = "alertLabels", f = {
        visible: !0,
        color: "rgba( 245, 124, 0, 1)",
        highlightColor: "rgba( 245, 124, 0, 1)",
        hoverColor: "rgba( 245, 124, 0, 1)",
        line: {
          visible: !0,
          style: l.LINESTYLE_DASHED,
          width: 1
        }
      }
    },
    oUqy: function (e, t, i) {
      "use strict";

      function n(e) {
        this.items = e.items, this.barSpacing = e.barSpacing, this.histogramBase = e.histogramBase, this.lineColor = e.lineColor, this.lineWidth = e.lineWidth
      }
      var o = i("VdBB").HitTestResult,
        r = 5;
      n.prototype.draw = function (e) {
        var t, i, n, o, s, a, l, c, u, h, d, p, f, _, m, g;
        if (0 !== this.items.length) {
          for (t = this.barSpacing, i = this.lineColor, n = this.histogramBase, e.translate(.5, .5), o = {}, s = this.items, a = null, l = 0; l < s.length; ++l) c = s[l], u = 0 === l ? null : s[l - 1], d = o[h = c.style ? c.style.color : i] || [], p = Math.floor(c.x - .5 * t), f = Math.ceil(p + t), a && (_ = f - p > r ? 1 : 0, a.right = p - _), m = {
            item: c,
            prev: u,
            left: p,
            right: f
          }, d.push(m), a = m, o[h] = d;
          for (h in o) {
            for (d = o[h], e.fillStyle = h, e.strokeStyle = h, e.lineWidth = 1, e.beginPath(), l = 0; l < d.length; l++) g = (c = d[l]).item.y, p = c.left, f = c.right, e.rect(p, g, f - p, n - g);
            e.fill()
          }
        }
      }, n.prototype.hitTest = function (e) {
        var t, i, n, r = .5 * this.barSpacing + this.lineWidth,
          s = e.x - r,
          a = e.x + r,
          l = this.items;
        for (t = l.length; t--;)
          if ((i = l[t].x) >= s && i <= a && (n = l[t].y, e.y >= Math.min(n, this.histogramBase) && e.y <= Math.max(n, this.histogramBase))) return new o(o.REGULAR);
        return null
      }, t.PaneRendererColumns = TradingView.PaneRendererColumns = n
    },
    oWyD: function (e, t, i) {},
    oXaB: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "PriceAxisLastValueMode", function () {
          return n
        }),
        function (e) {
          e[e.LastPriceAndPercentageValue = 0] = "LastPriceAndPercentageValue", e[e.LastValueAccordingToScale = 1] = "LastValueAccordingToScale"
        }(n || (n = {}))
    },
    ocrj: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d;
      i.r(t), i.d(t, "RemoveSourcesCommand", function () {
        return d
      }), n = i("mrSG"), o = i("Eyy1"), r = i("wFwD"), s = i("RDU5"), a = i("CW80"), l = i("uOxu"), c = i("pQ+n"), u = i("GVHu"), h = Object(l.getLogger)("Chart.RemoveSourcesCommand"), d = function (e) {
        function t(t, i, n) {
          var o = e.call(this, n) || this;
          return o._chartModel = t, o._sourceIds = Object(c.closeSourcesSet)(t, i).map(function (e) {
            return e.id()
          }), o._sourceStates = [], o._paneIndexes = [], o._priceScalePositionIds = [], o._paneStates = [], o._restorePanes = [], o
        }
        return n.__extends(t, e), t.prototype.removedIds = function () {
          return this._sourceIds
        }, t.prototype.redo = function () {
          var e, t, i = this,
            n = this._sourceIds.map(function (e) {
              return Object(o.ensureNotNull)(i._chartModel.dataSourceForId(e))
            });
          this._sourceStates = n.map(function (e) {
            return Object(o.ensureNotNull)(e.state(!1))
          }), e = n.map(function (e) {
            return Object(o.ensureNotNull)(i._chartModel.paneForSource(e))
          }), this._paneIndexes = e.map(function (e) {
            return i._chartModel.panes().indexOf(e)
          }), this._priceScalePositionIds = n.map(function (t, i) {
            var n, r;
            return Object(a.isLineTool)(t) ? null : (n = Object(o.ensureNotNull)(t.priceScale()), r = e[i].priceScalePosition(n), {
              id: n.id(),
              position: r,
              priceScaleIndex: e[i].priceScaleIndex(n, r)
            })
          }), t = new Set, n.forEach(function (e, n) {
            Object(a.isLineTool)(e) || t.add(i._paneIndexes[n])
          }), this._paneStates = n.map(function (n, o) {
            var r = i._paneIndexes[o];
            return t.has(r) ? e[o].state() : null
          }), this._restorePanes = n.map(function (e) {
            return i._chartModel.removeSource(e)
          }), n.forEach(function (e) {
            e instanceof u.Study && Object(r.trackStudies)(e, "remove")
          })
        }, t.prototype.undo = function () {
          var e, t, i = this,
            n = [];
          for (e = this._sourceStates.length - 1; e >= 0; e--) t = this._chartModel.restoreSource(this._restorePanes[e], this._paneIndexes[e], this._paneStates[e], this._sourceStates[e], this._priceScalePositionIds[e]), n.push(t);
          n.some(function (e, t) {
            return e.id() !== i._sourceIds[n.length - t - 1]
          }) && h.logError("Source was restored improperly - source ids does not match")
        }, t
      }(s.UndoCommand)
    },
    odCa: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolCallout";
        var r = t || n.createProperties();
        o.call(this, e, r), this._barOffset = 0, this._timeScale = e.timeScale(), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("B4Hi").CalloutPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("fgLi").DataSource,
        s = i("tc+8"),
        a = i("Ocx9").DefaultProperty,
        l = i("hayr").propertyPages,
        c = i("jTis").CalloutConsts;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Callout"
      }, n.prototype.name = function () {
        return "Callout"
      }, n.prototype.correctPoints = function (e) {
        var t = this._currentMovingPoint.index - this._startMovingPoint.index,
          i = this._currentMovingPoint.price - this._startMovingPoint.price,
          n = e[1];
        n.index += t, n.price += i, e[1] = n
      }, n.prototype.addPoint = function (e) {
        var t = o.prototype.addPoint.call(this, e);
        return t && this._calculateBarOffset(), t
      }, n.prototype._calculateBarOffset = function () {
        this.points().length > 1 && (this._barOffset = this.points()[1].index - this.points()[0].index)
      }, n.prototype.setLastPoint = function (e) {
        o.prototype.setLastPoint.call(this, e), 2 === this.points().length && this._calculateBarOffset()
      }, n.prototype.setPoint = function (e, t) {
        var i, n, r, s, a;
        switch (e) {
          case 0:
            o.prototype.setPoint.call(this, e, t), this._calculateBarOffset();
            break;
          case 1:
            if (!(i = this.properties()).wordWrapWidth) return;
            if (n = this._points, r = this._dragStartLeftEdgeIndex, s = Math.round((t.index - r) / 2), isFinite(r) && isFinite(s)) {
              if (n[1] = {
                  index: r + s,
                  price: n[1].price
                }, this._calculateBarOffset(), this.normalizePoints(), a = this._timeScale.indexToCoordinate(r + 2 * s) - this._timeScale.indexToCoordinate(r) - c.RoundRadius - c.TextMargins, !isFinite(a)) return;
              i.wordWrapWidth.setValue(Math.max(c.MinWidth, a));
              break
            }
            n[1] = t, this._calculateBarOffset(), this.normalizePoints()
        }
      }, n.prototype.startDragPoint = function (e, t) {
        var i = this.properties();
        1 === e && i.wordWrap && i.wordWrap.value() && (this._dragStartLeftEdgeIndex = 2 * this.points()[1].index - t.index)
      }, n.prototype.move = function (e, t, i) {
        o.prototype.move.call(this, e, t, i), this._calculateBarOffset()
      }, n.prototype.state = function (e) {
        var t = o.prototype.state.call(this, e);
        return t.barOffset = this._barOffset, t
      }, n.prototype.restoreData = function (e) {
        e.barOffset ? this._barOffset = e.barOffset : this._calculateBarOffset(), this._calculatePoint2()
      }, n.prototype.setPriceScale = function (e) {
        r.prototype.setPriceScale.call(this, e), e && e.priceRange() && this._calculatePoint2()
      }, n.prototype.template = function () {
        var e = o.prototype.template.call(this);
        return e.text = this.properties().childs().text.value(), e
      }, n.prototype._applyTemplateImpl = function (e) {
        o.prototype._applyTemplateImpl.call(this, e), this.properties().childs().text.setValue(e.text)
      }, n.prototype._calculatePoint2 = function () {
        var e, t;
        this._model.lineBeingEdited() === this || this._model.sourcesBeingMoved().includes(this) || this._points.length < 2 || (e = this.points()[0], t = this.points()[1], this._points[1] = {
          price: t.price,
          index: e.index + this._barOffset
        })
      }, n.prototype.getStylesPropertyPage = function () {
        return l.LineToolCalloutStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new a("linetoolcallout", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e), e.hasChild("text") || e.addChild("text", new s(window.t("Text"))), e.addExclusion("text")
      }, t.LineToolCallout = n
    },
    ohga: function (e, t, i) {},
    oiVR: function (e, t, i) {
      e.exports = {
        warningLink: "warningLink-30mxIKSl-"
      }
    },
    ojVW: function (e, t, i) {
      "use strict";
      var n, o;
      i("0Ba2"), i("WPwS"), n = i("29gu"), o = function e(t) {
        var i, n, o, r, s, a, l, c, u, h, d;
        arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        if (function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
          }(this, e), i = t.prop("tagName").toLowerCase(), n = t.prop("readonly"), o = t.prop("disabled"), r = "tv-control-material-" + i, s = $('<span class="' + r + '__label">' + (t.attr("placeholder") || "") + "</span>"), a = $('<div class="' + r + '__wrap"></div>'), (l = t.get(0)) && l.classList) {
          for (c = [], u = 0; u < l.classList.length; u++)(h = l.classList[u]).includes(r) && (d = h.replace(r, "")) && c.push(d);
          for (u = 0; u < c.length; u++) s.addClass(r + "__label" + c[u]), a.addClass(r + "__wrap" + c[u])
        }
        t.attr("placeholder", "").removeClass("tv-control-" + i).addClass("tv-control-material-" + i + "__control ").wrap(a).after(s), this.$el = t.parent(), t.on("focus", function () {
          n || o || s.addClass("i-up")
        }), t.on("blur", function () {
          "" === t.val() && s.removeClass("i-up")
        }), t.on("change", function () {
          "" !== t.val() && s.addClass("i-up")
        }), this.$el.on("click", function () {
          t.focus()
        }), "" !== t.attr("value") && void 0 !== t.attr("value") && s.addClass("i-up")
      }, $.fn.tvControlMaterial = (0, n.createTvBlockWithInstance)("tv-control-material", function (e, t) {
        return new o(e, t)
      })
    },
    okVO: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "SyncModel", function () {
        return r
      }), n = i("ufy5"), o = 0, r = function () {
        function e(e, t) {
          this._session = new n.Session, this._extrapolatedData = [], this._modelId = o++, this._builderCache = null, this._resolution = t, this._symbolInfo = e, this._valid = Boolean(e.timezone) && Boolean(e.session), this._session.init(e.timezone, e.session)
        }
        return e.prototype.getSymbolInfo = function () {
          return this._symbolInfo
        }, e.prototype.getSession = function () {
          return this._session
        }, e.prototype.getResolution = function () {
          return this._resolution
        }, e.prototype.uniqueId = function () {
          return this._modelId
        }, e.prototype.distance = function (e, t) {
          var i, o, r, s, a;
          return this.isValid() ? (r = null !== (o = 0 !== (i = this._extrapolatedData.length) ? this._extrapolatedData[0] : null) ? this._extrapolatedData[i - 1] : null, 1e3 * e !== o && (this._extrapolatedData = [1e3 * e], o = null, r = null), (null === o || null !== r && 1e3 * t > r) && (s = Object(n.extrapolateBarsFrontToTime)(this._barBuilder(), r || 1e3 * e, 1e3 * t, 2e3), this._extrapolatedData = this._extrapolatedData.concat(s), i = this._extrapolatedData.length), (r = this._extrapolatedData[i - 1]) < 1e3 * t ? {
            success: !1
          } : -1 === (a = this._extrapolatedData.indexOf(1e3 * t)) ? {
            success: !1
          } : {
            success: !0,
            result: a
          }) : {
            success: !1
          }
        }, e.prototype.projectTime = function (e, t) {
          var i, o, r, s;
          return this.isValid() ? (r = null !== (o = (i = this._extrapolatedData.length) > 0 ? this._extrapolatedData[0] : null) ? this._extrapolatedData[i - 1] : null, 1e3 * e !== o && (this._extrapolatedData = [1e3 * e], o = null, r = null), (null === o || t >= i) && (s = Object(n.extrapolateBarsFrontByCount)(this._barBuilder(), r || 1e3 * e, t - i + 1), this._extrapolatedData = this._extrapolatedData.concat(s), i = this._extrapolatedData.length), i < t ? e : this._extrapolatedData[t] / 1e3) : e
        }, e.prototype.isValid = function () {
          return this._valid
        }, e.prototype._barBuilder = function () {
          return null === this._builderCache && (this._builderCache = Object(n.newBarBuilder)(this._resolution, this._session, this._session)), this._builderCache
        }, e
      }()
    },
    onDC: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p;
      i.r(t), n = i("mrSG"), o = i("4O8T"), r = i.n(o), s = i("G5sf"), a = i("Eyy1"), l = i("RDU5"), c = function (e) {
        function t(t, i, n, o, r, s) {
          var a = e.call(this, s) || this;
          return a._model = t, a._paneIndex = t.panes().indexOf(i), a._targetPosition = o, a._targetIndex = r, a._scaleId = n.id(), a._sourcePosition = i.priceScalePosition(n), "overlay" !== a._sourcePosition && (a._sourceIndex = i.priceScaleIndex(n, a._sourcePosition)), a
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          var e = this._model.panes()[this._paneIndex],
            t = Object(a.ensureNotNull)(e.getPriceScaleById(this._scaleId));
          e.movePriceScale(t, this._targetPosition, this._targetIndex), this._model.fullUpdate()
        }, t.prototype.undo = function () {
          var e = this._model.panes()[this._paneIndex],
            t = Object(a.ensureNotNull)(e.getPriceScaleById(this._scaleId));
          e.movePriceScale(t, this._sourcePosition, this._sourceIndex), this._model.fullUpdate()
        }, t
      }(l.UndoCommand), u = i("mMWL"), h = i("CW80"), d = function (e) {
        function t(t, i, n, o) {
          var r = e.call(this, o) || this;
          return r._createdIds = [], r._model = t, r._withoutShift = n, r._origStates = i.map(function (e) {
            return e.state(!0)
          }), r
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          var e = this,
            t = this._origStates.map(function (t) {
              var i = Object(a.ensureNotNull)(e._model.dataSourceForId(t.id)),
                n = Object(h.cloneLineTool)(e._model, i, !e._withoutShift),
                o = Object(a.ensureNotNull)(i.priceScale()),
                r = Object(a.ensureNotNull)(e._model.paneForSource(i));
              return r.addDataSource(n, o, !1), e._model.updateSource(n), n
            });
          Object(u.drawOnAllCharts)().value() && this._model.copyToOtherCharts(t), this._createdIds = t.map(function (e) {
            return e.id()
          })
        }, t.prototype.undo = function () {
          var e = this;
          this._createdIds.forEach(function (t) {
            var i = Object(a.ensureNotNull)(e._model.dataSourceForId(t));
            e._model.removeSource(i)
          })
        }, t.prototype.newIds = function () {
          return this._createdIds
        }, t
      }(l.UndoCommand), i.d(t, "ChartUndoModelBase", function () {
        return p
      }), p = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype.mergeAllScales = function (e) {
          Object(s.a)(this, e)
        }, t.prototype.movePriceScale = function (e, t, i, n) {
          var o = new c(this._model(), e, t, i, n, window.t("Move scale"));
          this._pushUndoCommand(o)
        }, t.prototype.cloneLineTools = function (e, t) {
          var i = new d(this._model(), e, t, window.t("Clone line tools"));
          return this._pushUndoCommand(i), this.emitEvent("cloneLineTools"), i.newIds()
        }, t
      }(r.a)
    },
    opke: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentcolor" d="m13.5 5a1 1 0 0 0 0 19 1 1 0 0 0 0-19m0 1a1 1 0 0 1 0 17 1 1 0 0 1 0-17zm2.31-.6A9.5 9.5 0 0 0 9 14.5a9.5 9.5 0 0 0 6.81 9.1l.99-.78A8.5 8.5 0 0 1 10 14.5a8.5 8.5 0 0 1 6.8-8.32"/></svg>'
    },
    oxKA: function (e, t, i) {
      "use strict";

      function n(e) {
        return void 0 === e || null === e || o.enabled("bovespa_widget") ? null : "QUANDL" === e.exchange ? "Quandl.com" : ["BMFBOVESPA", "BME", "NAG", "TSE", "TFX", "NZX", "BCBA", "TWSE", "TASE", "EURONEXT", "TOCOM", "BMV", "SIX", "SGX", "GPW", "SWB", "BCS", "WB", "SZSE", "BELEX", "BAHRAIN", "EGX", "TADAWUL", "BVL", "LUXSE", "DFM", "BVC", "NSENG", "IDX", "HSI", "QSE", "OSE"].includes(e.exchange) ? "ICE Data services" : null
      }
      var o;
      i.r(t), i.d(t, "getDataVendorString", function () {
        return n
      }), o = i("Kxc7")
    },
    p1Ci: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        o.call(this), this._invalidated = !0, this._crosshair = e, this._model = t, this._valueProvider = i, this._renderer = new r, this._rendererData = {
          visible: !1,
          background: "#4c525e",
          color: "white",
          text: "",
          width: 0
        }
      }
      var o = i("cgFQ").TimeAxisView,
        r = i("sWfm").TimeAxisViewRenderer;
      inherit(n, o), n.prototype.update = function () {
        this._invalidated = !0
      }, n.prototype._updateImpl = function () {
        var e, t, i = this._rendererData;
        i.visible = !1, (e = this._model.timeScale()).isEmpty() || (i.width = e.width(), (t = this._valueProvider()).time && (i.coordinate = t.coordinate, i.text = this._model.dateTimeFormatter().format(t.time), i.visible = !0))
      }, n.prototype.renderer = function () {
        return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._renderer.setData(this._rendererData), this._renderer
      }, e.exports = n
    },
    p1SQ: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "LineToolHorzLinePriceAxisView", function () {
        return r
      }), n = i("mrSG"), o = i("KcY8"), r = function (e) {
        function t(t) {
          var i = e.call(this) || this;
          return i._source = t, i
        }
        return n.__extends(t, e), t.prototype._updateRendererData = function (e, t, i) {
          var n, o, r, s, a, l;
          e.visible = !1, n = this._source.points(), o = this._source.priceScale(), 0 === n.length || null === o || o.isEmpty() || (r = n[0], isFinite(r.price) && null !== (a = null !== (s = this._source.ownerSource()) ? s.firstValue() : null) && (l = this._source.properties().linecolor.value(), i.background = l, i.color = this.generateTextColor(l), i.coordinate = o.priceToCoordinate(r.price, a), e.text = o.formatPrice(r.price, a), e.visible = !0))
        }, t
      }(o.a)
    },
    pIZu: function (e, t, i) {
      "use strict";

      function n(e) {
        return Object(r.trackEvent)("IDC Add Delay Service", "Agreed", e), Object(o.fetch)("/idc-add-delay-service/" + e + "/", {
          credentials: "include"
        }).then(function (e) {
          return e.json()
        }).then(function (e) {
          return e.res === s.OK ? 0 : 1
        }).catch(function () {
          return function (e) {
            Object(a.showNoticeDialog)({
              title: window.t("Failed to sign the Exchange Agreement"),
              content: window.t("Unable to add exchange {exchange} to the agreement").format({
                exchange: e.toUpperCase()
              })
            })
          }(e), Promise.resolve(1)
        })
      }
      var o, r, s, a;
      i.d(t, "a", function () {
        return n
      }), o = i("BHQF"), i("HbRj"), r = i("PC8g"), s = i("t2oF"), a = i("brCa")
    },
    pJOz: function (e, t, i) {
      function n() {
        this._data = null, this._hittest = new o(o.MOVEPOINT)
      }
      var o, r, s, a;
      i("qFKp"), o = i("VdBB").HitTestResult, r = i("a7Ha").LineEnd,
        s = i("GEp6").distanceToSegment, a = i("Zp/P").extendAndClipLineSegment, n.prototype.setData = function (e) {
          this._data = e
        }, n.prototype.setHitTest = function (e) {
          this._hittest = e
        }, n.prototype.drawArrow = function (e, t, i, n) {
          var o, r, s, a, l, c, u, h;
          t.subtract(e).length() < 1 || (r = 5 * n, s = (o = t.subtract(e).normalized()).scaled(r), a = t.subtract(s), l = 3 * n, c = o.transposed().scaled(l), u = a.add(c), h = a.subtract(c), CanvasEx.drawLine(i, Math.round(u.x), Math.round(u.y), t.x, t.y), CanvasEx.drawLine(i, Math.round(h.x), Math.round(h.y), t.x, t.y))
        }, n.prototype.extendAndClipLineSegment = function (e, t) {
          return a(e, t, this._data.width, this._data.height, this._data.extendleft, this._data.extendright)
        }, n.prototype.drawCircle = function (e, t, i, n) {
          n = Object.assign({
            fillStyle: "#000000"
          }, n), t.save(), t.fillStyle = n.fillStyle, t.beginPath(), t.arc(e.x, e.y, i, 0, 2 * Math.PI, !1), t.fill(), n.strokeWidth && (t.lineWidth = n.strokeWidth, t.stroke()), t.restore()
        }, n.prototype.draw = function (e) {
          var t, i, n, o, r;
          null === this._data || this._data.points && this._data.points.length < 2 || this._data.floatPoints && this._data.floatPoints.length < 2 || (e.lineCap = "butt", e.strokeStyle = this._data.color, e.lineWidth = this._data.linewidth, e.lineStyle = this._data.linestyle, i = (t = this._data.floatPoints || this._data.points)[0], n = t[1], this._data.overlayLineEndings ? o = [i.clone(), n.clone()] : this.drawEnds(e, [i, n]), null !== (r = this.extendAndClipLineSegment(i, n)) && this._data.linewidth > 0 && CanvasEx.drawLine(e, r[0].x, r[0].y, r[1].x, r[1].y), this._data.overlayLineEndings && this.drawEnds(e, o))
        }, n.prototype.drawEnds = function (e, t) {
          var i = t[0],
            n = t[1];
          switch (this._data.leftend) {
            case r.Arrow:
              this.drawArrow(n, i, e, e.lineWidth);
              break;
            case r.Circle:
              this.drawCircle(i, e, e.lineWidth, this._data.endstyle)
          }
          switch (this._data.rightend) {
            case r.Arrow:
              this.drawArrow(i, n, e, e.lineWidth);
              break;
            case r.Circle:
              this.drawCircle(n, e, e.lineWidth, this._data.endstyle)
          }
        }, n.prototype.hitTest = function (e) {
          var t, i, n, o, r;
          return null === this._data || this._data.points && this._data.points.length < 2 ? null : this._data.floatPoints && this._data.floatPoints.length < 2 ? null : (t = TradingView.isMobile.any() ? 24 : 3, n = (i = this._data.floatPoints || this._data.points)[0], o = i[1], null !== (r = this.extendAndClipLineSegment(n, o)) && s(r[0], r[1], e).distance <= t ? this._hittest : null)
        }, t.TrendLineRenderer = n
    },
    pKDv: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolABCD";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("bFMU").ABCDPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 4
      }, n.prototype.title = function () {
        return "ABCD Pattern"
      }, n.prototype.name = function () {
        return "ABCD Pattern"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolABCDPatternStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolabcd", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolABCD = n
    },
    pLUm: function (e, t, i) {
      e.exports = {
        wrapper: "wrapper-2KWBfDVB-",
        touch: "touch-E6yQTRo_-"
      }
    },
    "pN/T": function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "template", function () {
        return s
      }), i("YFKU"), n = i("TYzu"), o = i("/RHq"), r = i("o4+M"), s = '<div class="tv-user-link-popup i-hidden" data-id="{{ id }}"><div class="tv-user-link-popup__general"><a href="/u/{{ username }}/{{ utm }}" class="tv-user-link-popup__avatar"{{#hrefTarget}} target="{{hrefTarget}}"{{/hrefTarget}}><img src="{{mid_picture_url}}" alt="" class="tv-user-link-popup__avatar-img"></a><div class="tv-user-link-popup__profile"><div class="tv-user-link-popup__name"><a href="/u/{{ username }}/{{ utm }}" class="tv-user-link-popup__name-link apply-overflow-tooltip"{{#hrefTarget}} target="{{hrefTarget}}"{{/hrefTarget}}>{{ username }}</a>{{{badge}}}&nbsp;<span class="js-btc-tip"></span></div><div class="tv-user-link-popup__info"><span class="tv-user-link-popup__info-item tv-user-link-popup__info-item--users"><span class="tv-user-link-popup__info-icon apply-common-tooltip" title="' + window.t("Followers") + '">' + n + '</span><span class="tv-user-link-popup__info-value apply-overflow-tooltip">{{ followers_count }}</span></span>&nbsp;<span class="tv-user-link-popup__info-item tv-user-link-popup__info-item--comment"><span class="tv-user-link-popup__info-icon apply-common-tooltip" title="' + window.t("Ideas") + '">' + o + '</span><span class="tv-user-link-popup__info-value apply-overflow-tooltip">{{ charts_count }}</span></span>&nbsp;<span class="tv-user-link-popup__info-item tv-user-link-popup__info-item--chart"><span class="tv-user-link-popup__info-icon apply-common-tooltip" title="' + window.t("Reputation") + '">' + r + '</span><span class="tv-user-link-popup__info-value apply-overflow-tooltip">{{ reputation }}</span></span></div></div></div>{{#status}}<div class="tv-user-link-popup__status js-status">{{ status }}</div>{{/status}}{{^isSelf}}<div class="tv-user-link-popup__actions"><span class="tv-button tv-button--success tv-button--state tv-user-link-popup__button js-follow-user js-follow-user-{{ id }}{{#follow_status}} i-checked js-follow-user--followed{{/follow_status}}" data-id="{{ id }}"><span class="tv-button--state__unchecked js-follow-user-follow">' + window.t("Follow") + '</span><span class="tv-button--state__checked js-follow-user-following">' + window.t("Following") + '</span><span class="tv-button--state__uncheck-hint js-follow-user-unfollow">' + window.t("Unfollow") + '</span></span> <span class="tv-button tv-button--primary_ghost tv-user-link-popup__button js-user-link-popup-message" data-username="{{ username }}" data-id="{{ id }}">' + window.t("Message") + "</span></div>{{/isSelf}}</div>"
    },
    pP4S: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "ResponseMethods", function () {
          return n
        }), i.d(t, "ErrorReasons", function () {
          return o
        }),
        function (e) {
          e.error = "replay_error", e.point = "replay_point", e.ok = "replay_ok", e.resolutions = "replay_resolutions", e.endOfData = "replay_data_end", e.instanceId = "replay_instance_id"
        }(n || (n = {})),
        function (e) {
          e.tooSmallDelay = "too_small_delay", e.alreadyInAutoplay = "already_in_autoplay",
            e.nothingToStop = "nothing_to_stop", e.pointTooDeep = "point_too_deep", e.alreadyInSession = "already_in_session", e.thereIsNoSuchSeries = "no_series", e.notAllowedInAutoplay = "not_allow_in_autoplay", e.invalidResolution = "invalid_resolution"
        }(o || (o = {}))
    },
    pPtI: function (e, t, i) {
      "use strict";

      function n(e) {
        return C.Interval.parse(e).value()
      }

      function o(e) {
        var t, i;
        return !!C.Interval.isRange(e) || (e = n(e), i = !1, i = void 0 === (t = I.linking.supportedResolutions.value()) || -1 !== t.map(n).indexOf(e), I.linking.intraday.value() ? i : C.Interval.isDWM(e) && i)
      }

      function r(e) {
        C.Interval.isValid(e) && (C.Interval.isRange(e) ? E.setValue("chart.lastUsedRangeResolution", e) : E.setValue("chart.lastUsedTimeBasedResolution", e))
      }

      function s(e) {
        var t, i = E.getValue("chart.lastUsedRangeResolution");
        return void 0 !== i && C.Interval.isRange(i) ? i : (t = e.filter(function (e) {
          return C.Interval.isRange(e)
        })).includes("100R") ? "100R" : t.length > 0 ? t[0] : "100R"
      }

      function a(e) {
        var t, i = E.getValue("chart.lastUsedTimeBasedResolution");
        return void 0 !== i && C.Interval.isTimeBased(i) ? i : (t = e.filter(function (e) {
          return C.Interval.isTimeBased(e)
        })).includes("1D") ? "1D" : t.length > 0 ? t[0] : "1D"
      }

      function l(e) {
        return e ? "100R" : "1D"
      }

      function c(e, t, i) {
        var n = x.isRangeStyle(e),
          o = C.Interval.isRange(t);
        return !n && o ? a(i) : n && !o ? s(i) : t
      }

      function u(e) {
        return C.Interval.isRange(e) ? "1" : e
      }

      function h(e) {
        var t = C.Interval.parse(e),
          i = d(t.kind()),
          n = t.multiplier();
        return void 0 !== n && n <= i
      }

      function d(e) {
        var t = M[e];
        return Number.isNaN(t) ? 1 : t
      }

      function p(e) {
        return d(C.Interval.kind(e))
      }

      function f(e) {
        var t = _(E.getJSON(e, []));
        return L()(t.filter(h).map(n))
      }

      function _(e) {
        return Array.isArray(e) ? e : Object.keys(e)
      }

      function m() {
        var e, t, i, o = [];
        for (t = 0; t < arguments.length; t++) o[t] = arguments[t];
        return i = (e = []).concat.apply(e, o), g(i = L()(i.filter(h).map(n)))
      }

      function g(e) {
        return e.sort(v)
      }

      function y(e) {
        var t = new C.Interval(e),
          i = t.multiplier() || 1;
        return t.kind() === C.ResolutionKind.Minutes && Object(C.isHour)(i) ? [C.ResolutionKind.Hours, Math.floor(i / 60)] : [t.kind(), i]
      }

      function v(e, t) {
        var i = y(e),
          n = i[0],
          o = i[1],
          r = y(t),
          s = r[0],
          a = r[1];
        return n !== s ? R[n] - R[s] : o - a
      }

      function S() {
        var e = [];
        return window.user.is_pro && (e = f("IntervalWidget.intervals")), e
      }

      function b(e) {
        var t = w(e);
        return "" + t.multiplier + t.shortKind
      }

      function w(e) {
        var t = C.Interval.parse(e),
          i = t.multiplier(),
          n = t.kind();
        if (!t.isValid() || void 0 === i) throw new TypeError("Can't translate invalid interval");
        return t.kind() === C.ResolutionKind.Minutes && Object(C.isHour)(i) && (i = Math.floor(i / 60), n = C.ResolutionKind.Hours), {
          multiplier: i.toString(),
          shortKind: P(n),
          hint: i + " " + P(n, i),
          mayOmitMultiplier: t.isDWM() && 1 === i
        }
      }

      function P(e, t) {
        if (!t) return V[e];
        switch (e) {
          case C.ResolutionKind.Days:
            return window.t("day", {
              plural: "days",
              count: t
            });
          case C.ResolutionKind.Weeks:
            return window.t("week", {
              plural: "weeks",
              count: t
            });
          case C.ResolutionKind.Months:
            return window.t("month", {
              plural: "months",
              count: t
            });
          case C.ResolutionKind.Seconds:
            return window.t("second", {
              plural: "seconds",
              count: t
            });
          case C.ResolutionKind.Minutes:
            return window.t("minute", {
              plural: "minutes",
              count: t
            });
          case C.ResolutionKind.Hours:
            return window.t("hour", {
              plural: "hours",
              count: t
            });
          case C.ResolutionKind.Range:
            return window.t("range", {
              plural: "ranges",
              count: t
            });
          default:
            return e
        }
      }
      var T, C, x, E, I, A, L, D, k, O, M, R, V;
      i.r(t), i.d(t, "normalizeIntervalString", function () {
        return n
      }), i.d(t, "isAvailable", function () {
        return o
      }), i.d(t, "setLastUsedResolution", function () {
        return r
      }), i.d(t, "getRangeResolution", function () {
        return s
      }), i.d(t, "getTimeBasedResolution", function () {
        return a
      }), i.d(t, "getDefaultResolution", function () {
        return l
      }), i.d(t, "getResolutionByChartStyle", function () {
        return c
      }), i.d(t, "getServerInterval", function () {
        return u
      }), i.d(t, "isResolutionMultiplierValid", function () {
        return h
      }), i.d(t, "getMaxResolutionValue", function () {
        return p
      }), i.d(t, "getResolutionsFromSettings", function () {
        return f
      }), i.d(t, "convertResolutionsFromSettings", function () {
        return _
      }), i.d(t, "mergeResolutions", function () {
        return m
      }), i.d(t, "sortResolutions", function () {
        return g
      }), i.d(t, "getCustomResolutions", function () {
        return S
      }), i.d(t, "getTranslatedResolution", function () {
        return b
      }), i.d(t, "getTranslatedResolutionModel", function () {
        return w
      }), T = i("bSeV"), i("YFKU"), C = i("LxhU"), x = i("n5al"), E = i("Vdly"), I = i("PT1i"), A = i("IVMC"), L = i.n(A), (D = {})[C.ResolutionKind.Seconds] = 60, D[C.ResolutionKind.Minutes] = 1440, D[C.ResolutionKind.Hours] = 24, D[C.ResolutionKind.Days] = 365, D[C.ResolutionKind.Weeks] = 52, D[C.ResolutionKind.Months] = 12, D[C.ResolutionKind.Range] = 1e3, D[C.ResolutionKind.Invalid] = NaN, M = D, (k = {})[C.ResolutionKind.Seconds] = 1, k[C.ResolutionKind.Minutes] = 2, k[C.ResolutionKind.Hours] = 3, k[C.ResolutionKind.Days] = 4, k[C.ResolutionKind.Weeks] = 5, k[C.ResolutionKind.Months] = 6, k[C.ResolutionKind.Range] = 7, k[C.ResolutionKind.Invalid] = 8, R = k, (O = {})[C.ResolutionKind.Invalid] = "", O[C.ResolutionKind.Seconds] = window.t("S", {
        context: "interval_short"
      }), O[C.ResolutionKind.Minutes] = window.t("m", {
        context: "interval_short"
      }), O[C.ResolutionKind.Hours] = window.t("h", {
        context: "interval_short"
      }), O[C.ResolutionKind.Days] = window.t("D", {
        context: "interval_short"
      }), O[C.ResolutionKind.Weeks] = window.t("W", {
        context: "interval_short"
      }), O[C.ResolutionKind.Months] = window.t("M", {
        context: "interval_short"
      }), O[C.ResolutionKind.Range] = window.t("R", {
        context: "interval_short"
      }), V = O
    },
    "pQ+n": function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, o = [],
          r = e.children(t, !1);
        for (i = 0; i < r.length; i++) o = o.concat(n(e, r[i]));
        return o.push(t), o
      }

      function o(e, t) {
        var i = new Set,
          o = function (t) {
            e.children(t, !1).forEach(function (e) {
              i.has(e) || (i.add(e), o(e))
            })
          };
        return t.forEach(o), t.filter(function (e) {
          return !i.has(e)
        }).map(function (t) {
          return n(e, t)
        }).reduce(function (e, t) {
          return e.concat(t)
        }, [])
      }
      i.r(t), i.d(t, "getSourcesTree", function () {
        return n
      }), i.d(t, "closeSourcesSet", function () {
        return o
      })
    },
    pZll: function (e, t, i) {
      "use strict";

      function n() {
        return Object(o.service)(r)
      }
      var o, r, s, a, l, c, u;
      i.r(t), o = i("ObRt"), r = {
        id: "SymbolSearchUIService"
      }, s = i("u5Q5"), a = function () {
        function e() {}
        return e.prototype.bindToInput = function (e, t) {
          return Object(s.bindToInput)(e, t)
        }, e
      }(), l = i("PT1i"), c = i("h24c"), u = function () {
        function e() {
          this._symbolGetter = null, this._deferredItems = []
        }
        return e.prototype.setSymbolGetter = function (e) {
          var t = this;
          this._symbolGetter = e,
            this._deferredItems.forEach(function (i) {
              t._bindToInputImpl(e, i.input, i.options)
            }), this._deferredItems = []
        }, e.prototype.bindToInput = function (e, t) {
          return null === this._symbolGetter ? this._deferredItems.push({
            input: e,
            options: t
          }) : this._bindToInputImpl(this._symbolGetter, e, t), Promise.resolve({
            destroy: function () {},
            acceptTypeIn: function () {}
          })
        }, e.prototype._bindToInputImpl = function (e, t, i) {
          var n, o = $(t),
            r = function (e, t) {},
            s = function () {
              i.currentSymbol = o.val(), e.getSymbol(i).then(function (e) {
                o.trigger("accept-symbol", [e.symbol]), i.callback && i.callback(e.symbol, e.interval), i.syncWithChartWidget && !Object(c.skipAccept)(e.symbol, e.interval) && r(e.symbol, e.interval), !0 === i.clearAfterAccept ? o.val("") : ("" === o.val() && i.onEmptyApply && i.onEmptyApply(), o.val(e.symbol)), o.blur()
              }).catch(function () {
                o.blur()
              })
            },
            a = function (e) {
              e.preventDefault(), s()
            };
          i.syncWithChartWidget && (Object(c.syncSymbolSearch)(o, !0), l.linking.seriesShortSymbol.subscribe(function () {
            Object(c.syncSymbolSearch)(o, !0)
          }), n = !1, r = function (e, t) {
            n = !(e || t), e && l.linking.symbol.setValue(e), t && Object(c.setLinkingResolution)(t)
          }, i.syncOnBlur && o.on("blur", function () {
            n && (Object(c.syncSymbolSearch)(o, !0), n = !1)
          })), o.focus(s), o.keypress(a), o.keydown(a)
        }, e
      }(), i.d(t, "symbolSearchUIService", function () {
        return n
      }), Object(o.hasService)(r) || (window.initData && window.initData.is_mobile_new ? Object(o.registerService)(r, new u) : Object(o.registerService)(r, new a))
    },
    poeh: function (e, t, i) {
      "use strict";
      e.exports.pushChartPage = function (e) {
        Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(3), i.e("history-manager")]).then(function (t) {
          var n = i("L5wN"),
            o = new n.ChartPage(e);
          TradingView.historyManager.push(o)
        }.bind(null, i)).catch(i.oe)
      }
    },
    pvsv: function (e, t, i) {
      "use strict";

      function n(e, t) {
        Promise.all([i.e("vendors"), i.e(6), i.e(8), i.e(17), i.e(275), i.e(7), i.e(15), i.e("symbol-info-dialog-impl")]).then(function (n) {
          i("1Z/g").showSymbolInfoDialog(e, t)
        }.bind(null, i)).catch(void 0)
      }
      i.r(t), i.d(t, "showSymbolInfoDialog", function () {
        return n
      })
    },
    "q/LD": function (e, t, i) {},
    qGsh: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i, r;
        if (n.instance) return n.instance;
        n.instance = this, t = this, o.symbol.subscribe(this._onSymbolChange.bind(this), {
          callWithLast: !0
        }), e.metaInfo.name.subscribe(this.updateView.bind(this)), this._chartWidgetCollection = e, this._notificationCount = 0, this._tab_hidden = !1, void 0 !== document.hidden ? (i = "hidden", r = "visibilitychange") : void 0 !== document.mozHidden ? (i = "mozHidden", r = "mozvisibilitychange") : void 0 !== document.msHidden ? (i = "msHidden", r = "msvisibilitychange") : void 0 !== document.webkitHidden && (i = "webkitHidden", r = "webkitvisibilitychange"), $(document).bind(r, function () {
          t._tab_hidden = document[i], t._tab_hidden || (t._notificationCount = 0, setTimeout(function () {
            t.updateView()
          }, 1e3))
        })
      }
      var o = i("PT1i").linking,
        r = i("kcTO").PriceFormatter,
        s = i("IWXC").getQuoteSessionInstance;
      n.prototype.updateView = function () {
        var e, t, i = this._chartWidgetCollection && this._chartWidgetCollection.metaInfo.name.value(),
          n = this._quoteData,
          o = [];
        this._symbol && (e = n && n.short_name || (this._symbol || "").replace(/\w+:/g, ""),
          n && n.last_price && (this._formatter || (this._formatter = new r(n.pricescale || 100, n.minmov || 1, n.fractional, n.minmove2)), e += ": " + this._formatter.format(n.last_price), (t = n.change_percent) > 0 ? e += " â–²+" + t + "%" : t < 0 ? e += " â–¼âˆ’" + Math.abs(t) + "%" : 0 === t && (e += " 0%")), o.push(e)), i && o.push(i), 0 === o.length && o.push("New Chart"), document.title = o.join(" â€” ") + " â€” TradingView"
      }, n.prototype.addNotification = function (e) {
        this._tab_hidden && (this._notificationCount += e || 0), this.updateView()
      }, n.prototype._onSymbolChange = function (e) {
        var t, i = this;
        this._quoteData && this._quoteData.original_name !== e && this._quoteData.full_name !== e && (delete this._quoteData, delete this._formatter), t = s("simple"), this._symbol && (t.unsubscribe("ua-title", this._symbol), delete this._symbol), e && (this._symbol = e, t.subscribe("ua-title", this._symbol, function (e) {
          i._quoteData = e && e.values, i.updateView()
        })), this.updateView()
      }, n.prototype._symbol = "", e.exports = n
    },
    qJq3: function (e, t, i) {
      "use strict";
      (function (e, n, o, r) {
        function s(t, o, r) {
          var a, l, m, g = i("OK+B");
          c.call(this, t), this._dataEvents = new Te, this._quotesProvider = new xe, this._quotesProvider.quotesUpdate().subscribe(this, this._onQuotesUpdate), this._boxSizeChanged = new e, this._tagsChanged = new e, this._symbolIntervalChanged = new e, this._intervalChanged = new e, this._extendedHoursChanged = new e, this.chartWidgetInitialized = new e, this._onStyleChanged = new e, this._onStatusChanged = new e, this._onRestarted = new e, this.requestingIntradayWhenNotSupported = new e, this.requestingResolutionWhenNotSupported = new e, this._priceScaleChanged = new e, this._onInReplayStateChanged = new e, this._requestOptions = r || {
              count: TradingView.DEFAULT_BAR_COUNT
            }, this.m_model = t, this._chartApi = t._chartApi, this.m_data = new $, this.setProperties(o), this._prevChartStyle = o.style.value(), this.createPaneView(), this._dataWindowView = new f(this, t), this._legendView = new _(this, t), this._statusView = new u(this, this._model.properties().scalesProperties.textColor, this.properties().statusViewStyle), a = new p(this, {
              model: t
            }), this._priceLinePriceAxisView = new ye(this), l = new d(this, {
              model: t
            }), this._priceAxisViews = [new h(this, t), a, l], this._panePriceAxisView = new K(a, this, t), this._projectionPriceAxisView = new K(l, this, t), this._symbolInfo = null, this._status = s.STATUS_OFFLINE, this._syncModel = null, this._replaySubscriber = null, m = this, this._turnaroundCounter = 1, this._turnaround = "s" + this._turnaroundCounter, this._handler = function (e) {
              m.onData(e)
            }, this._haStyle = {
              studyId: pe.chartStyleStudyId(s.STYLE_HEIKEN_ASHI, !0)
            }, this._renkoStyle = {
              studyId: pe.chartStyleStudyId(s.STYLE_RENKO, !0)
            }, this._pbStyle = {
              studyId: pe.chartStyleStudyId(s.STYLE_PB, !0)
            }, this._kagiStyle = {
              studyId: pe.chartStyleStudyId(s.STYLE_KAGI, !0)
            }, this._pnfStyle = {
              studyId: pe.chartStyleStudyId(s.STYLE_PNF, !0)
            }, this._rangeStyle = {
              studyId: pe.chartStyleStudyId(s.STYLE_RANGE, !0)
            }, this._properties.addExclusion && this._properties.addExclusion("visible"), this._predictBars = 0, this._futureBarsPaneView = null, this._properties.showInDataWindow.listeners().subscribe(t, g.prototype.fullUpdate), this.marketStatus = new n, this._seriesLoaded = !1,
            this.properties().minTick.listeners().subscribe(this, s.prototype._recreateFormatter), m = this, this.properties().minTick.listeners().subscribe(null, function () {
              m.m_model.invalidate(new Z(Z.FULL_UPDATE))
            }), this._prevClosePriceLineView = new Pe(this), this._priceLineView = null, this._baseHorizontalLineView = new be(this), this._gotoDateResultCleared = !1, this._gotoDateView = null, this.bindStyleChange(), this.bindJapChartsInputs(), this._createIsDWMProperty(), this.createExtendedHoursProperty(), this.extendedHours.listeners().subscribe(this, function (e) {
              this._extendedHoursChanged.fire(e), this.restart()
            }), this._dataEvents.extendedHoursNotPermitted().subscribe(this, function () {
              this._properties.extendedHours.setValue(!1)
            }), this.createDividendsAdjustmentProperty(), this.dividendsAdjustment.listeners().subscribe(this, function () {
              this.restart()
            }), this._dataPoweredBy = null, this._symbolIntervalChanged.subscribe(this, this.checkInterval), this.properties().showCountdown.listeners().subscribe(this, s.prototype._onChangeShowCountdown), this._onChangeShowCountdown(this.properties().showCountdown), this._recreateFormatter(), this._isDWMCached = null, this.properties().lineStyle.priceSource.listeners().subscribe(this, this._updateBarFunction), this.properties().areaStyle.priceSource.listeners().subscribe(this, this._updateBarFunction), this.properties().baselineStyle.priceSource.listeners().subscribe(this, this._updateBarFunction), this._updateBarFunction()
        }

        function a(e) {
          return "=" + JSON.stringify(e)
        }
        var l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D, k, O, M, R, V, B, N, F, W, U, H, j, z, Y, q, G, X, K, $, J, Q, Z, ee, te, ie, ne, oe, re, se, ae, le, ce, ue, he, de, pe, fe, _e, me, ge, ye, ve, Se, be, we, Pe, Te, Ce, xe, Ee, Ie, Ae;
        TradingView.DEFAULT_BAR_COUNT = 300, TradingView.TIME_PLOT = 0, TradingView.OPEN_PLOT = 1, TradingView.HIGH_PLOT = 2, TradingView.LOW_PLOT = 3, TradingView.CLOSE_PLOT = 4, TradingView.ADT_PLOT = 6, TradingView.STYLE_PLOT = 7, l = i("Eyy1").ensureNotNull, c = i("lUQk").SeriesBase, u = i("tBG4").SeriesStatusView, h = i("kYV3").PrevCloseSeriesPriceAxisView, d = i("Ke3L").ProjectionSeriesPriceAxisView, p = i("TQMj").SeriesPriceAxisView, f = i("cXAR").SeriesDataWindowView, _ = i("gWck").SeriesLegendView, m = i("x0JF"), g = m.SeriesAreaPaneView, y = m.SeriesLinePaneView, v = m.SeriesHollowCandlesPaneView, S = m.SeriesCandlesPaneView, b = m.SeriesBarsPaneView, w = m.SeriesHeikenAshiPaneView, P = m.SeriesBaselinePaneView, T = i("9Jkk").SeriesHiLoPaneView, C = i("biIa").SeriesWaterlinePaneView, x = i("Kxc7"), E = i("hayr").propertyPages, I = i("22O2"), A = I.SeriesRenkoPaneView, L = I.SeriesProjectionRenkoPaneView, D = I.SeriesPriceBreakPaneView, k = I.SeriesProjectionPriceBreakPaneView, O = I.SeriesKagiPaneView, M = I.SeriesProjectionKagiPaneView, R = I.SeriesPnFPaneView, V = I.SeriesProjectionPnFPaneView, B = I.SeriesProjectionRangePaneView, N = i("xlbu").telemetry, F = i("NP3r").enabled, W = i("bKsZ").ProductFeatures, U = !1, H = i("YJLw"), j = i("oxKA").getDataVendorString, z = i("OKab").FormattersSerializer, Y = i("wHzE").FutureBarsPaneView, q = i("7gR8").getSeriesDangerReason, G = i("ZJKN").BarsRange, X = i("38az").SeriesBarColorer, K = i("KtbP").PanePriceAxisView, $ = i("XPit").SeriesData, J = i("XPit").barFunction, Q = i("XPit").seriesPlotFunctionMap,
          Z = i("HvwJ"), ee = i("8woN"), te = i("k9/m"), ie = te.PlotList, ne = te.PlotRowSearchMode, oe = te.mergeMinMax, re = i("hsV8").unpackNonSeriesData, se = i("okVO").SyncModel, ae = i("PC8g").trackEvent, le = i("IzGk").translatedIntervalString, ce = i("uOxu"), ue = ce.getLogger("Chart.Series"), he = ce.getLogger("Chart.Series.Updates", {
            highRate: !0
          }), de = i("dfhE"), pe = i("n5al"), fe = i("pPtI"), _e = fe.getServerInterval, me = fe.getResolutionByChartStyle, ge = i("LxhU").Interval, ye = i("TmNs").SeriesPriceLineAxisView, ve = i("WkOR").areEqualSymbols, Se = i("WkOR").includesEqualSymbol, be = i("z+Sa").SeriesHorizontalBaseLinePaneView, we = i("Z8aO").SeriesPriceLinePaneView, Pe = i("/Kki").SeriesPrevClosePriceLinePaneView, Te = i("ZAbA").SeriesDataEvents, Ce = i("FIi8").deepExtend, xe = i("wOSo").QuotesProvider, Ee = i("qFKp").CheckMobile.any() && !0, Ie = !x.enabled("hide_series_legend_item"), Ae = Number(window.TELEMETRY_SERVER_TIME_DIFF_THRESHOLD) || 3e3, inherit(s, c), s.prototype.styleStudyInfos = function () {
            return {
              haStyle: this._haStyle,
              renkoStyle: this._renkoStyle,
              pbStyle: this._pbStyle,
              kagiStyle: this._kagiStyle,
              pnfStyle: this._pnfStyle,
              rangeStyle: this._rangeStyle
            }
          }, s.prototype.styleStudyInfo = function (e) {
            return this.styleStudyInfos()[e]
          }, s.prototype.priceLineColor = function (e) {
            return this.properties().priceLineColor.value() || e
          }, s.prototype.endOfData = function () {
            return this._endOfData
          }, s.prototype.serverTimeOffset = function () {
            return this._chartApi.serverTimeOffset()
          }, s.prototype._onChangeShowCountdown = function (e) {
            var t = this;
            e.value() ? this._countdownUpdateTimer = this.m_model.setInterval(function () {
              t.isDWM() || (t._priceAxisViews[0].update(), t.m_model.updateSource(t))
            }, 500) : (this.m_model.clearInterval(this._countdownUpdateTimer), delete this._countdownUpdateTimer)
          }, s.prototype.lastValueData = function (e, t, i) {
            var n, o, r, s, a, l, c, u, h, d = {
              noData: !0
            };
            if (this.m_model.timeScale().isEmpty() || this.priceScale().isEmpty() || this.data().isEmpty()) return d;
            if (null === (n = this.m_model.timeScale().visibleBarsStrictRange())) return d;
            if (t) {
              if (null === (s = this.data().bars().last())) return d;
              o = s.value, r = s.index
            } else {
              if (null === (a = this.data().bars().search(n.lastBar(), ne.NearestLeft))) return d;
              o = this.data().bars().valueAt(a.index), r = a.index
            }
            return l = {
              noData: !1
            }, c = void 0 !== e ? o[e] : this._barFunction(o), i && (l.price = c), u = this.firstValue(), l.text = this.priceScale().formatPrice(c, u), l.formattedPriceAbsolute = this.priceScale().formatPriceAbsolute(c), l.formattedPricePercentage = this.priceScale().formatPricePercentage(c, u), h = this.barColorer().barStyle(r, !1), l.color = h.barColor, l.floatCoordinate = this.priceScale().priceToCoordinate(c, u, !0), l.coordinate = Math.round(l.floatCoordinate), l.index = r, l
          }, s.prototype.prevClose = function () {
            var e, t;
            return this.priceScale().isEmpty() || this.data().isEmpty() || !this.quotes() ? null : null == (e = this.quotes().prev_close_price) ? null : (t = this.firstValue(), {
              coordinate: this.priceScale().priceToCoordinate(e, t),
              floatCoordinate: this.priceScale().priceToCoordinate(e, t, !0),
              text: this.priceScale().formatPrice(e, t)
            })
          }, s.prototype.quotes = function () {
            return this.data().isEmpty() ? null : this._quotesProvider.quotes()
          }, s.prototype._createIsDWMProperty = function () {
            this._isDWMProperty = new o(this.isDWM()), this._onRestarted.subscribe(this, function () {
              this._isDWMProperty.setValue(this.isDWM())
            })
          }, s.prototype.isDWMProperty = function () {
            return this._isDWMProperty
          }, s.prototype._prepareChartApiParams = function () {
            return this._requestOptions.startDate ? !this._requestOptions.startDate || this._requestOptions.endDate || this._requestOptions.count ? this._requestOptions.startDate && this._requestOptions.endDate ? ["from_to", this._requestOptions.startDate, this._requestOptions.endDate] : ["from_to", this._requestOptions.startDate, this._requestOptions.count] : ["from_to", this._requestOptions.startDate] : this._requestOptions.count || TradingView.DEFAULT_BAR_COUNT
          }, s.prototype._nextSymbolId = 1, s.prototype._nextSeriesId = 1, Object.assign(s, de), s.PERMISSION_DENIED = "permission denied", s.PD_REASON_SYMBOL = "symbol", s.PD_REASON_EXTENDED_HOURS = "extended_hours", s.PD_REASON_GROUP_PERMISSION = "group", s.STUDY_NOT_AUTH = "study_not_auth", s.prototype.model = function () {
            return this.m_model
          }, s.prototype.fixLastBar = function (e) {
            this._futureBarsPaneView || (this._futureBarsPaneView = new Y(this, this.data().bars().lastIndex(), e))
          }, s.prototype.clearData = function () {
            this.data().clear()
          }, s.prototype.data = function () {
            return this.m_data
          }, s.prototype.symbolId = function () {
            return this._symbolId
          }, s.prototype.seriesId = function () {
            return this._seriesId
          }, s.prototype.isPulse = function () {
            return this._symbolInfo && this._symbolInfo.resolutions.length > 0
          }, s.prototype.onTagsChanged = function () {
            return this._tagsChanged
          }, s.prototype.onSymbolIntervalChanged = function () {
            return this._symbolIntervalChanged
          }, s.prototype.onIntervalChanged = function () {
            return this._intervalChanged
          }, s.prototype.onStatusChanged = function () {
            return this._onStatusChanged
          }, s.prototype.onStyleChanged = function () {
            return this._onStyleChanged
          }, s.prototype.onRestarted = function () {
            return this._onRestarted
          }, s.prototype.onBoxSizeChanged = function () {
            return this._boxSizeChanged
          }, s.prototype.status = function () {
            return this._status
          }, s.prototype.isDWM = function () {
            var e, t;
            return null !== this._isDWMCached ? this._isDWMCached : ((e = new ge(this._properties.interval.value())).isDWM() ? this._isDWMCached = !0 : (t = e.isSeconds() ? e.multiplier() : 60 * e.multiplier(), this._isDWMCached = !(t < 216e3)), this._isDWMCached)
          }, s.prototype.lastPriceLabelFixedCoordinate = function () {
            return this._priceAxisViews[0]._fixedCoordinate
          }, s.prototype.createPaneView = function () {
            this._paneView = null, this._projectionBarsPaneView = null, this._waterlineView = null, this._priceLineView = this.hasClosePrice() ? new we(this) : null;
            var e = this._properties.style.value();
            switch (e) {
              case s.STYLE_BARS:
                this._paneView = new b(this, this.m_model);
                break;
              case s.STYLE_CANDLES:
                this._paneView = new S(this, this.m_model);
                break;
              case s.STYLE_LINE:
                this._paneView = new y(this, this.m_model);
                break;
              case s.STYLE_AREA:
                this._paneView = new g(this, this.m_model);
                break;
              case s.STYLE_RENKO:
                this._paneView = new A(this, this.m_model), this._projectionBarsPaneView = new L(this, this.m_model);
                break;
              case s.STYLE_PB:
                this._paneView = new D(this, this.m_model), this._projectionBarsPaneView = new k(this, this.m_model);
                break;
              case s.STYLE_KAGI:
                this._paneView = new O(this, this.m_model), this._projectionBarsPaneView = new M(this, this.m_model);
                break;
              case s.STYLE_PNF:
                this._paneView = new R(this, this.m_model), this._projectionBarsPaneView = new V(this, this.m_model);
                break;
              case s.STYLE_RANGE:
                this._paneView = new b(this, this.m_model), this._projectionBarsPaneView = new B(this, this.m_model);
                break;
              case s.STYLE_HEIKEN_ASHI:
                this._paneView = new w(this, this.m_model);
                break;
              case s.STYLE_HOLLOW_CANDLES:
                this._paneView = new v(this, this.m_model);
                break;
              case s.STYLE_BASELINE:
                this._paneView = new P(this, this.m_model), this._waterlineView = new C(this);
                break;
              case s.STYLE_HILO:
                this._paneView = new T(this, this.m_model);
                break;
              default:
                throw Error("Unknown chart style assigned: " + e)
            }
          }, s.prototype._clearStylePlot = function (e, t) {
            var i, n;
            0 !== e.size() && (i = t || l(e.firstIndex()), n = l(e.lastIndex()) + 1, e.range(i, n).each(function (e, t) {
              t[TradingView.STYLE_PLOT] = null
            }))
          }, s.prototype.invalidateBarStylesCache = function (e) {
            ue.logDebug("Invalidate style cache starting from " + e), this._clearStylePlot(this.m_data.m_bars, e), this._clearStylePlot(this.m_data.m_nsBars)
          }, s.prototype.invalidateBarColorerCache = function () {
            delete this._barColorerCache, this.invalidateBarStylesCache()
          }, s.prototype.barColorer = function () {
            var e, t, i, n;
            if (this._barColorerCache) return this._barColorerCache;
            for (e = null, t = this.m_model.dataSources().length - 1; t >= 0; t--)(i = this.m_model.dataSources()[t]).metaInfo && TradingView.isInherited(i.constructor, TradingView.Study) && i.hasBarColorer() && i.properties().visible.value() && (n = i.barColorer(), null === e ? e = n : e.pushBackBarColorer(n));
            return null === e ? e = new X(this) : e.pushBackBarColorer(new X(this)), this._barColorerCache = e, this._barColorerCache
          }, s.prototype.properties = function () {
            return this._properties
          }, s.prototype._barsState = function (e) {
            var t = e.state();
            return t.data.forEach(function (e) {
              e.value.splice(7, 1)
            }), t
          }, s.prototype.state = function (e, t) {
            var i = this === this.m_model.mainSeries() ? "MainSeries" : TradingView.className(this.constructor),
              n = {
                type: i,
                id: this.id(),
                state: this.properties().state(t),
                zorder: this.zorder(),
                haStyle: this._haStyle,
                renkoStyle: this._renkoStyle,
                pbStyle: this._pbStyle,
                kagiStyle: this._kagiStyle,
                pnfStyle: this._pnfStyle,
                rangeStyle: this._rangeStyle
              };
            return this._symbolInfo && this._symbolInfo.ticker && (n.state.symbol = this._symbolInfo.ticker), e && (n.bars = this._barsState(this.m_data.m_bars), n.nsBars = this._barsState(this.m_data.m_nsBars), n.symbolInfo = this._symbolInfo, n.rtPrice = this.data().lastProjectionPrice), n.boxSize = this.data().boxSize, n.reversalAmount = this.data().reversalAmount, n
          }, s.prototype.restoreState = function (e, t) {
            t && this._setStatus(s.STATUS_SNAPSHOT), this._properties.mergeAndFire(e.state), this._prevChartStyle = this.properties().style.value(), this.createPaneView(), t && this.restoreData(e.bars, e.nsBars, e.symbolInfo, e.rtPrice, e.boxSize, e.reversalAmount)
          }, s.prototype.stateForAlert = function () {
            var e, t, i = this === this.m_model.mainSeries() ? "MainSeries" : TradingView.className(this.constructor),
              n = this.idForAlert(),
              o = this.formatter();
            return o = o ? z.serialize(o) : null, e = {
              id: n,
              uniqueId: n,
              type: i,
              proSymbol: this.proSymbol(),
              actualSymbol: this.actualSymbol(),
              symbolString: this.getSymbolString(),
              interval: this.interval(),
              style: this.properties().style.value(),
              styleInputs: this.getInputsProperties().state(),
              extendedHours: this._isExtendedHoursAllowed() && this.extendedHours.value(),
              dividendsAdjustment: this.properties().dividendsAdjustment.value(),
              boxSize: this.data().boxSize,
              reversalAmount: this.data().reversalAmount,
              isSpread: this.isSpread(),
              formatter: o
            }, (t = q(this)) && (e.dangerReason = t), e
          }, s.prototype.idForAlert = function () {
            return H(this.getSymbolString() + ge.normalize(this.interval())).toString()
          }, s.prototype.restoreData = function (e, t, i, n, o, r) {
            this._status = s.STATUS_SNAPSHOT, this.m_data.m_bars.restoreState(e), this.m_data.m_nsBars.restoreState(t), this.updateSymbolInfo(i), this.m_data.lastProjectionPrice = n, this.m_data.boxSize = o, o || (this.properties().style.value() === s.STYLE_PNF ? this.m_data.boxSize = this.properties().pnfStyle.inputs.boxSize.value() : this.properties().style.value() === s.STYLE_RENKO && (this.m_data.boxSize = this.properties().renkoStyle.inputs.boxSize.value())), this.m_data.reversalAmount = r, r || this.properties().style.value() === s.STYLE_KAGI && (this.m_data.reversalAmount = this.properties().kagiStyle.inputs.reversalAmount.value())
          }, s.prototype.setProperties = function (e) {
            e.timeframe || e.merge({
              timeframe: ""
            }), e.shortName || e.merge({
              shortName: ""
            }), this._properties = e, this._properties.symbol.listeners().subscribe(this, s.prototype.changeSymbol), this._properties.interval.listeners().subscribe(this, s.prototype.changeInterval), this._properties.timeframe.listeners().subscribe(this, s.prototype.changeTimeFrame), this._properties.listeners().subscribe(this, s.prototype.changeProperties)
          }, s.prototype.changeSymbol = function () {
            this.setSymbolIntervalDelayed(), this.m_model.checkLineToolSelection()
          }, s.prototype.changeInterval = function () {
            this.setSymbolIntervalDelayed()
          }, s.prototype.changeTimeFrame = function () {
            ae("GUI", "Change timeframe")
          }, s.prototype.title = function () {
            return this.properties().symbol.value() + ", " + le(this.properties().interval.value())
          }, s.prototype.changeProperties = function (e) {
            e !== this._properties.symbol && e !== this._properties.interval && e !== this._properties.timeframe && (this._tagsChanged.fire(), this.createPaneView(), this.updateAllViews(), this.m_model.updateSource(this))
          }, s.prototype._makeNextSymbolId = function () {
            return "symbol_" + this._nextSymbolId++
          }, s.prototype._makeNextSeriesId = function () {
            return "s" + this._nextSeriesId++
          }, s.prototype.onData = function (e) {
            var t, n, o, r, a, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P = this;
            switch (e.method) {
              case "symbol_resolved":
                if (e.params[0] !== this._symbolId) {
                  ue.logNormal("command for old symbol. Expected:" + this._symbolId + ", actual" + e.params[0]);
                  break
                }
                this.updateSymbolInfo(e.params[1]), this.m_model.updateSource(this), this._dataEvents.fireSymbolResolved(this._symbolInfo), this.m_model.realignLineTools(), TradingView.onWidget() || ae("Symbol", e.params[1].listed_exchange, e.params[1].name), t = this.symbolInfo().minmov / this.symbolInfo().pricescale, (n = this.properties()).style.value() === s.STYLE_RENKO && n.renkoStyle.inputs.boxSize.value() < t ? n.renkoStyle.inputs.merge({
                  boxSize: t
                }) : n.style.value() === s.STYLE_PNF && n.pnfStyle.inputs.boxSize.value() < t ? n.pnfStyle.inputs.merge({
                  boxSize: t
                }) : n.style.value() === s.STYLE_KAGI && n.kagiStyle.inputs.reversalAmount.value() < t && n.kagiStyle.inputs.merge({
                  reversalAmount: t
                });
                break;
              case "symbol_error":
                if (e.params[0] !== this._symbolId) {
                  ue.logNormal("command for old symbol. Expected:" + this._symbolId + ", actual" + e.params[0]);
                  break
                }
                if (this._setStatus(s.STATUS_INVALID_SYMBOL), this._properties.shortName.setValue(this._properties.symbol.value()), this.m_model.clearAllStudies(), this.updateAllViews(), this.m_model.updateSource(this), (o = e.params[1]) === s.PERMISSION_DENIED) switch (e.params[2]) {
                  case s.PD_REASON_EXTENDED_HOURS:
                    this._dataEvents.fireExtendedHoursNotPermitted();
                    break;
                  case s.PD_REASON_SYMBOL:
                    this._dataEvents.fireSymbolNotPermitted(e.params[3]);
                    break;
                  case s.PD_REASON_GROUP_PERMISSION:
                    this._dataEvents.fireSymbolGroupNotPermitted(e.params[3]);
                    break;
                  default:
                    this._dataEvents.fireSymbolNotPermitted(e.params[2])
                } else this.m_model.resetTimeScale(), this._dataEvents.fireSymbolError(e);
                this.m_model.realignLineTools(), this._sendTelemetryCounter("symbol_error", this._getTelemetryAdditionalData(o, !1));
                break;
              case "series_timeframe":
                if (e.params[1] !== this._turnaround) break;
                r = e.params[2], a = e.params[3], u = void 0 !== (c = e.params[4]) && c ? a : a + 10, this.m_model.setTimeViewport(r, u);
                break;
              case "series_error":
                o = e.params[2], delete this._loadingStartTime, x.enabled("charting_library_debug_mode") && ue.logNormal("Error reason: " + o), this._setStatus(x.enabled("no_bars_status") && this._symbolInfo ? s.STATUS_NO_BARS : s.STATUS_INVALID_SYMBOL), "string" == typeof o && (o.startsWith("study_not_auth:") ? (h = o.split(":", 2)[1].split("@", 2)[0]) in {
                  BarSetRenko: !0,
                  BarSetPriceBreak: !0,
                  BarSetKagi: !0,
                  BarSetPnF: !0
                } ? this._dataEvents.fireChartTypeNotPermitted(h) : "BarSetSpread" === h ? this._dataEvents.fireIntradaySpreadNotPermitted() : "BarSetRange" === h && this._dataEvents.fireCustomIntervalNotPermitted() : "resolution_not_entitled" === o ? this._dataEvents.fireIntradayExchangeNotPermitted() : "custom_resolution" === o && this._dataEvents.fireCustomIntervalNotPermitted()), this._seriesLoaded = !0, this._sendTelemetryCounter("series_error", this._getTelemetryAdditionalData(o)), this._dataEvents.fireSeriesError(e);
                break;
              case "series_loading":
                if (e.params[1] !== this._turnaround) break;
                if (e.params[0] !== this._seriesId) {
                  ue.logNormal("command for old series. Expected:" + this._seriesId + ", actual" + e.params.customId);
                  break
                }
                this._setStatus(s.STATUS_LOADING), P._loadingStartTime = (new Date).getTime();
                break;
              case "series_completed":
                if (e.params[2] !== this._turnaround) break;
                if (e.params[0] !== this._seriesId) {
                  ue.logNormal("command for old series. Expected:" + this._seriesId + ", actual" + e.params.customId);
                  break
                }
                switch (d = "chartSession:" + P._chartApi._sessionid, p = (new Date).getTime() - this._loadingStartTime, ue.logDebug(d + ", Series loading took " + p + " ms, eod:" + this._endOfData), (f = e.params[e.params.length - 1]) && (m = (_ = Math.round(1e3 * (f - this.serverTimeOffset())) - this._loadingStartTime) > 0 && p - _ >= Ae, this._sendTelemetryTiming("series_server_time_frame", m ? _ : p, this._getTelemetryAdditionalData())),
                  this._sendTelemetryCounter("series_loaded", this._getTelemetryAdditionalData()), this._sendTelemetryTiming("series_time_frame", p, this._getTelemetryAdditionalData()), delete this._loadingStartTime, "pulsed" === (g = e.params[1]) && (g = "delayed"), g) {
                  case "streaming":
                    this._setStatus(s.STATUS_READY);
                    break;
                  case "endofday":
                    this._setStatus(s.STATUS_EOD);
                    break;
                  case "delayed":
                    this._setStatus(s.STATUS_DELAYED);
                    break;
                  case "pulsed":
                    this._setStatus(s.STATUS_PULSE);
                    break;
                  case "replay":
                    this._setStatus(s.STATUS_REPLAY)
                }
                g.match(/delayed_streaming/) && this._setStatus(s.STATUS_DELAYED_STREAMING), (y = this.m_model.paneForSource(this)).recalculatePriceScale(this.priceScale()), this.m_model.invalidate(new Z(Z.FULL_UPDATE)), this.m_data.size() && this._dataEvents.fireTickMarksRangeChanged({
                  start: l(this.data().first()).value[TradingView.TIME_PLOT],
                  end: l(this.data().last()).value[TradingView.TIME_PLOT]
                }), this.model().recalcVisibleRangeStudy(this.model().dataSources(), !0), this.model().recalcStudyBasedLineTools(), !this.m_priceScale.isLockScale() || this.model().timeScale().isEmpty() || this._seriesLoaded || (this.model().timeScale()._correctOffset(), this.model().timeScale().correctBarSpacing(), this.model().resetPriceScale(y, this.priceScale())), this._seriesLoaded = !0, this._dataEvents.fireCompleted(), U || (U = !0, window.performance && window.performance.timing && i("4I9c")("Chart", "Time to series", Date.now() - window.performance.timing.requestStart)), this.requestMoreData();
                break;
              case "series_deleted":
                break;
              case "data_update":
                if (e.params.customId !== this._seriesId) {
                  ue.logNormal("command for old series. Expected:" + this._seriesId + ", actual" + e.params.customId);
                  break
                }
                if (e.params.turnaround !== this._turnaround) {
                  ue.logNormal("command for old series turnaround. Expected:" + this._turnaround + ", actual" + e.params.turnaround);
                  break
                }
                if (this._setSymbolIntervalDelay) {
                  if (this._willSymbolIntervalChanged()) return void ue.logNormal("command comes during symbol/interval changing");
                  ue.logNormal("data_update comes when symbol interval delay present but symbol/interval should not be changed")
                }
                if (this.status() === s.STATUS_INVALID_SYMBOL) break;
                e.params.plots.length ? (v = this.m_data.bars().size(), S = this.m_data.bars().firstIndex(), b = this.m_data.bars().merge(e.params.plots), (null === S || b.index < S) && (this._endOfData = !1), w = "Merge bars. earliestRow:" + b.index + "} ", w += "bars state:{firstBar:" + l(this.m_data.bars().firstIndex()) + ",lastBar:" + l(this.m_data.bars().lastIndex()) + ",size:" + this.m_data.bars().size() + "}", he.logDebug(w), v !== this.bars().size() && (this._dataEvents.fireBarReceived(b), this.model().recalcVisibleRangeStudy(this.model().dataSources(), !0))) : this.m_data.clear(), new Promise(function (t) {
                  var i = P.properties().style.value();
                  e.params.nonseries && pe.isRangeBasedStyle(i) ? P.parseJapProjBars(e.params.nonseries).then(function (e) {
                    P.m_data.m_nsBars = e.nsBars, P.m_data.lastProjectionPrice = e.lastPrice;
                    var i = P.m_data.boxSize !== e.boxSize;
                    P.m_data.boxSize = e.boxSize, P.m_data.reversalAmount = e.reversalAmount, i && P._boxSizeChanged.fire(P.m_data.boxSize), t()
                  }) : (e.params.nonseries || (P.m_data.m_nsBars.clear(),
                    P.m_data.lastProjectionPrice = void 0), t(), t())
                }).then(function () {
                  P._statusView.invalidate();
                  var e = P.m_model.paneForSource(P);
                  P.m_model.updateAllVolumeStudies(), P.m_model.recalculatePane(e), P.m_model.updateSource(P), P.m_model.updateLineTools(), P.m_model.updateCrossHair()
                })
            }
            this._dataEvents.fireMessageReceived(e)
          }, s.prototype.parseJapProjBars = function (e) {
            var t, i, n, o = new ie(Q()),
              r = this.model().timeScale(),
              a = this.properties().style.value();
            return new Promise(function (l) {
              e.d && "" !== e.d ? re(e.d).then(function (c) {
                var u, h, d, p, f = c.data;
                for (t = f.price, i = f.boxSize, n = f.reversalAmount, u = f.bars, h = 0; u && h < u.length; h++) d = [], p = e.indexes[u[h].time], d.push(r.points().valueAt(p)), d.push(u[h].open), d.push(u[h].high), d.push(u[h].low), d.push(u[h].close), d.push(u[h].volume), a === s.STYLE_KAGI ? d.push(u[h].additionalPrice) : a === s.STYLE_PNF && d.push(u[h].factor), o.add(p, d);
                l({
                  nsBars: o,
                  lastPrice: t,
                  boxSize: i,
                  reversalAmount: n
                })
              }) : l({
                nsBars: o,
                lastPrice: t,
                boxSize: i,
                reversalAmount: n
              })
            })
          }, s.prototype.disconnect = function () {
            this._seriesId && this._chartApi.removeSeries(this._seriesId), this._symbolId = null, this._seriesId = null, this._predictBars = 0, this._status = s.STATUS_OFFLINE
          }, s.prototype.isStarted = function () {
            return !!this._symbolId
          }, s.prototype.restart = function () {
            var e, t;
            this._status !== s.STATUS_SNAPSHOT && (e = i("OK+B"), this._onRestarted.fire(), this._setStatus(s.STATUS_RESOLVING), this.m_data = new $, this.updateSymbolInfo(null), this._prevSymbolId = this._symbolId, this._symbolId = this._makeNextSymbolId(), t = this._properties.interval.value(), this._pendingTimeRange && (t = this._generateTimeframe(t, this._pendingTimeRange), delete this._pendingTimeRange), this._removeReplaySubscriber(), this._onBeforeModifySeries(this.getSymbolString(), t), t = _e(t), this._chartApi.resolveSymbol(this._symbolId, this._getResolvingSymbolString(), this._handler), this._seriesId ? (this._turnaround = "s" + ++this._turnaroundCounter, this._chartApi.modifySeries(this._seriesId, this._turnaround, this._symbolId, t, this._handler, this._prevSymbolId)) : (this._seriesId = this._makeNextSeriesId(), !1 === this._chartApi.createSeries(this._seriesId, this._turnaround, this._symbolId, t, this._prepareChartApiParams(), this._handler) && (this._seriesId = void 0)), this._properties.showInDataWindow.listeners().subscribe(this.m_model, e.prototype.fullUpdate), this.m_symbol = this._properties.symbol.value(), this.m_interval = this._properties.interval.value())
          }, s.prototype._generateTimeframe = function (e, t) {
            var i = t.slice(-1),
              n = e;
            return "ytd" === t ? n += ",YTD" : "d" === i ? (n += "," + t.slice(0, -1), x.enabled("daily_timeframe_suffix") && (n += "D")) : "m" === i ? n += "," + t.slice(0, -1) + "M" : "all" === t && (n += ",ALL"), n
          }, s.prototype.hasDelayedSymbolIntervalChange = function () {
            return !!this._setSymbolIntervalDelay
          }, s.prototype.setSymbolIntervalDelayed = function () {
            this._isDWMCached = null, this._willSymbolIntervalChanged() && (this._setSymbolIntervalDelay && (ue.logNormal("Clear timeout to change symbol/interval #" + this._setSymbolIntervalDelay), clearTimeout(this._setSymbolIntervalDelay)), this._setSymbolIntervalDelay = setTimeout(function () {
              ue.logNormal("Timeout #" + this._setSymbolIntervalDelay + ' fired, new symbol will be "' + this._properties.symbol.value() + '"'), delete this._setSymbolIntervalDelay, this._setSymbolInterval(this._properties.symbol.value(), this._properties.interval.value())
            }.bind(this), 30), ue.logNormal("Started timeout #" + this._setSymbolIntervalDelay + ' to change symbol/interval from "' + this.m_symbol + '" to "' + this._properties.symbol.value() + '"'))
          }, s.prototype._willSymbolIntervalChanged = function () {
            var e = this._checkIntervalWillChanged(this._parseInterval(this._properties.interval.value()).interval),
              t = this._checkSymbolWillChanged(this._properties.symbol.value());
            return t || e
          }, s.prototype._checkSymbolWillChanged = function (e) {
            return !this.symbolSameAsCurrent(e) || x.enabled("same_data_requery")
          }, s.prototype._checkIntervalWillChanged = function (e) {
            return this.m_interval !== e || x.enabled("same_data_requery")
          }, s.prototype._parseInterval = function (e) {
            var t = (e + "").split(",");
            return {
              interval: 2 === t.length ? t[0] : e,
              timeframe: 2 === t.length ? t[1] : 0
            }
          }, s.prototype.rerequestData = function () {
            this._setSymbolInterval(this.m_symbol, this.m_interval, !0)
          }, s.prototype._setSymbolInterval = function (e, t, i) {
            var n, o, r, a, l, c, u;
            this.clearGotoDateResult(), (n = ge.isRange(t)) && this._properties.rangeStyle.inputs.range.setValue(ge.parse(t).multiplier()), r = (o = this._parseInterval(t)).interval, a = o.timeframe, l = this._checkSymbolWillChanged(e), c = this._checkIntervalWillChanged(r), (l || c || i) && ((n || ge.isRange(this.m_interval)) && (this._symbolId = null), this._syncModel = null, this.m_symbol = e, this.m_interval = r, this.m_timeframe = a, this._symbolId && !l || this.updateSymbolInfo(null), (l || c) && this.isInReplay() && (this._removeReplaySubscriber(), this._symbolId = null), this.m_model.realignLineTools(), this._status !== s.STATUS_SNAPSHOT && (this._setStatus(s.STATUS_RESOLVING), this._symbolIntervalChanged.fire(), c && (u = {
              timeframe: this._pendingTimeRange
            }, this._intervalChanged.fire(this.m_interval, u), this._pendingTimeRange = u.timeframe && u.timeframe.toLowerCase()), this._onRestarted.fire(), this._seriesLoaded = !1, this._chartApi && this._chartApi.connected() && (this._symbolId && !l || (this._prevSymbolId = this._symbolId, this._symbolId = this._makeNextSymbolId(), this._chartApi.resolveSymbol(this._symbolId, this._getResolvingSymbolString(), this._handler)), this._seriesId ? (this._turnaround = "s" + ++this._turnaroundCounter, this._pendingTimeRange && (t = this._generateTimeframe(t, this._pendingTimeRange), delete this._pendingTimeRange), this._onBeforeModifySeries(this.getSymbolString(), t), this._predictBars = 0, t = _e(t), this._chartApi.modifySeries(this._seriesId, this._turnaround, this._symbolId, t, this._handler, this._prevSymbolId)) : (this._onBeforeModifySeries(this.getSymbolString(), t), this._seriesId = this._makeNextSeriesId(), t = _e(t), this._chartApi.createSeries(this._seriesId, this._turnaround, this._symbolId, t, this._prepareChartApiParams(), this._handler)))))
          }, s.prototype.setDefaultTimeframe = function (e) {
            this._pendingTimeRange = e
          }, s.prototype.actualSymbol = function () {
            return this.symbolInfo() ? this.symbolInfo().full_name : this.symbol()
          }, s.prototype.proSymbol = function () {
            return this.symbolInfo() ? this.symbolInfo().pro_name : this.symbol()
          }, s.prototype.symbol = function () {
            return this.properties().symbol.value()
          }, s.prototype.interval = function () {
            return this.properties().interval.value()
          }, s.prototype.bars = function () {
            return this.m_data.m_bars
          }, s.prototype.nsBars = function () {
            return this.m_data.m_nsBars
          }, s.prototype.open = function (e) {
            return this.m_data.valueAt(e)[TradingView.OPEN_PLOT]
          }, s.prototype.high = function (e) {
            return this.m_data.valueAt(e)[TradingView.HIGH_PLOT]
          }, s.prototype.low = function (e) {
            return this.m_data.valueAt(e)[TradingView.LOW_PLOT]
          }, s.prototype.close = function (e) {
            return this.m_data.valueAt(e)[TradingView.CLOSE_PLOT]
          }, s.prototype.hl2 = function (e) {
            return (this.high(e) + this.low(e)) / 2
          }, s.prototype.hlc3 = function (e) {
            return (this.high(e) + this.low(e) + this.close(e)) / 3
          }, s.prototype.ohlc4 = function (e) {
            return (this.open(e) + this.high(e) + this.low(e) + this.close(e)) / 4
          }, s.prototype.priceRange = function (e, t) {
            var i, n, o, s, a, l, c, u;
            return TradingView.isInteger(e) ? TradingView.isInteger(t) ? this.data().isEmpty() ? null : this.m_priceScale.isLockScale() && null !== (i = this._model.mainSeriesScaleRatio()) ? (n = this.priceScale().internalHeight() / (this.model().timeScale().barSpacing() / i), s = ((o = this.data().search(t, ne.NearestLeft)).value[TradingView.HIGH_PLOT] + o.value[TradingView.LOW_PLOT]) / 2, new r(s - .5 * n, s + .5 * n)) : (null !== (a = this.priceSource()) ? (l = this.data().bars().minMaxOnRangeCached(e, t, [{
              name: a,
              offset: 0
            }]), c = this.data().nsBars().minMaxOnRangeCached(e, t, [{
              name: a,
              offset: 0
            }])) : (l = this.data().bars().minMaxOnRangeCached(e, t, [{
              name: "low",
              offset: 0
            }, {
              name: "high",
              offset: 0
            }]), c = this.data().nsBars().minMaxOnRange(e, t, [{
              name: "low",
              offset: 0
            }, {
              name: "high",
              offset: 0
            }])), u = null !== (l = oe(l, c)) ? l.min === l.max ? new r(l.min - .5, l.max + .5) : new r(l.min, l.max) : new r(-.5, .5), this.priceScale().isLog() ? new r(this.priceScale().priceToLogical(u.minValue()), this.priceScale().priceToLogical(u.maxValue())) : u) : (ue.logDebug("Series.priceRange: incorrect endBar"), null) : (ue.logDebug("Series.priceRange: incorrect startBar"), null)
          }, s.prototype.nearestData = function (e, t) {
            if (TradingView.isInteger(e)) {
              var i = this.data().search(e, t);
              return null !== i ? i : void 0
            }
            ue.logDebug("Series.nearestData: incorrect logicalPoint")
          }, s.prototype.nearestIndex = function (e, t) {
            var i = this.nearestData(e, t);
            return i ? i.index : void 0
          }, s.prototype.paneViews = function () {
            if (!this.properties().visible.value()) return null;
            var e = [this._baseHorizontalLineView, this._paneView];
            return this._futureBarsPaneView && e.push(this._futureBarsPaneView), this._projectionBarsPaneView && e.push(this._projectionBarsPaneView), null !== this._waterlineView && e.push(this._waterlineView), e.push(this._prevClosePriceLineView), null !== this._priceLineView && e.push(this._priceLineView), null !== this._gotoDateView && e.push(this._gotoDateView), e.push(this._panePriceAxisView), e.push(this._projectionPriceAxisView), e
          }, s.prototype.dataWindowView = function () {
            return this._dataWindowView
          }, s.prototype.legendView = function () {
            return this._legendView
          }, s.prototype.statusView = function () {
            return Ie ? this._statusView : null
          }, s.prototype.priceAxisViews = function (e, t) {
            return e.findTargetPriceAxisViews(this, t, this._priceAxisViews, [this._priceLinePriceAxisView])
          }, s.prototype.purgeSymbolInfo = function () {
            this._symbolInfo = null, this._isDWMCached = null
          }, s.prototype.symbolInfo = function () {
            return this._symbolInfo
          }, s.prototype.updateSymbolInfo = function (e) {
            var t, i, n = pe.extractSymbolNameFromSymbolInfo(e, this.m_symbol);
            this._symbolInfo = e, e && (this._properties.shortName.setValue(e.name), t = this._properties.symbol.value(), i = n, x.enabled("uppercase_instrument_names") && (t = t.toUpperCase(), i = i.toUpperCase()), n && t !== i && this._properties.symbol.setValue(n)), this._base = e ? e.pricescale / e.minmov : 100, this._recreateFormatter(), this._statusView.update(), this.priceScale().updateFormatter(), this._quotesProvider.setQuotesSessionSymbol(n), this.checkInterval(), this._dataPoweredBy = j(e)
          }, s.prototype._onQuotesUpdate = function (e, t) {
            this.marketStatus.setValue(t.values.current_session), Ee && void 0 !== t.values.prev_close_price && (this._legendView.update(), this.m_model.updateSource(this))
          }, s.prototype.dataPoweredBy = function () {
            return this._dataPoweredBy
          }, s.prototype.symbolSameAsCurrent = function (e) {
            if (ve(this.m_symbol, e)) return !0;
            var t = this._symbolInfo;
            if (t) {
              if (ve(t.full_name, e) || ve(t.pro_name, e)) return !0;
              if (ve(t.ticker, e)) return !0;
              if (t.aliases && Se(t.aliases, e)) return !0;
              if (t.alternatives && Se(t.alternatives, e)) return !0;
              if (0 === e.indexOf("FRA:") && ve(t.pro_name, e.replace("FRA:", "FWB:"))) return !0
            }
            return !1
          }, s.prototype.updateAllViews = function () {
            var e, t;
            for (this._paneView.update(), this._dataWindowView.update(), this._legendView.update(), this._statusView.update(), e = this._priceAxisViews.length, t = 0; t < e; t++) this._priceAxisViews[t].update();
            this._priceLinePriceAxisView.update(), this._futureBarsPaneView && this._futureBarsPaneView.update(), this._projectionBarsPaneView && this._projectionBarsPaneView.update(), null !== this._waterlineView && this._waterlineView.update(), this._prevClosePriceLineView.update(), null !== this._priceLineView && this._priceLineView.update(), null !== this._gotoDateView && this._gotoDateView.update(), this._baseHorizontalLineView.update()
          }, s.prototype._setStatus = function (e) {
            this._status = e, this._statusView.update(), this.m_model.updateSource(this), this._onStatusChanged.fire()
          }, s.prototype.requestMoreData = function (e) {
            var t, i, n, o;
            this._status !== s.STATUS_READY && this._status !== s.STATUS_PULSE && this._status !== s.STATUS_DELAYED && this._status !== s.STATUS_DELAYED_STREAMING && this._status !== s.STATUS_EOD && this._status !== s.STATUS_REPLAY || this.m_model.timeScale().isEmpty() || null !== (t = this.m_model.timeScale().visibleBarsStrictRange()) && 0 !== this.bars().size() && (i = t.lastBar() - l(this.data().last()).index, this._predictBars < i && (this._predictBars = i, this._chartApi && this._chartApi.connected() && this._chartApi.requestMoreTickmarks(this._seriesId, i, this._handler)), this._endOfData || (n = l(this.bars().firstIndex()), (o = e || n - t.firstBar()) <= 0 || (this._endOfData = !0, this._chartApi && this._chartApi.connected() && (this._chartApi.requestMoreData(this._seriesId, o, this._handler), x.enabled("charting_library_base") && (this._predictBars = 0)), this._setStatus(s.STATUS_LOADING))))
          },
          s.prototype.bindStyleChange = function () {
            var e = this;
            Object.keys(s.STYLE_SHORT_NAMES).map(function (e) {
              return s.STYLE_SHORT_NAMES[e] + "Style"
            }).forEach(function (t) {
              e._properties[t].listeners().subscribe(e, s.prototype.invalidateBarStylesCache)
            })
          }, s.prototype.bindJapChartsInputs = function () {
            this._properties.style.listeners().subscribe(this, this.onChartStyleChanged), this._properties.renkoStyle.inputs.boxSize.listeners().subscribe(this, this.onInputChanged), this._properties.renkoStyle.inputs.style.listeners().subscribe(this, this.onInputChanged), this._properties.renkoStyle.inputs.atrLength.listeners().subscribe(this, this.onInputChanged), this._properties.renkoStyle.inputs.wicks.listeners().subscribe(this, this.onInputChanged), this._properties.pbStyle.inputs.lb.listeners().subscribe(this, this.onInputChanged), this._properties.kagiStyle.inputs.reversalAmount.listeners().subscribe(this, this.onInputChanged), this._properties.kagiStyle.inputs.style.listeners().subscribe(this, this.onInputChanged), this._properties.kagiStyle.inputs.atrLength.listeners().subscribe(this, this.onInputChanged), this._properties.pnfStyle.inputs.boxSize.listeners().subscribe(this, this.onInputChanged), this._properties.pnfStyle.inputs.reversalAmount.listeners().subscribe(this, this.onInputChanged), this._properties.pnfStyle.inputs.sources.listeners().subscribe(this, this.onInputChanged), this._properties.pnfStyle.inputs.style.listeners().subscribe(this, this.onInputChanged), this._properties.pnfStyle.inputs.atrLength.listeners().subscribe(this, this.onInputChanged), this._properties.rangeStyle.inputs.phantomBars.listeners().subscribe(this, this.onInputChanged)
          }, s.prototype.createExtendedHoursProperty = function () {
            function e() {
              var e = void 0 !== W && F(W.EXTENDED_SESSION),
                i = t.model().readOnly(),
                n = t._properties.extendedHours.value(),
                o = x.enabled("widget");
              !n || o || i || e || (t._dataEvents.fireExtendedHoursNotPermitted(), n = !1), n && t.isDWM() && (n = !1), t.extendedHours.setValue(n)
            }
            var t = this;
            t.extendedHours = new o, t._properties.extendedHours.listeners().subscribe(null, e), t._properties.interval.listeners().subscribe(null, e), t.chartWidgetInitialized.subscribe(null, e), e()
          }, s.prototype.createDividendsAdjustmentProperty = function () {
            function e() {
              var e = t._properties.dividendsAdjustment.value();
              t.dividendsAdjustment.setValue(e), ae("Dividends adjust", !0 === e ? "On" : "Off")
            }
            var t = this;
            t.dividendsAdjustment = new o, t._properties.dividendsAdjustment.listeners().subscribe(null, e), e()
          }, s.prototype.dividendsAdjustmentProperty = function () {
            return this._properties.dividendsAdjustment
          }, s.prototype.setChartStyleWithIntervalIfNeeded = function (e, t) {
            var i = t;
            void 0 === t && (i = me(e, this._properties.interval.value(), this._model.defaultResolutions())), ge.isEqual(i, this._properties.interval.value()) || this._properties.interval.setValue(i), this._properties.style.setValue(e)
          }, s.prototype.isNeedRestart = function (e) {
            return this._status !== s.STATUS_SNAPSHOT && (void 0 === e && (e = this.properties().style.value()),
              !pe.isRangeStyle(this._prevChartStyle) && !pe.isRangeStyle(e) && !(this._prevChartStyle === e || !pe.isRequiringRestartSeriesStyles(this._prevChartStyle) && !pe.isRequiringRestartSeriesStyles(e)))
          }, s.prototype.onChartStyleChanged = function () {
            this._updateBarFunction(), this.isNeedRestart() && (this.data().clear(), this.model().timeScale().scrollToRealtime(!1), this.isInReplay() && !this.isStyleSupportedForReplay(this.style()) && this._removeReplaySubscriber(), this.restart()), this._prevChartStyle = this.properties().style.value(), this._onStyleChanged.fire(this.properties().style.value()), this.invalidateBarStylesCache()
          }, s.prototype.applyPreferences = function (e) {
            var t = Ce({}, e);
            this.m_priceScale.setMode({
              autoScale: t.priceAxisProperties.autoScale,
              percentage: t.priceAxisProperties.percentage,
              log: t.priceAxisProperties.log,
              lockScale: t.priceAxisProperties.lockScale
            }), this.setChartStyleWithIntervalIfNeeded(t.style), delete t.style, delete t.interval, this._properties.mergePreferences(t), this._properties.saveDefaults(), this.createPaneView(), this.invalidateBarStylesCache()
          }, s.prototype.barFunction = function () {
            return this._barFunction
          }, s.prototype.priceSource = function () {
            var e = null;
            switch (this._properties.style.value()) {
              case s.STYLE_LINE:
                e = this._properties.lineStyle.priceSource.value();
                break;
              case s.STYLE_AREA:
                e = this._properties.areaStyle.priceSource.value();
                break;
              case s.STYLE_BASELINE:
                e = this._properties.baselineStyle.priceSource.value()
            }
            return e
          }, s.prototype._updateBarFunction = function () {
            if (this._properties.style.value() === s.STYLE_HILO) this._barFunction = J("low");
            else {
              var e = this.priceSource() || "close";
              this._barFunction = J(e)
            }
          }, s.prototype.style = function () {
            return this.properties().style.value()
          }, s.prototype.isRangeBasedStyle = function () {
            return pe.isRangeBasedStyle(this.style())
          }, s.prototype.onInputChanged = function () {
            this.restart()
          }, s.prototype.onExtendedHoursChanged = function () {
            return this._extendedHoursChanged
          }, s.prototype._getSymbolObject = function () {
            var e, t;
            return e = {
              symbol: e = x.enabled("pay_attention_to_ticker_not_symbol") && this._symbolInfo ? this._symbolInfo.ticker : this.actualSymbol()
            }, t = this.properties().dividendsAdjustment.value() ? "dividends" : "splits", e.adjustment = t, this.extendedHours.value() && (e.session = "extended"), s.SYMBOL_STRING_DATA.hasOwnProperty(this._properties.style.value()) && (e = {
              symbol: e,
              type: this.styleStudyInfo(this.getStyleShortName() + "Style").studyId + "!",
              inputs: this.getInputsProperties().state()
            }), e
          }, s.prototype.getSymbolString = function () {
            return a(this._getSymbolObject())
          }, s.prototype._getResolvingSymbolString = function () {
            var e = this._getSymbolObject();
            return this._replaySubscriber && (e = this._replaySubscriber.generateReplaySymbol(e)), a(e)
          }, s.prototype.getStyleShortName = function () {
            var e = this._properties.style.value();
            if (s.STYLE_SHORT_NAMES.hasOwnProperty(e)) return s.STYLE_SHORT_NAMES[e];
            throw new Error("Missed short name for style " + e)
          }, s.prototype.getStyleProperties = function () {
            return this._properties[this.getStyleShortName() + "Style"]
          }, s.prototype.getInputsProperties = function () {
            return this.getStyleProperties().inputs || new o
          },
          s.prototype.getInputsInfoProperties = function () {
            return this.getStyleProperties().inputInfo || new o
          }, s.prototype.getRealVisibleRange = function () {
            var e, t, i = this.model().timeScale().visibleBarsStrictRange();
            return null === i ? null : (e = this.data().search(i.firstBar(), ne.NearestRight), t = this.data().search(i.lastBar(), ne.NearestLeft), null === e || null === t ? null : new G(e.index, t.index))
          }, s.prototype.firstValue = function () {
            var e = this.firstBar();
            return null === e ? null : this._barFunction(e)
          }, s.prototype.firstBar = function () {
            var e, t, i = this.model().timeScale().visibleBarsStrictRange();
            return null === i ? null : (e = i.firstBar(), null !== (t = this.data().search(e, ne.NearestRight)) ? t.value : null)
          }, s.prototype.isSpread = function () {
            return null !== this._symbolInfo && "spread" === this._symbolInfo.type
          }, s.prototype.firstSymbol = function () {
            return this._symbolInfo ? this._symbolInfo.legs[0] : ""
          }, s.prototype.firstShortName = function () {
            return ee.ticker(this.firstSymbol())
          }, s.prototype.loadDataTo = function (e) {
            this._turnaround = "s" + ++this._turnaroundCounter;
            var t = this._properties.interval.value();
            t = this._generateTimeframe(t, e), this._chartApi.modifySeries(this._seriesId, this._turnaround, this._symbolId, t, this._handler)
          }, s.prototype.checkInterval = function () {
            if (this._symbolInfo && (ge.isMinutes(this.interval()) && !this._symbolInfo.has_intraday && this.requestingIntradayWhenNotSupported.fire(), this._symbolInfo.hasOwnProperty("supported_resolutions"))) {
              var e = ge.normalize(this._properties.interval.value()); - 1 === this._symbolInfo.supported_resolutions.indexOf(e) && this.requestingResolutionWhenNotSupported.fire(this._symbolInfo.supported_resolutions[0])
            }
          }, s.prototype.priceScale = function () {
            return this.m_priceScale
          }, s.prototype.setPriceScale = function (e) {
            this.m_priceScale !== e && (this.m_priceScale = e, this._priceScaleChanged.fire(e), this._properties.removeProperty("priceAxisProperties"), this._properties.addChild("priceAxisProperties", e.properties()), this._properties.priceAxisProperties.childChanged())
          }, s.prototype.priceScaleChanged = function () {
            return this._priceScaleChanged
          }, s.prototype.setGotoDateResult = function (e) {
            this._gotoDateResultCleared = !1, i.e("series-pane-views").then(function (t) {
              if (!this._gotoDateResultCleared) {
                var n = i("+weX").GotoDateView;
                this._gotoDateView = new n(this, e), this.m_model.updateSource(this)
              }
            }.bind(this).bind(null, i)).catch(i.oe)
          }, s.prototype.clearGotoDateResult = function (e) {
            this._gotoDateView = null, this._gotoDateResultCleared = !0
          }, s.prototype.syncModel = function () {
            var e, t;
            if (!this._syncModel) {
              if (e = this.symbolInfo(), t = this.interval(), !e || !t) return null;
              this._syncModel = new se(e, t)
            }
            return this._syncModel
          }, s.prototype.turnaround = function () {
            return this._turnaround
          }, s.prototype.getStylesPropertyPage = function () {
            return x.enabled("show_chart_property_page") ? E.ChartStylesPropertyPage : null
          }, s.prototype.getSourceIcon = function () {
            return {
              type: "loadSvg",
              svgId: "series." + this.properties().style.value()
            }
          }, s.prototype.isStyleSupported = function (e) {
            return !this.isInReplay() || this.isStyleSupportedForReplay(e)
          }, s.prototype.isStyleSupportedForReplay = function (e) {
            return pe.isTimeBasedStyle(e)
          },
          s.prototype.isInReplay = function () {
            return null !== this._replaySubscriber
          }, s.prototype.onInReplayStateChanged = function () {
            return this._onInReplayStateChanged
          }, s.prototype.switchToReplay = function (e) {
            this._replaySubscriber = e, this._onInReplayStateChanged.fire(), this._replaySubscriber.modifySeries(this.getSymbolString(), this._properties.interval.value()), this._symbolId = null, this.rerequestData()
          }, s.prototype.switchToRealtime = function () {
            this.isInReplay() && (this._removeReplaySubscriber(), this._symbolId = null, this.rerequestData())
          }, s.prototype._removeReplaySubscriber = function () {
            if (this.isInReplay()) {
              var e = this._replaySubscriber;
              this._replaySubscriber = null, this._onInReplayStateChanged.fire(), e.destroy()
            }
          }, s.prototype._onBeforeModifySeries = function (e, t) {
            this._replaySubscriber && this._replaySubscriber.modifySeries(e, t)
          }, s.prototype._isExtendedHoursAllowed = function () {
            return this._symbolInfo && -1 !== ["stock", "index", "futures"].indexOf(this._symbolInfo.type)
          }, s.prototype._getTelemetryAdditionalData = function (e, t) {
            t = void 0 === t || t;
            var i = {
              symbol: this.actualSymbol()
            };
            return t && (i.resolution = this.interval()), void 0 !== e && (i.reason = e), i
          }, s.prototype._sendTelemetryReport = function (e, t, i) {
            void 0 === i && (i = this._getTelemetryAdditionalData());
            var n = Object.assign(t, {
              additional: i
            });
            N.sendChartReport(e, n)
          }, s.prototype._sendTelemetryCounter = function (e, t) {
            this._sendTelemetryReport(e, {
              count: 1
            }, t)
          }, s.prototype._sendTelemetryTiming = function (e, t, i) {
            this._sendTelemetryReport(e, {
              value: t
            }, i)
          }, s.prototype.destroy = function () {
            this._quotesProvider.quotesUpdate().unsubscribeAll(this), this._quotesProvider.destroy(), this.clearGotoDateResult(), this._legendView.destroy(), this._paneView && this._paneView.destroy && this._paneView.destroy()
          }, s.prototype.dataEvents = function () {
            return this._dataEvents
          }, TradingView.Series = s, t.Series = s
      }).call(this, i("aIyQ"), i("hY0g"), i("tc+8"), i("Qb4w").PriceRange)
    },
    qcGP: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolParallelChannel";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("9FRF").ParallelChannelPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.addPoint = function (e) {
        var t, i = o.prototype.addPoint.call(this, e);
        return i && (t = this.points()[0], this._points[2].index = t.index, this._points[2].price = t.price + this._priceOffset), i
      }, n.prototype.calculatePriceDiff = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f, _, m, g;
        if (3 === this.points().length) {
          if (e = this.points()[0], t = this.points()[1], i = this.points()[2], e.index === t.index) return;
          if (null === (n = this.priceScale())) return;
          if (n.isLog()) {
            if ((o = this._model.timeScale()).isEmpty()) return;
            r = this.ownerSource().firstValue(), s = o.indexToCoordinate(e.index), a = o.indexToCoordinate(t.index), h = (l = n.priceToCoordinate(e.price, r)) + (u = ((c = n.priceToCoordinate(t.price, r)) - l) / (a - s)) * (o.indexToCoordinate(i.index) - s), d = n.priceToCoordinate(i.price, r) - h, r = this.ownerSource().firstValue(),
              p = .5 * (l + c), f = n.coordinateToPrice(p, r), _ = p + d, m = n.coordinateToPrice(_, r), this._priceOffset = m - f
          } else u = (t.price - e.price) / (t.index - e.index), g = e.price + u * (i.index - e.index), this._priceOffset = i.price - g
        }
      }, n.prototype.setLastPoint = function (e, t) {
        t && t.shift() && 2 === this.points().length && this._snapPoint45Degree(e, this.points()[0]), o.prototype.setLastPoint.call(this, e), this.calculatePriceDiff()
      }, n.prototype.restorePoints = function (e, t, i) {
        o.prototype.restorePoints.call(this, e, t, i), e && e.length >= 3 && (this._priceOffset = e[2].price - e[0].price)
      }, n.prototype.setPoint = function (e, t, i) {
        i && i.shift() && e < 2 && this._snapPoint45Degree(t, this.points()[1 - e]), o.prototype.setPoint.call(this, e, t, i), 2 === e && this.calculatePriceDiff();
        var n = this.points()[0];
        this._points[2].index = n.index, this._points[2].price = n.price + this._priceOffset
      }, n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Parallel Channel"
      }, n.prototype.name = function () {
        return "Parallel Channel"
      }, n.prototype.addPoint = function (e, t) {
        return t && t.shift() && 2 === this.points().length && this._snapPoint45Degree(e, this.points()[0]), o.prototype.addPoint.call(this, e, t)
      }, n.prototype.fixAfterRestorePriceAxis = function () {
        this.priceScale().isLog() || delete this._priceOffset
      }, n.prototype.cloneData = function (e) {
        this._priceOffset = e._priceOffset
      }, n.prototype.restoreData = function (e) {
        e.priceOffset && (this._priceOffset = e.priceOffset)
      }, n.prototype.state = function (e) {
        var t = o.prototype.state.call(this, e);
        return t.priceOffset = this._priceOffset, t
      }, n.prototype.canHasAlert = function () {
        return !0
      }, n.prototype._getAlertPlots = function () {
        function e(e, t) {
          return e.index <= t.index ? [e, t] : [t, e]
        }
        var t, i, n, o, r, s, a, l, c = [].concat(this._points).splice(0, 2);
        return t = e((c = c.concat([{
          price: c[0].price + this._priceOffset,
          time: c[0].time,
          index: c[0].index
        }, {
          price: c[1].price + this._priceOffset,
          time: c[1].time,
          index: c[1].index
        }]))[0], c[1]), i = e(c[2], c[3]), this._priceOffset < 0 ? (o = i, n = t) : (o = t, n = i), a = this.properties().extendLeft.value(), l = this.properties().extendRight.value(), c[0].index <= c[1].index ? (r = a, s = l) : (r = l, s = a), [this._linePointsToAlertPlot(n, "Upper", r, s), this._linePointsToAlertPlot(o, "Lower", r, s)]
      }, n.prototype.getInputsPropertyPage = function () {
        return null
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolParallelChannelStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolparallelchannel", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolParallelChannel = n
    },
    qckB: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(6 3)"><rect width="15" height="12" rx="2" x=".5" y="8.5"/><path stroke-linecap="round" stroke-width="2" d="M8 15v2"/><path d="M11.5 4a3.5 3.5 0 0 0-7 0v4.5"/></g></svg>'
    },
    qdOW: function (e, t, i) {
      "use strict";
      var n = i("Kxc7"),
        o = i("P7QH");
      e.exports.displayedExchangesFilter = function (e) {
          return n.enabled("symbol_search_limited_exchanges") && (e = e.filter(function (e) {
            return !("bitcoin" === e.flag || e.hideInSymbolSearch)
          })), e
        },
        e.exports.sortExchangesListByFlagIfNeeded = function (e) {
          return n.enabled("symbol_search_flags") && (e = function (e, t) {
            function i(e) {
              var t = n[e];
              t && (r = r.concat(t.sort(function (e, t) {
                return e.name.localeCompare(t.name)
              })), delete n[e])
            }
            var n, r, s = new RegExp("country-([a-z*_]+)", "i"),
              a = o.supportedFlags().filter(function (e) {
                return "forex" !== e && "bitcoin" !== e
              }).sort(),
              l = ["forex", "country-usa", "country-canada", "country-ae", "country-uk", "country-europe", "country-germany", "country-ireland", "country-italy", "country-luxembourg", "country-austria", "country-norway", "country-spain", "country-poland", "country-sweden", "country-switzerland", "country-turkey", "country-israel", "country-argentina", "country-australia", "country-brasil", "country-mexico", "country-peru", "country-chile", "country-colombia", "country-new_zealand", "country-brasil", "country-india", "country-japan", "country-china", "country-hong_kong", "country-singapore", "country-taiwan", "country-russia", "country-malaysia", "country-bahrain", "country-egypt", "country-saudi_arabia", "country-serbia", "country-*", "bitcoin"];
            return t && t.order && (l = t.order), n = {}, o.supportedFlags().forEach(function (e) {
              n[e] = []
            }), r = [], e.forEach(function (e) {
              e.flag && n[e.flag].push(e), e.value || r.push(e)
            }), l.forEach(function (e) {
              var t, n;
              "forex" === e || "bitcoin" === e ? i(e) : "*" === (n = (t = s.exec(e)) && t[1]) ? a.forEach(function (e) {
                i(e)
              }) : i(n)
            }), Object.keys(n).forEach(function (e) {
              i(e)
            }), r
          }(e)), e
        }
    },
    qgcf: function (e, t, i) {
      function n(e, t) {
        this._linesMaxWidth = null, this._hittest = t || new o(o.MOVEPOINT), this._data = {}, this._fontSize = 0, this.setData(e)
      }
      var o = i("VdBB").HitTestResult,
        r = i("ikwP").calcTextHorizontalShift,
        s = i("f6yo").pointInBox,
        a = i("jFln").drawRoundRect;
      n.prototype.setData = function (e) {
          var t, i, n, o = this._data,
            r = this.fontStyle();
          this._data = e, this._fontSize = e.fontsize || e.fontSize || 30, t = e.text === o.text, i = e.wordWrapWidth === o.wordWrapWidth, n = r === this.fontStyle(), t && i && n ? (this._data.lines = o.lines, this._lines = o.lines) : (this._linesMaxWidth = null, e.lines = this.wordWrap(e.text, e.wordWrapWidth), this._lines = e.lines)
        },
        function () {
          function e() {
            var e = document.createElement("canvas");
            e.width = 0, e.height = 0, t = e.getContext("2d"), e = null
          }
          var t;
          n.prototype.setPoints = function (e, t) {
            this._data.points = e, this._hittest = t || new o(o.MOVEPOINT)
          }, n.prototype._getLinesMaxWidth = function () {
            var i, n;
            if (null !== this._linesMaxWidth) return this._linesMaxWidth;
            if (t || e(), t.textBaseline = "alphabetic", t.font = this.fontStyle(), this._data.wordWrapWidth) return this._data.wordWrapWidth;
            for (i = 0, n = 0; n < this._lines.length; n++) i = Math.max(i, t.measureText(this._lines[n]).width);
            return this._linesMaxWidth = i, i
          }, n.prototype.measure = function () {
            var e = this._fontSize,
              t = this._getLinesMaxWidth(),
              i = e * this._lines.length,
              n = ~~(e / 6);
            return this._data.backgroundHorzInflate && (t += 2 * this._data.backgroundHorzInflate), this._data.backgroundVertInflate && (i += 2 * this._data.backgroundVertInflate), t = Math.ceil(t + 2 * n), i = Math.ceil(i + 2 * n), t % 2 != 0 && t++, this._data.padding && (i += this._data.padding), {
              width: t,
              height: i,
              textBgPadding: n
            }
          }, n.prototype.wordWrap = function (i, n, o) {
            var r, s, a, l, c, u, h, d, p;
            if (t || e(), n = +n,
              (r = (i += "").split(/[^\S\r\n]*(?:\r\n|\r|\n|$)/))[r.length - 1] || r.pop(), !isFinite(n) || n <= 0) return r;
            for (t.font = o || this.fontStyle(), s = [], a = 0; a < r.length; a++)
              if (l = r[a], (c = t.measureText(l).width) <= n) s.push(l);
              else
                for (u = l.split(/([-\)\]\},.!?:;])|(\s+)/); u.length;) {
                  if ((h = ~~(n / c * (u.length + 2) / 3)) <= 0 || t.measureText(u.slice(0, 3 * h - 1).join("")).width <= n)
                    for (; t.measureText(u.slice(0, 3 * (h + 1) - 1).join("")).width <= n;) h++;
                  else
                    for (; h > 0 && t.measureText(u.slice(0, 3 * --h - 1).join("")).width > n;);
                  if (h > 0) s.push(u.slice(0, 3 * h - 1).join("")), u.splice(0, 3 * h);
                  else {
                    if (d = u[0] + (u[1] || ""), p = 1 === p ? 1 : ~~(n / t.measureText(d) * d.length), t.measureText(d.substr(0, p)).width <= n)
                      for (; t.measureText(d.substr(0, p + 1)).width <= n;) p++;
                    else
                      for (; p > 1 && t.measureText(d.substr(0, --p)).width > n;);
                    p < 1 && (p = 1), s.push(d.substr(0, p)), u[0] = d.substr(p), u[1] = ""
                  }
                  if ((c = t.measureText(u.join("")).width) <= n) {
                    s.push(u.join(""));
                    break
                  }
                }
            return s
          }
        }(), n.prototype._x = function () {
          return this._data.points[0].x + this._data.offsetX
        }, n.prototype._y = function () {
          var e, t = this._fontSize * this._lines.length;
          switch (this._data.scaleY && (t *= this._data.scaleY), e = this._data.points[0].y + this._data.offsetY + t, this._data.vertAlign) {
            case "top":
              break;
            case "bottom":
              e -= t;
              break;
            case "middle":
              e -= t / 2
          }
          return e
        }, n.prototype.fontStyle = function () {
          return (this._data.bold ? "bold " : "") + (this._data.italic ? "italic " : "") + this._fontSize + "px " + this._data.font
        }, n.prototype.draw = function (e) {
          var t, i, n, o, s, l, c, u, h, d, p, f, _, m, g, y;
          if (0 !== this._data.points.length) {
            switch (t = this._x(), i = this._y(), n = this._fontSize, this._data.scaleY && (n *= this._data.scaleY), i -= n * (this._lines.length - 1), e.textBaseline = "alphabetic", e.font = this.fontStyle(), this._data.horzAlign) {
              case "left":
                e.textAlign = "start";
                break;
              case "right":
                e.textAlign = "end";
                break;
              case "center":
                e.textAlign = "center"
            }
            if (e.translate(t + .5, i + .5), t = 0, i = 0, n = this._fontSize, this._data.scaleX && this._data.scaleY && (o = Math.min(this._data.scaleX, this._data.scaleY), e.scale(o, o)), s = this._getLinesMaxWidth(), l = r(e, s), c = 0, this._data.backgroundColor || this._data.borderColor || this._data.highlightBorder && this._data.wordWrapWidth) {
              switch (u = t, this._data.horzAlign) {
                case "left":
                  break;
                case "right":
                  u -= s;
                  break;
                case "center":
                  u -= s / 2
              }
              h = n * this._lines.length, d = ~~(n / 6), this._data.backgroundHorzInflate && (s += 2 * this._data.backgroundHorzInflate, u -= this._data.backgroundHorzInflate), this._data.backgroundVertInflate && (h += 2 * this._data.backgroundVertInflate, i += this._data.backgroundVertInflate), (p = {
                x: Math.floor(u - d),
                y: Math.floor(i - n),
                w: Math.ceil(s + 2 * d),
                h: Math.ceil(h + 2 * d)
              }).w % 2 != 0 && p.w++, this._data.padding && (p.h += this._data.padding, c = this._data.padding), this._data.backgroundVertInflate && (i += this._data.backgroundVertInflate), this._data.backgroundRoundRect ? (a(e, p.x, p.y, p.w, p.h, this._data.backgroundRoundRect), this._data.backgroundColor && (e.fillStyle = this._data.backgroundColor, e.fill()), this._data.borderColor && (f = ~~Math.max(n / 12, 1), e.strokeStyle = this._data.borderColor, e.lineWidth = f, e.stroke())) : (this._data.backgroundColor && (e.fillStyle = this._data.backgroundColor, e.fillRect(p.x, p.y, p.w, p.h)), this._data.borderColor ? (f = ~~Math.max(n / 12, 1),
                e.strokeStyle = this._data.borderColor, e.lineWidth = f, e.strokeRect(p.x - f / 2, p.y - f / 2, p.w + f, p.h + f)) : this._data.highlightBorder && (e.strokeStyle = this._data.color, e.lineWidth = 1, e.beginPath(), g = [3, 1], e.dashedLineTo(p.x - .5, m = p.y - .5, _ = p.x + p.w + .5, m, g), e.dashedLineTo(_, m, _, m = p.y + p.h + .5, g), e.dashedLineTo(_ = p.x - .5, m, p.x + p.w + .5, m, g), e.dashedLineTo(_, p.y - .5, _, m, g), e.stroke()))
            }
            for (this._data.backgroundVertInflate && !this._data.backgroundColor && (i += 2 * this._data.backgroundVertInflate), e.fillStyle = this._data.color, this._data.forceTextAlign && (e.textAlign = this._data.horzAlign ? this._data.horzAlign : "left"), this._data.forceTextAlign || (t += l), y = 0; y < this._lines.length; y++) e.fillText(this._lines[y], t, i), i += n + c
          }
        }, n.prototype.hitTest = function (e) {
          var t, i, n, o, r, s;
          return 0 === this._data.points.length ? null : (t = this._fontSize, this._data.scaleY && (t *= this._data.scaleY), i = this._getLinesMaxWidth(), this._data.scaleX && (i *= this._data.scaleX), n = this._data.points[0].x + this._data.offsetX, o = this._data.points[0].y + this._data.offsetY, "bottom" === this._data.vertAlign && (o -= this._lines.length * this._fontSize), "middle" === this._data.vertAlign && (o -= this._lines.length * this._fontSize / 2), "right" === this._data.horzAlign ? n -= i : "center" === this._data.horzAlign && (n -= i / 2), r = this._data.backgroundColor || this._data.borderColor ? ~~(t / 6) : 0, s = this._data.borderColor ? ~~Math.max(t / 12, 1) : 0, e.x >= n - r - s && e.x <= n + i + r + s && e.y >= o - s && e.y <= o + this._lines.length * this._fontSize + 2 * r + s ? this._hittest : null)
        }, n.prototype.doesIntersectWithBox = function (e) {
          return 0 === this._data.points.length ? null : s(this._data.points[0], e)
        }, t.TextRenderer = n
    },
    qjxE: function (e, t, i) {
      "use strict";

      function n(e) {
        return 6e4 - e % 6e4
      }

      function o(e) {
        return 36e5 - e % 36e5
      }

      function r(e) {
        return 864e5 - e % 864e5
      }

      function s(e) {
        var t, i;
        for (t = e.length; t-- > 0;)(i = e[t].getAttribute("data-ago-date-timer")) && clearTimeout(+i)
      }

      function a(e, t, i, l, c) {
        var h, p, f, _, m, g, y;
        u.relativeTimeThreshold("h", 24), "number" == typeof t && (t = new Date(t)), h = 36e5, f = function (e) {
          var t = 200;
          if ((e = Math.floor(e / 6e4)) < 60) t += n(e);
          else if (e < 1440) t += o(e);
          else {
            if (!(e < 43200)) return 0;
            t += r(e)
          }
          return t
        }(p = u(new Date).diff(t)), m = "", g = {
          L: "L",
          LL: "LL",
          LLL: "LLL"
        }, (_ = d[window.language]) && (g = _), m = i || Math.round(p / h) < 24 ? u(t).fromNow() : c ? u(t).format(c) : t.getFullYear() === (new Date).getFullYear() ? u(t).format(g.L) : u(t).format(g.LL), e.parent().toggleClass("just-now", p < 45e3), e.attr("title", u(t).format(g.LLL)).text(m), f ? (s(e), y = setTimeout(function () {
          a(e, t)
        }, f), e.attr("data-ago-date-timer", y)) : e.removeAttr("data-ago-date-timer"), l && e.closest(".js-visible-after-ago-formatter-inited").removeClass("i-invisible js-visible-after-ago-formatter-inited")
      }

      function l(e) {
        var t = $(e);
        s(t), s(t.find("[data-ago-date-timer]"))
      }

      function c(e) {
        var t = Math.floor(e / 6e4),
          i = "",
          s = 0;
        return t < 60 ? (i = (t < 1 ? 0 : t) + $.t("m", {
            context: "date_diff_short"
          }), s = n(e)) : t < 1440 ? (i = (t = Math.floor(t / 60)) + $.t("h", {
            context: "date_diff_short"
          }), s = o(e)) : t < 43200 ? (i = (t = Math.floor(t / 1440)) + $.t("d", {
            context: "date_diff_short"
          }), s = r(e)) : i = t < 15768e3 ? (t = Math.floor(t / 43200)) + $.t("mn", {
            context: "date_diff_short"
          }) : (t = Math.floor(t / 15768e3)) + $.t("y", {
            context: "date_diff_short"
          }),
          s && (s += 200), {
            text: i,
            timeout: s
          }
      }
      var u, h, d;
      i.r(t), i("P5fv"), i("YFKU"), u = i("ldgD"), d = {
        ja: h = {
          L: "MMM D",
          LL: "YYYY MMM D",
          LLL: "HH:mm - YYYY MMM D"
        },
        ko: h
      }, i.d(t, "agoDateFormatter", function () {
        return a
      }), i.d(t, "destroy", function () {
        return l
      }), i.d(t, "shortFormat", function () {
        return c
      })
    },
    quTg: function (e, t, i) {},
    qx3g: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._data = e, this._textCache = t
      }

      function o(e, t) {
        this._model = e, this._source = t, this._pivots = [], this._textCache = {}, this._invalidated = !0
      }

      function r(e, t, i, n) {
        s.call(this, e, t, i, n)
      }
      var s = i("Qq0B").NonSeriesStudy,
        a = i("VdBB").HitTestResult,
        l = i("Zy3/").CompositeRenderer,
        c = i("hayr").propertyPages,
        u = 5;
      n.prototype.draw = function (e) {
        e.textBaseline = "bottom", e.font = (this._data.bold ? "bold " : "normal ") + this._data.fontsize + "px " + this._data.font;
        var t = Math.round(e.measureText(this._data.text).width + 4);
        this._textCache.width = t, e.translate(this._data.x + .5, this._data.y), e.strokeStyle = this._data.borderColor, e.fillStyle = this._data.backColor, e.beginPath(), e.moveTo(0, 0), 1 === this._data.type ? (e.lineTo(u, -u), e.lineTo(t / 2, -u), e.lineTo(t / 2, -u - this._data.fontsize), e.lineTo(-t / 2, -u - this._data.fontsize), e.lineTo(-t / 2, -u), e.lineTo(-u, -u), e.lineTo(0, 0)) : (e.lineTo(u, u), e.lineTo(t / 2, u), e.lineTo(t / 2, u + this._data.fontsize), e.lineTo(-t / 2, u + this._data.fontsize), e.lineTo(-t / 2, u), e.lineTo(-u, u), e.lineTo(0, 0)), e.fill(), e.stroke(), e.fillStyle = this._data.textColor, e.textAlign = "center", e.textBaseline = "middle", 1 === this._data.type ? e.fillText(this._data.text, 0, -u - this._data.fontsize / 2) : e.fillText(this._data.text, 0, u + this._data.fontsize / 2)
      }, n.prototype.hitTest = function (e) {
        var t = this._textCache.width,
          i = this._data.fontsize + 3 * u,
          n = this._data.x - t / 2,
          o = this._data.y;
        return 1 === this._data.type && (o -= i), e.x >= n && e.x <= n + t && e.y >= o && e.y <= o + i ? new a(a.REGULAR) : null
      }, o.prototype.update = function () {
        this._invalidated = !0
      }, o.prototype.updateImpl = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d, p, f, _;
        if (this._pivots = [], this._source.customData() && this._source.customData().pivots && this._source.properties().visible.value() && (e = this._source.customData().pivots, t = this._source._indexes, i = this._model.timeScale(), n = this._source.priceScale(), r = (o = this._model.mainSeries()).firstValue(), n && !n.isEmpty() && !i.isEmpty() && r))
          for (a = (s = i.visibleBarsStrictRange()).firstBar(), l = s.lastBar(), c = 0; c < e.length; c++) e[c] && ((u = t[e[c].index]) < a || u > l || (h = e[c].type, null !== (d = o.bars().valueAt(u)) && (p = 1 === h ? d[TradingView.HIGH_PLOT] : d[TradingView.LOW_PLOT], f = Math.round(i.indexToCoordinate(u)), _ = n.priceToCoordinate(p, r), 1 === h ? _ -= i.barSpacing() / 6 : _ += i.barSpacing() / 6 + 1, _ = Math.round(_), this._pivots.push({
            x: f,
            y: _,
            price: n.formatPrice(p, r),
            type: h
          }))))
      }, o.prototype._pixelMargins = function () {
        return this._source.properties().fontsize.value() + 3 * u
      }, o.prototype.topPixelMargin = function () {
        return this._pixelMargins()
      }, o.prototype.bottomPixelMargin = function () {
        return this._pixelMargins()
      }, o.prototype.renderer = function () {
        var e, t, i, o, r, s, a, c, u, h;
        if (this._invalidated && (this.updateImpl(), this._invalidated = !1), 0 !== this._pivots.length) {
          for (e = this._source.properties().font.value(),
            t = this._source.properties().fontsize.value(), i = this._source.properties().borderColor.value(), o = this._source.properties().backColor.value(), r = this._source.properties().textColor.value(), s = new l, a = 0; a < this._pivots.length; a++) u = {
            x: (c = this._pivots[a]).x,
            y: c.y,
            type: c.type,
            text: c.price,
            font: e,
            fontsize: t,
            borderColor: i,
            backColor: o,
            textColor: r
          }, h = a, this._textCache[h] || (this._textCache[h] = {}), s.append(new n(u, this._textCache[h]));
          return s
        }
      }, inherit(r, s), r.prototype.isVisible = function () {
        return this.properties().visible.value()
      }, r.prototype.getStylesPropertyPage = function () {
        return c.StudyPivotPointsHighLowStylesPropertyPage
      }, r.prototype.createViews = function () {
        s.prototype.createViews.call(this), this._setPaneViews([new o(this.model(), this)])
      }, r.prototype.autoScaleInfo = function (e, t) {
        var i = this._series.priceRange(e, t),
          n = this._paneViews.length > 0 ? this._paneViews[0].topPixelMargin() : 0,
          o = this._paneViews.length > 0 ? this._paneViews[0].bottomPixelMargin() : 0;
        return {
          range: i,
          topPixelMargin: n,
          bottomPixelMargin: o
        }
      }, t.study_PivotPointsHighLow = r
    },
    qySK: function (e, t, i) {
      "use strict";

      function n(e) {
        var t, i, n, o;
        if (Object(s.hasProperty)(e, "create"), Object(s.hasProperty)(e, "erase"))
          for (t = e.erase, Object(r.assert)(Array.isArray(t), "Collection of erase commands should be array"), i = 0, n = t; i < n.length; i++) o = n[i], Object(r.assert)("all" === o.action || "one" === o.action, "Erase command action should be 'all' or 'one'");
        return e
      }

      function o(e, t) {
        e.forEach(function (e) {
          var i, n;
          for (i = 0, n = e; i < n.length; i++) n[i].indexes = t
        })
      }
      var r, s, a, l, c;
      i.d(t, "b", function () {
        return n
      }), i.d(t, "a", function () {
        return c
      }), r = i("Eyy1"), s = i("JmuD"), a = i("7Fue"), l = i("xWfy"), c = function () {
        function e() {
          this.indexes = [], this._horizlines = new Map, this._vertlines = new Map, this._lines = new Map, this._hlines = new Map, this._textmarks = new Map, this._shapemarks = new Map, this._backgrounds = new Map, this._polygons = new Map, this._trendchannels = new Map, this._hhists = new Map, this._hhistsByTimePointIndex = new Map
        }
        return e.prototype.horizlines = function () {
          return this._horizlines
        }, e.prototype.vertlines = function () {
          return this._vertlines
        }, e.prototype.lines = function () {
          return this._lines
        }, e.prototype.hlines = function () {
          return this._hlines
        }, e.prototype.textmarks = function () {
          return this._textmarks
        }, e.prototype.shapemarks = function () {
          return this._shapemarks
        }, e.prototype.backgrounds = function () {
          return this._backgrounds
        }, e.prototype.polygons = function () {
          return this._polygons
        }, e.prototype.trendchannels = function () {
          return this._trendchannels
        }, e.prototype.hhists = function () {
          return this._hhists
        }, e.prototype.hhistsByTimePointIndex = function () {
          return this._hhistsByTimePointIndex
        }, e.prototype.clear = function () {
          this.indexes = [], this._clearPrimitives()
        }, e.prototype.extract = function () {
          var e = {
            indexes: this.indexes,
            horizlines: this._horizlines,
            vertlines: this._vertlines,
            lines: this._lines,
            hlines: this._hlines,
            textmarks: this._textmarks,
            shapemarks: this._shapemarks,
            backgrounds: this._backgrounds,
            polygons: this._polygons,
            trendchannels: this._trendchannels,
            hhists: this._hhists
          };
          return this.indexes = [], this._horizlines = new Map, this._vertlines = new Map, this._lines = new Map,
            this._hlines = new Map, this._textmarks = new Map, this._shapemarks = new Map, this._backgrounds = new Map, this._polygons = new Map, this._trendchannels = new Map, this._hhists = new Map, this._hhistsByTimePointIndex.clear(), new l.a("data", e)
        }, e.prototype.replaceIndexesTo = function (e) {
          this.indexes = e, o(this._horizlines, e), o(this._vertlines, e), o(this._lines, e), o(this._hlines, e), o(this._textmarks, e), o(this._shapemarks, e), o(this._backgrounds, e), o(this._polygons, e), o(this._trendchannels, e), o(this._hhists, e), this._postProcess()
        }, e.prototype.processCommands = function (e, t) {
          void 0 !== e.erase && this._processEraseCommands(e.erase), void 0 !== e.create && this._processCreateCommands(e.create, t)
        }, e.prototype._processCreateCommands = function (e, t) {
          var i, n;
          for (i in e)
            if (e.hasOwnProperty(i)) switch (n = i, Object(r.assert)(n in t, "There is a '" + n + "' in study response, but it doesn't present in graphics info!"), n) {
              case "horizlines":
                Object(a.b)(this._horizlines, e[n], t[n], this.indexes);
                break;
              case "vertlines":
                Object(a.b)(this._vertlines, e[n], t[n], this.indexes);
                break;
              case "lines":
                Object(a.b)(this._lines, e[n], t[n], this.indexes);
                break;
              case "hlines":
                Object(a.b)(this._hlines, e[n], t[n], this.indexes);
                break;
              case "textmarks":
                Object(a.b)(this._textmarks, e[n], t[n], this.indexes);
                break;
              case "shapemarks":
                Object(a.b)(this._shapemarks, e[n], t[n], this.indexes);
                break;
              case "backgrounds":
                Object(a.b)(this._backgrounds, e[n], t[n], this.indexes);
                break;
              case "polygons":
                Object(a.b)(this._polygons, e[n], t[n], this.indexes);
                break;
              case "trendchannels":
                Object(a.b)(this._trendchannels, e[n], t[n], this.indexes);
                break;
              case "hhists":
                Object(a.b)(this._hhists, e[n], t[n], this.indexes)
            }
          this._postProcess()
        }, e.prototype._processEraseCommands = function (e) {
          var t, i, n = function (e) {
              "all" === e.action ? o._clearPrimitives() : {
                horizlines: o._horizlines,
                vertlines: o._vertlines,
                lines: o._lines,
                hlines: o._hlines,
                textmarks: o._textmarks,
                shapemarks: o._shapemarks,
                backgrounds: o._backgrounds,
                polygons: o._polygons,
                trendchannels: o._trendchannels,
                hhists: o._hhists
              } [e.type].forEach(function (t) {
                var i = function (e, t) {
                  for (var i = 0; i < e.length; ++i)
                    if (e[i].id === t) return i;
                  return -1
                }(t[0].items, e.id);
                i >= 0 && t[0].items.splice(i, 1)
              })
            },
            o = this;
          for (t = 0, i = e; t < i.length; t++) n(i[t])
        }, e.prototype._postProcess = function () {
          this._hhists.size > 0 && Object(a.e)(this)
        }, e.prototype._clearPrimitives = function () {
          this._horizlines = new Map, this._vertlines = new Map, this._lines = new Map, this._hlines = new Map, this._textmarks = new Map, this._shapemarks = new Map, this._backgrounds = new Map, this._polygons = new Map, this._trendchannels = new Map, this._hhists = new Map, this._hhistsByTimePointIndex.clear()
        }, e
      }()
    },
    r4gg: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#4758a9" d="M0 18h18V0H0z"/><path fill="#fff" d="M9 4.5V0H0v9h4.5V6l3 3H9V7L6.5 4.5H9z"/><path fill="#ed5565" d="M11 8.1l.3.6.5-.2-.2.5.4.4-.6.1v.6l-.4-.4-.4.4v-.6l-.6-.1.5-.4-.3-.5.6.2zm2 4l.3.6.5-.2-.2.5.4.4-.6.1v.6l-.4-.4-.4.4v-.6l-.6-.1.5-.4-.3-.5.6.2zm.3-7.1l.3.5.5-.1-.2.5.4.4h-.6V7l-.4-.4-.5.4v-.6l-.5-.1.5-.4-.3-.5.6.1zm2 3.4l.3.5.5-.2-.2.6.4.3-.6.1v.6l-.4-.4-.4.4v-.6h-.6l.4-.4-.2-.6.6.2zM3 1V0H1v1H0v2h1v6h2V3h6V1H3zm6 6.9L5 4H4l5 5V7.9z"/></svg>'
    },
    r8Gw: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.d(t, "a", function () {
        return a
      }), n = i("uOxu"), o = i("0waE"), r = i("IWXC"), i("glKZ"), s = Object(n.getLogger)("GUI.Blocks.AbstractIndicator"), a = function () {
        function e(e) {
          this._classSuffix = "", this._quoteSessionPrefix = "abstract-indicator", this._shortMode = !1, this._showTooltip = !0, this._subscribed = !1, this._tooltipType = "custom", this._quoteSession = e.quoteSession
        }
        return e.prototype.getValue = function () {
          return this._value
        }, e.prototype.getTooltipText = function () {
          return this._labelMap[this._value] || ""
        }, e.prototype.getLabel = function () {
          return this._labelMap[this._value] || ""
        }, e.prototype.getElement = function () {
          return this._el
        }, e.prototype.update = function (e, t) {
          this._updateValue(e, t), this._render()
        }, e.prototype.setTooltipEnabled = function (e) {
          void 0 === e && (e = !1), this._showTooltip !== e && (this._showTooltip = e, this._renderTooltip())
        }, e.prototype.enableShortMode = function () {
          !0 !== this._shortMode && (this._shortMode = !0, this._render())
        }, e.prototype.disableShortMode = function () {
          !1 !== this._shortMode && (this._shortMode = !1, this._render())
        }, e.prototype.isShortModeEnabled = function () {
          return this._shortMode
        }, e.prototype.start = function () {
          !this._subscribed && this._symbolName && (this._quoteSession || (this._quoteSession = Object(r.getQuoteSessionInstance)("simple")), this._quoteSession.subscribe(this._getQuoteSessionId(), this._symbolName, this.update.bind(this)), this._subscribed = !0)
        }, e.prototype.stop = function () {
          this._subscribed && this._quoteSession && this._symbolName && (this._quoteSession.unsubscribe(this._getQuoteSessionId(), this._symbolName), this._subscribed = !1)
        }, e.prototype._init = function (e) {
          this._el = e.el ? e.el : document.createElement("span"), this._el.innerHTML = "", this._classMap = e.classMap, this._labelMap = e.labelMap, this._showTooltip = e.showTooltip, this._classSuffix = e.classSuffix, this._symbolName = e.symbol, e.tooltipType && (this._tooltipType = e.tooltipType), this._quoteSessionGUID = Object(o.guid)(), !0 === e.short && this.enableShortMode(), e.data && this._updateValue(e.data)
        }, e.prototype._clearClasses = function () {
          var e = this;
          Object.values(this._classMap).map(function (t) {
            e._el.classList.remove("" + t), e._el.classList.remove("" + t + e._classSuffix)
          })
        }, e.prototype._render = function () {
          this._renderClasses(), this._renderTooltip(), this._renderLabel()
        }, e.prototype._renderLabel = function () {
          this._el.textContent = this.getLabel()
        }, e.prototype._updateValue = function (e, t) {
          var i = this._getValueFromData(e);
          (t || i !== this._value) && (this._value = i)
        }, e.prototype._renderClasses = function () {
          var e, t, i, n = this._el.classList;
          for (t in n.add(this._componentClass, this._componentClass + this._classSuffix), e = this._classMap[this._value], this._classMap)(i = this._classMap[t]) && (i === e ? n.add(i, i + this._classSuffix) : n.remove(i, i + this._classSuffix));
          !e && this._value && s.logWarn("no className for status " + this._value)
        }, e.prototype._renderTooltip = function () {
          this._el.setAttribute("title", this._showTooltip ? this.getTooltipText() : ""), "custom" === this._tooltipType && this._el.classList.toggle("apply-common-tooltip", this._showTooltip)
        }, e.prototype._getQuoteSessionId = function () {
          return this._quoteSessionPrefix + "." + this._quoteSessionGUID
        }, e
      }(), window.AbstractIndicator = a
    },
    rCHB: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "LineToolPitchforkStyle", function () {
          return n
        }),
        function (e) {
          e[e.Original = 0] = "Original", e[e.Schiff = 1] = "Schiff", e[e.Inside = 2] = "Inside", e[e.Schiff2 = 3] = "Schiff2"
        }(n || (n = {}))
    },
    rL76: function (e, t, i) {
      e.exports = {
        labelwidth: "19px",
        labelheight: "19px",
        bordersize: "2px",
        bottommargin: "5px",
        gearheight: "15px",
        gearwidth: "15px",
        "price-axis-stub": "price-axis-stub-3MoqVLRB-",
        wrapper: "wrapper-1tN_aWXZ-",
        label: "label-NpaJWak6-",
        symbol: "symbol-2JyFiLZ_-",
        gear: "gear-3B_8TAjc-",
        "fixed-gear": "fixed-gear-IiZPkpoQ-",
        "fixed-symbol": "fixed-symbol-2A_FZK26-"
      }
    },
    rOif: function (e) {
      e.exports = {
        au: ["ASX:XAT", "ASX:XAF", "INDEX:NZD", "OANDA:SPX500USD", "TVC:US30", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX:AUDUSD", "FX:EURUSD", "FX:USDJPY", "FX:GBPUSD", "FX_IDC:XAUUSD", "NYMEX:CL1!", "COMEX:HG1!"],
        br: ["BMFBOVESPA:IBOV", "BMFBOVESPA:IBXL", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX_IDC:USDBRL", "FX_IDC:EURBRL", "FX_IDC:BRLJPY", "BMFBOVESPA:PETR3", "BMFBOVESPA:GGBR3", "BMFBOVESPA:VALE3"],
        ca: ["TSX:TXSX", "TSX:VIXC", "OANDA:SPX500USD", "TVC:DJI", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX:USDCAD", "FX:EURUSD", "FX:USDJPY", "FX:GBPUSD", "FX_IDC:XAUUSD", "NYMEX:CL1!"],
        default: ["OANDA:SPX500USD", "AMEX:SPY", "TVC:NDX", "TVC:DJI", "TVC:DXY", "TVC:UKX", "XETR:DAX", "TVC:NI225", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX:EURUSD", "ICEEUR:CB1!", "FX_IDC:XAUUSD", "AMEX:DIA", "AMEX:GLD", "AMEX:FXE"],
        es: ["TVC:IBEX35", "EURONEXT:SABE", "BME:SAN", "BME:TEF", "BME:IBE", "BME:REP", "OANDA:SPX500USD", "TVC:NDX", "TVC:SX5E", "XETR:DAX", "BME:BKIA", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX:EURUSD", "FX:USDJPY", "BME:ELE", "BME:AMS", "BME:BKT", "BME:TL5"],
        fr: ["TVC:CAC40", "XETR:DAX", "TVC:US30", "OANDA:SPX500USD", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX:EURUSD", "FX:EURGBP", "FX:USDJPY", "FX:GBPUSD", "TVC:DXY", "NYMEX:CL1!", "LSE:ACA", "LSE:GLE", "LSE:ENGI", "NASDAQ:UG"],
        id: ["FX_IDC:USDIDR", "FX:EURUSD", "FX:USDJPY", "FX:AUDUSD", "TVC:DXY", "OANDA:SPX500USD", "TVC:NI225", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX_IDC:XAUUSD", "FX_IDC:XAGUSD", "TVC:UKOIL", "NYMEX:CL1!"],
        in: ["NSE:NIFTY", "NSE:BANKNIFTY", "BSE:SENSEX", "FX_IDC:USDINR", "FX_IDC:EURINR", "OANDA:SPX500USD", "AMEX:SPY", "TVC:NDX", "TVC:DJI", "TVC:DXY", "TVC:UKX", "XETR:DAX", "TVC:NI225", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX:EURUSD"],
        it: ["MIL:IMIB", "FX:EURUSD", "FX:EURGBP", "FX:USDJPY", "FX:GBPUSD", "TVC:DXY", "TVC:UKX", "XETR:DAX", "OANDA:SPX500USD", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "NYMEX:CL1!"],
        ja: ["OANDA:SPX500USD", "TVC:NI225", "ASX:XJO", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX:USDJPY", "FX:EURJPY", "OTC:IHRMF", "CME:NY1!"],
        kr: ["FX_IDC:USDKRW", "FX_IDC:JPYKRW", "FX:USDJPY", "OANDA:SPX500USD", "TVC:NI225", "INDEX:HSCE", "TVC:DXY", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "KORBIT:BTCKRW", "NYMEX:CL1!", "FX_IDC:XAUUSD"],
        ms_MY: ["FX_IDC:USDMYR", "FX_IDC:SGDMYR", "FX:EURUSD", "FX:GBPUSD", "NYMEX:CL1!", "TVC:UKOIL", "INDEX:KLSE", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX_IDC:XAUUSD"],
        pl: ["FX_IDC:USDPLN", "FX_IDC:EURPLN", "FX:EURUSD", "FX:USDJPY", "FX:GBPUSD", "XETR:DAX", "TVC:UKX", "OANDA:SPX500USD", "NYMEX:CL1!", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD"],
        ru: ["MOEX:IMOEX", "MOEX:RTSI", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "MOEX:USDRUB_TOM", "MOEX:EURRUB_TOM", "MOEX:SBER", "MOEX:GAZP", "MOEX:VTBR", "MOEX:LKOH", "MOEX:MGNT", "ICEEUR:CB1!", "NYMEX:CL1!", "NYMEX:NG1!", "TVC:NDX", "TVC:SX5E", "XETR:DAX", "TVC:FTMIB"],
        tr: ["FX:USDTRY", "FX:EURTRY", "XETR:DAX", "OANDA:SPX500USD", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "NYMEX:CL1!", "FX_IDC:XAUUSD"],
        uk: ["TVC:UKX", "XETR:DAX", "TVC:SX5E", "BITFINEX:BTCUSD", "BITFINEX:XRPUSD", "BITFINEX:ETHUSD", "BITFINEX:EOSUSD", "COINBASE:LTCUSD", "FX:GBPUSD", "FX_IDC:GBPEUR", "LSE:LLOY", "LSE:BARC", "OANDA:SPX500USD", "AMEX:SPY", "TVC:NDX", "TVC:DJI", "TVC:DXY", "TVC:NI225", "FX:EURUSD"]
      }
    },
    rX2x: function (e, t, i) {
      var n = i("puQj"),
        o = i("NGnh").lite,
        r = i("NGnh").hard,
        s = i("NGnh").iosSupported,
        a = i("Vdly");
      (!n.ios && n.isUnsupportedBrowser(r, !1) || n.ios && n.compareVersions([n.osversion, s]) < 0) && (window.location = "/badbrowser/"), $(document).ready(function () {
        var e, t, r;
        Modernizr.canvas && Modernizr.canvastext && (Modernizr.websockets || /Google/i.test(navigator.userAgent)) && (e = n.name, t = n.version, r = a.getValue("bowser_" + e + t, 0), Date.now() - r < 2592e5 || !n.isUnsupportedBrowser(o, !1)) || (Promise.all([i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(5), i.e(204)]).then(function (e) {
          (0, i("YDhE").createDialog)({
            type: "modal",
            width: 500,
            destroyOnClose: !0,
            title: $.t("Oops, your browser is not supported!"),
            draggable: !1,
            closeOnOutsideClick: !1,
            shadow: !0,
            content: '<div class="tv-text"><p class="tv-text__font">' + $.t("We don't guarantee that TradingView works correctly in this browser version. Please note this is a warning message only and you can keep using this browser version after clicking Continue. If you experience any problem, please use latest version of one of the following browsers:") + '</p><li class="tv-list__item tv-list__item--no-margin"><span class="tv-list__item-description"><a href="http://www.google.com/chrome/" target="_blank">Chrome</a></span></li><li class="tv-list__item tv-list__item--no-margin"><span class="tv-list__item-description"><a href="http://www.mozilla.com" target="_blank">Firefox</a></span></li><li class="tv-list__item tv-list__item--no-margin"><span class="tv-list__item-description"><a href="http://www.apple.com/safari/" target="_blank">Safari</a></span></li><li class="tv-list__item tv-list__item--no-margin"><span class="tv-list__item-description"><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home" target="_blank">Internet Explorer 11</a></span></li><li class="tv-list__item tv-list__item--no-margin"><span class="tv-list__item-description"><a href="http://www.microsoft.com/en-us/windows/microsoft-edge" target="_blank">Microsoft Edge</a></span></li></ul></div>',
            actions: [{
              name: "OK",
              type: "primary",
              text: $.t("Continue"),
              key: 13,
              method: "close"
            }]
          }).open()
        }.bind(null, i)).catch(i.oe), n.name, n.version, a.setValue("bowser_" + n.name + n.version, Date.now()))
      })
    },
    rY0k: function (e, t, i) {
      "use strict";
      var n = i("IzGk").translatedIntervalString,
        o = i("RqCd").getTranslatedSymbolDescription,
        r = i("zDbI").CHART_FONT_FAMILY,
        s = i("di4O"),
        a = s.watermarkProperty,
        l = s.restoreWatermarkPropertyDefaults;
      t.Watermark = function (e, t) {
        function i(e, t) {
          var i = e.font;
          return c.hasOwnProperty(i) || (c[i] = {}), c[i].hasOwnProperty(t) || (c[i][t] = e.measureText(t).width), c[i][t]
        }
        var s, c = {},
          u = a();
        u.listeners().subscribe(this, function () {
          e.updateSource(this)
        }), this.destroy = function () {
          u.listeners().unsubscribeAll(this)
        }, this.properties = function () {
          return u
        }, this.restorePropertiesDefaults = function () {
          l()
        }, s = {
          renderer: function (e, s) {
            return {
              draw: function (a) {
                var l, c, h, d, p, f, _, m, g, y = t.symbolInfo();
                for (a.fillStyle = u.color.value(), l = y.name, /QUANDL/.test(y.exchange) && (c = l.split(/\//)).length && (l = c[c.length - 1]), h = {
                    description: y.description,
                    short_description: y.short_description,
                    pro_name: y.pro_name,
                    short_name: y.name,
                    local_description: y.local_description,
                    language: y.language
                  }, d = [{
                    text: l ? l + ", " + n(t.interval()) : "",
                    font: "96px " + r,
                    lineHeight: 117,
                    vertOffset: 0
                  }, {
                    text: o(h) || "",
                    font: "48px " + r,
                    lineHeight: 58,
                    vertOffset: 5
                  }], p = 0, f = 0; f < d.length; f++)(_ = d[f]).text && (a.font = _.font, m = i(a, _.text), _.zoom = m > s ? s / m : 1, p += _.lineHeight * _.zoom);
                for (g = Math.max((e - p) / 2, 0), f = 0; f < d.length; f++)(_ = d[f]).text && (a.save(), a.translate(s / 2, g), a.textBaseline = "top", a.textAlign = "center", a.font = _.font, a.scale(_.zoom, _.zoom), a.fillText(_.text, 0, _.vertOffset), a.restore(), g += _.lineHeight * _.zoom)
              }
            }
          },
          update: function () {}
        }, this.paneViews = function () {
          return t.symbolInfo() && u.visibility.value() ? [s] : []
        }
      }
    },
    rhBM: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 16" width="32" height="16"><rect width="100%" height="100%" fill="currentColor" rx="8"/><path xmlns="http://www.w3.org/2000/svg" fill="#FFF" d="M10.007 5.372V12H8.61V5.372H6.107v-1.24h6.516v1.24h-2.616zM12.504 8c0-1.121.307-2.07.922-2.844.614-.776 1.435-1.163 2.462-1.163 1.132 0 1.996.35 2.594 1.052.598.702.897 1.687.897 2.955 0 1.267-.312 2.273-.937 3.018-.625.745-1.512 1.117-2.661 1.117-1.057 0-1.867-.369-2.43-1.106-.565-.738-.847-1.748-.847-3.03zm1.45 0c0 .92.156 1.632.468 2.137.311.505.764.758 1.359.758.698 0 1.23-.248 1.598-.742.367-.494.55-1.212.55-2.153 0-1.845-.68-2.767-2.04-2.767-.624 0-1.102.25-1.435.75-.333.5-.5 1.171-.5 2.017zm8.057 1.106V12h-1.396V4.137c.93-.04 1.475-.06 1.633-.06 1.242 0 2.15.191 2.725.573.575.381.862.976.862 1.786 0 1.804-1.063 2.707-3.19 2.707-.158 0-.369-.013-.634-.038zm0-3.76v2.52c.237.024.423.037.559.037.637 0 1.103-.107 1.396-.32.294-.213.44-.56.44-1.039 0-.816-.656-1.225-1.97-1.225-.147 0-.289.01-.425.027z"/></svg>'
    },
    roqP: function (e, t, i) {
      "use strict";

      function n(e) {
        return e && e.__esModule ? e : {
          default: e
        }
      }

      function o(e) {
        if (p) {
          ChartApiInstance.connect({
            tokenGrabSession: e
          });
          var i = ChartApiInstance.connectDfd;
          return t.sessionIsBroken = p = !1, h && (i.then(function () {
            (0, s.trackEvent)("Auth", "Different Device Active Recovery"), h.destroy(), h = void 0
          }), i.catch(function () {
            t.sessionIsBroken = p = !0
          }), p || f.emitEvent(m)), i
        }
      }
      var r, s, a, l, c, u, h, d, p, f, _, m;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.eventRecovery = t.eventBreakdown = t.activeSessionStream = t.sessionIsBroken = void 0, r = n(i("TxTq")), s = i("PC8g"), a = i("FBuY"), l = n(i("4O8T")), c = i("uOxu"), u = (0, c.getLogger)("UserSessions"), h = void 0, d = 0, p = t.sessionIsBroken = !1, f = t.activeSessionStream = new l.default, _ = t.eventBreakdown = "Session broken down.", m = t.eventRecovery = "Session recovered", a.TVXWindowEvents.on("session_captured", function () {
        o()
      }), r.default.on("auth", function (e) {
        var n, r;
        if (is_authenticated && user && user.session_hash && "active_session_changed" === e.type && e.timestamp > d) {
          for (d = e.timestamp, n = !1, r = e.active_sessions.length - 1; r >= 0; r--) user.session_hash === e.active_sessions[r] && (n = !0);
          n ? h && o() : function (e) {
            if (!p) {
              var n = !0;
              ChartApiInstance && (n = ChartApiInstance.disconnect(!0)), n && ((0, s.trackEvent)("Auth", "Different Device Active Dialog"), t.sessionIsBroken = p = !0, u.logNormal("Different device connection detected: " + JSON.stringify(e)), i.e("lock-session-dialog").then(function (t) {
                (0, i("jE6U").sessionLockDialog)(e).then(function (e) {
                  (h = e).on("afterClose", function () {
                    var e = o(!0);
                    e && e.then(function () {
                      a.TVXWindowEvents.emit("session_captured")
                    })
                  }).open()
                })
              }.bind(null, i)).catch(i.oe), f.emitEvent(_))
            }
          }(e.device_info)
        }
      })
    },
    rrRE: function (e, t, i) {
      "use strict";

      function n(e) {
        this.bars = e.bars, this.barSpacing = e.barSpacing, this.blockSize = e.blockSize, this.barWidth = e.barSpacing
      }
      var o = i("Zp/P").selectionTolerance,
        r = i("VdBB").HitTestResult;
      n.prototype.draw = function (e) {
        var t, i, n, o;
        for (e.save(), e.lineCap = "butt", e.translate(.5, .5), t = 0; t < this.bars.length; ++t) {
          for (n = ((i = this.bars[t]).low - i.high) / i.additionalNum, e.beginPath(),
            o = 0; o < i.additionalNum; o++) i.isUp ? (e.moveTo(Math.round(i.time - .5 * this.barWidth) + .5, i.high + o * n), e.lineTo(Math.round(i.time + .5 * this.barWidth) - .5, i.high + (o + 1) * n), e.moveTo(Math.round(i.time + .5 * this.barWidth) - .5, i.high + o * n), e.lineTo(Math.round(i.time - .5 * this.barWidth) + .5, i.high + (o + 1) * n)) : this.drawEllipse(e, i.time - .45 * this.barWidth + .5, i.high + o * n, Math.round(.9 * this.barWidth), Math.round(n));
          e.strokeStyle = i.color, e.lineWidth = 1, e.stroke()
        }
        e.restore()
      }, n.prototype.drawEllipse = function (e, t, i, n, o) {
        e.save(), e.translate(t + n / 2, i + o / 2), e.scale(n / 2, o / 2), e.moveTo(1, 0), e.arc(0, 0, .95, 0, 2 * Math.PI, !1), e.restore()
      }, n.prototype.hitTest = function (e) {
        var t, i, n, s, a, l, c = this.bars,
          u = .5 * this.barSpacing;
        if (0 === c.length) return null;
        if (e.x < c[0].time - u) return null;
        if (e.x > c[c.length - 1].time + u) return null;
        for (t = null, i = 0; i < c.length; ++i)
          if (n = c[i], e.x <= n.time + u) {
            t = n;
            break
          } return t ? (s = o(this.barWidth), a = Math.min(t.high, t.low), l = Math.max(t.high, t.low), a - s <= e.y && e.y <= l + s ? new r(r.REGULAR) : null) : null
      }, t.PaneRendererPnF = TradingView.PaneRendererPnF = n
    },
    ruCT: function (e, t, i) {
      "use strict";
      var n = i("uOxu").getLogger("Chart.FollowSymbolsButton");
      ! function () {
        function e(e) {
          var t, i;
          return e.symbol ? null == e.follow && Object.prototype.hasOwnProperty.call(a, e.symbol) ? a[e.symbol].promise : (i = (t = $.Deferred()).promise(), a[e.symbol] || (a[e.symbol] = {}), a[e.symbol].promise = i, $.post("/social/follow-the-symbol/", e, "json").done(function (i) {
            i.error ? t.reject(i) : (t.resolve(i), i.symbol !== e.symbol && (a[i.symbol] = a[e.symbol]))
          }).fail(function () {
            t.reject.apply(t, arguments)
          }), i) : $.Deferred().reject().promise()
        }

        function t(t, n) {
          return e({
            symbol: t,
            follow: +!!n
          }).done(function (e) {
            var n = e.followTheSymbol;
            i(t, n)
          }).promise()
        }

        function i(e, t) {
          $(s).each(function () {
            var i = $(this);
            i.data("symbol") === e && r(i, t)
          })
        }

        function o() {
          for (var e in a) delete a[e];
          r($(s), !1)
        }

        function r(e, t) {
          t = !!t, e.each(function () {
            var e = $(this);
            e.toggleClass("js-follow-symbol--followed", t).toggleClass(e.data("follow-symbol-button-followed-style-class") ? e.data("follow-symbol-button-followed-style-class") : "i-checked", t)
          })
        }
        var s = ".js-follow-symbol",
          a = {};
        $(document).on("click", s, function (e) {
          var i = $(this),
            n = i.data("symbol");
          n && runOrSignIn(function () {
            var e = function (e) {
                return e.hasClass("js-follow-symbol--followed")
              }(i),
              o = t(n, !e);
            r(i, !e), o.fail(function () {
              r(i, e)
            })
          }, {
            source: "Follow symbol button"
          })
        }), TradingView.FollowSymbols = {
          changeState: t,
          makeButton: function (t) {
            var i, o;
            return i = (t = t || {}).$button, o = t.symbol, i ? (i.addClass("js-follow-symbol tv-button tv-button--success"), o || (o = i.data("symbol"))) : i = $('<span class="js-follow-symbol tv-button tv-button--success">'), i.data({
              "follow-symbol-button-followed-style-class": "i-checked",
              "follow-symbol-button-change-text": void 0 === t.changeText || !!t.changeText
            }), o ? (e({
              symbol: o
            }).pipe(function (e) {
              i.attr("data-symbol", e.symbol), r(i, e.followTheSymbol)
            }), i) : (n.logError("symbol is required"), i)
          },
          request: e
        }, $(function () {
          loginStateChange.subscribe(TradingView.FollowSymbols, function (t) {
            t || (window.is_authenticated ? (o(), $(s).each(function () {
              var t = $(this).data("symbol");
              t && (Object.prototype.hasOwnProperty.call(a, t) || e({
                symbol: t
              }).done(function (e) {
                i(e.symbol, e.followTheSymbol)
              }))
            })) : o())
          })
        })
      }()
    },
    rwPJ: function (e, t, i) {
      "use strict";
      t.LineStudyMtpAnalysis = i("SdZO"), t.LineStudyMtpDecisionPoint = i("Mx6j"), t.LineStudyMtpRiskReward = i("s64/"), t.LineStudyMtpElliotWaveMain = i("Eeco").LineStudyMtpElliotWaveMain, t.LineStudyMtpElliotWaveMajor = i("Eeco").LineStudyMtpElliotWaveMajor, t.LineStudyMtpElliotWaveMinor = i("Eeco").LineStudyMtpElliotWaveMinor, t.LineStudyMtpDownWave1OrA = i("+QnZ").LineStudyMtpDownWave1OrA, t.LineStudyMtpDownWave2OrB = i("+QnZ").LineStudyMtpDownWave2OrB, t.LineStudyMtpDownWave3 = i("+QnZ").LineStudyMtpDownWave3, t.LineStudyMtpDownWave4 = i("+QnZ").LineStudyMtpDownWave4, t.LineStudyMtpDownWave5 = i("+QnZ").LineStudyMtpDownWave5, t.LineStudyMtpDownWaveC = i("+QnZ").LineStudyMtpDownWaveC, t.LineStudyMtpUpWave1OrA = i("+QnZ").LineStudyMtpUpWave1OrA, t.LineStudyMtpUpWave2OrB = i("+QnZ").LineStudyMtpUpWave2OrB, t.LineStudyMtpUpWave3 = i("+QnZ").LineStudyMtpUpWave3, t.LineStudyMtpUpWave4 = i("+QnZ").LineStudyMtpUpWave4, t.LineStudyMtpUpWave5 = i("+QnZ").LineStudyMtpUpWave5, t.LineStudyMtpUpWaveC = i("+QnZ").LineStudyMtpUpWaveC
    },
    rzvv: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-linecap="square" d="M21.5 14.5a8 8 0 1 0-8 8m6-6v8m-4-4h8"/><path d="M10 14.5h3.5V9m-3.277-1.76a3 3 0 1 0-3.993 3.979m14.565-.012a3 3 0 1 0-4.019-3.966"/></g></svg>'
    },
    "s4+V": function (e, t, i) {
      "use strict";

      function n() {
        return new Promise(function (e) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(21), i.e(183), i.e(287), i.e(3), i.e(18), i.e(79), i.e("conversion"), i.e("go-to-tv-referral-dialog"), i.e("go-pro-dialog")]).then(function (t) {
            e(i("EFj7").isOpened())
          }.bind(null, i)).catch(void 0)
        })
      }

      function o(e) {
        return new Promise(function (t) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(21), i.e(183), i.e(287), i.e(3), i.e(18), i.e(79), i.e("conversion"), i.e("go-to-tv-referral-dialog"), i.e("go-pro-dialog")]).then(function (n) {
            t(i("EFj7").goProDialog(e))
          }.bind(null, i)).catch(void 0)
        })
      }
      var r;
      i.r(t), i.d(t, "isOpened", function () {
        return n
      }), i.d(t, "createGoProDialog", function () {
        return o
      }), r = i("iKPL")
    },
    "s64/": function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        r.call(this, e, t, i)
      }
      var o = i("Eyy1").assert,
        r = i("Txy0").LineStudyMtp;
      inherit(n, r), n.prototype._mtpStudyId = function () {
        return "mtp_riskreward"
      }, n.prototype.pointsCount = function () {
        return 3
      }, n.getTooltipText = function (e) {
        return e && 0 !== e._points.length ? 1 === e._points.length ? "Select Stop Bar" : 2 === e._points.length ? "Select Target Point" : null : "Select Entry Setup Bar"
      }, n.prototype._studyInputs = function (e) {
        var t, i, n, r, s, a;
        return o(3 === e.length, "all the line tool points should be defined"), t = e[0].index, i = e[1].index, n = e[2].index, r = this._model.mainSeries().bars().valueAt(t), s = this._model.mainSeries().bars().valueAt(i), a = this._model.mainSeries().bars().valueAt(n), null === r || null === s || null === a ? null : {
          entry_bar: 1e3 * r[TradingView.TIME_PLOT],
          stop_bar: 1e3 * s[TradingView.TIME_PLOT],
          target_bar: 1e3 * a[TradingView.TIME_PLOT],
          target_price: e[2].price,
          account_size: this.properties().inputs.account_size.value(),
          percent_risk: this.properties().inputs.percent_risk.value(),
          tickEntryOffset: this.properties().inputs.tickEntryOffset.value(),
          tickStopOffset: this.properties().inputs.tickStopOffset.value()
        }
      }, e.exports = n
    },
    s9sR: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "SetResolutionUndoCommand", function () {
        return l
      }), n = i("mrSG"), o = i("RDU5"), r = i("LxhU"), s = i("n5al"), a = i("dfhE"), l = function (e) {
        function t(t, i, n, o) {
          var r = e.call(this, o) || this;
          return r._property = t, r._value = i, r._prevValue = t.value(), r._chartWidget = n, r
        }
        return n.__extends(t, e), t.prototype.redo = function () {
          this._chartWidget.screen.show(), this._property.setValue(this._value), this._handleResolution(this._value)
        }, t.prototype.undo = function () {
          this._chartWidget.screen.show(), this._property.setValue(this._prevValue), this._handleResolution(this._prevValue)
        }, t.prototype._handleResolution = function (e) {
          var t = this._chartWidget.model().mainSeries().properties(),
            i = t.style.value(),
            n = Object(s.isRangeStyle)(i),
            o = r.Interval.isRange(e);
          !n && o ? t.style.setValue(a.STYLE_RANGE) : n && !o && t.style.setValue(Object(s.getLastUsedStyle)())
        }, t
      }(o.UndoCommand)
    },
    sBR6: function (e, t, i) {
      "use strict";

      function n(e) {
        e && this.setData(e), this._barBorderWidth = 1
      }
      var o = i("Zp/P"),
        r = i("VdBB").HitTestResult;
      n.prototype.setData = function (e) {
          this._data = e, this.bars = e.bars, this._barWidth = e.barWidth
        }, n.prototype.draw = function (e) {
          var t, i, n, o, r, s, a, l, c, u, h, d, p, f, _ = this.bars,
            m = this._data.barSpacing,
            g = this._data.drawWick,
            y = this._data.drawBorder,
            v = this._data.wickColor,
            S = this._barBorderWidth,
            b = this._barWidth;
          if (e.lineCap = "square", e.lineStyle = this._data.lineStyle, m < 1) {
            if (g) {
              for (e.strokeStyle = v, e.lineWidth = 1, e.beginPath(), u = _.length; u-- > 0;) h = _[u], e.moveTo(h.time, h.low), e.lineTo(h.time, h.high);
              e.stroke()
            }
            for (e.lineWidth = 1, d = "", p = !1, e.beginPath(), u = _.length; u-- > 0;) c = (h = _[u]).time, d !== h.color && (p && (e.stroke(), e.beginPath(), p = !1), e.strokeStyle = h.color, d = h.color), e.moveTo(h.time, h.open), e.lineTo(h.time, h.close), p = !0;
            p && e.stroke()
          } else {
            if (_ = _.slice().sort(function (e, t) {
                return e.color > t.color ? -1 : e.color < t.color ? 1 : 0
              }), e.translate(-.5, -.5), e.lineWidth = S, g)
              for (f = v, e.fillStyle = v, u = _.length; u--;) c = (h = _[u]).time, t = h.open, i = h.high, n = h.low, o = h.close, h.wickColor && h.wickColor !== f && (e.fillStyle = h.wickColor, f = h.wickColor), a = Math.min(t, o), l = Math.max(t, o), h.hollow ? (e.fillRect(c, i, 1, a - i), e.fillRect(c, l, 1, n - l)) : e.fillRect(c, i, 1, n - i);
            if (y)
              for (u = _.length; u--;) h = _[u], _[u + 1] && h.borderColor === _[u + 1].borderColor || (e.fillStyle = h.borderColor), h.hollow || (c = h.time, t = h.open, o = h.close, r = Math.round(c - b), s = Math.round(c + b), a = Math.min(t, o), l = Math.max(t, o), e.fillRect(r, a, s - r + 1, l - a + 1));
            for (u = _.length; u--;) c = (h = _[u]).time, t = h.open, i = h.high, n = h.low, o = h.close, r = Math.round(c - b), s = Math.round(c + b), a = Math.min(t, o), l = Math.max(t, o), _[u + 1] && h.color === _[u + 1].color || (e.strokeStyle = h.color), e.fillStyle = h.color, Math.abs(a - l) <= 1 && (e.fillStyle = h.borderColor), h.hollow ? (e.translate(-.5, -.5), e.strokeRect(r + 1, a + 1, s - r, l - a), e.translate(.5, .5)) : (y && (r += 1, a += 1, s -= 1, l -= 1), e.fillRect(r, a, s - r + 1, l - a + 1))
          }
        },
        n.prototype.hitTest = function (e) {
          var t, i, n, s, a, l, c = this.bars,
            u = .5 * this._data.barSpacing;
          if (0 === c.length) return null;
          if (e.x < c[0].time - u) return null;
          if (e.x > c[c.length - 1].time + u) return null;
          for (t = null, i = 0; i < c.length; ++i)
            if (n = c[i], e.x <= n.time + u) {
              t = n;
              break
            } return t ? (s = o.selectionTolerance(this._barBorderWidth), a = Math.min(t.high, t.low), l = Math.max(t.high, t.low), a - s <= e.y && e.y <= l + s ? this._data.hittest || new r(r.REGULAR) : null) : null
        }, t.PaneRendererCandles = TradingView.PaneRendererCandles = n
    },
    sDvb: function (e, t, i) {
      "use strict";
      (function (t) {
        function n(e) {
          this._data = {}, this.crossInterval = new s, this.update(e)
        }
        var o, r, s, a = i("uOxu").getLogger("Alerts.Extra"),
          l = i("dOnf").deepCopy;
        TradingView = "object" == typeof t ? t.TradingView : TradingView || {}, "function" != typeof TradingView.merge && (TradingView.merge = function (e, t) {
            for (var i in t) "object" == typeof t[i] && e.hasOwnProperty(i) ? TradingView.merge(e[i], t[i]) : e[i] = t[i];
            return e
          }), o = i("dn9U"), r = i("EQCO").alertBandFactory, s = i("hY0g"), n.VERSION = 21, n.prototype.update = function (e) {
            return e = this._prepareExtraObject(e), n._isValidExtra(e) ? (this._data = e || {}, this._updateCrossInterval()) : a.logError("Wrong alert extra"), this
          }, n.prototype.addDatasourse = function (e, t) {
            this._addDatasourseToJson(this._data, e, t)
          }, n.prototype._addDatasourseToJson = function (e, t, i) {
            (i || e.condition[t]) && (e.condition[t] = {
              id: i.id,
              plotIndex: i.plotIndex
            }, e.statesForAlert[i.id] = i, i.plotIndex && delete e.statesForAlert[i.id].plotIndex)
          }, n.prototype.getDependencies = function () {
            var e, t, i = {};
            for (e in this._data.statesForAlert) this._data.statesForAlert.hasOwnProperty(e) && ("Study" === (t = this._data.statesForAlert[e]).type || /^study_\w+/.test(t.type)) && null != t.studyDependencies && t.studyDependencies.forEach(function (e) {
              i[e.id] = e
            });
            return Object.keys(i).map(function (e) {
              return i[e]
            }).map(function (e) {
              return e.study = e.study.replace(/(\d)$/, "$1!"), e
            })
          }, n.prototype.updateDataSourseStates = function () {
            var e = this,
              t = this.getAvailableBands().map(function (t) {
                return e._data.condition[t]
              }).filter(function (e) {
                return !!e
              }).map(function (e) {
                return e.id
              });
            Object.keys(e._data.statesForAlert).filter(function (e) {
              return t.indexOf(e) < 0
            }).forEach(function (t) {
              delete e._data.statesForAlert[t]
            })
          }, n.prototype._prepareExtraObject = function (e) {
            var t;
            return "string" == typeof e ? e = JSON.parse(e) : e instanceof n && (e = e.toJSON()), n._isValidExtra(e) ? e : (function (t) {
              var i = o.defaults(e.conditionId || "cross");
              this._addDatasourseToJson(t, "mainSeries", e.mainSeries), this._addDatasourseToJson(t, "alertSeries", e.alertSeries), "moving" === i.type ? (t.condition.movValue = Number(e.value), t.condition.movPeriod = Number(e.period)) : "comparison" === i.type && i.isChannel ? (this._addDatasourseToJson(t, "upperBand", e.upperBand), this._addDatasourseToJson(t, "lowerBand", e.lowerBand)) : "comparison" !== i.type || i.isChannel ? "pine_script" === i.type || a.logError("[Alerts] Unknown condition type: " + i.type) : this._addDatasourseToJson(t, "band", e.band)
            }.bind(this)(t = {
              version: n.VERSION,
              condition: {
                id: e.conditionId,
                fireInfo: e.fireInfo
              },
              statesForAlert: {}
            }), t)
          }, n.prototype.isValid = function () {
            return n._isValidExtra(this._data)
          }, n._isValidExtra = function (e) {
            var t, i, r = !!("object" == typeof e && null !== e && e.version >= n.VERSION && e.statesForAlert && e.condition && e.condition.id && e.condition.alertSeries && e.condition.fireInfo && (e.condition.fireInfo.type || e.condition.fireInfo.frequency));
            return r ? (t = Object.keys(e.statesForAlert), r = (r = r && t.indexOf(e.condition.alertSeries.id) >= 0) && (!e.condition.mainSeries || t.indexOf(e.condition.mainSeries.id) >= 0), (i = o.defaults(e.condition.id)) && "comparison" === i.type && !i.isChannel ? r = (r = r && !!e.condition.band) && t.indexOf(e.condition.band.id) >= 0 : i && "comparison" === i.type && i.isChannel ? r = (r = (r = (r = r && !!e.condition.upperBand) && !!e.condition.lowerBand) && t.indexOf(e.condition.upperBand.id) >= 0) && t.indexOf(e.condition.lowerBand.id) >= 0 : i && "moving" === i.type && (r = (r = r && !!e.condition.movPeriod) && !!e.condition.movValue), r) : r
          }, n.prototype._prepareToJSON = function () {
            var e, t, i = this.bandsObject(),
              n = Object.keys(i);
            for (e = 0; e < n.length; e++) t = i[n[e]], TradingView.isExistent(t.value) && (t.value = String(t.value))
          }, n.prototype.toJSON = function () {
            return this._prepareToJSON(), l(this._data)
          }, n.prototype.state = n.prototype.toJSON, n.prototype.conditionData = function () {
            var e = this._data && this._data.condition && this._data.condition.id;
            if (e) return o.getData(e, this)
          }, n.prototype.bandsObject = function (e) {
            return this._data.statesForAlert
          }, n.prototype.bandsArray = function (e) {
            var t = this;
            return e = e || "object", this.getAvailableBands().map(function (i) {
              return t._getSomeBand(i, e)
            }).filter(function (e) {
              return !!e
            })
          }, n.prototype.price = function (e) {
            function t(e, t) {
              var i = r._getSomeBand(e, "object"),
                n = i && "Value" === i.type && void 0 !== t;
              n && (i.value = parseFloat(t), r[e](i))
            }

            function i(e) {
              var t = r._getSomeBand(e, "object");
              return t && !isNaN(t.value) && void 0 !== t.value && null !== t.value ? parseFloat(t.value) : null
            }
            var n, o, r = this,
              s = r.conditionData();
            return s && "comparison" === s.type ? (void 0 !== e && (r.conditionData().isChannel ? (t("upperBand", e.upperBand || e.upper), t("lowerBand", e.lowerBand || e.lower)) : t("band", e.band || e), this._updateCrossInterval()), r.conditionData().isChannel ? (n = i("upperBand"), o = i("lowerBand"), null === n || null === o ? null : {
              upper: n,
              lower: o
            }) : i("band")) : null
          }, n.prototype.conditionId = function (e, t) {
            return void 0 !== e && (this._data.condition.id = e, t || this._updateCrossInterval()), this._data.condition.id
          }, n.prototype.getAvailableConditionParams = function (e) {
            return ["movPeriod", "movValue"]
          }, n.prototype.getAvailableOptionalBands = function (e) {
            return ["band", "lowerBand", "upperBand"]
          }, n.prototype.getAvailableBands = function (e) {
            return ["band", "lowerBand", "upperBand", "alertSeries", "mainSeries"]
          }, n.prototype.getAvailableOptionalConditions = function (e) {
            return this.getAvailableOptionalBands().concat(this.getAvailableOptionalBands())
          }, n.prototype.clearOptionalConditions = function (e) {
            var t = this;
            this.getAvailableOptionalConditions().forEach(function (e) {
              delete t._data.condition[e]
            }), this.updateDataSourseStates(), e || this._updateCrossInterval()
          }, n.prototype.alertSeries = function (e, t) {
            return void 0 !== e && (this.addDatasourse("alertSeries", e), this.updateDataSourseStates(), t || this._updateCrossInterval(), this.setValidConditionId()), this._getSomeBand("alertSeries", "object")
          },
          n.prototype.getAlertSeries = function (e) {
            return this._getSomeBand("alertSeries", e)
          }, n.prototype.mainSeries = function (e, t) {
            return void 0 !== e && (this.addDatasourse("mainSeries", e), this.updateDataSourseStates(), t || this._updateCrossInterval()), this._getSomeBand("mainSeries", "object")
          }, n.prototype.getMainSeries = function (e) {
            return this._getSomeBand("mainSeries", e)
          }, n.prototype._getSomeBand = function (e, t) {
            var i, n = t || "model",
              o = this._data.condition[e];
            if (o) return i = TradingView.merge(this._data.statesForAlert[o.id], o), "object" === n ? TradingView.merge({}, i) : r.create(i)
          }, n.prototype.upperBand = function (e, t) {
            return void 0 !== e && (this.addDatasourse("upperBand", e), delete this._data.condition.band, this.updateDataSourseStates(), t || this._updateCrossInterval()), this._getSomeBand("upperBand", "object")
          }, n.prototype.getUpperBand = function (e) {
            return this._getSomeBand("upperBand", e)
          }, n.prototype.lowerBand = function (e, t) {
            return void 0 !== e && (this.addDatasourse("lowerBand", e), delete this._data.condition.band, this.updateDataSourseStates(), t || this._updateCrossInterval()), this._getSomeBand("lowerBand", "object")
          }, n.prototype.getLowerBand = function (e) {
            return this._getSomeBand("lowerBand", e)
          }, n.prototype.band = function (e, t) {
            return void 0 !== e && (this.addDatasourse("band", e), delete this._data.condition.upperBand, delete this._data.condition.lowerBand, this.updateDataSourseStates(), t || this._updateCrossInterval()), this._getSomeBand("band", "object")
          }, n.prototype.getBand = function (e) {
            return this._getSomeBand("band", e)
          }, n.prototype.value = function (e, t) {
            return void 0 !== e && (this._data.condition.movValue = Number(e), t || this._updateCrossInterval()), this._data.condition.movValue
          }, n.prototype.movingValue = n.prototype.value, n.prototype.period = function (e, t) {
            return void 0 !== e && (this._data.condition.movPeriod = Number(e), t || this._updateCrossInterval()), this._data.condition.movPeriod
          }, n.prototype.movingPeriod = n.prototype.period, n.prototype._updateCrossInterval = function () {
            var e = this.getAlertSeries(),
              t = null !== this.price() && e && "MainSeries" === e.type() && !e.isRangeBasedStyle() && !e.isSpread();
            this.crossInterval.setValue(t)
          }, n.prototype.frequency = function (e) {
            return -1 !== ["once", "on_first_fire", "on_bar_close", "60"].indexOf(e) && (this._data.condition.fireInfo.frequency = e), this._data.condition.fireInfo.frequency
          }, n.prototype.alertSeriesAlerts = function () {
            return this.alertSeries() && this.alertSeries().alerts
          }, n.prototype.drawing = function (e) {
            var t, i, n, o, r, s, l, c, u = this;
            for (e && e.canHasAlert() && (i = (t = e.stateForAlert()).plots, n = !!u.conditionData().isChannel, (1 === i.length ? !n : n) && "comparison" === u.conditionData().type ? 1 === i.length ? (o = {}, (o = TradingView.merge(o, t)).plotIndex = 0, u.band(o)) : (r = {}, s = {}, (r = TradingView.merge(r, t)).plotIndex = 0, u.upperBand(r), (s = TradingView.merge(s, t)).plotIndex = 1, u.lowerBand(s)) : a.logError("[Alerts] Can't set drawing to alert with current condition")), l = this.bandsArray(), c = 0; c < l.length; c++)
              if (/^LineTool.*/i.test(l[c].type)) return l[c];
            return null
          }, n.prototype.setValidConditionId = function () {
            var e = this.conditionId(),
              t = o.get(this),
              i = t[e];
            i || this.conditionId(Object.keys(t)[0])
          },
          n.prototype.verticalLine = function () {
            var e = this.drawing();
            return e && 1 === e.plots.length && e.plots[0].offset1 && e.plots[0].offset1 === e.plots[0].offset2 ? e : null
          }, TradingView.AlertExtra = n, e.exports = n
      }).call(this, i("yLpj"))
    },
    sEk5: function (e, t, i) {
      "use strict";

      function n(e) {
        r.call(this, e);
        var t = this;
        a.hideMarksOnBars().subscribe(this, function () {
          t._properties.visible.setValue(!a.hideMarksOnBars().value())
        })
      }

      function o(e) {
        s.call(this)
      }
      var r = i("fTGZ").BarsMarksContainer,
        s = i("BOPY").BarMarkTooltip,
        a = i("mMWL");
      inherit(n, r), n.prototype._initialize = function (e) {
        this._properties.visible.setValue(!0)
      }, n.prototype.userEditEnabled = function () {
        return !1
      }, n.prototype._constructor = "UserDefinedBarsMarks", n.prototype._plateViewData = function (e) {
        var t = {
          text: e.text
        };
        return "object" == typeof e.color && (t.theme = "user_defined_theme", t.overridedTheme = {}, t.overridedTheme.border = e.color.border, t.overridedTheme.background = e.color.background), t
      }, n.prototype.onClicked = function () {
        var e = this._model.lastHittestData().id;
        this._marks[e].onClicked()
      }, n.prototype.clearMarks = function () {
        r.prototype.clearMarks.call(this), this.onNeedRepaint.fire()
      }, n.prototype._getData = function (e) {
        var t, i, n, o = this._model.mainSeries().symbolInfo();
        o && (t = this.roundRange(this._rangeDifference(e)), i = this, n = this._model.mainSeries().properties().interval.value(), ChartApiInstance.getMarks(o, t.start, t.end, function (t) {
          t.forEach(function (e) {
            i._marks[e.id] = e
          }, i), i._loadedRange = i._rangeUnion(e, i._loadedRange), i.onNeedRepaint.fire()
        }, n))
      }, n.prototype._createTooltip = function () {
        return new o
      }, n.prototype.updatePlateData = function (e, t) {
        return t.barWidth = this.barWidth(), t.text = e.text, t.tooltipMargin = -1 * Math.max(e.minSize / 2, .4 * this.barWidth()), t
      }, n.prototype.hasContextMenu = function () {
        return !1
      }, inherit(o, s), o.prototype._createLayout = function () {
        this._layout = $('<div class="bar-mark-tooltip"></div>'), this._layout_text = $('<div class="text"></div>').appendTo(this._layout)
      }, o.prototype._updatePlate = function (e) {
        this._currentId = e.id, this._layout.css("border-color", e.theme.border), this._layout.css("margin-top", e.tooltipMargin + "px"), this._layout_text.html(e.text), this._layout.append(this._layout_text)
      }, e.exports = n
    },
    sFgq: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(t, i, n) {
          var r, s, a = this;
          if (this._options = $.extend({}, this._defaultOptions, n || {}), this._$wrapper = t, this._$wrapper.addClass(o.wrapper), this._$content = i, this._scroll_speed = 40, this._shadow_offset = 10, this._header_height = this._options.headerHeight, this._scroll_margin_top = this._options.scrollMarginTop, this.scrolled = new e, this.scrolltoend = new e, this.scrolltostart = new e, this.visibilityCallbacks = [], this._touch = Modernizr.touch, this._touch) return this._$content.css("position", "relative"), void this._$wrapper.addClass(o.touch).scroll(this._onScroll.bind(this));
          this._$wrapper.css("overflow", "hidden"), this._$wrapper.on("mouseenter.sidebar-scroll", function () {
            a._bottomFixed || a._dragging || (a._options.alwaysVisible || a._$scrollBar.addClass("active"), a._onScroll())
          }).on("mouseleave.sidebar-scroll", function () {
            a._bottomFixed || a._dragging || (a._options.alwaysVisible || a._$scrollBar.removeClass("active"), a._onScroll())
          }).on("mousewheel.sidebar-scroll", function (e) {
            if (!e.isDefaultPrevented()) {
              var t = e.deltaY * (e.deltaFactor / 100);
              return a.scroll(t)
            }
          }), !1 !== this._options.showTopShadow && (this._$shadowTop = $('<div class="sb-inner-shadow top i-invisible">').appendTo(this._$wrapper)), !1 !== this._options.showBottomShadow && (this._$shadowBottom = $('<div class="sb-inner-shadow">').appendTo(this._$wrapper)), this._$shadowTop && this._header_height && this._$shadowTop.css("top", this._header_height - this._shadow_offset), r = this._options.additionalClass ? " " + this._options.additionalClass : "", s = this._options.alwaysVisible ? " active-always" : "", this._$scrollBarWrapper = $('<div class="sb-scrollbar-wrap">').appendTo(this._$wrapper), this._$scrollBar = $('<div class="sb-scrollbar sb-scrollbar-body' + r + s + '"></div>').appendTo(this._$scrollBarWrapper), this._onScroll()
        }
        var o, r = i("5qpw").lazyJqueryUI;
        i("nzny"), o = i("pLUm"), n.prototype.isTouch = function () {
          return this._touch
        }, n.prototype.getScrollBar = function () {
          return this._$scrollBar
        }, n.prototype._defaultOptions = {
          headerHeight: 0,
          additionalClass: "",
          alwaysVisible: !1,
          showBottomShadow: !0,
          scrollMarginTop: 1,
          bubbleScrollEvent: !1
        }, n.prototype.initDraggable = function () {
          if (this._dragInitialized) return this;
          var e = this;
          return r(this._$scrollBar).draggable({
            axis: "y",
            containment: this._$scrollBarWrapper,
            start: function () {
              e._dragging = !0
            },
            stop: function () {
              e._dragging = !1
            },
            drag: function (t, i) {
              e.updateScroll()
            }
          }), this._dragInitialized = !0, this
        }, n.prototype.updateScroll = function () {
          var e, t, i, n, o;
          return this._touch ? this : (e = 1, t = Math.ceil(this._$scrollBar.position().top - this._scroll_margin_top - this._header_height), i = this.getContainerHeightWithoutHeader(), o = (n = this._$content.outerHeight()) - i - e, i <= 0 ? this : (this._scroll_target_top = o <= 0 ? this._header_height : Math.min(-t * n / i + this._header_height, this._header_height), t + this._$scrollBar.height() + 2 >= i ? this.scrollToEnd() : (this._$content.css("top", this._scroll_target_top + "px"), this._onScroll()), this))
        }, n.prototype.getContainerHeightWithoutHeader = function () {
          return this._$wrapper[0].getBoundingClientRect().height - this._header_height
        }, n.prototype.getContainerHeight = function () {
          return this._$wrapper[0].getBoundingClientRect().height
        }, n.prototype.getContentHeight = function () {
          return this._$content[0].getBoundingClientRect().height
        }, n.prototype.updateScrollBar = function () {
          var e, t, i, n, o, r, s, a, l;
          return this._touch ? this : (e = 1, t = this._$content.position().top, i = this.getContentHeight(), n = this.getContainerHeight(), o = this.getContainerHeightWithoutHeader(), r = e + this._header_height, s = o - 2 * e, a = (Math.abs(t) - this._header_height) * s / i, l = n * n / i, this.isContentShort() ? (this._$scrollBar.addClass("js-hidden"), this._$wrapper.removeClass("sb-scroll-active")) : (this._$scrollBar.removeClass("js-hidden").height(l).css("top", r + a), this._$wrapper.addClass("sb-scroll-active"), this.initDraggable()), this)
        }, n.prototype.scroll = function (e, t) {
          var i = this._$content.position().top,
            n = this._$content.outerHeight(),
            o = this.getContainerHeightWithoutHeader(),
            r = n - o - 1,
            s = t || this._scroll_speed;
          return r <= 0 || (this._scroll_target_top = Math.max(-r + this._header_height, Math.min(this._header_height, i + e * s)), this.setContentTop(this._scroll_target_top), this._onScroll())
        }, n.prototype.animateTo = function (e) {
          var t;
          return this._touch ? this : (t = this._$content.outerHeight() - this.getContainerHeightWithoutHeader() - 1) <= 0 || (this._scroll_target_top = Math.max(-t + this._header_height, Math.min(this._header_height, -e)), void this._$content.animate({
            top: this._scroll_target_top
          }, 500, function () {
            this._onScroll()
          }.bind(this)))
        }, n.prototype.resize = function () {
          var e, t;
          this._bottomFixed || (e = this._$content.outerHeight(), t = this._$wrapper.outerHeight(), !this._options.vAlignBottom && e < t ? this.atStart() || this.scrollToStart() : this.atEnd() ? this.scrollToEnd() : "number" == typeof this._stickyBottom && this.setContentTop(Math.min(0, this._stickyBottom + this._$wrapper.outerHeight() - this._$content.outerHeight())))
        }, n.prototype.resizeHeader = function (e) {
          var t = e - this._header_height;
          this._header_height = e, this._scroll_target_top += t, this._$shadowTop && this._$shadowTop.css("top", this._header_height - this._shadow_offset), this.resize()
        }, n.prototype.scrollTo = function (e, t) {
          var i, n, o, r, s;
          if (t = $.extend({
              position: "visible",
              areaHeight: e instanceof $ ? e.height() : 0
            }, t), e instanceof $ && (e = t.offsetTop || e.position().top), i = this._$content.position().top, this._$content.outerHeight() - (n = this.getContainerHeightWithoutHeader()) - 1 <= 0) return !0;
          if (r = (o = -1 * (i - this._header_height)) + n, s = 0, "visible" === t.position) {
            if (e > o && e + t.areaHeight < r) return !1;
            s = e + t.areaHeight > r ? r - e - t.areaHeight : o - e
          } else "top" === t.position && (s = o - e);
          return this.scroll(s, 1), this._onScroll(), !1
        }, n.prototype.scrollToEnd = function () {
          var e = 1,
            t = this._$content.position().top,
            i = this._$content.outerHeight(),
            n = this._$wrapper.outerHeight(),
            o = i + t,
            r = i > n ? t + (n - o) + e : e;
          return this.setContentTop(r), this._onScroll(), this
        }, n.prototype.scrollToStart = function () {
          return this.setContentTop(this._header_height), this._onScroll(), this
        }, n.prototype.currentPosition = function () {
          return Math.round(this._$content.position().top)
        }, n.prototype.atStart = function () {
          return Math.round(this._$content.position().top) >= this._header_height
        }, n.prototype.atEnd = function (e) {
          var t, i, n, o;
          return "number" == typeof e && isFinite(e) || (e = 0), t = 1, i = Math.round(this._$content.position().top), n = this._$content.outerHeight(), o = this._$wrapper.outerHeight(), n - Math.abs(i) - t <= o + e
        }, n.prototype._onScroll = function (e) {
          var t, i;
          return this._touch || this._$content.css("bottom", "auto"), this.scrolled.fire(), this._dragging && !0 !== e || this.updateScrollBar(), t = this.atStart(), i = this.atEnd(), this._$shadowTop && this._$shadowTop.toggleClass("i-invisible", !!t), this._$shadowBottom && this._$shadowBottom.toggleClass("i-invisible", !!i), this._onContentVisible(), !this._atStart && t ? (this._atStart = !0, this.scrolltostart.fire()) : this._atStart && !t && delete this._atStart, !this._atEnd && i ? (this._atEnd = !0, this.scrolltoend.fire()) : this._atEnd && !i && delete this._atEnd,
            this._options.vAlignBottom && (this._stickyBottom = this._$content.outerHeight() - Math.abs(this._$content.position().top) - this._$wrapper.outerHeight()), !(!this._atStart && !this._atEnd || ("function" == typeof this._options.bubbleScrollEvent ? !this._options.bubbleScrollEvent() : !this._options.bubbleScrollEvent))
        }, n.prototype.checkContentVisibility = function () {
          this._onContentVisible()
        }, n.prototype.subscribeToContentVisible = function (e, t, i) {
          this.visibilityCallbacks.push({
            id: e,
            $el: t,
            callback: i
          })
        }, n.prototype.triggerVisibilityCallbacks = function (e) {
          this._onContentVisible(e)
        }, n.prototype._contentIsVisible = function (e) {
          return e.$el.position().top > -1 * this.currentPosition()
        }, n.prototype._onContentVisible = function (e) {
          var t, i, n;
          this.visibilityCallbacks.length && (t = e || this._contentIsVisible.bind(this), i = [], n = this.visibilityCallbacks.filter(function (e, n) {
            if (!$.contains(this._$content, e.$el[0])) return !1;
            var o = t(e);
            return o && i.push(n), !o
          }, this), i.forEach(function (t) {
            this.visibilityCallbacks[t].callback(!!e)
          }, this), delete this.visibilityCallbacks, this.visibilityCallbacks = n)
        }, n.prototype.save = function () {
          return this._saved = {
            top: this._$content.position().top,
            height: this._$content.outerHeight()
          }, this
        }, n.prototype.restore = function () {
          if (this._saved) {
            if (this._saved.top === this._$content.position().top && this._saved.height === this._$content.outerHeight()) return delete this._saved, this;
            this._options.vAlignBottom && (this._saved.top -= this._$content.outerHeight() - this._saved.height, this._saved.top > this._header_height && (this._saved.top = this._header_height)), this.setContentTop(this._saved.top), delete this._saved, this._onScroll(!0)
          }
          return this
        }, n.prototype.fixBottom = function () {
          var e, t;
          return this._bottomFixed ? this : (this._touch ? (e = this._$content.outerHeight(), t = this._$wrapper.scrollTop(), this._tempIntervalID = setInterval(function () {
            this._$wrapper.scrollTop(t + (this._$content.outerHeight() - e))
          }.bind(this), 0)) : this._$content.css({
            top: "auto",
            bottom: this._$wrapper.outerHeight() - this._$content.position().top - this._$content.outerHeight()
          }), this._bottomFixed = !0, this)
        }, n.prototype.releaseBottom = function () {
          return this._bottomFixed ? (this._touch ? clearInterval(this._tempIntervalID) : this._$content.css({
            top: this._$content.position().top,
            bottom: "auto"
          }), delete this._bottomFixed, this._onScroll(), this) : this
        }, n.prototype.setContentTop = function (e) {
          return this._touch ? this._options.vAlignBottom && this._$content.outerHeight() < this._$wrapper.outerHeight() ? (this._$wrapper.css("overflow-y", "visible"), this._$content.css({
            position: "absolute",
            bottom: 0
          })) : (this._$content.css({
            position: "relative",
            bottom: "auto"
          }), this._$wrapper.css("overflow-y", "auto"), this._$wrapper.scrollTop(-e)) : this._$content.css("top", e), this
        }, n.prototype.isContentShort = function () {
          var e = this.getContentHeight(),
            t = this.getContainerHeightWithoutHeader();
          return e <= t
        }, n.prototype.destroy = function () {
          this._$scrollBarWrapper && this._$scrollBarWrapper.remove(), this._$shadowBottom && this._$shadowBottom.remove(), this._$shadowTop && this._$shadowTop.remove(),
            this._$wrapper.attr("style", "").off("mouseenter.sidebar-scroll").off("mouseleave.sidebar-scroll").off("mousewheel.sidebar-scroll"), this._$content.attr("style", "")
        }, t.SidebarCustomScroll = n
      }).call(this, i("aIyQ"))
    },
    sJA2: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "ThemesApi", function () {
        return r
      }), n = i("nZTW"), o = i("EsvI"), r = function () {
        function e(e) {
          this._opts = e
        }
        return e.prototype.isStdTheme = function () {
          return Promise.resolve(Object(o.isStdTheme)(Object(o.extractThemeFromModel)(this._getActiveChartModel())))
        }, e.prototype.setStdTheme = function (e, t) {
          return void 0 === t && (t = !0), Object(n.a)(Object(o.loadTheme)(e, !0, !1, this._opts.chartWidgetCollection, t))
        }, e.prototype.setStdThemeForLayout = function (e, t) {
          void 0 === t && (t = !0), Object(o.setTheme)(e), t && Object(o.syncTheme)()
        }, e.prototype.getCurrentThemeName = function () {
          return Object(o.getCurrentTheme)().name
        }, e.prototype._getActiveChartModel = function () {
          return this._getActiveChartWidget().model()
        }, e.prototype._getActiveChartWidget = function () {
          return this._opts.chartWidgetCollection.activeChartWidget.value()
        }, e
      }()
    },
    sWfm: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "TimeAxisViewRenderer", function () {
        return r
      }), n = i("jFln"), o = /[1-9]/g, r = function () {
        function e() {
          this._data = null
        }
        return e.prototype.setData = function (e) {
          this._data = e
        }, e.prototype.draw = function (e, t) {
          var i, r, s, a, l, c, u, h, d, p, f, _, m, g;
          null !== this._data && !1 !== this._data.visible && 0 !== this._data.text.length && (e.font = t.font, (i = Math.round(t.widthCache.measureText(e, this._data.text, o))) <= 0 || (s = (r = i + 2 * t.paddingHorizontal) / 2, a = this._data.width, l = this._data.coordinate, (c = Math.floor(l - s) + .5) < 0 ? (l += Math.abs(0 - c), c = Math.floor(l - s) + .5) : c + r > a && (l -= Math.abs(a - (c + r)), c = Math.floor(l - s) + .5), u = c + r, d = (h = -.5) + t.borderSize + t.paddingTop + t.fontSize + t.paddingBottom, e.fillStyle = this._data.background, e.lineWidth = 1, Object(n.drawRoundRect)(e, c, h, u - c, d - h, 1), e.fill(), p = Math.round(this._data.coordinate + 1), _ = (f = h) + t.borderSize + t.tickLength, e.strokeStyle = this._data.color, e.beginPath(), e.moveTo(p, f), e.lineTo(p, _), e.stroke(), e.fillStyle = this._data.color, e.textAlign = "center", m = Math.round(c + s + .5), g = d - t.baselineOffset - t.paddingBottom, e.fillText(this._data.text, m, g)))
        }, e
      }()
    },
    sg6D: function (e, t, i) {
      "use strict";
      var n = i("/ELx"),
        o = n.extend({
          initialize: function () {
            this.on("fired", function () {
              var e = this.get("alert");
              e && e.trigger("fired", this)
            }.bind(this))
          },
          _prepareToSet_fireTime: function (e) {
            return new Date(1e3 * e)
          },
          _prepareToSet_barTime: function (e) {
            return new Date(1e3 * e)
          },
          _prepareToSet_alertId: function (e) {
            return parseInt(e)
          },
          fireTimeReadable: function () {
            return this._formatDate(this.get("fireTime"))
          },
          fireTimeUnix: function () {
            return Math.round(this.get("fireTime").getTime() / 1e3)
          }
        });
      e.exports = o
    },
    sw9I: function (e, t, i) {
      "use strict";

      function n(e, t, i, o) {
        if (this.chart = e, this.paneA = e.paneWidgets()[t], this.paneB = e.paneWidgets()[i], this.jqRow = $(document.createElement("tr")), this.jqRow.height(n.HEIGHT), this.jqCell = $(document.createElement("td")), this.jqCell.appendTo(this.jqRow), this.jqCell.addClass("pane-separator"), this.jqCell.attr("colspan", "3"),
          this.jqCell.css("background", this.chart.properties().scalesProperties.lineColor.value()), this.jqCell.click(function () {}), o) this._mouseEventHandler = null;
        else {
          var s = document.createElement("div");
          s.classList.add("handle"), this.jqCell.append(s), this._mouseEventHandler = new r(s, this, !0)
        }
      }
      var o, r;
      i("bc0y"), o = i("Hr11").clamp, r = i("S8xo").MouseEventHandler, n.prototype.destroy = function () {
        null !== this._mouseEventHandler && this._mouseEventHandler.destroy(), this.jqRow.remove()
      }, n.HEIGHT = 1, n.prototype.hide = function () {
        this.jqRow.addClass("js-hidden")
      }, n.prototype.show = function () {
        this.jqRow.removeClass("js-hidden")
      }, n.prototype.mouseDownEvent = function (e) {
        this.startY = e.pageY, this.deltaY = 0, this.totalHeight = this.paneA.size.h + this.paneB.size.h, this.totalStretch = this.paneA.stretchFactor() + this.paneB.stretchFactor(), this.prevStretchA = this.paneA.stretchFactor(), this.minPaneHeight = 30, this.maxPaneHeight = this.totalHeight - this.minPaneHeight, this.pixelStretchFactor = this.totalStretch / this.totalHeight
      }, n.prototype.pressedMouseMoveEvent = function (e) {
        var t, i, n;
        e.preventDefault(), this.deltaY = e.pageY - this.startY, t = this.paneA.size.h, i = o(t + this.deltaY, this.minPaneHeight, this.maxPaneHeight) * this.pixelStretchFactor, n = this.totalStretch - i, this.paneA.setStretchFactor(i), this.paneB.setStretchFactor(n), this.chart._adjustSize(), this.paneA.size.h !== t && (this.startY = e.pageY), this.chart.paint()
      }, n.prototype.mouseUpEvent = function (e) {
        this.chart._model.addPaneStretchFactorUndoCommand(this.paneA._state, this.paneB._state, this.prevStretchA, this.paneA.stretchFactor()), this.startY = 0, this.deltaY = 0, this.totalHeight = 0, this.totalStretch = 0, this.minPaneHeight = 0, this.maxPaneHeight = 0, this.pixelStretchFactor = 0
      }, n.prototype.update = function () {
        this.jqCell.css("background", this.chart.properties().scalesProperties.lineColor.value())
      }, n.prototype.paint = function () {}, n.prototype.image = function () {
        var e = {},
          t = n.HEIGHT,
          i = this.paneA.leftPriceAxisesContainer().getWidth(),
          o = this.paneA.size.w,
          r = this.paneA.rightPriceAxisesContainer().getWidth(),
          s = $('<canvas width="' + i + '" height="' + t + '">')[0],
          a = s.getContext("2d");
        return a.fillStyle = this.chart.properties().scalesProperties.lineColor.value(), a.fillRect(0, 0, i, t), e.leftAxis = {
          content: s.toDataURL(),
          contentWidth: i,
          contentHeight: t
        }, (a = (s = $('<canvas width="' + o + '" height="' + t + '">')[0]).getContext("2d")).fillStyle = this.chart.properties().scalesProperties.lineColor.value(), a.fillRect(0, 0, o, t), e.content = s.toDataURL(), e.contentWidth = o, e.contentHeight = t, (a = (s = $('<canvas width="' + r + '" height="' + t + '">')[0]).getContext("2d")).fillStyle = this.chart.properties().scalesProperties.lineColor.value(), a.fillRect(0, 0, r, t), e.rightAxis = {
          content: s.toDataURL(),
          contentWidth: r,
          contentHeight: t
        }, e
      }, e.exports = n
    },
    swlf: function (e, t, i) {
      "use strict";
      i("lH3v"), e.exports = function (e, t) {
        function i(e) {
          e.stopPropagation(), e.preventDefault();
          var t = e.target.dataset.click;
          t && "function" == typeof r[t] && r[t](e)
        }

        function n() {
          s.classList.add(h), s.removeEventListener("click", i), s.innerHTML = "", a.removeEventListener("click", n)
        }
        var o, r, s, a, l, c = "js-lang-form",
          u = "js-tv-expected-language",
          h = "js-hidden",
          d = '<div class="tv-expected-language__title"><span class="tv-expected-language__title-text">{{title}}</span></div><div class="tv-expected-language__description">{{description}}</div><div class="tv-expected-language__go"><button class="tv-button tv-button--primary" data-click="yes">{{yes}}</button></div><div class="tv-expected-language__stay"><button class="tv-button tv-button--link" data-click="no">Stay on current version</button></div>',
          p = {
            ru: {
              title: "TradingView Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼",
              description: "ÐšÐ¾Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ñ ÐœÐ¾ÑÐºÐ¾Ð²ÑÐºÐ¾Ð¹ Ð‘Ð¸Ñ€Ð¶Ð¸ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸, Ñ€ÑƒÑÑÐºÐ¾ÑÐ·Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð¸ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐµÑ‚Ð¸, Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð´ÐµÐ¸ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´Ñ€ÑƒÐ³Ð¾Ðµ.",
              yes: "ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° Ñ€ÑƒÑÑÐºÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ"
            },
            ja: {
              title: "TradingViewæ—¥æœ¬",
              description: "ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æ©Ÿèƒ½ãŒæ—¥æœ¬èªžã§ã”è¦§ã«ãªã‚Œã¾ã™ã€‚ã‚ãªãŸã¯ã€ã”è‡ªèº«ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ—¥æœ¬èªžã§å…¬é–‹ã—ã€ã¾ãŸé‡‘èžé–¢é€£ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹äº‹ãŒã§ãã‚‹ã®ã§ã™ã€‚",
              yes: "æ—¥æœ¬èªžã¸åˆ‡ã‚Šæ›¿ãˆ"
            },
            es: {
              title: "TradingView en EspaÃ±ol",
              description: "Datos intradÃ­a de BME estÃ¡n disponibles a tiempo real, la plataforma y funcionalidades de red social han sido traducidas al EspaÃ±ol, puede publicar sus ideas y ver los datos financieros mÃ¡s relevantes en EspaÃ±ol!",
              yes: "Cambiar a EspaÃ±ol"
            },
            tr: {
              title: "TradingView TÃ¼rkÃ§ede",
              description: "GÃ¼n iÃ§i piyasa verileri gerÃ§ek zamanda, grafikler ve sosyal Ã¶zellikler TÃ¼rkÃ§eye Ã§evrilmiÅŸ. Fikirlerinizi TÃ¼rkÃ§ede yazÄ±n, en ilgili finansal bilgiler TÃ¼rkÃ§ede!",
              yes: "TÃ¼rkÃ§eye GeÃ§"
            },
            ca: {
              title: "TradingView Canada",
              description: "Traders publish ideas on local stocks, indexes and currencies and relevant content is shown for each region. Toronto Stock Exchange data is right at your fingertips.",
              yes: "Go to the Canada version"
            },
            uk: {
              title: "TradingView UK",
              description: "Traders publish ideas on local stocks, indexes and currencies and relevant content is shown for each region. London Stock Exchange (including International Companies) data is right at your fingertips.",
              yes: "Go to the UK version"
            },
            id: {
              title: "TradingView Indonesia",
              description: "Para trader bisa berbagi ide pada berbagai instrument trading termasuk saham / Stock, Index, Mata uang / Forex dan diskusi kondisi pasar dgn sarana chatting.",
              yes: "Versi Bahasa Indonesia"
            },
            in: {
              title: "TradingView India",
              description: "Traders publish ideas on local stocks, indexes and currencies and relevant content is shown for each region. Bombay Stock Exchange data is right at your fingertips.",
              yes: "Go to the India version"
            },
            it: {
              title: "TradingView in Italiano",
              description: "Tutte le funzioni della piattaforma, sia analitiche che social, tradotte in italiano. Gli stessi dati intraday aggiornati in tempo reale. Pubblica le tue idee e controllare le ultime notizie finanziarie nella tua lingua madre!",
              yes: "Passa all' Italiano"
            },
            br: {
              title: "TradingView Brasil",
              description: "Disponibilizamos dados intradiÃ¡rios da BMF&Bovespa em tempo real, plataforma e ferramentas sociais, bem como espaÃ§o para publicar suas ideias e checar os mais relevantes dados financeiros tudo em portuguÃªs!",
              yes: "Mudar para a versÃ£o Brasileira"
            },
            kr: {
              title: "í•œê¸€ë¡œ ë³´ëŠ” TradingView",
              description: "í”Œëž«í¼ê³¼ ì†Œì…œê¸°ëŠ¥ì´ í•œêµ­ì–´ë¡œ ë²ˆì—­ë˜ì–´ ì œê³µë˜ë©°, ë§ˆì¼“ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°›ì•„ ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì•„ì´ë””ì–´ë¥¼ í¼ë¸”ë¦¬ì‰¬í•˜ë©´ì„œ ì•„ìš¸ëŸ¬ ê·¸ì™€ ê´€ë ¨í•œ ê¸ˆìœµ ì •ë³´ ë° ë°ì´í„°ë¥¼ í•œê¸€ë¡œ ë°›ì•„ ë³´ì‹¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤!",
              yes: "í•œê¸€ë¡œ ë³´ê¸°"
            },
            au: {
              title: "TradingView Australia",
              description: "Traders publish ideas on local stocks, indices and currencies. Australian Securities Exchange (ASX) and New Zealand Exchange (NZX) data is right at your fingertips.",
              yes: "Go to the Australia version"
            },
            fr: {
              title: "TradingView France",
              description: "Les traders partagent leurs idÃ©es et stratÃ©gies sur les actions franÃ§aises et internationales, les indices boursiers et les devises. Les cotations de la Bourse de Paris vous sont Ã  portÃ©e de main.",
              yes: "Basculer vers la version francophone"
            },
            pl: {
              title: "TradingView Polska",
              description: "Wszystkie funkcje wykresÃ³w i platformy spoÅ‚ecznoÅ›ciowej sÄ… dostÄ™pne po polsku, moÅ¼na wyÅ›wietlaÄ‡ swoje pomysÅ‚y i analizowaÄ‡ wykresy w jÄ™zyku ojczystym!",
              yes: "PrzejdÅº do wersji Polskiej!"
            },
            de_DE: {
              title: "TradingView auf Deutsch",
              description: "Mit Intraday realtime Marktdaten (Frankfurt, Stuttgart, Xetra) . Unsere Plattform und dessen soziale Funktionen sind nun in deutscher Sprache verfÃ¼gbar: so kÃ¶nnen Sie relevante Finanzdaten in deutsch folgen und Ideen verÃ¶ffentlichen!",
              yes: "Zur deutschen Sprache wechseln"
            },
            ms_MY: {
              title: "TradingView dalam Melayu",
              description: "Data pasaran intrahari yang ada dalam masa nyata, ciri-ciri platfrom dan social yang diterjemahkan dalam Bahasa Melayu, anda boleh menerbitkan idea anda atau menyemak data kewangan berkaitan yang terkini dalam Bahasa Melayu!",
              yes: "Tukar kepada Melayu"
            },
            vi_VN: {
              title: "TradingView Viá»‡t Nam",
              description: "Dá»¯ liá»‡u thá»‹ trÆ°á»ng trong ngÃ y cÃ³ sáºµn theo thá»i gian thá»±c, ná»n táº£ng vÃ  cÃ¡c tÃ­nh nÄƒng máº¡ng xÃ£ há»™i Ä‘Æ°á»£c dá»‹ch sang Tiáº¿ng Viá»‡t, báº¡n cÃ³ thá»ƒ xuáº¥t báº£n Ã½ tÆ°á»Ÿng cá»§a báº¡n vÃ  kiá»ƒm tra dá»¯ liá»‡u tÃ i chÃ­nh cÃ³ liÃªn quan nháº¥t báº±ng Tiáº¿ng Viá»‡t!",
              yes: "Chuyá»ƒn sang Tiáº¿ng Viá»‡t"
            },
            th_TH: {
              title: "TradingView à¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢",
              description: "à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸¥à¸²à¸”à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸§à¸±à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰à¹ƒà¸™à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ à¹à¸žà¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹à¸¥à¸°à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸”à¹‰à¸²à¸™à¹‚à¸‹à¹€à¸Šà¸µà¸¢à¸¥à¸•à¹ˆà¸²à¸‡à¹†à¸™à¸±à¹‰à¸™à¹„à¸”à¹‰à¸–à¸¹à¸à¹à¸›à¸¥à¹ƒà¸«à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹ƒà¸™à¸ à¸²à¸©à¸²à¹„à¸—à¸¢ à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸œà¸¢à¹à¸žà¸£à¹ˆà¹„à¸­à¹€à¸”à¸µà¸¢à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹à¸¥à¸°à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸”à¹‰à¸²à¸™à¸à¸²à¸£à¹€à¸‡à¸´à¸™à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™à¸ à¸²à¸©à¸²à¹„à¸—à¸¢!",
              yes: "à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸›à¹‡à¸™à¸ à¸²à¸©à¸²à¹„à¸—à¸¢"
            },
            zh_CN: {
              title: "TradingView ä¸­å›½",
              description: "å®žæ—¶çš„æ—¥å†…å¸‚åœºæ•°æ®ï¼Œå¹³å°å’Œç¤¾äº¤åŠŸèƒ½éƒ½å·²ç»ç¿»è¯‘æˆä¸­æ–‡ï¼Œæ‚¨å¯ä»¥å‘è¡¨æ‚¨çš„è§‚ç‚¹ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸­æ–‡æŸ¥è¯¢å¤§éƒ¨åˆ†ç›¸å…³çš„è´¢ç»ä¿¡æ¯ï¼",
              yes: "åˆ‡æ¢åˆ°ç®€ä½“ä¸­æ–‡"
            },
            zh_TW: {
              title: "TradingView å°ç£/ é¦™æ¸¯",
              description: "æä¾›å³æ™‚å¸‚å ´æ•¸æ“šï¼ŒåŒ…æ‹¬å°ç£è­‰åˆ¸äº¤æ˜“æ‰€å’Œé¦™æ¸¯äº¤æ˜“æ‰€çš„å®˜æ–¹æ•¸æ“šï¼Œå¹³å°å’Œç¤¾äº¤åŠŸèƒ½å…¨ä¸­æ–‡åŒ–ï¼Œæ‚¨å¯ä»¥ç”¨ä¸­æ–‡ç™¼å¸ƒæ‚¨çš„æŠ•è³‡æƒ³æ³•ä¸¦æŸ¥é–±ç›¸é—œçš„ä¸­æ–‡è²¡å‹™æ•¸æ“šï¼",
              yes: "åˆ‡æ›åˆ°ç¹é«”ä¸­æ–‡ç‰ˆ"
            },
            sv_SE: {
              title: "TradingView Swedish",
              description: "Intradags marknadsdata, Ã¤ven OMX data, tillgÃ¤nglig i realtid, plattform och sociala funktioner Ã¤r Ã¶versatta till svenska, du kan publicera dina idÃ©er och kolla mest relevanta finansiella data pÃ¥ svenska!",
              yes: "Go to the Swedish version"
            },
            hu_HU: {
              title: "TradingView Hungarian",
              description: "Intraday market data available in real time, platform and social features are translated in Hungary, you may publish your ideas and check most relevant financial data in Hungary!",
              yes: "Go to the Hungarian version"
            },
            ar_AE: {
              title: "Ø§Ù„Ø£Ù† Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ØŒ ØªØ±ÙŠØ¯ÙŠÙ†Ø¬ ÙÙŠÙˆ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!",
              description: "ØªØ§Ø¨Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø£Ø³Ù‡Ù… Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ÙˆØ§Ù„Ù…ØµØ±ÙŠØ© ÙˆØ§Ù„Ø¨Ø­Ø±ÙŠÙ†ÙŠØ©ØŒ ÙˆØªÙ…ØªØ¹ Ø¨Ù…Ù†ØµØ© ØªØ­Ù„ÙŠÙ„ Ù…Ù…ÙŠØ²Ø© ÙˆØ§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©. Ø­ÙŠØ« ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø´Ø± ØªØ­Ù„ÙŠÙ„Ø§ØªÙƒ ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø£Ø®Ø± Ø§Ù„Ù…Ø³ØªØ¬Ø¯Ø§Øª Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!",
              yes: "Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"
            },
            fa_IR: {
              title: "TradingView Iranian",
              description: "Intraday market data available in real time, platform and social features are translated in Iran, you may publish your ideas and check most relevant financial data in Iran!",
              yes: "Go to the Iranian version"
            },
            he_IL: {
              title: "×‘×¢×‘×¨×™×ª TradingView",
              description: "× ×ª×•× ×™× ×ª×•×š-×™×•×ž×™×™× ×ž×‘×•×¨×¡×ª ×ª×œ ××‘×™×‘ ×‘×–×ž×Ÿ ××ž×ª, ×”×ª×›×•× ×•×ª ×”×—×‘×¨×ª×™×•×ª ×•×”×¤×œ×˜×¤×•×¨×ž×” ×ž×ª×•×¨×’×ž×™× ×œ×¢×‘×¨×™×ª, ××ª×” ×¨×©××™ ×œ×¤×¨×¡× ××ª ×”×¨×¢×™×•× ×•×ª ×©×œ×š ×•×œ×‘×—×•×Ÿ ××ª ×”×ž×™×“×¢ ×”×¨×œ×•×•× ×˜×™ ×¢×‘×•×¨×š ×‘×¢×‘×¨×™×ª!",
              yes: "×”×—×œ×£ ×œ×¢×‘×¨×™×ª"
            }
          },
          f = {
            au: "au_locale_enabled",
            ca: "ca_locale_enabled",
            fa_IR: "ir_locale_enabled",
            he_IL: "il_locale_enabled",
            hu_HU: "hu_locale_enabled"
          };
        for (o in f) TradingView.isFeatureEnabled(f[o]) || delete p[o];
        return (r = {}).yes = function () {
          a.language.value = l, a.submit()
        }, r.no = function () {
          e.post("/change_language/", {
            language: "en"
          }, function () {}), n()
        }, {
          init: function (e) {
            s = document.querySelector("." + u), a = document.querySelector("." + c), s && a ? p[e] && window.locale !== e && (l = e, s.addEventListener("click", i), s.innerHTML = t.render(d, p[e]), s.classList.remove(h), a.addEventListener("click", n)) : console.warn("not found css class name " + u + " or " + c)
          },
          destroy: n
        }
      }(window.$, window.Mustache)
    },
    "t/D+": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "FooterWidgetBootloader", function () {
        return r
      }), n = i("mrSG"), o = i("cZRT"), r = function (e) {
        function t(t) {
          var i = e.call(this) || this;
          return i._opts = t, i
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          var e = this;
          return Promise.all([this._opts.bottomWidgetbarBootloader.load(), this._loadFooterWidget()]).then(function (t) {
            var i = t[0],
              n = t[1],
              o = e._opts.resizerBridge;
            return new n(i.footerWidgetContainer(), o, i)
          })
        }, t.prototype._loadFooterWidget = function () {
          return Promise.all([i.e("vendors"), i.e(14), i.e(26), i.e(233), i.e(12), i.e("footer-widget")]).then(i.bind(null, "r5PD")).then(function (e) {
            return e.FooterWidgetRenderer
          })
        }, t
      }(o.a)
    },
    t2ex: function (e, t, i) {
      "use strict";

      function n() {
        s.call(this)
      }

      function o(e, t) {
        this._constructor = "LineToolFibRetracement";
        var r = t || o.createProperties();
        a.call(this, e, r), this.version = o.version, this._properties._stateVersion = 1, e._fibRetracementLabelsCache || (e._fibRetracementLabelsCache = new n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("R7Bt").FibRetracementPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("5rJj"),
        s = i("xUGI"),
        a = i("Ss5c").LineDataSource,
        l = i("hayr").propertyPages;
      inherit(n, s), n.prototype.levelsCount = function () {
          return o.LevelsCount
        }, inherit(o, a), o.version = 2, o.LevelsCount = 24, o.prototype.levelsCount = function () {
          return o.LevelsCount
        }, o.prototype.stop = function () {
          a.prototype.stop.call(this), this._model._fibRetracementLabelsCache.removeSource(this.id())
        }, o.prototype.pointsCount = function () {
          return 2
        }, o.prototype.title = function () {
          return "Fib Retracement"
        }, o.prototype.name = function () {
          return "Fib Retracement"
        },
        o.prototype.migrateVersion = function (e, t, i) {
          1 === e && this.properties().extendLines.setValue(!0)
        }, o.prototype.processErase = function (e, t) {
          var i = "level" + t,
            n = this.properties()[i].visible;
          e.setProperty(n, !1, "Erase level line")
        }, o.prototype.getStylesPropertyPage = function () {
          return l.LineToolFibRetracementStylesPropertyPage
        }, o.createProperties = function (e) {
          var t = new r("linetoolfibretracement", e, !1, {
            range: [1, 24],
            names: ["coeff", "color", "visible"]
          });
          return o._configureProperties(t), t
        }, o._configureProperties = function (e) {
          a._configureProperties(e)
        }, t.LineToolFibRetracement = o
    },
    t2oF: function (e) {
      e.exports = {
        OK: "OK",
        ERR: "ERR",
        SYMBOL_NOT_AVAILABLE_FOR_ANON: "SYMBOL_NOT_AVAILABLE_FOR_ANON",
        DELAY_NOT_AVAILABLE: "DELAY_NOT_AVAILABLE",
        NEED_SIGN_AGREEMENT: "NEED_SIGN_AGREEMENT",
        NEED_ADD_SERVICE: "NEED_ADD_SERVICE"
      }
    },
    t7cu: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n, o, r, s, a, l = 0;
        for (i = 0, n = t; i < n.length && (r = (o = n[i]).min, s = o.max, e < r || s < r || (a = Math.min(e, s), e !== (l = Math.max(l, a)))); i++);
        return l
      }

      function o(e) {
        var t, i, n, o, r, s = [];
        if (void 0 === e) return [];
        for (Array.isArray(e) || (e = [e]), t = 0, i = e; t < i.length; t++) n = i[t], o = void 0, r = void 0, isFinite(n) ? o = r = Number(n) : (o = +n.min, r = +n.max), (o < 0 || isNaN(o)) && (o = 0), isNaN(r) && (r = 1 / 0), o <= r && r > 0 && s.push({
          min: o,
          max: r
        });
        return s.sort(function (e, t) {
          return e.min - t.min || e.max - t.max
        }), s
      }

      function r(e, t) {
        if (e.length !== t.length) return !1;
        for (var i = e.length; i--;) {
          if (e[i].min !== t[i].min) return !1;
          if (e[i].max !== t[i].max) return !1
        }
        return !0
      }
      i.d(t, "a", function () {
        return n
      }), i.d(t, "c", function () {
        return o
      }), i.d(t, "b", function () {
        return r
      })
    },
    tBG4: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "SeriesStatusView", function () {
        return a
      }), n = i("mrSG"), o = i("nBJD"), r = i("tF8J"), s = i("RqCd"), a = function (e) {
        function t(i, n, o) {
          var r = e.call(this, n) || this;
          return r._invalidated = !0, r._series = i, r._statusViewProperties = o, r._series.onRestarted().subscribe(r, t.prototype.invalidate), r._series.dataEvents().symbolResolved().subscribe(r, t.prototype.invalidate), r._series.dataEvents().completed().subscribe(r, t.prototype.invalidate), r._series.onBoxSizeChanged().subscribe(r, t.prototype.invalidate), r._statusViewProperties.childs().symbolTextSource.listeners().subscribe(r, t.prototype.invalidate), r
        }
        return n.__extends(t, e), t.prototype.invalidate = function () {
          this._invalidated = !0, this.update()
        }, t.prototype.getSeriesPrecision = function () {
          var e = 4,
            t = this._series.symbolInfo();
          return t && t.pricescale && (e = Math.round(Math.log(t.pricescale) / Math.log(10))), e
        }, t.prototype.round = function (e) {
          var t = this.getSeriesPrecision(),
            i = Math.round(e * Math.pow(10, t)) / Math.pow(10, t);
          return i ? i.toString() : ""
        }, t.prototype.update = function () {
          this._invalidated && (this._bold = !1, this._size = this._statusViewProperties.childs().fontSize.value() + "px", this._text = Object(r.generateTitleForGui)(this._getTitleGenerationOptions()), this._invalidated = !1)
        }, t.prototype.getSplitTitle = function () {
          return Object(r.generateSplitTitleForGui)(this._getTitleGenerationOptions())
        }, t.prototype._getTitleGenerationOptions = function () {
          var e = this._series.symbolInfo();
          return {
            description: "ticker" === this._statusViewProperties.childs().symbolTextSource.value() ? e && e.name || void 0 : Object(s.getTranslatedSymbolDescription)({
              pro_name: e && e.pro_name || void 0,
              short_name: e && e.name || void 0,
              description: e && e.description || void 0,
              short_description: e && e.short_description || void 0,
              local_description: e && e.local_description || void 0,
              language: e && e.language || void 0
            }),
            exchange: this._statusViewProperties.childs().showExchange.value() && e && e.exchange || void 0,
            symbol: this._series.symbol(),
            interval: this._statusViewProperties.childs().showInterval.value() ? this._series.interval() : void 0,
            style: this._series.properties().childs().style.value(),
            inputs: this._series.getInputsProperties().state(),
            boxSize: this._series.data().boxSize,
            reversalAmount: this._series.data().reversalAmount
          }
        }, t
      }(o.a)
    },
    tDUI: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(t, o) {
          var r, s, c, u, d, p, f, _, m, g = o;
          a.call(this, t, g), o.stopLevel || o.profitLevel || (s = (r = t.timeScale().visibleBarsStrictRange()).firstBar(), c = r.lastBar(), u = t.mainSeries().priceRange(s, c), (d = t.mainSeries().priceScale()).isLog() && (p = d.logicalToPrice(u.minValue()), f = d.logicalToPrice(u.maxValue()), u = new e(p, f)), u && !u.isEmpty() && (_ = Math.round(.2 * u.length() * t.mainSeries().base()), g.merge({
              stopLevel: _,
              profitLevel: _
            }))), m = this, g.stopLevel.listeners().subscribe(this, this.recalculate), g.stopLevel.listeners().subscribe(null, function () {
              m.properties().stopPrice._listeners.fire(m.properties().stopPrice)
            }), g.profitLevel.listeners().subscribe(this, this.recalculate), g.profitLevel.listeners().subscribe(null, function () {
              m.properties().targetPrice._listeners.fire(m.properties().targetPrice)
            }), g.addChild("entryPrice", new n.PriceProperty(this, 0)), g.addChild("stopPrice", new n.StopPriceProperty(this)), g.addChild("targetPrice", new n.TargetPriceProperty(this)), g.addProperty("riskSize", 250), g.addProperty("qty", 0), g.addProperty("amountTarget", g.accountSize.value()), g.addProperty("amountStop", g.accountSize.value()), this._riskInPercentsFormatter = new h(2), this._riskInMoneyFormatter = new h, g.risk.subscribe(this, this._recalculateRiskSize), g.accountSize.subscribe(this, this._recalculateRiskSize), g.riskDisplayMode.subscribe(this, this._recalculateRisk), g.riskDisplayMode.subscribe(this, this._recalculateRiskSize), g.entryPrice.subscribe(this, this._recalculateRiskSize), g.stopPrice.subscribe(this, this._recalculateRiskSize), g.profitLevel.subscribe(this, this._recalculateRiskSize), g.stopLevel.subscribe(this, this._recalculateRiskSize), g.qty.subscribe(this, this._recalculateRiskSize), "percents" === g.riskDisplayMode.value() && g.risk.value() > 100 && g.riskDisplayMode.setValueSilently("money"), this._syncStateExclusions = ["entryPrice", "stopPrice", "targetPrice", "riskSize", "qty", "amountTarget", "amountStop", "risk", "accountSize"], this.version = n.version, this._entryPriceAxisView = new l(this, {
              colorProperty: g.linecolor,
              priceProperty: g.entryPrice
            }), this._stopPriceAxisView = new l(this, {
              colorProperty: g.stopBackground,
              priceProperty: g.stopPrice
            }), this._profitPriceAxisView = new l(this, {
              colorProperty: g.profitBackground,
              priceProperty: g.targetPrice
            }),
            Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
              var t = i("u+oH").RiskRewardPaneView;
              this._setPaneViews([new t(this, this._model)])
            }.bind(this).bind(null, i)).catch(i.oe)
        }

        function o(e, t) {
          var i, r;
          this._constructor = "LineToolRiskRewardShort", i = t || o.createProperties(), n.call(this, e, i), (r = this.properties()).entryPrice.subscribe(this, this._recalculateQty), r.stopPrice.subscribe(this, this._recalculateQty), r.riskSize.subscribe(this, this._recalculateQty), r.entryPrice.subscribe(this, this._recalculateAmount), r.profitLevel.subscribe(this, this._recalculateAmount), r.stopLevel.subscribe(this, this._recalculateAmount), r.accountSize.subscribe(this, this._recalculateAmount), r.riskSize.subscribe(this, this._recalculateAmount), r.qty.subscribe(this, this._recalculateAmount)
        }

        function r(e, t) {
          var i, o;
          this._constructor = "LineToolRiskRewardLong", i = t || r.createProperties(), n.call(this, e, i), (o = this.properties()).entryPrice.subscribe(this, this._recalculateQty), o.stopPrice.subscribe(this, this._recalculateQty), o.riskSize.subscribe(this, this._recalculateQty), o.entryPrice.subscribe(this, this._recalculateAmount), o.profitLevel.subscribe(this, this._recalculateAmount), o.stopLevel.subscribe(this, this._recalculateAmount), o.accountSize.subscribe(this, this._recalculateAmount), o.riskSize.subscribe(this, this._recalculateAmount), o.qty.subscribe(this, this._recalculateAmount)
        }
        var s = i("Eyy1").ensureNotNull,
          a = i("Ss5c").LineDataSource,
          l = i("gMtF").LineToolRiskRewardPriceAxisView,
          c = i("mMWL"),
          u = i("Ocx9").DefaultProperty,
          h = i("zXvd").NumericFormatter,
          d = i("hayr").propertyPages,
          p = i("wGNx").RiskRewardPointIndex,
          f = i("OekH"),
          _ = f.SIDE,
          m = f.ORDERTYPE;
        inherit(n, a), n.prototype.riskFormatter = function (e) {
            return "percents" === e ? this._riskInPercentsFormatter : this._riskInMoneyFormatter
          }, n.prototype.getRiskStep = function (e) {
            return "percents" === e ? .01 : 1
          }, n.prototype._roundValue = function (e) {
            return parseFloat(e.toFixed(2))
          }, n.prototype._recalculateRisk = function () {
            var e = this.properties(),
              t = e.riskDisplayMode.value(),
              i = e.riskSize.value(),
              n = e.accountSize.value(),
              o = e.risk.value();
            o = "percents" === t ? this._roundValue(i / n * 100) : this._roundValue(n / 100 * o), this._riskInChange = !0, e.risk.setValue(this.riskFormatter(t).format(o)), this._riskInChange = !1
          }, n.prototype._recalculateRiskSize = function () {
            var e, t, i, n;
            this._riskInChange || (t = (e = this.properties()).risk.value(), i = e.riskDisplayMode.value(), n = e.accountSize.value(), "percents" === i ? e.riskSize.setValue(t / 100 * n) : t > n ? (e.risk.setValue(n), e.riskSize.setValue(n)) : e.riskSize.setValue(t))
          }, n.version = 2, n.prototype.i18nCache = {
            title: window.t("Risk/Reward")
          }, n.prototype.lastBarData = function () {
            var e, t, i, n, o = this._model.mainSeries().bars().firstIndex(),
              r = this._model.mainSeries().bars().lastIndex();
            return null === o || null === r || isNaN(o) || isNaN(r) ? null : 4 === (e = this.points()).length ? (t = e[p.ActualClose]).index < o ? null : {
              closePrice: t.price,
              index: Math.min(r, t.index)
            } : (i = e[p.Close]).index < o ? null : (n = Math.min(r, i.index), {
              closePrice: s(this._model.mainSeries().bars().valueAt(n))[TradingView.CLOSE_PLOT],
              index: n
            })
          }, n.prototype.migrateVersion = function (e, t, i) {
            var n, o, r, s;
            1 === e && this._points.length >= 1 && ((n = []).push(this._points[0]), o = {
              price: (o = this._points[0]).price,
              index: o.index + 50
            }, n.push(o), this._points[1] && n.push(this._points[1]), this._points[2] && n.push(this._points[2]), this._points = n, this._timePoint.length >= 1 && (r = [], o = this._timePoint[0], r.push(o), s = {
              price: o.price,
              time_t: o.time_t,
              offset: o.offset + 50
            }, r.push(s), this._timePoint[1] && n.push(this._points[1]), this._timePoint[2] && n.push(this._points[2]), this._timePoint = r))
          }, n.prototype.checkAlert = function () {
            this.recalculate()
          }, n.prototype.priceAxisViews = function (e, t) {
            return this.isSourceHidden() ? null : t !== this.priceScale() || this._model.paneForSource(this) !== e ? null : [this._entryPriceAxisView, this._stopPriceAxisView, this._profitPriceAxisView]
          }, n.prototype.updateAllViews = function () {
            this.isActualSymbol() && this._properties.visible.value() && (c.hideAllDrawings().value() && this.userEditEnabled() || (a.prototype.updateAllViews.call(this), this._entryPriceAxisView.update(), this._stopPriceAxisView.update(), this._profitPriceAxisView.update()))
          }, n.prototype.setPoint = function (e, t) {
            switch (e) {
              case 0:
                t.price = this._roundPrice(t.price), a.prototype.setPoint.call(this, e, t), this.recalculate();
                break;
              case 1:
                this.isActualSymbol() && this.properties().stopPrice.setValue(this.preparseStopPrice(t.price));
                break;
              case 2:
                this.isActualSymbol() && this.properties().targetPrice.setValue(this.preparseProfitPrice(t.price));
                break;
              case 3:
                t.price = this._roundPrice(t.price), a.prototype.setPoint.call(this, 1, t), this.recalculate()
            }
          }, n.PriceProperty = function (e, t) {
            a.PointPriceProperty.call(this, e, t)
          }, inherit(n.PriceProperty, a.PointPriceProperty), n.PriceProperty.prototype.setValue = function (e) {
            var t = this._lineSource.points()[this._pointIndex];
            t.price = parseFloat(e), this._lineSource.setPoint(this._pointIndex, t), this._lineSource.recalculate(), this._lineSource._model.updateSource(this._lineSource), this._listeners.fire(this), this._lineSource.endChanging(), this._lineSource._syncMultichartState()
          }, n.StopPriceProperty = function (e) {
            n.PriceProperty.call(this, e, 1)
          }, inherit(n.StopPriceProperty, n.PriceProperty), n.StopPriceProperty.prototype.value = function () {
            var e = this._lineSource.stopPrice(),
              t = this._lineSource.ownerSource().formatter(),
              i = t.parse(t.format(e));
            return null != i.price ? i.price : i.value
          }, n.StopPriceProperty.prototype.setValue = function (e) {
            var t = Math.round(Math.abs(e - this._lineSource.entryPrice()) * this._lineSource._model.mainSeries().base());
            this._lineSource.properties().stopLevel.setValue(t), this._lineSource.properties().stopLevel.listeners().fire(this._lineSource.properties().stopLevel)
          }, n.TargetPriceProperty = function (e) {
            n.PriceProperty.call(this, e, 2)
          }, inherit(n.TargetPriceProperty, n.PriceProperty), n.TargetPriceProperty.prototype.value = function () {
            var e = this._lineSource.profitPrice(),
              t = this._lineSource.ownerSource().formatter(),
              i = t.parse(t.format(e));
            return null != i.price ? i.price : i.value
          }, n.TargetPriceProperty.prototype.setValue = function (e) {
            var t = Math.round(Math.abs(e - this._lineSource.entryPrice()) * this._lineSource._model.mainSeries().base());
            this._lineSource.properties().profitLevel.setValue(t),
              this._lineSource.properties().profitLevel.listeners().fire(this._lineSource.properties().profitLevel)
          }, n.prototype.pointsCount = function () {
            return 1
          }, n.prototype.title = function () {
            return this.i18nCache.title
          }, n.prototype.name = function () {
            return "Risk/Reward"
          }, n.prototype.addPoint = function (e) {
            var t, i;
            return e.price = this._roundPrice(e.price), a.prototype.addPoint.call(this, e, null, !0), t = {
              price: e.price,
              index: e.index + 50
            }, a.prototype._addPointIntenal.call(this, t, null, !0), (i = this.calculateActualEntry(e, t)) && (a.prototype._addPointIntenal.call(this, i, null, !0), (t = this.findClosePoint(i, t)) && a.prototype._addPointIntenal.call(this, t, null, !0)), this._lastPoint = null, this.normalizePoints(), this.createServerPoints(), !0
          }, n.prototype._roundPrice = function (e) {
            var t = this._model.mainSeries().base(),
              i = Math.round(e * t);
            return i / t
          }, n.prototype.recalculate = function () {
            var e, t, i, n, o;
            this.properties().interval.value() === this._model.mainSeries().interval() && 0 !== this.points().length && (e = this.properties().targetPrice.value(), t = this.properties().stopPrice.value(), i = [this._points[0], this._points[1]], (n = this.calculateActualEntry(this.points()[0], this.points()[1])) && (i.push(n), (o = this.findClosePoint(n, this.points()[1])) && i.push(o)), this._points = i, e !== this.properties().targetPrice.value() && this.properties().targetPrice._listeners.fire(this.properties().targetPrice), t !== this.properties().stopPrice.value() && this.properties().stopPrice._listeners.fire(this.properties().stopPrice))
          }, n.prototype.start = function () {
            a.prototype.start.call(this), this.recalculate()
          }, n.prototype.startMoving = function (e, t, i) {
            e.logical.price = this._roundPrice(e.logical.price), a.prototype.startMoving.call(this, e, t, i)
          }, n.prototype.move = function (e, t, i) {
            e.logical.price = this._roundPrice(e.logical.price), a.prototype.move.call(this, e, t, i), this.recalculate(), this._entryPriceAxisView.update()
          }, n.prototype.correctPoints = function (e) {
            return !!this.isActualSymbol() && a.prototype.correctPoints.call(this, [e[0], e[1]])
          }, n.prototype.entryPrice = function () {
            return this.points()[0].price
          }, n.prototype.findClosePoint = function (e, t) {
            var i, n, o, r = this._model.mainSeries().bars(),
              a = s(r.firstIndex()),
              l = Math.max(e.index, a),
              c = s(r.lastIndex());
            for (i = l; i <= Math.min(c, t.index); i++)
              if (n = s(r.valueAt(i)), null != (o = this.checkStopPrice(n))) return {
                index: i,
                price: o
              };
            return null
          }, n.prototype.calculateActualEntry = function (e, t) {
            var i, n, o = this._model.mainSeries().bars(),
              r = s(o.firstIndex()),
              a = Math.max(e.index, r),
              l = e.price,
              c = s(o.lastIndex());
            for (i = a; i <= Math.min(c, t.index); i++)
              if ((n = s(o.valueAt(i)))[TradingView.HIGH_PLOT] >= l && n[TradingView.LOW_PLOT] <= l) return {
                index: i,
                price: l
              };
            return null
          }, n.prototype.axisPoints = function () {
            var e, t, i;
            if (!this._points[p.ActualEntry]) return [];
            if (e = this._points[p.ActualEntry], t = null, 4 === this._points.length) t = this._points[p.ActualClose];
            else {
              if (!(i = this.lastBarData())) return [];
              t = {
                index: i.index,
                price: i.closePrice
              }
            }
            return [e, t]
          }, n.prototype.getInputsPropertyPage = function () {
            return d.LineToolRiskRewardInputsPropertyPage
          }, n.prototype.getStylesPropertyPage = function () {
            return d.LineToolRiskRewardStylesPropertyPage
          },
          n.prototype.getOrderTemplate = function () {
            var e = this.properties();
            return {
              qty: e.qty.value(),
              limitPrice: e.entryPrice.value(),
              stopLoss: e.stopPrice.value(),
              takeProfit: e.targetPrice.value(),
              side: this._orderSide(),
              type: m.LIMIT
            }
          }, n._configureProperties = function (e) {
            a._configureProperties(e), e.addExclusion("stopLevel"), e.addExclusion("profitLevel")
          }, inherit(o, n), o.prototype.i18nCache = {
            title: window.t("Risk/Reward short")
          }, o.prototype._recalculateQty = function () {
            var e, t, i, n, o;
            0 !== this.points().length && (t = (e = this.properties()).entryPrice.value(), i = e.stopPrice.value(), n = e.riskSize.value(), o = Math.floor(n / Math.abs(i - t)), e.qty.setValue(o))
          }, o.prototype._recalculateAmount = function () {
            var e, t, i, n, o, r, s, a;
            0 !== this.points().length && (t = (e = this.properties()).accountSize.value(), i = e.entryPrice.value(), n = e.qty.value(), o = e.stopPrice.value(), r = e.targetPrice.value(), s = this._roundValue(t + (i - r) * n), a = this._roundValue(t - (o - i) * n), e.amountTarget.setValue(s), e.amountStop.setValue(a))
          }, o.prototype.title = function () {
            return this.i18nCache.title
          }, o.prototype.name = function () {
            return "Risk/Reward short"
          }, o.prototype.stopPrice = function () {
            return this.entryPrice() + this.properties().stopLevel.value() / this._model.mainSeries().base()
          }, o.prototype.profitPrice = function () {
            return this.entryPrice() - this.properties().profitLevel.value() / this._model.mainSeries().base()
          }, o.prototype.calculatePL = function (e) {
            return this.entryPrice() - e
          }, o.prototype.preparseStopPrice = function (e) {
            e = this._roundPrice(e);
            var t = this.entryPrice() + 1 / this._model.mainSeries().base();
            return Math.max(e, t)
          }, o.prototype.preparseProfitPrice = function (e) {
            e = this._roundPrice(e);
            var t = this.entryPrice() - 1 / this._model.mainSeries().base();
            return Math.min(e, t)
          }, o.prototype.checkStopPrice = function (e) {
            var t = this.stopPrice(),
              i = this.profitPrice();
            return e[TradingView.HIGH_PLOT] >= t ? this.stopPrice() : e[TradingView.LOW_PLOT] <= i ? this.profitPrice() : null
          }, o.prototype._orderSide = function () {
            return _.SELL
          }, o.createProperties = function (e) {
            var t = new u("linetoolriskrewardshort", e);
            return o._configureProperties(t), t
          }, o._configureProperties = function (e) {
            n._configureProperties(e)
          }, r.prototype.i18nCache = {
            title: window.t("Risk/Reward long")
          }, inherit(r, n), r.prototype._recalculateQty = function () {
            var e, t, i, n, o;
            0 !== this.points().length && (t = (e = this.properties()).entryPrice.value(), i = e.stopPrice.value(), n = e.riskSize.value(), o = Math.floor(n / Math.abs(t - i)), e.qty.setValue(o))
          }, r.prototype._recalculateAmount = function () {
            var e, t, i, n, o, r, s, a;
            0 !== this.points().length && (t = (e = this.properties()).accountSize.value(), i = e.entryPrice.value(), n = e.qty.value(), o = e.stopPrice.value(), r = e.targetPrice.value(), s = this._roundValue(t + (r - i) * n), a = this._roundValue(t - (i - o) * n), e.amountTarget.setValue(s), e.amountStop.setValue(a))
          }, r.prototype.stopPrice = function () {
            return this.entryPrice() - this.properties().stopLevel.value() / this._model.mainSeries().base()
          }, r.prototype.profitPrice = function () {
            return this.entryPrice() + this.properties().profitLevel.value() / this._model.mainSeries().base()
          }, r.prototype.calculatePL = function (e) {
            return e - this.entryPrice()
          },
          r.prototype.preparseStopPrice = function (e) {
            e = this._roundPrice(e);
            var t = this.entryPrice() - 1 / this._model.mainSeries().base();
            return Math.min(e, t)
          }, r.prototype.preparseProfitPrice = function (e) {
            e = this._roundPrice(e);
            var t = this.entryPrice() + 1 / this._model.mainSeries().base();
            return Math.max(e, t)
          }, r.prototype.checkStopPrice = function (e) {
            var t = this.stopPrice(),
              i = this.profitPrice();
            return e[TradingView.LOW_PLOT] <= t ? this.stopPrice() : e[TradingView.HIGH_PLOT] >= i ? this.profitPrice() : null
          }, r.prototype.title = function () {
            return this.i18nCache.title
          }, r.prototype.name = function () {
            return "Risk/Reward long"
          }, r.prototype._orderSide = function () {
            return _.BUY
          }, r.createProperties = function (e) {
            var t = new u("linetoolriskrewardlong", e);
            return r._configureProperties(t), t
          }, r._configureProperties = function (e) {
            n._configureProperties(e)
          }, t.LineToolRiskRewardLong = r, t.LineToolRiskRewardShort = o
      }).call(this, i("Qb4w").PriceRange)
    },
    tF8J: function (e, t, i) {
      "use strict";

      function n(e, t) {
        return (Math.round(e * Math.pow(10, t)) / Math.pow(10, t)).toString() || ""
      }

      function o(e) {
        var t, i, o;
        return t = "QUANDL" === (e = e || {}).exchange, i = {
          symbolDescription: "",
          interval: "",
          exchange: "",
          chartStyle: "",
          extended: "",
          provider: ""
        }, e.description && t ? 2 === e.description.split("/").length ? i.symbolDescription = e.description.split("/")[1] : e.description.split("'").filter(function (e) {
          return e.length
        }).forEach(function (e) {
          var t = [];
          t = e && ("/" === e[0] || /\d+\/\(?/.test(e)) ? [e] : e.split("/").filter(function (e) {
            return e.length
          }), i.symbolDescription += t[2 === t.length ? 1 : 0]
        }) : e.description ? i.symbolDescription = e.description : i.symbolDescription = e.symbol, e.interval && (i.interval = Object(l.translatedIntervalString)(e.interval)), t && e.description && ((o = /[\w_]+\/[\w_]+/.exec(e.description)) && o[0] ? i.provider = o[0].split("/")[0] : i.provider = e.description.split("/")[0]), e.exchange && (i.exchange = e.exchange), i.chartStyle = function (e) {
          var t, i, o, r, s, l, u, h = e.inputs;
          switch (e.style) {
            case c.STYLE_RENKO:
              return t = h.style + ("ATR" === h.style ? "(" + h.atrLength + ")" : ""), i = Object(a.ensureDefined)(e.boxSize || h.boxSize), window.t("Renko") + " [" + t + ", " + n(i, 4) + "]";
            case c.STYLE_PB:
              return window.t("Line Break") + " [" + h.lb + "]";
            case c.STYLE_KAGI:
              return o = h.style + ("ATR" === h.style ? "(" + h.atrLength + ")" : ""), s = void 0 !== (r = e.reversalAmount || h.reversalAmount) ? ", " + n(r, 8) : "", window.t("Kagi") + " [" + o + s + "]";
            case c.STYLE_PNF:
              return l = h.style + ("ATR" === h.style ? "(" + h.atrLength + ")" : ""), u = e.boxSize || h.boxSize, window.t("PnF") + " [" + l + ", " + n(Object(a.ensureDefined)(u), 8) + ", " + h.reversalAmount + "]"
          }
          return e.style === c.STYLE_RANGE ? window.t("Range") : e.style === c.STYLE_HEIKEN_ASHI ? window.t("Heikin Ashi") : ""
        }(e), e.extended && (i.extended = window.t("ext", {
          context: "shorthand_for_extended_session"
        })), i
      }

      function r(e) {
        var t = o(e),
          i = t.symbolDescription + (t.interval ? ", " + t.interval : "") + function (e, t) {
            void 0 === t && (t = ", ");
            return (e.provider ? "" + t + e.provider : "") + (e.exchange ? "" + t + e.exchange : "") + (e.chartStyle ? "" + t + e.chartStyle : "") + (e.extended ? "" + t + e.extended : "")
          }(t);
        return i.replace(/\'/g, "")
      }

      function s(e) {
        var t = o(e),
          i = t.symbolDescription.replace(/\'/g, ""),
          n = function (e) {
            var t = [];
            e.provider && t.push(e.provider);
            e.exchange && t.push(e.exchange);
            e.chartStyle && t.push(e.chartStyle);
            e.extended && t.push(e.extended);
            return t
          }(t).map(function (e) {
            return e.replace(/\'/g, "")
          });
        return [i, t.interval || ""].concat(n)
      }
      var a, l, c;
      i.r(t), i.d(t, "generateTitleForGui", function () {
        return r
      }), i.d(t, "generateSplitTitleForGui", function () {
        return s
      }), a = i("Eyy1"), l = i("IzGk"), c = i("dfhE")
    },
    tG6Q: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolCircleLines";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("GS+0").LineToolCircleLinesPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Cyclic Lines"
      }, n.prototype.name = function () {
        return "Cyclic Lines"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolCircleLinesStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolcirclelines", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolCircleLines = n
    },
    tHq3: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#4758a9" d="M0 0h18v18H0z"/><path fill="#fff" d="M9 4.5V0H0v9h4.5V6l3 3H9V7L6.5 4.5H9zM7 13l-1 .5v.5h-.5L5 15l-.5-1H4v-.6L3 13l1-.4V12h.5l.5-1 .5 1H6v.6zm6-.4l.3.5h.6l-.3.4.5.4-.6.1v.6l-.4-.4-.5.4V14l-.5-.1.4-.4-.2-.5.5.1zm-2.2-5.5l.2.6.6-.2-.3.5.5.4-.6.1v.6l-.4-.4-.5.4v-.6l-.5-.1.4-.4-.2-.5.5.2zm2.3-3l.2.4.6-.1-.3.5.5.4h-.6V6l-.4-.4-.5.4v-.6l-.5-.1.4-.4-.2-.5.5.1zm2 2.3l.2.5.6-.1-.3.5.5.3-.6.1v.6l-.4-.3-.5.3v-.6h-.5l.4-.4-.2-.6.5.2zM13.6 9l.2.6h.7l-.5.4.1.6-.5-.4-.5.4.2-.6-.5-.4h.6z"/><path fill="#ed5565" d="M3 1V0H1v1H0v2h1v6h2V3h6V1H3zm6 7L5 4H4l5 5V8z"/></svg>'
    },
    tWVy: function (e, t, i) {
      "use strict";

      function n() {
        r.fire()
      }
      var o, r;
      i.d(t, "a", function () {
        return r
      }), i.d(t, "b", function () {
        return n
      }), o = i("aIyQ"), r = new(i.n(o).a)
    },
    "tc+8": function (e, t, i) {
      "use strict";
      (function (t) {
        function i(e) {
          if (this._listeners = new t, this._childs = [], this._muteChildChanges = !1, void 0 !== e && null !== e)
            if (this.isPrimitiveType(e)) this._value = e;
            else
              for (var i in e) this.addProperty(i, e[i])
        }
        i.prototype.merge = function (e, t) {
            var i, n, o, r, s = null;
            if (t && (i = (s = []).length), null == e) return s;
            if (this.isPrimitiveType(e)) return t && this._value !== e && s.push(this), this._value = e, s;
            if (Array.isArray(e))
              for (n = 0; n < e.length; n++) this[n] ? (o = this[n].merge(e[n], t), t && (s = s.concat(o))) : (this.addProperty(n, e[n]), t && s.push(this[n]));
            else
              for (r in e) this[r] ? (o = this[r].merge(e[r], t), t && (s = s.concat(o))) : (this.addProperty(r, e[r]), t && s.push(this[r]));
            return t && s.length > i && s.push(this), s
          }, i.prototype.mergeAndFire = function (e) {
            var t = this.merge(e, !0);
            this._muteChildChanges = !0, t.forEach(function (e) {
              e._muteChildChanges = !0
            }), t.forEach(function (e) {
              e._muteChildChanges = !1, e.listeners().fire(e)
            }), this._muteChildChanges = !1, t.length > 0 && this.listeners().fire(this)
          },
          i.prototype.state = function (e) {
            var t, i, n, o, r, s = this._value;
            for (void 0 === s && (s = {}), t = 0; t < this._childs.length; t++)
              if (i = this._childs[t], !e || -1 === e.indexOf(i))
                if (e) {
                  for (n = [], o = 0; o < e.length; o++)(r = e[o]).startsWith(i + ".") && n.push(r.substr(i.length + 1));
                  s[i] = this[i].state(n)
                } else s[i] = this[i].state();
            return s
          }, i.prototype.clone = function (e) {
            return new i(this.state())
          }, i.prototype.isPrimitiveType = function (e) {
            return !!isNumber(e) || (!!new TradingView.TypeValidator(String).check(e) || TradingView.isBoolean(e))
          }, i.prototype.value = function () {
            return this._value
          }, i.prototype.listeners = function () {
            return this._listeners
          }, i.prototype.childCount = function () {
            return this._childs.length
          }, i.prototype.childNames = function () {
            return this._childs
          }, i.prototype.child = function (e) {
            return this[e]
          }, i.prototype.setValue = function (e, t) {
            (this._value !== e || t) && (this._value = e, this._listeners.fire(this))
          }, i.prototype.setValueSilently = function (e) {
            this._value = e
          }, i.prototype.addProperty = function (e, t) {
            var n = new i(t);
            this[e] = n, this._childs.push(e), n.listeners().subscribe(this, i.prototype.childChanged)
          }, i.prototype.removeProperty = function (e) {
            this[e].listeners().unsubscribe(this, i.prototype.childChanged), delete this[e], this._childs = this._childs.filter(function (t) {
              return t !== e
            })
          }, i.prototype.hasChild = function (e) {
            return this._childs.indexOf(e) >= 0
          }, i.prototype.addChild = function (e, t) {
            this[e] = t, -1 === this._childs.indexOf(e) && this._childs.push(e), t.listeners().subscribe(this, i.prototype.childChanged)
          }, i.prototype.childChanged = function (e, t) {
            this._muteChildChanges || this.listeners().fire(this)
          }, i.prototype.subscribe = function (e, t) {
            this.listeners().subscribe(e, t, !1)
          }, i.prototype.unsubscribe = function (e, t) {
            this.listeners().unsubscribe(e, t)
          }, i.prototype.unsubscribeAll = function (e) {
            this.listeners().unsubscribeAll(e)
          }, i.prototype.childs = function () {
            return this
          }, e.exports = i
      }).call(this, i("aIyQ"))
    },
    te6v: function (e, t, i) {
      "use strict";

      function n(e, t) {
        r.call(this), this._header = null, this._crossHair = e, this._model = t, this._items.push(new s("Date", "")), this._items.push(new s("Time", "")), this._items.push(new s("Price", "")), this._defaultFormatter = new a(100)
      }
      var o = i("4miz"),
        r = o.DataWindowView,
        s = o.DataWindowItem,
        a = i("kcTO").PriceFormatter,
        l = i("gQ5K").DateFormatter,
        c = i("4kQX").TimeFormatter;
      inherit(n, r), n.prototype.update = function () {
        var e, t, i, n, o, r, s = this._model.mainSeries().isDWM();
        this._items[1].setVisible(!s), this._items[0].setValue("n/a"), this._items[1].setValue("n/a"), this._items[2].setValue("n/a"), this._model.timeScale().isEmpty() || (e = this._crossHair.appliedIndex(), null === (t = this._model.timeScale().indexToUserTime(e)) ? (this._items[0].setValue("n/a"), s || this._items[1].setValue("n/a")) : (this._items[0].setValue((new l).format(t)), s || this._items[1].setValue((new c).format(t))), (i = this._crossHair.pane) && ((n = i.defaultPriceScale()).isEmpty() || (r = (o = n.mainSource()) ? o.formatter() : this._defaultFormatter, this._items[2].setValue(r.format(this._crossHair.price)))))
      }, e.exports = n
    },
    toUb: function (e, t, i) {
      "use strict";

      function n(e) {
        l.call(this, e), this.ch = e.char[0] || " ", this.fontFamily = e.fontFamily || c,
          this._charCache = new a(this.ch, !1, !1, this.fontFamily, this.height)
      }
      var o = i("aO4+").Point,
        r = i("Zp/P").selectionTolerance,
        s = i("VdBB").HitTestResult,
        a = i("gBDZ"),
        l = i("c0/O").PaneRendererAbstractShape,
        c = i("zDbI").CHART_FONT_FAMILY;
      inherit(n, l), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a = this._vertOffset > 0 ? 1 : -1;
        for (t = 0, i = this.items.length; t < i; t++) o = (n = this.items[t]).x, r = n.y + this._vertOffset - a * Math.round(this.height / 2), s = n.style && null != n.style.color ? n.style.color : this._color, this._charCache.paintTo(e, s, o, r, "center", this._vertOffset > 0 ? "middle" : "bottom")
      }, n.prototype.hitTest = function (e) {
        var t, i, n = this._vertOffset,
          a = r(this.height);
        for (t = 0; t < this.items.length; ++t)
          if ((i = this.items[t]) && new o(i.x, i.y + n).subtract(e).length() <= a) return new s(s.REGULAR);
        return null
      }, t.PaneRendererUnicodeChar = TradingView.PaneRendererUnicodeChar = n
    },
    "u+0B": function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "TextWidthCache", function () {
        return o
      }), n = /[2-9]/g, o = function () {
        function e(e) {
          void 0 === e && (e = 50), this._actualSize = 0, this._usageTick = 1, this._oldestTick = 1, this._tick2Labels = {}, this._cache = {}, this._maxSize = e
        }
        return e.prototype.reset = function () {
          this._actualSize = 0, this._cache = {}, this._usageTick = 1, this._oldestTick = 1, this._tick2Labels = {}
        }, e.prototype.measureText = function (e, t, i) {
          var o, r, s = i || n,
            a = String(t).replace(s, "0");
          return this._cache[a] ? this._cache[a].width : (this._actualSize === this._maxSize && (o = this._tick2Labels[this._oldestTick], delete this._tick2Labels[this._oldestTick], delete this._cache[o], this._oldestTick++, this._actualSize--), 0 === (r = e.measureText(a).width) && t.length ? 0 : (this._cache[a] = {
            width: r,
            tick: this._usageTick
          }, this._tick2Labels[this._usageTick] = a, this._actualSize++, this._usageTick++, r))
        }, e
      }()
    },
    u0yd: function (e, t, i) {
      "use strict";

      function n(e) {
        e.forceLineColor = !1, r.call(this, e), this.color1 = e.color1, this.color2 = e.color2, this.bottom = e.bottom, this.isSeries = !!e.isSeries, this._simpleMode = e.simpleMode
      }
      var o = i("Zp/P").coordinateIsValid,
        r = i("gyZD").PaneRendererLine;
      inherit(n, r), n.prototype.draw = function (e) {
        var t, i, n, s, a, l, c, u, h, d, p, f;
        if (0 !== this.items.length) {
          for (e.lineCap = "square", e.strokeStyle = this.lineColor, e.lineWidth = this.lineWidth, e.lineStyle = this.lineStyle, e.lineWidth = 1, t = 0; t < this.items.length && !o(this.items[t].y);) t++;
          for (i = this.items.length - 1; i >= 0 && !o(this.items[i].y);) i--;
          if (!(t >= i)) {
            for (e.translate(.5, .5), n = {}, s = this.items, a = t; a <= i; a++) c = (l = s[a]).style ? l.style.color : this.lineColor, a < i && s[a + 1].style && c !== (u = s[a + 1].style.color) && ((h = n[u] || []).push(l), n[u] = h), (d = n[c] || []).push(l), n[c] = d;
            for (c in n) {
              for (d = n[c], e.beginPath(), p = 0, a = 0; a < d.length; a++) d[a].style && d[a].style.color !== c && (e.moveTo(d[p].x, this.bottom), this.walkLine(e, d.slice(p, a), !0, this.bottom), p = a);
              e.moveTo(d[p].x, this.bottom), this.walkLine(e, d.slice(p, d.length), !0, this.bottom), e.closePath(), this.isSeries ? ((f = e.createLinearGradient(0, 0, 0, this.bottom)).addColorStop(0, this.color1), f.addColorStop(1, this.color2), e.fillStyle = f, this._simpleMode = !0) : e.fillStyle = c, e.fill()
            }
            e.lineWidth = this.lineWidth, r.prototype.draw.call(this, e)
          }
        }
      }, t.PaneRendererArea = TradingView.PaneRendererArea = n
    },
    u5Q5: function (e, t, i) {
      "use strict";

      function n() {
        return new Promise(function (e) {
          Promise.all([i.e("vendors"), i.e(5), i.e(16), i.e(62), i.e(63), i.e(120), i.e(282), i.e(13), i.e(51), i.e(56), i.e(100), i.e("symbolsearch")]).then(function (t) {
            e(i("m5UM"))
          }.bind(null, i)).catch(void 0)
        })
      }

      function o(e, t) {
        return n().then(function (i) {
          return i.bindToInput(e, t)
        })
      }

      function r(e) {
        Object(f.setLastUsedResolution)(e), _.linking.interval.setValue(e)
      }

      function s(e) {
        if (!Object(h.globalKeypressMatches)(e)) return !1;
        e.preventDefault();
        var t = String.fromCharCode(e.charCode);
        return function (e) {
          return /[\d,]/.test(e)
        }(t) && d.enabled("show_interval_dialog_on_key_press") ? Object(p.showChangeIntervalDialog)({
          callback: r,
          ownerDocument: e.target && e.target.ownerDocument
        }, t) : d.enabled("symbol_search_hot_key") && n().then(function (i) {
          i.showDialog({
            initialValue: t,
            callback: function (e, t) {
              _.linking.symbol.setValue(e), t && r(t)
            },
            ownerDocument: e.target && e.target.ownerDocument
          })
        }), !0
      }

      function a() {
        u.pushBackListener("symbolEdit", s)
      }

      function l(e) {
        return n().then(function (t) {
          return t.showDialog(e)
        })
      }

      function c(e) {
        return n().then(function (t) {
          return t.setSearchRequestDelay(e)
        })
      }
      var u, h, d, p, f, _;
      i.r(t), i.d(t, "bindToInput", function () {
        return o
      }), i.d(t, "activateKeyPressHandler", function () {
        return a
      }), i.d(t, "showDialog", function () {
        return l
      }), i.d(t, "setSearchRequestDelay", function () {
        return c
      }), u = i("6et/"), h = i("h24c"), d = i("Kxc7"), p = i("mYjs"), f = i("pPtI"), _ = i("PT1i")
    },
    uAQo: function (e, t, i) {
      "use strict";
      i("0YCj"), i("WqyU")
    },
    uKmN: function (e, t, i) {
      e.exports = {
        "top-left-button-height": "38px",
        "top-left-button-width": "52px",
        topLeftButton: "topLeftButton-38RKz2SO-",
        stub: "stub-2TSZjio6-"
      }
    },
    uOxu: function (e, t, i) {
      "use strict";

      function n() {
        return w
      }

      function o() {
        return P
      }

      function r(e) {
        e = Math.max(d.ERROR, Math.min(d.DEBUG, e)), w = e, c()
      }

      function s(e) {
        var t = g.reduce(function (e, t) {
          return e.concat(t)
        }, []);
        return t.sort(function (e, t) {
            return e.id - t.id
          }), "number" == typeof e && (t = t.slice(-e)),
          function (e, t) {
            var i, n = 0;
            for (i = e.length - 1; i >= 1 && (n += 8 * (1 + encodeURIComponent(e[i]).length), !(i - 1 > 0 && n + 8 * (1 + encodeURIComponent(e[i - 1]).length) > t)); i--);
            return e.slice(i)
          }(t.map(function (e) {
            return new Date(e.timestamp).toISOString() + ":" + e.subSystemId + ":" + e.message.replace(/"/g, "'")
          }), f)
      }

      function a(e, t, i, n) {
        var r, s;
        if ((t !== v || n.id !== S) && (r = new Date, e <= d.NORMAL && function (e, t, i, n, o) {
            var r = {
              id: p,
              message: String(t),
              subSystemId: n,
              timestamp: Number(e)
            };
            p += 1, i.push(r), void 0 !== o && i.length > o && i.splice(0, 1)
          }(r, t, i, n.id, n.maxCount), e <= w && (!n.highRate || o()) && (!y || n.id.match(y)))) {
          switch (s = r.toISOString() + ":" + n.id + ":" + t, e) {
            case d.DEBUG:
              console.debug(s);
              break;
            case d.INFO:
            case d.NORMAL:
              n.color ? console.log("%c" + s, "color: " + n.color) : console.log(s);
              break;
            case d.WARNING:
              console.warn(s);
              break;
            case d.ERROR:
              console.error(s)
          }
          v = t, S = n.id, b && clearTimeout(b), b = setTimeout(function () {
            v = null, S = null, b = NaN
          }, 1e3)
        }
      }

      function l(e, t) {
        function i(e) {
          return function (t) {
            return a(e, t, n, o)
          }
        }
        var n, o;
        return void 0 === t && (t = {}), n = [], g.push(n), o = Object.assign(t, {
          id: e
        }), {
          logDebug: i(d.DEBUG),
          logError: i(d.ERROR),
          logInfo: i(d.INFO),
          logNormal: i(d.NORMAL),
          logWarn: i(d.WARNING)
        }
      }

      function c() {
        try {
          h && (localStorage.setItem(m, String(P)), localStorage.setItem(_, String(w)))
        } catch (e) {
          T.logWarn("Cannot save logger state (level: " + w + ", high-rate: " + P + ") to localStorage: " + e.message)
        }
      }
      var u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x;
      i.r(t), i.d(t, "LOGLEVEL", function () {
        return d
      }), i.d(t, "getLogLevel", function () {
        return n
      }), i.d(t, "isHighRateEnabled", function () {
        return o
      }), i.d(t, "setLogLevel", function () {
        return r
      }), i.d(t, "getLogHistory", function () {
        return s
      }), i.d(t, "getLogger", function () {
        return l
      }), i.d(t, "loggingOn", function () {
        return C
      }), i.d(t, "loggingOff", function () {
        return x
      }), u = "undefined" != typeof window ? window : {}, h = !1;
      try {
        localStorage.getItem(""), h = !0
      } catch (e) {}! function (e) {
        e[e.ERROR = 1] = "ERROR", e[e.WARNING = 2] = "WARNING", e[e.INFO = 3] = "INFO", e[e.NORMAL = 4] = "NORMAL", e[e.DEBUG = 5] = "DEBUG"
      }(d || (d = {})), p = 0, f = 75497472, _ = "tv.logger.loglevel", m = "tv.logger.logHighRate", g = [], y = null, v = null, S = null, b = NaN, w = d.WARNING, P = !1, T = l("logger"), C = u.lon = function (e, t) {
          r(d.DEBUG), T.logNormal("Debug logging enabled"), P = Boolean(e), y = t || null, c()
        }, x = u.loff = function () {
          r(d.INFO), T.logInfo("Debug logging disabled")
        },
        function () {
          P = !!h && "true" === localStorage.getItem(m);
          var e = parseInt(h && localStorage.getItem(_) || "");
          Number.isNaN(e) && (e = d.WARNING), r(e), T.logNormal("Init with settings - level: " + w + ", high-rate: " + P)
        }(), u.performance && u.performance.now ? T.logNormal("Sync logger and perf times, now is " + u.performance.now()) : T.logWarn("Perf time is not available")
    },
    uPb3: function (e, t, i) {
      "use strict";
      (function (e, n) {
        function o(t, i, n, o, r) {
          function s() {
            throw new Error("Time axis does not support real price scales")
          }
          var a, l;
          this._options = Object.assign({}, T, i), this.chart = t, this._properties = t.properties().scalesProperties, this.contextMenu = null, this._element = document.createElement("tr"), a = t.properties().paneProperties.background, l = {
              titlesProvider: n,
              contentMenuProvider: o,
              backgroundBasedTheme: r,
              rendererOptionsProvider: t.model().model().rendererOptionsProvider()
            }, this._onLabelHovered = new e, this._lhsStubContainer = new b(a, this._properties, w.LHS, s, l, this._options.priceAxisLabelsOptions), this._lhsStubContainer.onLabelHovered().subscribe(this, function (e, t) {
              this._onLabelHovered.fire(e, t)
            }.bind(this)), this._rhsStubContainer = new b(a, this._properties, w.RHS, s, l, this._options.priceAxisLabelsOptions), this._rhsStubContainer.onLabelHovered().subscribe(this, function (e, t) {
              this._onLabelHovered.fire(e, t)
            }.bind(this)), this._element.appendChild(this._lhsStubContainer.getElement()), this._cell = document.createElement("td"), this._element.appendChild(this._cell), this._cell.classList.add("chart-markup-table", "time-axis"), this._cell.style.height = "25px", this._dv = document.createElement("div"), this._dv.style.width = "100%", this._dv.style.height = "100%", this._dv.style.position = "relative", this._dv.style.overflow = "hidden", this._cell.appendChild(this._dv), this.canvas = f(this._dv, new _(16, 16)), this.canvas.style.position = "absolute", this.canvas.style.zIndex = "1", this.canvas.style.left = "0", this.canvas.style.top = "0", this.ctx = this.canvas.getContext("2d"), this.top_canvas = f(this._dv, new _(16, 16)), this.top_canvas.style.position = "absolute",
            this.top_canvas.style.zIndex = "2", this.top_canvas.style.left = "0", this.top_canvas.style.top = "0", this.top_ctx = this.top_canvas.getContext("2d"), this._element.appendChild(this._rhsStubContainer.getElement()), this.restoreDefaultCursor(), this.update(), this._minVisibleSpan = v.MINUTE_SPAN, this._mouseEventHandler = new m(this._cell, this, !0)
        }
        var r, s, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T;
        i("xrEm"), r = i("u+0B").TextWidthCache, s = i("7KDR"), a = s.Separator, l = i("5VQP").ContextMenuManager, c = i("HvwJ"), u = i("ikwP"), h = u.resizeCanvas, d = u.hardResizeCanvas, p = u.clearRect, f = u.addCanvasTo, _ = u.Size, m = i("S8xo").MouseEventHandler, g = i("PC8g").trackEvent, y = i("XlJ7").makeFont, v = i("8OdW"), S = i("CW80").isLineTool, b = i("mE5r").PriceAxisesContainer, w = i("1IXQ").PriceAxisWidget, P = i("zDbI").CHART_FONT_FAMILY, T = {
          contextMenuEnabled: !0,
          timezoneMenuEnabled: !0
        }, o.prototype.destroy = function () {
          this._mouseEventHandler.destroy(), this._rhsStubContainer.onLabelHovered().unsubscribeAll(this), this._lhsStubContainer.onLabelHovered().unsubscribeAll(this), this._lhsStubContainer.destroy(), this._rhsStubContainer.destroy()
        }, o.prototype.getElement = function () {
          return this._element
        }, o.prototype._BORDER_SIZE = 1, o.prototype._OFFSET_SIZE = 1, o.prototype._TICK_LENGTH = 3, o.prototype.onLabelHovered = function () {
          return this._onLabelHovered
        }, o.prototype.backgroundColor = function () {
          return this.chart.properties().paneProperties.background.value()
        }, o.prototype.lineColor = function () {
          return this._properties.lineColor.value()
        }, o.prototype.textColor = function () {
          return this._properties.textColor.value()
        }, o.prototype.fontSize = function () {
          return this._properties.fontSize.value()
        }, o.prototype.baseFont = function () {
          return y(this.fontSize(), P, "")
        }, o.prototype.baseBoldFont = function () {
          return y(this.fontSize(), P, "bold")
        }, o.prototype.rendererOptions = function () {
          var e, t;
          return this._rendererOptions || (this._rendererOptions = {
            borderSize: this._BORDER_SIZE,
            offsetSize: this._OFFSET_SIZE,
            tickLength: this._TICK_LENGTH,
            fontSize: NaN,
            font: "",
            widthCache: new r
          }), (e = this._rendererOptions).fontSize !== this.fontSize() && (t = this.fontSize(), e.fontSize = t, e.font = this.baseFont(), e.font = y(this.fontSize(), P, ""), e.paddingTop = Math.ceil(t / 2.5), e.paddingBottom = e.paddingTop, e.paddingHorizontal = Math.ceil(t / 2), e.baselineOffset = Math.round(this.fontSize() / 5), e.widthCache.reset()), this._rendererOptions
        }, o.prototype.mouseDownEvent = function (e) {
          var t, i = this.chart.model().model().zoomEnabled();
          if (this._mousedown || !i) return !0;
          this._mousedown = !0, (t = this.chart.model()).timeScale().isEmpty() || (this.setCursor("ew-resize"), t.startScaleTime(e.localX))
        }, o.prototype.mouseDownOutsideEvent = function (e) {
          var t = this.chart.model();
          !t.timeScale().isEmpty() && this._mousedown && (this._mousedown = !1, t.endScaleTime(), this.restoreDefaultCursor())
        }, o.prototype.pressedMouseMoveEvent = function (e) {
          var t, i, n = this.chart.model();
          n.timeScale().isEmpty() || (t = !1, i = (new Date).valueOf(), this._lastScrollScaleTime && i - this._lastScrollScaleTime < 100 && (t = !0), t || (n.scaleTimeTo(e.localX), this._lastScrollScaleTime = i))
        }, o.prototype.mouseUpEvent = function (e) {
          this._mousedown = !1;
          var t = this.chart.model();
          t.timeScale().isEmpty() || (t.endScaleTime(), this.restoreDefaultCursor())
        }, o.prototype.contextMenuEvent = function (e) {
          this._options.contextMenuEnabled && this._createContextMenu().then(function (t) {
            t.show(e)
          })
        }, o.prototype._createContextMenu = function () {
          return l.createMenu(this.getContextMenuActions(), {
            statName: "TimeScaleContextMenu"
          })
        }, o.prototype.getContextMenuActions = function () {
          var e, t, i = this.chart;
          return i.updateActions(), e = i.actions(), t = n.enabled("charting_library_base") ? [e.timeScaleReset, new a, e.applyTimeZone, e.sessionBreaks] : [e.timeScaleReset, new a, e.applyTimeZone, e.sessionBreaks, e.extendedHours], this._options.timezoneMenuEnabled || t.splice(2, 1), t
        }, o.prototype.mouseClickEvent = function (e) {}, o.prototype.mouseDoubleClickEvent = function (e) {
          g("GUI", "Double click time scale"), this.chart.model().resetTimeScale()
        }, o.prototype.optimalHeight = function () {
          var e = this.rendererOptions();
          return Math.ceil(e.offsetSize + e.borderSize + e.tickLength + e.fontSize + e.paddingTop + e.paddingBottom)
        }, o.prototype.setSizes = function (e, t, i) {
          this.size && this.size.equals(e) || (this.size = e, h(this.canvas, e), h(this.top_canvas, e), this.canvas.getContext("2d"), this.top_canvas.getContext("2d"), this._cell.style.width = e.w + "px", this._cell.style.height = e.h + "px"), this._lhsStubContainer.setSizes(e.h, t), this._rhsStubContainer.setSizes(e.h, i)
        }, o.prototype._spanIndex = function (e) {
          for (var t = [v.MINUTE_SPAN, v.HOUR_SPAN, v.DAY_SPAN, v.MONTH_SPAN, v.YEAR_SPAN], i = t.length - 1; i > 0;) {
            if (t[i] <= e) return i;
            i--
          }
          return i
        }, o.prototype._spanOffset = function (e, t) {
          if (t < e) throw new Error("actual span cuold not be less then base");
          return this._spanIndex(t) - this._spanIndex(e)
        }, o.prototype.update = function () {
          var e, t;
          this.chart.model() && (e = this.chart.model().timeScale().marks()) && (t = this, this._minVisibleSpan = v.YEAR_SPAN, e.forEach(function (e) {
            t._minVisibleSpan = Math.min(e.span, t._minVisibleSpan)
          }))
        }, o.prototype._hightlightBackground = function (e, t) {
          var i, n, o, r, s = this.chart.model(),
            a = s.timeScale(),
            l = t[0].index,
            c = t[0].index;
          for (i = 1; i < t.length; i++) l = Math.min(l, t[i].index), c = Math.max(c, t[i].index);
          n = a.indexToCoordinate(l), o = a.indexToCoordinate(c), r = "rgba(109, 158, 235, 0.3)", p(e, n, 0, o - n, this.size.h - 1, r)
        }, o.prototype.drawBackground = function (e) {
          var t, i, n;
          p(e, 0, 0, this.size.w, this.size.h, this.backgroundColor()), (t = this.chart.model()) && (t.timeScale().isEmpty() || (i = t.model().selection().sources().filter(function (e) {
            return S(e)
          }).reduce(function (e, t) {
            var i = t.axisPoints();
            return 0 === i.length ? e : e.concat(i)
          }, [])).length > 0 && this._hightlightBackground(e, i), (n = t.model().crossHairSource()).startMeasurePoint() && this._hightlightBackground(e, n.measurePoints()))
        }, o.prototype.drawTickMarks = function (e) {
          var t, i, n, o, r, s, a, l, c, u, h, d = this.chart.model().timeScale().marks();
          if (d && 0 !== d.length) {
            for ((t = d.reduce(function (e, t) {
                return e.span > t.span ? e : t
              }, d[0]).span) > 30 && t < 40 && (t = 30), e.save(), e.strokeStyle = this.lineColor(), n = (i = this.rendererOptions()).borderSize + i.tickLength + i.paddingTop + i.fontSize - i.baselineOffset, e.textAlign = "center", e.translate(.5, -.5), e.fillStyle = this.lineColor(), e.beginPath(),
              o = d.length; o--;) e.rect(d[o].coord, 0, 1, i.tickLength);
            for (e.fill(), e.fillStyle = this.textColor(), r = {}, s = this.baseFont(), a = this.baseBoldFont(), o = 0; o < d.length; o++)(c = r[l = d[o].span >= t ? a : s] || []).push(d[o]), r[l] = c;
            for (u in r)
              for (e.setFont(u), h = r[u], o = 0; o < h.length; o++) e.fillText(h[o].label, h[o].coord, n);
            e.restore()
          }
        }, o.prototype.drawBackLabels = function (e) {
          var t, i, n, o, r, s, a, l, c;
          for (e.save(), t = new Set, n = (i = this.chart.model()).dataSources(), i.selection().sources().forEach(function (e) {
              t.add(e)
            }), i.hoveredSource() && t.add(i.hoveredSource()), i.sourcesBeingMoved().forEach(function (e) {
              t.add(e)
            }), (o = i.lineBeingEdited() || i.lineBeingCreated()) && t.add(o), t.add(this.chart.model().crossHairSource()), n = n.concat(i.model().customSources()), r = this.rendererOptions(), s = 0; s < n.length; s++)
            if (a = n[s], !t.has(a) && a.timeAxisViews && (l = a.timeAxisViews()))
              for (c = 0; c < l.length; c++) l[c].renderer().draw(e, r);
          e.restore()
        }, o.prototype._minMaxViews = function (e) {
          var t = [],
            i = {
              value: null,
              view: null
            },
            n = {
              value: null,
              view: null
            };
          return e.forEach(function (e) {
            var t, o, r, s;
            if (e.timeAxisViews && (t = e.timeAxisViews()) && t.length)
              for (o = 0; o < t.length; o++) s = (r = t[o]).coordinate(), (null === i.value || i.value <= s) && (i = {
                value: s,
                view: r
              }), (null === n.value || n.value >= s) && (n = {
                value: s,
                view: r
              })
          }), i.view && t.push(i.view), n.view && t.push(n.view), t
        }, o.prototype._addViewsOrMaxMin = function (e, t) {
          e.length <= 1 ? e.forEach(function (e) {
            if (e.timeAxisViews) {
              var i = e.timeAxisViews();
              i && i.length && t.push(i)
            }
          }) : t.push(this._minMaxViews(e))
        }, o.prototype.drawCrossHairLabel = function (e) {
          var t, i, n, o, r;
          this.top_ctx.clearRect(-.5, -.5, this.size.w, this.size.h), i = [], (n = (t = this.chart.model()).lineBeingEdited() || t.lineBeingCreated()) && n.timeAxisViews && (o = n.timeAxisViews()) && o.length && i.push(o), this._addViewsOrMaxMin(t.sourcesBeingMoved(), i), this._addViewsOrMaxMin(t.selection().sources(), i), t.hoveredSource() && !t.selection().isSelected(t.hoveredSource()) && t.hoveredSource().timeAxisViews && (o = t.hoveredSource().timeAxisViews()) && o.length && i.push(o), (o = t.crossHairSource().timeAxisView()) && o.length && i.push(o), r = this.rendererOptions(), i.forEach(function (t) {
            t.forEach(function (t) {
              e.save(), t.renderer().draw(e, r), e.restore()
            })
          })
        }, o.prototype.hardResetCanvas = function () {
          this.size && (d(this.canvas, this.size), d(this.top_canvas, this.size))
        }, o.prototype.paint = function (e) {
          if (0 !== e)
            if (e !== c.UPDATE_CURSOR_ONLY) {
              var t = this.ctx;
              this.drawBackground(t), this.chart.model() && (this.drawTickMarks(t), this.drawBackLabels(t), this.chart.model().crossHairSource().updateAllViews(), this.drawCrossHairLabel(this.top_ctx)), this._lhsStubContainer.paint(e), this._rhsStubContainer.paint(e)
            } else this.drawCrossHairLabel(this.top_ctx)
        }, o.prototype.restoreDefaultCursor = function () {
          this.setCursor("")
        }, o.prototype.setCursor = function (e) {
          var t = "";
          "grabbing" !== e && "ew-resize" !== e || (t = "time-axis--cursor-" + e), this._currentCursorClassName !== t && (this._currentCursorClassName && this._cell.classList.remove(this._currentCursorClassName), t && this._cell.classList.add(t), this._currentCursorClassName = t, this._cell.style.cursor)
        }, o.prototype.updatePriceAxisStubs = function () {
          var e, t = this.chart.model().model(),
            i = this.chart.isMaximizedPane() ? this.chart.maximizedPaneWidget().state() : t.paneForSource(t.mainSeries());
          i && (e = t.priceScaleSlotsCount(), this._lhsStubContainer.setScales([], e.left, i.leftPriceScales().length, e.left + e.right), this._rhsStubContainer.setScales([], e.right, i.rightPriceScales().length, e.left + e.right))
        }, o.prototype.getScreenshotData = function () {
          var e = {};
          return e.content = this.canvas.toDataURL(), e.contentWidth = this.size.w, e.contentHeight = this.size.h, e.lhsStub = this._lhsStubContainer.getScreenshotData(), e.rhsStub = this._rhsStubContainer.getScreenshotData(), e
        }, t.TimeAxisWidget = o
      }).call(this, i("aIyQ"), i("Kxc7"))
    },
    udDf: function (e, t, i) {
      "use strict";
      (function (e) {
        var t = function () {
            function e(e, t) {
              var i, n;
              for (i = 0; i < t.length; i++)(n = t[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
            }
            return function (t, i, n) {
              return i && e(t.prototype, i), n && e(t, n), t
            }
          }(),
          n = i("j1f4"),
          o = function (e) {
            var t, i;
            if (e && e.__esModule) return e;
            if (t = {}, null != e)
              for (i in e) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
            return t.default = e, t
          }(n),
          r = i("29gu"),
          s = i("9+gJ"),
          a = function () {
            function e() {
              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
              ! function (e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
              }(this, e), this.opened = !1, this.animated = !1, this.$el = t.$el, this.delegateEvents(), this.$el.addClass("i-inited")
            }
            return t(e, [{
              key: "delegateEvents",
              value: function () {
                var e = this;
                this.$body = this.$el.find(".js-expand__body").first(), this.$el.find(".js-expand__title").first().off("click.js-expand").on("click.js-expand", function (t) {
                  t.isDefaultPrevented() || e.toggle()
                })
              }
            }, {
              key: "setOpened",
              value: function (e) {
                this.opened = e
              }
            }, {
              key: "setPause",
              value: function (e) {
                this.paused = e
              }
            }, {
              key: "toggle",
              value: function () {
                this[this.opened ? "close" : "open"]()
              }
            }, {
              key: "open",
              value: function () {
                var e = this,
                  t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                if (!(this.animated || this.opened || this.paused)) {
                  if (this.opened = !0, this.animated = !0, this.$el.addClass("i-dropped").trigger("beforeOpen"), t) return this.$body.removeClass("i-hidden"), this.$el.trigger("afterOpen"), void(this.animated = !1);
                  (0, s.lazyVelocity)().then(function () {
                    e.$body.css("opacity", 0).velocity("slideDown", {
                      queue: !1,
                      easing: "easeOutCubic",
                      duration: .75 * o.dur,
                      complete: function () {
                        e.$body.removeClass("i-hidden")
                      }
                    }).velocity({
                      opacity: 1
                    }, {
                      queue: !1,
                      easing: "easeOutCubic",
                      duration: .5 * o.dur,
                      delay: .75 * o.dur,
                      complete: function () {
                        e.$body.attr("style", ""), e.$el.trigger("afterOpen"), e.animated = !1
                      }
                    })
                  })
                }
              }
            }, {
              key: "close",
              value: function () {
                var e = this,
                  t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                if (!this.animated && this.opened && !this.paused) {
                  if (this.opened = !1, this.animated = !0, this.$el.removeClass("i-dropped").trigger("beforeClose"), t) return this.$body.addClass("i-hidden"), this.$el.trigger("beforeClose"), void(this.animated = !1);
                  (0, s.lazyVelocity)().then(function () {
                    e.$body.velocity({
                      opacity: 0
                    }, {
                      queue: !1,
                      easing: "easeOutCubic",
                      duration: .5 * o.dur
                    }).velocity("slideUp", {
                      queue: !1,
                      easing: "easeOutCubic",
                      duration: .75 * o.dur,
                      delay: .5 * o.dur,
                      complete: function () {
                        e.$body.attr("style", "").addClass("i-hidden"), e.$el.trigger("afterClose"), e.animated = !1
                      }
                    })
                  })
                }
              }
            }]), e
          }();
        $.fn.tvExpand = (0, r.createTvBlockWithInstance)("tv-expand", function (t) {
          var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new a(e.extend(i, {
            $el: t
          }))
        })
      }).call(this, i("F/us"))
    },
    ufy5: function (e, t, i) {
      "use strict";
      (function (t) {
        var n = i("CzJ+").ExchangeSession,
          o = i("LxhU").Interval,
          r = i("LxhU").ResolutionKind,
          s = i("Kxc7"),
          a = i("NAul").periodBackInMsecs,
          l = function () {
            function e(e, t, i) {
              var n = o.parse(e);
              return n.kind() === r.Hours ? new h(60 * n.multiplier() * 60, t) : n.kind() === r.Minutes ? new h(60 * n.multiplier(), t) : n.kind() === r.Seconds ? new h(n.multiplier(), t) : n.kind() === r.Range ? new h(60 * n.multiplier(), t) : new d(t, i, n.multiplier(), function (e, t) {
                switch (e) {
                  case r.Days:
                    return new S(t);
                  case r.Weeks:
                    return new b(t);
                  case r.Months:
                    return new w(t)
                }
                return console.error("unknown dwm resolution: " + e), null
              }(n.kind(), t))
            }

            function l(e, t, i) {
              var n, o, r, s, a, l = t;
              for (e.moveTo(l), n = [], o = 0, r = 0; !i(n, l);) {
                if (o > 5) throw console.trace(["0x10", new Date(t), "->", new Date(l)]), new Error("Internal error 0x10 while extrapolating.");
                if ((s = e.indexOfBar(l)) === x) l = e.startOfBar(0);
                else if (s === E) l = e.startOfBar(E);
                else {
                  if ((a = e.startOfBar(s)) !== t) {
                    if (r && r === a) throw console.trace(["0x11", new Date(t), "->", new Date(a)]), new Error("Internal error 0x11 while extrapolating.");
                    r = a, o = 0, n.push(a)
                  }
                  l = e.startOfBar(s + 1)
                }
                e.moveTo(l), o++
              }
              return n
            }

            function c(e) {
              if (isNaN(e)) return NaN;
              var t = this.indexOfBar(e);
              return t === E && (this.moveTo(e), t = this.indexOfBar(e)), t < 0 ? NaN : this.startOfBar(t)
            }

            function u(e, t, i) {
              for (var n, o = L.clone(t); e.isWeekEnd(L.get_day_of_week(o));) L.add_date(o, 1);
              return n = e.bordersOfDailyBar(o, i), L.cal_to_utc(i, n.from)
            }

            function h(e, t) {
              this.period = e, this.session = t, this.sessionStart = Number.MIN_VALUE, this.sessionEnd = Number.MIN_VALUE
            }

            function d(e, t, i, n) {
              this.period = i, this.sessionTgt = e, this.sessionSrc = t || e, this.builder = n, this.periodStart = -Number.MAX_VALUE, this.periodEnd = -Number.MAX_VALUE, this.periodLastBarStart = -Number.MAX_VALUE
            }

            function p(e, t) {
              var i = L.get_day_of_week(t) - e.firstDayOfWeek();
              return i < 0 ? i + 7 : i
            }

            function f(e, t) {
              var i = t + e.firstDayOfWeek();
              return i > L.SATURDAY ? i - L.SATURDAY : i
            }

            function _(e, t) {
              var i = L.get_day_of_year(t) - 1,
                n = p(e, t) - i % 7;
              return 0 === n ? P(i / 7) : (n >= 0 && (n -= 7), P((n + i) / 7))
            }

            function m(e, t, i) {
              var n, o = 0;
              for (n = t; n < i; ++n) o += e.isWeekEnd(f(e, n)) ? 1 : 0;
              return o
            }

            function g(e, t) {
              var i, n, o = L.get_day_of_year(t) - 1,
                r = p(e, t),
                s = r - o % 7;
              return s < 0 && (s += 7), i = 0, o < 7 - s ? i += m(e, s, r) : (n = 0 === s ? 0 : m(e, s, 7), i += m(e, 0, r) + n), i + _(e, t) * e.weekEndsCount()
            }

            function y() {}

            function v(e) {
              this.sessionsSpec = e
            }

            function S(e) {
              this.session = e
            }

            function b(e) {
              this.session = e
            }

            function w(e) {
              this.session = e
            }

            function P(e) {
              return 0 | e
            }

            function T() {}
            var C, x = -1,
              E = -2,
              I = -3,
              A = "undefined" != typeof window ? window : t,
              L = A.PineJsCalendar ? A.PineJsCalendar : i("jCNj"),
              D = {
                D: 864e5,
                W: 6048e5
              };
            return h.prototype.alignTime = c, h.prototype.alignTimeIfPossible = function (e) {
              var t = this.alignTime(e);
              return isNaN(t) ? e : t
            }, h.prototype.indexOfBar = function (e) {
              return e < this.sessionStart ? x : e >= this.sessionEnd ? E : P(L.time_seconds_diff(e, this.sessionStart) / this.period)
            }, h.prototype.startOfBar = function (e) {
              if (e === E) return this.sessionEnd;
              if (e < 0) throw new Error("Negative offset is not supported");
              return this.sessionStart + L.time_seconds(this.period * e)
            }, h.prototype.isLastBar = function (e, t) {
              return t >= this.sessionStart + L.time_seconds(this.period * (e + 1) - 1)
            }, h.prototype.moveTo = function (e) {
              var t = this.session.timezone,
                i = L.utc_to_cal(t, e),
                n = this.session.spec,
                o = n.alignToSessionStart(i, this.session.timezone);
              this.sessionStart = L.cal_to_utc(t, i), this.sessionEnd = this.sessionStart + L.time_minutes(o)
            }, d.prototype.alignTime = c, d.prototype.alignTimeIfPossible = function (e) {
              return this.tradingDayToSessionStart(e)
            }, d.prototype.tradingDayToSessionStart = function (e) {
              return this.moveTo(e), this.startOfBar(0)
            }, d.prototype.indexOfBar = function (e) {
              return e < this.periodStart ? x : e >= this.periodEnd ? E : 0
            }, d.prototype.startOfBar = function (e) {
              if (e === E || e > 0) return this.periodEnd;
              if (e === x) throw new Error("PRE_SESSION is not supported");
              return this.periodStart
            }, d.prototype.isLastBar = function (e, t) {
              return t >= this.periodLastBarStart
            }, d.prototype.moveTo = function (e) {
              var t, i, n, o, r, s, a, l, c = L.utc_to_cal(this.sessionSrc.timezone, e);
              c = this.sessionSrc.spec.correctTradingDay(c, this.sessionSrc.timezone), t = this.sessionTgt.timezone, -1 === (i = this.builder.indexOfPeriod(c, t)) && (i *= this.period), n = P(i / this.period) * this.period, o = L.get_year(c), r = this.sessionTgt.spec, s = this.builder.startOfPeriod(t, n, o), this.periodStart = u(r, s, t), a = n + this.period, l = this.builder.startOfPeriod(t, a, o), this.periodEnd = u(r, l, t), L.add_date(l, -1), this.moveToPrevWorkDay(r, l), this.periodLastBarStart = u(r, l, t), (this.periodLastBarStart < this.periodStart || this.periodLastBarStart === this.periodEnd) && (this.periodLastBarStart = this.periodStart)
            }, d.prototype.moveToPrevWorkDay = function (e, t) {
              for (; e.isWeekEnd(L.get_day_of_week(t));) L.add_date(t, -1)
            }, y.prototype.indexOfPeriod = function (e) {
              return L.get_day_of_year(e) - 1
            }, y.prototype.startOfPeriod = function (e, t, i) {
              var n = L.get_cal(e, i, L.JANUARY, 1),
                o = L.add_days_considering_dst(e, n, t);
              return L.utc_to_cal(e, +o)
            }, v.prototype.uber = new y, v.prototype.indexOfPeriod = function (e) {
              return this.uber.indexOfPeriod(e) - g(this.sessionsSpec, e)
            }, v.prototype.startOfPeriod = function (e, t, i) {
              function n(e, t) {
                this.weekEnds = m(e, t, 7), this.calendarDays = 7 - t, this.businessDays = this.calendarDays - this.weekEnds
              }
              var o, r, s, a, l, c = function (e, t) {
                var i = new Date(Date.UTC(t, 11, 31, 23, 59)),
                  n = L.days_per_year(t) - g(e, i);
                return e.isWeekEnd(L.get_day_of_week(i)) && n--, n
              }(this.sessionsSpec, i);
              return t >= c && (i++, t = 0), o = this, n.prototype.isIncomplete = function () {
                return 7 !== this.calendarDays
              }, r = new Date(Date.UTC(i, L.JANUARY, 1)), s = p(this.sessionsSpec, r), l = t < (a = new n(this.sessionsSpec, s)).businessDays ? function (e, t) {
                var i, n = 0;
                for (i = e; i < 7 && (o.sessionsSpec.isWeekEnd(f(o.sessionsSpec, i)) || !(--t < 0)); ++i) n++;
                return n
              }(s, t) : function (e, t) {
                var i, n, r, s, a = 0,
                  l = 7 - o.sessionsSpec.weekEndsCount(),
                  c = t % l,
                  u = e.isIncomplete() ? e.businessDays : 0,
                  h = c - u;
                for (h < 0 && (h += l),
                  i = 0; i < 7 && h >= 0; ++i) a += (n = o.sessionsSpec.isWeekEnd(f(o.sessionsSpec, i))) ? 1 : 0, h -= n ? 0 : 1;
                return r = e.weekEnds + a, s = P((t - e.businessDays) / (7 - o.sessionsSpec.weekEndsCount())), t + (r + o.sessionsSpec.weekEndsCount() * s)
              }(a, t), this.uber.startOfPeriod(e, l, i)
            }, S.prototype.indexOfPeriod = function (e) {
              return this.builder().indexOfPeriod(e)
            }, S.prototype.startOfPeriod = function (e, t, i) {
              return this.builder().startOfPeriod(e, t, i)
            }, S.prototype.builder = function () {
              return this._builder || (this._builder = this.session.spec.hasWeekEnds() ? new v(this.session.spec) : new y), this._builder
            }, b.prototype.indexOfPeriod = function (e, t) {
              var i = _(this.session.spec, e);
              return 0 === i && e < this.startOfPeriod(t, 0, L.get_year(e)) && (i = -1), i
            }, b.prototype.startOfPeriod = function (e, t, i) {
              var n, o, r = new Date(Date.UTC(i, L.JANUARY, 1)),
                s = p(this.session.spec, r),
                a = 0 === s ? 7 * t : 7 * (t + 1) - s,
                l = L.get_days_per_year(r);
              return a > l ? this.startOfPeriod(e, 0, i + P(a / l)) : (n = L.get_cal(e, i, L.JANUARY, 1), o = L.add_days_considering_dst(e, n, a), L.utc_to_cal(e, +o))
            }, w.prototype.indexOfPeriod = function (e) {
              return L.get_month(e)
            }, w.prototype.startOfPeriod = function (e, t, i) {
              var n;
              return t < 0 ? (i -= n = P((11 - t) / 12), t += 12 * n) : t > L.DECEMBER && (i++, t = L.JANUARY), L.get_cal_utc(i, t, 1)
            }, T.prototype.init = function (e, t) {
              return this.timezone = "string" == typeof e ? L.get_timezone(e) : e, this.spec = new n(t), this
            }, C = (new T).init("Etc/UTC", "0000-0000:1234567"), {
              PRE_SESSION: x,
              POST_SESSION: E,
              LASTBAR_SESSION: I,
              newBarBuilder: e,
              Session: T,
              alignPeriodsBack: function (e, t, i, n, r) {
                var s, l, c, u, h = (new T).init("Etc/UTC", e),
                  d = "" !== t;
                return d ? (l = a(o.parse(i + t), r), s = D.D) : (l = 60 * i * 1e3, s = 60 * h.spec.findSessionEntry(0, 0).length() * 1e3), c = s / l, n < (u = (d ? 7 : 7 - h.spec.weekEndsCount()) * c) ? r - n / c * D.D : r - n / u * D.W
              },
              extrapolateBarsFrontByCount: function (e, t, i) {
                return l(e, t, function (e, t) {
                  return e.length >= i
                })
              },
              extrapolateBarsFrontToTime: function (e, t, i, n) {
                if ("number" != typeof i || "number" != typeof t || isNaN(i) || isNaN(t)) throw new Error("Cannot extrapolate from " + t + " to " + i);
                return l(e, t, function (e, t) {
                  return t > i || n && e.length > n
                })
              },
              lower_bound: function (e, t, i) {
                var n, o, r, s, a = e.length;
                if (0 === a) return -1;
                for (r = P(((n = 0) + (o = a - 1)) / 2);;) {
                  if (0 === (s = i(e[r], t)) || s > 0) {
                    if ((o = r - 1) < n) return r
                  } else if (o < (n = r + 1)) return r < a - 1 ? r + 1 : -1;
                  r = P((n + o) / 2)
                }
              },
              isTradingNow: function (e, t) {
                var i = L.utc_to_cal(t.timezone, +e),
                  n = L.get_day_of_week(i),
                  o = L.get_minutes_from_midnight(i),
                  r = t.spec.findSessionEntry(n, o);
                return r.isOvernight() && o > r.start() + r.length() && n === r.dayOfWeek() - 1 && (n++, o -= 1440), n === r.dayOfWeek() && o >= r.start() && o < r.start() + r.length()
              },
              numberOfFullWeeks: _,
              numberOfWeekEndsSinceYearStart: g,
              BusinessDaysBuilder: v,
              alignExchangeTimeToSessionStartAndReturnUTC: function (e, t, i) {
                var n = L.clone(i);
                return t.alignToSessionStart(n, e), L.cal_to_utc(e, n)
              },
              createDWMAligner: function (t, i) {
                return !s.enabled("disable_resolution_rebuild") && o.isDWM(t) ? e(t, i, C) : null
              }
            }
          }();
        e.exports = l
      }).call(this, i("yLpj"))
    },
    ujSL: function (e, t, i) {
      "use strict";

      function n() {
        if (void 0 !== l) return l;
        return l = Object(r.fetch)("/check_language/", {
          method: "POST"
        }).then(function (e) {
          if (e.ok) return e.json();
          throw new Error(e.statusText)
        }).catch(function (e) {
          return a.logWarn(e.message), {}
        })
      }
      var o, r, s, a, l;
      i.r(t), i.d(t, "userGeoInfo", function () {
        return n
      }), o = i("bSeV"), r = i("BHQF"), s = i("uOxu"), a = Object(s.getLogger)("User.GeoInfo")
    },
    ulZB: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.d(t, "a", function () {
        return s
      }), i.d(t, "b", function () {
        return a
      }), n = i("mrSG"), o = i("aIyQ"), r = i.n(o), a = function (e) {
        function t() {
          return null !== e && e.apply(this, arguments) || this
        }
        return n.__extends(t, e), t.prototype._serialize = function (e) {
          return e
        }, t.prototype._deserialize = function (e) {
          return e
        }, t
      }(s = function () {
        function e(e, t, i, n, o) {
          var s = this;
          this._onChange = new r.a, this._handleChange = function () {
            s._onChange.fire(s.get())
          }, this._crossTabEvents = e, this._jsonKeyValueStore = t, this.CROSSTAB_EVENT_NAME = i, this.JSON_STORE_KEY = n, this.defaultStoreValue = this._serialize(o), this._subscribe()
        }
        return e.prototype.get = function () {
          var e = this._jsonKeyValueStore.getJSON(this.JSON_STORE_KEY, this.defaultStoreValue);
          return this._deserialize(e)
        }, e.prototype.set = function (e, t) {
          var i = this._serialize(e);
          this._jsonKeyValueStore.setJSON(this.JSON_STORE_KEY, i, t), this._crossTabEvents.emit(this.CROSSTAB_EVENT_NAME), this._onChange.fire(e)
        }, e.prototype.getOnChange = function () {
          return this._onChange
        }, e.prototype.destroy = function () {
          this._unsubscribe(), this._onChange.destroy(), delete this._onChange
        }, e.prototype._subscribe = function () {
          this._crossTabEvents.on(this.CROSSTAB_EVENT_NAME, this._handleChange), this._jsonKeyValueStore.onSync.subscribe(this, this._handleChange)
        }, e.prototype._unsubscribe = function () {
          this._crossTabEvents.off(this.CROSSTAB_EVENT_NAME, this._handleChange), this._jsonKeyValueStore.onSync.unsubscribe(this, this._handleChange)
        }, e
      }())
    },
    upNJ: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        var n, o, s;
        void 0 === t && (t = "y"), void 0 === i && (i = {}), n = "/order/", s = "bitcoin" === (o = i.paymentMethod || "paypal") ? "Bitcoin payment" : "Paypal payment", window.runOrSignIn(function () {
          if ("function" != typeof i.canVisit || i.canVisit()) {
            var s = Object(r.parseHtmlElement)('<form action="' + n + '" method="post" ' + (i.newWindow ? 'target="_blank"' : "") + '>\n\t\t\t\t\t<input type="hidden" name="product" value="' + e + '"/>\n\t\t\t\t\t<input type="hidden" name="billing_cycle" value="' + t + '"/>\n\t\t\t\t\t<input type="hidden" name="fixed_billing_cycle" value="' + (i.fixedCycle ? "1" : "") + '"/>\n\t\t\t\t\t<input type="hidden" name="exchanges_only" value="' + (i.exchangesOnly ? "1" : "") + '"/>\n\t\t\t\t\t<input type="hidden" name="is_upgrade_from_m" value="' + (i.upgradeFromM ? "1" : "") + '"/>\n\t\t\t\t\t<input type="hidden" name="selected_packages" value="' + (i.selectedPackages || []).join(",") + '"/>\n\t\t\t\t\t<input type="hidden" name="payment_method" value="' + o + '"/>\n\t\t\t\t</form>');
            s && (document.body.appendChild(s), s.submit())
          } else location.href = "/"
        }, {
          source: s
        })
      }
      var o, r;
      i.r(t), i.d(t, "visitPaymentPage", function () {
        return n
      }), o = i("bSeV"), r = i("TzTt")
    },
    v5F8: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = t || n.createProperties();
        r.call(this, e, i), this._constructor = "LineToolSchiffPitchfork"
      }
      var o = i("5rJj"),
        r = i("aDyP").LineToolPitchfork;
      inherit(n, r), n.prototype.title = function () {
        return window.t("Modified Schiff Pitchfork")
      }, n.prototype.name = function () {
        return "Modified Schiff Pitchfork"
      }, n.createProperties = function (e) {
        var t = new o("linetoolschiffpitchfork", e, !1, {
          range: [0, 8]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineToolSchiffPitchfork = n
    },
    vADo: function (e, t, i) {
      "use strict";
      (function (t) {
        function i(e) {
          t.call(this, ""), this.subscribe(this, i.prototype.checkSelfColor), this.reloadProperties(e)
        }
        inherit(i, t), i.prototype.reloadProperties = function (e) {
          for (; this._childs.length > 0;) this.removeProperty(this._childs[0]);
          this._initValues = [];
          for (var t = 0; t < e.length; ++t) this._initValues.push(e[t].defaultValue), this.addChild(t, e[t].property);
          this.checkSelfColor()
        }, i.prototype.setValue = function (e, i) {
          if (this._value !== e || i) {
            var n = this;
            this._childs.forEach(function (t) {
              n[t].setValue(e || n._initValues[t])
            }), t.prototype.setValue.call(this, e, i)
          }
        }, i.prototype.checkSelfColor = function () {
          var e, i = !0;
          for (e = 0; e < this._initValues.length; ++e)
            if (this[e].value() !== this[0].value()) {
              i = !1;
              break
            } t.prototype.setValue.call(this, i ? this[0].value() : "")
        }, e.exports = i
      }).call(this, i("tc+8"))
    },
    vAx0: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e, t) {
          this._lastClickedId = null, this._model = e, this._study = t, this._metaInfo = t.metaInfo(), this._lollipops = {}, this._textCache = {}, this.templatesCache = {}, this._invalidated = !0, this.templatesCache.hovered = this.createTemplate(this.hoveredStyle), this.templatesCache.default = this.createTemplate(this.defaultStyle), e.properties().paneProperties.background.subscribe(this, this.onPaneBgChange)
        }

        function o(e) {
          this.data = e
        }

        function r(e) {
          this.data = e, this._hittest = new d(d.CUSTOM, e)
        }

        function s(e, t) {
          this._data = e, this._paneView = t, this.textRenderer = new s.TextRenderer(e.style.lollipop.importance)
        }

        function a(e, t) {
          this.defaultStyle = {
            strokeStyle: "#eb4d5c",
            lineWidth: 1,
            fillStyle: "white",
            barLine: {
              lineStyle: CanvasEx.LINESTYLE_DASHED
            },
            lollipop: {
              width: 32,
              height: 96,
              circleHeight: 16,
              radius: 12,
              lineWidth: 2,
              importance: "earnings",
              strokeStyle: "#eb4d5c",
              fillStyle: e.properties().paneProperties.background.value(),
              fillCircle: !0,
              text: {
                label: "E",
                strokeStyle: "#eb4d5c",
                font: "normal 12px " + y
              }
            }
          };
          this.hoveredStyle = $.extend(!0, {}, this.defaultStyle, {
            strokeStyle: "#e8304f",
            lollipop: {
              fillCircle: !0,
              fillStyle: "#eb4d5c",
              text: {
                strokeStyle: "white"
              }
            }
          }), this._percentageFormatter = new _, n.call(this, e, t)
        }

        function l(e, t) {
          this.defaultStyle = {
            strokeStyle: "#53b987",
            lineWidth: 1,
            fillStyle: "white",
            barLine: {
              lineStyle: CanvasEx.LINESTYLE_DASHED
            },
            lollipop: {
              width: 32,
              height: 96,
              circleHeight: 16,
              radius: 12,
              lineWidth: 2,
              importance: "splits",
              strokeStyle: "#53b987",
              fillStyle: e.properties().paneProperties.background.value(),
              fillCircle: !0,
              text: {
                label: "S",
                strokeStyle: "#53b987",
                font: "normal 12px " + y
              }
            }
          };
          this.hoveredStyle = $.extend(!0, {}, this.defaultStyle, {
            strokeStyle: "#53b987",
            lollipop: {
              fillCircle: !0,
              fillStyle: "#53b987",
              text: {
                strokeStyle: "white"
              }
            }
          }), n.call(this, e, t)
        }

        function c(e, t) {
          this.defaultStyle = {
            strokeStyle: "#0496ff",
            lineWidth: 1,
            fillStyle: "white",
            barLine: {
              lineStyle: CanvasEx.LINESTYLE_DASHED
            },
            lollipop: {
              width: 32,
              height: 96,
              circleHeight: 16,
              radius: 12,
              lineWidth: 2,
              importance: "dividends",
              strokeStyle: "#0496ff",
              fillStyle: e.properties().paneProperties.background.value(),
              fillCircle: !0,
              text: {
                label: "D",
                strokeStyle: "#0496ff",
                font: "normal 12px " + y
              }
            }
          };
          this.hoveredStyle = $.extend(!0, {}, this.defaultStyle, {
            strokeStyle: "#0496ff",
            lollipop: {
              fillCircle: !0,
              fillStyle: "#0496ff",
              text: {
                strokeStyle: "white"
              }
            }
          }), n.call(this, e, t)
        }
        var u = i("aO4+").Point,
          h = i("f6yo").pointInCircle,
          d = i("VdBB").HitTestResult,
          p = i("Zy3/").CompositeRenderer,
          f = i("6xeX").Tooltip,
          _ = i("GH0z").PercentageFormatter,
          m = i("55Xp").roundToFirstValuable,
          g = i("Ai40"),
          y = i("zDbI").CHART_FONT_FAMILY,
          v = 10;
        n.prototype.onPaneBgChange = function () {
            this.defaultStyle.lollipop.fillStyle = this._model.properties().paneProperties.background.value(), this._stylesCache = null, Object.keys(this.templatesCache).forEach(function (e) {
              0 === e.indexOf("default") && (this.templatesCache[e] = null)
            }, this)
          }, n.prototype.onClickOutside = function () {
            this._lastClickedId = null
          }, n.prototype.closeTooltips = function () {
            var e, t;
            for (e in this._lollipops) this._lollipops.hasOwnProperty(e) && (t = this._lollipops[e]).visible && (t.tooltip.isOpened() && t.tooltip.hide(), t.visible = !1)
          }, n.prototype.getLastClickedLollipopId = function () {
            return this._lastClickedId
          }, n.prototype._setStackStudies = function () {
            var e, t, i;
            if (this._stackStudies = [], !(this._study instanceof g.study_ESD$TV_EARNINGS))
              for (e = this._model.dataSources(), t = 0; t < e.length; ++t)((i = e[t]) instanceof g.study_ESD$TV_EARNINGS || i instanceof g.study_ESD$TV_SPLITS && this._study instanceof g.study_ESD$TV_DIVIDENDS) && this._stackStudies.push(i)
          }, n.prototype._getY = function () {
            var e, t, i = 0,
              n = this._model.panes();
            for (e = n.length; e--;)(t = n[e]).containsMainSeries() && (i += t.height());
            return i
          }, n.prototype.update = function () {
            this._invalidated = !0
          }, n.prototype.updateImpl = function () {
            var e, t, i, n, o, r, s, a, l, c;
            this._setStackStudies(), e = this, t = this._study.data(), n = (i = this._model.timeScale()).visibleBarsStrictRange(), o = this._model.mainSeries().bars(), r = this._study.priceScale(), s = this._model.mainSeries().firstBar(), r && !r.isEmpty() && !i.isEmpty() && s && t && (this.closeTooltips(), a = this._getY(), l = n.firstBar(), c = n.lastBar(), t.range(l, c).each(function (t, n) {
              var s, u = 0;
              for (s = 0; s < e._stackStudies.length; ++s) e._stackStudies[s].data().contains(t) && ++u;
              t > l && t < c && e.addLollipop(a, o, i, r, t, n, u)
            }), this.afterUpdate(a, o, i, r))
          }, n.prototype.addLollipop = function (e, t, i, n, o, r, s) {
            var a, l, c, h, d, p, _, m, g = r[0],
              y = this._model.mainSeries().symbolInfo();
            y && (a = y.name, l = null, c = this._study.metaInfo().id + "_" + g + "_" + a, (d = (h = this._model.lastHittestData()) && h.id === c) && null !== (p = t.valueAt(o)) && (_ = p[TradingView.LOW_PLOT], m = this._model.mainSeries().firstValue(), l = n.priceToCoordinate(_, m)), this._lollipops[c] = Object.assign({
              id: c,
              visible: !0,
              basePoint: new u(i.indexToCoordinate(o) + 1, e),
              hovered: d || c === this.getLastClickedLollipopId(),
              barY: l,
              stack: s,
              tooltip: this._lollipops.hasOwnProperty(c) ? this._lollipops[c].tooltip : new f
            }, this.extraData(r)))
          }, n.prototype.afterUpdate = function (e, t, i) {}, n.prototype.extraData = function (e) {
            throw new Error("Not Implemented")
          }, n.prototype.createText = function (e, t) {
            throw new Error("Not Implemented")
          }, n.prototype.showBarLine = function () {
            return !0
          },
          n.prototype.getStyle = function (e, t) {
            var i, n = e;
            return t.stack && (n += "_stack:" + t.stack), "hovered" === n ? this.hoveredStyle : "default" === n ? this.defaultStyle : (this._stylesCache || (this._stylesCache = {}), this._stylesCache[n] || (i = TradingView.clone("hovered" === e ? this.hoveredStyle : this.defaultStyle), t.stack && (i.lollipop.incHeight = 24 * t.stack), this._stylesCache[n] = i), this._stylesCache[n])
          }, n.prototype.hasTooltip = function (e) {
            return !0
          }, n.prototype.renderer = function () {
            var e, t, i, n, a, l, c, h, d;
            for (t in this._invalidated && (this.updateImpl(), this._invalidated = !1), e = new p, this._lollipops) this._lollipops.hasOwnProperty(t) && (i = this._lollipops[t], n = 15, a = this.getStyle(i.hovered ? "hovered" : "default", i), i.visible && (l = Object.assign({
              tooltipPoint: new u(i.basePoint.x, i.basePoint.y - a.lollipop.circleHeight - n - (a.lollipop.incHeight || 0)),
              style: a,
              createText: this.createText.bind(this)
            }, i), c = this.getTemplate(i.hovered ? "hovered" : "default", i), h = {
              circlePoint: new u(i.basePoint.x, i.basePoint.y - a.lollipop.circleHeight - (a.lollipop.incHeight || 0)),
              style: a,
              template: c,
              basePoint: i.basePoint,
              id: i.id,
              mouseClickHandler: this._lollipopMouseClickHandler.bind(this, i.id)
            }, e.append(new r(h)), i.hovered && this.hasTooltip(i) && i.barY && this.showBarLine() && (d = {
              style: {
                lineStyle: a.barLine.lineStyle,
                strokeStyle: a.strokeStyle,
                lineWidth: a.lineWidth
              },
              startPoint: new u(i.basePoint.x, i.basePoint.y - a.lollipop.circleHeight),
              endPoint: new u(i.basePoint.x, i.barY)
            }, e.append(new o(d))), e.append(new s(l, this))));
            return e
          }, n.prototype.getTemplate = function (e, t) {
            var i = e;
            return t.stack && (i += "_stack:" + t.stack), this.templatesCache[i] || (this.templatesCache[i] = this.createTemplate(this.getStyle(e, t))), this.templatesCache[i]
          }, n.prototype.createTemplate = function (e) {
            var t = document.createElement("canvas"),
              i = t.getContext("2d"),
              n = new u(e.lollipop.width / 2, e.lollipop.height - e.lollipop.circleHeight - (e.lollipop.incHeight || 0));
            return this.drawCircle(i, e, n), this.drawLabel(i, e, n), t
          }, n.prototype.drawCircle = function (e, t, i) {
            e.strokeStyle = t.strokeStyle, e.fillStyle = t.lollipop.fillStyle, e.lineWidth = t.lollipop.lineWidth, CanvasEx.setLineStyle(e, CanvasEx.LINESTYLE_SOLID), e.beginPath(), e.arc(i.x, i.y, t.lollipop.radius, 0, 2 * Math.PI, !1), e.closePath(), e.stroke(), t.lollipop.fillCircle && e.fill()
          }, n.prototype.drawLabel = function (e, t, i) {
            e.textAlign = "center", e.textBaseline = "middle", e.fillStyle = t.lollipop.text.strokeStyle, e.font = t.lollipop.text.font, e.fillText(t.lollipop.text.label, i.x, i.y)
          }, n.prototype._lollipopMouseClickHandler = function (e) {
            this._lastClickedId = this._lastClickedId === e ? null : e
          }, o.prototype.draw = function (e) {
            e.strokeStyle = this.data.style.strokeStyle, e.lineWidth = this.data.style.lineWidth, CanvasEx.setLineStyle(e, this.data.style.lineStyle), CanvasEx.drawLine(e, this.data.startPoint.x, this.data.startPoint.y, this.data.endPoint.x, this.data.endPoint.y)
          }, o.prototype.hitTest = function (e) {
            return null
          }, r.prototype.hitTest = function (e) {
            return h(e, this.data.circlePoint, this.data.style.lollipop.radius) ? this._hittest : null
          }, r.prototype.draw = function (e) {
            var t = this.data.template;
            e.drawImage(t, this.data.basePoint.x - (.5 + this.data.style.lollipop.width / 2 << 0) + .5, this.data.basePoint.y - this.data.style.lollipop.height + .5)
          }, s.prototype.draw = function (e) {
            this._data.createText(this._data, this.textRenderer), this._paneView.getLastClickedLollipopId() === this._data.id ? this._data.tooltip.show({
              items: [this.textRenderer],
              x: this._data.basePoint.x,
              y: this._data.basePoint.y - this._data.style.lollipop.circleHeight - v - 2 * this._data.style.lollipop.radius * (this._data.stack ? this._data.stack : 0),
              wrapElement: e.canvas.parentNode,
              leftBorderColor: this._data.color
            }) : this._data.tooltip.hide()
          }, s.prototype.hitTest = function (e) {
            return null
          }, s.TextRenderer = function (e) {
            this.lines = [], this.fontHeight = 12, this.font = this.fontHeight + "px " + y, this.lineSpacing = 8, this.fillStyle = "black", e && (this.importance = e)
          }, s.TextRenderer.prototype.draw = function (e, t) {
            var i, n, o = t.y;
            for (i = 0; i < this.lines.length; i++) n = this.lines[i], e.font = this.font, n.options.fontWeight && (e.font = n.options.fontWeight + " " + this.font), e.fillStyle = this.fillStyle, n.renderer(e, n.line, {
              x: t.x,
              y: o
            }), o += this.lineSpacing + this.fontHeight
          }, s.TextRenderer.prototype.measure = function () {
            return this.lines.length * (this.fontHeight + this.lineSpacing) - this.lineSpacing
          }, s.TextRenderer.prototype.basicRenderer = function (e, t, i) {
            e.fillText(t, i.x, i.y)
          }, s.TextRenderer.prototype.addMulticolorTextLine = function (e, t) {
            this.addTextLine(e, t, this.multicolorRenderer)
          }, s.TextRenderer.prototype.addTextLine = function (e, t, i) {
            i || (i = this.basicRenderer), t || (t = {}), this.lines.push({
              line: e,
              renderer: i,
              options: t
            })
          }, s.TextRenderer.prototype.multicolorRenderer = function (e, t, i) {
            var n, o, r = i.x;
            for (n = 0; n < t.length; ++n) o = t[n], e.fillStyle = o.color, e.fillText(o.text, r, i.y), r += e.measureText(o.text).width
          }, inherit(a, n), a.prototype.extraData = function (e) {
            var t = e[1],
              i = e[2],
              n = e[3],
              o = e[4];
            return {
              reported: t,
              estimate: i,
              period: n,
              date: o
            }
          }, a.prototype.afterUpdate = function (e, t, i, n) {
            var o, r = this._study.getEstimate();
            r && ((o = r.value.slice())[4] *= 1e3, this.addLollipop(e, t, i, n, r.index, o))
          }, a.prototype.createText = function (t, i) {
            var n, o, r, s, a = t.reported,
              l = t.estimate,
              c = null !== a && void 0 !== a,
              u = null !== l && void 0 !== l;
            c && i.addTextLine($.t("Earnings") + ": " + m(a), {
              fontWeight: "bold"
            }), u && (c ? i.addTextLine($.t("Estimate") + ": " + m(l)) : i.addTextLine($.t("Estimate") + ": " + m(l), {
              fontWeight: "bold"
            })), c && u && null !== (n = a - l) && void 0 !== n && (o = n > 0 ? "#238853" : "#DD5538", r = 100 * Math.abs(n / l), s = m(n), isFinite(r) && (s += " (" + this._percentageFormatter.format(r) + ")"), i.addMulticolorTextLine([{
              text: $.t("Surprise") + ": ",
              color: "black"
            }, {
              text: s,
              color: o
            }])), i.addTextLine($.t("Date") + ": " + e(t.date).format("D MMM YYYY")), t.period && i.addTextLine($.t("Period Ending") + ": " + e.unix(t.period).format("MMM YYYY"))
          }, a.prototype.showBarLine = function () {
            return !this._model.mainSeries().properties().esdShowBreaks.value()
          }, a.prototype.renderer = function () {
            var e, t, i, r, s, a, l, c = n.prototype.renderer.call(this),
              h = this._model.mainSeries().properties();
            if (h.esdShowBreaks.value())
              for (r in e = h.esdBreaksStyle.color.value(), t = h.esdBreaksStyle.style.value(), i = h.esdBreaksStyle.width.value(),
                this._lollipops) this._lollipops.hasOwnProperty(r) && (s = this._lollipops[r]).visible && (a = this.defaultStyle, s.hovered && (a = this.hoveredStyle), l = $.extend({
                startPoint: new u(s.basePoint.x, s.basePoint.y - a.lollipop.circleHeight - a.lollipop.radius),
                endPoint: new u(s.basePoint.x, 0),
                style: {
                  strokeStyle: e,
                  lineWidth: i,
                  lineStyle: t
                }
              }, s), c.insert(new o(l), 0));
            return c
          }, inherit(l, n), l.prototype.extraData = function (e) {
            var t = e[1],
              i = e[2],
              n = e[3];
            return {
              numerator: i,
              denominator: t,
              date: n
            }
          }, l.prototype.createText = function (t, i) {
            $.isNumeric(t.numerator) && $.isNumeric(t.denominator) && i.addTextLine($.t("Split") + ": " + t.numerator + "/" + t.denominator, {
              fontWeight: "bold"
            }), i.addTextLine($.t("Date") + ": " + e(t.date).format("D MMM YYYY"))
          }, inherit(c, n), c.prototype.extraData = function (e) {
            return {
              value: e[1],
              date: e[2]
            }
          }, c.prototype.createText = function (t, i) {
            var n = +t.value;
            isFinite(n) && i.addTextLine($.t("Dividends") + ": " + m(n), {
              fontWeight: "bold"
            }), i.addTextLine($.t("Date") + ": " + e(t.date).format("D MMM YYYY"))
          }, t.ESDPaneView = n, t.EarningsPaneView = a, t.DividendsPaneView = c, t.SplitsPaneView = l
      }).call(this, i("ldgD"))
    },
    vKju: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(3 4)"><circle cx="10.5" cy="10.5" r="8"/><path d="M7 10.5h3.5V5M7.223 3.24A3 3 0 1 0 3.23 7.218m14.565-.011a3 3 0 1 0-4.019-3.966"/></g></svg>'
    },
    vPbs: function (e, t, i) {
      "use strict";

      function n() {
        return Object(o.hasService)(r) ? Object(o.service)(r) : null
      }
      var o, r, s;
      i.r(t), i.d(t, "CHART_WIDGET_COLLECTION_SERVICE", function () {
          return r
        }), i.d(t, "chartWidgetCollectionService", function () {
          return n
        }), i.d(t, "CollectionViewMode", function () {
          return s
        }), o = i("ObRt"), r = {
          id: "ChartWidgetCollectionService"
        },
        function (e) {
          e.Multichart = "multichart", e.ForceFullscreen = "force-fullscreen"
        }(s || (s = {}))
    },
    vTIA: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "tradingPreferencesDefault", function () {
          return n
        }), i.d(t, "CustomSourceLayer", function () {
          return o
        }), n = {
          showPositions: !1,
          showOrders: !1,
          showExecutions: !1,
          extendLeft: !1,
          lineLength: 0,
          lineWidth: 0,
          lineStyle: 0
        },
        function (e) {
          e[e.Background = 0] = "Background", e[e.Foreground = 1] = "Foreground"
        }(o || (o = {}))
    },
    vopJ: function (e, t, i) {
      "use strict";

      function n() {
        this.cache = {}
      }

      function o(e) {
        this.cache = e
      }

      function r(e) {
        this.currentSymbol = null, this.cache = e, this.onDataHandler = this.onData.bind(this), this.onExpiredHandler = this.onExpired.bind(this), this.cache.on("data", this.onDataHandler), this.cache.on("expired", this.onExpiredHandler)
      }
      var s, a = i("4O8T"),
        l = i("0waE"),
        c = i("IWXC").getQuoteSessionInstance,
        u = i("uOxu").getLogger("Chart.EarningsEstimates");
      n.prototype.now = function () {
        return (new Date).getTime()
      }, n.prototype.put = function (e, t, i, n) {
        var o, r, s, a = this.cache[e];
        a && clearTimeout(a.timeout), r = {
          value: t,
          expire: o = i + this.now()
        }, isNaN(o) || (s = setTimeout(function () {
          var t = this.cache[e];
          this.del(e), "function" == typeof n && t && n(e, t.value)
        }.bind(this), i), r.timeout = s), this.cache[e] = r
      }, n.prototype.del = function (e) {
        delete this.cache[e]
      }, n.prototype.get = function (e) {
        var t = this.cache[e];
        if (void 0 !== t) {
          if (isNaN(t.expire) || t.expire >= this.now()) return t.value;
          this.del(e)
        }
        return null
      }, inherit(o, a), o.prototype.maxRetryCount = 1, o.prototype.retryDelay = 5e3, o.prototype.itemExpired = function (e, t) {
        this.emit("expired", t)
      }, o.prototype.getKey = function (e, t) {
        return e + "_" + t
      }, o.prototype.requestSymbol = function (e, t, i) {
        function n() {
          s.unsubscribe(o, r)
        }
        var o, r, s, a = 36e5,
          h = this.getKey(e, t),
          d = this.cache.get(h);
        d ? d.pending || this.emit("data", d, i) : (this.cache.put(h, {
          exchange: e,
          symbol: t,
          pending: !0
        }, a), o = "est-" + l.guid(), r = e.toUpperCase() + ":" + t.toUpperCase(), s = c("full"), u.logNormal("Requesting estimates for " + r), s.subscribe(o, r, function (i, o) {
          var s, l = i && i.values;
          if (l) return !1 === l.fundamental_data ? (u.logNormal('Unsubscribe from quotes due symbol "' + r + '" has no fundamental data'), void n()) : void 0 !== l.type && "stock" !== l.type ? (u.logNormal('Unsubscribe from quotes due symbol "' + r + '" is not stock'), void n()) : void(void 0 !== l.earnings_release_next_date && void 0 !== l.earnings_per_share_forecast_next_fq && (s = {
            date: 1e3 * l.earnings_release_next_date,
            alignedDate: 1e3 * l.earnings_release_next_aligned_date,
            estimate: l.earnings_per_share_forecast_next_fq,
            period: 1e3 * l.earnings_release_next_calendar_date,
            symbol: t,
            exchange: e
          }, u.logNormal('Next earnings release date for "' + r + '" is ' + l.earnings_release_next_date), this.cache.put(h, s, a, this.itemExpired.bind(this)), this.emit("data", s), n()))
        }.bind(this)))
      }, s = new o(new n), inherit(r, a), r.prototype.onData = function (e, t) {
        t && t !== this || this.isCurrentSymbol(e) && this.emit("data", e)
      }, r.prototype.onExpired = function (e) {
        this.isCurrentSymbol(e) && this.setSymbol(e.exchange, e.symbol)
      }, r.prototype.isCurrentSymbol = function (e) {
        return !(!this.currentSymbol || !e) && (this.currentSymbol.exchange === e.exchange && this.currentSymbol.symbol === e.symbol)
      }, r.prototype.resetSymbol = function () {
        this.currentSymbol = null
      }, r.prototype.setSymbol = function (e, t) {
        e = e.toLowerCase(), t = t.toLowerCase(), this.currentSymbol = {
          exchange: e,
          symbol: t
        }, this.cache.requestSymbol(this.currentSymbol.exchange, this.currentSymbol.symbol, this)
      }, r.prototype.destroy = function () {
        this.cache.off("data", this.onDataHandler), this.cache.off("expired", this.onExpiredHandler)
      }, e.exports.createEstimatesProvider = function () {
        return new r(s)
      }
    },
    vu5c: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = function () {
            e.completed().unsubscribe(null, n), t(!1)
          },
          n = function () {
            e.error().unsubscribe(null, i), t(!0)
          };
        e.completed().subscribe(null, i, !0), e.error().subscribe(null, n, !0)
      }
      i.r(t), i.d(t, "onSeriesCompletedOrErrorReceived", function () {
        return n
      })
    },
    w4Ji: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = new Map;
        return e.plots.forEach(function (e, i) {
          t.set(e.id, function (e) {
            return e[i + 1]
          })
        }), t
      }
      i.r(t), i.d(t, "studyPlotFunctionMap", function () {
        return n
      })
    },
    w6b9: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n, l = [];
        return function (e, t) {
            return !(Object(c.enabled)(u.ProductFeatures.TICK_BY_TICK_PUSH_DATA) || r(e.delay) || o(e, t) || a(e))
          }(e, t) && l.push("TickByTick"),
          function (e) {
            return r(e.delay) && !s(e)
          }(e) && (! function (e) {
            return "MOEX" === e.listed_exchange && !window.is_authenticated
          }(e) ? l.push("DelayToRealtime") : l.push("MOEXDelayForGuest")),
          function (e) {
            return r(e.delay) && s(e)
          }(e) && l.push("DelayNoRealtime"), o(e, t) && l.push("EOD"),
          function (e) {
            return d.a.hasBatsSymbols(e.full_name)
          }(e) && l.push("BATSToRealtime"),
          function (e, t) {
            var i = Boolean(window.user.is_trial),
              n = !s(e) && !o(e, t) && !r(e.delay);
            return i && n
          }(e, t) && (i = Boolean(window.user.is_trial), n = Boolean(window.pro && window.pro.offers().length > 40), i && n) && function (e) {
            return !(a(e) || ["SP", "CSE", "TVC"].includes(e.listed_exchange) || "forex" === e.type)
          }(e) && (! function (e) {
            return _.includes(function (e) {
              var t = e.listed_exchange;
              "index" === e.type && f[t] && (t = f[t]);
              return t
            }(e))
          }(e) ? l.push("TrialRealtimeToDelay") : l.push("TrialRealtimeToBATS")), l
      }

      function o(e, t) {
        return d.a.hasEodSymbols(e.full_name) || t === p.STATUS_EOD
      }

      function r(e) {
        return void 0 !== e && e > 0
      }

      function s(e) {
        return "index" === e.type && m.includes(e.listed_exchange)
      }

      function a(e) {
        return "bitcoin" === e.type || "crypto" === e.type
      }
      var l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L, D;
      i.r(t), l = i("mrSG"), i("bSeV"), c = i("NP3r"), u = i("bKsZ"), h = i("8woN"), d = i.n(h), p = i("dfhE"), f = {
          NASDAQ: "NASDAQ_GIDS"
        }, _ = ["NASDAQ", "NYSE", "AMEX"], m = ["DJ", "CBOE"], g = i("PC8g"), y = i("VVxS"), v = i("XHTO"), S = i("YFKU"), i("HbRj"), b = i("oiVR"), P = S.t("Learn more"), T = S.t("Sign up"), C = b.warningLink, (w = {}).TickByTick = function () {
          return {
            lines: [{
              line: S.t("Data provided with the free plan is updated no more than once per second")
            }, {
              line: S.t("Please be advised that data provided with the free plan is updated once per second while any paid plan features faster data updates if trades occur.")
            }, {
              link: {
                href: "#",
                class: C,
                text: P,
                attr: {
                  name: "data-warning",
                  value: "TickByTick"
                }
              }
            }],
            importance: "list"
          }
        }, w.EOD = function () {
          return {
            lines: [{
              line: S.t("End Of Day data")
            }, {
              line: S.t("It is updated once a day.")
            }],
            importance: "list"
          }
        }, w.DelayToRealtime = function (e) {
          return {
            title: S.t("Title"),
            lines: [{
              line: S.t("{symbolName} data is delayed by {time} minutes").format({
                symbolName: e.symbolName,
                time: e.time.toString()
              })
            }, {
              line: S.t("To get real-time data for {description} please purchase the real-time data package.").format({
                description: "<b>" + e.description + "</b>"
              })
            }, {
              link: {
                href: "#",
                class: C,
                text: P,
                attr: {
                  name: "data-warning",
                  value: "DelayToRealtime"
                }
              }
            }],
            importance: "list"
          }
        }, w.DelayNoRealtime = function (e) {
          return {
            lines: [{
              line: S.t("{symbolName} data is delayed by {time} minutes").format({
                symbolName: e.symbolName,
                time: e.time.toString()
              })
            }, {
              line: S.t("Real-time data for {description} is not supported at this time. It may become supported in the future.").format({
                description: "<b>" + e.description + "</b>"
              })
            }],
            importance: "list"
          }
        }, w.TrialRealtimeToDelay = function (e) {
          return {
            lines: [{
              line: S.t("Real-time data for {symbolName} is provided for free only during the trial").format({
                symbolName: e.symbolName
              })
            }, {
              line: S.t("Real-time data for {description} is provided for free only during the trial, as per exchange regulations. After the trial ends, you will have delayed data unless you purchase a real-time data package separately.").format({
                description: "<b>" + e.description + "</b>"
              })
            }, {
              link: {
                href: "#",
                class: C,
                text: P,
                attr: {
                  name: "data-warning",
                  value: "TrialRealtimeToDelay"
                }
              }
            }],
            importance: "list"
          }
        },
        w.BATSToRealtime = function (e) {
          return {
            lines: [{
              line: S.t("Real-time data for {symbolName} is provided by {exchange} exchange").format({
                symbolName: e.symbolName,
                exchange: e.exchange
              })
            }, {
              line: S.t("The data from {exchange} exchange is real-time but it is slightly different from its official counterpart from a primary exchange. If you need the most accurate data, please purchase the {description} real-time feed.").format({
                description: "<b>" + e.description + "</b>",
                exchange: e.exchange
              })
            }, {
              link: {
                href: "#",
                class: C,
                text: P,
                attr: {
                  name: "data-warning",
                  value: "BATSToRealtime"
                }
              }
            }],
            importance: "list"
          }
        }, w.TrialRealtimeToBATS = function (e) {
          return {
            lines: [{
              line: S.t("Real-time data for {symbolName} is provided for free only during the trial").format({
                symbolName: e.symbolName
              })
            }, {
              line: S.t("After the trial ends you will have real-time Cboe BZX data for this symbol unless you purchase a real-time data subscription for {description} separately.").format({
                description: "<b>" + e.description + "</b>"
              })
            }, {
              link: {
                href: "#",
                class: C,
                text: P,
                attr: {
                  name: "data-warning",
                  value: "TrialRealtimeToBATS"
                }
              }
            }],
            importance: "list"
          }
        }, w.MOEXDelayForGuest = function (e) {
          return {
            lines: [{
              line: S.t("{symbolName} data is delayed by {time} minutes").format({
                symbolName: e.symbolName,
                time: e.time.toString()
              })
            }, {
              line: S.t("{listedExchange} real-time data is available for free to registered users. Grab a free account!").format({
                listedExchange: e.listedExchange
              })
            }, {
              link: {
                href: "#",
                class: C,
                text: T,
                attr: {
                  name: "data-warning",
                  value: "MOEXDelayForGuest"
                }
              }
            }],
            importance: "list"
          }
        }, x = w, E = i("s4+V"), I = i("xlKU"), A = function () {
          function e(e) {
            var t = this;
            this._tooltip = null, this._onLinkClick = null, this._openDialog = function (e) {
              Object(E.createGoProDialog)(e).then(function (t) {
                t.open(), Object(g.trackEvent)("Data Warning", "Full description visible", e.feature)
              })
            }, this._createClickHandler = function (e) {
              return function (i) {
                var n, o;
                if (i.target.classList.contains(C) && (i.preventDefault(), n = i.target.dataset.warning)) switch (n) {
                  case "MOEXDelayForGuest":
                    Object(I.showSignModal)({
                      source: "Data warning indicator"
                    });
                    break;
                  default:
                    o = {
                      forceUpgradeBtn: !0,
                      goOnMarkets: !0,
                      customParams: e,
                      feature: n
                    }, t._openDialog(o)
                }
              }
            }, this._opts = e
          }
          return e.prototype.show = function (e, t) {
              var n = this;
              window.pro && window.pro.runOrUpdate(function () {
                return l.__awaiter(n, void 0, void 0, function () {
                  var n, o, r;
                  return l.__generator(this, function (s) {
                    switch (s.label) {
                      case 0:
                        return this._tooltip ? [3, 2] : [4, Promise.resolve().then(i.t.bind(null, "6xeX", 7))];
                      case 1:
                        n = s.sent(), this._tooltip = new n.Tooltip({
                          direction: "bottom",
                          clickable: !0,
                          wide: !0
                        }), s.label = 2;
                      case 2:
                        return o = this._opts.indicatorElem.getBoundingClientRect(), r = this._getTooltipContent(e, t), this._tooltip.show({
                          items: r,
                          x: o.left + o.width / 2,
                          y: 40,
                          wrapElement: this._opts.wrapElem
                        }), this._onLinkClick = this._createClickHandler(t), this._tooltip.getElem().addEventListener("click", this._onLinkClick), Object(g.trackEvent)("Data Warning", "Short description visible"), [2]
                    }
                  })
                })
              })
            }, e.prototype.hide = function () {
              this._tooltip && (this._tooltip.hide(), this._onLinkClick && this._tooltip.getElem().removeEventListener("click", this._onLinkClick))
            },
            e.prototype.isWarningsVisible = function () {
              return !!this._tooltip && this._tooltip.isOpened()
            }, e.prototype._getTooltipContent = function (e, t) {
              return e.map(function (e) {
                return function (e, t) {
                  return x[e](t)
                }(e, t)
              })
            }, e
        }(), i.d(t, "DataWarningIndicator", function () {
          return D
        }), L = "tv.dataWarningsShown", D = function () {
          function e(e) {
            var t = this;
            this._warnings = [], this._wait = null, this._onClick = function () {
              t._viewer.isWarningsVisible() ? t.hideWarnings() : t.showWarnings()
            }, this._onOutsideClick = function (e) {
              t._elem.contains(e.target) || t.hideWarnings()
            }, this._opts = e, this._elem = this._createElem(), this._viewer = new A({
              indicatorElem: this._elem,
              wrapElem: this._opts.wrapElem
            }), this._opts.container.insertAdjacentElement("afterbegin", this._elem), window.addEventListener("storage", function (e) {
              e.key === L && t._toggleBlinking()
            })
          }
          return e.prototype.toggleIndicator = function () {
              var e = this;
              window.pro && window.pro.runOrUpdate(function () {
                e.hideWarnings(), e._warnings = n(e._opts.getSymbolInfo(), e._opts.getStatus()), e._warnings.length > 0 ? e._enable() : e._disable()
              })
            }, e.prototype.showWarnings = function () {
              var e = this;
              this._wait = this._getRenderCtx().then(function (t) {
                e._viewer.show(e._warnings, t), document.addEventListener("click", e._onOutsideClick), e._wait = null
              }), this._invalidateWarnings()
            }, e.prototype.hideWarnings = function () {
              var e = this,
                t = function () {
                  e._viewer.hide(), document.removeEventListener("click", e._onOutsideClick)
                };
              this._wait ? this._wait.then(t) : t()
            }, e.prototype._enable = function () {
              this._elem.classList.add(v.visible), this._unsubscribe(), this._subscribe(), this._toggleBlinking(), Object(g.trackEvent)("Data Warning", "Indicator visible")
            }, e.prototype._disable = function () {
              this._elem.classList.remove(v.visible), this._unsubscribe()
            }, e.prototype._toggleBlinking = function () {
              var e = JSON.parse(y.TVLocalStorage.getItem(L) || "[]"),
                t = !1;
              this._warnings.forEach(function (i) {
                e.includes(i) || (t = !0)
              }), this._elem.classList.toggle(v.attention, t)
            }, e.prototype._invalidateWarnings = function () {
              var e = JSON.parse(y.TVLocalStorage.getItem(L) || "[]"),
                t = !1;
              this._warnings.forEach(function (i) {
                e.includes(i) || (e.push(i), t = !0)
              }), t && (y.TVLocalStorage.setItem(L, JSON.stringify(e)), window.dispatchEvent(new StorageEvent("storage", {
                key: L
              }))), this._elem.classList.remove(v.attention)
            }, e.prototype._createElem = function () {
              var e = document.createElement("div");
              return e.classList.add(v.indicator), e
            }, e.prototype._getRenderCtx = function () {
              return l.__awaiter(this, void 0, void 0, function () {
                var e = this;
                return l.__generator(this, function (t) {
                  return [2, new Promise(function (t, i) {
                    var n = window.pro;
                    n ? n.runOrUpdate(function () {
                      var i = e._opts.getSymbolInfo(),
                        n = i.delay && i.delay > 0 ? i.delay : 900,
                        o = e._getExchange(i);
                      t({
                        time: Math.round(n / 60),
                        exchange: i.exchange,
                        listedExchange: i.listed_exchange,
                        description: o.description_gopro || o.description || i.listed_exchange,
                        symbolName: i.name,
                        username: window.user ? window.user.username : ""
                      })
                    }) : i("Pro module not defined")
                  })]
                })
              })
            }, e.prototype._subscribe = function () {
              this._elem.addEventListener("click", this._onClick)
            }, e.prototype._unsubscribe = function () {
              this._elem.removeEventListener("click", this._onClick)
            },
            e.prototype._getExchange = function (e) {
              var t, i;
              if (!window.pro) throw new Error("Pro module not defined");
              return t = window.pro.getProduct(this._getProductId(e)), (i = this._getParent(t.exchange || "")) && "cme-full" === i.exchange ? t : i || t
            }, e.prototype._getParent = function (e) {
              if (!window.pro) throw new Error("Pro module not defined");
              return window.pro.getProductsByType(window.pro.PRODUCT_TYPES.exchange).find(function (t) {
                return Boolean(t.included_exchanges && t.included_exchanges.includes(e))
              }) || null
            }, e.prototype._getProductId = function (e) {
              var t = e.listed_exchange.toLowerCase();
              return "nasdaq" === t && "index" === e.type ? "exchange-nasdaq_gids" : "exchange-" + t
            }, e
        }()
    },
    wFwD: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i = e.metaInfo(),
          n = !e.isPine() || e.isStandardPine() ? i.description : "Custom Pine",
          r = i.productId;
        Object(o.getTracker)().then(function (e) {
          e && e.trackStudiesAnalytics(n, r, t)
        })
      }
      i.r(t), i.d(t, "trackStudies", function () {
        return n
      });
      var o = i("0UyP")
    },
    wGNx: function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "RiskRewardPointIndex", function () {
          return n
        }),
        function (e) {
          e[e.Entry = 0] = "Entry", e[e.Close = 1] = "Close", e[e.ActualEntry = 2] = "ActualEntry", e[e.ActualClose = 3] = "ActualClose"
        }(n || (n = {}))
    },
    wHzE: function (e, t, i) {
      "use strict";

      function n() {
        this._data = null, this._colors = null
      }

      function o(e, t, i) {
        this._series = e, this._lastBar = t, this._direction = i, this._renderer = new n
      }
      var r = i("Eyy1").ensureNotNull,
        s = i("dJ3D"),
        a = i("0F0w").ChartSession,
        l = i("uOxu").getLogger("Chart.Snapshot");
      n.prototype.setData = function (e) {
        this._data = e
      }, n.prototype.setPredictCode = function (e) {
        this._colors = this.getBackgroundColor(e)
      }, n.prototype.hitTest = function () {
        return null
      }, n.prototype.getBackgroundColor = function (e) {
        return [{
          background: "rgba(255, 158, 171, 0.3)",
          line: "#7E202F"
        }, {
          background: "rgba(244, 255, 158, 0.3)",
          line: "#EBFF3F"
        }, {
          background: "rgba(195, 255, 160, 0.3)",
          line: "#308020"
        }][e + 1]
      }, n.prototype.draw = function (e) {
        if (null !== this._data && null !== this._colors) {
          e.fillStyle = this._colors.background, e.fillRect(Math.max(0, this._data.x), 0, this._data.width, this._data.height), e.strokeStyle = this._colors.line, e.beginPath(), e.lineWidth = 1;
          var t = Math.round(this._data.x);
          e.moveTo(t, 0), e.lineTo(t, this._data.height), e.stroke()
        }
      }, o.prototype.update = function () {
        this._x = this._series.m_model.timeScale().indexToCoordinate(this._lastBar) + .5 * this._series.m_model.timeScale().barSpacing() + 1
      }, o.prototype.renderer = function () {
        var e = {
            x: this._x,
            height: this._series.priceScale().height(),
            width: this._series.m_model.timeScale().width()
          },
          t = this._series.data().bars(),
          i = r(t.last()).value[TradingView.CLOSE_PLOT] > r(t.valueAt(this._lastBar))[TradingView.CLOSE_PLOT] ? 1 : -1,
          n = 0;
        return 1 === this._direction ? n = i : 2 === this._direction && (n = -1 * i), this._renderer.setData(e), this._renderer.setPredictCode(n), this._renderer
      }, t.FutureBarsPaneView = o, t.requestChartSnapshotBars = function (e, t) {
        function i(i) {
          e._currentRequest.requestFirstBarTime(i, _, function (o) {
            if (o.p[1] > g) return e._currentRequest.isConnected().unsubscribe(n), e._currentRequest.destroy(), delete e._currentRequest, p.disconnect(), e._haveNoMoreData = !0, void t(!0);
            ! function (i) {
              var o, s, a, l, u, m, y, v, S, b, w = "series_id",
                P = 1;
              for (e._haveNoMoreData = !0, o = !1, e._currentRequest.createSeries(w, "turnaround", i, _, ["bar_count", g - 1, -h], function (i) {
                  var r, s;
                  switch (i.method) {
                    case "data_update":
                      if (!i.params.plots.length) return;
                      r = i.params.plots[0].value[TradingView.TIME_PLOT], s = i.params.plots, e._haveNoMoreData = s.length < h, o = 0 === s.length, d = r === g, f.mainSeries().fixLastBar(e._chartDirection), f.mainSeries().bars().addTail(s, d), f.mainSeries().parseJapProjBars(i.params.nonseries).then(function (e) {
                        f.mainSeries().m_data.m_nsBars = e.nsBars, f.mainSeries().m_data.lastProjectionPrice = e.lastPrice, f.model().recalculateAllPanes(), f.model().updateSource(f.mainSeries()), f.model().updateLineTools(), f.model().updateTimeScaleBaseIndex(), f.timeScale().scrollToOffsetAnimated(c)
                      });
                      break;
                    case "series_completed":
                      0 == --P && (e._currentRequest.isConnected().unsubscribe(n), e._currentRequest.destroy(), delete e._currentRequest, p.disconnect(), t())
                  }
                }), s = f.dataSources(), a = {}, l = r(f.mainSeries().bars().lastIndex()), u = function (i) {
                  var r, s = i.method;
                  "study_completed" === s || "study_error" === s ? 0 == --P && (e._currentRequest.isConnected().unsubscribe(n), e._currentRequest.destroy(), delete e._currentRequest, p.disconnect(), t()) : "data_update" !== s || o || (r = i.params.customId, a[r].replaceData(l, d, i.params.plots), f.model().recalculateAllPanes(), f.model().updateSource(f.mainSeries()))
                }, m = 0; m < s.length; m++) y = s[m], TradingView.isInherited(y.constructor, TradingView.Study) && -1 !== ["Volume", "Compare", "Overlay"].indexOf(y.metaInfo().shortId) && (v = "study_" + m, S = y.metaInfo().fullId + "!", a[v] = y, P++, b = y.inputs(), e._currentRequest.createStudy(v, "turnaround", w, S, b, u))
            }(i)
          })
        }

        function n() {
          var t, n, o = f.model().timezone();
          o || (o = defaults("chartproperties").mainSeriesProperties.timezone), e._currentRequest.switchTimezone(o), t = "symbol_id", n = function (o) {
            switch (o.method) {
              case "symbol_error":
                if (o.params[1] === TradingView.Series.PERMISSION_DENIED) {
                  var r;
                  switch (o.params[2]) {
                    case TradingView.Series.PD_REASON_EXTENDED_HOURS:
                      f.mainSeries().properties().extendedHours.setValue(!1), r = f.mainSeries().getSymbolString();
                      break;
                    case TradingView.Series.PD_REASON_SYMBOL:
                      r = o.params[3];
                      break;
                    default:
                      r = o.params[2]
                  }
                  r && (t += "_re", e._currentRequest.resolveSymbol(t, r, n))
                }
                break;
              default:
                i(t)
            }
          }, e._currentRequest.resolveSymbol(t, u, n)
        }
        var o, c, u, h, d, p, f = e.model(),
          _ = f.mainSeries().interval(),
          m = r(f.mainSeries().bars().last()),
          g = m.value[TradingView.TIME_PLOT];
        "function" != typeof t && (t = function () {}), o = 100, null == e._currentRequest ? (c = f.timeScale().rightOffset()) < 0 || e._haveNoMoreData || (u = f.mainSeries().getSymbolString(), h = Math.max(Math.ceil(c), o), d = !1, (p = new s(new window.WSBackendConnectionCtor(window.WEBSOCKET_HOST, window.WEBSOCKET_PORT, {
          pingRequired: window.WS_HOST_PING_REQUIRED,
          proHost: window.WEBSOCKET_PRO_HOST,
          reconnectHost: window.WEBSOCKET_HOST_FOR_RECONNECT
        }))).setLoadNew(!0), e._currentRequest = new a(p), e._currentRequest.isConnected().subscribe(n), e._currentRequest.connect(function (e) {
          var t, i, n, o, s, a, l;
          "timescale_update" === e.method && (t = r(f.mainSeries().bars().lastIndex()), i = r(f.timeScale().indexToUserTime(t)).valueOf() / 1e3,
            o = (n = f.timeScale().points()).valueAt(t), e.params.changes.length > 0 && ((s = e.params.changes[0] === o) || (i += 1), f.timeScale().points().remove(t + 1), f.timeScale().addTail(e, i, s), a = n.lastIndex(), l = n.valueAt(a), function (e, t, i) {
              var n, o, r, s, a, l, c, u = e.allLineTools(),
                h = u.length,
                d = e.timeScale();
              for (n = 0; n < h; ++n) {
                for (r = 0, a = (s = (o = u[n]).points()).length, l = 0; l < a; ++l)(c = s[l]).time > t && c.time <= i && (c.index = d.m_points.indexOf(c.time), ++r);
                r > 0 && o.updateAllViews()
              }
            }(f.model(), o, l)))
        })) : l.logDebug("requestSnapshotBars: unexpected requestSnapshotBars")
      }
    },
    wOSo: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "QuotesProvider", function () {
        return a
      }), n = i("IWXC"), o = i("aIyQ"), r = i.n(o), s = i("0waE"), a = function () {
        function e() {
          this._quotes = null, this._quoteSessionSymbol = null, this._quoteSessionClientId = "", this._quotesUpdate = new r.a
        }
        return e.prototype.setQuotesSessionSymbol = function (e) {
          this._quoteSessionSymbol !== e && (this._quoteSessionClientId || (this._quoteSessionClientId = "series-" + Object(s.guid)()), this._unsubscribeQuoteSession(), e && (this._quoteSessionSymbol = e, Object(n.getQuoteSessionInstance)("full").subscribe(this._quoteSessionClientId, this._quoteSessionSymbol, this._onUpdate.bind(this))))
        }, e.prototype.quotesUpdate = function () {
          return this._quotesUpdate
        }, e.prototype.quotes = function () {
          return this._quotes
        }, e.prototype.destroy = function () {
          this._unsubscribeQuoteSession()
        }, e.prototype._onUpdate = function (e, t) {
          this._quotes = e && e.values || null, t && t.values && t.values.current_session && this._quotesUpdate.fire(e, t)
        }, e.prototype._unsubscribeQuoteSession = function () {
          this._quoteSessionSymbol && (Object(n.getQuoteSessionInstance)("full").unsubscribe(this._quoteSessionClientId, this._quoteSessionSymbol), this._quoteSessionSymbol = null, this._quotes = null)
        }, e
      }()
    },
    wURc: function (e, t, i) {
      "use strict";

      function n(e, t, i) {
        this._study = e, this._series = t, this._model = i, this._invalidated = !0, this._orderArrow = {
          vMargin: n.DEFAULT_ORDER_ARROW_VMARGIN,
          width: n.DEFAULT_ORDER_ARROW_WIDTH,
          height: n.DEFAULT_ORDER_ARROW_HEIGHT
        }, this._exitLineWidth = n.DEFAULT_ORDER_ARROW_EXIT_LINE_WIDTH, this._priceArrow = {
          width: n.DEFAULT_PRICE_ARROW_WIDTH,
          height: n.DEFAULT_PRICE_ARROW_HEIGHT
        }, this._text = {
          vMargin: n.DEFAULT_TEXT_VMARGIN,
          font: n.DEFAULT_FONT,
          fontSize: n.DEFAULT_FONT_SIZE
        }, this._checkHideTextIfBarSpacingLT = n.DEFAULT_CHECK_HIDE_TEXT_IF_BARSPACING_LT, this._textIsVisible = !0, this._colors = {
          entryBuy: n.DEFAULT_ENTRY_BUY_COLOR,
          entrySell: n.DEFAULT_ENTRY_SELL_COLOR,
          exit: n.DEFAULT_EXIT_COLOR
        }, this._items = {
          entryBuy: [],
          entrySell: [],
          exit: []
        }, this._textWidths = {}, this._study.properties().strategy.orders.subscribe(this, this.update)
      }
      var o = i("aO4+").Point,
        r = i("EwiN").PaneRendererStudyStrategyOrders,
        s = i("Zy3/").CompositeRenderer,
        a = i("k9/m").PlotRowSearchMode,
        l = i("zDbI").CHART_FONT_FAMILY;
      n.DEFAULT_ORDER_ARROW_VMARGIN = 7, n.DEFAULT_ORDER_ARROW_WIDTH = 9, n.DEFAULT_ORDER_ARROW_HEIGHT = 11, n.DEFAULT_ORDER_ARROW_EXIT_LINE_WIDTH = 2, n.DEFAULT_PRICE_ARROW_WIDTH = 5, n.DEFAULT_PRICE_ARROW_HEIGHT = 9, n.DEFAULT_TEXT_VMARGIN = 2, n.DEFAULT_FONT = l, n.DEFAULT_FONT_SIZE = 10, n.DEFAULT_CHECK_HIDE_TEXT_IF_BARSPACING_LT = 10, n.DEFAULT_ENTRY_BUY_COLOR = "#008fff",
        n.DEFAULT_ENTRY_SELL_COLOR = "#f00", n.DEFAULT_EXIT_COLOR = "#cc47ed", n.prototype._updateImpl = function () {
          var e, t, i, n, r, s, l, c, u, h, d, p, f, _, m, g, y, v, S, b, w, P, T, C, x, E, I, A, L;
          if (this.clearItems(), (e = this._study.ordersData()) && e.length && (t = this._model.timeScale(), i = this._series.priceScale(), !(!t || !i || t && t.isEmpty() || i && i.isEmpty()) && null !== (n = t.visibleBarsStrictRange()))) {
            for (r = this._study.barsIndexes(), s = this._series.nearestIndex(n.firstBar(), a.NearestRight), l = this._series.nearestIndex(n.lastBar(), a.NearestLeft), c = s, u = [], h = []; c <= l; c++)
              for (d = -1; - 1 !== (d = r.indexOf(c, d + 1));)(p = e[d]) && (u.push(p), h.push(c));
            for (_ = (f = this._study.properties()).strategy.orders.showLabels.value(), m = f.strategy.orders.showQty.value(), (g = _ || m) && t.barSpacing() < this._checkHideTextIfBarSpacingLT && this._orderArrow.width * u.length * 2 > t.width() && (g = !1), v = (y = g && this._text.fontSize + this._text.vMargin || 0) && y * (_ + m), S = this._series.firstValue(), b = i.isInverted(), w = 0, P = {
                upper: [],
                lower: []
              }; w < u.length; w++) p = u[w], L = b ? !p.b : p.b, d = h[w], T = t.indexToCoordinate(d, !0), C = i.priceToCoordinate(this._series[p.b ? "low" : "high"](d), S, !0), E = "number" == typeof P[x = L ? "lower" : "upper"][d] && P[x][d] || 0, C += L ? E : -E, "number" != typeof P[x][d] && (P[x][d] = 0), P[x][d] += (p.e ? 0 : this._exitLineWidth) + this._orderArrow.vMargin + this._orderArrow.height + v, I = i.priceToCoordinate(p.p, S, !0), A = p.e ? !p.b && p.e ? "entrySell" : "entryBuy" : "exit", this._items[A].push({
              orderPoint: new o(T, C),
              pricePoint: new o(T, I),
              label: _ && (p.c || p.id || "Untitled") || null,
              qty: m && (p.b ? "+" : "-") + p.q || null,
              pos: x
            });
            this._textLabelIsVisible = _, this._textQtyIsVisible = m, this._textIsVisible = g
          }
        }, n.prototype.update = function () {
          this._invalidated = !0
        }, n.prototype.clearItems = function () {
          this._items.entryBuy.length = this._items.entrySell.length = this._items.exit.length = 0
        }, n.prototype.renderer = function () {
          var e, t, i, n = this._study.properties();
          if (n.visible.value() && n.strategy.orders.visible.value() && (e = this._series.priceScale(), (this._invalidated || e && e.isScaled()) && (this._updateImpl(), this._invalidated = !1), this._items.entryBuy.length || this._items.entrySell.length || this._items.exit.length)) {
            for (i in t = new s, this._items) this._items[i].length && t.append(new r({
              items: this._items[i],
              color: this._colors[i],
              orderArrow: this._orderArrow,
              exitLineWidth: "exit" === i && this._exitLineWidth || 0,
              priceArrow: this._priceArrow,
              text: this._textIsVisible && this._text || null
            }, this._textWidths));
            return t
          }
        }, e.exports = n
    },
    wZIs: function (e, t, i) {
      "use strict";

      function n(e, t, i, n, o) {
        function r(e) {
          return t && t[e] ? t[e] : e
        }

        function s(e, t, i, n) {
          var o = r(t[0]);
          return !!e.hasOwnProperty(o) && (t.length > 1 ? s(e[o], t.slice(1), i) : (e[o] && e[o].setValue ? e[o].setValue(i) : e[o] = i, !0))
        }

        function a(e) {
          i || g.logWarn("Path `" + e + "` does not exist.")
        }
        var l, c, u, h;
        if (n)
          for (l in n) u = r((c = l.split("."))[0]), h = void 0 !== o && o === c[0], 0 !== c.length && h && (u = r((c = c.slice(1))[0])), 0 !== c.length && e.hasOwnProperty(u) ? s(e, c, n[l]) || a(l) : h && a(l)
      }

      function o(e, t, i, o) {
        window.__defaultsOverrides && n(e, t, i, window.__defaultsOverrides, o)
      }

      function r() {
        var e = /^linetool.+/;
        Object.keys(TradingView.defaultProperties).forEach(function (t) {
          e.test(t) && o(TradingView.defaultProperties[t], null, !1, t)
        })
      }

      function s(e, t) {
        return t ? function (e, t) {
          var i, n, o, r, s = v(e);
          window._UNIT_TESTS || (i = TradingView.clone(TVSettings.getJSON(e, null)), e.startsWith("study_") && i && function (e) {
            if (!e) return !1;
            e = e.toString();
            var t = new RegExp("\\d+").exec(e);
            return null !== t && t[0] === e
          }(i.version) && (n = i.inputs, o = t.updateStudyInputs(i.id, i.version, "last", n, null), i.inputs = o, r = t.updateStudyState(i, i), i = r), TradingView.merge(s, i));
          return s
        }(e, t) : function (e) {
          var t, i = v(e);
          window._UNIT_TESTS || (t = TradingView.clone(TVSettings.getJSON(e, null))) && TradingView.merge(i, t);
          return i
        }(e)
      }
      var a = i("dfhE"),
        l = i("rCHB").LineToolPitchforkStyle,
        c = i("Ye2/").LineToolBarsPatternMode,
        u = i("23IT").LineStudyPlotStyle,
        h = i("8OdW"),
        d = i("oXaB").PriceAxisLastValueMode,
        p = i("4o++").MagnetMode,
        f = i("a7Ha").LineEnd,
        _ = i("bKFv").StatsPosition,
        m = i("KUek").sessionsPreferencesDefault,
        g = i("uOxu").getLogger("Chart.Defaults"),
        y = i("zDbI").CHART_FONT_FAMILY,
        v = function (e) {
          var t, i, n, s, g, v, S, b, w = function (e, t) {
              return {
                color: e,
                visible: t
              }
            },
            P = function (e, t, i) {
              return {
                coeff: e,
                color: t,
                visible: i
              }
            },
            T = function (e, t, i, n, o) {
              return {
                coeff: e,
                color: t,
                visible: i,
                linestyle: void 0 === n ? CanvasEx.LINESTYLE_SOLID : n,
                linewidth: void 0 === o ? 1 : o
              }
            },
            C = function (e, t, i) {
              return {
                color: e,
                width: i,
                visible: t
              }
            },
            x = function (e, t, i, n, o) {
              return {
                color: e,
                visible: t,
                width: i,
                x: n,
                y: o
              }
            },
            E = function (e, t, i, n, o, r) {
              return {
                coeff1: e,
                coeff2: t,
                color: i,
                visible: n,
                linestyle: void 0 === o ? CanvasEx.LINESTYLE_SOLID : o,
                linewidth: void 0 === r ? 1 : r
              }
            };
          if (void 0 === TradingView.defaultProperties) {
            switch (window.locale) {
              case "ar_AE":
                t = "Asia/Dubai";
                break;
              case "au":
                t = "Australia/Sydney";
                break;
              case "br":
                t = "America/Sao_Paulo";
                break;
              case "ca":
                t = "America/Toronto";
                break;
              case "de_DE":
              case "it":
                t = "Europe/Berlin";
                break;
              case "es":
                t = "Europe/Madrid";
                break;
              case "fa_IR":
                t = "Asia/Tehran";
                break;
              case "fr":
              case "sv_SE":
                t = "Europe/Paris";
                break;
              case "he_IL":
              case "tr":
                t = "Europe/Athens";
                break;
              case "hu_HU":
              case "pl":
                t = "Europe/Warsaw";
                break;
              case "id":
              case "th_TH":
              case "vi_VN":
                t = "Asia/Bangkok";
                break;
              case "in":
                t = "Asia/Kolkata";
                break;
              case "ja":
              case "kr":
                t = "Asia/Tokyo";
                break;
              case "ms_MY":
                t = "Asia/Singapore";
                break;
              case "ru":
                t = "Europe/Moscow";
                break;
              case "uk":
                t = "Europe/London";
                break;
              case "zh_CN":
              case "zh_TW":
                t = "Asia/Shanghai";
                break;
              default:
                t = "Etc/UTC"
            }
            TradingView.defaultProperties = {
              chartproperties: {
                timezone: t,
                priceScaleSelectionStrategyName: "auto",
                dataWindowProperties: {
                  background: "rgba( 255, 254, 206, 0.2)",
                  border: "rgba( 96, 96, 144, 1)",
                  font: "Verdana",
                  fontBold: !1,
                  fontItalic: !1,
                  fontSize: 10,
                  transparency: 80,
                  visible: !0
                },
                paneProperties: {
                  background: "#ffffff",
                  gridProperties: {
                    color: "#e1ecf2",
                    style: CanvasEx.LINESTYLE_SOLID
                  },
                  vertGridProperties: {
                    color: "#e1ecf2",
                    style: CanvasEx.LINESTYLE_SOLID
                  },
                  horzGridProperties: {
                    color: "#e1ecf2",
                    style: CanvasEx.LINESTYLE_SOLID
                  },
                  crossHairProperties: {
                    color: "#758696",
                    style: CanvasEx.LINESTYLE_DASHED,
                    transparency: 0,
                    width: 1
                  },
                  topMargin: 10,
                  bottomMargin: 8,
                  axisProperties: {
                    autoScale: !0,
                    autoScaleDisabled: !1,
                    lockScale: !1,
                    percentage: !1,
                    percentageDisabled: !1,
                    indexedTo100: !1,
                    log: !1,
                    logDisabled: !1,
                    alignLabels: !0,
                    isInverted: !1
                  },
                  legendProperties: {
                    showStudyArguments: !0,
                    showStudyTitles: !0,
                    showStudyValues: !0,
                    showSeriesTitle: !0,
                    showSeriesOHLC: !0,
                    showLegend: !0,
                    showBarChange: !0
                  }
                },
                scalesProperties: {
                  backgroundColor: "#ffffff",
                  lineColor: "#50535E",
                  textColor: "#50535E",
                  fontSize: 12,
                  scaleSeriesOnly: !1,
                  showSeriesLastValue: !0,
                  seriesLastValueMode: d.LastValueAccordingToScale,
                  showSeriesPrevCloseValue: !1,
                  showStudyLastValue: !1,
                  showSymbolLabels: !1,
                  showStudyPlotLabels: !1,
                  barSpacing: h.DEFAULT_BAR_SPACING
                },
                mainSeriesProperties: {
                  style: a.STYLE_CANDLES,
                  esdShowDividends: !0,
                  esdShowSplits: !0,
                  esdShowEarnings: !0,
                  esdShowBreaks: !1,
                  esdBreaksStyle: {
                    color: "rgba( 235, 77, 92, 1)",
                    style: CanvasEx.LINESTYLE_DASHED,
                    width: 1
                  },
                  esdFlagSize: 2,
                  showCountdown: !0,
                  showInDataWindow: !0,
                  visible: !0,
                  showPriceLine: !0,
                  priceLineWidth: 1,
                  priceLineColor: "",
                  baseLineColor: "#B2B5BE",
                  showPrevClosePriceLine: !1,
                  prevClosePriceLineWidth: 1,
                  prevClosePriceLineColor: "rgba( 85, 85, 85, 1)",
                  minTick: "default",
                  extendedHours: !1,
                  dividendsAdjustment: !1,
                  sessVis: !1,
                  statusViewStyle: {
                    fontSize: 16,
                    showExchange: !0,
                    showInterval: !0,
                    symbolTextSource: "description"
                  },
                  candleStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    drawWick: !0,
                    drawBorder: !0,
                    borderColor: "#378658",
                    borderUpColor: "#26a69a",
                    borderDownColor: "#ef5350",
                    wickColor: "#737375",
                    wickUpColor: "#26a69a",
                    wickDownColor: "#ef5350",
                    barColorsOnPrevClose: !1
                  },
                  hollowCandleStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    drawWick: !0,
                    drawBorder: !0,
                    borderColor: "rgba( 55, 134, 88, 1)",
                    borderUpColor: "#26a69a",
                    borderDownColor: "#ef5350",
                    wickColor: "rgba( 115, 115, 117, 1)",
                    wickUpColor: "#26a69a",
                    wickDownColor: "#ef5350"
                  },
                  haStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    drawWick: !0,
                    drawBorder: !0,
                    borderColor: "rgba( 55, 134, 88, 1)",
                    borderUpColor: "#26a69a",
                    borderDownColor: "#ef5350",
                    wickColor: "rgba( 115, 115, 117, 1)",
                    wickUpColor: "#26a69a",
                    wickDownColor: "#ef5350",
                    showRealLastPrice: !1,
                    barColorsOnPrevClose: !1,
                    inputs: {},
                    inputInfo: {}
                  },
                  barStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    barColorsOnPrevClose: !1,
                    dontDrawOpen: !1,
                    thinBars: !0
                  },
                  hiloStyle: {
                    color: "#2196f3",
                    showBorders: !0,
                    borderColor: "#2196f3",
                    showLabels: !0,
                    labelColor: "#2196f3",
                    fontSize: 7
                  },
                  lineStyle: {
                    color: "#2196f3",
                    linestyle: CanvasEx.LINESTYLE_SOLID,
                    linewidth: 3,
                    priceSource: "close",
                    styleType: a.STYLE_LINE_TYPE_SIMPLE
                  },
                  areaStyle: {
                    color1: "#2196f3",
                    color2: "#2196f3",
                    linecolor: "#2196f3",
                    linestyle: CanvasEx.LINESTYLE_SOLID,
                    linewidth: 3,
                    priceSource: "close",
                    transparency: 95
                  },
                  priceAxisProperties: {
                    autoScale: !0,
                    autoScaleDisabled: !1,
                    lockScale: !1,
                    percentage: !1,
                    percentageDisabled: !1,
                    indexedTo100: !1,
                    log: !1,
                    logDisabled: !1,
                    isInverted: !1,
                    alignLabels: !0
                  },
                  renkoStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    borderUpColor: "#26a69a",
                    borderDownColor: "#ef5350",
                    upColorProjection: "rgba( 169, 220, 195, 1)",
                    downColorProjection: "rgba( 245, 166, 174, 1)",
                    borderUpColorProjection: "rgba( 169, 220, 195, 1)",
                    borderDownColorProjection: "rgba( 245, 166, 174, 1)",
                    wickUpColor: "#26a69a",
                    wickDownColor: "#ef5350",
                    inputs: {
                      source: "close",
                      boxSize: 3,
                      style: "ATR",
                      atrLength: 14,
                      wicks: !0
                    },
                    inputInfo: {
                      source: {
                        name: "Source"
                      },
                      boxSize: {
                        name: "Box size"
                      },
                      style: {
                        name: "Style"
                      },
                      atrLength: {
                        name: "ATR Length"
                      },
                      wicks: {
                        name: "Wicks"
                      }
                    }
                  },
                  pbStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    borderUpColor: "#26a69a",
                    borderDownColor: "#ef5350",
                    upColorProjection: "rgba( 169, 220, 195, 1)",
                    downColorProjection: "rgba( 245, 166, 174, 1)",
                    borderUpColorProjection: "rgba( 169, 220, 195, 1)",
                    borderDownColorProjection: "rgba( 245, 166, 174, 1)",
                    inputs: {
                      source: "close",
                      lb: 3
                    },
                    inputInfo: {
                      source: {
                        name: "Source"
                      },
                      lb: {
                        name: "Number of line"
                      }
                    }
                  },
                  kagiStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    upColorProjection: "rgba( 169, 220, 195, 1)",
                    downColorProjection: "rgba( 245, 166, 174, 1)",
                    inputs: {
                      source: "close",
                      style: "ATR",
                      atrLength: 14,
                      reversalAmount: 1
                    },
                    inputInfo: {
                      source: {
                        name: "Source"
                      },
                      style: {
                        name: "Style"
                      },
                      atrLength: {
                        name: "ATR Length"
                      },
                      reversalAmount: {
                        name: "Reversal amount"
                      }
                    }
                  },
                  pnfStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    upColorProjection: "rgba( 169, 220, 195, 1)",
                    downColorProjection: "rgba( 245, 166, 174, 1)",
                    inputs: {
                      sources: "Close",
                      reversalAmount: 3,
                      boxSize: 1,
                      style: "ATR",
                      atrLength: 14
                    },
                    inputInfo: {
                      sources: {
                        name: "Source"
                      },
                      boxSize: {
                        name: "Box size"
                      },
                      reversalAmount: {
                        name: "Reversal amount"
                      },
                      style: {
                        name: "Style"
                      },
                      atrLength: {
                        name: "ATR Length"
                      }
                    }
                  },
                  baselineStyle: {
                    baselineColor: "rgba( 117, 134, 150, 1)",
                    topFillColor1: "rgba( 38, 166, 154, 0.05)",
                    topFillColor2: "rgba( 38, 166, 154, 0.05)",
                    bottomFillColor1: "rgba( 239, 83, 80, 0.05)",
                    bottomFillColor2: "rgba( 239, 83, 80, 0.05)",
                    topLineColor: "rgba( 38, 166, 154, 1)",
                    bottomLineColor: "rgba( 239, 83, 80, 1)",
                    topLineWidth: 3,
                    bottomLineWidth: 3,
                    priceSource: "close",
                    transparency: 50,
                    baseLevelPercentage: 50
                  },
                  rangeStyle: {
                    upColor: "#26a69a",
                    downColor: "#ef5350",
                    thinBars: !0,
                    upColorProjection: "rgba( 169, 220, 195, 1)",
                    downColorProjection: "rgba( 245, 166, 174, 1)",
                    inputs: {
                      range: 10,
                      phantomBars: !1
                    },
                    inputInfo: {
                      range: {
                        name: "Range"
                      },
                      phantomBars: {
                        name: "Phantom Bars"
                      }
                    }
                  }
                },
                chartEventsSourceProperties: {
                  visible: !0,
                  futureOnly: !0,
                  breaks: {
                    color: "rgba(85, 85, 85, 1)",
                    visible: !1,
                    style: CanvasEx.LINESTYLE_DASHED,
                    width: 1
                  }
                },
                tradingProperties: {
                  showPositions: !0,
                  showOrders: !0,
                  showExecutions: !0,
                  extendLeft: !0,
                  lineLength: 5,
                  lineWidth: 1,
                  lineStyle: CanvasEx.LINESTYLE_DASHED
                },
                editorFontsList: ["Verdana", "Courier New", "Times New Roman", "Arial"],
                volumePaneSize: "large"
              },
              sessions: m,
              drawings: {
                magnet: !1,
                magnetMode: p.WeakMagnet,
                stayInDrawingMode: !1,
                drawOnAllCharts: !0,
                crossHairColor: "#585858",
                crossHairStyle: CanvasEx.LINESTYLE_DASHED,
                crossHairWidth: 1
              },
              linetoolorder: {
                singleChartOnly: !0,
                extendLeft: "inherit",
                lineLength: "inherit",
                lineColor: "rgba( 255, 0, 0, 1)",
                lineTransparency: 0,
                lineStyle: "inherit",
                lineWidth: "inherit",
                bodyBorderColor: "rgba( 255, 0, 0, 0)",
                bodyBorderTransparency: 0,
                bodyBackgroundColor: "rgba( 255, 255, 255, 0.75)",
                bodyBackgroundTransparency: 25,
                bodyTextColor: "rgba( 255, 0, 0, 0)",
                bodyTextTransparency: 0,
                bodyFontFamily: "Verdana",
                bodyFontSize: 7,
                bodyFontBold: !0,
                bodyFontItalic: !1,
                quantityBorderColor: "rgba( 255, 0, 0, 0)",
                quantityBorderTransparency: 0,
                quantityBackgroundColor: "rgba( 255, 0, 0, 0.75)",
                quantityBackgroundTransparency: 25,
                quantityTextColor: "rgba( 255, 255, 255, 1)",
                quantityTextTransparency: 0,
                quantityFontFamily: "Verdana",
                quantityFontSize: 7,
                quantityFontBold: !0,
                quantityFontItalic: !1,
                cancelButtonBorderColor: "rgba( 255, 0, 0, 1)",
                cancelButtonBorderTransparency: 0,
                cancelButtonBackgroundColor: "rgba( 255, 255, 255, 0.75)",
                cancelButtonBackgroundTransparency: 25,
                cancelButtonIconColor: "rgba( 255, 0, 0, 1)",
                cancelButtonIconTransparency: 0,
                tooltip: ""
              },
              linetoolposition: {
                singleChartOnly: !0,
                extendLeft: "inherit",
                lineLength: "inherit",
                lineColor: "rgba( 0, 113, 224, 1)",
                lineTransparency: 0,
                lineStyle: "inherit",
                lineWidth: "inherit",
                bodyBorderColor: "rgba( 0, 113, 224, 1)",
                bodyBorderTransparency: 0,
                bodyBackgroundColor: "rgba( 255, 255, 255, 0.75)",
                bodyBackgroundTransparency: 25,
                bodyTextColor: "rgba( 0, 113, 224, 1)",
                bodyTextTransparency: 0,
                bodyFontFamily: "Verdana",
                bodyFontSize: 7,
                bodyFontBold: !0,
                bodyFontItalic: !1,
                quantityBorderColor: "rgba( 0, 113, 224, 1)",
                quantityBorderTransparency: 0,
                quantityBackgroundColor: "rgba( 0, 113, 224, 0.75)",
                quantityBackgroundTransparency: 25,
                quantityTextColor: "rgba( 255, 255, 255, 1)",
                quantityTextTransparency: 0,
                quantityFontFamily: "Verdana",
                quantityFontSize: 7,
                quantityFontBold: !0,
                quantityFontItalic: !1,
                reverseButtonBorderColor: "rgba( 0, 113, 224, 1)",
                reverseButtonBorderTransparency: 0,
                reverseButtonBackgroundColor: "rgba( 255, 255, 255, 0.75)",
                reverseButtonBackgroundTransparency: 25,
                reverseButtonIconColor: "rgba( 0, 113, 224, 1)",
                reverseButtonIconTransparency: 0,
                closeButtonBorderColor: "rgba( 0, 113, 224, 1)",
                closeButtonBorderTransparency: 0,
                closeButtonBackgroundColor: "rgba( 255, 255, 255, 0.75)",
                closeButtonBackgroundTransparency: 25,
                closeButtonIconColor: "rgba( 0, 113, 224, 1)",
                closeButtonIconTransparency: 0,
                tooltip: ""
              },
              linetoolexecution: {
                singleChartOnly: !0,
                direction: "buy",
                arrowHeight: 8,
                arrowSpacing: 1,
                arrowColor: "rgba( 0, 0, 255, 1)",
                arrowTransparency: 0,
                text: "",
                textColor: "rgba( 0, 0, 0, 1)",
                textTransparency: 0,
                fontFamily: "Verdana",
                fontSize: 8,
                fontBold: !1,
                fontItalic: !1,
                tooltip: ""
              },
              linetoolicon: {
                singleChartOnly: !0,
                clonable: !0,
                color: "rgba( 61, 133, 198, 1)",
                size: 40,
                icon: 61536,
                angle: .5 * Math.PI,
                scale: 1
              },
              linetoolbezierquadro: {
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                fillBackground: !1,
                backgroundColor: "rgba( 21, 56, 153, 0.5)",
                transparency: 50,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                extendLeft: !1,
                extendRight: !1,
                leftEnd: f.Normal,
                rightEnd: f.Normal
              },
              linetoolbeziercubic: {
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                fillBackground: !1,
                backgroundColor: "rgba( 21, 56, 153, 0.5)",
                transparency: 50,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                extendLeft: !1,
                extendRight: !1,
                leftEnd: f.Normal,
                rightEnd: f.Normal
              },
              linetooltrendline: {
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                extendLeft: !1,
                extendRight: !1,
                leftEnd: f.Normal,
                rightEnd: f.Normal,
                font: "Verdana",
                textcolor: "rgba( 21, 119, 96, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                snapTo45Degrees: !0,
                alwaysShowStats: !1,
                showMiddlePoint: !1,
                showPriceRange: !1,
                showBarsRange: !1,
                showDateTimeRange: !1,
                showDistance: !1,
                showAngle: !1,
                statsPosition: _.Right
              },
              linetoolinfoline: {
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                extendLeft: !1,
                extendRight: !1,
                leftEnd: f.Normal,
                rightEnd: f.Normal,
                font: "Verdana",
                textcolor: "rgba( 21, 119, 96, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                snapTo45Degrees: !0,
                alwaysShowStats: !0,
                showMiddlePoint: !1,
                showPriceRange: !0,
                showBarsRange: !0,
                showDateTimeRange: !0,
                showDistance: !0,
                showAngle: !0,
                statsPosition: _.Center
              },
              linetooltimecycles: {
                clonable: !0,
                linecolor: "rgba(21, 153, 128, 1)",
                linewidth: 1,
                fillBackground: !0,
                backgroundColor: "rgba(106, 168, 79, 0.5)",
                transparency: 50,
                linestyle: CanvasEx.LINESTYLE_SOLID
              },
              linetoolsineline: {
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID
              },
              linetooltrendangle: {
                singleChartOnly: !0,
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                snapTo45Degrees: !0,
                font: "Verdana",
                textcolor: "rgba( 21, 119, 96, 1)",
                fontsize: 12,
                bold: !0,
                italic: !1,
                alwaysShowStats: !1,
                showMiddlePoint: !1,
                showPriceRange: !1,
                showBarsRange: !1,
                extendRight: !1,
                extendLeft: !1,
                statsPosition: _.Right
              },
              linetooldisjointangle: {
                clonable: !0,
                linecolor: "rgba( 18, 159, 92, 1)",
                linewidth: 2,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                fillBackground: !0,
                backgroundColor: "rgba( 106, 168, 79, 0.5)",
                transparency: 50,
                extendLeft: !1,
                extendRight: !1,
                leftEnd: f.Normal,
                rightEnd: f.Normal,
                font: "Verdana",
                textcolor: "rgba( 18, 159, 92, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                showPrices: !1,
                showPriceRange: !1,
                showDateTimeRange: !1,
                showBarsRange: !1
              },
              linetoolflatbottom: {
                clonable: !0,
                linecolor: "rgba( 73, 133, 231, 1)",
                linewidth: 2,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                fillBackground: !0,
                backgroundColor: "rgba( 21, 56, 153, 0.5)",
                transparency: 50,
                extendLeft: !1,
                extendRight: !1,
                leftEnd: f.Normal,
                rightEnd: f.Normal,
                font: "Verdana",
                textcolor: "rgba( 73, 133, 231, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                showPrices: !1,
                showPriceRange: !1,
                showDateTimeRange: !1,
                showBarsRange: !1
              },
              linetoolfibspiral: {
                counterclockwise: !1,
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID
              },
              linetooldaterange: {
                clonable: !0,
                linecolor: "rgba( 88, 88, 88, 1)",
                linewidth: 1,
                font: y,
                textcolor: "rgba( 255, 255, 255, 1)",
                fontsize: 12,
                fillLabelBackground: !0,
                labelBackgroundColor: "rgba( 91, 133, 191, 0.9)",
                labelBackgroundTransparency: 30,
                fillBackground: !0,
                backgroundColor: "rgba( 186, 218, 255, 0.4)",
                backgroundTransparency: 60,
                drawBorder: !1,
                borderColor: "rgba( 102, 123, 139, 1)",
                extendTop: !1,
                extendBottom: !1
              },
              linetoolpricerange: {
                clonable: !0,
                linecolor: "rgba( 88, 88, 88, 1)",
                linewidth: 1,
                font: y,
                textcolor: "rgba( 255, 255, 255, 1)",
                fontsize: 12,
                fillLabelBackground: !0,
                labelBackgroundColor: "rgba( 91, 133, 191, 0.9)",
                labelBackgroundTransparency: 30,
                fillBackground: !0,
                backgroundColor: "rgba( 186, 218, 255, 0.4)",
                backgroundTransparency: 60,
                drawBorder: !1,
                borderColor: "rgba( 102, 123, 139, 1)",
                extendLeft: !1,
                extendRight: !1
              },
              linetooldateandpricerange: {
                clonable: !0,
                linecolor: "rgba( 88, 88, 88, 1)",
                linewidth: 1,
                font: y,
                textcolor: "rgba( 255, 255, 255, 1)",
                fontsize: 12,
                fillLabelBackground: !0,
                labelBackgroundColor: "rgba( 91, 133, 191, 0.9)",
                labelBackgroundTransparency: 30,
                fillBackground: !0,
                backgroundColor: "rgba( 186, 218, 255, 0.4)",
                backgroundTransparency: 60,
                drawBorder: !1,
                borderColor: "rgba( 102, 123, 139, 1)"
              },
              linetoolriskrewardshort: {
                clonable: !0,
                linecolor: "rgba( 88, 88, 88, 1)",
                linewidth: 1,
                font: "Verdana",
                textcolor: "rgba(255, 255, 255, 1)",
                fontsize: 12,
                fillLabelBackground: !0,
                labelBackgroundColor: "rgba( 88, 88, 88, 1)",
                labelBackgroundTransparency: 0,
                fillBackground: !0,
                stopBackground: "rgba( 255, 0, 0, 0.2)",
                profitBackground: "rgba( 0, 160, 0, 0.2)",
                stopBackgroundTransparency: 80,
                profitBackgroundTransparency: 80,
                drawBorder: !1,
                borderColor: "rgba( 102, 123, 139, 1)",
                compact: !1,
                riskDisplayMode: "percents",
                accountSize: 1e3,
                risk: 25
              },
              linetoolriskrewardlong: {
                clonable: !0,
                linecolor: "rgba( 88, 88, 88, 1)",
                linewidth: 1,
                font: "Verdana",
                textcolor: "rgba(255, 255, 255, 1)",
                fontsize: 12,
                fillLabelBackground: !0,
                labelBackgroundColor: "rgba( 88, 88, 88, 1)",
                labelBackgroundTransparency: 0,
                fillBackground: !0,
                stopBackground: "rgba( 255, 0, 0, 0.2)",
                profitBackground: "rgba( 0, 160, 0, 0.2)",
                stopBackgroundTransparency: 80,
                profitBackgroundTransparency: 80,
                drawBorder: !1,
                borderColor: "rgba( 102, 123, 139, 1)",
                compact: !1,
                riskDisplayMode: "percents",
                accountSize: 1e3,
                risk: 25
              },
              linetoolarrow: {
                clonable: !0,
                linecolor: "rgba( 111, 136, 198, 1)",
                linewidth: 2,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                extendLeft: !1,
                extendRight: !1,
                leftEnd: f.Normal,
                rightEnd: f.Arrow,
                font: "Verdana",
                textcolor: "rgba( 21, 119, 96, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                alwaysShowStats: !1,
                showMiddlePoint: !1,
                showPriceRange: !1,
                showBarsRange: !1,
                showDateTimeRange: !1,
                showDistance: !1,
                showAngle: !1,
                statsPosition: _.Right
              },
              linetoolray: {
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                extendLeft: !1,
                extendRight: !0,
                leftEnd: f.Normal,
                rightEnd: f.Normal,
                font: "Verdana",
                textcolor: "rgba( 21, 119, 96, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                alwaysShowStats: !1,
                showMiddlePoint: !1,
                showPriceRange: !1,
                showBarsRange: !1,
                showDateTimeRange: !1,
                showDistance: !1,
                showAngle: !1,
                statsPosition: _.Right
              },
              linetoolextended: {
                clonable: !0,
                linecolor: "rgba( 21, 153, 128, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                extendLeft: !0,
                extendRight: !0,
                leftEnd: f.Normal,
                rightEnd: f.Normal,
                font: "Verdana",
                textcolor: "rgba( 21, 119, 96, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                alwaysShowStats: !1,
                showMiddlePoint: !1,
                showPriceRange: !1,
                showBarsRange: !1,
                showDateTimeRange: !1,
                showDistance: !1,
                showAngle: !1,
                statsPosition: _.Right
              },
              linetoolhorzline: {
                clonable: !0,
                linecolor: "rgba( 128, 204, 219, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                showPrice: !0,
                showLabel: !1,
                font: "Verdana",
                textcolor: "rgba( 21, 119, 96, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                horzLabelsAlign: "center",
                vertLabelsAlign: "top"
              },
              linetoolhorzray: {
                clonable: !0,
                linecolor: "rgba( 128, 204, 219, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                showPrice: !0,
                showLabel: !1,
                font: "Verdana",
                textcolor: "rgba( 21, 119, 96, 1)",
                fontsize: 12,
                bold: !1,
                italic: !1,
                horzLabelsAlign: "center",
                vertLabelsAlign: "top"
              },
              linetoolvertline: {
                clonable: !0,
                linecolor: "rgba( 128, 204, 219, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                showTime: !0
              },
              linetoolcrossline: {
                clonable: !0,
                linecolor: "rgba(6, 160, 227, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                showPrice: !0,
                showTime: !0
              },
              linetoolcirclelines: {
                clonable: !0,
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_DASHED
                },
                linecolor: "rgba( 128, 204, 219, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID
              },
              linetoolfibtimezone: {
                horzLabelsAlign: "right",
                vertLabelsAlign: "bottom",
                clonable: !0,
                baselinecolor: "rgba( 128, 128, 128, 1)",
                linecolor: "rgba( 0, 85, 219, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                showLabels: !0,
                font: y,
                fillBackground: !1,
                transparency: 80,
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_DASHED
                },
                level1: T(0, "rgba( 128, 128, 128, 1)", !0),
                level2: T(1, "rgba( 0, 85, 219, 1)", !0),
                level3: T(2, "rgba( 0, 85, 219, 1)", !0),
                level4: T(3, "rgba( 0, 85, 219, 1)", !0),
                level5: T(5, "rgba( 0, 85, 219, 1)", !0),
                level6: T(8, "rgba( 0, 85, 219, 1)", !0),
                level7: T(13, "rgba( 0, 85, 219, 1)", !0),
                level8: T(21, "rgba( 0, 85, 219, 1)", !0),
                level9: T(34, "rgba( 0, 85, 219, 1)", !0),
                level10: T(55, "rgba( 0, 85, 219, 1)", !0),
                level11: T(89, "rgba( 0, 85, 219, 1)", !0),
                __collectibleLines: ["trendline", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11"]
              },
              linetooltext: {
                clonable: !0,
                color: "rgba( 102, 123, 139, 1)",
                font: "Verdana",
                fontsize: 20,
                fillBackground: !1,
                backgroundColor: "rgba( 91, 133, 191, 0.9)",
                backgroundTransparency: 70,
                drawBorder: !1,
                borderColor: "rgba( 102, 123, 139, 1)",
                bold: !1,
                italic: !1,
                fixedSize: !0,
                wordWrap: !1,
                wordWrapWidth: 400
              },
              linetooltextabsolute: {
                singleChartOnly: !0,
                clonable: !0,
                color: "rgba( 102, 123, 139, 1)",
                font: "Verdana",
                fontsize: 20,
                fillBackground: !1,
                backgroundColor: "rgba( 155, 190, 213, 0.3)",
                backgroundTransparency: 70,
                drawBorder: !1,
                borderColor: "rgba( 102, 123, 139, 1)",
                bold: !1,
                italic: !1,
                wordWrap: !1,
                wordWrapWidth: 400
              },
              linetoolballoon: {
                clonable: !0,
                color: "rgba( 102, 123, 139, 1)",
                backgroundColor: "rgba( 255, 254, 206, 0.7)",
                borderColor: "rgba( 140, 140, 140, 1)",
                fontWeight: "bold",
                fontsize: 12,
                font: "Arial",
                transparency: 30
              },
              linetoolbrush: {
                clonable: !0,
                linecolor: "rgba( 53, 53, 53, 1)",
                linewidth: 2,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                smooth: 5,
                fillBackground: !1,
                backgroundColor: "rgba( 21, 56, 153, 0.5)",
                transparency: 50,
                leftEnd: f.Normal,
                rightEnd: f.Normal
              },
              linetoolpolyline: {
                clonable: !0,
                linecolor: "rgba( 53, 53, 53, 1)",
                linewidth: 2,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                fillBackground: !0,
                backgroundColor: "rgba( 21, 56, 153, 0.5)",
                transparency: 50,
                filled: !1
              },
              linetoolarrowmark: {
                clonable: !0,
                color: "rgba( 120, 120, 120, 1)",
                fontsize: 20,
                font: "Verdana"
              },
              linetoolarrowmarkleft: {
                clonable: !0,
                color: "rgba( 120, 120, 120, 1)",
                fontsize: 20,
                font: "Verdana"
              },
              linetoolarrowmarkup: {
                clonable: !0,
                color: "rgba( 120, 120, 120, 1)",
                fontsize: 20,
                font: "Verdana"
              },
              linetoolarrowmarkright: {
                clonable: !0,
                color: "rgba( 120, 120, 120, 1)",
                fontsize: 20,
                font: "Verdana"
              },
              linetoolarrowmarkdown: {
                clonable: !0,
                color: "rgba( 120, 120, 120, 1)",
                fontsize: 20,
                font: "Verdana"
              },
              linetoolflagmark: {
                clonable: !0,
                color: "rgba( 255, 0, 0, 1)"
              },
              linetoolnote: {
                clonable: !0,
                markerColor: "rgba( 46, 102, 255, 1)",
                textColor: "rgba( 0, 0, 0, 1)",
                backgroundColor: "rgba( 255, 255, 255, 1)",
                backgroundTransparency: 0,
                font: "Arial",
                fontSize: 12,
                bold: !1,
                italic: !1,
                fixedSize: !0
              },
              linetoolnoteabsolute: {
                singleChartOnly: !0,
                clonable: !0,
                markerColor: "rgba( 46, 102, 255, 1)",
                textColor: "rgba( 0, 0, 0, 1)",
                backgroundColor: "rgba( 255, 255, 255, 1)",
                backgroundTransparency: 0,
                font: "Arial",
                fontSize: 12,
                bold: !1,
                italic: !1,
                fixedSize: !0
              },
              linetoolpricelabel: {
                clonable: !0,
                color: "rgba( 102, 123, 139, 1)",
                backgroundColor: "rgba( 255, 255, 255, 0.7)",
                borderColor: "rgba( 140, 140, 140, 1)",
                fontWeight: "bold",
                fontsize: 11,
                font: y,
                transparency: 30
              },
              linetoolrectangle: {
                clonable: !0,
                color: "rgba( 21, 56, 153, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 21, 56, 153, 0.5)",
                linewidth: 1,
                snapTo45Degrees: !0,
                transparency: 50
              },
              linetoolrotatedrectangle: {
                clonable: !0,
                color: "rgba( 152, 0, 255, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 142, 124, 195, 0.5)",
                transparency: 50,
                linewidth: 1,
                snapTo45Degrees: !0
              },
              linetoolellipse: {
                clonable: !0,
                color: "rgba( 153, 153, 21, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 153, 153, 21, 0.5)",
                transparency: 50,
                linewidth: 1
              },
              linetoolarc: {
                clonable: !0,
                color: "rgba( 153, 153, 21, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 153, 153, 21, 0.5)",
                transparency: 50,
                linewidth: 1
              },
              linetoolprediction: {
                singleChartOnly: !0,
                linecolor: "rgba( 28, 115, 219, 1)",
                linewidth: 2,
                sourceBackColor: "rgba( 241, 241, 241, 1)",
                sourceTextColor: "rgba( 110, 110, 110, 1)",
                sourceStrokeColor: "rgba( 110, 110, 110, 1)",
                targetStrokeColor: "rgba( 47, 168, 255, 1)",
                targetBackColor: "rgba( 11, 111, 222, 1)",
                targetTextColor: "rgba( 255, 255, 255, 1)",
                successBackground: "rgba( 54, 160, 42, 0.9)",
                successTextColor: "rgba( 255, 255, 255, 1)",
                failureBackground: "rgba( 231, 69, 69, 0.5)",
                failureTextColor: "rgba( 255, 255, 255, 1)",
                intermediateBackColor: "rgba( 234, 210, 137, 1)",
                intermediateTextColor: "rgba( 109, 77, 34, 1)",
                transparency: 10,
                centersColor: "rgba( 32, 32, 32, 1)"
              },
              linetooltriangle: {
                clonable: !0,
                color: "rgba( 153, 21, 21, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 153, 21, 21, 0.5)",
                transparency: 50,
                linewidth: 1
              },
              linetoolcallout: {
                clonable: !0,
                color: "rgba( 255, 255, 255, 1)",
                backgroundColor: "rgba( 153, 21, 21, 0.5)",
                transparency: 50,
                linewidth: 2,
                fontsize: 12,
                font: "Verdana",
                bordercolor: "rgba( 153, 21, 21, 1)",
                bold: !1,
                italic: !1,
                wordWrap: !1,
                wordWrapWidth: 400
              },
              linetoolparallelchannel: {
                clonable: !0,
                linecolor: "rgba( 119, 52, 153, 1)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                extendLeft: !1,
                extendRight: !1,
                fillBackground: !0,
                backgroundColor: "rgba( 180, 167, 214, 0.5)",
                transparency: 50,
                showMidline: !1,
                midlinecolor: "rgba( 119, 52, 153, 1)",
                midlinewidth: 1,
                midlinestyle: CanvasEx.LINESTYLE_DASHED
              },
              linetoolelliottimpulse: {
                degree: 7,
                clonable: !0,
                showWave: !0,
                color: "rgba( 61, 133, 198, 1)",
                linewidth: 1
              },
              linetoolelliotttriangle: {
                degree: 7,
                clonable: !0,
                showWave: !0,
                color: "rgba( 255, 152, 0, 1)",
                linewidth: 1
              },
              linetoolelliotttriplecombo: {
                degree: 7,
                clonable: !0,
                showWave: !0,
                color: "rgba( 106, 168, 79, 1)",
                linewidth: 1
              },
              linetoolelliottcorrection: {
                degree: 7,
                clonable: !0,
                showWave: !0,
                color: "rgba( 61, 133, 198, 1)",
                linewidth: 1
              },
              linetoolelliottdoublecombo: {
                degree: 7,
                clonable: !0,
                showWave: !0,
                color: "rgba( 106, 168, 79, 1)",
                linewidth: 1
              },
              linetoolbarspattern: {
                singleChartOnly: !0,
                color: "rgba( 80, 145, 204, 1)",
                clonable: !0,
                mode: c.Bars,
                mirrored: !1,
                flipped: !1
              },
              linetoolghostfeed: {
                singleChartOnly: !0,
                clonable: !0,
                averageHL: 20,
                variance: 50,
                candleStyle: {
                  upColor: "#6ba583",
                  downColor: "#d75442",
                  drawWick: !0,
                  drawBorder: !0,
                  borderColor: "#378658",
                  borderUpColor: "#225437",
                  borderDownColor: "#5b1a13",
                  wickColor: "#737375"
                },
                transparency: 50
              },
              study: {
                inputs: {},
                styles: {},
                palettes: {},
                bands: {},
                area: {},
                graphics: {},
                showInDataWindow: !0,
                visible: !0,
                showStudyArguments: !0,
                precision: "default"
              },
              linetoolpitchfork: {
                clonable: !0,
                fillBackground: !0,
                transparency: 80,
                style: l.Original,
                median: {
                  visible: !0,
                  color: "rgba( 165, 0, 0, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level0: T(.25, "rgba( 160, 107, 0, 1)", !1),
                level1: T(.382, "rgba( 105, 158, 0, 1)", !1),
                level2: T(.5, "rgba( 0, 155, 0, 1)", !0),
                level3: T(.618, "rgba( 0, 153, 101, 1)", !1),
                level4: T(.75, "rgba( 0, 101, 153, 1)", !1),
                level5: T(1, "rgba( 0, 0, 153, 1)", !0),
                level6: T(1.5, "rgba( 102, 0, 153, 1)", !1),
                level7: T(1.75, "rgba( 153, 0, 102, 1)", !1),
                level8: T(2, "rgba( 165, 0, 0, 1)", !1),
                __collectibleLines: ["median", "level0", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8"]
              },
              linetoolpitchfan: {
                clonable: !0,
                fillBackground: !0,
                transparency: 80,
                median: {
                  visible: !0,
                  color: "rgba( 165, 0, 0, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level0: T(.25, "rgba( 160, 107, 0, 1)", !1),
                level1: T(.382, "rgba( 105, 158, 0, 1)", !1),
                level2: T(.5, "rgba( 0, 155, 0, 1)", !0),
                level3: T(.618, "rgba( 0, 153, 101, 1)", !1),
                level4: T(.75, "rgba( 0, 101, 153, 1)", !1),
                level5: T(1, "rgba( 0, 0, 153, 1)", !0),
                level6: T(1.5, "rgba( 102, 0, 153, 1)", !1),
                level7: T(1.75, "rgba( 153, 0, 102, 1)", !1),
                level8: T(2, "rgba( 165, 0, 0, 1)", !1),
                __collectibleLines: ["median", "level0", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8"]
              },
              linetoolgannfan: {
                clonable: !0,
                showLabels: !0,
                font: "Verdana",
                fillBackground: !0,
                transparency: 80,
                level1: E(1, 8, "rgba( 160, 107, 0, 1)", !0),
                level2: E(1, 4, "rgba( 105, 158, 0, 1)", !0),
                level3: E(1, 3, "rgba( 0, 155, 0, 1)", !0),
                level4: E(1, 2, "rgba( 0, 153, 101, 1)", !0),
                level5: E(1, 1, "rgba( 128, 128, 128, 1)", !0),
                level6: E(2, 1, "rgba( 0, 101, 153, 1)", !0),
                level7: E(3, 1, "rgba( 0, 0, 153, 1)", !0),
                level8: E(4, 1, "rgba( 102, 0, 153, 1)", !0),
                level9: E(8, 1, "rgba( 165, 0, 0, 1)", !0),
                __collectibleLines: ["level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11"]
              },
              linetoolganncomplex: {
                clonable: !0,
                fillBackground: !1,
                arcsBackground: {
                  fillBackground: !0,
                  transparency: 80
                },
                reverse: !1,
                scaleRatio: "",
                showLabels: !0,
                labelsStyle: {
                  font: y,
                  fontSize: 12,
                  bold: !1,
                  italic: !1
                },
                levels: [C("rgba( 128, 128, 128, 1)", !0, 1), C("rgba( 160, 107, 0, 1)", !0, 1), C("rgba( 105, 158, 0, 1)", !0, 1), C("rgba( 0, 155, 0, 1)", !0, 1), C("rgba( 0, 153, 101, 1)", !0, 1), C("rgba( 128, 128, 128, 1)", !0, 1)],
                fanlines: [x("rgba( 165, 0, 255, 1)", !1, 1, 8, 1), x("rgba( 165, 0, 0, 1)", !1, 1, 5, 1), x("rgba( 128, 128, 128, 1)", !1, 1, 4, 1), x("rgba( 160, 107, 0, 1)", !1, 1, 3, 1), x("rgba( 105, 158, 0, 1)", !0, 1, 2, 1), x("rgba( 0, 155, 0, 1)", !0, 1, 1, 1), x("rgba( 0, 153, 101, 1)", !0, 1, 1, 2), x("rgba( 0, 153, 101, 1)", !1, 1, 1, 3), x("rgba( 0, 0, 153, 1)", !1, 1, 1, 4), x("rgba( 102, 0, 153, 1)", !1, 1, 1, 5), x("rgba( 165, 0, 255, 1)", !1, 1, 1, 8)],
                arcs: [x("rgba( 160, 107, 0, 1)", !0, 1, 1, 0), x("rgba( 160, 107, 0, 1)", !0, 1, 1, 1), x("rgba( 160, 107, 0, 1)", !0, 1, 1.5, 0), x("rgba( 105, 158, 0, 1)", !0, 1, 2, 0), x("rgba( 105, 158, 0, 1)", !0, 1, 2, 1), x("rgba( 0, 155, 0, 1)", !0, 1, 3, 0), x("rgba( 0, 155, 0, 1)", !0, 1, 3, 1), x("rgba( 0, 153, 101, 1)", !0, 1, 4, 0), x("rgba( 0, 153, 101, 1)", !0, 1, 4, 1), x("rgba( 0, 0, 153, 1)", !0, 1, 5, 0), x("rgba( 0, 0, 153, 1)", !0, 1, 5, 1)],
                __collectibleLines: ["trendline", "levels.0", "levels.1", "levels.2", "levels.3", "levels.4", "levels.5", "fanlines.0", "fanlines.1", "fanlines.2", "fanlines.3", "fanlines.4", "fanlines.5", "fanlines.6", "fanlines.7", "fanlines.8", "fanlines.9", "fanlines.10", "arcs.0", "arcs.1", "arcs.2", "arcs.3", "arcs.4", "arcs.5", "arcs.6", "arcs.7", "arcs.8", "arcs.9", "arcs.10"]
              },
              linetoolgannfixed: {
                clonable: !0,
                fillBackground: !1,
                arcsBackground: {
                  fillBackground: !0,
                  transparency: 80
                },
                reverse: !1,
                levels: [C("rgba( 128, 128, 128, 1)", !0, 1), C("rgba( 160, 107, 0, 1)", !0, 1), C("rgba( 105, 158, 0, 1)", !0, 1), C("rgba( 0, 155, 0, 1)", !0, 1), C("rgba( 0, 153, 101, 1)", !0, 1), C("rgba( 128, 128, 128, 1)", !0, 1)],
                fanlines: [x("rgba( 165, 0, 255, 1)", !1, 1, 8, 1), x("rgba( 165, 0, 0, 1)", !1, 1, 5, 1), x("rgba( 128, 128, 128, 1)", !1, 1, 4, 1), x("rgba( 160, 107, 0, 1)", !1, 1, 3, 1), x("rgba( 105, 158, 0, 1)", !0, 1, 2, 1), x("rgba( 0, 155, 0, 1)", !0, 1, 1, 1), x("rgba( 0, 153, 101, 1)", !0, 1, 1, 2), x("rgba( 0, 153, 101, 1)", !1, 1, 1, 3), x("rgba( 0, 0, 153, 1)", !1, 1, 1, 4), x("rgba( 102, 0, 153, 1)", !1, 1, 1, 5), x("rgba( 165, 0, 255, 1)", !1, 1, 1, 8)],
                arcs: [x("rgba( 160, 107, 0, 1)", !0, 1, 1, 0), x("rgba( 160, 107, 0, 1)", !0, 1, 1, 1), x("rgba( 160, 107, 0, 1)", !0, 1, 1.5, 0), x("rgba( 105, 158, 0, 1)", !0, 1, 2, 0), x("rgba( 105, 158, 0, 1)", !0, 1, 2, 1), x("rgba( 0, 155, 0, 1)", !0, 1, 3, 0), x("rgba( 0, 155, 0, 1)", !0, 1, 3, 1), x("rgba( 0, 153, 101, 1)", !0, 1, 4, 0), x("rgba( 0, 153, 101, 1)", !0, 1, 4, 1), x("rgba( 0, 0, 153, 1)", !0, 1, 5, 0), x("rgba( 0, 0, 153, 1)", !0, 1, 5, 1)],
                __collectibleLines: ["trendline", "levels.0", "levels.1", "levels.2", "levels.3", "levels.4", "levels.5", "fanlines.0", "fanlines.1", "fanlines.2", "fanlines.3", "fanlines.4", "fanlines.5", "fanlines.6", "fanlines.7", "fanlines.8", "fanlines.9", "fanlines.10", "arcs.0", "arcs.1", "arcs.2", "arcs.3", "arcs.4", "arcs.5", "arcs.6", "arcs.7", "arcs.8", "arcs.9", "arcs.10"]
              },
              linetoolgannsquare: {
                clonable: !0,
                color: "rgba( 21, 56, 153, 0.8)",
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                font: y,
                showTopLabels: !0,
                showBottomLabels: !0,
                showLeftLabels: !0,
                showRightLabels: !0,
                fillHorzBackground: !0,
                horzTransparency: 80,
                fillVertBackground: !0,
                vertTransparency: 80,
                reverse: !1,
                fans: w("rgba( 128, 128, 128, 1)", !1),
                hlevel1: P(0, "rgba( 128, 128, 128, 1)", !0),
                hlevel2: P(.25, "rgba( 160, 107, 0, 1)", !0),
                hlevel3: P(.382, "rgba( 105, 158, 0, 1)", !0),
                hlevel4: P(.5, "rgba( 0, 155, 0, 1)", !0),
                hlevel5: P(.618, "rgba( 0, 153, 101, 1)", !0),
                hlevel6: P(.75, "rgba( 0, 101, 153, 1)", !0),
                hlevel7: P(1, "rgba( 128, 128, 128, 1)", !0),
                vlevel1: P(0, "rgba( 128, 128, 128, 1)", !0),
                vlevel2: P(.25, "rgba( 160, 107, 0, 1)", !0),
                vlevel3: P(.382, "rgba( 105, 158, 0, 1)", !0),
                vlevel4: P(.5, "rgba( 0, 155, 0, 1)", !0),
                vlevel5: P(.618, "rgba( 0, 153, 101, 1)", !0),
                vlevel6: P(.75, "rgba( 0, 101, 153, 1)", !0),
                vlevel7: P(1, "rgba( 128, 128, 128, 1)", !0),
                __collectibleLines: ["fans", "hlevel1", "hlevel2", "hlevel3", "hlevel4", "hlevel5", "hlevel6", "hlevel7", "vlevel1", "vlevel2", "vlevel3", "vlevel4", "vlevel5", "vlevel6", "vlevel7"]
              },
              linetoolfibspeedresistancefan: {
                clonable: !0,
                fillBackground: !0,
                transparency: 80,
                grid: {
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  visible: !0
                },
                linewidth: 1,
                linestyle: CanvasEx.LINESTYLE_SOLID,
                font: y,
                showTopLabels: !0,
                showBottomLabels: !0,
                showLeftLabels: !0,
                showRightLabels: !0,
                snapTo45Degrees: !0,
                hlevel1: P(0, "rgba( 128, 128, 128, 1)", !0),
                hlevel2: P(.25, "rgba( 160, 107, 0, 1)", !0),
                hlevel3: P(.382, "rgba( 105, 158, 0, 1)", !0),
                hlevel4: P(.5, "rgba( 0, 155, 0, 1)", !0),
                hlevel5: P(.618, "rgba( 0, 153, 101, 1)", !0),
                hlevel6: P(.75, "rgba( 0, 101, 153, 1)", !0),
                hlevel7: P(1, "rgba( 128, 128, 128, 1)", !0),
                vlevel1: P(0, "rgba( 128, 128, 128, 1)", !0),
                vlevel2: P(.25, "rgba( 160, 107, 0, 1)", !0),
                vlevel3: P(.382, "rgba( 105, 158, 0, 1)", !0),
                vlevel4: P(.5, "rgba( 0, 155, 0, 1)", !0),
                vlevel5: P(.618, "rgba( 0, 153, 101, 1)", !0),
                vlevel6: P(.75, "rgba( 0, 101, 153, 1)", !0),
                vlevel7: P(1, "rgba( 128, 128, 128, 1)", !0),
                __collectibleLines: ["trendline", "hlevel1", "hlevel2", "hlevel3", "hlevel4", "hlevel5", "hlevel6", "hlevel7", "vlevel1", "vlevel2", "vlevel3", "vlevel4", "vlevel5", "vlevel6", "vlevel7"]
              },
              linetoolfibretracement: {
                clonable: !0,
                showCoeffs: !0,
                showPrices: !0,
                font: y,
                fillBackground: !0,
                transparency: 80,
                extendLines: !1,
                horzLabelsAlign: "left",
                vertLabelsAlign: "middle",
                reverse: !1,
                coeffsAsPercents: !1,
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_DASHED
                },
                levelsStyle: {
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level1: P(0, "rgba( 128, 128, 128, 1)", !0),
                level2: P(.236, "rgba( 204, 40, 40, 1)", !0),
                level3: P(.382, "rgba( 149, 204, 40, 1)", !0),
                level4: P(.5, "rgba( 40, 204, 40, 1)", !0),
                level5: P(.618, "rgba( 40, 204, 149, 1)", !0),
                level6: P(.786, "rgba( 40, 149, 204, 1)", !0),
                level7: P(1, "rgba( 128, 128, 128, 1)", !0),
                level8: P(1.618, "rgba( 40, 40, 204, 1)", !0),
                level9: P(2.618, "rgba( 204, 40, 40, 1)", !0),
                level10: P(3.618, "rgba( 149, 40, 204, 1)", !0),
                level11: P(4.236, "rgba( 204, 40, 149, 1)", !0),
                level12: P(1.272, "rgba( 149, 204, 40, 1)", !1),
                level13: P(1.414, "rgba( 204, 40, 40, 1)", !1),
                level16: P(2, "rgba( 40, 204, 149, 1)", !1),
                level14: P(2.272, "rgba( 149, 204, 40, 1)", !1),
                level15: P(2.414, "rgba( 40, 204, 40, 1)", !1),
                level17: P(3, "rgba( 40, 149, 204, 1)", !1),
                level18: P(3.272, "rgba( 128, 128, 128, 1)", !1),
                level19: P(3.414, "rgba( 40, 40, 204, 1)", !1),
                level20: P(4, "rgba( 204, 40, 40, 1)", !1),
                level21: P(4.272, "rgba( 149, 40, 204, 1)", !1),
                level22: P(4.414, "rgba( 204, 40, 149, 1)", !1),
                level23: P(4.618, "rgba( 149, 204, 40, 1)", !1),
                level24: P(4.764, "rgba( 40, 204, 149, 1)", !1),
                __collectibleLines: ["trendline", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11", "level12", "level13", "level14", "level15", "level16", "level17", "level18", "level19", "level20", "level21", "level22", "level23", "level24"]
              },
              linetoolfibchannel: {
                clonable: !0,
                showCoeffs: !0,
                showPrices: !0,
                font: y,
                fillBackground: !0,
                transparency: 80,
                extendLeft: !1,
                extendRight: !1,
                horzLabelsAlign: "left",
                vertLabelsAlign: "middle",
                coeffsAsPercents: !1,
                levelsStyle: {
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level1: P(0, "rgba( 128, 128, 128, 1)", !0),
                level2: P(.236, "rgba( 204, 40, 40, 1)", !0),
                level3: P(.382, "rgba( 149, 204, 40, 1)", !0),
                level4: P(.5, "rgba( 40, 204, 40, 1)", !0),
                level5: P(.618, "rgba( 40, 204, 149, 1)", !0),
                level6: P(.786, "rgba( 40, 149, 204, 1)", !0),
                level7: P(1, "rgba( 128, 128, 128, 1)", !0),
                level8: P(1.618, "rgba( 40, 40, 204, 1)", !0),
                level9: P(2.618, "rgba( 204, 40, 40, 1)", !0),
                level10: P(3.618, "rgba( 149, 40, 204, 1)", !0),
                level11: P(4.236, "rgba( 204, 40, 149, 1)", !0),
                level12: P(1.272, "rgba( 149, 204, 40, 1)", !1),
                level13: P(1.414, "rgba( 204, 40, 40, 1)", !1),
                level16: P(2, "rgba( 40, 204, 149, 1)", !1),
                level14: P(2.272, "rgba( 149, 204, 40, 1)", !1),
                level15: P(2.414, "rgba( 40, 204, 40, 1)", !1),
                level17: P(3, "rgba( 40, 149, 204, 1)", !1),
                level18: P(3.272, "rgba( 128, 128, 128, 1)", !1),
                level19: P(3.414, "rgba( 40, 40, 204, 1)", !1),
                level20: P(4, "rgba( 204, 40, 40, 1)", !1),
                level21: P(4.272, "rgba( 149, 40, 204, 1)", !1),
                level22: P(4.414, "rgba( 204, 40, 149, 1)", !1),
                level23: P(4.618, "rgba( 149, 204, 40, 1)", !1),
                level24: P(4.764, "rgba( 40, 204, 149, 1)", !1),
                __collectibleLines: ["level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11", "level12", "level13", "level14", "level15", "level16", "level17", "level18", "level19", "level20", "level21", "level22", "level23", "level24"]
              },
              linetoolprojection: {
                clonable: !0,
                showCoeffs: !0,
                font: "Verdana",
                fillBackground: !0,
                transparency: 80,
                color1: "rgba( 0, 128, 0, 0.2)",
                color2: "rgba( 255, 0, 0, 0.2)",
                linewidth: 1,
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level1: T(1, "rgba( 128, 128, 128, 1)", !0)
              },
              linetool5pointspattern: {
                clonable: !0,
                color: "rgba( 204, 40, 149, 1)",
                textcolor: "rgba( 255, 255, 255, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 204, 40, 149, 0.5)",
                font: "Verdana",
                fontsize: 12,
                bold: !1,
                italic: !1,
                transparency: 50,
                linewidth: 1
              },
              linetoolcypherpattern: {
                clonable: !0,
                color: "#CC2895",
                textcolor: "#FFFFFF",
                fillBackground: !0,
                backgroundColor: "#CC2895",
                font: "Verdana",
                fontsize: 12,
                bold: !1,
                italic: !1,
                transparency: 50,
                linewidth: 1
              },
              linetooltrianglepattern: {
                clonable: !0,
                color: "rgba( 149, 40, 255, 1)",
                textcolor: "rgba( 255, 255, 255, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 149, 40, 204, 0.5)",
                font: "Verdana",
                fontsize: 12,
                bold: !1,
                italic: !1,
                transparency: 50,
                linewidth: 1
              },
              linetoolabcd: {
                clonable: !0,
                color: "rgba( 0, 155, 0, 1)",
                textcolor: "rgba( 255, 255, 255, 1)",
                font: "Verdana",
                fontsize: 12,
                bold: !1,
                italic: !1,
                linewidth: 2
              },
              linetoolthreedrivers: {
                clonable: !0,
                color: "rgba( 149, 40, 255, 1)",
                textcolor: "rgba( 255, 255, 255, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 149, 40, 204, 0.5)",
                font: "Verdana",
                fontsize: 12,
                bold: !1,
                italic: !1,
                transparency: 50,
                linewidth: 2
              },
              linetoolheadandshoulders: {
                clonable: !0,
                color: "rgba( 69, 104, 47, 1)",
                textcolor: "rgba( 255, 255, 255, 1)",
                fillBackground: !0,
                backgroundColor: "rgba( 69, 168, 47, 0.5)",
                font: "Verdana",
                fontsize: 12,
                bold: !1,
                italic: !1,
                transparency: 50,
                linewidth: 2
              },
              linetoolfibwedge: {
                singleChartOnly: !0,
                clonable: !0,
                showCoeffs: !0,
                font: y,
                fillBackground: !0,
                transparency: 80,
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level1: T(.236, "rgba( 204, 40, 40, 1)", !0),
                level2: T(.382, "rgba( 149, 204, 40, 1)", !0),
                level3: T(.5, "rgba( 40, 204, 40, 1)", !0),
                level4: T(.618, "rgba( 40, 204, 149, 1)", !0),
                level5: T(.786, "rgba( 40, 149, 204, 1)", !0),
                level6: T(1, "rgba( 128, 128, 128, 1)", !0),
                level7: T(1.618, "rgba( 40, 40, 204, 1)", !1),
                level8: T(2.618, "rgba( 204, 40, 40, 1)", !1),
                level9: T(3.618, "rgba( 149, 40, 204, 1)", !1),
                level10: T(4.236, "rgba( 204, 40, 149, 1)", !1),
                level11: T(4.618, "rgba( 204, 40, 149, 1)", !1),
                __collectibleLines: ["trendline", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11"]
              },
              linetoolfibcircles: {
                clonable: !0,
                showCoeffs: !0,
                font: y,
                fillBackground: !0,
                transparency: 80,
                snapTo45Degrees: !0,
                coeffsAsPercents: !1,
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_DASHED
                },
                level1: T(.236, "rgba( 204, 40, 40, 1)", !0),
                level2: T(.382, "rgba( 149, 204, 40, 1)", !0),
                level3: T(.5, "rgba( 40, 204, 40, 1)", !0),
                level4: T(.618, "rgba( 40, 204, 149, 1)", !0),
                level5: T(.786, "rgba( 40, 149, 204, 1)", !0),
                level6: T(1, "rgba( 128, 128, 128, 1)", !0),
                level7: T(1.618, "rgba( 40, 40, 204, 1)", !0),
                level8: T(2.618, "rgba( 204, 40, 40, 1)", !0),
                level9: T(3.618, "rgba( 149, 40, 204, 1)", !0),
                level10: T(4.236, "rgba( 204, 40, 149, 1)", !0),
                level11: T(4.618, "rgba( 204, 40, 149, 1)", !0),
                __collectibleLines: ["trendline", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11"]
              },
              linetoolfibspeedresistancearcs: {
                clonable: !0,
                showCoeffs: !0,
                font: y,
                fillBackground: !0,
                transparency: 80,
                fullCircles: !1,
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_DASHED
                },
                level1: T(.236, "rgba( 204, 40, 40, 1)", !0),
                level2: T(.382, "rgba( 149, 204, 40, 1)", !0),
                level3: T(.5, "rgba( 40, 204, 40, 1)", !0),
                level4: T(.618, "rgba( 40, 204, 149, 1)", !0),
                level5: T(.786, "rgba( 40, 149, 204, 1)", !0),
                level6: T(1, "rgba( 128, 128, 128, 1)", !0),
                level7: T(1.618, "rgba( 40, 40, 204, 1)", !0),
                level8: T(2.618, "rgba( 204, 40, 40, 1)", !0),
                level9: T(3.618, "rgba( 149, 40, 204, 1)", !0),
                level10: T(4.236, "rgba( 204, 40, 149, 1)", !0),
                level11: T(4.618, "rgba( 204, 40, 149, 1)", !0),
                __collectibleLines: ["trendline", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11"]
              },
              linetooltrendbasedfibextension: {
                clonable: !0,
                showCoeffs: !0,
                showPrices: !0,
                font: y,
                fillBackground: !0,
                transparency: 80,
                extendLines: !1,
                horzLabelsAlign: "left",
                vertLabelsAlign: "middle",
                reverse: !1,
                coeffsAsPercents: !1,
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_DASHED
                },
                levelsStyle: {
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level1: P(0, "rgba( 128, 128, 128, 1)", !0),
                level2: P(.236, "rgba( 204, 40, 40, 1)", !0),
                level3: P(.382, "rgba( 149, 204, 40, 1)", !0),
                level4: P(.5, "rgba( 40, 204, 40, 1)", !0),
                level5: P(.618, "rgba( 40, 204, 149, 1)", !0),
                level6: P(.786, "rgba( 40, 149, 204, 1)", !0),
                level7: P(1, "rgba( 128, 128, 128, 1)", !0),
                level8: P(1.618, "rgba( 40, 40, 204, 1)", !0),
                level9: P(2.618, "rgba( 204, 40, 40, 1)", !0),
                level10: P(3.618, "rgba( 149, 40, 204, 1)", !0),
                level11: P(4.236, "rgba( 204, 40, 149, 1)", !0),
                level12: P(1.272, "rgba( 149, 204, 40, 1)", !1),
                level13: P(1.414, "rgba( 204, 40, 40, 1)", !1),
                level16: P(2, "rgba( 40, 204, 149, 1)", !1),
                level14: P(2.272, "rgba( 149, 204, 40, 1)", !1),
                level15: P(2.414, "rgba( 40, 204, 40, 1)", !1),
                level17: P(3, "rgba( 40, 149, 204, 1)", !1),
                level18: P(3.272, "rgba( 128, 128, 128, 1)", !1),
                level19: P(3.414, "rgba( 40, 40, 204, 1)", !1),
                level20: P(4, "rgba( 204, 40, 40, 1)", !1),
                level21: P(4.272, "rgba( 149, 40, 204, 1)", !1),
                level22: P(4.414, "rgba( 204, 40, 149, 1)", !1),
                level23: P(4.618, "rgba( 149, 204, 40, 1)", !1),
                level24: P(4.764, "rgba( 40, 204, 149, 1)", !1),
                __collectibleLines: ["trendline", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11", "level12", "level13", "level14", "level15", "level16", "level17", "level18", "level19", "level20", "level21", "level22", "level23", "level24"]
              },
              linetooltrendbasedfibtime: {
                clonable: !0,
                showCoeffs: !0,
                font: "Verdana",
                fillBackground: !0,
                transparency: 80,
                horzLabelsAlign: "right",
                vertLabelsAlign: "bottom",
                trendline: {
                  visible: !0,
                  color: "rgba( 128, 128, 128, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_DASHED
                },
                level1: T(0, "rgba( 128, 128, 128, 1)", !0),
                level2: T(.382, "rgba( 204, 40, 40, 1)", !0),
                level3: T(.5, "rgba( 149, 204, 40, 1)", !1),
                level4: T(.618, "rgba( 40, 204, 40, 1)", !0),
                level5: T(1, "rgba( 40, 204, 149, 1)", !0),
                level6: T(1.382, "rgba( 40, 149, 204, 1)", !0),
                level7: T(1.618, "rgba( 128, 128, 128, 1)", !0),
                level8: T(2, "rgba( 40, 40, 204, 1)", !0),
                level9: T(2.382, "rgba( 204, 40, 40, 1)", !0),
                level10: T(2.618, "rgba( 149, 40, 204, 1)", !0),
                level11: T(3, "rgba( 204, 40, 149, 1)", !0),
                __collectibleLines: ["trendline", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8", "level9", "level10", "level11"]
              },
              linetoolschiffpitchfork: {
                clonable: !0,
                fillBackground: !0,
                transparency: 80,
                style: l.Schiff,
                median: {
                  visible: !0,
                  color: "rgba( 165, 0, 0, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level0: T(.25, "rgba( 160, 107, 0, 1)", !1),
                level1: T(.382, "rgba( 105, 158, 0, 1)", !1),
                level2: T(.5, "rgba( 0, 155, 0, 1)", !0),
                level3: T(.618, "rgba( 0, 153, 101, 1)", !1),
                level4: T(.75, "rgba( 0, 101, 153, 1)", !1),
                level5: T(1, "rgba( 0, 0, 153, 1)", !0),
                level6: T(1.5, "rgba( 102, 0, 153, 1)", !1),
                level7: T(1.75, "rgba( 153, 0, 102, 1)", !1),
                level8: T(2, "rgba( 165, 0, 0, 1)", !1),
                __collectibleLines: ["median", "level0", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8"]
              },
              linetoolschiffpitchfork2: {
                clonable: !0,
                fillBackground: !0,
                transparency: 80,
                style: l.Schiff2,
                median: {
                  visible: !0,
                  color: "rgba( 165, 0, 0, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level0: T(.25, "rgba( 160, 107, 0, 1)", !1),
                level1: T(.382, "rgba( 105, 158, 0, 1)", !1),
                level2: T(.5, "rgba( 0, 155, 0, 1)", !0),
                level3: T(.618, "rgba( 0, 153, 101, 1)", !1),
                level4: T(.75, "rgba( 0, 101, 153, 1)", !1),
                level5: T(1, "rgba( 0, 0, 153, 1)", !0),
                level6: T(1.5, "rgba( 102, 0, 153, 1)", !1),
                level7: T(1.75, "rgba( 153, 0, 102, 1)", !1),
                level8: T(2, "rgba( 165, 0, 0, 1)", !1),
                __collectibleLines: ["median", "level0", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8"]
              },
              linetoolinsidepitchfork: {
                clonable: !0,
                fillBackground: !0,
                transparency: 80,
                style: l.Inside,
                median: {
                  visible: !0,
                  color: "rgba( 165, 0, 0, 1)",
                  linewidth: 1,
                  linestyle: CanvasEx.LINESTYLE_SOLID
                },
                level0: T(.25, "rgba( 160, 107, 0, 1)", !1),
                level1: T(.382, "rgba( 105, 158, 0, 1)", !1),
                level2: T(.5, "rgba( 0, 155, 0, 1)", !0),
                level3: T(.618, "rgba( 0, 153, 101, 1)", !1),
                level4: T(.75, "rgba( 0, 101, 153, 1)", !1),
                level5: T(1, "rgba( 0, 0, 153, 1)", !0),
                level6: T(1.5, "rgba( 102, 0, 153, 1)", !1),
                level7: T(1.75, "rgba( 153, 0, 102, 1)", !1),
                level8: T(2, "rgba( 165, 0, 0, 1)", !1),
                __collectibleLines: ["median", "level0", "level1", "level2", "level3", "level4", "level5", "level6", "level7", "level8"]
              },
              linetool: {
                frozen: !1,
                visible: !0,
                intervalsVisibilities: {
                  seconds: !0,
                  secondsFrom: 1,
                  secondsTo: 59,
                  minutes: !0,
                  minutesFrom: 1,
                  minutesTo: 59,
                  hours: !0,
                  hoursFrom: 1,
                  hoursTo: 24,
                  days: !0,
                  daysFrom: 1,
                  daysTo: 366,
                  weeks: !0,
                  months: !0,
                  ranges: !0
                }
              }
            }, o(TradingView.defaultProperties.chartproperties), r()
          }
          for (void 0 === TradingView.defaultProperties["study_MA@tv-basicstudies"] && (TradingView.defaultProperties["study_MA@tv-basicstudies"] = {
              description: "Moving Average",
              shortDescription: "MA",
              inputs: {
                length: 9,
                source: "close"
              },
              styles: {
                MovAvg: {
                  visible: !0,
                  color: "rgba( 4, 150, 255, 1)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1,
                  plottype: u.Line,
                  histogramBase: 0,
                  title: "MA"
                }
              }
            }), void 0 === TradingView.defaultProperties["study_PivotPointsHighLow@tv-basicstudies"] && (TradingView.defaultProperties["study_PivotPointsHighLow@tv-basicstudies"] = {
              font: "Arial",
              fontsize: 10,
              borderColor: "rgba( 83, 143, 31, 1)",
              backColor: "rgba( 240, 255, 204, 1)",
              textColor: "rgba( 0, 0, 0, 1)"
            }), void 0 === TradingView.defaultProperties["study_PivotPointsStandard@tv-basicstudies"] && (i = "rgba( 212, 121, 40, 1)", n = !0, s = 1, TradingView.defaultProperties["study_PivotPointsStandard@tv-basicstudies"] = {
              _hardCodedDefaultsVersion: 1,
              font: "Arial",
              fontsize: 11,
              levelsStyle: {
                showLabels: !0,
                visibility: {
                  P: n,
                  "S1/R1": n,
                  "S2/R2": n,
                  "S3/R3": n,
                  "S4/R4": n,
                  "S5/R5": n
                },
                colors: {
                  P: i,
                  "S1/R1": i,
                  "S2/R2": i,
                  "S3/R3": i,
                  "S4/R4": i,
                  "S5/R5": i
                },
                widths: {
                  P: s,
                  "S1/R1": s,
                  "S2/R2": s,
                  "S3/R3": s,
                  "S4/R4": s,
                  "S5/R5": s
                }
              }
            }), void 0 === TradingView.defaultProperties["study_ZigZag@tv-basicstudies"] && (TradingView.defaultProperties["study_ZigZag@tv-basicstudies"] = {
              color: "rgba( 86, 135, 29, 1)",
              linewidth: 2
            }), void 0 === TradingView.defaultProperties["study_ElliottWave@tv-basicstudies"] && (TradingView.defaultProperties["study_ElliottWave@tv-basicstudies"] = {
              inputs: {},
              level0: w("rgba( 255, 0, 0, 1)", !1),
              level1: w("rgba( 0, 128, 0, 1)", !1),
              level2: w("rgba( 0, 0, 255, 1)", !1),
              level3: w("rgba( 255, 0, 255, 1)", !1),
              level4: w("rgba( 0, 128, 255, 1)", !0),
              level5: w("rgba( 255, 0, 0, 1)", !0),
              level6: w("rgba( 0, 128, 0, 1)", !0),
              level7: w("rgba( 0, 0, 255, 1)", !0),
              level8: w("rgba( 255, 0, 255, 1)", !0)
            }), void 0 === TradingView.defaultProperties["study_LinearRegression@tv-basicstudies"] && (TradingView.defaultProperties["study_LinearRegression@tv-basicstudies"] = {
              styles: {
                upLine: {
                  visible: !0,
                  color: "rgba( 0, 0, 255, 0.3)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1
                },
                downLine: {
                  visible: !0,
                  color: "rgba( 0, 0, 255, 0.3)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1
                },
                baseLine: {
                  visible: !0,
                  color: "rgba( 255, 0, 0, 0.3)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1
                },
                extendLines: !0,
                showPearsons: !0,
                backgroundColor: "rgba( 153, 21, 21, 0.3)",
                transparency: 70
              }
            }), void 0 === TradingView.defaultProperties["study_RegressionTrend@tv-basicstudies"] && (TradingView.defaultProperties["study_RegressionTrend@tv-basicstudies"] = {
              linewidth: 1,
              linestyle: CanvasEx.LINESTYLE_SOLID,
              styles: {
                upLine: {
                  visible: !0,
                  color: "rgba( 0, 0, 255, 0.3)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1
                },
                downLine: {
                  visible: !0,
                  color: "rgba( 0, 0, 255, 0.3)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1
                },
                baseLine: {
                  visible: !0,
                  color: "rgba( 255, 0, 0, 0.3)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1
                },
                extendLines: !1,
                showPearsons: !0,
                transparency: 70
              }
            }), void 0 === TradingView.defaultProperties["study_Compare@tv-basicstudies"] && (TradingView.defaultProperties["study_Compare@tv-basicstudies"] = {
              minTick: "default"
            }), void 0 === TradingView.defaultProperties["study_Overlay@tv-basicstudies"] && (g = "study_Overlay@tv-basicstudies", TradingView.defaultProperties[g] = {
              style: a.STYLE_LINE,
              showPriceLine: !1,
              minTick: "default",
              candleStyle: {
                upColor: "rgba( 107, 165, 131, 1)",
                downColor: "rgba( 215, 84, 66, 1)",
                drawWick: !0,
                drawBorder: !0,
                borderColor: "rgba( 55, 134, 88, 1)",
                borderUpColor: "rgba( 34, 84, 55, 1)",
                borderDownColor: "rgba( 91, 26, 19, 1)",
                wickColor: "rgba( 115, 115, 117, 1)",
                wickUpColor: "rgba( 115, 115, 117, 1)",
                wickDownColor: "rgba( 115, 115, 117, 1)",
                barColorsOnPrevClose: !1
              },
              hollowCandleStyle: {
                upColor: "rgba( 107, 165, 131, 1)",
                downColor: "rgba( 215, 84, 66, 1)",
                drawWick: !0,
                drawBorder: !0,
                borderColor: "rgba( 55, 134, 88, 1)",
                borderUpColor: "rgba( 34, 84, 55, 1)",
                borderDownColor: "rgba( 91, 26, 19, 1)",
                wickColor: "rgba( 115, 115, 117, 1)",
                wickUpColor: "rgba( 115, 115, 117, 1)",
                wickDownColor: "rgba( 115, 115, 117, 1)",
                barColorsOnPrevClose: !1
              },
              barStyle: {
                upColor: "rgba( 107, 165, 131, 1)",
                downColor: "rgba( 215, 84, 66, 1)",
                barColorsOnPrevClose: !1,
                dontDrawOpen: !1,
                thinBars: !0
              },
              lineStyle: {
                color: "#2196f3",
                linestyle: CanvasEx.LINESTYLE_SOLID,
                linewidth: 2,
                priceSource: "close",
                styleType: a.STYLE_LINE_TYPE_SIMPLE
              },
              areaStyle: {
                color1: "#2196f3",
                color2: "#2196f3",
                linecolor: "#2196f3",
                linestyle: CanvasEx.LINESTYLE_SOLID,
                linewidth: 3,
                priceSource: "close",
                transparency: 95
              },
              baselineStyle: {
                baselineColor: "rgba( 117, 134, 150, 1)",
                topFillColor1: "rgba( 83, 185, 135, 0.05)",
                topFillColor2: "rgba( 83, 185, 135, 0.05)",
                bottomFillColor1: "rgba( 235, 77, 92, 0.05)",
                bottomFillColor2: "rgba( 235, 77, 92, 0.05)",
                topLineColor: "rgba( 83, 185, 135, 1)",
                bottomLineColor: "rgba( 235, 77, 92, 1)",
                topLineWidth: 3,
                bottomLineWidth: 3,
                priceSource: "close",
                transparency: 50,
                baseLevelPercentage: 50
              },
              styles: {
                open: {
                  visible: !0,
                  color: "rgba( 255, 0, 0, 1)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1,
                  plottype: u.Line,
                  histogramBase: 0
                },
                high: {
                  visible: !0,
                  color: "rgba( 255, 0, 0, 1)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1,
                  plottype: u.Line,
                  histogramBase: 0
                },
                low: {
                  visible: !0,
                  color: "rgba( 255, 0, 0, 1)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1,
                  plottype: u.Line,
                  histogramBase: 0
                },
                close: {
                  visible: !0,
                  color: "rgba( 255, 0, 0, 1)",
                  linestyle: CanvasEx.LINESTYLE_SOLID,
                  linewidth: 1,
                  plottype: u.Line,
                  histogramBase: 0
                }
              }
            }), v = e.split("."), S = TradingView.defaultProperties, b = 0; b < v.length; b++) S && (S = S[v[b]]);
          return null != S ? TradingView.clone(S) : {}
        };
      s.create = function (e, t) {
        if (t) {
          var i = v(e);
          TradingView.defaultProperties[e] = Object.assign(t, i)
        }
      }, s.remove = function (e) {
        TradingView.defaultProperties[e] = void 0
      }, TradingView.saveDefaults = function (e, t) {
        TVSettings.setJSON(e, t)
      }, TradingView.factoryDefaults = v, window.applyDefaultOverridesToLinetools = r, window.applyDefaultsOverrides = o, window.applyPropertiesOverrides = n, window.defaults = s, t.applyDefaultOverridesToLinetools = r, t.applyDefaultsOverrides = o, t.applyPropertiesOverrides = n, t.defaults = s, t.factoryDefaults = v, t.saveDefaults = TradingView.saveDefaults
    },
    wamh: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "ChangeToolBarsThemeUndoCommand", function () {
        return s
      }), n = i("mrSG"), o = i("EsvI"), r = i("RDU5"), s = function (e) {
        function t(t, i, n) {
          void 0 === n && (n = !0);
          var o = e.call(this, "Apply Toolbars Theme") || this;
          return o._prevThemeName = t, o._themeName = i, o._syncState = n, o
        }
        return n.__extends(t, e), t.prototype.undo = function () {
          Object(o.isStdThemeName)(this._prevThemeName) && (Object(o.setTheme)(this._prevThemeName), this._syncState && Object(o.syncTheme)())
        }, t.prototype.redo = function () {
          Object(o.isStdThemeName)(this._themeName.toLowerCase()) && (Object(o.setTheme)(this._themeName.toLowerCase()), this._syncState && Object(o.syncTheme)())
        }, t
      }(r.UndoCommand)
    },
    wi9r: function (e, t, i) {
      "use strict";
      (function (e) {
        function t(e) {
          this._chartApi = e, this._sessionid = "qs_" + n(), this._sessionstarted = !1
        }
        var n = i("0waE").randomHash;
        t.prototype.destroy = function () {
          this._sessionstarted && (this._chartApi.quoteDeleteSession(this._sessionid), this._sessionid = null, this._sessionstarted = !1)
        }, t.prototype.connected = function () {
          return this._chartApi.connected()
        }, t.prototype.connect = function (e) {
          this._globalHandler = e, this._chartApi.createSession(this._sessionid, this), this._chartApi.connect()
        }, t.prototype.disconnect = function () {
          this._chartApi.disconnect()
        }, t.prototype.quoteAddSymbols = function (e, t) {
          e = [].concat(e), t && t.forcePermission && (e = e.concat({
            flags: ["force_permission"]
          })), this._chartApi.quoteAddSymbols(this._sessionid, e)
        }, t.prototype.quoteRemoveSymbols = function (e) {
          this._chartApi.quoteRemoveSymbols(this._sessionid, e)
        }, t.prototype.quoteFastSymbols = function (e) {
          this._chartApi.quoteFastSymbols(this._sessionid, e)
        }, t.prototype.quoteSetFields = function (e) {
          this._chartApi.quoteSetFields(this._sessionid, e)
        }, t.prototype.onMessage = function (e) {
          switch (e.method) {
            case "connected":
              this._sessionstarted || (this._chartApi.quoteCreateSession(this._sessionid), this._sessionstarted = !0);
              break;
            case "disconnected":
              this._sessionstarted = !1
          }
          this._globalHandler(e)
        }, t.prototype.quoteHibernateAll = function (e) {
          this._chartApi.quoteHibernateAll(this._sessionid)
        }, TradingView.QuoteSession = t, e && e.exports && (e.exports = t)
      }).call(this, i("YuTi")(e))
    },
    wmOI: function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.LEFT_ARROW = 37, t.UP_ARROW = 38, t.RIGHT_ARROW = 39, t.DOWN_ARROW = 40, t.ENTER = 13, t.ESC = 27, t.SPACE = 32, t.SLASH = 47
    },
    wnP7: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l;
      i.r(t), i.d(t, "ExchangeGroup", function () {
          return r
        }), i.d(t, "Countries", function () {
          return s
        }), i.d(t, "exchangeGroupName", function () {
          return a
        }), i.d(t, "exchanges", function () {
          return l
        }), i("YFKU"), n = i("JUKA"),
        function (e) {
          e.NorthAmerica = "North America", e.Europe = "Europe", e.MiddleEastAfrica = "Middle East / Africa", e.MexicoSouthAmerica = "Mexico and South America", e.AsiaPacific = "Asia / Pacific", e.Worldwide = "Worldwide", e.Cryptocurrency = "Cryptocurrency", e.Forex = "Forex", e.AllExchanges = "AllExchanges", e.Others = "Others"
        }(r || (r = {})),
        function (e) {
          e.USA = "United States", e.Canada = "Canada", e.EU = "European Union", e.Germany = "Germany", e.Italy = "Italy", e.Poland = "Poland", e.Russia = "Russian Federation", e.Serbia = "Serbia", e.Spain = "Spain", e.Switzerland = "Switzerland", e.Turkey = "Turkey", e.UK = "United Kingdom", e.Bahrain = "Bahrain", e.Egypt = "Egypt", e.Israel = "Israel", e.Nigeria = "Nigeria", e.SaudiArabia = "Saudi Arabia", e.UAE = "United Arab Emirates", e.Argentina = "Argentina", e.Brazil = "Brazil", e.Chile = "Chile", e.Mexico = "Mexico", e.Australia = "Australia", e.China = "China", e.India = "India", e.Indonesia = "Indonesia", e.HongKong = "Hong Kong", e.Japan = "Japan", e.Malaysia = "Malaysia", e.NewZealand = "New Zealand", e.Singapore = "Singapore", e.Taiwan = "Taiwan", e.Thailand = "Thailand", e.SouthKorea = "South Korea", e.Peru = "Peru", e.Colombia = "Colombia", e.Sweden = "Sweden", e.Ireland = "Ireland", e.Austria = "Austria", e.Norway = "Norway", e.Qatar = "Qatar", e.Denmark = "Denmark", e.Iceland = "Iceland", e.Finland = "Finland", e.Lithuania = "Lithuania", e.Estonia = "Estonia", e.Latvia = "Latvia", e.Vietnam = "Vietnam", e.SouthAfrica = "South Africa", e.Netherlands = "Netherlands", e.Belgium = "Belgium", e.Portugal = "Portugal", e.France = "France"
        }(s || (s = {})), (o = {})[r.NorthAmerica] = window.t("North America"), o[r.Europe] = window.t("Europe"), o[r.MiddleEastAfrica] = window.t("Middle East / Africa"), o[r.MexicoSouthAmerica] = window.t("Mexico and South America"), o[r.AsiaPacific] = window.t("Asia / Pacific"), o[r.Worldwide] = window.t("Worldwide"), o[r.Cryptocurrency] = window.t("Cryptocurrency"), o[r.Forex] = window.t("Forex"), o[r.Others] = window.t("Others"), a = o, l = n
    },
    "wnZ+": function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "PinePerm", function () {
          return n
        }),
        function (e) {
          e.add = function (e, t) {
            return window.is_authenticated ? $.ajax({
              data: {
                pine_id: t,
                username_recip: e
              },
              dataType: "json",
              type: "POST",
              url: "/pine_perm/add/"
            }) : $.Deferred().reject()
          }, e.remove = function (e, t) {
            return window.is_authenticated ? $.ajax({
              data: {
                pine_id: t,
                username_recip: e
              },
              dataType: "json",
              type: "POST",
              url: "/pine_perm/remove/"
            }) : $.Deferred().reject()
          }, e.listUsers = function (e) {
            return window.is_authenticated ? $.ajax({
              data: {
                pine_id: e
              },
              dataType: "json",
              type: "POST",
              url: "/pine_perm/list_users/"
            }) : $.Deferred().reject()
          }, e.listScripts = function () {
            return window.is_authenticated ? $.ajax({
              dataType: "json",
              type: "POST",
              url: "/pine_perm/list_scripts/"
            }) : $.Deferred().reject()
          }
        }(n || (n = {}))
    },
    wuAJ: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = document.createElement("a");
        return t.href = e, a(t) && s(t) && r(t)
      }

      function o(e) {
        var t = document.createElement("a");
        return t.href = e, s(t) && r(t)
      }
      var r, s, a;
      i.r(t), i.d(t, "isInternalUrl", function () {
        return n
      }), i.d(t, "isSafeUrl", function () {
        return o
      }), r = function (e) {
        return !e.username
      }, s = function (e) {
        return "http:" === e.protocol || "https:" === e.protocol
      }, a = function (e) {
        if (e.hostname === location.hostname) return !0;
        if (/^\d+\.\d+\.\d+\.\d+$/.test(e.hostname)) return !1;
        var t = location.hostname.split(".").slice(-2).join(".");
        return e.hostname.slice(-t.length) === t
      }
    },
    "x+tH": function (e, t, i) {
      "use strict";
      var n;
      i.r(t), i.d(t, "WSMode", function () {
          return n
        }),
        function (e) {
          e[e.Text = 1] = "Text", e[e.Binary = 2] = "Binary"
        }(n || (n = {}))
    },
    x0JF: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this.m_series = e, this.m_model = t, this.m_bars = [], this._invalidated = !0, this._isMarkersEnabled = C.enabled("source_selection_markers"), this._selectionData = null
      }

      function o(e, t) {
        return void 0 !== e[TradingView.OPEN_PLOT] && void 0 !== e[TradingView.HIGH_PLOT] && void 0 !== e[TradingView.LOW_PLOT] && void 0 !== e[TradingView.CLOSE_PLOT] && (t.open = e[TradingView.OPEN_PLOT], t.high = e[TradingView.HIGH_PLOT], t.low = e[TradingView.LOW_PLOT], t.close = e[TradingView.CLOSE_PLOT], !0)
      }

      function r(e, t) {
        n.call(this, e, t)
      }

      function s(e, t) {
        n.call(this, e, t)
      }

      function a(e, t) {
        n.call(this, e, t)
      }

      function l(e, t) {
        n.call(this, e, t)
      }

      function c(e, t) {
        this.m_series = e, this.m_model = t, this.m_items = []
      }

      function u(e, t) {
        c.call(this, e, t), this._invaidated = !0
      }

      function h(e, t) {
        c.call(this, e, t), this._invaidated = !0
      }

      function d(e, t) {
        c.call(this, e, t), this._invaidated = !0, this._renderer = new S
      }
      var p = i("aO4+").Point,
        f = i("1mZ4").SelectionRenderer,
        _ = i("VdBB").HitTestResult,
        m = i("VuJ3").PaneRendererBars,
        g = i("gyZD").PaneRendererLine,
        y = i("u0yd").PaneRendererArea,
        v = i("sBR6").PaneRendererCandles,
        S = i("M7/j").PaneRendererBaseline,
        b = i("Zy3/").CompositeRenderer,
        w = i("ga+R"),
        P = i("Tmoa"),
        T = i("k9/m").PlotRowSearchMode,
        C = i("Kxc7"),
        x = i("Zp/P");
      n.prototype._series = function () {
        return this.m_series
      }, n.prototype._model = function () {
        return this.m_model
      }, n.prototype._bars = function () {
        return this.m_bars
      }, n.prototype.update = function () {
        this._invalidated = !0
      }, n.prototype._updateImpl = function (e) {
        var t, i, n, r, s, a, l, c, u, h, d, f, m, g, y = this;
        if (e = e || o, this.m_bars = [], !this.m_model.timeScale().isEmpty() && !this.m_series.priceScale().isEmpty() && null !== (t = this.m_model.timeScale().visibleBarsStrictRange()) && 0 !== this.m_series.bars().size()) {
          for (i = this.m_series.nearestIndex(t.firstBar(), T.NearestRight), n = this.m_series.nearestIndex(t.lastBar(), T.NearestLeft); i <= n && null === this.m_series.bars().valueAt(i); i++);
          if (!(i > n) && (t = this.m_series.bars().range(i, n), r = this.m_series.priceScale(), s = this.m_series.barColorer(), a = {}, t.each(function (t, i) {
              var n, o = {};
              o.time = Math.round(t), e(i, o) && (a.value = i, n = i[TradingView.STYLE_PLOT] ? i[TradingView.STYLE_PLOT] : s.barStyle(t, !1, a), i[TradingView.STYLE_PLOT] = n, a.previousValue = i, o.color = n.barColor, o.borderColor = n.barBorderColor, o.wickColor = n.barWickColor, o.hollow = n.isBarHollow, y.m_bars.push(o))
            }, this), 0 !== this.m_bars.length && (l = this.m_series.firstValue(),
              r.barPricesToCoordinates(this.m_bars, l)), this.m_model.timeScale().barIndexesToCoordinates(this.m_bars), this.m_model.selection().isSelected(this.m_series)))
            for (c = w(i, n), this._selectionData = {
                points: []
              }, this._selectionData.hittestResult = _.REGULAR, u = 0; u < c.length; u++) h = c[u], null !== (d = this.m_series.bars().valueAt(h)) && (f = .5 * (d[TradingView.OPEN_PLOT] + d[TradingView.CLOSE_PLOT]), m = this.m_model.timeScale().indexToCoordinate(h), g = this.m_series.priceScale().priceToCoordinate(f, l), this._selectionData.points.push(new p(m, g)))
        }
      }, n.prototype.items = function () {
        return this.m_bars
      }, inherit(r, n), r.prototype.renderer = function () {
        var e, t, i;
        return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barSpacing = this.m_model.timeScale().barSpacing(), t = this.m_series.properties(), e.dontDrawOpen = t.barStyle.dontDrawOpen.value(), e.thinBars = t.style.value() === TradingView.Series.STYLE_RANGE ? t.rangeStyle.thinBars.value() : t.barStyle.thinBars.value(), (i = new b).append(new m(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && i.append(new f(this._selectionData)), i
      }, inherit(s, n), s.prototype.renderer = function () {
        var e, t;
        return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barSpacing = this.m_model.timeScale().barSpacing(), e.drawWick = this.m_series.properties().candleStyle.drawWick.value(), e.drawBorder = this.m_series.properties().candleStyle.drawBorder.value(), e.borderColor = this.m_series.properties().candleStyle.borderColor.value(), e.wickColor = this.m_series.properties().candleStyle.wickColor.value(), e.barWidth = x.optimalBarWidth(e.barSpacing), (t = new b).append(new v(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && t.append(new f(this._selectionData)), t
      }, inherit(a, n), a.prototype.renderer = function () {
        var e, t;
        return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barSpacing = this.m_model.timeScale().barSpacing(), e.drawWick = this.m_series.properties().haStyle.drawWick.value(), e.drawBorder = this.m_series.properties().haStyle.drawBorder.value(), e.borderColor = this.m_series.properties().haStyle.borderColor.value(), e.wickColor = this.m_series.properties().haStyle.wickColor.value(), e.barWidth = x.optimalBarWidth(e.barSpacing), (t = new b).append(new v(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && t.append(new f(this._selectionData)), t
      }, inherit(l, n), l.prototype.renderer = function () {
        var e, t;
        return this._invalidated && (this._updateImpl(), this._invalidated = !1), (e = {}).bars = this.m_bars, e.barSpacing = this.m_model.timeScale().barSpacing(), e.drawWick = this.m_series.properties().hollowCandleStyle.drawWick.value(), e.drawBorder = this.m_series.properties().hollowCandleStyle.drawBorder.value(), e.borderColor = this.m_series.properties().hollowCandleStyle.borderColor.value(), e.wickColor = this.m_series.properties().hollowCandleStyle.wickColor.value(), e.barWidth = x.optimalBarWidth(e.barSpacing), (t = new b).append(new v(e)),
          this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && t.append(new f(this._selectionData)), t
      }, c.prototype.update = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d, f;
        if (this.m_items = [], !this.m_model.timeScale().isEmpty() && this.m_series.priceScale() && !this.m_series.priceScale().isEmpty() && null !== (e = this.m_model.timeScale().visibleBarsStrictRange()) && 0 !== this.m_series.bars().size() && (t = this.m_series.nearestIndex(e.firstBar(), T.NearestRight), i = this.m_series.nearestIndex(e.lastBar(), T.NearestLeft), e = this.m_series.bars().range(t, i), o = this.m_series.priceScale(), r = {
            color: this.m_series.properties().lineStyle.color.value()
          }, s = this.m_series.barFunction(), e.each(function (e, t) {
            var i, o = s(t);
            return void 0 !== o && null !== o && (void 0 === n && (n = o), (i = new p(e, o)).style = r, this.m_items.push(i), !1)
          }.bind(this)), o.pointsArrayToCoordinates(this.m_items, n), this.m_model.timeScale().indexesToCoordinates(this.m_items), this.m_model.selection().isSelected(this.m_series)))
          for (a = w(t, i), this._selectionData = {
              points: []
            }, this._selectionData.hittestResult = _.REGULAR, l = 0; l < a.length; l++) c = a[l], u = this.m_series.data().valueAt(c), h = s(u), d = this.m_model.timeScale().indexToCoordinate(c), f = this.m_series.priceScale().priceToCoordinate(h, n), this._selectionData.points.push(new p(d, f))
      }, inherit(u, c), u.prototype.update = function () {
        this._invalidated = !0
      }, u.prototype.renderer = function () {
        var e, t, i, n;
        return this._invalidated && (c.prototype.update.call(this), this._invalidated = !1), e = this.m_series.properties().lineStyle, t = {
          barSpacing: this.m_model.timeScale().barSpacing(),
          items: this.m_items,
          lineColor: e.color.value(),
          lineStyle: e.linestyle.value(),
          withMarkers: e.styleType.value() === TradingView.Series.STYLE_LINE_TYPE_MARKERS,
          withSteps: e.styleType.value() === TradingView.Series.STYLE_LINE_TYPE_STEP,
          lineWidth: e.linewidth.value(),
          simpleMode: !0
        }, i = new g(t), this.m_model.selection().isSelected(this.m_series) ? ((n = new b).append(i), this._isMarkersEnabled && n.append(new f(this._selectionData))) : n = i, n
      }, inherit(h, c), h.prototype.update = function () {
        this._invalidated = !0
      }, h.prototype.renderer = function () {
        var e, t, i;
        return this._invalidated && (c.prototype.update.call(this), this._invalidated = !1), (e = {}).simpleMode = !1, e.barSpacing = this.m_model.timeScale().barSpacing(), e.items = this.m_items, e.lineColor = this.m_series.properties().areaStyle.linecolor.value(), e.lineStyle = this.m_series.properties().areaStyle.linestyle.value(), e.lineWidth = this.m_series.properties().areaStyle.linewidth.value(), t = this.m_series.properties().areaStyle.transparency.value(), e.isSeries = !0, e.color1 = P.generateColor(this.m_series.properties().areaStyle.color1.value(), t), e.color2 = P.generateColor(this.m_series.properties().areaStyle.color2.value(), t), e.bottom = this.m_series.priceScale().height(), (i = new b).append(new y(e)), this.m_model.selection().isSelected(this.m_series) && this._isMarkersEnabled && i.append(new f(this._selectionData)), i
      }, inherit(d, c), d.prototype.update = function () {
        this._invalidated = !0
      }, d.prototype._updateImpl = function () {
        var e, t;
        c.prototype.update.call(this), t = (e = this.m_series.properties().baselineStyle).transparency.value(),
          this._topFillColor1 = P.generateColor(e.topFillColor1.value(), t), this._topFillColor2 = P.generateColor(e.topFillColor2.value(), t), this._bottomFillColor1 = P.generateColor(e.bottomFillColor1.value(), t), this._bottomFillColor2 = P.generateColor(e.bottomFillColor2.value(), t), this._topLineColor = e.topLineColor.value(), this._bottomLineColor = e.bottomLineColor.value(), this._topLineWidth = e.topLineWidth.value(), this._bottomLineWidth = e.bottomLineWidth.value(), this._barSpacing = this.m_model.timeScale().barSpacing(), this._bottom = this.m_series.priceScale().height(), this._baseLevelCoordinate = Math.round(this._bottom * (Math.abs(100 - e.baseLevelPercentage.value()) / 100))
      }, d.prototype.renderer = function () {
        this._invalidated && (this._updateImpl(), this._invalidated = !1), this._renderer.setData({
          items: this.m_items,
          topFillColor1: this._topFillColor1,
          topFillColor2: this._topFillColor2,
          bottomFillColor1: this._bottomFillColor1,
          bottomFillColor2: this._bottomFillColor2,
          topLineColor: this._topLineColor,
          bottomLineColor: this._bottomLineColor,
          topLineWidth: this._topLineWidth,
          bottomLineWidth: this._bottomLineWidth,
          lineStyle: CanvasEx.LINESTYLE_SOLID,
          barSpacing: this._barSpacing,
          baseLevelCoordinate: this._baseLevelCoordinate,
          bottom: this._bottom
        });
        var e = new b;
        return e.append(this._renderer), this.m_model.selection().isSelected(this.m_series) && e.append(new f(this._selectionData)), e
      }, t.SeriesBarsPaneView = r, t.SeriesCandlesPaneView = s, t.SeriesHollowCandlesPaneView = l, t.SeriesLinePaneView = u, t.SeriesAreaPaneView = h, t.SeriesHeikenAshiPaneView = a, t.SeriesBaselinePaneView = d, t.SeriesBarCandlesPaneView = n
    },
    x3oK: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._formatter = e, this._maxSize = t || 50, this._actualSize = 0, this._cache = {}, this._usageTick = 1, this._oldestTick = 1, this._tick2Labels = {}
      }
      n.prototype.format = function (e) {
        var t, i;
        return this._cache[e] ? this._cache[e].string : (this._actualSize === this._maxSize && (t = this._tick2Labels[this._oldestTick], delete this._tick2Labels[this._oldestTick], delete this._cache[t], this._oldestTick++, this._actualSize--), i = this._formatter(e), this._cache[e] = {
          string: i,
          tick: this._usageTick
        }, this._tick2Labels[this._usageTick] = e, this._actualSize++, this._usageTick++, i)
      }, e.exports = n
    },
    "x40+": function (e, t, i) {
      "use strict";

      function n() {
        this._data = null
      }

      function o(e) {
        this._source = e, this._points1 = [], this._points2 = [], this._timePoints = [], this._getBarSpacing = e.model().timeScale().barSpacing.bind(e.model().timeScale()), this._invalidated = !0, this._areaRenderer = new n, this._plIndex1 = null, this._plIndex2 = null
      }

      function r(e) {
        o.call(this, e)
      }

      function s(e, t, i) {
        var n, r;
        if (o.call(this, e), this._isHlineFill = t.type === u.FilledArea.TYPE_HLINES, a(this._isHlineFill || t.type === u.FilledArea.TYPE_PLOTS, "Wrong filledArea type: " + t.type), this._isHlineFill && this._initBandIndexes(t.objAId, t.objBId), this._fillMetaInfo = t, this._fillStyleProps = i, n = e._metaInfo, t.palette)
          for (r in n.plots)
            if (n.plots[r].palette === t.palette) {
              this._colorPlotOffset = parseInt(r), this._colorsMap = n.palettes[t.palette].valToIndex, this._colorValues = e.properties().palettes[t.palette].colors;
              break
            }
      }
      var a = i("Eyy1").assert,
        l = i("VdBB").HitTestResult,
        c = i("Zp/P").coordinateIsValid,
        u = i("0YCj"),
        h = i("Tmoa"),
        d = i("Hr11").clamp,
        p = i("k9/m").PlotRowSearchMode;
      n.prototype.setData = function (e) {
        this._data = e
      }, n.prototype.hitTest = function (e) {
        var t, i, n;
        if (null === this._data) return null;
        for (n = 1; n < this._data.points1.length; ++n)
          if (t = this._data.points1[n], i = this._data.points2[n], this._data.timePoints[n] === e.x && (e.y >= t && e.y <= i || e.y <= t && e.y >= i)) return new l(l.REGULAR);
        return null
      }, n.prototype.draw = function (e) {
        var t, i, n, o, r, s, a, l, u, d, p, f, _, m, g, y, v, S;
        if (null !== this._data && ((t = this._data.isHlineFill) || 0 !== this._data.points1.length && 0 !== this._data.points2.length)) {
          for (i = this._data.timePoints, n = this._data.points1, o = this._data.points2, r = this._data.colors, s = isNumber(this._data.transparency) ? this._data.transparency : 50, s = Math.min(s, 100), s = Math.max(s, 0), a = {}, l = [], d = 0; d < this._data.timePoints.length; d++) p = {
            point1: t ? this._data.level1 : n[d],
            point2: t ? this._data.level2 : o[d],
            timePoint: i[d]
          }, (f = c(p.point1) && c(p.point2)) && (u = r && r[d] ? r[d] : this._data.backcolor, l.push(p)), (d === this._data.timePoints.length - 1 || r && u !== r[d + 1] || !f) && (l.length > 0 && ((_ = a[u] || []).push(l), a[u] = _), l = f ? [p] : []);
          for (m in a) {
            for (g = a[m], e.beginPath(), y = 0; y < g.length; y++) {
              for (v = g[y], e.moveTo(v[0].timePoint, v[0].point1), S = 1; S < v.length; S++) e.lineTo(v[S].timePoint, v[S].point1);
              for (S = v.length - 1; S >= 0; S--) e.lineTo(v[S].timePoint, v[S].point2)
            }
            e.closePath(), e.fillStyle = h.generateColor(m, s), e.fill()
          }
        }
      }, o.prototype.update = function () {
        this._invalidated = !0
      }, o.prototype._plotNames = function () {
        return this._source.metaInfo().plots.map(function (e) {
          return e.id
        })
      }, o.prototype._plotIndex1 = function () {
        return null === this._plIndex1 && (this._plIndex1 = this._plotNames().indexOf(this._plotAId()) + 1), this._plIndex1
      }, o.prototype._plotIndex2 = function () {
        return null === this._plIndex2 && (this._plIndex2 = this._plotNames().indexOf(this._plotBId()) + 1), this._plIndex2
      }, o.prototype._updateImpl = function () {
        var e, t, i, n, o, r, s, a, l, c, u, h, d, f, _, m, g, y, v, S, b, w, P, T, C, x, E;
        if (this._points1 = [], this._points2 = [], this._colorsMap && (this._colors = []), this._timePoints = [], this._visible() && (e = this._source.priceScale(), t = this._source._model.timeScale(), e && !e.isEmpty() && !this._source._model.timeScale().isEmpty() && !(this._source._series.bars().isEmpty() || (this._isHlineFill && (i = this._source.firstValue(), n = this._source.properties().bands[this._bandAKey], o = this._source.properties().bands[this._bandBKey], this._level1 = e.priceToCoordinate(n.value.value(), i), this._level2 = e.priceToCoordinate(o.value.value(), i)), null === (r = this._source._model.timeScale().visibleBarsStrictRange()) || (s = this._source._series.nearestIndex(r.firstBar(), p.NearestRight), a = this._source._series.nearestIndex(r.lastBar(), p.NearestLeft), (s = this._correctStartBarIndex(s)) > a))))) {
          if ((l = this._source.data().range(s, a)).size() > 0)
            for (c = l.firstIndex(), u = l.lastIndex(), h = this._source.offset(this._plotAId()), d = this._source.offset(this._plotBId()), f = Math.max(h, d), _ = Math.min(h, d), m = c + f, c > (g = this._source.data().firstIndex()) && (m = c < f + g ? f + g : c), y = u + _, u > (v = this._source.data().lastIndex()) + _ && u < v && (y = v + _),
              _ < 0 && u <= v + _ && (y = u), S = m < c ? c + f : m > u ? c + f : m, b = m; b <= y; ++b) this._timePoints.push(t.indexToCoordinate(S++)), this._colors && null !== (w = this._source.data().valueAt(b - _)) && null != (P = w[this._colorPlotOffset + 1]) && this._colors.push(this._colorValues[this._colorsMap[P]].color.value()), this._isHlineFill || (T = this._source.data().valueAt(b - h), C = this._source.data().valueAt(b - d), null !== T && null !== C && (x = T[this._plotIndex1()], E = C[this._plotIndex2()], this._points1.push(x), this._points2.push(E)));
          i = this._source.firstValue(), e.pricesArrayToCoordinates(this._points1, i), e.pricesArrayToCoordinates(this._points2, i)
        }
      }, o.prototype.renderer = function () {
        this._invalidated && (this._updateImpl(), this._invalidated = !1);
        var e = {};
        return e.points1 = this._points1, e.points2 = this._points2, e.timePoints = this._timePoints, e.getBarSpacing = this._getBarSpacing, e.backcolor = this._color(), e.transparency = this._transparency(), e.isHlineFill = this._isHlineFill, e.level1 = this._level1, e.level2 = this._level2, this._colors && (e.colors = this._colors), this._areaRenderer.setData(e), this._areaRenderer
      }, o.prototype._plotAId = function () {
        a(!1, "Pure virtual call!")
      }, o.prototype._plotBId = function () {
        a(!1, "Pure virtual call!")
      }, o.prototype._color = function () {
        a(!1, "Pure virtual call!")
      }, o.prototype._transparency = function () {
        a(!1, "Pure virtual call!")
      }, o.prototype._visible = function () {
        a(!1, "Pure virtual call!")
      }, o.prototype._correctStartBarIndex = function (e) {
        return e
      }, inherit(r, o), r.prototype._plotAId = function () {
        return this._source.properties().area[0].name.value()
      }, r.prototype._plotBId = function () {
        return this._source.properties().area[1].name.value()
      }, r.prototype._color = function () {
        return this._source.properties().areaBackground.backgroundColor.value()
      }, r.prototype._transparency = function () {
        var e = this._source.properties().areaBackground.transparency.value();
        return d(e, 0, 100)
      }, r.prototype._visible = function () {
        return this._source.properties().areaBackground.fillBackground.value()
      }, inherit(s, o), s.prototype._initBandIndexes = function (e, t) {
        var i, n;
        for (this._bandAKey = null, this._bandBKey = null, i = 0; i < this._source.metaInfo().bands.length; ++i) n = this._source.metaInfo().bands[i], null !== this._bandAKey || n.id !== e ? null !== this._bandBKey || n.id !== t || (this._bandBKey = i) : this._bandAKey = i
      }, s.prototype._plotAId = function () {
        return this._fillMetaInfo.objAId
      }, s.prototype._plotBId = function () {
        return this._fillMetaInfo.objBId
      }, s.prototype._color = function () {
        return this._fillStyleProps.color.value()
      }, s.prototype._transparency = function () {
        return this._fillStyleProps.transparency.value()
      }, s.prototype._visible = function () {
        return this._fillStyleProps.visible.value()
      }, s.prototype._correctStartBarIndex = function (e) {
        var t = this._source.getMinFirstBarIndexForPlot(this._fillMetaInfo.id);
        return Math.max(t, e)
      }, t.PlotFillPaneView = s, t.AreaBackgroundPaneView = r
    },
    x8jL: function (e, t, i) {
      "use strict";

      function n() {
        function e() {
          if (n) {
            var e = n;
            n = null, e.isEmpty() || t(e)
          }
        }

        function t(e) {
          var t, o, r;
          n ? n.addCommand(e) : (a.clear(), o = (t = s.head()) && t.text(), s.push(e), "" !== (r = e.text()) && r !== o && d.logNormal("DO: " + r)), e.executeOnPush() && e.redo(), n || c.fire(i())
        }

        function i() {
          var e = s.head(),
            t = a.head();
          return {
            enableUndo: !s.isEmpty(),
            undoText: void 0 === e ? void 0 : e.text(),
            enableRedo: !a.isEmpty(),
            redoText: void 0 === t ? void 0 : t.text()
          }
        }
        var n = null,
          s = new o.UndoStack,
          a = new o.UndoStack,
          c = new h.a;
        return {
          beginUndoMacro: function (t) {
            return n && e(), n = new r.UndoMacroCommand(t)
          },
          clearStack: function () {
            s.clear(), a.clear(), c.fire(i())
          },
          createUndoCheckpoint: function () {
            return {
              lastActualCommand: s.isEmpty() ? null : s.head()
            }
          },
          endUndoMacro: e,
          pushUndoCommand: t,
          redo: function () {
            if (a.isEmpty()) return !1;
            var e = a.pop();
            return !!e && (e.redo(), s.push(e), d.logNormal("REDO: " + e.text()), c.fire(i()), !0)
          },
          redoStack: function () {
            return a
          },
          setWatchedValue: function (e, i, n) {
            if (e.value() !== i) {
              var o = new l(e, i, n);
              t(o), o.redo()
            }
          },
          undo: function () {
            if (s.isEmpty()) return !1;
            var e = s.pop();
            return !!e && (e.undo(), a.push(e), d.logNormal("UNDO: " + e.text()), c.fire(i()), !0)
          },
          undoStack: function () {
            return s
          },
          undoToCheckpoint: function (e) {
            for (; !s.isEmpty() && e.lastActualCommand !== s.head();) s.pop().undo();
            a.clear(), c.fire(i())
          },
          state: i,
          onChange: function () {
            return c
          }
        }
      }
      var o, r, s, a, l, c, u, h, d;
      i.r(t), o = i("MY2c"), r = i("bOGh"), s = i("mrSG"), a = i("RDU5"), l = function (e) {
        function t(t, i, n) {
          var o = e.call(this, n) || this;
          return o._wv = t, o._newValue = i, o._oldValue = t.value(), o
        }
        return s.__extends(t, e), t.prototype.redo = function () {
          this._wv.setValue(this._newValue)
        }, t.prototype.undo = function () {
          this._wv.setValue(this._oldValue)
        }, t
      }(a.UndoCommand), c = i("uOxu"), u = i("aIyQ"), h = i.n(u), i.d(t, "createUndoHistory", function () {
        return n
      }), d = Object(c.getLogger)("Common.UndoHistory")
    },
    xD5v: function (e, t, i) {
      "use strict";

      function n(e) {
        var t = JSON.stringify(e);
        return t = t.replace(/'/g, "\\'")
      }
      var o = i("WqyU");
      e.exports = {
        formatCallstudyArg: n,
        prepareCallStudyArgs: function (e, t) {
          var i, r, s, a, l, c = {};
          if (t.isTVScript) i = t.defaults.inputs.text, c.text = o.patchILTemplate(i, t, e);
          else
            for (s = (r = Object.keys(e)).length - 1; s >= 0; s--)(l = e[a = r[s]] ? e[a].id : null) && e[l] && (c[l] = e[l]);
          return n(c)
        }
      }
    },
    xOeO: function (e, t, i) {
      "use strict";

      function n(e) {
        return Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(5), i.e(9), i.e(11), i.e(19), i.e(24), i.e(33), i.e(34), i.e(43), i.e(59), i.e(84), i.e(194), i.e(37), i.e(41), i.e(48), i.e(66), i.e(67), i.e(79), i.e(112), i.e(154), i.e(157), i.e(148), i.e("support-dialog-impl")]).then(i.bind(null, "MOvj")).then(function (t) {
          return new t.SupportDialog(e).open()
        })
      }
      i.r(t), i.d(t, "showSupportDialog", function () {
        return n
      })
    },
    xUGI: function (e, t, i) {
      "use strict";

      function n() {
        this._registeredSources = {}, this._sourcesToRow = {}, this._rowsToSources = {}, this._currentSymbol = "", this._actualCapacity = 0, this._actualWidth = 1, this._numericFormatter = new r, this._percentageFormatter = new o
      }
      var o = i("GH0z").PercentageFormatter,
        r = i("zXvd").NumericFormatter,
        s = i("zDbI").CHART_FONT_FAMILY;
      n.prototype.levelsCount = function () {
        return 0
      }, n.prototype.topByRow = function (e) {
        return e * n.ROW_HEIGHT
      }, n.prototype.rowHeight = function (e) {
        return n.ROW_HEIGHT
      }, n.prototype.canvas = function () {
        this._canvas || (this._canvas = document.createElement("canvas"), this._cache = this._canvas.getContext("2d"), this._canvas.width = 100, this._canvas.style.position = "absolute",
          this._canvas.style.top = "0", this._canvas.style.zIndex = "1000", this._canvas.style.left = "0", this._canvas.getContext("2d").font = "12px " + s);
        return this._canvas
      }, n.ROW_HEIGHT = 14, n.prototype.points = function (e) {
        return [e.points()[0], e.points()[1]]
      }, n.prototype.startPoint = function (e, t) {
        return t ? e.points()[0] : e.points()[1]
      }, n.prototype.priceRange = function (e, t) {
        var i = this.points(e),
          n = i[0],
          o = i[1],
          r = t ? o.price - n.price : n.price - o.price;
        return r
      }, n.prototype.sourceIsReady = function (e) {
        return e.points().length >= 2
      }, n.prototype._calculateWidth = function (e) {
        var t, i, n, o, r, a, l, c, u, h, d, p, f, _, m, g, y, v, S, b;
        if (!this.sourceIsReady(e)) return null;
        if ((t = this.canvas().getContext("2d")).font = "12px " + s, i = !!e.properties().showPrices && e.properties().showPrices.value(), n = !!e.properties().coeffsAsPercents && e.properties().coeffsAsPercents.value(), o = e.properties().showCoeffs.value(), r = e.priceScale(), l = (a = this.points(e))[0], c = a[1], !l || !c) return null;
        if (u = !1, (h = e.properties()).reverse && h.reverse.value() && (u = h.reverse.value()), d = this.priceRange(e, u), p = this.startPoint(e, u).price, null === (f = e.ownerSource().firstValue())) return 0;
        for (_ = 0, m = [], g = 1; g <= this.levelsCount(); g++) v = p + (y = h["level" + g].coeff.value()) * d, S = "", o && (S += n ? this._percentageFormatter.format(Math.round(1e4 * y) / 100) : this._numericFormatter.format(y)), i && (S += "(" + r.formatPrice(v, f) + ")"), b = {
          text: S,
          left: _,
          width: t.measureText(S).width + 4
        }, m.push(b), _ += b.width;
        return {
          totalWidth: _,
          cells: m
        }
      }, n.prototype._effectiveState = function (e) {
        var t, i, n, o = {},
          r = e.properties();
        for (r.showPrices && (o.showPrices = r.showPrices.value()), r.coeffsAsPercents && (o.coeffsAsPercents = r.coeffsAsPercents.value()), o.showCoeffs = r.showCoeffs.value(), e.priceScale() && e.priceScale().formatter().state && (o.formatter = e.priceScale().formatter().state()), r.reverse && (o.reverse = r.reverse.value()), o.p1 = e.points()[0], o.p2 = e.points()[1], 3 === e.points().length && (o.p3 = e.points()[2]), o.items = [], t = 1; t <= this.levelsCount(); t++) n = {
          coeff: (i = r["level" + t]).coeff.value(),
          color: i.color.value()
        }, o.items.push(n);
        return o
      }, n.prototype._findEmptyRow = function (e) {
        for (var t, i = 0; this._rowsToSources[i];) i++;
        return this._rowsToSources[i] = e, i >= this._actualCapacity && (this._actualCapacity++, t = this.canvas(), TradingView.resizeCanvas(t, this._actualWidth, n.ROW_HEIGHT * this._actualCapacity)), i
      }, n.prototype._repaintSource = function (e, t, i) {
        var o, r, a = n.ROW_HEIGHT * i.row,
          l = this.canvas().getContext("2d");
        for (l.clearRect(0, a, this._actualWidth, n.ROW_HEIGHT), l.textBaseline = "bottom", l.font = "12px " + s, a += n.ROW_HEIGHT, o = 0; o < e.cells.length; o++) r = e.cells[o], l.fillStyle = t.items[o].color, l.fillText(r.text, r.left, a)
      }, n.prototype.removeSource = function (e) {
        var t, i;
        this._sourcesToRow[e] && (t = this._sourcesToRow[e].row, (i = this.canvas().getContext("2d")).save(), i.clearRect(0, this.topByRow(t), this._actualWidth, n.ROW_HEIGHT), i.restore(), delete this._sourcesToRow[e], delete this._rowsToSources[t])
      }, n.prototype._effectiveStatesEquals = function (e, t) {
        var i, n = function (e, t) {
            return !(!e && !t) && (!(!e || t) || (!(e || !t) || (e.minMove !== t.minMove || (e.minMove2 !== t.minMove2 || (e.fractional !== t.fractional || e.fractionalLength !== t.fractionalLength)))))
          },
          o = function (e, t) {
            return !(!e && !t) && (!(!e || t) || (!(e || !t) || (e.index !== t.index || e.price !== t.price)))
          },
          r = function (e, t) {
            return e.coeff !== t.coeff || e.color !== t.color
          };
        if (e && !t) return !1;
        if (!e && t) return !1;
        if (e.showPrices !== t.showPrices) return !1;
        if (e.coeffsAsPercents !== t.coeffsAsPercents) return !1;
        if (e.showCoeffs !== t.showCoeffs) return !1;
        if (e.reverse !== t.reverse) return !1;
        if (n(e.formatter, t.formatter)) return !1;
        if (o(e.p1, t.p1)) return !1;
        if (o(e.p2, t.p2)) return !1;
        if (o(e.p3, t.p3)) return !1;
        if (e.items.length !== t.items.length) return !1;
        for (i = 0; i < e.items.length; i++)
          if (r(e.items[i], t.items[i])) return !1;
        return !0
      }, n.prototype.updateSource = function (e) {
        var t, i, o, r, s = e.properties().symbol.value();
        return this._currentSymbol !== s && (this._currentSymbol = s, this._sourcesToRow = {}, this._rowsToSources = {}), this._sourcesToRow[e.id()] || (t = this._findEmptyRow(e.id()), this._sourcesToRow[e.id()] = {
          effectiveState: null,
          row: t
        }), i = this._sourcesToRow[e.id()].effectiveState, o = this._effectiveState(e), this._effectiveStatesEquals(i, o) || ((r = this._calculateWidth(e)) ? (this._sourcesToRow[e.id()].effectiveState = o, r.totalWidth > this._actualWidth && (TradingView.resizeCanvas(this.canvas(), r.totalWidth, n.ROW_HEIGHT * this._actualCapacity), this._actualWidth = r.totalWidth), t = this._sourcesToRow[e.id()], this._repaintSource(r, o, t), this._sourcesToRow[e.id()].effectiveState = o, this._sourcesToRow[e.id()].preparedCells = r) : this._sourcesToRow[e.id()].effectiveState = null), this._sourcesToRow[e.id()]
      }, e.exports = n
    },
    xWfy: function (e, t, i) {
      "use strict";

      function n() {
        return new c
      }

      function o(e) {
        return new c("state", e)
      }

      function r(e) {
        var t, i, n, o, r = new Set;
        for (t = 0, i = l.d; t < i.length; t++) s(r, e[i[t]]());
        return n = [], r.forEach(function (e) {
          return n.push(e)
        }), n.sort(function (e, t) {
          return e - t
        }), o = {
          indexes: n
        }, e.horizlines().forEach(function (e, t) {
          var i, r, s, c, u, h, d;
          for (i = 0, r = e; i < r.length; i++)
            for (c = (s = r[i]).indexes, u = 0, h = s.items; u < h.length; u++) d = h[u], o.horizlines = o.horizlines || [], Object(l.a)(o.horizlines, a.__assign({}, d, {
              startIndex: n.indexOf(c[d.startIndex]),
              endIndex: n.indexOf(c[d.endIndex])
            }), t)
        }), e.vertlines().forEach(function (e, t) {
          var i, r, s, c, u, h, d;
          for (i = 0, r = e; i < r.length; i++)
            for (c = (s = r[i]).indexes, u = 0, h = s.items; u < h.length; u++) d = h[u], o.vertlines = o.vertlines || [], Object(l.a)(o.vertlines, a.__assign({}, d, {
              index: n.indexOf(c[d.index])
            }), t)
        }), e.lines().forEach(function (e, t) {
          var i, r, s, c, u, h, d;
          for (i = 0, r = e; i < r.length; i++)
            for (c = (s = r[i]).indexes, u = 0, h = s.items; u < h.length; u++) d = h[u], o.lines = o.lines || [], Object(l.a)(o.lines, a.__assign({}, d, {
              startIndex: n.indexOf(c[d.startIndex]),
              endIndex: n.indexOf(c[d.endIndex])
            }), t)
        }), e.hlines().forEach(function (e, t) {
          var i, n, r, s, a;
          for (i = 0, n = e; i < n.length; i++)
            for (r = 0, s = n[i].items; r < s.length; r++) a = s[r], o.hlines = o.hlines || [], Object(l.a)(o.hlines, a, t)
        }), e.textmarks().forEach(function (e, t) {
          var i, r, s, c, u, h, d;
          for (i = 0, r = e; i < r.length; i++)
            for (c = (s = r[i]).indexes, u = 0, h = s.items; u < h.length; u++) d = h[u], o.textmarks = o.textmarks || [],
              Object(l.a)(o.textmarks, a.__assign({}, d, {
                time: n.indexOf(c[d.time])
              }), t)
        }), e.shapemarks().forEach(function (e, t) {
          var i, r, s, c, u, h, d;
          for (i = 0, r = e; i < r.length; i++)
            for (c = (s = r[i]).indexes, u = 0, h = s.items; u < h.length; u++) d = h[u], o.shapemarks = o.shapemarks || [], Object(l.a)(o.shapemarks, a.__assign({}, d, {
              time: n.indexOf(c[d.time])
            }), t)
        }), e.backgrounds().forEach(function (e, t) {
          var i, r, s, c, u, h, d;
          for (i = 0, r = e; i < r.length; i++)
            for (c = (s = r[i]).indexes, u = 0, h = s.items; u < h.length; u++) d = h[u], o.backgrounds = o.backgrounds || [], Object(l.a)(o.backgrounds, a.__assign({}, d, {
              start: n.indexOf(c[d.start]),
              stop: n.indexOf(c[d.stop])
            }), t)
        }), e.polygons().forEach(function (e, t) {
          var i, r, s = function (e) {
            var i, r, s, c, u = e.indexes;
            for (i = 0, r = e.items; i < r.length; i++) c = (s = r[i]).points.map(function (e) {
              return a.__assign({}, e, {
                index: n.indexOf(u[e.index])
              })
            }), o.polygons = o.polygons || [], Object(l.a)(o.polygons, a.__assign({}, s, {
              points: c
            }), t)
          };
          for (i = 0, r = e; i < r.length; i++) s(r[i])
        }), e.trendchannels().forEach(function (e, t) {
          var i, r, s, c, u, h, d;
          for (i = 0, r = e; i < r.length; i++)
            for (c = (s = r[i]).indexes, u = 0, h = s.items; u < h.length; u++) d = h[u], o.trendchannels = o.trendchannels || [], Object(l.a)(o.trendchannels, a.__assign({}, d, {
              startIndex: n.indexOf(c[d.startIndex]),
              endIndex: n.indexOf(c[d.endIndex])
            }), t)
        }), e.hhists().forEach(function (e, t) {
          var i, r, s, c, u, h, d;
          for (i = 0, r = e; i < r.length; i++)
            for (c = (s = r[i]).indexes, u = 0, h = s.items; u < h.length; u++) d = h[u], o.hhists = o.hhists || [], Object(l.a)(o.hhists, a.__assign({}, d, {
              firstBarTime: n.indexOf(c[d.firstBarTime]),
              lastBarTime: n.indexOf(c[d.lastBarTime])
            }), t)
        }), o
      }

      function s(e, t) {
        t.forEach(function (t, i) {
          var n, o, r, s, a;
          for (n = 0, o = t; n < o.length; n++)
            for (r = 0, s = o[n].indexes; r < s.length; r++) a = s[r], e.add(a)
        })
      }
      var a, l, c;
      i.d(t, "a", function () {
        return c
      }), i.d(t, "b", function () {
        return n
      }), i.d(t, "c", function () {
        return o
      }), i.d(t, "d", function () {
        return r
      }), a = i("mrSG"), l = i("7Fue"), c = function () {
        function e(e, t) {
          var i, n;
          this.indexes = [], this._horizlines = new Map, this._vertlines = new Map, this._lines = new Map, this._hlines = new Map, this._textmarks = new Map, this._shapemarks = new Map, this._backgrounds = new Map, this._polygons = new Map, this._trendchannels = new Map, this._hhists = new Map, this._hhistsByTimePointIndex = new Map, "data" === e ? (i = t, this.indexes = i.indexes, this._horizlines = i.horizlines, this._vertlines = i.vertlines, this._lines = i.lines, this._hlines = i.hlines, this._textmarks = i.textmarks, this._shapemarks = i.shapemarks, this._backgrounds = i.backgrounds, this._polygons = i.polygons, this._trendchannels = i.trendchannels, this._hhists = i.hhists, this._postProcess()) : "state" === e && (n = t, this.indexes = n.indexes || [], Object(l.b)(this._horizlines, n.horizlines, void 0, this.indexes), Object(l.b)(this._vertlines, n.vertlines, void 0, this.indexes), Object(l.b)(this._lines, n.lines, void 0, this.indexes), Object(l.b)(this._hlines, n.hlines, void 0, this.indexes), Object(l.b)(this._textmarks, n.textmarks, void 0, this.indexes), Object(l.b)(this._shapemarks, n.shapemarks, void 0, this.indexes), Object(l.b)(this._backgrounds, n.backgrounds, void 0, this.indexes), Object(l.b)(this._polygons, n.polygons, void 0, this.indexes), Object(l.b)(this._trendchannels, n.trendchannels, void 0, this.indexes),
            Object(l.b)(this._hhists, n.hhists, void 0, this.indexes), this._postProcess())
        }
        return e.prototype.horizlines = function () {
          return this._horizlines
        }, e.prototype.vertlines = function () {
          return this._vertlines
        }, e.prototype.lines = function () {
          return this._lines
        }, e.prototype.hlines = function () {
          return this._hlines
        }, e.prototype.textmarks = function () {
          return this._textmarks
        }, e.prototype.shapemarks = function () {
          return this._shapemarks
        }, e.prototype.backgrounds = function () {
          return this._backgrounds
        }, e.prototype.polygons = function () {
          return this._polygons
        }, e.prototype.trendchannels = function () {
          return this._trendchannels
        }, e.prototype.hhists = function () {
          return this._hhists
        }, e.prototype.hhistsByTimePointIndex = function () {
          return this._hhistsByTimePointIndex
        }, e.prototype._postProcess = function () {
          this._hhists.size > 0 && Object(l.e)(this)
        }, e
      }()
    },
    xlKU: function (e, t, i) {
      "use strict";

      function n(e) {
        return new Promise(function (t) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(5), i.e(20), i.e(181), i.e(247), i.e(30), i.e(53), i.e(72), i.e(79), i.e("signin-dialog")]).then(function (n) {
            var o = i("YTu0");
            t(o.showSignModal(e)), r = o.isSignModalOpen
          }.bind(null, i)).catch(void 0)
        })
      }

      function o() {
        return r()
      }
      i.r(t), i.d(t, "showSignModal", function () {
        return n
      }), i.d(t, "isSignModalOpen", function () {
        return o
      });
      var r = function () {
        return !1
      }
    },
    xlbu: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d, p, f, _;
      i.r(t), i.d(t, "Telemetry", function () {
        return f
      }), i.d(t, "telemetry", function () {
        return _
      }), n = i("bSeV"), o = i("aIyQ"), r = i.n(o), s = i("BHQF"), a = i("qFKp"), l = i("iKPL"), c = i("uOxu"), u = Object(c.getLogger)("Common.Telemetry"), h = 15e3, d = ["before_websocket_connection_time_frame", "websocket_connection_time_frame", "first_series_full_time_frame", "page_full_load_time_frame", "page_load_time_frame"], p = "0", _ = new(f = function () {
        function e() {
          this.reportSent = new r.a, this.timeCounters = {
            series: {},
            study: {},
            pine: {}
          }, this._timeout = null, this._commonAdditionalData = {
            cluster: null,
            userId: p
          }, this._reportStash = {}
        }
        return e.prototype.setSessionInfo = function (e) {
          var t = this._parseCluster(e);
          null !== t && (this._commonAdditionalData.cluster = t)
        }, e.prototype.sendReport = function (e, t, i) {
          var n, o;
          this._isAbleToSendReport(t) && (n = this._getSubserviceType(e), null !== (o = this._getHost(e, n)) ? (i = void 0 === i ? {
            count: 1
          } : i, this._addReportToStash(i, t, o), this._timeout || (this._timeout = setTimeout(this._sendTelemetryToService.bind(this), h))) : u.logError("Unable to get host for counter: " + t + ", metric type: " + e + ", serivce type: " + n))
        }, e.prototype.sendChartReport = function (e, t, i) {
          void 0 === i && (i = !0), this._updateUserInfo(), t = void 0 === t ? {
            count: 1
          } : t, i && (t = this._appendCommonAdditionalInfo(t, ["cluster", "userId"])), this.sendReport("charts", e, t)
        }, e.prototype._updateUserInfo = function () {
          var e = "user" in window && "id" in window.user ? window.user.id : p;
          this._commonAdditionalData.userId = String(e)
        }, e.prototype._isAbleToSendReport = function (e) {
          var t = window.TELEMETRY_HOSTS,
            i = d.includes(e),
            n = Boolean(window.TradingView.onChartPage || Object(a.onWidget)());
          return t && (!i || n)
        }, e.prototype._sendTelemetryToService = function () {
          var e, t, i;
          for (e in this._reportStash) this._reportStash.hasOwnProperty(e) && (t = this._renameAllParams(this._reportStash[e]), i = {
            event: "report_stash",
            params: this._cleanAllParams(t)
          }, u.logDebug("Report to host: " + e + "; stash: " + JSON.stringify(this._reportStash[e])), this.reportSent.fire(this._reportStash[e]), delete this._reportStash[e], Object(s.fetch)(e + "/report", {
            method: "POST",
            headers: new Headers({
              "Content-Type": "application/json"
            }),
            body: JSON.stringify(i)
          }));
          this._timeout = null
        }, e.prototype._getHost = function (e, t) {
          var i = window.TELEMETRY_HOSTS,
            n = i[e] && i[e][t];
          return Boolean(n) ? n : null
        }, e.prototype._getSubserviceType = function (e) {
          var t = "free";
          return Object(a.onWidget)() ? t = "widget" : window.user.is_pro && (t = "pro"), ["charts", "site"].includes(e) || (t = "all"), t
        }, e.prototype._parseCluster = function (e) {
          var t, i;
          try {
            t = JSON.parse(e).session_id
          } catch (e) {
            return u.logError("Could not parse cluster id (session id)"), null
          }
          return null !== (i = /(.*@)(.*)/gi.exec(t)) && i.length >= 3 ? i[2] : null
        }, e.prototype._appendCommonAdditionalInfo = function (e, t) {
          var i = this;
          return t.forEach(function (t) {
            t in i._commonAdditionalData && (e.additional = e.additional || {}, e.additional[t] = i._commonAdditionalData[t])
          }), e
        }, e.prototype._renameAllParams = function (e) {
          var t, i = this,
            n = {},
            o = function (t) {
              e.hasOwnProperty(t) && (n[t] = [], e[t].forEach(function (e) {
                n[t].push(i._renameEntryParams(e))
              }))
            };
          for (t in e) o(t);
          return n
        }, e.prototype._renameEntryParams = function (e) {
          var t = {
            count: "c",
            value: "v",
            text: "t",
            additional: "a"
          };
          return Object.keys(e).reduce(function (i, n) {
            return i[t[n]] = e[n], i
          }, {})
        }, e.prototype._cleanAllParams = function (e) {
          var t, i = this,
            n = {},
            o = function (t) {
              e.hasOwnProperty(t) && (n[t] = [], e[t].forEach(function (e) {
                var o = i._cleanEntryParams(e);
                Object.keys(o).length > 0 && n[t].push(o)
              }), 0 === n[t].length && delete n[t])
            };
          for (t in e) o(t);
          return n
        }, e.prototype._cleanEntryParams = function (e) {
          var t = Object.keys(e).reduce(function (t, i) {
            return "c" !== i && "t" !== i || e[i] ? (t[i] = e[i], t) : t
          }, {});
          return "c" in t || "v" in t || "t" in t ? t : {}
        }, e.prototype._addReportToStash = function (e, t, i) {
          i in this._reportStash || (this._reportStash[i] = {}), t in this._reportStash[i] || (this._reportStash[i][t] = []), Object.keys(e).length > 0 && this._reportStash[i][t].push(e)
        }, e
      }())
    },
    xnA2: function (e, t, i) {
      "use strict";

      function n() {
        a.call(this)
      }

      function o(e, t) {
        this._constructor = "LineToolFibChannel";
        var s = t || o.createProperties();
        r.call(this, e, s), this.version = o.version, e._fibChannelLabelsCache || (e._fibChannelLabelsCache = new n), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("CR3a").FibChannelPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var r = i("Ss5c").LineDataSource,
        s = i("5rJj"),
        a = i("xUGI"),
        l = i("hayr").propertyPages;
      inherit(n, a), n.prototype.levelsCount = function () {
        return o.LevelsCount
      }, inherit(o, r), o.LevelsCount = 24, o.version = 2, o.prototype.levelsCount = function () {
        return o.LevelsCount
      }, o.prototype.migrateVersion = function (e, t, i) {
        i.properties.removeProperty("reverse")
      }, o.prototype.pointsCount = function () {
        return 3
      }, o.prototype.title = function () {
        return "Fib Channel"
      }, o.prototype.name = function () {
        return "Fib Channel"
      }, o.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, o.prototype.getStylesPropertyPage = function () {
        return l.LineToolFibChannelStylesPropertyPage
      }, o.createProperties = function (e) {
        var t = new s("linetoolfibchannel", e, !1, {
          range: [1, 24],
          names: ["coeff", "color", "visible"]
        });
        return o._configureProperties(t), t
      }, o._configureProperties = function (e) {
        r._configureProperties(e)
      }, t.LineToolFibChannel = o
    },
    xrEm: function (e, t, i) {},
    xsk5: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c;
      i.r(t), n = i("mrSG"), o = i("cZRT"), r = i("zLss"), s = parseInt(r["top-left-button-height"]) + 1, a = parseInt(r["top-left-button-width"]), l = i("uKmN"), i.d(t, "TopLeftButtonBootloader", function () {
        return c
      }), c = function (e) {
        function t(t) {
          var i, n = e.call(this) || this;
          return n._props = t, n._props.resizerBridge.negotiateHeight(s), n._props.resizerBridge.negotiateWidth(a), n._props.resizerBridge.body.value()[0].appendChild(((i = document.createElement("div")).classList.add(l.topLeftButton, l.stub), i)), n
        }
        return n.__extends(t, e), t.prototype._startLoading = function () {
          var e = this;
          return this._loadHeaderToolbar().then(function (t) {
            return new t(e._props.resizerBridge.body.value()[0], e._props)
          })
        }, t.prototype._loadHeaderToolbar = function () {
          return Promise.all([i.e("vendors"), i.e(14), i.e(21), i.e(26), i.e(47), i.e(65), i.e(80), i.e(182), i.e(296), i.e(12), i.e(18), i.e(147), i.e("top-left-button")]).then(i.bind(null, "ETJG")).then(function (e) {
            return e.TopLeftButtonRenderer
          })
        }, t
      }(o.a)
    },
    xtHi: function (e, t, i) {
      "use strict";

      function n(e, t) {
        var i, n = Object.assign({}, t),
          o = e.bridge().body.value();
        return o && (n.useStylesFrom = o.prop("ownerDocument")), !!(i = c(n)) && (e.pushOwner(i.allocate()), !0)
      }

      function o(e) {
        var t, i, n = $(e),
          o = n.offset(),
          r = {
            left: +o.left,
            top: +o.top,
            width: n.width(),
            height: n.height()
          },
          s = n.prop("ownerDocument");
        return s && (t = s.defaultView) ? (i = t.innerWidth / $(s.documentElement).width(), isFinite(i) && (r.left *= i, r.top *= i, r.width *= i, r.height *= i), r.left += t.screenLeft || t.screenX || 0, r.top += t.screenTop || t.screenY || 0, r) : r
      }
      var r, s, a, l, c;
      i.r(t), i.d(t, "detachToPopup", function () {
        return n
      }), i.d(t, "screenBox", function () {
        return o
      }), r = i("lW/c"), s = i("6et/"), a = function (e, t) {
        var i, n, o, r, s, a, l = e.querySelectorAll('style, link[rel~="stylesheet"]'),
          c = t.createDocumentFragment();
        for (i = 0; i < l.length; i++) {
          for (n = l[i], o = t.createElement(n.tagName), r = 0; r < n.attributes.length; r++) s = n.attributes[r], o.setAttribute(s.nodeName, s.nodeValue || "");
          (a = n.textContent) && (o.textContent = a), c.appendChild(o)
        }
        return c
      }, l = function (e, t, n) {
        var o, r, a = !1;
        Object(s.listen)(t), o = null, Promise.resolve().then(i.bind(null, "EsvI")).then(function (e) {
          a || (o = e.watchedTheme.spawn()).subscribe(function (i) {
            e.applyTheme(i, t)
          }, {
            callWithLast: !0
          })
        }), r = function () {
          a = !0, e && e.removeEventListener("unload", r, !1), t && (t.removeEventListener("unload", r, !1), t.close()), n && n.free(), o && (o.destroy(), o = null)
        }, e.addEventListener("unload", r, !1), t.addEventListener("unload", r, !1)
      }, c = function (e) {
        var t, i, n, o, s, c, u, h, d;
        for (void 0 === e && (e = {}), t = "menubar=no,toolbar=no,location=no,personalbar=no,status=no", i = 0,
          n = ["top", "left", "width", "height"]; i < n.length; i++) o = n[i], s = Number(e[o]), isFinite(s) && s >= 0 && (t += "," + o + "=" + s);
        if (!(c = window.open("", e.name || "_blank", t)) || c.closed) return null;
        u = null;
        try {
          (u = c.document).close()
        } catch (e) {
          return null
        }
        return u.open(), u.write('<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=Edge" /></head><body></body></html>'), u.close(), null != e.title && (u.title = String(e.title)), e.useStylesFrom && (u.head.appendChild(a(e.useStylesFrom, u)), (h = u.createElement("style")).textContent = "html, body {min-width: 0 !important; max-width: none !important}", u.head.appendChild(h)), d = new r.Root(c), l(window, c, d), d
      }
    },
    "xz+e": function (e, t, i) {
      "use strict";

      function n(e, t) {
        var o = t || n.createProperties();
        h.call(this, e, o), this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("Ht/7").ElliottLabelsPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }

      function o(e, t) {
        n.call(this, e, t)
      }

      function r(e, t) {
        this._constructor = "LineToolElliottImpulse";
        var i = t || r.createProperties();
        o.call(this, e, i)
      }

      function s(e, t) {
        this._constructor = "LineToolElliottTriangle";
        var i = t || s.createProperties();
        o.call(this, e, i)
      }

      function a(e, t) {
        this._constructor = "LineToolElliottTripleCombo";
        var i = t || a.createProperties();
        o.call(this, e, i)
      }

      function l(e, t) {
        n.call(this, e, t)
      }

      function c(e, t) {
        this._constructor = "LineToolElliottCorrection";
        var i = t || c.createProperties();
        l.call(this, e, i)
      }

      function u(e, t) {
        this._constructor = "LineToolElliottLineToolElliottDoubleCombo";
        var i = t || u.createProperties();
        l.call(this, e, i)
      }
      var h = i("Ss5c").LineDataSource,
        d = i("7KDR").Action,
        p = i("Ocx9").DefaultProperty,
        f = i("hayr").propertyPages;
      inherit(n, h), n.version = 4, n.migrateState = function (e) {
          var t = {
              0: 11,
              1: 10,
              2: 9,
              3: 8,
              4: 7,
              5: 6,
              6: 5,
              7: 4,
              8: 3
            },
            i = {
              0: 11,
              1: 8
            };
          "LineToolElliottSubminuette" === e.type && (e.type = "LineToolElliottImpulse", e.state.degree = t[e.state.wavesize]), "LineToolElliottMinor" === e.type && (e.type = "LineToolElliottImpulse", e.state.degree = t[e.state.wavesize]), "LineToolElliottCircle" === e.type && (e.type = "LineToolElliottImpulse", e.state.degree = t[e.state.wavesize]), "LineToolElliottMinorRetr" === e.type && (e.type = "LineToolElliottCorrection", e.state.degree = i[e.state.wavesize]), "LineToolElliottMajorRetr" === e.type && (e.type = "LineToolElliottCorrection", e.state.degree = i[e.state.wavesize])
        }, n.prototype.migrateVersion = function (e, t, i) {
          if (i.properties.hasChild("background") && i.properties.removeProperty("background"), i.properties.hasChild("backgroundColor") && i.properties.removeProperty("backgroundColor"), i.properties.hasChild("showBackground") && i.properties.removeProperty("showBackground"), 1 === e) {
            var n = Object.assign({}, this._timePoint[0]);
            this._timePoint.unshift(n), this._points.length > 0 && (n = Object.assign({}, this._points[0]), this._points.unshift(n))
          }
        }, n.prototype.applyTemplate = function (e) {
          delete e.background, delete e.backgroundColor, delete e.showBackground, h.prototype.applyTemplate.call(this, e)
        }, n.prototype.title = function () {
          return "Elliott Labels"
        }, n.prototype.name = function () {
          return "Elliott Labels"
        },
        n.degrees = [window.t("Supermillennium"), window.t("Millennium"), window.t("Submillennium"), window.t("Grand Supercycle"), window.t("Supercycle"), window.t("Cycle"), window.t("Primary"), window.t("Intermediate"), window.t("Minor", {
          context: "wave"
        }), window.t("Minute"), window.t("Minuette"), window.t("Subminuette"), window.t("Micro"), window.t("Submicro"), window.t("Miniscule")], n.prototype.additionalActions = function (e) {
          var t = this,
            i = new d({
              label: window.t("Degree"),
              subItems: n.degrees.map(function (i, n) {
                return new d({
                  label: i,
                  checkable: !0,
                  checked: t.properties().degree.value() === n,
                  onExecute: function () {
                    e.setProperty(t.properties().degree, n, "Change Elliott Degree")
                  }
                })
              })
            });
          return [i]
        }, n.prototype.label = function (e) {
          var t = n.degrees.length - this.properties().degree.value() - 1,
            i = Math.floor(t / 3),
            o = t % 3,
            r = 4 * Math.floor(i),
            s = !!(i % 2),
            a = ["", "brackets", "circle"][o],
            l = this.labelsGroup(),
            c = l[i][e];
          return {
            fontIncrease: r,
            bold: s,
            decoration: a,
            label: c
          }
        }, n.prototype.getStylesPropertyPage = function () {
          return f.LineToolElliottStylesPropertyPage
        }, n.prototype.getDegrees = function () {
          return n.degrees
        }, n.createProperties = function (e) {
          var t = new p("linetoolelliott", e);
          return n._configureProperties(t), t
        }, n._configureProperties = function (e) {
          h._configureProperties(e)
        }, inherit(o, n), o.prototype.pointsCount = function () {
          return 6
        }, o._configureProperties = function (e) {
          n._configureProperties(e)
        }, inherit(r, o), r._labelsGroups = [
          ["0", "1", "2", "3", "4", "5"],
          ["0", "i", "ii", "iii", "iv", "v"],
          ["0", "1", "2", "3", "4", "5"],
          ["0", "I", "II", "III", "IV", "V"],
          ["0", "1", "2", "3", "4", "5"]
        ], r.prototype.labelsGroup = function () {
          return r._labelsGroups
        }, r.createProperties = function (e) {
          var t = new p("linetoolelliottimpulse", e);
          return r._configureProperties(t), t
        }, r._configureProperties = function (e) {
          o._configureProperties(e)
        }, inherit(s, o), s._labelsGroups = [
          ["0", "A", "B", "C", "D", "E"],
          ["0", "a", "b", "c", "d", "e"],
          ["0", "A", "B", "C", "D", "E"],
          ["0", "a", "b", "c", "d", "e"],
          ["0", "A", "B", "C", "D", "E"]
        ], s.prototype.labelsGroup = function () {
          return s._labelsGroups
        }, s.createProperties = function (e) {
          var t = new p("linetoolelliotttriangle", e);
          return s._configureProperties(t), t
        }, s._configureProperties = function (e) {
          o._configureProperties(e)
        }, inherit(a, o), a._labelsGroups = [
          ["0", "W", "X", "Y", "X", "Z"],
          ["0", "w", "x", "y", "x", "z"],
          ["0", "W", "X", "Y", "X", "Z"],
          ["0", "w", "x", "y", "x", "z"],
          ["0", "W", "X", "Y", "X", "Z"]
        ], a.prototype.labelsGroup = function () {
          return a._labelsGroups
        }, a.createProperties = function (e) {
          var t = new p("linetoolelliotttriplecombo", e);
          return a._configureProperties(t), t
        }, a._configureProperties = function (e) {
          o._configureProperties(e)
        }, inherit(l, n), l.prototype.pointsCount = function () {
          return 4
        }, l._configureProperties = function (e) {
          n._configureProperties(e)
        }, inherit(c, l), c._labelsGroups = [
          ["0", "A", "B", "C"],
          ["0", "a", "b", "c"],
          ["0", "A", "B", "C"],
          ["0", "a", "b", "c"],
          ["0", "A", "B", "C"]
        ], c.prototype.labelsGroup = function () {
          return c._labelsGroups
        }, c.createProperties = function (e) {
          var t = new p("linetoolelliottcorrection", e);
          return c._configureProperties(t), t
        }, c._configureProperties = function (e) {
          l._configureProperties(e)
        }, inherit(u, l),
        u._labelsGroups = [
          ["0", "W", "X", "Y"],
          ["0", "w", "x", "y"],
          ["0", "W", "X", "Y"],
          ["0", "w", "x", "y"],
          ["0", "W", "X", "Y"]
        ], u.prototype.labelsGroup = function () {
          return u._labelsGroups
        }, u.createProperties = function (e) {
          var t = new p("linetoolelliottdoublecombo", e);
          return u._configureProperties(t), t
        }, u._configureProperties = function (e) {
          l._configureProperties(e)
        }, t.LineToolElliott = n, t.LineToolElliottImpulse = r, t.LineToolElliottTriangle = s, t.LineToolElliottTripleCombo = a, t.LineToolElliottCorrection = c, t.LineToolElliottDoubleCombo = u
    },
    y023: function (e, t, i) {
      "use strict";

      function n() {
        return new Promise(function (e) {
          Promise.all([i.e("vendors"), i.e("dialogs-core"), i.e(0), i.e(1), i.e(2), i.e(4), i.e(5), i.e(3), i.e("idc-agreement-dialogs")]).then(function (t) {
            e(i("9LlG"))
          }.bind(null, i)).catch(void 0)
        })
      }

      function o() {
        n().then(function (e) {
          return e.createIdcAgreementDialog().open()
        })
      }

      function r(e) {
        return n().then(function (t) {
          return t.createIdcAgreementDelayDialog(e)
        })
      }

      function s() {
        return n().then(function (e) {
          return e.createIdcDelayAddServiceDialog()
        })
      }
      i.r(t), i.d(t, "showIdcAgreementDialog", function () {
        return o
      }), i.d(t, "createIdcDelayAgreementDialog", function () {
        return r
      }), i.d(t, "createIdcDelayAddServiceDialog", function () {
        return s
      })
    },
    y8Ih: function (e, t, i) {
      "use strict";

      function n(e) {
        return !!e && (!(void 0 === e.symbolname || !Object(o.isSfFlag)(e.symbolname)) || Boolean("permission_denied" === e.status && e.values && void 0 !== e.values.alternative && Object(o.isSfFlag)(e.values.alternative)))
      }
      i.r(t), i.d(t, "isSfQuoteData", function () {
        return n
      });
      var o = i("hfc+")
    },
    yENF: function (e, t, i) {
      "use strict";

      function n(e) {
        o.call(this, e)
      }
      var o = i("c0/O").PaneRendererAbstractShape;
      inherit(n, o), n.prototype.drawShape = function (e) {
        var t, i, n, o, r, s, a, l, c, u, h;
        for (e.lineWidth = 2, t = this.width, i = this.height, n = this._vertOffset, r = !1, s = 0, a = this.items.length; s < a; s++)(c = (l = this.items[s]).style && null != l.style.color ? l.style.color : this._color) !== o && (o = c, r && e.stroke(), e.beginPath(), e.strokeStyle = c), u = l.x - t / 2, h = l.y - i / 2 + n, e.moveTo(u + t / 2, h), e.lineTo(u + t / 2, h + i), e.moveTo(u, h + i / 2), e.lineTo(u + t, h + i / 2), r = !0;
        r && e.stroke()
      }, t.PaneRendererCrossShape = TradingView.PaneRendererCrossShape = n
    },
    yMne: function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "HEADER_TOOLBAR_HEIGHT_EXPANDED", function () {
        return o
      }), i.d(t, "HEADER_TOOLBAR_HEIGHT_COLLAPSED", function () {
        return r
      }), n = i("J2xC"), o = parseInt(n["css-value-header-toolbar-height"]), r = 3
    },
    yUly: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolTrendBasedFibTime";
        var r = t || n.createProperties();
        o.call(this, e, r), this.version = n.version, Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("SvjA").TrendBasedFibTimePaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("5rJj"),
        s = i("hayr").propertyPages;
      inherit(n, o), n.version = 1, n.prototype.pointsCount = function () {
        return 3
      }, n.prototype.title = function () {
        return "Trend-Based Fib Time"
      }, n.prototype.name = function () {
        return "Trend-Based Fib Time"
      }, n.prototype.migrateVersion = function (e, t, i) {}, n.prototype.processErase = function (e, t) {
        var i = "level" + t,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolTrendBasedFibTimeStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetooltrendbasedfibtime", e, !1, {
          range: [1, 11]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolTrendBasedFibTime = n
    },
    yfAl: function (e, t, i) {
      "use strict";
      i.r(t), i.d(t, "PaneBase", function () {
        return n
      });
      var n = function () {
        return function () {}
      }()
    },
    yi8X: function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "LineToolInfoLine", function () {
        return a
      }), n = i("mrSG"), o = i("Ocx9"), r = i("WPQD"), s = i("hayr"), (a = function (e) {
        function t(i, n) {
          var o = e.call(this, i, n || t.createProperties()) || this;
          return o._constructor = "LineToolInfoLine", o
        }
        return n.__extends(t, e), t.prototype.pointsCount = function () {
          return 2
        }, t.prototype.title = function () {
          return "Info Line"
        }, t.prototype.name = function () {
          return "Info Line"
        }, t.prototype.getStylesPropertyPage = function () {
          return s.propertyPages.LineToolInfoLineStylesPropertyPage
        }, t.createProperties = function (e) {
          var i = new o.DefaultProperty("linetoolinfoline", e);
          return t._configureProperties(i), i
        }, t._configureProperties = function (e) {
          r.LineToolTrendLine._configureProperties(e)
        }, t
      }(r.LineToolTrendLine)).prototype.superclass = r.LineToolTrendLine
    },
    yzIY: function (e, t, i) {
      "use strict";
      var n, o, r, s, a, l, c, u, h, d;
      i.d(t, "a", function () {
        return d
      }), n = i("Eyy1"), o = i("hY0g"), r = i.n(o), s = i("aIyQ"), a = i.n(s), l = i("0waE"), c = i("uOxu"), u = Object(c.getLogger)("ChartApi.AbstractSession"), h = "", d = function () {
        function e(e, t, i) {
          this._isConnected = new r.a(!1), this._state = 0, this._isConnectForbidden = !1, this._sessionId = h, this._sessionIdChanged = new a.a, this._chartApi = e, this._sessionPrefix = t, this._shouldReconnectAfterCriticalError = i
        }
        return e.prototype.destroy = function () {
          this._logNormal("Destroying session"), this._isConnected.unsubscribe(), this.disconnect(), this._sessionIdChanged.destroy(), delete this._chartApi, this._logNormal("Session has been destroyed")
        }, e.prototype.isConnected = function () {
          return this._isConnected
        }, e.prototype.sessionId = function () {
          return this._sessionId
        }, e.prototype.onSessionIdChanged = function () {
          return this._sessionIdChanged
        }, e.prototype.connect = function () {
          0 === this._state && (Object(n.assert)(!this._isConnectForbidden, "Cannot call connect because it is forbidden at this moment"), this._setSessionId(this._sessionPrefix + "_" + Object(l.randomHash)()), this._logNormal("Connecting session - wait until transport stay connected"), this._state = 1, this._chartApi.createSession(this._sessionId, this))
        }, e.prototype.disconnect = function () {
          var e = this;
          0 !== this._state && (Object(n.assert)(this._sessionId !== h, "sessionId must not be invalid"), this._logNormal("Disconnecting session..."), this._forbidConnectWhile(function () {
            e._chartApi.connected() && e._sendRemoveSession(), e._processDestroyingOnServer()
          }))
        }, e.prototype.onMessage = function (e) {
          var t, i;
          switch (e.method) {
            case "connected":
              return void this._onChartApiConnected();
            case "disconnected":
              return void this._onChartApiDisconnected();
            case "critical_error":
              return t = String(e.params[0]), i = String(e.params[1]), void this._onCriticalError(t, i)
          }
          this._onMessage(e)
        }, e.prototype._getChartApi = function () {
          return this._chartApi
        }, e.prototype._generateLogMessage = function (e) {
          return "[" + this._sessionId + "] " + e
        }, e.prototype._onCriticalError = function (e, t) {
          var i = this;
          this._logError("Critical error. Reason=" + e + ", info=" + t + "."), this._forbidConnectWhile(function () {
            i._processDestroyingOnServer()
          }), this._shouldReconnectAfterCriticalError ? (this._logNormal("Reconnecting after critical error..."), this.connect()) : this._logNormal("Reconnecting after critical error skipped")
        }, e.prototype._onChartApiConnected = function () {
          Object(n.assert)(1 === this._state, "Session is not registered"), this._logNormal("Transport is connected. Creating session on the server"), this._sendCreateSession(), this._state = 2, this._isConnected.setValue(!0)
        }, e.prototype._onChartApiDisconnected = function () {
          var e = this;
          this._logNormal("Transport is disconnected. Reconnecting..."), this._forbidConnectWhile(function () {
            e._processDestroyingOnServer()
          }), this.connect()
        }, e.prototype._setSessionId = function (e) {
          var t = this._sessionId;
          this._logNormal("Changing sessionId: old=" + t + ", new=" + e), this._sessionId = e, this._sessionIdChanged.fire(e, t)
        }, e.prototype._logNormal = function (e) {
          u.logNormal(this._generateLogMessage(e))
        }, e.prototype._logError = function (e) {
          u.logError(this._generateLogMessage(e))
        }, e.prototype._processDestroyingOnServer = function () {
          this._state = 0, this._isConnected.setValue(!1), this._chartApi.removeSession(this._sessionId), this._setSessionId(h)
        }, e.prototype._forbidConnectWhile = function (e) {
          this._isConnectForbidden = !0, e(), this._isConnectForbidden = !1
        }, e
      }()
    },
    "z+Sa": function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "SeriesHorizontalBaseLinePaneView", function () {
        return s
      }), n = i("mrSG"), o = i("aO4+"), r = i("k4w6"), s = function (e) {
        function t(t) {
          return e.call(this, t) || this
        }
        return n.__extends(t, e), t.prototype._updateImpl = function () {
          var e, t;
          this._lineRendererData.visible = !1, ((e = this._series.priceScale().mode()).percentage || e.indexedTo100) && null !== (t = this._series.firstValue()) && (this._lineRendererData.visible = !0, this._lineRendererData.points = [new o.Point(0, this._series.priceScale().priceToCoordinate(t, t))], this._lineRendererData.width = this._model.timeScale().width(), this._lineRendererData.height = this._series.priceScale().height(), this._lineRendererData.color = this._series.properties().baseLineColor.value())
        }, t
      }(r.a)
    },
    "z+cS": function (e, t, i) {
      "use strict";
      var n, o, r;
      i.r(t), i.d(t, "VerticalLineRenderer", function () {
        return r
      }), n = i("VdBB"), o = i("jFln"), r = function () {
        function e() {
          this._data = null, this._hitTest = null
        }
        return e.prototype.setData = function (e) {
          this._data = e
        }, e.prototype.setHitTest = function (e) {
          this._hitTest = e
        }, e.prototype.draw = function (e) {
          if (null !== this._data && 0 !== this._data.points.length && !(this._data.linewidth <= 0)) {
            var t = this._data.points[0].x;
            t < 0 || t > this._data.width || (e.translate(1, 0), e.lineCap = "square", e.strokeStyle = this._data.color, e.lineWidth = this._data.linewidth, void 0 !== this._data.linestyle && Object(o.setLineStyle)(e, this._data.linestyle),
              Object(o.drawLine)(e, t, 0, t, this._data.height))
          }
        }, e.prototype.hitTest = function (e) {
          if (null === this._data || 0 === this._data.points.length) return null;
          var t = this._hitTest || new n.HitTestResult(n.HitTestResult.MOVEPOINT);
          return Math.abs(e.x - this._data.points[0].x) <= 3 ? t : null
        }, e
      }()
    },
    z3gQ: function (e, t, i) {
      "use strict";

      function n() {
        return new Promise(function (e) {
          i.e("disconnect-messages").then(function (t) {
            e(i("Mho2"))
          }.bind(null, i)).catch(void 0)
        })
      }

      function o(e) {
        n().then(function (t) {
          return t.showDisconnectedMessage(e)
        })
      }

      function r(e) {
        n().then(function (t) {
          return t.showCriticalErrorMessage(e)
        })
      }
      i.r(t), i.d(t, "showDisconnectedMessage", function () {
        return o
      }), i.d(t, "showCriticalErrorMessage", function () {
        return r
      })
    },
    "z8/4": function (e, t, i) {
      "use strict";
      var n, o, r, s, a;
      i.r(t), i.d(t, "OverlayLegendView", function () {
        return a
      }), n = i("mrSG"), o = i("JjUe"), r = i("n5al"), s = i("oxKA"), a = function (e) {
        function t(t, i) {
          var n = e.call(this, t, i) || this;
          return n._additional = null, n._showBarChange = i.properties().paneProperties.legendProperties.showBarChange, n._showSeriesOHLC = i.properties().paneProperties.legendProperties.showSeriesOHLC, n._seriesStyle = t.properties().style, n._studyOverlay = t, n._showBarChange.subscribe(n, n.update), n._showSeriesOHLC.subscribe(n, n.update), n
        }
        return n.__extends(t, e), t.prototype.isValuesVisible = function () {
          return this._showSeriesOHLC.value() || this._showBarChange.value()
        }, t.prototype.additional = function () {
          return this._invalidated && (this._updateImpl(), this._invalidated = !1), this._additional
        }, t.prototype.destroy = function () {
          this._showBarChange.unsubscribeAll(this), this._showSeriesOHLC.unsubscribeAll(this)
        }, t.prototype._updateImpl = function () {
          var t, i, n, o, a;
          e.prototype._updateImpl.call(this), this._showLastPriceAndChangeOnly() || (t = Object(r.isPriceSourceStyle)(this._seriesStyle.value()), n = (i = this._showSeriesOHLC.value()) && !t, o = i && t, this._items[0].setVisible(n), this._items[1].setVisible(n), this._items[2].setVisible(n), this._items[3].setVisible(n), this._items[6].setVisible(this._showBarChange.value()), this._items[4].setVisible(o)), a = Object(s.getDataVendorString)(this._studyOverlay.symbolInfo()), this._additional = a ? window.t("Data Provided by") + " " + a : null
        }, t
      }(o.OverlayDataWindowView)
    },
    zDbI: function (e, t, i) {
      "use strict";
      var n, o, r, s;
      i.r(t), i.d(t, "CHART_FONT_FAMILY", function () {
        return s
      }), n = i("qFKp"), o = "'Trebuchet MS', Roboto, Ubuntu, sans-serif", r = "system-ui, -apple-system", s = Object(n.isOnMobileAppPage)("old") ? r : o
    },
    zLss: function (e, t, i) {
      e.exports = {
        "top-left-button-height": "38px",
        "top-left-button-width": "52px"
      }
    },
    zM7N: function (e, t, i) {
      "use strict";

      function n() {
        var e;
        return (e = {})[d.Light] = JSON.parse(JSON.stringify(c)), e[d.Dark] = JSON.parse(JSON.stringify(u)), e
      }

      function o() {
        return [d.Light, d.Dark]
      }

      function r(e) {
        return n()[e]
      }

      function s(e) {
        return p[e] || e
      }

      function a(e) {
        var t = n();
        return o().some(function (i) {
          return n = t[i], o = e, r = n.content === o.content,
            function (e, t) {
              void 0 === e && (e = {});
              try {
                ! function e(t, i, n) {
                  var o, r;
                  for (o in t)
                    if (t.hasOwnProperty(o))
                      if (r = i.concat(o), "object" == typeof t[o]) e(t[o], r, n);
                      else if (n(r, t[o])) throw new Error("exit")
                }(e, [], t)
              } catch (e) {
                return
              }
            }(n.content, function (e, t) {
              var i = function (e, t) {
                void 0 === t && (t = {});
                for (var i = t, n = 0; n < e.length; n++) {
                  if (!i || "object" != typeof i) return;
                  i = i[e[n]]
                }
                if ("string" == typeof i || "number" == typeof i) return i
              }(e, o.content);
              return !(r = function (e, t) {
                if ("string" == typeof e && "string" == typeof t) try {
                  return Object(l.areEqualRgb)(Object(l.parseRgb)(e), Object(l.parseRgb)(t))
                } catch (i) {
                  return e === t
                }
                return e === t
              }(t, i))
            }), r;
          var n, o, r
        })
      }
      var l, c, u, h, d, p;
      i.d(t, "a", function () {
          return d
        }), i.d(t, "c", function () {
          return o
        }), i.d(t, "b", function () {
          return r
        }), i.d(t, "e", function () {
          return s
        }), i.d(t, "d", function () {
          return a
        }), i("YFKU"), l = i("eJTA"), c = i("/McG"), u = i("8pII"),
        function (e) {
          e.Light = "light", e.Dark = "dark"
        }(d || (d = {})), (h = {})[d.Light] = window.t("Light", {
          context: "colorThemeName"
        }), h[d.Dark] = window.t("Dark", {
          context: "colorThemeName"
        }), h.Black = window.t("Black", {
          context: "colorThemeName"
        }), h.Blue = window.t("Blue", {
          context: "colorThemeName"
        }), h.Grey = window.t("Grey", {
          context: "colorThemeName"
        }), h.White = window.t("White", {
          context: "colorThemeName"
        }), p = h
    },
    zRdu: function (e, t, i) {
      "use strict";
      var n;
      i.d(t, "a", function () {
          return n
        }),
        function (e) {
          e[e.Separator = 0] = "Separator", e[e.Action = 1] = "Action", e[e.ActionAsync = 2] = "ActionAsync"
        }(n || (n = {}))
    },
    zXvd: function (e, t, i) {
      "use strict";
      var n, o;
      i.r(t), i.d(t, "NumericFormatter", function () {
        return o
      }), n = i("kcTO"), o = function () {
        function e(e) {
          this._precision = e
        }
        return e.prototype.format = function (t) {
          return (void 0 !== this._precision ? t.toFixed(this._precision) : e.formatNoE(t)).replace(".", n.formatterOptions.decimalSign)
        }, e.prototype.parse = function (e) {
          var t = e.replace(n.formatterOptions.decimalSign, "."),
            i = parseFloat(t);
          return this._precision && (i = +i.toFixed(this._precision)), i
        }, e.formatNoE = function (e) {
          return e >= 1e-15 && e < 1 ? e.toFixed(15).replace(/\.?0+$/, "") : String(e)
        }, e
      }()
    },
    zZ5f: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolFibSpeedResistanceFan";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("xp9B").FibSpeedResistanceFanPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("5rJj"),
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 2
      }, n.prototype.title = function () {
        return "Fib Speed Resistance Fan"
      }, n.prototype.name = function () {
        return "Fib Speed Resistance Fan"
      }, n.prototype.processErase = function (e, t) {
        var i = "h" === t.type ? "hlevel" + t.index : "vlevel" + t.index,
          n = this.properties()[i].visible;
        e.setProperty(n, !1, "Erase level line")
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolFibSpeedResistanceFanStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolfibspeedresistancefan", e, !1, {
          range: [1, 7],
          prefixes: ["h", "v"],
          names: ["coeff", "color", "visible"]
        });
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolFibSpeedResistanceFan = n
    },
    zgLM: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 16" width="27" height="16"><rect width="100%" height="100%" fill="currentColor" rx="8"/><path xmlns="http://www.w3.org/2000/svg" fill="#FFF" d="M11.398 12l-.575-1.595H8.127L7.579 12H6.027l3.137-7.976h.612L12.939 12h-1.541zM9.47 6.43l-.946 2.906h1.891L9.47 6.43zM15.518 12h-1.746V4.137c1.114-.04 1.814-.06 2.1-.06 1.146 0 2.055.336 2.726 1.008.671.671 1.007 1.562 1.007 2.672 0 2.829-1.362 4.243-4.087 4.243zm-.35-6.644v5.371c.226.022.47.032.73.032.706 0 1.259-.256 1.658-.768.4-.512.599-1.228.599-2.148 0-1.683-.783-2.525-2.347-2.525-.15 0-.364.013-.64.038z"/></svg>'
    },
    zi59: function (e, t) {
      e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33 16" width="33" height="16"><rect width="100%" height="100%" fill="currentColor" rx="8"/><path xmlns="http://www.w3.org/2000/svg" fill="#FFF" d="M8.202 9.105V12H6.806V4.137c.93-.04 1.475-.06 1.632-.06 1.243 0 2.152.191 2.726.573.575.381.862.976.862 1.786 0 1.804-1.063 2.707-3.19 2.707-.158 0-.369-.013-.634-.038zm0-3.76v2.52c.236.024.423.037.559.037.637 0 1.103-.107 1.396-.32.294-.213.44-.56.44-1.039 0-.816-.656-1.225-1.97-1.225-.147 0-.289.01-.425.027zM17.698 12l-2.1-3.25a23.892 23.892 0 0 1-.886-.037V12h-1.45V4.131c.078 0 .381-.013.907-.04.527-.027.951-.04 1.273-.04 1.998 0 2.997.773 2.997 2.32 0 .466-.137.89-.413 1.273a2.234 2.234 0 0 1-1.042.811L19.31 12h-1.612zm-2.986-6.655v2.186c.258.022.455.032.59.032.584 0 1.011-.082 1.282-.247.27-.164.405-.485.405-.961 0-.387-.145-.657-.435-.811-.29-.154-.746-.231-1.37-.231-.15 0-.307.01-.472.032zM19.605 8c0-1.121.307-2.07.921-2.844.614-.776 1.435-1.163 2.463-1.163 1.131 0 1.996.35 2.594 1.052.598.702.897 1.687.897 2.955 0 1.267-.312 2.273-.937 3.018-.625.745-1.512 1.117-2.662 1.117-1.056 0-1.866-.369-2.43-1.106-.564-.738-.846-1.748-.846-3.03zm1.45 0c0 .92.156 1.632.467 2.137.312.505.765.758 1.36.758.698 0 1.23-.248 1.597-.742s.55-1.212.55-2.153c0-1.845-.68-2.767-2.04-2.767-.623 0-1.101.25-1.434.75-.333.5-.5 1.171-.5 2.017z"/></svg>'
    },
    ziJ5: function (e, t, i) {
      "use strict";
      (function (e) {
        function n(e) {
          this._line = e, this._data = {
            bodyText: "position",
            quantityText: "0"
          }, this._closeEnabled = !0
        }

        function o(e, t) {
          var s, a, l, c, h, d;
          this._adapter = new n(this), this._constructor = "LineToolPosition", s = t || o.createProperties(), r.call(this, e, s), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
            var t = i("GzSs").PositionPaneView;
            this._setPaneViews([new t(this, this._model)])
          }.bind(this).bind(null, i)).catch(i.oe), l = null !== (a = e.mainSeries().symbolInfo()) ? a.pricescale : 100, c = null !== a && a.fractional ? a.minmov : 1, h = null !== a && a.fractional, d = null !== a ? a.minmove2 : void 0, this._formatter = new u(l, c, h, d)
        }
        var r = i("QIuV"),
          s = i("Ss5c").LineDataSource,
          a = i("RTYN").PositionAveragePriceAxisView,
          l = i("jkoZ"),
          c = i("Ocx9").DefaultProperty,
          u = i("kcTO").PriceFormatter;
        n.prototype.getPrice = function () {
            return this._line.points().length > 0 ? this._line.points()[0].price : this._line._timePoint.length > 0 ? this._line._timePoint[0].price : void 0
          }, n.prototype.setPrice = function (e) {
            if (this._line.points().length > 0) {
              var t = this._line.points()[0];
              t.price = e, this._line._points[0] = t, this._line.normalizePoints(), this._line.updateAllViewsAndRedraw()
            }
            return this._line._timePoint.length > 0 && (this._line._timePoint[0].price = e), this
          }, n.prototype.getText = function () {
            return this._data.bodyText
          }, n.prototype.setText = function (e) {
            return this._data.bodyText = e || "", this._line.updateAllViewsAndRedraw(), this
          }, n.prototype.setTooltip = function (e) {
            return null == e ? e = "" : e += "", this._line.properties().tooltip.setValue(e), this
          }, n.prototype.getTooltip = function () {
            return this._line.properties().tooltip.value()
          }, n.prototype.getQuantity = function () {
            return this._data.quantityText
          }, n.prototype.setQuantity = function (e) {
            return this._data.quantityText = e || "", this._line.updateAllViewsAndRedraw(), this
          }, n.prototype.getExtendLeft = function () {
            var e = this._line.properties().extendLeft.value();
            return "inherit" === e ? this._line._model.properties().tradingProperties.extendLeft.value() : e
          }, n.prototype.setExtendLeft = function (e) {
            return this._line.properties().extendLeft.setValue(e), this
          }, n.prototype.getLineLength = function () {
            var e = this._line.properties().lineLength.value();
            return "inherit" === e ? this._line._model.properties().tradingProperties.lineLength.value() : e
          }, n.prototype.setLineLength = function (e) {
            return this._line.properties().lineLength.setValue(Math.max(0, Math.min(e, 100))), this
          }, n.prototype.getLineColor = function () {
            return l.getColorFromProperties(this._line.properties().lineColor, this._line.properties().lineTransparency)
          }, n.prototype.setLineColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().lineColor, this._line.properties().lineTransparency), this
          }, n.prototype.getLineStyle = function () {
            var e = this._line.properties().lineStyle.value();
            return "inherit" === e ? this._line._model.properties().tradingProperties.lineStyle.value() : e
          }, n.prototype.setLineStyle = function (e) {
            return this._line.properties().lineStyle.setValue(e), this
          }, n.prototype.getLineWidth = function () {
            var e = this._line.properties().lineWidth.value();
            return "inherit" === e ? this._line._model.properties().tradingProperties.lineWidth.value() : e
          }, n.prototype.setLineWidth = function (e) {
            return this._line.properties().lineWidth.setValue(e), this
          }, n.prototype.getBodyBorderColor = function () {
            return l.getColorFromProperties(this._line.properties().bodyBorderColor, this._line.properties().bodyBorderTransparency)
          }, n.prototype.setBodyBorderColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().bodyBorderColor, this._line.properties().bodyBorderTransparency), this
          }, n.prototype.getBodyBackgroundColor = function () {
            return l.getColorFromProperties(this._line.properties().bodyBackgroundColor, this._line.properties().bodyBackgroundTransparency)
          }, n.prototype.setBodyBackgroundColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().bodyBackgroundColor, this._line.properties().bodyBackgroundTransparency), this
          }, n.prototype.getBodyTextColor = function () {
            return l.getColorFromProperties(this._line.properties().bodyTextColor, this._line.properties().bodyTextTransparency)
          }, n.prototype.setBodyTextColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().bodyTextColor, this._line.properties().bodyTextTransparency), this
          }, n.prototype.getBodyFont = function () {
            return l.getFontFromProperties(this._line.properties().bodyFontFamily, this._line.properties().bodyFontSize, this._line.properties().bodyFontBold, this._line.properties().bodyFontItalic)
          }, n.prototype.setBodyFont = function (e) {
            return l.setFontToProperties(e, this._line.properties().bodyFontFamily, this._line.properties().bodyFontSize, this._line.properties().bodyFontBold, this._line.properties().bodyFontItalic), this
          }, n.prototype.getQuantityBorderColor = function () {
            return l.getColorFromProperties(this._line.properties().quantityBorderColor, this._line.properties().quantityBorderTransparency)
          }, n.prototype.setQuantityBorderColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().quantityBorderColor, this._line.properties().quantityBorderTransparency), this
          }, n.prototype.getQuantityBackgroundColor = function () {
            return l.getColorFromProperties(this._line.properties().quantityBackgroundColor, this._line.properties().quantityBackgroundTransparency)
          }, n.prototype.setQuantityBackgroundColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().quantityBackgroundColor, this._line.properties().quantityBackgroundTransparency), this
          }, n.prototype.getQuantityTextColor = function () {
            return l.getColorFromProperties(this._line.properties().quantityTextColor, this._line.properties().quantityTextTransparency)
          }, n.prototype.setQuantityTextColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().quantityTextColor, this._line.properties().quantityTextTransparency), this
          }, n.prototype.getQuantityFont = function () {
            return l.getFontFromProperties(this._line.properties().quantityFontFamily, this._line.properties().quantityFontSize, this._line.properties().quantityFontBold, this._line.properties().quantityFontItalic)
          }, n.prototype.setQuantityFont = function (e) {
            return l.setFontToProperties(e, this._line.properties().quantityFontFamily, this._line.properties().quantityFontSize, this._line.properties().quantityFontBold, this._line.properties().quantityFontItalic), this
          }, n.prototype.getReverseButtonBorderColor = function () {
            return l.getColorFromProperties(this._line.properties().reverseButtonBorderColor, this._line.properties().reverseButtonBorderTransparency)
          }, n.prototype.setReverseButtonBorderColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().reverseButtonBorderColor, this._line.properties().reverseButtonBorderTransparency), this
          }, n.prototype.getReverseButtonBackgroundColor = function () {
            return l.getColorFromProperties(this._line.properties().reverseButtonBackgroundColor, this._line.properties().reverseButtonBackgroundTransparency)
          }, n.prototype.setReverseButtonBackgroundColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().reverseButtonBackgroundColor, this._line.properties().reverseButtonBackgroundTransparency), this
          }, n.prototype.getReverseButtonIconColor = function () {
            return l.getColorFromProperties(this._line.properties().reverseButtonIconColor, this._line.properties().reverseButtonIconTransparency)
          }, n.prototype.setReverseButtonIconColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().reverseButtonIconColor, this._line.properties().reverseButtonIconTransparency), this
          }, n.prototype.getCloseButtonBorderColor = function () {
            return l.getColorFromProperties(this._line.properties().closeButtonBorderColor, this._line.properties().closeButtonBorderTransparency)
          }, n.prototype.setCloseButtonBorderColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().closeButtonBorderColor, this._line.properties().closeButtonBorderTransparency), this
          }, n.prototype.getCloseButtonBackgroundColor = function () {
            return l.getColorFromProperties(this._line.properties().closeButtonBackgroundColor, this._line.properties().closeButtonBackgroundTransparency)
          }, n.prototype.setCloseButtonBackgroundColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().closeButtonBackgroundColor, this._line.properties().closeButtonBackgroundTransparency), this
          }, n.prototype.getCloseButtonIconColor = function () {
            return l.getColorFromProperties(this._line.properties().closeButtonIconColor, this._line.properties().closeButtonIconTransparency)
          }, n.prototype.setCloseButtonIconColor = function (e) {
            return l.setColorToProperties(e, this._line.properties().closeButtonIconColor, this._line.properties().closeButtonIconTransparency), this
          }, n.prototype.block = function () {
            this._blocked = !0, this._line.updateAllViewsAndRedraw()
          }, n.prototype.unblock = function () {
            this._blocked = !1, this._line.updateAllViewsAndRedraw()
          }, n.prototype.isFunction = function (e) {
            return "function" == typeof e
          }, n.prototype.onReverse = function (e, t) {
            return t ? this.isFunction(t) && (this._onReverseData = e, this._onReverseCallback = t) : this.isFunction(e) && (this._onReverseCallback = e), this
          }, n.prototype.callOnReverse = function () {
            this.isFunction(this._onReverseCallback) && this._onReverseCallback.call(this, this._onReverseData)
          }, n.prototype.isOnReverseCallbackPresent = function () {
            return this.isFunction(this._onReverseCallback)
          }, n.prototype.onClose = function (e, t) {
            return t ? this.isFunction(t) && (this._onCloseData = e, this._onCloseCallback = t) : this.isFunction(e) && (this._onCloseCallback = e), this
          }, n.prototype.setCloseEnabled = function (e) {
            return this._closeEnabled === e ? this : (this._closeEnabled = e, this._onCloseCallback && this._line.updateAllViewsAndRedraw(), this)
          }, n.prototype.isCloseEnabled = function () {
            return this._closeEnabled
          }, n.prototype.callOnClose = function () {
            this.isFunction(this._onCloseCallback) && this._closeEnabled && this._onCloseCallback.call(this, this._onCloseData)
          }, n.prototype.isOnCloseCallbackPresent = function () {
            return this._closeEnabled && this.isFunction(this._onCloseCallback)
          }, n.prototype.onModify = function (e, t) {
            return t ? this.isFunction(t) && (this._onModifyData = e, this._onModifyCallback = t) : this.isFunction(e) && (this._onModifyCallback = e), this
          }, n.prototype.callOnModify = function () {
            this.isFunction(this._onModifyCallback) && this._onModifyCallback.call(this, this._onModifyData)
          },
          n.prototype.onContextMenu = function (e, t) {
            return t ? this.isFunction(t) && (this._onContextMenuData = e, this._onContextMenuCallback = t) : this.isFunction(e) && (this._onContextMenuCallback = e), this
          }, n.prototype.callOnContextMenu = function () {
            if (this.isFunction(this._onContextMenuCallback)) return this._onContextMenuCallback.call(this, this._onContextMenuData)
          }, n.prototype.remove = function () {
            this._line._model.removeSource(this._line), delete this._line
          }, inherit(o, r), o.prototype.setPoint = function (e, t, i) {
            this._points[e] = t, this.normalizePoints()
          }, o.prototype.addPoint = function (e, t) {
            return this._points.push(e), this._lastPoint = null, this.normalizePoints(), this.createServerPoints(), !0
          }, o.prototype.title = function () {
            return "Position"
          }, o.prototype.name = function () {
            return "Position"
          }, o.prototype.createPriceAxisView = function (e) {
            return this._priceAxisView = new a(this, {
              pointIndex: e,
              backgroundProperty: this.properties().lineColor
            }), this._priceAxisView
          }, o.prototype.paneViews = function () {
            return TradingView.printing && !e.enabled("snapshot_trading_drawings") ? null : this._model.properties().tradingProperties.showPositions.value() ? s.prototype.paneViews.call(this) : null
          }, o.prototype.priceAxisViews = function (t, i) {
            return TradingView.printing && !e.enabled("snapshot_trading_drawings") ? null : this._model.properties().tradingProperties.showPositions.value() ? s.prototype.priceAxisViews.call(this, t, i) : null
          }, o.prototype.hasContextMenu = function () {
            return !0
          }, o.prototype.contextMenuItems = function () {
            return this._adapter.callOnContextMenu()
          }, o.prototype.formatter = function () {
            return this._formatter
          }, o.createProperties = function (e) {
            var t = new c("linetoolposition", e);
            return o._configureProperties(t), t
          }, o._configureProperties = function (e) {
            r._configureProperties(e)
          }, t.LineToolPosition = o
      }).call(this, i("Kxc7"))
    },
    zmwC: function (e, t, i) {
      "use strict";
      i("LZ3H")
    },
    zqZp: function (e, t, i) {
      "use strict";

      function n(e, t) {
        this._constructor = "LineToolPriceLabel";
        var r = t || n.createProperties();
        o.call(this, e, r), Promise.all([i.e(73), i.e(165), i.e("lt-pane-views")]).then(function (e) {
          var t = i("Ni7V").PriceLabelPaneView;
          this._setPaneViews([new t(this, this._model)])
        }.bind(this).bind(null, i)).catch(i.oe)
      }
      var o = i("Ss5c").LineDataSource,
        r = i("Ocx9").DefaultProperty,
        s = i("hayr").propertyPages;
      inherit(n, o), n.prototype.pointsCount = function () {
        return 1
      }, n.prototype.title = function () {
        return "Price Label"
      }, n.prototype.name = function () {
        return "Price Label"
      }, n.prototype.getStylesPropertyPage = function () {
        return s.LineToolPriceLabelStylesPropertyPage
      }, n.createProperties = function (e) {
        var t = new r("linetoolpricelabel", e);
        return n._configureProperties(t), t
      }, n._configureProperties = function (e) {
        o._configureProperties(e)
      }, t.LineToolPriceLabel = n
    }
  },
  [
    ["KCAb", "runtime", "vendors"]
  ]
]);